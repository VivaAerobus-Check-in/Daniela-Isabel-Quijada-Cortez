function asyncGeneratorStep(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(i,r)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){asyncGeneratorStep(o,i,r,a,s,"next",e)}function s(e){asyncGeneratorStep(o,i,r,a,s,"throw",e)}a(void 0)}))}}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&_setPrototypeOf(r,n.prototype),r}).apply(null,arguments)}function _defineProperty2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(c){r=!0,o=c}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray2(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray2(e)}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray2(e,t):void 0}}function _arrayLikeToArray2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{"+6XX":function(e,t,n){var i=n("y1pI");e.exports=function(e){return i(this.__data__,e)>-1}},"+EmV":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("bEA1"),r=n("RbsG"),o=n("9yTC"),a=n("ofgY"),s=n("wd/R"),c=n("ofXK"),l=n("WSM3"),u=n("NDEZ"),d=n("fXoL"),h=n("ChtM"),f=n("CJ36"),p=n("wtyH"),g=n("G/yK"),v=n("kh7C"),m=function(){var e=function(){function e(t,n,i,r,o,a,s){_classCallCheck(this,e),this.currency=t,this.localeService=n,this.serviceServices=i,this.baseHref=r,this.document=o,this.flightStationSvc=a,this.utilsSvc=s,this.searchParamsResult={},this.previousRoute=this.document.referrer}return _createClass(e,[{key:"setPreviousRoute",value:function(e){this.previousRoute="".concat(this.baseHref).concat(e)}},{key:"setPromoCode",value:function(e){this.couponAvailable=e||""}},{key:"getFareTypeBrand",value:function(e,t){var n=t.find((function(t){return t.key===e}));return n?n.fareType:""}},{key:"getDiscountFlight",value:function(e,t){var n=t.find((function(t){return t.key===e})),i=n?n.originalFare.amount-n.fare.amount:0;return isNaN(i)?0:i}},{key:"getFareDiscountByType",value:function(e,t){var n=t.find((function(t){return t.fareType===e})),i=n?n.originalFare.amount-n.fare.amount:0;return isNaN(i)?0:i}},{key:"getSegmentList",value:function(e){var t,n=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var r,o=_createForOfIteratorHelper(t.value.segments);try{for(o.s();!(r=o.n()).done;){var a=r.value;n.push("".concat(a.origin.code,"-").concat(a.destination.code))}}catch(s){o.e(s)}finally{o.f()}}}catch(s){i.e(s)}finally{i.f()}return n.join("|")}},{key:"getTheLowestFare",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.find((function(t){return e===t.key}));return i?+(null===(n=null==r?void 0:r.vivaFanFare)||void 0===n?void 0:n.amount.toFixed(2)):+r.fare.amount.toFixed(2)}},{key:"searchParameters",value:function(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g){return{type:e,view_type:t,search_using_points:!1,source:p,total_passenger_count:n,passenger_type_list:i,promo_code:r,language:this.localeService.getAppLocale(),currency:this.currency.selectedCurrencyCode,rute_list:o,trip_type:a,origin:s,destination:c,departure_date:l,arrival_date:u,availability:d,available_flights:h,available_sold_outs:f,bundleAvailable:g?"yes":"no"}}},{key:"setParametersResults",value:function(e,t,n,i,r,o,a,s,c,l,u,d,h,f){var p=arguments.length>14&&void 0!==arguments[14]?arguments[14]:"home",g=arguments.length>15&&void 0!==arguments[15]&&arguments[15];this.searchParamsResult=this.searchParameters(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g)}},{key:"getTuaTotalAmount",value:function(e){var t=0;return e.forEach((function(e){"TUA"===e.groupCode&&(t+=e.amount.amount)})),t}},{key:"getIvaTotalAmount",value:function(e){var t=0;return e.forEach((function(e){["IVA","Taxes"].includes(e.code)&&(t+=e.amount.amount)})),t}},{key:"setNameItemPucharse",value:function(e){switch(e){case"Flight Fare Zero":case"Flight Fare Light":case"Flight Fare Basic":case"Flight Fare Smart":return"Flight ticket";default:return e}}},{key:"setCategoryNamePucharse",value:function(e){switch(e){case"FlightFareZero":case"FlightFareLight":case"FlightFareBasic":case"FlightFareSmart":return"Flight";default:return"Ancillary"}}},{key:"getSegmentsbyId",value:function(e,t){var n,i,r=_createForOfIteratorHelper(t);try{for(r.s();!(i=r.n()).done;){var o,a=_createForOfIteratorHelper(i.value.segments);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.key===e){n=s;break}}}catch(c){a.e(c)}finally{a.f()}}}catch(c){r.e(c)}finally{r.f()}return n||""}},{key:"getAdults",value:function(e){return e.basket.travel.passengers.filter((function(e){return e.passengerTypeCode===o.g.ADULT}))}},{key:"getChilds",value:function(e){return e.basket.travel.passengers.filter((function(e){return e.passengerTypeCode===o.g.CHILD}))}},{key:"getInfants",value:function(e){return e.basket.travel.passengers.filter((function(e){return e.passengerTypeCode===o.g.BABY}))}},{key:"getJourneysFormat",value:function(e){var t=this,n=[];if(e.basketBooking){var i,r=_createForOfIteratorHelper(e.basketBooking.journeys);try{var o=function(){var r,o=i.value,a=[],s=_createForOfIteratorHelper(o.segments);try{for(s.s();!(r=s.n()).done;){var c=r.value;a.push({type:c.transportationType,carrier:c.operatingCarrier,id:c.flightNumber,origin:c.origin.code,destination:c.destination.code,departureDate:c.departureDate.scheduled,arrivalDate:c.arrivalDate.scheduled,length:c.segmentDuration,layover:c.layoverTime,detail:{fare:o.fare.classOfService,modality:o.fare.fareType}})}}catch(u){s.e(u)}finally{s.f()}var l={origin:o.origin.code,originLabel:t.flightStationSvc.getStation(o.origin.code).name,destination:o.destination.code,destinationLabel:t.flightStationSvc.getStation(o.destination.code).name,departureDate:o.departureDate.scheduled,arrivalDate:o.arrivalDate.scheduled,price:{currency:e.basketBooking.currencyCode,adt:{price:e.basketBooking.charges.find((function(e){return e.journeyKey===o.key})).amount.amount,quantity:t.getAdults(e).length},chd:{price:e.basketBooking.charges.find((function(e){return e.journeyKey===o.key})).amount.amount,quantity:t.getChilds(e).length},inf:{price:e.basketBooking.charges.find((function(e){return e.journeyKey===o.key})).amount.amount,quantity:t.getInfants(e).length}},type:o.travelType,segments:a};n.push(l)};for(r.s();!(i=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}}return n}},{key:"getContactsInformation",value:function(e){var t,n=[],i=_createForOfIteratorHelper(e.basketBooking.contacts);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push({type:r.contactType,title:r.title,firstName:r.firstName,lastName:r.lastName,language:e.basket.language,detail:{email:r.email,phone:r.phoneNumbers}})}}catch(o){i.e(o)}finally{i.f()}return n}},{key:"getPassengerInformation",value:function(e){var t,n=[],i=_createForOfIteratorHelper(e.basketBooking.passengers);try{var r=function(){var i=t.value,r={title:(null==i?void 0:i.title)||"",firstName:null==i?void 0:i.firstName,lastName:null==i?void 0:i.lastName,birthDate:new Date(null==i?void 0:i.dateOfBirth).toISOString(),gender:null==i?void 0:i.gender,nationality:null==i?void 0:i.nationality,residentCountry:(null==i?void 0:i.residentCountry)||"",customerNumber:(null==i?void 0:i.customerNumber)||"",specialAssistance:!!e.basketBooking.services.specialAssistanceServices.find((function(e){return e.passengerKey===i.passengerKey})),detail:{knownTravelerNumber:!!i.knownTravelerNumber,redressNumber:!!i.redressNumber,passport:!!i.passport}};n.push(r)};for(i.s();!(t=i.n()).done;)r()}catch(o){i.e(o)}finally{i.f()}return n}},{key:"getProductsInformation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[],a=e.basket.travel.charges.filter((function(e,t,n){return t===n.findIndex((function(t){return t.code===e.code&&t.amount.amount===e.amount.amount}))}));if(e.basketBooking.services.transportServices&&!i){var s,c=_createForOfIteratorHelper(e.basketBooking.services.transportServices);try{for(c.s();!(s=c.n()).done;){var l=s.value,u={type:l.code,id:l.pickupLocations[0].ssrCode,price:l.pickupLocations[0].price.amount,amount:l.pickupLocations[0].price.amount,quantity:l.pickupLocations.length,isIncluded:l.pickupLocations[0].isIncluded,details:{}};t?l.pickupLocations[0].status!==r.i.Committed&&o.push(u):n||o.push(u)}}catch(p){c.e(p)}finally{c.f()}}var d,h=_createForOfIteratorHelper(a);try{var f=function(){var t=d.value,n=e.basket.travel.charges.filter((function(e){return e.code===t.code&&e.amount.amount===t.amount.amount})),r={};t.details.SeatBrand&&t.details.SeatNumber&&(r={SeatBrand:t.details.SeatBrand,SeatNumber:t.details.SeatNumber});var a={type:t.groupCode,id:t.code,price:t.amount.amount,amount:t.originalAmount.amount,quantity:n.length,isIncluded:t.isIncluded,details:r};i?"Seats"===a.type&&o.push(a):o.push(a)};for(h.s();!(d=h.n()).done;)f()}catch(p){h.e(p)}finally{h.f()}return o}},{key:"getRouteType",value:function(e){return 1===e.journeys.length?"".concat(e.journeys[0].origin.code,"-").concat(e.journeys[0].destination.code):"".concat(e.journeys[0].origin.code,"-").concat(e.journeys[0].destination.code," ").concat(e.journeys[0].destination.code,"-").concat(e.journeys[0].origin.code)}},{key:"getRuteList",value:function(e){var t="";return e.journeys.forEach((function(e,n){t+=(n?" ":"")+"".concat(e.origin.code,"-").concat(e.destination.code)})),t}},{key:"getFlightType",value:function(e){return e.journeys.find((function(e){return e.isInternational}))}},{key:"getItemName",value:function(e){return e.code.includes("Flight")?"Flight ticket":e.code.includes("Seat")?"Seat "+e.details.SeatBrand:e.name}},{key:"getItemId",value:function(e,t){var n=t.basketBooking.journeys.find((function(t){return(null==e?void 0:e.journeyKey)===t.key}));return n&&(e.code.includes("Flight")||e.code.includes("Seat"))?"".concat(n.origin.code,"-").concat(n.destination.code,"|").concat(n.departureDate.scheduled):null==e?void 0:e.code}},{key:"getCat",value:function(e,t,n){var i,r,o,a=(null===(i=this.serviceServices.getService(null==t?void 0:t.code))||void 0===i?void 0:i.jsonAttributes)||null;switch(e){case"cat1":return a?a.item_category:(null==t?void 0:t.code.includes("Flight"))?"Flight":null==t?void 0:t.code;case"cat2":return a?a.item_category_2:(null===(r=n.fare)||void 0===r?void 0:r.bundleTypeName)?this.utilsSvc.matchFares(null===(o=n.fare)||void 0===o?void 0:o.bundleType):n.fare.fareType;case"cat3":return a?a.item_category_3:n.isInternational?"International":"Domestic"}}},{key:"getListDetails",value:function(e,t){var n=e.journeys[0];return t&&(n=t),"".concat(n.origin.code,"-").concat(n.destination.code,"|").concat(n.departureDate.scheduled.split("T")[0])}},{key:"getAdultsBasketBooking",value:function(e){return e.passengers.filter((function(e){return e.type===a.i.ADT})).length}},{key:"getChildBasketBooking",value:function(e){return e.passengers.filter((function(e){return e.type===a.i.CHD})).length}},{key:"getCheckInWindow",value:function(e){return Math.round(s.duration(s(e.departureDate.scheduled).diff(s())).asDays())}},{key:"getChargesQuantity",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(n?e.basket.travel.charges.filter((function(e){return t.name===e.name})):e.basketBooking.charges.filter((function(e){return t.name===e.name}))).filter((function(e){return t.journeyKey===e.journeyKey&&t.segmentKey===e.segmentKey})).length}},{key:"getDotersLevel",value:function(e){switch(e){case l.e.SILVER:return"silver";case l.e.GOLD:return"gold";case l.e.GREEN:default:return"green"}}},{key:"getAccommodationNights",value:function(e){return(null==e?void 0:e.accommodation)?s(e.accommodation.checkOutDate).diff(e.accommodation.checkInDate,"days"):0}},{key:"getJourneySegmentType",value:function(e){return e&&Array.isArray(e.segments)&&e.segments.some((function(e){return e.segmentType===u.b.MultiLeg}))?u.b.MultiLeg:u.b.NonStop}},{key:"getFlightOptionsSearchSource",value:function(e,t){if(!e)return"home";switch(null==t?void 0:t.mmbSearchType){case i.a.FlyAhead:return"mmb_flex_pass";default:return"mmb_change_itinerary"}}},{key:"getBookingTripType",value:function(e){return e&&Array.isArray(e.journeys)?1===e.journeys.length?"one-way":2===e.journeys.length&&e.journeys[0].origin.code===e.journeys[1].destination.code&&e.journeys[1].origin.code===e.journeys[0].destination.code?"round-trip":"multy-city":"one-way"}},{key:"getProvider",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"operatingCarrier",n=e.find((function(e){return"VB"!==(null==e?void 0:e[t])}));return n?null==n?void 0:n[t]:"VB"}},{key:"previousRouteValue",get:function(){return this.previousRoute}},{key:"couponPromocode",get:function(){return this.couponAvailable?this.couponAvailable:""}},{key:"searchParametersResults",get:function(){return this.searchParamsResult}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.dc(h.a),d.dc(f.a),d.dc(p.a),d.dc(c.a),d.dc(c.e),d.dc(g.a),d.dc(v.a))},e.\u0275prov=d.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"+K+b":function(e,t,n){var i=n("JHRd");e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},"+iFO":function(e,t,n){var i=n("dTAl"),r=n("LcsW"),o=n("6sVZ");e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:i(r(e))}},"+tT9":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var i=n("XNiG"),r=n("fXoL"),o=function(){var e=function(){function e(){_classCallCheck(this,e),this.$unsavedChangesValidateEvent=new i.a,this.$unsavedChangesNotifyEvent=new i.a,this.$submitChangesNotifyEvent=new i.a}return _createClass(e,[{key:"emitHasUnsavedChanges",value:function(e){this.$unsavedChangesNotifyEvent.next(e)}},{key:"emitHasChangesNotification",value:function(e){this.$unsavedChangesValidateEvent.next(e)}},{key:"emitSubmitFormChangesNotification",value:function(e){this.$submitChangesNotifyEvent.next(e)}},{key:"unsavedChangesValidateEvent$",get:function(){return this.$unsavedChangesValidateEvent.asObservable()}},{key:"unsavedChangesNotifyEvent$",get:function(){return this.$unsavedChangesNotifyEvent.asObservable()}},{key:"submitChangesNotifyEvent$",get:function(){return this.$submitChangesNotifyEvent.asObservable()}}],[{key:"setControlValue",value:function(e,t){e.setValue(t||null)}},{key:"setControlEditableState",value:function(e,t){t?e.enable({emitEvent:!1}):e.disable({emitEvent:!1})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"any"}),e}(),a=function(e){return e.PersonalDetails="PD",e.ContactDetails="CD",e.TravelDocumentDetails="TDD",e}({})},"/K1/":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("mrSG"),r=n("fXoL"),o=n("ofXK"),a=n("RBZv"),s=n("CJ36"),c=n("tyNb"),l=function(){var e=function(){function e(t,n,i,r,o,a){_classCallCheck(this,e),this.platformId=t,this.document=n,this.cmsPageService=i,this.localeService=r,this.router=o,this.location=a,this.idsForFragments=[]}return _createClass(e,[{key:"getPage",value:function(e,t){return this.cmsPageService.getPage(e,t)}},{key:"resolve",value:function(e){var t;return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,r,a,s,c,l,u,d,h,f,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=e.url[e.url.length-1].path,r="/"+e.url.join("/"),a=this.localeService.getAppLocale(),n.prev=1,s=null,!Object(o.L)(this.platformId)){n.next=12;break}if(!(c=sessionStorage.getItem("slug"))||!(null==(s=JSON.parse(c))?void 0:s.slugID)){n.next=12;break}return n.next=8,this.cmsPageService.getPageSlugById(null==s?void 0:s.slugID,a);case 8:if(l=n.sent,u=this.getPathFromSlug(l),r.toLowerCase()===u.toLowerCase()||r!==(null==s?void 0:s.slugPath)){n.next=12;break}return n.abrupt("return",(sessionStorage.removeItem("slug"),this.router.navigateByUrl(u),null));case 12:return n.next=14,this.getPage(i);case 14:return d=n.sent,h=null===(t=null==d?void 0:d.fields)||void 0===t?void 0:t.slugTree,Object(o.L)(this.platformId)&&(f=this.getPathFromSlug(h),p=r,0!==f.localeCompare(p)&&(this.router.navigate(["/404"],{skipLocationChange:!0}),this.location.replaceState(p)),sessionStorage.setItem("slug",JSON.stringify({slug:i,slugPath:r,slugID:h.sys.id}))),n.abrupt("return",d||null);case 20:return n.prev=20,n.t0=n.catch(1),n.abrupt("return",null);case 23:case"end":return n.stop()}}),n,this,[[1,20]])})))}},{key:"setCmsModules",value:function(e){this.cmsModules=e,this.getHeadings(this.cmsModules)}},{key:"getPathFromSlug",value:function(e){var t,n,i;return(null===(t=null==e?void 0:e.fields)||void 0===t?void 0:t.slug)?this.getPathFromSlug((null===(n=e.fields)||void 0===n?void 0:n.parentSlug)?null===(i=e.fields)||void 0===i?void 0:i.parentSlug:void 0)+"/"+e.fields.slug:""}},{key:"getHeadings",value:function(e){this.idsForFragments=[];var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.fields.items){var r,o=_createForOfIteratorHelper(i.fields.items);try{for(o.s();!(r=o.n()).done;){var a=r.value;"heading"===a.sys.contentType.sys.id&&a.fields.id&&this.idsForFragments.push({fields:{text:a.fields.title,url:a.fields.id}})}}catch(s){o.e(s)}finally{o.f()}}}}catch(s){n.e(s)}finally{n.f()}}},{key:"getFragmentsForHeader",get:function(){return this.idsForFragments}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.dc(r.G),r.dc(o.e),r.dc(a.a),r.dc(s.a),r.dc(c.g),r.dc(o.o))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac}),e}()},"/M7d":function(e,t,n){"use strict";n.d(t,"l",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"m",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return g}));var i=function(e){return e.VivaCash="VivaCash",e.ManualProcessing="ManualProcessing",e.CallCenterProcessing="CallCenterProcessing",e.ReverseCreditCard="ReverseCreditCard",e.VivaGift="VivaGift",e}({}),r=function(e){return e.ScheduleChange="ScheduleChange",e.TimeChange="TimeChange",e.MajorTimeChange="MajorTimeChange",e.Cancellation="Cancellation",e.Delay="Delay",e.MajorDelay="MajorDelay",e.Overbooking="Overbooking",e}({}),o=function(e){return e.Available="Available",e.NotAvailable="NotAvailable",e.Blocked="Blocked",e}({}),a=function(e){return e.NoIropQueue="NoIropQueue",e.NoIropEligibleJourney="NoIropEligibleJourney",e.TooLateForChange="TooLateForChange",e.CreationAccountNotAllowed="CreationAccountNotAllowed",e.HotelNotAllowed="HotelNotAllowed",e.CarrierNotAllowed="CarrierNotAllowed",e.SystemCodeNotAllowed="SystemCodeNotAllowed",e.PassengerTypeNotAllowed="PassengerTypeNotAllowed",e.MinorTravellingAloneNotAllowed="MinorTravellingAloneNotAllowed",e.SsrNotAllowed="SsrNotAllowed",e}({}),s=function(e){return e.Reaccomm="Reaccomm",e.FlightChange="FlightChange",e.Cancellation="Cancellation",e}({}),c=function(e){return e.Irop="Irop",e.Flex="Flex",e}({}),l=function(e){return e.email="email",e.whatsApp="whatsApp",e.sms="sms",e}({}),u=function(e){return e.INVALID_OTP="INVALID_OTP",e.UNKNOW_OTPSESSION="UNKNOW_OTPSESSION",e.MAXRETRIES_OTP="MAXRETRIES_OTP",e}({}),d=function(e){return e.iropCancellation="irop/cancel",e.processCompensation="booking/processCompensation",e.bookingCancellation="booking/cancel",e}({}),h=function(e){return e.SeatDowngrade="SeatDowngrade",e.CancelFlight="CancelFlight",e.FoodVoucherCompensation="FoodVoucherCompensation",e.DelayCompensation="DelayCompensation",e.PostFlightMove="PostFlightMove",e.MoveFlight="MoveFlight",e.VBCashCompensation="VBCashCompensation",e}({}),f=function(e){return e.Vivacash="Vivacash",e.Voucher="Voucher",e}({}),p=function(e){return e.Pending="pending",e.Issued="issued",e.Cancelled="cancelled",e}({}),g=function(e){return e.Preflight="Preflight",e.Postflight="Postflight",e}({})},"/QWi":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("fXoL"),r=n("TUgU"),o=n("jhN1"),a=n("5KMX"),s=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.cmsTranslate=t,this.sanitizer=n,this.domPurify=i}return _createClass(e,[{key:"transform",value:function(e,t,n){if(!e)return e||"";var r,o=this.cmsTranslate.getHTMLTextEntry(e);return o!==e?(r=n?this.domPurify.sanitize(i.M.HTML,o,n):this.domPurify.sanitize(i.M.HTML,o),this.sanitizer.bypassSecurityTrustHtml(r)):(t&&(o=t),o)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(r.a),i.Tb(o.b),i.Tb(a.d))},e.\u0275pipe=i.Sb({name:"cmsTranslateHtml",type:e,pure:!0}),e}()},"/XB6":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("fXoL"),r=n("jtHE"),o=n("RJ73"),a=n("ofXK"),s=n("AytR"),c=n("wd/R"),l=n("d/Sv"),u=n("1AID"),d=n("b6Qw"),h=n("BifP"),f=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.platformId=t,this.cookieService=n,this.cmsConfig=i,this.flightsCacheKey=s.g.cacheKeys.FLIGHT_SEARCH_HISTORY,this.lastFlightsCacheKey=s.g.cacheKeys.LAST_FLIGHT_SEARCH,this.lastFlightStatusCacheKey=s.g.cacheKeys.LAST_FLIGHT_STATUS_SEARCH,this.flightSearchLimit=6,this.$isReady=new r.a(1),this.flightSearchHistory=[],this.minorTravelingAlone=!1,this.minorTravelingAlone=this.cmsConfig.getBookingFeatureValue(u.a.MinorTravelingAlone)||!1,this.initialize()}return _createClass(e,[{key:"initialize",value:function(){Object(a.L)(this.platformId)&&(this.fetchFlightSearchesHistory(),this.fetchLastFlightStatusSearch()),this.setReady()}},{key:"fetchFlightSearchesHistory",value:function(){if(Object(a.L)(this.platformId)){var e=localStorage.getItem(this.flightsCacheKey);if(e)try{var t=JSON.parse(e);this.flightSearchHistory=t,this.minorTravelingAlone||(this.flightSearchHistory=this.flightSearchHistory.filter((function(e){return e.content.passengers.adults>0}))),this.removeInvalidOrExpiredEntries(),this.saveFlightSearchesHistory()}catch(n){s.g.production||console.error("[StationSearchHistoryService]::Error fetching flight search history: ",n)}}}},{key:"fetchLastFlightStatusSearch",value:function(){if(this.lastFlightStatusSearch=void 0,Object(a.L)(this.platformId)){var e=localStorage.getItem(this.lastFlightStatusCacheKey);if(e)try{var t=JSON.parse(e);t&&this.validateLastFlightStatusSearchDate(t.content.date)&&(this.lastFlightStatusSearch=t)}catch(n){s.g.production||console.error("[StationSearchHistoryService]::Error fetching last flight status search: ",n)}}}},{key:"removeInvalidOrExpiredEntries",value:function(){var e=this;this.flightSearchHistory=this.flightSearchHistory.filter((function(t){return e.isValidSearchEntry(t)}))}},{key:"isValidSearchEntry",value:function(e){return!!e.content.startDate&&!c(e.expirationDate).isBefore(c())}},{key:"saveFlightSearchesHistory",value:function(){Object(a.L)(this.platformId)&&localStorage.setItem(this.flightsCacheKey,JSON.stringify(this.flightSearchHistory))}},{key:"addFlightSearchEntry",value:function(e){var t={expirationDate:c(e.startDate).add(3,"day").valueOf(),content:e};if(this.isValidSearchEntry(t)){for(this.flightSearchHistory.unshift(t);this.flightSearchHistory.length>=this.flightSearchLimit;)this.flightSearchHistory.pop();this.saveFlightSearchesHistory(),this.saveLastSearchForLowFare(e)}}},{key:"saveLastFlightStatusSearch",value:function(e){var t={expirationDate:c(e.date).valueOf(),content:e};this.validateLastFlightStatusSearchDate(t.content.date)&&Object(a.L)(this.platformId)&&localStorage.setItem(this.lastFlightStatusCacheKey,JSON.stringify(t))}},{key:"getLastFlightStatusSearch",value:function(){if(this.fetchLastFlightStatusSearch(),this.lastFlightStatusSearch)return{startDate:this.lastFlightStatusSearch.content.date,origin:{code:this.lastFlightStatusSearch.content.origin},destination:{code:this.lastFlightStatusSearch.content.destination},stationType:o.i.AIRPORT,travelType:l.a.ONE_WAY}}},{key:"validateLastFlightStatusSearchDate",value:function(e){var t=c(e),n=c().startOf("day"),i=n.clone().subtract(1,"days").startOf("day"),r=n.clone().add(1,"days").startOf("day");return!(!t.isValid()||!(t.isSame(n,"day")||t.isSame(i,"day")||t.isSame(r,"day")))}},{key:"setReady",value:function(){this.$isReady.next(),this.$isReady.complete()}},{key:"saveLastSearchForLowFare",value:function(e){Object(a.L)(this.platformId)&&this.cookieService.set(this.lastFlightsCacheKey,JSON.stringify(e),{expires:14,sameSite:"Strict",path:"/"})}},{key:"_flightSearches",get:function(){return this.flightSearchHistory.map((function(e){return e.content}))}},{key:"_lastFlightStatusSearch",get:function(){return this.lastFlightStatusSearch?[{startDate:this.lastFlightStatusSearch.content.date,origin:{code:this.lastFlightStatusSearch.content.origin},destination:{code:this.lastFlightStatusSearch.content.destination},stationType:o.i.AIRPORT,travelType:l.a.ONE_WAY}]:[]}},{key:"ready",get:function(){return this.$isReady.asObservable().toPromise()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(i.G),i.dc(d.a),i.dc(h.a))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"/Yn+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},o=/["'&<>]/,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=function(e,t){return function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==a?a:"undefined"!=typeof self?self:{};function i(e,t){return e(t={exports:{}},t.exports),t.exports}var r=function(e){return e&&e.Math==Math&&e},o=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n&&n)||Function("return this")(),s=function(e){try{return!!e()}catch(t){return!0}},c=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),l={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,d={f:u&&!l.call({1:2},1)?function(e){var t=u(this,e);return!!t&&t.enumerable}:l},h=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},f={}.toString,p="".split,g=s((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==function(e){return f.call(e).slice(8,-1)}(e)?p.call(e,""):Object(e)}:Object,v=function(e){return g(function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}(e))},m=function(e){return"object"==typeof e?null!==e:"function"==typeof e},b=function(e,t){if(!m(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!m(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!m(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!m(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},y={}.hasOwnProperty,_=function(e,t){return y.call(e,t)},C=o.document,k=m(C)&&m(C.createElement),S=function(e){return k?C.createElement(e):{}},O=!c&&!s((function(){return 7!=Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a})),T=Object.getOwnPropertyDescriptor,w={f:c?T:function(e,t){if(e=v(e),t=b(t,!0),O)try{return T(e,t)}catch(n){}if(_(e,t))return h(!d.f.call(e,t),e[t])}},A=function(e){if(!m(e))throw TypeError(String(e)+" is not an object");return e},E=Object.defineProperty,P={f:c?E:function(e,t,n){if(A(e),t=b(t,!0),A(n),O)try{return E(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},M=c?function(e,t,n){return P.f(e,t,h(1,n))}:function(e,t,n){return e[t]=n,e},x=function(e,t){try{M(o,e,t)}catch(n){o[e]=t}return t},D=o["__core-js_shared__"]||x("__core-js_shared__",{}),I=Function.toString;"function"!=typeof D.inspectSource&&(D.inspectSource=function(e){return I.call(e)});var L,R,N,j=D.inspectSource,B=o.WeakMap,F="function"==typeof B&&/native code/.test(j(B)),H=i((function(e){(e.exports=function(e,t){return D[e]||(D[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})})),U=0,Y=Math.random(),G=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++U+Y).toString(36)},V=H("keys"),Z=function(e){return V[e]||(V[e]=G(e))},W={};if(F){var K=new(0,o.WeakMap),z=K.get,Q=K.has,X=K.set;L=function(e,t){return X.call(K,e,t),t},R=function(e){return z.call(K,e)||{}},N=function(e){return Q.call(K,e)}}else{var q=Z("state");W[q]=!0,L=function(e,t){return M(e,q,t),t},R=function(e){return _(e,q)?e[q]:{}},N=function(e){return _(e,q)}}var $={set:L,get:R,has:N,enforce:function(e){return N(e)?R(e):L(e,{})},getterFor:function(e){return function(t){var n;if(!m(t)||(n=R(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},J=i((function(e){var t=$.get,n=$.enforce,i=String(String).split("String");(e.exports=function(e,t,r,a){var s=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet;"function"==typeof r&&("string"!=typeof t||_(r,"name")||M(r,"name",t),n(r).source=i.join("string"==typeof t?t:"")),e!==o?(s?!l&&e[t]&&(c=!0):delete e[t],c?e[t]=r:M(e,t,r)):c?e[t]=r:x(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||j(this)}))})),ee=o,te=function(e){return"function"==typeof e?e:void 0},ne=function(e,t){return arguments.length<2?te(ee[e])||te(o[e]):ee[e]&&ee[e][t]||o[e]&&o[e][t]},ie=Math.ceil,re=Math.floor,oe=function(e){return isNaN(e=+e)?0:(e>0?re:ie)(e)},ae=Math.min,se=Math.max,ce=Math.min,le=function(e){return function(t,n,i){var r,o,a=v(t),s=(r=a.length)>0?ae(oe(r),9007199254740991):0,c=function(e,t){var n=oe(e);return n<0?se(n+t,0):ce(n,t)}(i,s);if(e&&n!=n){for(;s>c;)if((o=a[c++])!=o)return!0}else for(;s>c;c++)if((e||c in a)&&a[c]===n)return e||c||0;return!e&&-1}},ue={includes:le(!0),indexOf:le(!1)},de=ue.indexOf,he=function(e,t){var n,i=v(e),r=0,o=[];for(n in i)!_(W,n)&&_(i,n)&&o.push(n);for(;t.length>r;)_(i,n=t[r++])&&(~de(o,n)||o.push(n));return o},fe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],pe=fe.concat("length","prototype"),ge={f:Object.getOwnPropertyNames||function(e){return he(e,pe)}},ve={f:Object.getOwnPropertySymbols},me=ne("Reflect","ownKeys")||function(e){var t=ge.f(A(e)),n=ve.f;return n?t.concat(n(e)):t},be=function(e,t){for(var n=me(t),i=P.f,r=w.f,o=0;o<n.length;o++){var a=n[o];_(e,a)||i(e,a,r(t,a))}},ye=/#|\.prototype\./,_e=function(e,t){var n=ke[Ce(e)];return n==Oe||n!=Se&&("function"==typeof t?s(t):!!t)},Ce=_e.normalize=function(e){return String(e).replace(ye,".").toLowerCase()},ke=_e.data={},Se=_e.NATIVE="N",Oe=_e.POLYFILL="P",Te=_e,we=w.f,Ae=function(e,t){var n,i,r,a,s,c=e.target,l=e.global,u=e.stat;if(n=l?o:u?o[c]||x(c,{}):(o[c]||{}).prototype)for(i in t){if(a=t[i],r=e.noTargetGet?(s=we(n,i))&&s.value:n[i],!Te(l?i:c+(u?".":"#")+i,e.forced)&&void 0!==r){if(typeof a==typeof r)continue;be(a,r)}(e.sham||r&&r.sham)&&M(a,"sham",!0),J(n,i,a,e)}},Ee=Object.keys||function(e){return he(e,fe)},Pe=d.f,Me=function(e){return function(t){for(var n,i=v(t),r=Ee(i),o=r.length,a=0,s=[];o>a;)n=r[a++],c&&!Pe.call(i,n)||s.push(e?[n,i[n]]:i[n]);return s}},xe=(Me(!0),Me(!1));Ae({target:"Object",stat:!0},{values:function(e){return xe(e)}});var De,Ie=!!Object.getOwnPropertySymbols&&!s((function(){return!String(Symbol())})),Le=Ie&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Re=H("wks"),Ne=o.Symbol,je=Le?Ne:Ne&&Ne.withoutSetter||G,Be=c?Object.defineProperties:function(e,t){A(e);for(var n,i=Ee(t),r=i.length,o=0;r>o;)P.f(e,n=i[o++],t[n]);return e},Fe=ne("document","documentElement"),He=Z("IE_PROTO"),Ue=function(){},Ye=function(e){return"<script>"+e+"<\/script>"},Ge=function(){try{De=document.domain&&new ActiveXObject("htmlfile")}catch(i){}var e,t;Ge=De?function(e){e.write(Ye("")),e.close();var t=e.parentWindow.Object;return e=null,t}(De):((t=S("iframe")).style.display="none",Fe.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Ye("document.F=Object")),e.close(),e.F);for(var n=fe.length;n--;)delete Ge.prototype[fe[n]];return Ge()};W[He]=!0;var Ve,Ze=Object.create||function(e,t){var n;return null!==e?(Ue.prototype=A(e),n=new Ue,Ue.prototype=null,n[He]=e):n=Ge(),void 0===t?n:Be(n,t)},We=(_(Re,Ve="unscopables")||(Re[Ve]=Ie&&_(Ne,Ve)?Ne[Ve]:je("Symbol."+Ve)),Re[Ve]),Ke=Array.prototype;null==Ke[We]&&P.f(Ke,We,{configurable:!0,value:Ze(null)});var ze,Qe=Object.defineProperty,Xe={},qe=function(e){throw e},$e=ue.includes;Ae({target:"Array",proto:!0,forced:!function(e,t){if(_(Xe,"indexOf"))return Xe.indexOf;t||(t={});var n=[].indexOf,i=!!_(t,"ACCESSORS")&&t.ACCESSORS,r=_(t,0)?t[0]:qe,o=_(t,1)?t[1]:void 0;return Xe.indexOf=!!n&&!s((function(){if(i&&!c)return!0;var e={length:-1};i?Qe(e,1,{enumerable:!0,get:qe}):e[1]=1,n.call(e,r,o)}))}(0,{ACCESSORS:!0,1:0})},{includes:function(e){return $e(this,e,arguments.length>1?arguments[1]:void 0)}}),Ke[We].includes=!0,function(e,t,n){!function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function")}(e)}(Function.call,o.Array.prototype.includes),function(e){e.DOCUMENT="document",e.PARAGRAPH="paragraph",e.HEADING_1="heading-1",e.HEADING_2="heading-2",e.HEADING_3="heading-3",e.HEADING_4="heading-4",e.HEADING_5="heading-5",e.HEADING_6="heading-6",e.OL_LIST="ordered-list",e.UL_LIST="unordered-list",e.LIST_ITEM="list-item",e.HR="hr",e.QUOTE="blockquote",e.EMBEDDED_ENTRY="embedded-entry-block",e.EMBEDDED_ASSET="embedded-asset-block"}(ze||(ze={}));var Je,et=ze;!function(e){e.HYPERLINK="hyperlink",e.ENTRY_HYPERLINK="entry-hyperlink",e.ASSET_HYPERLINK="asset-hyperlink",e.EMBEDDED_ENTRY="embedded-entry-inline"}(Je||(Je={}));var tt,nt=Je,it=[et.PARAGRAPH,et.HEADING_1,et.HEADING_2,et.HEADING_3,et.HEADING_4,et.HEADING_5,et.HEADING_6,et.OL_LIST,et.UL_LIST,et.HR,et.QUOTE,et.EMBEDDED_ENTRY,et.EMBEDDED_ASSET],rt=[et.HR,et.EMBEDDED_ENTRY,et.EMBEDDED_ASSET],ot=((tt={})[et.OL_LIST]=[et.LIST_ITEM],tt[et.UL_LIST]=[et.LIST_ITEM],tt[et.LIST_ITEM]=it.slice(),tt[et.QUOTE]=[et.PARAGRAPH],tt),at={nodeType:et.DOCUMENT,data:{},content:[{nodeType:et.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]},st=Object.freeze({isInline:function(e){return Object.values(nt).includes(e.nodeType)},isBlock:function(e){return Object.values(et).includes(e.nodeType)},isText:function(e){return"text"===e.nodeType}});t.BLOCKS=et,t.CONTAINERS=ot,t.EMPTY_DOCUMENT=at,t.INLINES=nt,t.MARKS={BOLD:"bold",ITALIC:"italic",UNDERLINE:"underline",CODE:"code"},t.TOP_LEVEL_BLOCKS=it,t.VOID_BLOCKS=rt,t.helpers=st}(t={exports:{}},t.exports),t.exports}();(i=s)&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default");var c,l,u=s.BLOCKS,d=s.INLINES,h=s.MARKS,f=s.helpers,p=((c={})[u.PARAGRAPH]=function(e,t){return"<p>"+t(e.content)+"</p>"},c[u.HEADING_1]=function(e,t){return"<h1>"+t(e.content)+"</h1>"},c[u.HEADING_2]=function(e,t){return"<h2>"+t(e.content)+"</h2>"},c[u.HEADING_3]=function(e,t){return"<h3>"+t(e.content)+"</h3>"},c[u.HEADING_4]=function(e,t){return"<h4>"+t(e.content)+"</h4>"},c[u.HEADING_5]=function(e,t){return"<h5>"+t(e.content)+"</h5>"},c[u.HEADING_6]=function(e,t){return"<h6>"+t(e.content)+"</h6>"},c[u.EMBEDDED_ENTRY]=function(e,t){return"<div>"+t(e.content)+"</div>"},c[u.UL_LIST]=function(e,t){return"<ul>"+t(e.content)+"</ul>"},c[u.OL_LIST]=function(e,t){return"<ol>"+t(e.content)+"</ol>"},c[u.LIST_ITEM]=function(e,t){return"<li>"+t(e.content)+"</li>"},c[u.QUOTE]=function(e,t){return"<blockquote>"+t(e.content)+"</blockquote>"},c[u.HR]=function(){return"<hr/>"},c[d.ASSET_HYPERLINK]=function(e){return v(d.ASSET_HYPERLINK,e)},c[d.ENTRY_HYPERLINK]=function(e){return v(d.ENTRY_HYPERLINK,e)},c[d.EMBEDDED_ENTRY]=function(e){return v(d.EMBEDDED_ENTRY,e)},c[d.HYPERLINK]=function(e,t){return'<a href="'+e.data.uri+'">'+t(e.content)+"</a>"},c),g=((l={})[h.BOLD]=function(e){return"<b>"+e+"</b>"},l[h.ITALIC]=function(e){return"<i>"+e+"</i>"},l[h.UNDERLINE]=function(e){return"<u>"+e+"</u>"},l[h.CODE]=function(e){return"<code>"+e+"</code>"},l),v=function(e,t){return"<span>type: "+e+" id: "+t.data.target.sys.id+"</span>"};t.documentToHtmlString=function(e,t){return void 0===t&&(t={}),e&&e.content?function e(t,n){var i=n.renderNode,r=n.renderMark;return t.map((function(t){return function(t,n){var i=n.renderNode,r=n.renderMark;if(f.isText(t)){var a=function(e){var t,n=""+e,i=o.exec(n);if(!i)return n;var r="",a=0,s=0;for(a=i.index;a<n.length;a++){switch(n.charCodeAt(a)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==a&&(r+=n.substring(s,a)),s=a+1,r+=t}return s!==a?r+n.substring(s,a):r}(t.value);return t.marks.length>0?t.marks.reduce((function(e,t){return r[t.type]?r[t.type](e):e}),a):a}return t.nodeType&&i[t.nodeType]?i[t.nodeType](t,(function(t){return e(t,{renderMark:r,renderNode:i})})):""}(t,{renderNode:i,renderMark:r})})).join("")}(e.content,{renderNode:r({},p,t.renderNode),renderMark:r({},g,t.renderMark)}):""}},"/uUt":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("7o/Q");function r(e,t){return function(n){return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.compare=t,this.keySelector=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.compare,this.keySelector))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).keySelector=r,o.hasKey=!1,"function"==typeof i&&(o.compare=i),o}return _createClass(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}]),n}(i.a)},"/ucA":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ofXK"),r=n("o5mt"),o=n("xzb3"),a=n("h3XU"),s=n("fXoL"),c=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=s.Rb({type:e}),e.\u0275inj=s.Qb({factory:function(t){return new(t||e)},imports:[[i.c,r.a,o.a,a.a]]}),e}()},0:function(e,t){},"03A+":function(e,t,n){var i=n("JTzB"),r=n("ExA7"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=i(function(){return arguments}())?i:function(e){return r(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},"08zf":function(e,t,n){"use strict";n.d(t,"a",(function(){return ae}));var i=n("nnIW"),r=n("R0Ic"),o=Object(r.f)([Object(r.n)("openClose",[Object(r.m)(":enter",[Object(r.l)({height:0,opacity:0}),Object(r.e)(".5s cubic-bezier(0.165, 0.84, 0.44, 1)",Object(r.l)({height:"*",opacity:1}))]),Object(r.m)(":leave",[Object(r.l)({height:"*",opacity:1}),Object(r.e)(".5s cubic-bezier(0.165, 0.84, 0.44, 1)",Object(r.l)({height:0,opacity:0}))])])]),a=n("9yTC"),s=n("1AID"),c=n("fXoL"),l=n("BifP"),u=n("ofXK"),d=n("mrSG"),h=n("39vh"),f=n("wtyH"),p=n("9YtQ");function g(e,t){if(1&e){var n=c.ac();c.Zb(0,"div",2),c.hc("click",(function(){return c.Hc(n),c.jc().onTooltipClick(!0)})),c.Ub(1,"em",3),c.Yb()}if(2&e){var i=c.jc(),r=c.Ec(2);c.Hb(1),c.sc("tippy",r)("trigger",i.isMobile?"manual":"mouseenter focus")}}function v(e,t){if(1&e&&(c.Zb(0,"div"),c.Sc(1),c.Yb()),2&e){var n=c.jc();c.Hb(1),c.Uc(" ",n.tooltipText," ")}}var m,b=((m=function(){function e(t,n,i,r){_classCallCheck(this,e),this.servicesService=t,this.renderer=n,this.element=i,this.deviceService=r,this.isMobile=!1}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.deviceService.isMobile()&&(this.isMobile=!0),!this.chargeCode){e.next=5;break}return e.next=3,this.servicesService.ready.toPromise();case 3:t=this.servicesService.getService(this.chargeCode),n=null==t?void 0:t.basketDescriptionViewFlags,this.tooltipText=null==t?void 0:t.basketDescription,this.showTooltip=this.tooltipText&&(!this.isConfirmationView&&(null==n?void 0:n.includes("basket"))||this.isConfirmationView&&(null==n?void 0:n.includes("confirmation")));case 5:this.outsideClickEvt=this.renderer.listen("document","click",(function(e){i.onTooltipClick(!1,e)}));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"onTooltipClick",value:function(){var e,t,n,i,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=arguments.length>1?arguments[1]:void 0;this.isMobile&&(r?null===(e=this.tooltip)||void 0===e||e.show():o&&!(null===(n=null===(t=this.element)||void 0===t?void 0:t.nativeElement)||void 0===n?void 0:n.contains(null==o?void 0:o.target))&&(null===(i=this.tooltip)||void 0===i||i.hide()))}},{key:"ngOnDestroy",value:function(){this.outsideClickEvt&&this.outsideClickEvt()}}]),e}()).\u0275fac=function(e){return new(e||m)(c.Tb(f.a),c.Tb(c.I),c.Tb(c.n),c.Tb(p.a))},m.\u0275cmp=c.Nb({type:m,selectors:[["app-basket-item-tooltip"]],viewQuery:function(e,t){var n;1&e&&c.Yc(h.a,!0),2&e&&c.Dc(n=c.ic())&&(t.tooltip=n.first)},inputs:{chargeCode:"chargeCode",isConfirmationView:"isConfirmationView"},decls:3,vars:1,consts:[["class","ml-1 tippy-container",3,"click",4,"ngIf"],["waTooltip",""],[1,"ml-1","tippy-container",3,"click"],[1,"fas","fa-info-circle",3,"tippy","trigger"]],template:function(e,t){1&e&&(c.Qc(0,g,2,2,"div",0),c.Qc(1,v,2,1,"ng-template",null,1,c.Rc)),2&e&&c.sc("ngIf",t.showTooltip)},directives:[u.u,h.a],styles:[".tippy-container[_ngcontent-%COMP%]{color:var(--bg6)}.tippy-container[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:14.5px}"]}),m),y=n("gVin"),_=n("VXoX");function C(e,t){if(1&e&&(c.Zb(0,"span",11),c.Sc(1),c.Yb()),2&e){var n=c.jc(3);c.Hb(1),c.Uc(" ",n.countBaseFare(n.chargesGroup.options)+"x"," ")}}function k(e,t){if(1&e&&(c.Xb(0),c.Qc(1,C,2,1,"span",10),c.Zb(2,"span"),c.Sc(3),c.kc(4,"basketName"),c.Yb(),c.Wb()),2&e){var n=c.jc(2);c.Hb(1),c.sc("ngIf",n.showAmountOnHeader),c.Hb(2),c.Uc(" ",c.mc(4,2,n.setFareTags(n.chargesGroup.fareType),n.chargesGroup.groupName)," ")}}function S(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.Wb()),2&e){var n=c.jc(4);c.Hb(1),c.Uc(" ",n.countCheckedBaggage(n.chargesGroup.options)+"x"," ")}}function O(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.Wb()),2&e){var n=c.jc(4);c.Hb(1),c.Uc(" ",n.countCarryOnBaggage(n.chargesGroup.options)+"x"," ")}}function T(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.Wb()),2&e){var n=c.jc(4);c.Hb(1),c.Uc(" ",n.chargesGroup.options.length+"x"," ")}}function w(e,t){if(1&e&&(c.Zb(0,"span",13),c.Qc(1,S,2,1,"ng-container",14),c.Qc(2,O,2,1,"ng-container",14),c.Qc(3,T,2,1,"ng-container",15),c.Yb()),2&e){var n=c.jc(3);c.sc("ngSwitch",n.chargesGroup.groupCode),c.Hb(1),c.sc("ngSwitchCase",n.basketChargesGroupCode.CheckedBaggage),c.Hb(1),c.sc("ngSwitchCase",n.basketChargesGroupCode.CarryOnBaggage)}}function A(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.Wb()),2&e){var n=c.jc(3);c.Hb(1),c.Uc(" ",n.chargesGroup.code," ")}}function E(e,t){if(1&e&&(c.Qc(0,w,4,3,"span",12),c.Zb(1,"span"),c.Sc(2),c.kc(3,"basketName"),c.Qc(4,A,2,1,"ng-container",7),c.Yb()),2&e){var n=c.jc(2);c.sc("ngIf",n.showAmountOnHeader),c.Hb(2),c.Uc(" ",c.mc(3,3,n.chargesGroup.groupCode,n.chargesGroup.groupName)," "),c.Hb(2),c.sc("ngIf",n.useTuaNaming)}}function P(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.kc(2,"currency"),c.Wb()),2&e){var n=c.jc(5);c.Hb(1),c.Uc(" ",c.oc(2,1,n.ceilPrice(null==n.chargesGroup.originalAmount?null:n.chargesGroup.originalAmount.pointAmount),"","","1.0-0")," ")}}function M(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.kc(2,"currency"),c.Wb()),2&e){var n=c.jc(5);c.Hb(1),c.Uc(" ",c.oc(2,1,n.showDecimals?n.chargesGroup.originalAmount.amount:n.ceilPrice(n.chargesGroup.originalAmount.amount),n.currencyCode,"symbol-narrow",n.showDecimals?void 0:"1.0-0")," ")}}function x(e,t){if(1&e&&(c.Zb(0,"span",19),c.Qc(1,P,3,6,"ng-container",7),c.Qc(2,M,3,6,"ng-container",7),c.Yb()),2&e){var n=c.jc(4);c.Hb(1),c.sc("ngIf",n.isDotersActive),c.Hb(1),c.sc("ngIf",!n.isDotersActive)}}function D(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.kc(2,"currency"),c.Wb()),2&e){var n=c.jc(4);c.Hb(1),c.Uc(" ",c.oc(2,1,n.ceilPrice(null==n.chargesGroup.amount?null:n.chargesGroup.amount.pointAmount),"","","1.0-0")," ")}}function I(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.kc(2,"currency"),c.Wb()),2&e){var n=c.jc(4);c.Hb(1),c.Uc(" ",c.oc(2,1,n.showDecimals?n.chargesGroup.amount.amount:n.ceilPrice(n.chargesGroup.amount.amount),n.currencyCode,"symbol-narrow",n.showDecimals?void 0:"1.0-0")," ")}}function L(e,t){1&e&&(c.Zb(0,"span",20),c.Sc(1,"d"),c.Yb())}var R=function(e){return{"item-discount":e}};function N(e,t){if(1&e&&(c.Xb(0),c.Qc(1,x,3,2,"span",16),c.Zb(2,"span",17),c.Qc(3,D,3,6,"ng-container",7),c.Qc(4,I,3,6,"ng-container",7),c.Yb(),c.Qc(5,L,2,0,"span",18),c.Wb()),2&e){var n=c.jc(3);c.Hb(1),c.sc("ngIf",n.headerPriceIsDiscount),c.Hb(1),c.sc("ngClass",c.vc(5,R,n.chargesGroup.amount.amount<0)),c.Hb(1),c.sc("ngIf",n.isDotersActive),c.Hb(1),c.sc("ngIf",!n.isDotersActive),c.Hb(1),c.sc("ngIf",n.isDotersActive)}}function j(e,t){1&e&&(c.Zb(0,"span"),c.Sc(1),c.kc(2,"cmsTranslate"),c.Yb()),2&e&&(c.Hb(1),c.Uc(" ",c.lc(2,1,"BOOKER_LABEL_ZERO-PRICE")," "))}function B(e,t){if(1&e&&(c.Xb(0),c.Qc(1,N,6,7,"ng-container",7),c.Qc(2,j,3,3,"span",7),c.Wb()),2&e){var n=c.jc(2);c.Hb(1),c.sc("ngIf",0!==n.chargesGroup.amount.amount),c.Hb(1),c.sc("ngIf",0===n.chargesGroup.amount.amount)}}function F(e,t){1&e&&c.Ub(0,"i",23)}function H(e,t){if(1&e&&(c.Zb(0,"span",21),c.Qc(1,F,1,0,"i",22),c.Yb()),2&e){var n=c.jc(2);c.Hb(1),c.sc("ngIf",n.canOpen)}}function U(e,t){if(1&e&&c.Ub(0,"app-basket-item-tooltip",29),2&e){var n=c.jc().$implicit,i=c.jc(3);c.sc("chargeCode",n.option.code)("isConfirmationView",i.confirmationView)}}function Y(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.kc(2,"currency"),c.Wb()),2&e){var n=c.jc(4).$implicit,i=c.jc(3);c.Hb(1),c.Uc(" ",c.oc(2,1,i.ceilPrice(null==n.option.originalAmount?null:n.option.originalAmount.pointAmount),"","","1.0-0")," ")}}function G(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.kc(2,"currency"),c.Wb()),2&e){var n=c.jc(4).$implicit,i=c.jc(3);c.Hb(1),c.Uc(" ",c.oc(2,1,i.showDecimals?n.option.originalAmount.amount:i.ceilPrice(n.option.originalAmount.amount),i.currencyCode,"symbol-narrow",i.showDecimals?void 0:"1.0-0")," ")}}function V(e,t){if(1&e&&(c.Zb(0,"span",31),c.Qc(1,Y,3,6,"ng-container",7),c.Qc(2,G,3,6,"ng-container",7),c.Yb()),2&e){var n=c.jc(6);c.Hb(1),c.sc("ngIf",n.isDotersActive),c.Hb(1),c.sc("ngIf",!n.isDotersActive)}}function Z(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.kc(2,"currency"),c.Wb()),2&e){var n=c.jc(3).$implicit,i=c.jc(3);c.Hb(1),c.Uc(" ",c.oc(2,1,i.ceilPrice(null==n.option.amount?null:n.option.amount.pointAmount),"","","1.0-0")," d ")}}function W(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.kc(2,"currency"),c.Wb()),2&e){var n=c.jc(3).$implicit,i=c.jc(3);c.Hb(1),c.Uc(" ",c.oc(2,1,i.showDecimals?n.option.amount.amount:i.ceilPrice(n.option.amount.amount),i.currencyCode,"symbol-narrow",i.showDecimals?void 0:"1.0-0")," ")}}var K=function(e){return{"item-discount opacity-6":e}};function z(e,t){if(1&e&&(c.Xb(0),c.Qc(1,V,3,2,"span",30),c.Zb(2,"span",17),c.Qc(3,Z,3,6,"ng-container",7),c.Qc(4,W,3,6,"ng-container",7),c.Yb(),c.Wb()),2&e){var n=c.jc(2).$implicit,i=c.jc(3);c.Hb(1),c.sc("ngIf",i.optionPriceIsDiscount(n)),c.Hb(1),c.sc("ngClass",c.vc(4,K,i.optionPriceIsDiscount(n)||(null==n.option.amount?null:n.option.amount.amount)<0)),c.Hb(1),c.sc("ngIf",i.isDotersActive),c.Hb(1),c.sc("ngIf",!i.isDotersActive)}}function Q(e,t){1&e&&(c.Zb(0,"span"),c.Sc(1),c.kc(2,"cmsTranslate"),c.Yb()),2&e&&(c.Hb(1),c.Uc(" ",c.lc(2,1,"BOOKER_LABEL_ZERO-PRICE")," "))}function X(e,t){if(1&e&&(c.Xb(0),c.Qc(1,z,5,6,"ng-container",7),c.Qc(2,Q,3,3,"span",7),c.Wb()),2&e){var n=c.jc().$implicit;c.Hb(1),c.sc("ngIf",!n.option.isIncluded),c.Hb(1),c.sc("ngIf",n.option.isIncluded)}}function q(e,t){1&e&&c.Ub(0,"span",21)}var $=function(e){return{"line-through":e}},J=function(e){return{"viva-fan":e}};function ee(e,t){if(1&e&&(c.Zb(0,"div",26),c.Zb(1,"div",3),c.Zb(2,"span",27),c.Sc(3),c.Yb(),c.Zb(4,"span",17),c.Sc(5),c.kc(6,"basketName"),c.Yb(),c.Qc(7,U,1,2,"app-basket-item-tooltip",28),c.Yb(),c.Zb(8,"div"),c.Qc(9,X,3,2,"ng-container",7),c.Qc(10,q,1,0,"span",8),c.Yb(),c.Yb()),2&e){var n=t.$implicit,i=c.jc(3);c.sc("ngClass",c.vc(11,$,i.isWaivedGuestFee(n.option))),c.Hb(2),c.sc("ngClass",c.vc(13,J,"FanDiscount"===n.option.code)),c.Hb(1),c.Uc(" ",i.showAmountOnOption?n.count+"x":""," "),c.Hb(1),c.sc("ngClass",c.vc(15,J,"FanDiscount"===n.option.code)),c.Hb(1),c.Uc(" ",c.mc(6,8,n.option.code,n.option.name)," "),c.Hb(2),c.sc("ngIf",!i.isWaivedGuestFee(n.option)&&i.chargesGroup.groupCode!==n.option.code),c.Hb(2),c.sc("ngIf",i.displayOptionChargeAmount),c.Hb(1),c.sc("ngIf",!i.confirmationView)}}function te(e,t){if(1&e&&(c.Zb(0,"div",24),c.Qc(1,ee,11,17,"div",25),c.Yb()),2&e){var n=c.jc(2);c.sc("@openClose",void 0),c.Hb(1),c.sc("ngForOf",n.optionsGroup)}}var ne=function(e){return{open:e}},ie=function(e){return{"no-pointer":e}};function re(e,t){if(1&e){var n=c.ac();c.Zb(0,"div",1),c.Zb(1,"div",2),c.hc("click",(function(){return c.Hc(n),c.jc().toggleOpen()})),c.Zb(2,"div",3),c.Qc(3,k,5,5,"ng-container",4),c.Qc(4,E,5,6,"ng-template",null,5,c.Rc),c.Ub(6,"app-basket-item-tooltip",6),c.Yb(),c.Zb(7,"div"),c.Qc(8,B,3,2,"ng-container",7),c.Qc(9,H,2,1,"span",8),c.Yb(),c.Yb(),c.Qc(10,te,2,2,"div",9),c.Yb()}if(2&e){var i=c.Ec(5),r=c.jc();c.sc("ngClass",c.vc(9,ne,r.isOpen)),c.Hb(1),c.sc("ngClass",c.vc(11,ie,r.confirmationView)),c.Hb(2),c.sc("ngIf",r.chargesGroup.groupCode===r.basketChargesGroupCode.FlightFare)("ngIfElse",i),c.Hb(3),c.sc("chargeCode",r.chargesGroup.groupCode)("isConfirmationView",r.confirmationView),c.Hb(2),c.sc("ngIf",r.displayHeaderChargeAmount),c.Hb(1),c.sc("ngIf",!r.confirmationView),c.Hb(1),c.sc("ngIf",r.isOpen&&r.isCollapsible)}}var oe,ae=((oe=function(){function e(t){_classCallCheck(this,e),this.cmsConfig=t,this.isOpen=!1,this.confirmationView=!1,this.showDecimals=!0,this.showItemAmount="all",this.useTuaNaming=!1,this.currencyCode="",this.isDotersActive=!1,this.showChargesAmount="all",this.isCollapsible=!0,this.passengers=0,this.basketChargesGroupCode=i.c,this.optionsGroup=[],this.hideableCodes=["FlightDiscount","FlightCharges"],this.cmsHideZeroBasket=!1,this.cmsHideZeroBasket=this.cmsConfig.getSectionFeatureValue(s.b.GLOBAL,s.a.HideBasketZeroConcepts)||!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.filterGroupOptions()}},{key:"toggleOpen",value:function(){this.confirmationView||!this.isOpen&&!this.canOpen||(this.isOpen=!this.isOpen)}},{key:"optionPriceIsDiscount",value:function(e){var t,n,i;return(null===(t=e.originalAmount)||void 0===t?void 0:t.amount)>(null===(n=e.amount)||void 0===n?void 0:n.amount)&&((null===(i=e.amount)||void 0===i?void 0:i.amount)||0)>0}},{key:"ceilPrice",value:function(e){return Math.ceil(e||0)}},{key:"setFareTags",value:function(e){switch(e){case a.e.VIVA_BASIC:return"FlightFareBasic";case a.e.VIVA_SMART:return"FlightFareSmart";case a.e.VIVA_LIGHT:return"FlightFareLight";case a.e.VIVA_ZERO:return"FlightFareZero";case a.e.FAREBASE:return"FlightFareBase";default:return"FlightFare"}}},{key:"filterGroupOptions",value:function(){var e=this,t=this.chargesGroup.options.map((function(e){return e.code}));t=t.filter((function(e,n){return t.indexOf(e)===n})),this.chargesGroup.groupCode===i.c.FlightFare&&t.includes("FlightCharges")&&t.includes("FlightVAT")&&(t[t.indexOf("FlightVAT")]="FlightCharges",t[t.indexOf("FlightCharges")]="FlightVAT"),t.forEach((function(t){var n=e.chargesGroup.options.filter((function(e){return e.code===t})),i=[];i.push(n.filter((function(e){return e.isIncluded}))),i.push(n.filter((function(e){return!e.isIncluded}))),i.forEach((function(t){if(t.length>0){var n=JSON.parse(JSON.stringify(t[0]));n.amount.amount=t.reduce((function(e,t){return e+t.amount.amount}),0),n.originalAmount.amount=t.reduce((function(e,t){return e+t.originalAmount.amount}),0),e.shouldAddOptionToGroup(n)&&e.optionsGroup.push({count:t.length,option:n})}}))}))}},{key:"shouldAddOptionToGroup",value:function(e){var t=e||{},n=t.code,i=t.amount,r=t.originalAmount;return!(this.cmsHideZeroBasket&&this.hideableCodes.includes(n)&&0===(null==i?void 0:i.amount)&&0===(null==r?void 0:r.amount))}},{key:"countBaseFare",value:function(e){return e.filter((function(e){return"FlightBaseFare"===e.code||"FlightServiceCharges"===e.code})).length||this.passengers}},{key:"countCheckedBaggage",value:function(e){return e.filter((function(e){return!i.e.includes(e.code)})).length||e.length}},{key:"countCarryOnBaggage",value:function(e){return e.filter((function(e){return!i.d.includes(e.code)})).length}},{key:"isWaivedGuestFee",value:function(e){return Object(i.g)(e)}},{key:"canOpen",get:function(){var e,t;return this.isCollapsible&&!!((null===(t=null===(e=this.chargesGroup)||void 0===e?void 0:e.options)||void 0===t?void 0:t.length)>0)}},{key:"showAmountOnHeader",get:function(){return"none"!==this.showItemAmount}},{key:"showAmountOnOption",get:function(){return"all"===this.showItemAmount}},{key:"headerPriceIsDiscount",get:function(){return this.chargesGroup.originalAmount.amount>this.chargesGroup.amount.amount&&this.chargesGroup.amount.amount>0}},{key:"displayHeaderChargeAmount",get:function(){return"all"===this.showChargesAmount||"header"===this.showChargesAmount}},{key:"displayOptionChargeAmount",get:function(){return"all"===this.showChargesAmount}}]),e}()).\u0275fac=function(e){return new(e||oe)(c.Tb(l.a))},oe.\u0275cmp=c.Nb({type:oe,selectors:[["app-basket-item-group"]],inputs:{isOpen:"isOpen",confirmationView:"confirmationView",showDecimals:"showDecimals",chargesGroup:"chargesGroup",showItemAmount:"showItemAmount",useTuaNaming:"useTuaNaming",currencyCode:"currencyCode",isDotersActive:"isDotersActive",showChargesAmount:"showChargesAmount",isCollapsible:"isCollapsible",passengers:"passengers"},decls:1,vars:1,consts:[["class","basket-item-group",3,"ngClass",4,"ngIf"],[1,"basket-item-group",3,"ngClass"],[1,"group-header","item-row",3,"ngClass","click"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["ChargesGroup",""],[1,"item-amount",3,"chargeCode","isConfirmationView"],[4,"ngIf"],["class","action-icon",4,"ngIf"],["class","group-container",4,"ngIf"],["class","item-amount",4,"ngIf"],[1,"item-amount"],["class","item-amount",3,"ngSwitch",4,"ngIf"],[1,"item-amount",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","item-discount line-through mr-10 pr-5",4,"ngIf"],[3,"ngClass"],["class","ml-1",4,"ngIf"],[1,"item-discount","line-through","mr-10","pr-5"],[1,"ml-1"],[1,"action-icon"],["class","fas fa-caret-down",4,"ngIf"],[1,"fas","fa-caret-down"],[1,"group-container"],["class","item-row",3,"ngClass",4,"ngFor","ngForOf"],[1,"item-row",3,"ngClass"],[1,"item-amount",3,"ngClass"],[3,"chargeCode","isConfirmationView",4,"ngIf"],[3,"chargeCode","isConfirmationView"],["class","item-discount line-through mr-10 pr-5 opacity-6",4,"ngIf"],[1,"item-discount","line-through","mr-10","pr-5","opacity-6"]],template:function(e,t){1&e&&c.Qc(0,re,11,13,"div",0),2&e&&c.sc("ngIf",t.chargesGroup)},directives:[u.u,u.r,b,u.y,u.z,u.A,u.t],pipes:[y.a,u.d,_.a],styles:[".basket-item-group[_ngcontent-%COMP%]{width:calc(100% + 20px);margin-left:-12px;font-size:12px;line-height:16px}@media print{.basket-item-group[_ngcontent-%COMP%]{font-size:.8em;line-height:auto}}.basket-item-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]:not(.no-pointer){cursor:pointer}.basket-item-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]:not(.no-pointer):hover   .action-icon[_ngcontent-%COMP%]{color:var(--vg4)}.basket-item-group[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]{padding:5px 12px 3px;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.basket-item-group[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]   .viva-fan[_ngcontent-%COMP%]{color:var(--b4)}.basket-item-group[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]{overflow:hidden}.basket-item-group[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{color:var(--gr40)}.basket-item-group[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]:hover{color:var(--vg4)}.basket-item-group[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{cursor:pointer}.basket-item-group[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]{color:var(--gr40);border-radius:3px}.basket-item-group[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]:hover{background-color:var(--wh2)}.basket-item-group[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{display:inline-block;text-align:right;padding-left:8px;min-width:18px}.basket-item-group[_ngcontent-%COMP%]   .item-amount[_ngcontent-%COMP%]{display:inline-block;min-width:21px}.basket-item-group[_ngcontent-%COMP%]   .item-discount[_ngcontent-%COMP%]{color:var(--sc-c6)}.basket-item-group.open[_ngcontent-%COMP%]{margin-bottom:7px}.basket-item-group.open[_ngcontent-%COMP%] > .group-header[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%] > i.fa-caret-down[_ngcontent-%COMP%]{transform:rotate(180deg)}.basket-item-group[_ngcontent-%COMP%]   .line-through[_ngcontent-%COMP%]{text-decoration:line-through}"],data:{animation:[o.animation]}}),oe)},"0Cz8":function(e,t,n){var i=n("Xi7e"),r=n("ebwN"),o=n("e4Nc");e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var a=n.__data__;if(!r||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},"0EUg":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("bHdf");function r(){return Object(i.a)(1)}},"0WuY":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(e){return e.INACTIVE="INACTIVE",e.FLIGHT="FLIGHT",e.RESERVATION="RESERVATION",e.PLANNING="PLANNING",e.FLISTATUS="FLIGHT_STATUS",e.SEARCH="SEARCH",e.LOCALE="LOCALE",e.EDIT_SEARCH="EDIT_SEARCH",e}({}),r=function(e){return e.NORMAL="normal",e.BOOKING="booking",e.MANAGE="manage",e}({})},"0jNN":function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,r=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(n[i]=e[i]);return n};e.exports={arrayToObject:o,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var r=t[i],o=r.obj[r.prop],a=Object.keys(o),s=0;s<a.length;++s){var c=a[s],l=o[c];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:o,prop:c}),n.push(l))}return function(e){for(var t;e.length;){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var i=[],r=0;r<t.length;++r)void 0!==t[r]&&i.push(t[r]);n.obj[n.prop]=i}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",i=0;i<t.length;++i){var o=t.charCodeAt(i);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?n+=t.charAt(i):o<128?n+=r[o]:o<2048?n+=r[192|o>>6]+r[128|63&o]:o<55296||o>=57344?n+=r[224|o>>12]+r[128|o>>6&63]+r[128|63&o]:(o=65536+((1023&o)<<10|1023&t.charCodeAt(i+=1)),n+=r[240|o>>18]+r[128|o>>12&63]+r[128|o>>6&63]+r[128|63&o])}return n},isBuffer:function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];(r.plainObjects||r.allowPrototypes||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!=typeof t)return[t].concat(n);var a=t;return Array.isArray(t)&&!Array.isArray(n)&&(a=o(t,r)),Array.isArray(t)&&Array.isArray(n)?(n.forEach((function(n,o){i.call(t,o)?t[o]&&"object"==typeof t[o]?t[o]=e(t[o],n,r):t.push(n):t[o]=n})),t):Object.keys(n).reduce((function(t,o){var a=n[o];return t[o]=i.call(t,o)?e(t[o],a,r):a,t}),a)}}},"0o02":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("/Yn+"),r=n("WCtt"),o=n("fXoL"),a=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){if(!e)return"";var n=t||r.a;return Object(i.documentToHtmlString)(e,n)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Sb({name:"richText",type:e,pure:!0}),e}()},"0oao":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i,r=n("jtHE"),o=n("PqYM"),a=n("z6cu"),s=n("LRne"),c=n("5+tZ"),l=n("7o/Q"),u=function(){function e(t,n){_classCallCheck(this,e),this.count=t,this.source=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new d(e,this.count,this.source))}}]),e}(),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).count=i,o.source=r,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t=this.source,i=this.count;if(0===i)return _get(_getPrototypeOf(n.prototype),"error",this).call(this,e);i>-1&&(this.count=i-1),t.subscribe(this._unsubscribeAndRecycle())}}}]),n}(l.a),h=n("JIr8"),f=n("tS1D"),p=n("AytR"),g=n("fXoL"),v=n("zIwB"),m=((i=function(){function e(t){_classCallCheck(this,e),this.bfContextWrapper=t,this.$ready=new r.a(1)}return _createClass(e,[{key:"loadScript",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.createElement("script");n.src=p.g.extLinks.BOOKER_DEEP_LINK,n.type="text/javascript",n.async=!0,n.defer=!0,n.onload=this.setReadyOnLoad.bind(this,t),n.onerror=this.setReady.bind(this,!1),t&&this.bfContextWrapper.exposePWAContextFunctions(),e.head.appendChild(n)}},{key:"setReadyOnLoad",value:function(e){var t=this;e?Object(o.a)(1e3).pipe(Object(c.a)((function(e){return t._contextAvailable?Object(s.a)(!0):Object(a.a)("BidFlyerContext not available on window!")})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return function(t){return t.lift(new u(e,t))}}(4),Object(h.a)((function(e){return p.g.production||console.error("Bidflyer Script Loader",e),Object(s.a)(!1)}))).subscribe((function(e){t.setReady(e)})):this.setReady(!0)}},{key:"setReady",value:function(e){this.$ready.closed||(this.$ready.next(e),this.$ready.complete())}},{key:"ready",get:function(){return this.$ready.asObservable().pipe(Object(f.a)(1e4),Object(h.a)((function(){return Object(s.a)(!1)}))).toPromise()}},{key:"_contextAvailable",get:function(){return"BidFlyerContext"in window}}]),e}()).\u0275fac=function(e){return new(e||i)(g.dc(v.a))},i.\u0275prov=g.Pb({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},"0wYa":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("ofXK"),r=n("o5mt"),o=n("3Pt+"),a=n("Pqv9"),s=n("d0zJ"),c=n("mI2T"),l=n("fXoL"),u=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=l.Rb({type:e}),e.\u0275inj=l.Qb({factory:function(t){return new(t||e)},imports:[[i.c,r.a,o.E,a.a,s.a,c.a]]}),e}()},"0ycA":function(e,t){e.exports=function(){return[]}},1:function(e,t,n){e.exports=n("zUnb")},"1+5i":function(e,t,n){var i=n("w/wX"),r=n("sEf8"),o=n("mdPL"),a=o&&o.isSet,s=a?r(a):i;e.exports=s},"128B":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("Kqap"),r=n("BFxc"),o=n("xbPD"),a=n("mCNh");function s(e,t){return arguments.length>=2?function(n){return Object(a.a)(Object(i.a)(e,t),Object(r.a)(1),Object(o.a)(t))(n)}:function(t){return Object(a.a)(Object(i.a)((function(t,n,i){return e(t,n,i+1)})),Object(r.a)(1))(t)}}},"1AID":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(e){return e.MyTripsProfileSidebarLink="MyTripsProfileSidebarLink",e.WebChat="WebChat",e.GlobalBidFlyerScriptLoad="GlobalBidFlyerScriptLoad",e.SocialLoginFacebook="SocialLoginFacebook",e.SocialLoginGoogle="SocialLoginGoogle",e.DisableSocialLogin="DisableSocialLogin",e.DarkSite="DarkSite",e.MobileCalendarPrices="MobileCalendarPrices",e.Doters="Doters",e.ShowInfantsInStaff="ShowInfantsInStaff",e.LoginModalInvitation="LoginModalInvitation",e.AndroidBanner="AndroidBanner",e.iOSBanner="iOSBanner",e.DotersOptOut="DotersOptOut",e.BoxeverIntegration="BoxeverIntegration",e.DYIntegration="DYIntegration",e.UseV2ForRequestPasswordReset="UseV2ForRequestPasswordReset",e.UseDotersLoader="UseDotersLoader",e.HideBasketZeroConcepts="HideBasketZeroConcepts",e.ShowNationalSelectionItems="ShowNationalSelectionItems",e.SingleSignOn="SingleSignOn",e.VivaFanBookingToogle="VivaFanBookingToogle",e.LowFareCalendar="LowFareCalendar",e.WeeklyCalendar="WeeklyCalendar",e.ExpressCheckout="ExpressCheckout",e.PassengersLoginPopUp="PassengersLoginPopUp",e.PassengersDisplayCustomerNo="PassengersDisplayCustomerNo",e.RecommendedSeats="RecommendedSeats",e.LowFareCalendarCache="LowFareCalendarCache",e.ShareItinerary="ShareItinerary",e.VivaFanSubscriptionModal="VivaFanSubscriptionModal",e.VivaFanBookingPricesColumn="VivaFanBookingPricesColumn",e.VivaFanAutoSelection="VivaFanAutoSelection",e.HideVivaFanToogleForCNX="HideVivaFanToogleForCNX",e.FlightStatusConnections="FlightStatusConnections",e.RedirectColombiaSearch="RedirectColombiaSearch",e.SaveSeatsSelectionOnSeatChange="SaveSeatsSelectionOnSeatChange",e.ZeroUpsellModal="ZeroUpsellModal",e.FlightOptionsV2="FlightOptionsV2",e.OpenJawBooker="OpenJawBooker",e.DisplayVivaFanPriceLowFare="DisplayVivaFanPriceLowFare",e.FlightStatusNotifications="FlightStatusNotifications",e.MinorTravelingAlone="MinorTravelingAlone",e.DisplayHotelStepForDesktopOnly="DisplayHotelStepForDesktopOnly",e.DisplayTJXAsNonStop="DisplayTJXAsNonStop",e.SendAdditionalPhone="SendAdditionalPhone",e.SocialSignUp="SocialSignUp",e.SocialLoginSunsetNotice="SocialLoginSunsetNotice",e.CubaModal="CubaModal",e.ShowUpliftPricingNodes="ShowUpliftPricingNodes",e.StaffPassengerCompanions="StaffPassengerCompanions",e.OverrideCarnetInCardPayment="OverrideCarnetInCardPayment",e.DisplayAddCobrandBenefitsAlert="DisplayAddCobrandBenefitsAlert",e.WhatsAppCheckboxPreselection="WhatsAppCheckboxPreselection",e.BookingGuestFee="BookingGuestFee",e.LogoutGuestFee="LogoutGuestFee",e.SendMaleAsDefault="SendMaleAsDefault",e.UsePayPalButton="UsePayPalButton",e.ShowCarbonModal="ShowCarbonModal",e.AutoDotersPayment="AutoDotersPayment",e.DisplayKueskiDetailsModal="DisplayKueskiDetailsModal",e.DotersAutoToogleSelection="DotersAutoToogleSelection",e.UseCacheEndpointForMonthlyLowFares="UseCacheEndpointForMonthlyLowFares",e.ShowDotersEarnGlobal="ShowDotersEarnGlobal",e.DisplayOldSiteAlertInMmb="DisplayOldSiteAlertInMmb",e.HideAncillariesWithNoPrice="HideAncillariesWithNoPrice",e.DisplayCobrandLabel="DisplayCobrandLabel",e.DisplayCobrandLabelForDoters="DisplayCobrandLabelForDoters",e.SaveCardState="SaveCardState",e.PatchCobrandCardType="PatchCobrandCardType",e.IncludeMaacStationsInSearch="IncludeMaacStationsInSearch",e.AllowAlternateStationsParam="AllowAlternateStationsParam",e.UseMaacStationsAsDefault="UseMaacStationsAsDefault",e.DisplayVivafanCompanions="DisplayVivafanCompanions",e.BaseFareForAgencyAndEnterprise="BaseFareForAgencyAndEnterprise",e.DisplayAIFAAlert="DisplayAIFAAlert",e.ShowDotersEarnInMMB="ShowDotersEarnInMMB",e}({}),r=function(e){return e[e.GLOBAL=1]="GLOBAL",e[e.BOOKING=2]="BOOKING",e[e.MANAGE=3]="MANAGE",e}({})},"1G5W":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("l7GE"),r=n("ZUHj");function o(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(t){_classCallCheck(this,e),this.notifier=t}return _createClass(e,[{key:"call",value:function(e,t){var n=new s(e),i=Object(r.a)(n,this.notifier);return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).seenValue=!1,i}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,i,r){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(i.a)},"1hx3":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("2Vo4"),r=n("fXoL"),o=function(){var e=function(){function e(){_classCallCheck(this,e),this.$selectedBookerTypeValue=new i.a(void 0)}return _createClass(e,[{key:"emitBookerSearchTypeValue",value:function(e){this.$selectedBookerTypeValue.next(e)}},{key:"selectedBookerTypeValue$",get:function(){return this.$selectedBookerTypeValue.asObservable()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"1pIY":function(e,t,n){"use strict";var i=n("2tF/");t.async=new(n("NTcF").AsyncScheduler)(i.AsyncAction)},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2SVd":function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},"2Vo4":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("XNiG"),r=n("9ppp"),o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._value=e,i}return _createClass(n,[{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new r.a;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),n}(i.a)},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=!1,r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}}},"2gN3":function(e,t,n){var i=n("Kz5y");e.exports=i["__core-js_shared__"]},"2pl3":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"2tF/":function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.AsyncAction=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return r(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(n("Dz+M").Action)},"2xm2":function(e){e.exports=JSON.parse('{"version":"2023c","zones":["America/Mexico_City|CST|60|0||20e6"],"links":[],"countries":["MX|America/Mexico_City"]}')},"3/DG":function(e,t){function n(e,t){var n=[],i=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+i.slice(0,n.indexOf(t)).join(".")+"]"}),function(r,o){if(n.length>0){var a=n.indexOf(this);~a?n.splice(a+1):n.push(this),~a?i.splice(a,1/0,r):i.push(r),~n.indexOf(o)&&(o=t.call(this,r,o))}else n.push(o);return null==e?o:e.call(this,r,o)}}(e.exports=function(e,t,i,r){return JSON.stringify(e,n(t,r),i)}).getSerialize=n},"39vh":function(e,t,n){"use strict";n.d(t,"a",(function(){return at})),n.d(t,"b",(function(){return ut})),n.d(t,"c",(function(){return dt}));var i=n("fXoL");function r(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function o(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function a(e){var t=o(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function s(e){return e instanceof o(e).Element||e instanceof Element}function c(e){return e instanceof o(e).HTMLElement||e instanceof HTMLElement}function l(e){return e?(e.nodeName||"").toLowerCase():null}function u(e){return((s(e)?e.ownerDocument:e.document)||window.document).documentElement}function d(e){return r(u(e)).left+a(e).scrollLeft}function h(e){return o(e).getComputedStyle(e)}function f(e){var t=h(e);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function p(e,t,n){void 0===n&&(n=!1);var i,s,h=u(t),p=r(e),g=c(t),v={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(g||!g&&!n)&&(("body"!==l(t)||f(h))&&(v=(i=t)!==o(i)&&c(i)?{scrollLeft:(s=i).scrollLeft,scrollTop:s.scrollTop}:a(i)),c(t)?((m=r(t)).x+=t.clientLeft,m.y+=t.clientTop):h&&(m.x=d(h))),{x:p.left+v.scrollLeft-m.x,y:p.top+v.scrollTop-m.y,width:p.width,height:p.height}}function g(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function v(e){return"html"===l(e)?e:e.assignedSlot||e.parentNode||e.host||u(e)}function m(e,t){void 0===t&&(t=[]);var n=function e(t){return["html","body","#document"].indexOf(l(t))>=0?t.ownerDocument.body:c(t)&&f(t)?t:e(v(t))}(e),i="body"===l(n),r=o(n),a=i?[r].concat(r.visualViewport||[],f(n)?n:[]):n,s=t.concat(a);return i?s:s.concat(m(v(a)))}function b(e){return["table","td","th"].indexOf(l(e))>=0}function y(e){if(!c(e)||"fixed"===h(e).position)return null;var t=e.offsetParent;if(t){var n=u(t);if("body"===l(t)&&"static"===h(t).position&&"static"!==h(n).position)return n}return t}function _(e){for(var t=o(e),n=y(e);n&&b(n)&&"static"===h(n).position;)n=y(n);return n&&"body"===l(n)&&"static"===h(n).position?t:n||function(e){for(var t=v(e);c(t)&&["html","body"].indexOf(l(t))<0;){var n=h(t);if("none"!==n.transform||"none"!==n.perspective||n.willChange&&"auto"!==n.willChange)return t;t=t.parentNode}return null}(e)||t}var C="top",k="bottom",S="right",O="left",T=[C,k,S,O],w=T.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),A=[].concat(T,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),E=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"],P={placement:"bottom",modifiers:[],strategy:"absolute"};function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}var x={passive:!0};function D(e){return e.split("-")[0]}function I(e){return e.split("-")[1]}function L(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function R(e){var t,n=e.reference,i=e.element,r=e.placement,o=r?D(r):null,a=r?I(r):null,s=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2;switch(o){case C:t={x:s,y:n.y-i.height};break;case k:t={x:s,y:n.y+n.height};break;case S:t={x:n.x+n.width,y:c};break;case O:t={x:n.x-i.width,y:c};break;default:t={x:n.x,y:n.y}}var l=o?L(o):null;if(null!=l){var u="y"===l?"height":"width";switch(a){case"start":t[l]=t[l]-(n[u]/2-i[u]/2);break;case"end":t[l]=t[l]+(n[u]/2-i[u]/2)}}return t}var N={top:"auto",right:"auto",bottom:"auto",left:"auto"};function j(e){var t,n=e.popper,i=e.popperRect,r=e.placement,a=e.offsets,s=e.position,c=e.gpuAcceleration,l=e.adaptive,d=e.roundOffsets?function(e){var t=e.y,n=window.devicePixelRatio||1;return{x:Math.round(e.x*n)/n||0,y:Math.round(t*n)/n||0}}(a):a,h=d.x,f=void 0===h?0:h,p=d.y,g=void 0===p?0:p,v=a.hasOwnProperty("x"),m=a.hasOwnProperty("y"),b=O,y=C,T=window;if(l){var w=_(n);w===o(n)&&(w=u(n)),r===C&&(y=k,g-=w.clientHeight-i.height,g*=c?1:-1),r===O&&(b=S,f-=w.clientWidth-i.width,f*=c?1:-1)}var A,E=Object.assign({position:s},l&&N);return Object.assign(Object.assign({},E),{},c?((A={})[y]=m?"0":"",A[b]=v?"0":"",A.transform=(T.devicePixelRatio||1)<2?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",A):((t={})[y]=m?g+"px":"",t[b]=v?f+"px":"",t.transform="",t))}var B={left:"right",right:"left",bottom:"top",top:"bottom"};function F(e){return e.replace(/left|right|bottom|top/g,(function(e){return B[e]}))}var H={start:"end",end:"start"};function U(e){return e.replace(/start|end/g,(function(e){return H[e]}))}function Y(e,t){var n,i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&((n=i)instanceof o(n).ShadowRoot||n instanceof ShadowRoot)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function G(e){return Object.assign(Object.assign({},e),{},{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function V(e,t){return"viewport"===t?G(function(e){var t=o(e),n=u(e),i=t.visualViewport,r=n.clientWidth,a=n.clientHeight,s=0,c=0;return i&&(r=i.width,a=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=i.offsetLeft,c=i.offsetTop)),{width:r,height:a,x:s+d(e),y:c}}(e)):c(t)?function(e){var t=r(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):G(function(e){var t=u(e),n=a(e),i=e.ownerDocument.body,r=Math.max(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Math.max(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+d(e),c=-n.scrollTop;return"rtl"===h(i||t).direction&&(s+=Math.max(t.clientWidth,i?i.clientWidth:0)-r),{width:r,height:o,x:s,y:c}}(u(e)))}function Z(e){return Object.assign(Object.assign({},{top:0,right:0,bottom:0,left:0}),e)}function W(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function K(e,t){void 0===t&&(t={});var n=t.placement,i=void 0===n?e.placement:n,o=t.boundary,a=void 0===o?"clippingParents":o,d=t.rootBoundary,f=void 0===d?"viewport":d,p=t.elementContext,g=void 0===p?"popper":p,b=t.altBoundary,y=void 0!==b&&b,O=t.padding,w=void 0===O?0:O,A=Z("number"!=typeof w?w:W(w,T)),E=e.elements.reference,P=e.rects.popper,M=e.elements[y?"popper"===g?"reference":"popper":g],x=function(e,t,n){var i="clippingParents"===t?function(e){var t=m(v(e)),n=["absolute","fixed"].indexOf(h(e).position)>=0&&c(e)?_(e):e;return s(n)?t.filter((function(e){return s(e)&&Y(e,n)&&"body"!==l(e)})):[]}(e):[].concat(t),r=[].concat(i,[n]),o=r.reduce((function(t,n){var i=V(e,n);return t.top=Math.max(i.top,t.top),t.right=Math.min(i.right,t.right),t.bottom=Math.min(i.bottom,t.bottom),t.left=Math.max(i.left,t.left),t}),V(e,r[0]));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}(s(M)?M:M.contextElement||u(e.elements.popper),a,f),D=r(E),I=R({reference:D,element:P,strategy:"absolute",placement:i}),L=G(Object.assign(Object.assign({},P),I)),N="popper"===g?L:D,j={top:x.top-N.top+A.top,bottom:N.bottom-x.bottom+A.bottom,left:x.left-N.left+A.left,right:N.right-x.right+A.right},B=e.modifiersData.offset;if("popper"===g&&B){var F=B[i];Object.keys(j).forEach((function(e){var t=[S,k].indexOf(e)>=0?1:-1,n=[C,k].indexOf(e)>=0?"y":"x";j[e]+=F[n]*t}))}return j}function z(e,t,n){return Math.max(e,Math.min(t,n))}function Q(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function X(e){return[C,S,k,O].some((function(t){return e[t]>=0}))}var q=function(e){void 0===e&&(e={});var t=e.defaultModifiers,n=void 0===t?[]:t,i=e.defaultOptions,r=void 0===i?P:i;return function(e,t,i){void 0===i&&(i=r);var o,a,c={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},P),r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],u=!1,d={state:c,setOptions:function(i){h(),c.options=Object.assign(Object.assign(Object.assign({},r),c.options),i),c.scrollParents={reference:s(e)?m(e):e.contextElement?m(e.contextElement):[],popper:m(t)};var o,a,u=function(e){var t=function(e){var t=new Map,n=new Set,i=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||function e(r){n.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach((function(i){if(!n.has(i)){var r=t.get(i);r&&e(r)}})),i.push(r)}(e)})),i}(e);return E.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((o=[].concat(n,c.options.modifiers),a=o.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign(Object.assign(Object.assign({},n),t),{},{options:Object.assign(Object.assign({},n.options),t.options),data:Object.assign(Object.assign({},n.data),t.data)}):t,e}),{}),Object.keys(a).map((function(e){return a[e]}))));return c.orderedModifiers=u.filter((function(e){return e.enabled})),c.orderedModifiers.forEach((function(e){var t=e.options,n=e.effect;if("function"==typeof n){var i=n({state:c,name:e.name,instance:d,options:void 0===t?{}:t});l.push(i||function(){})}})),d.update()},forceUpdate:function(){if(!u){var e=c.elements,t=e.reference,n=e.popper;if(M(t,n)){c.rects={reference:p(t,_(n),"fixed"===c.options.strategy),popper:g(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(e){return c.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<c.orderedModifiers.length;i++)if(!0!==c.reset){var r=c.orderedModifiers[i],o=r.fn,a=r.options;"function"==typeof o&&(c=o({state:c,options:void 0===a?{}:a,name:r.name,instance:d})||c)}else c.reset=!1,i=-1}}},update:(o=function(){return new Promise((function(e){d.forceUpdate(),e(c)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(o())}))}))),a}),destroy:function(){h(),u=!0}};if(!M(e,t))return d;function h(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(i).then((function(e){!u&&i.onFirstUpdate&&i.onFirstUpdate(e)})),d}}({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,a=void 0===r||r,s=i.resize,c=void 0===s||s,l=o(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",n.update,x)})),c&&l.addEventListener("resize",n.update,x),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",n.update,x)})),c&&l.removeEventListener("resize",n.update,x)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state;t.modifiersData[e.name]=R({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,c=void 0===s||s,l={placement:D(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign(Object.assign({},t.styles.popper),j(Object.assign(Object.assign({},l),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),j(Object.assign(Object.assign({},l),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];c(r)&&l(r)&&(Object.assign(r.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});c(i)&&l(i)&&(Object.assign(i.style,o),Object.keys(r).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.name,i=e.options.offset,r=void 0===i?[0,0]:i,o=A.reduce((function(e,n){return e[n]=function(e,t,n){var i=D(e),r=[O,C].indexOf(i)>=0?-1:1,o="function"==typeof n?n(Object.assign(Object.assign({},t),{},{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*r,[O,S].indexOf(i)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,r),e}),{}),a=o[t.placement],s=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=a.x,t.modifiersData.popperOffsets.y+=s),t.modifiersData[n]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r||r,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,g=n.allowedAutoPlacements,v=t.options.placement,m=D(v),b=c||(m!==v&&p?function(e){if("auto"===D(e))return[];var t=F(e);return[U(e),t,U(t)]}(v):[F(v)]),y=[v].concat(b).reduce((function(e,n){return e.concat("auto"===D(n)?function(e,t){void 0===t&&(t={});var n=t.boundary,i=t.rootBoundary,r=t.padding,o=t.flipVariations,a=t.allowedAutoPlacements,s=void 0===a?A:a,c=I(t.placement),l=c?o?w:w.filter((function(e){return I(e)===c})):T,u=l.filter((function(e){return s.indexOf(e)>=0}));0===u.length&&(u=l);var d=u.reduce((function(t,o){return t[o]=K(e,{placement:o,boundary:n,rootBoundary:i,padding:r})[D(o)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:p,allowedAutoPlacements:g}):n)}),[]),_=t.rects.reference,E=t.rects.popper,P=new Map,M=!0,x=y[0],L=0;L<y.length;L++){var R=y[L],N=D(R),j="start"===I(R),B=[C,k].indexOf(N)>=0,H=B?"width":"height",Y=K(t,{placement:R,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),G=B?j?S:O:j?k:C;_[H]>E[H]&&(G=F(G));var V=F(G),Z=[];if(o&&Z.push(Y[N]<=0),s&&Z.push(Y[G]<=0,Y[V]<=0),Z.every((function(e){return e}))){x=R,M=!1;break}P.set(R,Z)}if(M)for(var W=function(e){var t=y.find((function(t){var n=P.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return x=t,"break"},z=p?3:1;z>0&&"break"!==W(z);z--);t.placement!==x&&(t.modifiersData[i]._skip=!0,t.placement=x,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=void 0===r||r,a=n.altAxis,s=void 0!==a&&a,c=n.tether,l=void 0===c||c,u=n.tetherOffset,d=void 0===u?0:u,h=K(t,{boundary:n.boundary,rootBoundary:n.rootBoundary,padding:n.padding,altBoundary:n.altBoundary}),f=D(t.placement),p=I(t.placement),v=!p,m=L(f),b="x"===m?"y":"x",y=t.modifiersData.popperOffsets,T=t.rects.reference,w=t.rects.popper,A="function"==typeof d?d(Object.assign(Object.assign({},t.rects),{},{placement:t.placement})):d,E={x:0,y:0};if(y){if(o){var P="y"===m?C:O,M="y"===m?k:S,x="y"===m?"height":"width",R=y[m],N=y[m]+h[P],j=y[m]-h[M],B=l?-w[x]/2:0,F="start"===p?T[x]:w[x],H="start"===p?-w[x]:-T[x],U=t.elements.arrow,Y=l&&U?g(U):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=G[P],Z=G[M],W=z(0,T[x],Y[x]),Q=v?T[x]/2-B-W-V-A:F-W-V-A,X=v?-T[x]/2+B+W+Z+A:H+W+Z+A,q=t.elements.arrow&&_(t.elements.arrow),$=t.modifiersData.offset?t.modifiersData.offset[t.placement][m]:0,J=y[m]+X-$,ee=z(l?Math.min(N,y[m]+Q-$-(q?"y"===m?q.clientTop||0:q.clientLeft||0:0)):N,R,l?Math.max(j,J):j);y[m]=ee,E[m]=ee-R}if(s){var te=y[b],ne=z(te+h["x"===m?C:O],te,te-h["x"===m?k:S]);y[b]=ne,E[b]=ne-te}t.modifiersData[i]=E}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,r=n.elements.arrow,o=n.modifiersData.popperOffsets,a=D(n.placement),s=L(a),c=[O,S].indexOf(a)>=0?"height":"width";if(r&&o){var l=n.modifiersData[i+"#persistent"].padding,u=g(r),d="y"===s?C:O,h="y"===s?k:S,f=n.rects.reference[c]+n.rects.reference[s]-o[s]-n.rects.popper[c],p=o[s]-n.rects.reference[s],v=_(r),m=v?"y"===s?v.clientHeight||0:v.clientWidth||0:0,b=m/2-u[c]/2+(f/2-p/2),y=z(l[d],b,m-u[c]-l[h]);n.modifiersData[i]=((t={})[s]=y,t.centerOffset=y-b,t)}},effect:function(e){var t=e.state,n=e.options,i=e.name,r=n.element,o=void 0===r?"[data-popper-arrow]":r,a=n.padding,s=void 0===a?0:a;null!=o&&("string"!=typeof o||(o=t.elements.popper.querySelector(o)))&&Y(t.elements.popper,o)&&(t.elements.arrow=o,t.modifiersData[i+"#persistent"]={padding:Z("number"!=typeof s?s:W(s,T))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,a=K(t,{elementContext:"reference"}),s=K(t,{altBoundary:!0}),c=Q(a,i),l=Q(s,r,o),u=X(c),d=X(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),$={passive:!0,capture:!0};function J(e,t,n){if(Array.isArray(e)){var i=e[t];return null==i?Array.isArray(n)?n[t]:n:i}return e}function ee(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function te(e,t){return"function"==typeof e?e.apply(void 0,t):e}function ne(e,t){return 0===t?e:function(i){clearTimeout(n),n=setTimeout((function(){e(i)}),t)};var n}function ie(e){return[].concat(e)}function re(e,t){-1===e.indexOf(t)&&e.push(t)}function oe(e){return[].slice.call(e)}function ae(){return document.createElement("div")}function se(e){return["Element","Fragment"].some((function(t){return ee(e,t)}))}function ce(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function le(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function ue(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[i](t,n)}))}var de={isTouch:!1},he=0;function fe(){de.isTouch||(de.isTouch=!0,window.performance&&document.addEventListener("mousemove",pe))}function pe(){var e=performance.now();e-he<20&&(de.isTouch=!1,document.removeEventListener("mousemove",pe)),he=e}function ge(){var e,t=document.activeElement;(e=t)&&e._tippy&&e._tippy.reference===e&&t.blur&&!t._tippy.state.isVisible&&t.blur()}var ve="undefined"!=typeof window&&"undefined"!=typeof document?navigator.userAgent:"",me=/MSIE |Trident\//.test(ve),be=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),ye=Object.keys(be);function _e(e){var t=(e.plugins||[]).reduce((function(t,n){var i=n.name;return i&&(t[i]=void 0!==e[i]?e[i]:n.defaultValue),t}),{});return Object.assign({},e,{},t)}function Ce(e,t){var n=Object.assign({},t,{content:te(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(_e(Object.assign({},be,{plugins:t}))):ye).reduce((function(t,n){var i=(e.getAttribute("data-tippy-"+n)||"").trim();if(!i)return t;if("content"===n)t[n]=i;else try{t[n]=JSON.parse(i)}catch(r){t[n]=i}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},be.aria,{},n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function ke(e,t){e.innerHTML=t}function Se(e){var t=ae();return!0===e?t.className="tippy-arrow":(t.className="tippy-svg-arrow",se(e)?t.appendChild(e):ke(t,e)),t}function Oe(e,t){se(t.content)?(ke(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?ke(e,t.content):e.textContent=t.content)}function Te(e){var t=e.firstElementChild,n=oe(t.children);return{box:t,content:n.find((function(e){return e.classList.contains("tippy-content")})),arrow:n.find((function(e){return e.classList.contains("tippy-arrow")||e.classList.contains("tippy-svg-arrow")})),backdrop:n.find((function(e){return e.classList.contains("tippy-backdrop")}))}}function we(e){var t=ae(),n=ae();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=ae();function r(n,i){var r=Te(t),o=r.box,a=r.content,s=r.arrow;i.theme?o.setAttribute("data-theme",i.theme):o.removeAttribute("data-theme"),"string"==typeof i.animation?o.setAttribute("data-animation",i.animation):o.removeAttribute("data-animation"),i.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?o.setAttribute("role",i.role):o.removeAttribute("role"),n.content===i.content&&n.allowHTML===i.allowHTML||Oe(a,e.props),i.arrow?s?n.arrow!==i.arrow&&(o.removeChild(s),o.appendChild(Se(i.arrow))):o.appendChild(Se(i.arrow)):s&&o.removeChild(s)}return i.className="tippy-content",i.setAttribute("data-state","hidden"),Oe(i,e.props),t.appendChild(n),n.appendChild(i),r(e.props,e.props),{popper:t,onUpdate:r}}we.$$tippy=!0;var Ae=1,Ee=[],Pe=[];function Me(e,t){void 0===t&&(t={});var n=be.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",fe,$),window.addEventListener("blur",ge);var i,r=Object.assign({},t,{plugins:n}),o=(i=e,se(i)?[i]:function(e){return ee(e,"NodeList")}(i)?oe(i):Array.isArray(i)?i:oe(document.querySelectorAll(i))).reduce((function(e,t){var n=t&&function(e,t){var n,i,r,o,a,s,c,l,u,d=Ce(e,Object.assign({},be,{},_e((n=t,Object.keys(n).reduce((function(e,t){return void 0!==n[t]&&(e[t]=n[t]),e}),{}))))),h=!1,f=!1,p=!1,g=!1,v=[],m=ne(z,d.interactiveDebounce),b=Ae++,y=(u=d.plugins).filter((function(e,t){return u.indexOf(e)===t})),_={id:b,reference:e,popper:ae(),popperInstance:null,props:d,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(o)},setProps:function(t){if(!_.state.isDestroyed){L("onBeforeUpdate",[_,t]),W();var n=_.props,i=Ce(e,Object.assign({},_.props,{},t,{ignoreAttributes:!0}));_.props=i,Z(),n.interactiveDebounce!==i.interactiveDebounce&&(j(),m=ne(z,i.interactiveDebounce)),n.triggerTarget&&!i.triggerTarget?ie(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):i.triggerTarget&&e.removeAttribute("aria-expanded"),N(),I(),S&&S(n,i),_.popperInstance&&(he(),pe().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)}))),L("onAfterUpdate",[_,t])}},setContent:function(e){_.setProps({content:e})},show:function(){var e=_.state.isVisible,t=_.state.isDestroyed,n=!_.state.isEnabled,i=de.isTouch&&!_.props.touch,r=J(_.props.duration,0,be.duration);if(!(e||t||n||i||P().hasAttribute("disabled")||(L("onShow",[_],!1),!1===_.props.onShow(_)))){if(_.state.isVisible=!0,E()&&(k.style.visibility="visible"),I(),U(),_.state.isMounted||(k.style.transition="none"),E()){var o=x();ce([o.box,o.content],0)}var a,s,l;c=function(){if(_.state.isVisible&&!g){if(g=!0,k.style.transition=_.props.moveTransition,E()&&_.props.animation){var e=x(),t=e.box,n=e.content;ce([t,n],r),le([t,n],"visible")}R(),N(),re(Pe,_),_.state.isMounted=!0,L("onMount",[_]),_.props.animation&&E()&&function(e,t){G(e,(function(){_.state.isShown=!0,L("onShown",[_])}))}(r)}},s=_.props.appendTo,l=P(),(a=_.props.interactive&&s===be.appendTo||"parent"===s?l.parentNode:te(s,[l])).contains(k)||a.appendChild(k),he()}},hide:function(){var e=!_.state.isVisible,t=_.state.isDestroyed,n=!_.state.isEnabled,i=J(_.props.duration,1,be.duration);if(!(e||t||n)&&(L("onHide",[_],!1),!1!==_.props.onHide(_))){if(_.state.isVisible=!1,_.state.isShown=!1,g=!1,h=!1,E()&&(k.style.visibility="hidden"),j(),Y(),I(),E()){var r=x(),o=r.box,a=r.content;_.props.animation&&(ce([o,a],i),le([o,a],"hidden"))}R(),N(),_.props.animation?E()&&function(e,t){G(e,(function(){!_.state.isVisible&&k.parentNode&&k.parentNode.contains(k)&&t()}))}(i,_.unmount):_.unmount()}},hideWithInteractivity:function(e){M().addEventListener("mousemove",m),re(Ee,m),m(e)},enable:function(){_.state.isEnabled=!0},disable:function(){_.hide(),_.state.isEnabled=!1},unmount:function(){_.state.isVisible&&_.hide(),_.state.isMounted&&(fe(),pe().forEach((function(e){e._tippy.unmount()})),k.parentNode&&k.parentNode.removeChild(k),Pe=Pe.filter((function(e){return e!==_})),_.state.isMounted=!1,L("onHidden",[_]))},destroy:function(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),W(),delete e._tippy,_.state.isDestroyed=!0,L("onDestroy",[_]))}};if(!d.render)return _;var C=d.render(_),k=C.popper,S=C.onUpdate;k.setAttribute("data-tippy-root",""),k.id="tippy-"+_.id,_.popper=k,e._tippy=_,k._tippy=_;var O=y.map((function(e){return e.fn(_)})),T=e.hasAttribute("aria-expanded");return Z(),N(),I(),L("onCreate",[_]),d.showOnCreate&&ge(),k.addEventListener("mouseenter",(function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()})),k.addEventListener("mouseleave",(function(e){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&(M().addEventListener("mousemove",m),m(e))})),_;function w(){var e=_.props.touch;return Array.isArray(e)?e:[e,0]}function A(){return"hold"===w()[0]}function E(){var e;return!!(null==(e=_.props.render)?void 0:e.$$tippy)}function P(){return l||e}function M(){var e,t=P().parentNode;return t&&(e=ie(t)[0])&&e.ownerDocument||document}function x(){return Te(k)}function D(e){return _.state.isMounted&&!_.state.isVisible||de.isTouch||a&&"focus"===a.type?0:J(_.props.delay,e?0:1,be.delay)}function I(){k.style.pointerEvents=_.props.interactive&&_.state.isVisible?"":"none",k.style.zIndex=""+_.props.zIndex}function L(e,t,n){var i;void 0===n&&(n=!0),O.forEach((function(n){n[e]&&n[e].apply(void 0,t)})),n&&(i=_.props)[e].apply(i,t)}function R(){var t=_.props.aria;if(t.content){var n="aria-"+t.content,i=k.id;ie(_.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(_.state.isVisible)e.setAttribute(n,t?t+" "+i:i);else{var r=t&&t.replace(i,"").trim();r?e.setAttribute(n,r):e.removeAttribute(n)}}))}}function N(){!T&&_.props.aria.expanded&&ie(_.props.triggerTarget||e).forEach((function(e){_.props.interactive?e.setAttribute("aria-expanded",_.state.isVisible&&e===P()?"true":"false"):e.removeAttribute("aria-expanded")}))}function j(){M().removeEventListener("mousemove",m),Ee=Ee.filter((function(e){return e!==m}))}function B(e){if(!(de.isTouch&&(p||"mousedown"===e.type)||_.props.interactive&&k.contains(e.target))){if(P().contains(e.target)){if(de.isTouch)return;if(_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[_,e]);!0===_.props.hideOnClick&&(_.clearDelayTimeouts(),_.hide(),f=!0,setTimeout((function(){f=!1})),_.state.isMounted||Y())}}function F(){p=!0}function H(){p=!1}function U(){var e=M();e.addEventListener("mousedown",B,!0),e.addEventListener("touchend",B,$),e.addEventListener("touchstart",H,$),e.addEventListener("touchmove",F,$)}function Y(){var e=M();e.removeEventListener("mousedown",B,!0),e.removeEventListener("touchend",B,$),e.removeEventListener("touchstart",H,$),e.removeEventListener("touchmove",F,$)}function G(e,t){var n=x().box;function i(e){e.target===n&&(ue(n,"remove",i),t())}if(0===e)return t();ue(n,"remove",s),ue(n,"add",i),s=i}function V(t,n,i){void 0===i&&(i=!1),ie(_.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,i),v.push({node:e,eventType:t,handler:n,options:i})}))}function Z(){var e;A()&&(V("touchstart",K,{passive:!0}),V("touchend",Q,{passive:!0})),(e=_.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(V(e,K),e){case"mouseenter":V("mouseleave",Q);break;case"focus":V(me?"focusout":"blur",X);break;case"focusin":V("focusout",X)}}))}function W(){v.forEach((function(e){e.node.removeEventListener(e.eventType,e.handler,e.options)})),v=[]}function K(e){var t,n=!1;if(_.state.isEnabled&&!se(e)&&!f){var i="focus"===(null==(t=a)?void 0:t.type);a=e,l=e.currentTarget,N(),!_.state.isVisible&&ee(e,"MouseEvent")&&Ee.forEach((function(t){return t(e)})),"click"===e.type&&(_.props.trigger.indexOf("mouseenter")<0||h)&&!1!==_.props.hideOnClick&&_.state.isVisible?n=!0:ge(e),"click"===e.type&&(h=!n),n&&!i&&ve(e)}}function z(e){var t=e.target,n=P().contains(t)||k.contains(t);"mousemove"===e.type&&n||function(e,t){var n=t.clientX,i=t.clientY;return e.every((function(e){var t=e.popperRect,r=e.popperState,o=e.props.interactiveBorder,a=r.placement.split("-")[0],s=r.modifiersData.offset;return!s||t.top-i+("bottom"===a?s.top.y:0)>o||i-t.bottom-("top"===a?s.bottom.y:0)>o||t.left-n+("right"===a?s.left.x:0)>o||n-t.right-("left"===a?s.right.x:0)>o}))}(pe().concat(k).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:d}:null})).filter(Boolean),e)&&(j(),ve(e))}function Q(e){se(e)||_.props.trigger.indexOf("click")>=0&&h||(_.props.interactive?_.hideWithInteractivity(e):ve(e))}function X(e){_.props.trigger.indexOf("focusin")<0&&e.target!==P()||_.props.interactive&&e.relatedTarget&&k.contains(e.relatedTarget)||ve(e)}function se(e){return!!de.isTouch&&A()!==e.type.indexOf("touch")>=0}function he(){fe();var t=_.props,n=t.popperOptions,i=t.placement,r=t.offset,o=t.getReferenceClientRect,a=t.moveTransition,s=E()?Te(k).arrow:null,l=o?{getBoundingClientRect:o,contextElement:o.contextElement||P()}:e,u=[{name:"offset",options:{offset:r}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(E()){var n=x().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];E()&&s&&u.push({name:"arrow",options:{element:s,padding:3}}),u.push.apply(u,(null==n?void 0:n.modifiers)||[]),_.popperInstance=q(l,k,Object.assign({},n,{placement:i,onFirstUpdate:c,modifiers:u}))}function fe(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function pe(){return oe(k.querySelectorAll("[data-tippy-root]"))}function ge(e){_.clearDelayTimeouts(),e&&L("onTrigger",[_,e]),U();var t=D(!0),n=w(),r=n[1];de.isTouch&&"hold"===n[0]&&r&&(t=r),t?i=setTimeout((function(){_.show()}),t):_.show()}function ve(e){if(_.clearDelayTimeouts(),L("onUntrigger",[_,e]),_.state.isVisible){if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&h)){var t=D(!1);t?r=setTimeout((function(){_.state.isVisible&&_.hide()}),t):o=requestAnimationFrame((function(){_.hide()}))}}else Y()}}(t,r);return n&&e.push(n),e}),[]);return se(e)?o[0]:o}Me.defaultProps=be,Me.setDefaultProps=function(e){Object.keys(e).forEach((function(t){be[t]=e[t]}))},Me.currentInput=de,Me.setDefaultProps({render:we});var xe=Me,De=n("HDdC"),Ie=n("XNiG"),Le=n("xgIS"),Re=n("VRyK"),Ne=n("3UWI"),je=n("lJxs"),Be=n("eIep"),Fe=n("1G5W"),He=n("ofXK");n("2Vo4"),n("pLZG");var Ue=function(){function e(t){_classCallCheck(this,e),this.value=t}return _createClass(e,[{key:"getElement",value:function(){return this.value}},{key:"detectChanges",value:function(){}},{key:"destroy",value:function(){}}]),e}(),Ye=function(){function e(t){_classCallCheck(this,e),this.args=t;var n=this.args.resolver.resolveComponentFactory(this.args.component);this.args.vcr?this.compRef=this.args.vcr.createComponent(n,this.args.vcr.length,t.injector||this.args.vcr.injector):(this.compRef=n.create(this.args.injector),this.args.appRef.attachView(this.compRef.hostView))}return _createClass(e,[{key:"setInput",value:function(e,t){return this.compRef.instance[e]=t,this}},{key:"setInputs",value:function(e){var t=this;return Object.keys(e).forEach((function(n){t.compRef.instance[n]=e[n]})),this}},{key:"detectChanges",value:function(){return this.compRef.hostView.detectChanges(),this}},{key:"appendTo",value:function(e){return e.appendChild(this.getElement()),this}},{key:"removeFrom",value:function(e){return e.removeChild(this.getElement()),this}},{key:"getRawContent",value:function(){return this.getElement().outerHTML}},{key:"getElement",value:function(){return this.compRef.location.nativeElement}},{key:"destroy",value:function(){this.compRef.destroy(),!this.args.vcr&&this.args.appRef.detachView(this.compRef.hostView),this.compRef=null}},{key:"ref",get:function(){return this.compRef}}]),e}(),Ge=function(){function e(t){_classCallCheck(this,e),this.args=t,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}return _createClass(e,[{key:"detectChanges",value:function(){this.viewRef.detectChanges()}},{key:"getElement",value:function(){var e,t=this.viewRef.rootNodes;return 1===t.length&&t[0]===Node.ELEMENT_NODE?this.element=t[0]:(this.element=document.createElement("div"),(e=this.element).append.apply(e,_toConsumableArray2(t))),this.element}},{key:"destroy",value:function(){1!==this.viewRef.rootNodes[0]&&(this.element.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}]),e}();function Ve(e){return e instanceof i.P}function Ze(e){return"function"==typeof e}function We(e){return"string"==typeof e}var Ke,ze=((Ke=function(){function e(t,n,i){_classCallCheck(this,e),this.resolver=t,this.injector=n,this.appRef=i}return _createClass(e,[{key:"createComponent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Ye({component:e,vcr:t.vcr,injector:t.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}},{key:"createTemplate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Ge({vcr:t.vcr,appRef:this.appRef,tpl:e,context:t.context})}},{key:"createView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ve(e))return this.createTemplate(e,t);if(Ze(e))return this.createComponent(e,t);if(We(e))return new Ue(e);throw"Type of content is not supported"}}]),e}()).\u0275fac=function(e){return new(e||Ke)(i.dc(i.l),i.dc(i.u),i.dc(i.g))},Ke.\u0275prov=Object(i.Pb)({factory:function(){return new Ke(Object(i.dc)(i.l),Object(i.dc)(i.r),Object(i.dc)(i.g))},token:Ke,providedIn:"root"}),Ke),Qe=new i.t("Tippy config",{providedIn:"root",factory:function(){return{}}}),Xe=new i.t("TIPPY_REF");function qe(e){return e instanceof i.n?e.nativeElement:e}var $e=!1,Je=!1;function et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{root:null,threshold:.3},n=qe(e);return new De.a((function(e){if(!$e)return e.next(),void e.complete();var i=new IntersectionObserver((function(t){t[t.length-1].isIntersecting&&(e.next(),e.complete())}),t);return i.observe(n),function(){return i.disconnect()}}))}function tt(e){var t=qe(e);return nt(t).pipe(Object(Ne.a)(150),Object(je.a)((function(){return function(e){return e.offsetWidth>e.parentElement.offsetWidth||e.offsetWidth<e.scrollWidth}(t)})))}function nt(e){return function(e){return new De.a((function(t){if(!Je)return t.next(),void t.complete();var n=new ResizeObserver((function(){return t.next(!0)}));return n.observe(e),function(){return n.disconnect()}}))}(e)}function it(e){var t={},n=["variations","useHostWidth","defaultVariation","beforeRender","lazy","variation","isEnabled","className","onlyTextOverflow","data","content"];return Object.keys(e).forEach((function(i){n.includes(i)||(t[i]=e[i])})),t}"undefined"!=typeof window&&($e="IntersectionObserver"in window,Je="ResizeObserver"in window);var rt,ot,at=((rt=function(){function e(t,n,r,o,a,s,c){_classCallCheck(this,e),this.platformId=t,this.globalConfig=n,this.injector=r,this.viewService=o,this.vcr=a,this.zone=s,this.host=c,this.onlyTextOverflow=!1,this.useHostWidth=!1,this.visible=new i.p,this.isVisible=!1,this.destroyed=new Ie.a,this.enabled=!0,this.variationDefined=!1}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(!Object(He.M)(this.platformId)){e.content&&(this.view=e.content.currentValue);var t,n=Object.keys(e).reduce((function(t,n){return t[n]=e[n].currentValue,t}),{});st("variation",e)?(t=e.variation.currentValue,this.variationDefined=!0):this.variationDefined||(t=this.globalConfig.defaultVariation,this.variationDefined=!0),t&&(n=Object.assign(Object.assign({},this.globalConfig.variations[t]),n)),st("isEnabled",e)&&(this.enabled=e.isEnabled.currentValue,this.setStatus()),this.setProps(n)}}},{key:"ngOnInit",value:function(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}},{key:"ngAfterViewInit",value:function(){var e=this;this.lazy?this.onlyTextOverflow?et(this.host).pipe(Object(Be.a)((function(){return tt(e.host)})),Object(Fe.a)(this.destroyed)).subscribe((function(t){e.checkOverflow(t)})):et(this.host).pipe(Object(Fe.a)(this.destroyed)).subscribe((function(){e.createInstance()})):this.onlyTextOverflow?tt(this.host).pipe(Object(Fe.a)(this.destroyed)).subscribe((function(t){e.checkOverflow(t)})):this.createInstance()}},{key:"ngOnDestroy",value:function(){var e;this.destroyed.next(),null===(e=this.instance)||void 0===e||e.destroy(),this.destroyView()}},{key:"destroyView",value:function(){var e;null===(e=this.viewRef)||void 0===e||e.destroy(),this.viewRef=null}},{key:"show",value:function(){var e;null===(e=this.instance)||void 0===e||e.show()}},{key:"hide",value:function(){var e;null===(e=this.instance)||void 0===e||e.hide()}},{key:"enable",value:function(){var e;null===(e=this.instance)||void 0===e||e.enable()}},{key:"disable",value:function(){var e;null===(e=this.instance)||void 0===e||e.disable()}},{key:"setProps",value:function(e){var t;this.props=e,null===(t=this.instance)||void 0===t||t.setProps(it(e))}},{key:"setStatus",value:function(){var e,t;this.enabled?null===(e=this.instance)||void 0===e||e.enable():null===(t=this.instance)||void 0===t||t.disable()}},{key:"createInstance",value:function(){var e=this;this.instance=xe(this.host.nativeElement,Object.assign(Object.assign(Object.assign({allowHTML:!0,appendTo:document.body},it(this.globalConfig)),it(this.props)),{onMount:function(t){var n,i;e.isVisible=!0,e.visible.next(!0),e.useHostWidth&&e.listenToHostResize(),null===(i=(n=e.globalConfig).onMount)||void 0===i||i.call(n,t)},onCreate:function(t){var n,i;e.className&&t.popper.classList.add(e.className),null===(i=(n=e.globalConfig).onCreate)||void 0===i||i.call(n,t)},onShow:function(t){var n,i;e.zone.run((function(){return e.instance.setContent(e.resolveContent())})),e.useHostWidth&&(t.popper.style.width=e.hostWidth),null===(i=(n=e.globalConfig).onShow)||void 0===i||i.call(n,t)},onHidden:function(t){var n,i;e.destroyView(),e.isVisible=!1,e.visible.next(!1),null===(i=(n=e.globalConfig).onHidden)||void 0===i||i.call(n,t)}})),this.setStatus(),this.setProps(this.props),"contextMenu"===this.variation&&this.handleContextMenu()}},{key:"resolveContent",value:function(){this.viewOptions$||We(this.content)||(Ze(this.content)?this.viewOptions$={injector:i.u.create({providers:[{provide:Xe,useValue:this.instance}],parent:this.injector})}:Ve(this.content)&&(this.viewOptions$={context:{$implicit:this.hide.bind(this),data:this.data}})),this.viewRef=this.viewService.createView(this.content,Object.assign({vcr:this.vcr},this.viewOptions$));var e=this.viewRef.getElement();return We(e)&&this.globalConfig.beforeRender&&(e=this.globalConfig.beforeRender(e)),e}},{key:"handleContextMenu",value:function(){var e=this;Object(Le.a)(this.host.nativeElement,"contextmenu").pipe(Object(Fe.a)(this.destroyed)).subscribe((function(t){t.preventDefault(),e.instance.setProps({getReferenceClientRect:function(){return{width:0,height:0,top:t.clientY,bottom:t.clientY,left:t.clientX,right:t.clientX}}}),e.instance.show()}))}},{key:"checkOverflow",value:function(e){var t;e?this.instance?this.instance.enable():this.createInstance():null===(t=this.instance)||void 0===t||t.disable()}},{key:"listenToHostResize",value:function(){var e=this;nt(this.host.nativeElement).pipe(Object(Fe.a)(Object(Re.a)(this.destroyed,this.visible))).subscribe((function(){e.instance.popper.style.width=e.hostWidth}))}},{key:"hostWidth",get:function(){return this.host.nativeElement.getBoundingClientRect().width+"px"}}]),e}()).\u0275fac=function(e){return new(e||rt)(i.Tb(i.G),i.Tb(Qe),i.Tb(i.u),i.Tb(ze),i.Tb(i.S),i.Tb(i.E),i.Tb(i.n))},rt.\u0275dir=i.Ob({type:rt,selectors:[["","tippy",""]],inputs:{onlyTextOverflow:"onlyTextOverflow",useHostWidth:"useHostWidth",appendTo:"appendTo",delay:"delay",duration:"duration",hideOnClick:"hideOnClick",interactive:"interactive",interactiveBorder:"interactiveBorder",maxWidth:"maxWidth",offset:"offset",placement:"placement",popperOptions:"popperOptions",showOnCreate:"showOnCreate",trigger:"trigger",triggerTarget:"triggerTarget",zIndex:"zIndex",lazy:"lazy",variation:"variation",isEnabled:"isEnabled",className:"className",data:"data",content:["tippy","content"]},outputs:{visible:"visible"},exportAs:["tippy"],features:[i.Fb]}),rt);function st(e,t){return e in t}var ct,lt,ut=((lt=ot=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:ot,providers:[{provide:Qe,useValue:e}]}}}]),e}()).\u0275mod=i.Rb({type:lt}),lt.\u0275inj=i.Qb({factory:function(e){return new(e||lt)}}),lt),dt=((ct=function(){function e(t,n,i){_classCallCheck(this,e),this.globalConfig=t,this.view=n,this.injector=i}return _createClass(e,[{key:"create",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object.assign(Object.assign(Object.assign({onShow:function(e){var o;e.$viewOptions||(e.$viewOptions={},Ve(t)?e.$viewOptions.context={$implicit:e.hide.bind(e)}:Ze(t)&&(e.$viewOptions.injector=i.u.create({providers:[{provide:Xe,useValue:e}],parent:r.injector||n.injector}))),e.view=n.view.createView(t,Object.assign(Object.assign({},r),e.$viewOptions)),e.setContent(e.view.getElement()),null===(o=null==r?void 0:r.onShow)||void 0===o||o.call(r,e)},onHidden:function(e){var t;e.view.destroy(),null===(t=null==r?void 0:r.onHidden)||void 0===t||t.call(r,e),e.view=null}},it(this.globalConfig)),this.globalConfig.variations[r.variation||this.globalConfig.defaultVariation]),it(r));return xe(e,o)}}]),e}()).\u0275fac=function(e){return new(e||ct)(i.dc(Qe),i.dc(ze),i.dc(i.u))},ct.\u0275prov=Object(i.Pb)({factory:function(){return new ct(Object(i.dc)(Qe),Object(i.dc)(ze),Object(i.dc)(i.r))},token:ct,providedIn:"root"}),ct)},"3E0/":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("D0XW"),r=n("mlxB"),o=n("7o/Q"),a=n("WMd4");function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a,n=Object(r.a)(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new c(n,t))}}var c=function(){function e(t,n){_classCallCheck(this,e),this.delay=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.delay,this.scheduler))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).delay=i,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return _createClass(n,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,n=new u(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(a.a.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(a.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,n=t.queue,i=e.scheduler,r=e.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var o=Math.max(0,n[0].time-i.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1}}]),n}(o.a),u=function e(t,n){_classCallCheck(this,e),this.time=t,this.notification=n}},"3E8+":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return s}));var i=function(e){return e.CardPayment="CardPayment",e.StoredPayment="StoredPayment",e.ExternalPayment="ExternalPayment",e.PayPal="PayPal",e.OnlinePostBookingPayment="OnlinePostBookingPayment",e.Voucher="Voucher",e.VivaCash="VivaCash",e.AccountCredit="AccountCredit",e.Uplift="Uplift",e.NoPayment="NoPayment",e.ScotiaPoints="ScotiaPoints",e.Kueski="Kueski",e.Rappi="Rappi",e.PayLater="PayLater",e.PointsRewards="PointsRewards",e.PayLaterStaff="PayLaterStaff",e.Doters="Doters",e.Kiosk="PresentCardKiosk",e.YunoCard="YunoCard",e.YunoAsync_MercadoPagoCheckoutPro="YunoAsync_MercadoPagoCheckoutPro",e.YunoAsync="YunoAsync",e}({}),r=function(e){return e.IsRequired="IsRequired",e.IsOptional="IsOptional",e}({}),o=function(e){return e.AmericanExpress="AmericanExpress",e.Visa="Visa",e.MasterCard="MasterCard",e.Diners="Diners",e.VivaScotia="VivaScotia",e.Discover="Discover",e.Carnet="Carnet",e.HsbcViva="HsbcViva",e.HsbcVivaPlus="HsbcVivaPlus",e}({}),a=function(e){return e.AmericanExpress="AMERICAN_EXPRESS",e.Visa="VISA",e.MasterCard="MASTERCARD",e.Diners="DINERS",e.Discover="DISCOVER",e.Uatp="UATP",e}({}),s=function(e){return e.HSBCVIVAPLUS="HSBCVIVAPLUS",e.HSBCVIVA="HSBCVIVA",e}({})},"3Fdi":function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},"3N8a":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r.pending=!1,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a))},"3Pt+":function(e,t,n){"use strict";n.d(t,"a",(function(){return pe})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return Ze})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return ze})),n.d(t,"f",(function(){return me})),n.d(t,"g",(function(){return Be})),n.d(t,"h",(function(){return nt})),n.d(t,"i",(function(){return ge})),n.d(t,"j",(function(){return De})),n.d(t,"k",(function(){return Ue})),n.d(t,"l",(function(){return ve})),n.d(t,"m",(function(){return Le})),n.d(t,"n",(function(){return Ne})),n.d(t,"o",(function(){return it})),n.d(t,"p",(function(){return $e})),n.d(t,"q",(function(){return Xe})),n.d(t,"r",(function(){return S})),n.d(t,"s",(function(){return c})),n.d(t,"t",(function(){return b})),n.d(t,"u",(function(){return _})),n.d(t,"v",(function(){return C})),n.d(t,"w",(function(){return _e})),n.d(t,"x",(function(){return Ee})),n.d(t,"y",(function(){return Te})),n.d(t,"z",(function(){return W})),n.d(t,"A",(function(){return I})),n.d(t,"B",(function(){return et})),n.d(t,"C",(function(){return N})),n.d(t,"D",(function(){return B})),n.d(t,"E",(function(){return rt})),n.d(t,"F",(function(){return Ve})),n.d(t,"G",(function(){return Z})),n.d(t,"H",(function(){return Q})),n.d(t,"I",(function(){return w})),n.d(t,"J",(function(){return X})),n.d(t,"K",(function(){return Pe}));var i=n("fXoL"),r=n("ofXK"),o=n("cp0P"),a=n("Cfvw"),s=n("lJxs"),c=new i.t("NgValueAccessor"),l={provide:c,useExisting:Object(i.Y)((function(){return u})),multi:!0},u=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.I),i.Tb(i.n))},e.\u0275dir=i.Ob({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&i.hc("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[i.Gb([l])]}),e}(),d={provide:c,useExisting:Object(i.Y)((function(){return f})),multi:!0},h=new i.t("CompositionEventMode"),f=function(){var e=function(){function e(t,n,i){var o;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=i,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(o=Object(r.Q)()?Object(r.Q)().getUserAgent():"",!/android (\d+)/.test(o.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.I),i.Tb(i.n),i.Tb(h,8))},e.\u0275dir=i.Ob({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&i.hc("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[i.Gb([d])]}),e}(),p=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Ob({type:e}),e}(),g=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(p);return e.\u0275fac=function(t){return v(t||e)},e.\u0275dir=i.Ob({type:e,features:[i.Eb]}),e}(),v=i.bc(g);function m(){throw new Error("unimplemented")}var b=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return m()}},{key:"asyncValidator",get:function(){return m()}}]),n}(p),y=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),_=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(y);return e.\u0275fac=function(t){return new(t||e)(i.Tb(b,2))},e.\u0275dir=i.Ob({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&i.Lb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[i.Eb]}),e}(),C=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(y);return e.\u0275fac=function(t){return new(t||e)(i.Tb(g,2))},e.\u0275dir=i.Ob({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&i.Lb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[i.Eb]}),e}();function k(e){return null==e||0===e.length}var S=new i.t("NgValidators"),O=new i.t("NgAsyncValidators"),T=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,w=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(k(t.value)||k(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(k(t.value)||k(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return k(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return k(e.value)||T.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(k(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(i="","^"!==t.charAt(0)&&(i+="^"),i+=t,"$"!==t.charAt(t.length-1)&&(i+="$"),n=new RegExp(i)):(i=t.toString(),n=t),function(e){if(k(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:i,actualValue:t}}}):e.nullValidator;var n,i}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(A);return 0==t.length?null:function(e){return P(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(A);return 0==t.length?null:function(e){var n=function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(E);return Object(o.a)(n).pipe(Object(s.a)(P))}}}]),e}();function A(e){return null!=e}function E(e){var t=Object(i.xb)(e)?Object(a.a)(e):e;if(!Object(i.wb)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function P(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function M(e){return e.validate?function(t){return e.validate(t)}:e}function x(e){return e.validate?function(t){return e.validate(t)}:e}var D={provide:c,useExisting:Object(i.Y)((function(){return I})),multi:!0},I=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.I),i.Tb(i.n))},e.\u0275dir=i.Ob({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&i.hc("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[i.Gb([D])]}),e}(),L={provide:c,useExisting:Object(i.Y)((function(){return N})),multi:!0},R=function(){var e=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e}(),N=function(){var e=function(){function e(t,n,i,r){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=i,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(b),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.I),i.Tb(i.n),i.Tb(R),i.Tb(i.u))},e.\u0275dir=i.Ob({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&i.hc("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Gb([L])]}),e}(),j={provide:c,useExisting:Object(i.Y)((function(){return B})),multi:!0},B=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.I),i.Tb(i.n))},e.\u0275dir=i.Ob({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&i.hc("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[i.Gb([j])]}),e}(),F='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',H='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',U='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Y=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+F)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(H,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(U))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+F)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+H)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}(),G={provide:c,useExisting:Object(i.Y)((function(){return Z})),multi:!0};function V(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var Z=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=i.yb}return _createClass(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=V(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i),e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.I),i.Tb(i.n))},e.\u0275dir=i.Ob({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&i.hc("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[i.Gb([G])]}),e}(),W=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption())}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(V(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.n),i.Tb(i.I),i.Tb(Z,9))},e.\u0275dir=i.Ob({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e}(),K={provide:c,useExisting:Object(i.Y)((function(){return Q})),multi:!0};function z(e,t){return null==e?""+t:("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var Q=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=i.yb}return _createClass(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var i=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(i.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var i=[];if(n.hasOwnProperty("selectedOptions"))for(var r=n.selectedOptions,o=0;o<r.length;o++){var a=r.item(o),s=t._getOptionValue(a.value);i.push(s)}else for(var c=n.options,l=0;l<c.length;l++){var u=c.item(l);if(u.selected){var d=t._getOptionValue(u.value);i.push(d)}}t.value=i,e(i)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i)._value,e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.I),i.Tb(i.n))},e.\u0275dir=i.Ob({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&i.hc("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[i.Gb([K])]}),e}(),X=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption(this))}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(z(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(z(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.n),i.Tb(i.I),i.Tb(Q,9))},e.\u0275dir=i.Ob({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e}();function q(e,t){return[].concat(_toConsumableArray2(t.path),[e])}function $(e,t){e||ne(t,"Cannot find control with"),t.valueAccessor||ne(t,"No value accessor for form control with"),e.validator=w.compose([e.validator,t.validator]),e.asyncValidator=w.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&J(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&J(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function J(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ee(e,t){null==e&&ne(t,"Cannot find control with"),e.validator=w.compose([e.validator,t.validator]),e.asyncValidator=w.composeAsync([e.asyncValidator,t.asyncValidator])}function te(e){return ne(e,"There is no FormControl instance attached to form control element with")}function ne(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function ie(e){return null!=e?w.compose(e.map(M)):null}function re(e){return null!=e?w.composeAsync(e.map(x)):null}function oe(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object(i.yb)(t,n.currentValue)}var ae=[u,B,I,Z,Q,N];function se(e,t){e._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}))}function ce(e,t){if(!t)return null;Array.isArray(t)||ne(e,"Value accessor was not provided as an array for form control with");var n=void 0,i=void 0,r=void 0;return t.forEach((function(t){var o;t.constructor===f?n=t:(o=t,ae.some((function(e){return o.constructor===e}))?(i&&ne(e,"More than one built-in value accessor matches form control with"),i=t):(r&&ne(e,"More than one custom value accessor matches form control with"),r=t))})),r||i||n||(ne(e,"No valid value accessor for form control with"),null)}function le(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function ue(e,t,n,r){Object(i.ab)()&&"never"!==r&&((null!==r&&"once"!==r||t._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(Y.ngModelWarning(e),t._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}function de(e){var t=fe(e)?e.validators:e;return Array.isArray(t)?ie(t):t||null}function he(e,t){var n=fe(t)?t.asyncValidators:e;return Array.isArray(n)?re(n):n||null}function fe(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var pe=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"setValidators",value:function(e){this.validator=de(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=he(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=E(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var i=e;return t.forEach((function(e){i=i instanceof ve?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof me&&i.at(e)||null})),i}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new i.p,this.statusChanges=new i.p}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){fe(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),ge=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,de(r),he(o,r)))._onChange=[],e._applyFormState(i),e._setUpdateStrategy(r),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(pe),ve=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,de(i),he(r,i))).controls=e,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(i){t._throwIfControlMissing(i),t.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(i){t.controls[i]&&t.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof ge?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(i,r){n=n||t.contains(r)&&e(i)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,i){return(n.enabled||e.disabled)&&(t[i]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,i){n=t(n,e,i)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(pe),me=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,de(i),he(r,i))).controls=e,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,i){t._throwIfControlMissing(i),t.at(i).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,i){t.at(i)&&t.at(i).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof ge?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(pe),be={provide:g,useExisting:Object(i.Y)((function(){return _e}))},ye=Promise.resolve(null),_e=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var o;return _classCallCheck(this,n),(o=t.call(this)).submitted=!1,o._directives=[],o.ngSubmit=new i.p,o.form=new ve({},ie(e),re(r)),o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;ye.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),$(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;ye.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),le(t._directives,e)}))}},{key:"addFormGroup",value:function(e){var t=this;ye.then((function(){var n=t._findContainer(e.path),i=new ve({});ee(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;ye.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;ye.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,se(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(g);return e.\u0275fac=function(t){return new(t||e)(i.Tb(S,10),i.Tb(O,10))},e.\u0275dir=i.Ob({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&i.hc("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Gb([be]),i.Eb]}),e}(),Ce=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return q(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return ie(this._validators)}},{key:"asyncValidator",get:function(){return re(this._asyncValidators)}}]),n}(g);return e.\u0275fac=function(t){return ke(t||e)},e.\u0275dir=i.Ob({type:e,features:[i.Eb]}),e}(),ke=i.bc(Ce),Se=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(F,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(H,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(U))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(H,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(U))}}]),e}(),Oe={provide:g,useExisting:Object(i.Y)((function(){return Te}))},Te=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=i,o._asyncValidators=r,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof _e||Se.modelGroupParentException()}}]),n}(Ce);return e.\u0275fac=function(t){return new(t||e)(i.Tb(g,5),i.Tb(S,10),i.Tb(O,10))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[i.Gb([Oe]),i.Eb]}),e}(),we={provide:b,useExisting:Object(i.Y)((function(){return Ee}))},Ae=Promise.resolve(null),Ee=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o,a){var s;return _classCallCheck(this,n),(s=t.call(this)).control=new ge,s._registered=!1,s.update=new i.p,s._parent=e,s._rawValidators=r||[],s._rawAsyncValidators=o||[],s.valueAccessor=ce(_assertThisInitialized(s),a),s}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),oe(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){$(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof Te)&&this._parent instanceof Ce?Se.formGroupNameException():this._parent instanceof Te||this._parent instanceof _e||Se.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Se.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;Ae.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,i=""===n||n&&"false"!==n;Ae.then((function(){i&&!t.control.disabled?t.control.disable():!i&&t.control.disabled&&t.control.enable()}))}},{key:"path",get:function(){return this._parent?q(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return ie(this._rawValidators)}},{key:"asyncValidator",get:function(){return re(this._rawAsyncValidators)}}]),n}(b);return e.\u0275fac=function(t){return new(t||e)(i.Tb(g,9),i.Tb(S,10),i.Tb(O,10),i.Tb(c,10))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Gb([we]),i.Eb,i.Fb]}),e}(),Pe=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Ob({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e}(),Me=new i.t("NgModelWithFormControlWarning"),xe={provide:b,useExisting:Object(i.Y)((function(){return De}))},De=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o,a){var s;return _classCallCheck(this,n),(s=t.call(this))._ngModelWarningConfig=a,s.update=new i.p,s._ngModelWarningSent=!1,s._rawValidators=e||[],s._rawAsyncValidators=r||[],s.valueAccessor=ce(_assertThisInitialized(s),o),s}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._isControlChanged(e)&&($(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),oe(e,this.viewModel)&&(ue("formControl",n,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_isControlChanged",value:function(e){return e.hasOwnProperty("form")}},{key:"isDisabled",set:function(e){Y.disabledAttrWarning()}},{key:"path",get:function(){return[]}},{key:"validator",get:function(){return ie(this._rawValidators)}},{key:"asyncValidator",get:function(){return re(this._rawAsyncValidators)}},{key:"control",get:function(){return this.form}}]),n}(b);return e.\u0275fac=function(t){return new(t||e)(i.Tb(S,10),i.Tb(O,10),i.Tb(c,10),i.Tb(Me,8))},e.\u0275dir=i.Ob({type:e,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Gb([xe]),i.Eb,i.Fb]}),e._ngModelWarningSentOnce=!1,e}(),Ie={provide:g,useExisting:Object(i.Y)((function(){return Le}))},Le=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var o;return _classCallCheck(this,n),(o=t.call(this))._validators=e,o._asyncValidators=r,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new i.p,o}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return $(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){le(this.directives,e)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);ee(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);ee(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,se(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach((function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange((function(){return te(t)})),t.valueAccessor.registerOnTouched((function(){return te(t)})),t._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),t._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),e&&e._clearChangeFns()}(t.control,t),n&&$(n,t),t.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange((function(){return e._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var e=ie(this._validators);this.form.validator=w.compose([this.form.validator,e]);var t=re(this._asyncValidators);this.form.asyncValidator=w.composeAsync([this.form.asyncValidator,t])}},{key:"_checkFormPresent",value:function(){this.form||Y.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(g);return e.\u0275fac=function(t){return new(t||e)(i.Tb(S,10),i.Tb(O,10))},e.\u0275dir=i.Ob({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&i.hc("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Gb([Ie]),i.Eb,i.Fb]}),e}(),Re={provide:g,useExisting:Object(i.Y)((function(){return Ne}))},Ne=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=i,o._asyncValidators=r,o}return _createClass(n,[{key:"_checkParentType",value:function(){Fe(this._parent)&&Y.groupParentException()}}]),n}(Ce);return e.\u0275fac=function(t){return new(t||e)(i.Tb(g,13),i.Tb(S,10),i.Tb(O,10))},e.\u0275dir=i.Ob({type:e,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[i.Gb([Re]),i.Eb]}),e}(),je={provide:g,useExisting:Object(i.Y)((function(){return Be}))},Be=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=i,o._asyncValidators=r,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){Fe(this._parent)&&Y.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return q(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return ie(this._validators)}},{key:"asyncValidator",get:function(){return re(this._asyncValidators)}}]),n}(g);return e.\u0275fac=function(t){return new(t||e)(i.Tb(g,13),i.Tb(S,10),i.Tb(O,10))},e.\u0275dir=i.Ob({type:e,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[i.Gb([je]),i.Eb]}),e}();function Fe(e){return!(e instanceof Ne||e instanceof Le||e instanceof Be)}var He={provide:b,useExisting:Object(i.Y)((function(){return Ue}))},Ue=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o,a,s){var c;return _classCallCheck(this,n),(c=t.call(this))._ngModelWarningConfig=s,c._added=!1,c.update=new i.p,c._ngModelWarningSent=!1,c._parent=e,c._rawValidators=r||[],c._rawAsyncValidators=o||[],c.valueAccessor=ce(_assertThisInitialized(c),a),c}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._added||this._setUpControl(),oe(e,this.viewModel)&&(ue("formControlName",n,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_checkParentType",value:function(){!(this._parent instanceof Ne)&&this._parent instanceof Ce?Y.ngModelGroupException():this._parent instanceof Ne||this._parent instanceof Le||this._parent instanceof Be||Y.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(e){Y.disabledAttrWarning()}},{key:"path",get:function(){return q(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return ie(this._rawValidators)}},{key:"asyncValidator",get:function(){return re(this._rawAsyncValidators)}}]),n}(b);return e.\u0275fac=function(t){return new(t||e)(i.Tb(g,13),i.Tb(S,10),i.Tb(O,10),i.Tb(c,10),i.Tb(Me,8))},e.\u0275dir=i.Ob({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Gb([He]),i.Eb,i.Fb]}),e._ngModelWarningSentOnce=!1,e}(),Ye={provide:S,useExisting:Object(i.Y)((function(){return Ve})),multi:!0},Ge={provide:S,useExisting:Object(i.Y)((function(){return Ze})),multi:!0},Ve=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validate",value:function(e){return this.required?w.required(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Ob({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&i.Ib("required",t.required?"":null)},inputs:{required:"required"},features:[i.Gb([Ye])]}),e}(),Ze=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"validate",value:function(e){return this.required?w.requiredTrue(e):null}}]),n}(Ve);return e.\u0275fac=function(t){return We(t||e)},e.\u0275dir=i.Ob({type:e,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&i.Ib("required",t.required?"":null)},features:[i.Gb([Ge]),i.Eb]}),e}(),We=i.bc(Ze),Ke={provide:S,useExisting:Object(i.Y)((function(){return ze})),multi:!0},ze=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validate",value:function(e){return this._enabled?w.email(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"email",set:function(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Ob({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[i.Gb([Ke])]}),e}(),Qe={provide:S,useExisting:Object(i.Y)((function(){return Xe})),multi:!0},Xe=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnChanges",value:function(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(e){return null==this.minlength?null:this._validator(e)}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"_createValidator",value:function(){this._validator=w.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Ob({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&i.Ib("minlength",t.minlength?t.minlength:null)},inputs:{minlength:"minlength"},features:[i.Gb([Qe]),i.Fb]}),e}(),qe={provide:S,useExisting:Object(i.Y)((function(){return $e})),multi:!0},$e=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnChanges",value:function(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(e){return null!=this.maxlength?this._validator(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"_createValidator",value:function(){this._validator=w.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Ob({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&i.Ib("maxlength",t.maxlength?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i.Gb([qe]),i.Fb]}),e}(),Je={provide:S,useExisting:Object(i.Y)((function(){return et})),multi:!0},et=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnChanges",value:function(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(e){return this._validator(e)}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"_createValidator",value:function(){this._validator=w.pattern(this.pattern)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Ob({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&i.Ib("pattern",t.pattern?t.pattern:null)},inputs:{pattern:"pattern"},features:[i.Gb([Je]),i.Fb]}),e}(),tt=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)}}),e}(),nt=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),i=null,r=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,r=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,r=null!=t.asyncValidator?t.asyncValidator:null)),new ve(n,{asyncValidators:r,updateOn:o,validators:i})}},{key:"control",value:function(e,t,n){return new ge(e,t,n)}},{key:"array",value:function(e,t,n){var i=this,r=e.map((function(e){return i._createControl(e)}));return new me(r,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(i){n[i]=t._createControl(e[i])})),n}},{key:"_createControl",value:function(e){return e instanceof ge||e instanceof ve||e instanceof me?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e}(),it=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},providers:[R],imports:[tt]}),e}(),rt=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:Me,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}();return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},providers:[nt,R],imports:[tt]}),e}()},"3UWI":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("D0XW"),r=n("l7GE"),o=n("ZUHj"),a=function(){function e(t){_classCallCheck(this,e),this.durationSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.durationSelector))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).durationSelector=i,r.hasValue=!1,r}return _createClass(n,[{key:"_next",value:function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t;try{t=(0,this.durationSelector)(e)}catch(i){return this.destination.error(i)}var n=Object(o.a)(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}},{key:"notifyNext",value:function(e,t,n,i){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(r.a),c=n("PqYM");function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a;return t=function(){return Object(c.a)(e,n)},function(e){return e.lift(new a(t))}}},"3XJ7":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("fXoL"),r=n("lUod"),o=n("WyaX"),a=function e(t,n,i){_classCallCheck(this,e),this.nodes=t,this.viewRef=n,this.componentRef=i},s=function(){function e(t,n,r,o,a,s,c,l){_classCallCheck(this,e),this._viewContainerRef=t,this._renderer=n,this._elementRef=r,this._injector=o,this._componentFactoryResolver=a,this._ngZone=s,this._applicationRef=c,this._posService=l,this.onBeforeShow=new i.p,this.onShown=new i.p,this.onBeforeHide=new i.p,this.onHidden=new i.p,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}return _createClass(e,[{key:"attach",value:function(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}},{key:"to",value:function(e){return this.container=e||this.container,this}},{key:"position",value:function(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}},{key:"provide",value:function(e){return this._providers.push(e),this}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);var t=i.u.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof i.n&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){var n=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!n)return;n.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}},{key:"hide",value:function(e){var t,n,i;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);var r=this._componentRef.location.nativeElement;return r.parentNode.removeChild(r),(null===(t=this._contentRef)||void 0===t?void 0:t.componentRef)&&this._contentRef.componentRef.destroy(),this._viewContainerRef&&(null===(n=this._contentRef)||void 0===n?void 0:n.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),(null===(i=this._contentRef)||void 0===i?void 0:i.viewRef)&&this._contentRef.viewRef.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}},{key:"toggle",value:function(){this.isShown?this.hide():this.show()}},{key:"dispose",value:function(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}},{key:"listen",value:function(e){var t,n=this;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||(null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement);var i=this._listenOpts.hide=function(){return e.hide?e.hide():void n.hide()},o=this._listenOpts.show=function(t){e.show?e.show(t):n.show(t),t()};return this._renderer&&(this._unregisterListenersFn=Object(r.d)(this._renderer,{target:e.target,triggers:e.triggers,show:o,hide:i,toggle:function(e){n.isShown?i():o(e)}})),this}},{key:"_removeGlobalListener",value:function(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}},{key:"attachInline",value:function(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}},{key:"_registerOutsideClick",value:function(){var e=this;if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){var t=this._componentRef.location.nativeElement;setTimeout((function(){e._renderer&&e._elementRef&&(e._globalListener=Object(r.g)(e._renderer,{targets:[t,e._elementRef.nativeElement],outsideClick:e._listenOpts.outsideClick,hide:function(){return e._listenOpts.hide&&e._listenOpts.hide()}}))}))}if(this._listenOpts.outsideEsc&&this._renderer&&this._elementRef){var n=this._componentRef.location.nativeElement;this._globalListener=Object(r.f)(this._renderer,{targets:[n,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:function(){return e._listenOpts.hide&&e._listenOpts.hide()}})}}}},{key:"getInnerComponent",value:function(){return this._innerComponent}},{key:"_subscribePositioning",value:function(){var e=this;!this._zoneSubscription&&this.attachment&&(this.onShown.subscribe((function(){var t;e._posService.position({element:null===(t=e._componentRef)||void 0===t?void 0:t.location,target:e._elementRef,attachment:e.attachment,appendToBody:"body"===e.container})})),this._zoneSubscription=this._ngZone.onStable.subscribe((function(){e._componentRef&&e._posService.calcPosition()})))}},{key:"_unsubscribePositioning",value:function(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}},{key:"_getContentRef",value:function(e,t,n){if(!e)return new a([]);if(e instanceof i.P){if(this._viewContainerRef){var r=this._viewContainerRef.createEmbeddedView(e,t);return r.markForCheck(),new a([r.rootNodes],r)}var o=e.createEmbeddedView({});return this._applicationRef.attachView(o),new a([o.rootNodes],o)}if("function"==typeof e){var s=this._componentFactoryResolver.resolveComponentFactory(e),c=i.u.create({providers:this._providers,parent:this._injector}),l=s.create(c);return Object.assign(l.instance,n),this._applicationRef.attachView(l.hostView),new a([[l.location.nativeElement]],l.hostView,l)}var u=this._renderer?[this._renderer.createText(""+e)]:[];return new a([u])}},{key:"isShown",get:function(){return!this._isHiding&&!!this._componentRef}}]),e}(),c=function(){var e=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this._componentFactoryResolver=t,this._ngZone=n,this._injector=i,this._posService=r,this._applicationRef=o}return _createClass(e,[{key:"createLoader",value:function(e,t,n){return new s(t,n,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(i.l),i.dc(i.E),i.dc(i.u),i.dc(o.b),i.dc(i.g))},e.\u0275prov=Object(i.Pb)({factory:function(){return new e(Object(i.dc)(i.l),Object(i.dc)(i.E),Object(i.dc)(i.r),Object(i.dc)(o.b),Object(i.dc)(i.g))},token:e,providedIn:"root"}),e}()},"3kwf":function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var i=function(e){return e._blank="_blank",e._self="_self",e._parent="_parent",e._self_internal="_self-internal",e}({}),r=function(e){return e.BUTTON="BUTTON",e.LINK="LINK",e}({}),o=function(e){return e.Image="Image",e.Video="Video",e.Iframe="Iframe",e}({}),a=function(e){return e.Row="Row",e.Column="Column",e}({}),s=function(e){return e.items="items",e.carousel="carousel",e.card="card",e.product="product",e.dynamic="dynamic",e["product-cards"]="product-cards",e["service-cards"]="service-cards",e["low-fare-widget"]="low-fare-widget",e["dynamic-banners"]="dynamic-banners",e["homepage-payments"]="homepage-payments",e["promotional-modals"]="promotional-modals",e}({}),c=function(e){return e.Heading="heading",e.TextBlock="textBlock",e.CollapsibleList="collapsibleList",e.TextList="textList",e.StickyVerticalMenu="stickyVerticalMenu",e.StickyHorizontalMenu="stickyHorizontalMenu",e.MenuItem="menuItem",e.Header="header",e.ImageWithText="imageWithText",e.GalleryImageSlider="galleryImageSlider",e.VideoWithTitle="videoWithTitle",e.PromoCardGroup="promoCardGroup",e.PromoCard="promoCard",e.CityPromo="cityPromo",e.CardGroup="cardGroup",e.Disclaimer="disclaimer",e.CallToAction="cta",e.ImageWithTitle="imageWithTitle",e.LinkCard="linkCard",e.ListItem="listItem",e.ItemsGroup="itemsGroup",e}({}),l=function(e){return e.details="details",e.trips="trips",e.vivafan="vivafan",e.faceid="faceid",e.payment_methods="payment_methods",e.companions="companions",e.settings="settings",e.doters="doters",e.myidtravel="myidtravel",e.gift="gift",e}({})},"4GIP":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={firstName:{required:"BOOKER_ERROR_FIELD-REQUIRED",minlength:"BOOKER_ERROR_MINIMUM-FIRSTNAME",maxlength:"BOOKER_ERROR_MAXIMUM-FIRSTNAME",pattern:"BOOKER_ERROR_SPECIAL-CHARACTERS"},lastName:{required:"BOOKER_ERROR_FIELD-REQUIRED",minlength:"BOOKER_ERROR_MINIMUM-LASTNAME",maxlength:"BOOKER_ERROR_MAXIMUM-LASTNAME",pattern:"BOOKER_ERROR_SPECIAL-CHARACTERS"},gender:{required:"BOOKER_ERROR_FIELD-REQUIRED"},dateOfBirth:{required:"BOOKER_ERROR_FIELD-REQUIRED",type:"BOOKER_ERROR_PASSENGER-INFO",departureDate:"BOOKER_ERROR_INVALID-DATE"},residentCountry:{required:"BOOKER_ERROR_COUNTRY-EMPTY"}}},"4I5i":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},"4fRq":function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},"4kuk":function(e,t,n){var i=n("SfRM"),r=n("Hvzi"),o=n("u8Dt"),a=n("ekgI"),s=n("JSQU");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},"4nN9":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("mrSG"),r=n("fXoL"),o=n("qcmc"),a=function(){var e=function(){function e(t){_classCallCheck(this,e),this.staticCtasSvc=t,this.prevCodeValue=""}return _createClass(e,[{key:"transform",value:function(e){return e||"string"==typeof e?(this.prevCodeValue===e||(this.prevCodeValue=e,this.cta=void 0,this.getCtaUrl(e)),this.cta):this.cta}},{key:"getCtaUrl",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.staticCtasSvc.ready;case 2:n=this.staticCtasSvc.getCta(e),this.cta=n||void 0;case 4:case"end":return t.stop()}}),t,this)})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Tb(o.a))},e.\u0275pipe=r.Sb({name:"cmsStaticCtas",type:e,pure:!1}),e}()},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ZUHj"),r=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(i){return i.pipe(c((function(n,i){return Object(s.a)(e(n,i)).pipe(Object(a.a)((function(e,r){return t(n,e,i,r)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new l(e,n))})}var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.project,this.concurrent))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(r=t.call(this,e)).project=i,r.concurrent=o,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=new o.a(this,t,n),a=this.destination;a.add(r);var s=Object(i.a)(this,e,void 0,void 0,r);s!==r&&a.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,i,r){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(r.a)},"51Dv":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=i,o.outerIndex=r,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"5KMX":function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return c}));var i=n("ofXK"),r=n("wMS7"),o=n("fXoL"),a=n("jhN1"),s=new o.t("Config for DOMPurify",{factory:function(){return{}},providedIn:"root"}),c=new o.t("Hooks for DOMPurify",{factory:function(){return[]},providedIn:"root"}),l=new o.t("A function that sanitizes value for a CSS rule",{factory:function(){return function(e){return e}},providedIn:"root"}),u=r,d=function(){var e=function(){function e(t,n,i,r){var o=this,a=i.defaultView;_classCallCheck(this,e),this.config=t,this.sanitizeStyle=n,this.domPurify=u(a),r.forEach((function(e){var t=e.name,n=e.hook;o.domPurify.addHook(t,n)}))}return _createClass(e,[{key:"sanitize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config;if(e===o.M.SCRIPT)throw new Error("DOMPurify does not support SCRIPT context");return e===o.M.STYLE?this.sanitizeStyle(String(t)):this.domPurify.sanitize(String(t||""),n)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.dc(s),o.dc(l),o.dc(i.e),o.dc(c))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=Object(o.W)({factory:function(){return new e(Object(o.Z)(s),Object(o.Z)(l),Object(o.Z)(i.e),Object(o.Z)(c))},token:e,providedIn:"root"}),e}(),h=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.sanitizer=t,this.domSanitizer=n}return _createClass(e,[{key:"transform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.M.HTML,n=arguments.length>2?arguments[2]:void 0;return this.bypassSecurityTrust(t,this.sanitizer.sanitize(t,e,n))}},{key:"bypassSecurityTrust",value:function(e,t){switch(e){case o.M.HTML:return this.domSanitizer.bypassSecurityTrustHtml(t);case o.M.STYLE:return this.domSanitizer.bypassSecurityTrustStyle(t);case o.M.URL:return this.domSanitizer.bypassSecurityTrustUrl(t);case o.M.RESOURCE_URL:return this.domSanitizer.bypassSecurityTrustResourceUrl(t);default:return null}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Tb(d),o.Tb(a.b))},e.\u0275pipe=o.Sb({name:"dompurify",type:e,pure:!0}),e}(),f=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)}}),e}()},"5Tg0":function(e,t,n){(function(e){var i=n("Kz5y"),r=t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r?i.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}}).call(this,n("2pl3")(e))},"5oMp":function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},"6oyg":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("AytR"),r=n("fXoL"),o=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"generateDynamicLinkForApp",value:function(e,t){var n=encodeURIComponent("".concat(i.g.firebase.dynamicLinks.domain).concat(e)),r=encodeURIComponent(""+t),o=encodeURIComponent(""+i.g.firebase.dynamicLinks.apn),a=encodeURIComponent(""+i.g.firebase.dynamicLinks.ibi),s="".concat(i.g.firebase.dynamicLinks.domain,"?link=").concat(n,"&apn=").concat(o,"&afl=").concat(r,"&ibi=").concat(a,"&ifl=").concat(r,"&ofl=").concat(r);return i.g.firebase.dynamicLinks.debug&&(s+="&d=1"),s}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"6sVZ":function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},"77Zs":function(e,t,n){var i=n("Xi7e");e.exports=function(){this.__data__=new i,this.size=0}},"7GkX":function(e,t,n){var i=n("b80T"),r=n("A90E"),o=n("MMmD");e.exports=function(e){return o(e)?i(e):r(e)}},"7Hc7":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=1,r=Promise.resolve(),o={};function a(e){return e in o&&(delete o[e],!0)}var s=function(e){var t=i++;return o[t]=!0,r.then((function(){return a(t)&&e()})),t},c=function(e){a(e)},l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=s(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,i);0===e.actions.length&&(c(t),e.scheduled=void 0)}}]),n}(n("3N8a").a),u=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,r=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<r&&(e=n.shift()));if(this.active=!1,t){for(;++i<r&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n("IjjT").a))(l)},"7Ix3":function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},"7Jl0":function(e,t,n){var i,r,o;!function(a){if("object"==typeof e.exports){var s=a(0,t);void 0!==s&&(e.exports=s)}else r=[n,t],void 0===(o="function"==typeof(i=a)?i.apply(t,r):i)||(e.exports=o)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;t.default=["es-US",[["a.\xa0m.","p.\xa0m."],n,n],n,[["D","L","M","M","J","V","S"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],n,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],n,[["a. C.","d. C."],n,["antes de Cristo","despu\xe9s de Cristo"]],0,[6,0],["d/M/y","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1} {0}",n,"{1} 'a' 'las' {0}",n],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4#,##0.00","#E0"],"USD","$","d\xf3lar estadounidense",{AUD:[n,"$"],BRL:[n,"R$"],BYN:[n,"p."],CAD:[n,"$"],CNY:[n,"\xa5"],ESP:["\u20a7"],EUR:[n,"\u20ac"],GBP:[n,"\xa3"],HKD:[n,"$"],ILS:[n,"\u20aa"],INR:[n,"\u20b9"],KRW:[n,"\u20a9"],MXN:[n,"$"],NZD:[n,"$"],TWD:[n,"NT$"],VND:[n,"\u20ab"],XAF:[],XCD:[n,"$"],XOF:[]},"ltr",function(e){return 1===e?1:5}]}))},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("n6bG"),r=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),c=n("NJ4a"),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var a;switch(_classCallCheck(this,n),(a=t.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=r.a;break;case 1:if(!e){a.destination=r.a;break}if("object"==typeof e){e instanceof n?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new u(_assertThisInitialized(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new u(_assertThisInitialized(a),e,i,o)}return a}return _createClass(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,i){var r=new n(e,t,i);return r.syncErrorThrowable=!1,r}}]),n}(o.a),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,a,s){var c,l;_classCallCheck(this,n),(c=t.call(this))._parentSubscriber=e;var u=_assertThisInitialized(c);return Object(i.a)(o)?l=o:o&&(l=o.next,a=o.error,s=o.complete,o!==r.a&&(u=Object.create(o),Object(i.a)(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(_assertThisInitialized(c)))),c._context=u,c._next=l,c._error=a,c._complete=s,c}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(c.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(c.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return s.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(Object(c.a)(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(l)},"8Awy":function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i,r=n("Elrx"),o=n("fXoL"),a=n("ChtM"),s=n("ofXK"),c=((i=function(){function e(t){_classCallCheck(this,e),this.currency=t,this.digitsRegex=/^\d(\.\d(\-\d){0,1}){0,1}$/}return _createClass(e,[{key:"transform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currency.cultureCode,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currency.code,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"symbol",r=arguments.length>4?arguments[4]:void 0,o=this.getDigitsConfig(r),a=e;0===o.maximumFractionDigits&&0===o.minimumFractionDigits&&(a=Math.ceil(a));var s=Object.assign({currency:n||this.currency.code},o);return i?(s.style="currency",s.currencyDisplay=i):(s.style="decimal",r||this.setConfigForDecimalStyle(s,t||this.currency.cultureCode,n||this.currency.code)),new Intl.NumberFormat(t||this.currency.cultureCode,s).format(a)}},{key:"getDigitsConfig",value:function(e){var t={};if(e)if(this.digitsRegex.test(e))try{var n=e.split(".");if(n.length<=0)return t;var i=parseInt(n[0],10);if(i>0&&(t.minimumIntegerDigits=i),n.length>1){var r=n[1].split("-"),o=parseInt(r[0],10);if(o>=0&&(t.minimumFractionDigits=o),r.length>1){var a=parseInt(r[1],10);a>=0&&(t.maximumFractionDigits=a)}}}catch(s){return console.error("::IntlCurrencyPipe::",s),{}}else console.error("::IntlCurrencyPipe::",'Invalid "digits" format!! Received: '+e);return t}},{key:"setConfigForDecimalStyle",value:function(e,t,n){var i=new Intl.NumberFormat(t,{style:"currency",currency:n}).resolvedOptions();e.minimumIntegerDigits=i.minimumIntegerDigits,e.minimumFractionDigits=i.minimumFractionDigits,e.maximumFractionDigits=i.maximumFractionDigits}}]),e}()).\u0275fac=function(e){return new(e||i)(o.Tb(r.a))},i.\u0275pipe=o.Sb({name:"intlCurrency",type:i,pure:!0}),i),l=n("VXoX");function u(e,t){if(1&e&&(o.Zb(0,"span",6),o.Sc(1),o.Yb()),2&e){var n=o.jc();o.sc("ngClass",n.styleConfig.sign||n.styleConfig.main)("ngStyle",n.priceStyle),o.Hb(1),o.Uc(" ",n.pricePrefix," ")}}var d=function(e){return{color:e}};function h(e,t){if(1&e&&(o.Zb(0,"span",7),o.Ub(1,"em",8),o.Yb()),2&e){var n=o.jc();o.sc("ngClass",n.styleConfig.sign||n.styleConfig.main)("ngStyle",o.vc(4,d,n.priceIconColor)),o.Hb(1),o.sc("ngClass",n.faIcon)("ngStyle",n.mainIconStyle)}}var f=function(e){return{"app-price-original":e}},p=function(e,t){return{"text-decoration":e,opacity:t}},g=function(e,t,n){return[e,t,"","",n]};function v(e,t){if(1&e&&(o.Zb(0,"span",12),o.Zb(1,"span",13),o.Sc(2),o.kc(3,"intlCurrency"),o.Yb(),o.Yb()),2&e){var n=o.jc(2);o.sc("ngClass",o.vc(10,f,n.isOffer||n.isOfferCAU))("ngStyle",n.offerStyle),o.Hb(1),o.sc("ngStyle",o.wc(12,p,n.slashedOffer?"line-through":"none",n.slashedOffer?"0.5":1)),o.Hb(1),o.Uc(" ",o.pc(3,4,o.xc(15,g,n.originalAmount,n._currency.cultureCode,n.showDecimals&&!n.isInt(n.originalAmount)?null:"1.0-0"))," ")}}function m(e,t){if(1&e&&(o.Zb(0,"span"),o.Ub(1,"i",15),o.Yb()),2&e){var n=o.jc(3);o.Hb(1),o.sc("ngClass",n.unitContent)}}function b(e,t){if(1&e&&(o.Zb(0,"span"),o.Sc(1),o.Yb()),2&e){var n=o.jc(3);o.Hb(1),o.Uc(" ",n.unitContent,"")}}function y(e,t){if(1&e&&(o.Xb(0),o.Zb(1,"span",14),o.Sc(2," / "),o.Yb(),o.Qc(3,m,2,1,"span",11),o.Qc(4,b,2,1,"span",11),o.Wb()),2&e){var n=o.jc(2);o.Hb(3),o.sc("ngIf",!n.useText),o.Hb(1),o.sc("ngIf",n.useText)}}function _(e,t){if(1&e&&(o.Zb(0,"div",9),o.Qc(1,v,4,19,"span",10),o.Zb(2,"span"),o.Sc(3),o.kc(4,"cmsTranslate"),o.Yb(),o.Qc(5,y,5,2,"ng-container",11),o.Yb()),2&e){var n=o.jc();o.sc("ngStyle",o.vc(6,d,n.priceIconColor)),o.Hb(1),o.sc("ngIf",n.showOriginalAmount),o.Hb(2),o.Uc(" ",n.showDoters?o.lc(4,4,n.dotersTotal?"BOOKER_LABEL_DOTERS-TOTAL-PRICE":"BOOKER_LABEL_DOTERS"):n._currency.code," "),o.Hb(2),o.sc("ngIf",n.unitContent)}}var C,k=function(e){return{"app-price-offer":e}},S=((C=function(){function e(t,n){_classCallCheck(this,e),this.appCurrency=t,this.currencySvc=n,this.amount=0,this.slashedOffer=!0,this.useText=!1,this.unitContent="fas fa-user",this.pricePrefix="",this.isOffer=!1,this.isOfferCAU=!1,this.size="medium",this.hideCAU=!1,this.showDecimals=!1,this.priceClass="",this.offerStyle="",this.showDoters=!1,this.dotersTotal=!1,this.onlyNumber=!1,this.fontSizeConfig={small:{main:"h4"},smallCOP:{main:"h4 COP-price",sign:"small-title"},medium:{main:"h3"},big:{main:"h2"}},this.currencyIcon=this.faCurrencyIcon}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){var t=this;if(void 0!==e.currencyCode&&(e.currencyCode.firstChange||e.currencyCode.currentValue!==e.currencyCode.previousValue)){var n=this.currencySvc._currencies.find((function(e){return e.code===t.currencyCode}));n&&(this.currency=n),this.currencyIcon=this.faCurrencyIcon}}},{key:"isInt",value:function(e){return Number.isInteger(e)}},{key:"faCurrencyIcon",get:function(){switch(this._currency.code){case"MXN":case"AUD":case"USD":case"CAD":return"dollar";case"GBP":return"pound";case"EUR":return"euro";default:return"dollar"}}},{key:"_currency",get:function(){return this.currency||this.appCurrency}},{key:"faIcon",get:function(){return"fas fa-".concat(this.currencyIcon||"dollar","-sign")}},{key:"showOriginalAmount",get:function(){return!!this.originalAmount&&this.originalAmount!==this.amount}},{key:"styleConfig",get:function(){return this.fontSizeConfig["COP"===this._currency.code?"smallCOP":this.size]||this.fontSizeConfig.medium}}]),e}()).\u0275fac=function(e){return new(e||C)(o.Tb(r.a),o.Tb(a.a))},C.\u0275cmp=o.Nb({type:C,selectors:[["app-price"]],inputs:{amount:"amount",originalAmount:"originalAmount",slashedOffer:"slashedOffer",currencyCode:"currencyCode",useText:"useText",unitContent:"unitContent",pricePrefix:"pricePrefix",isOffer:"isOffer",isOfferCAU:"isOfferCAU",size:"size",hideCAU:"hideCAU",showDecimals:"showDecimals",priceClass:"priceClass",priceStyle:"priceStyle",mainIconStyle:"mainIconStyle",priceIconColor:"priceIconColor",offerStyle:"offerStyle",showDoters:"showDoters",dotersTotal:"dotersTotal",onlyNumber:"onlyNumber"},features:[o.Fb],decls:8,vars:20,consts:[[1,"app-price",3,"ngClass"],[1,"d-flex","justify-content-end","align-items-center","app-price-main",3,"ngClass"],["class","default-price prefix",3,"ngClass","ngStyle",4,"ngIf"],["class","app-price-sign",3,"ngClass","ngStyle",4,"ngIf"],[1,"default-price",3,"ngClass","ngStyle"],["class","d-flex flex-row justify-content-end align-items-center small-title app-price-cau",3,"ngStyle",4,"ngIf"],[1,"default-price","prefix",3,"ngClass","ngStyle"],[1,"app-price-sign",3,"ngClass","ngStyle"],[3,"ngClass","ngStyle"],[1,"d-flex","flex-row","justify-content-end","align-items-center","small-title","app-price-cau",3,"ngStyle"],["class","mr-5 opacity-10",3,"ngClass","ngStyle",4,"ngIf"],[4,"ngIf"],[1,"mr-5","opacity-10",3,"ngClass","ngStyle"],[3,"ngStyle"],[1,"app-price-unit-divider"],[3,"ngClass"]],template:function(e,t){1&e&&(o.Zb(0,"div",0),o.Zb(1,"div",1),o.Qc(2,u,2,3,"span",2),o.Qc(3,h,2,6,"span",3),o.Zb(4,"span",4),o.Sc(5),o.kc(6,"intlCurrency"),o.Yb(),o.Yb(),o.Qc(7,_,6,8,"div",5),o.Yb()),2&e&&(o.sc("ngClass",o.vc(14,k,t.isOffer)),o.Hb(1),o.sc("ngClass",t.priceClass),o.Hb(1),o.sc("ngIf",t.pricePrefix),o.Hb(1),o.sc("ngIf",!t.showDoters&&!t.onlyNumber),o.Hb(1),o.sc("ngClass",t.styleConfig.main)("ngStyle",t.priceStyle),o.Hb(1),o.Uc(" ",o.pc(6,8,o.xc(16,g,t.amount,t._currency.cultureCode,t.showDecimals&&!t.isInt(t.amount)?null:"1.0-0"))," "),o.Hb(2),o.sc("ngIf",!t.hideCAU&&!t.onlyNumber))},directives:[s.r,s.u,s.x],pipes:[c,l.a],encapsulation:2}),C)},"8KPo":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("fXoL"),r=n("AytR"),o=n("lJxs"),a=n("wd/R"),s=n("bEA1"),c=n("9yTC"),l=n("RJ73"),u=n("RbsG"),d=n("tk/3"),h=n("BifP"),f=n("uHNT"),p=n("ChtM"),g=n("G/yK"),v=function(){var e=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.http=t,this.cmsConfig=n,this.flightAlertsService=i,this.currency=r,this.locale=o,this.flightStationsService=s,this.lastBookingDate=a(this.cmsConfig._cmsConfig.lastBookingDate)}return _createClass(e,[{key:"getCalendarAvailability",value:function(e,t){var n,i,s,c,u,d,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.i.AIRPORT,f=arguments.length>3?arguments[3]:void 0,p=!1,g=!1,v=null===(s=null===(i=null===(n=this.cmsConfig._cmsConfig.globalSettings)||void 0===n?void 0:n.maacStations)||void 0===i?void 0:i[e])||void 0===s?void 0:s.searchCode;v&&(e=v,p=!0);var m=null===(d=null===(u=null===(c=this.cmsConfig._cmsConfig.globalSettings)||void 0===c?void 0:c.maacStations)||void 0===u?void 0:u[t])||void 0===d?void 0:d.searchCode;m&&(t=m,g=!0);var b={StartDate:a().format("YYYY-MM-DD"),EndDate:this.lastBookingDate.format("YYYY-MM-DD"),"Origin.Code":e,"Destination.Code":t,"Origin.Type":h,"Destination.Type":h,IncludeAlternativeStationsInOrigin:p,IncludeAlternativeStationsInDestination:g};return this.http.get(r.g.CALENDAR_AVAILABILITY_URL,{params:b}).pipe(Object(o.a)((function(e){return e.data.availableDates})),Object(o.a)((function(e){var t=[];return e.forEach((function(e){var n=a(e.date,"YYYY-MM-DD");n.isValid()&&t.push(f?{date:n,availableDirectFlights:e.availableDirectFlights}:n)})),t})))}},{key:"getSearchAvailability",value:function(e){var t=this;return this.http.post(r.g.SEARCH_AVAILABILITY_URL,e).pipe(Object(o.a)((function(e){return e.warnings&&e.warnings.length&&t.flightAlertsService.addCurrentAlert(e.warnings),e.data&&e.data.routes&&e.data.routes.length&&(e.data.routes.forEach((function(e){t.flightAlertsService.addCurrentAlert(e.notifications)})),t.isMulticitySearch(e.data.routes)||t.flightAlertsService.removeCurrentAlert({code:"MulticityFlights"})),e.data})))}},{key:"isMulticitySearch",value:function(e){return e.length>2||2===e.length&&(e[0].destination.code!==e[1].origin.code||e[0].origin.code!==e[1].destination.code)}},{key:"getSearchJourneysAvailability",value:function(e){var t=this;return this.http.post(r.g.SEARCH_JOURNEY_AVAILABILITY_URL,e).pipe(Object(o.a)((function(e){return e.warnings&&e.warnings.length&&t.flightAlertsService.addCurrentAlert(e.warnings),e.data&&e.data.routes&&e.data.routes.length&&e.data.routes.forEach((function(e){t.flightAlertsService.addCurrentAlert(e.notifications)})),e.data})))}},{key:"changeJourneysToBasket",value:function(e){return this.http.post(""+r.g.CHANGE_JOURNEYS_AVAILABILITY_URL,e)}},{key:"createSearchJourneysInputObject",value:function(e,t){var n=this;if(e.itineraryCode&&e.itineraryCode.length>0){var i=new s.d;return i.routes=e.itineraryCode.map((function(e){return n.createSearchRouteRequest(e)})),e.originalJourneys.forEach((function(e,t){i.routes[t].originalJourneyKey=e})),i.basketId=t,e.mmbSearchType&&(i.searchType=e.mmbSearchType,e.mmbSearchType===s.a.FlyAhead&&Array.isArray(i.routes)&&i.routes.forEach((function(t){t.includeAlternativeStationsInOrigin=!!e.isFlyAheadCDMXSearch,t.includeAlternativeStationsInDestination=!!e.isFlyAheadCDMXSearch}))),e.alternateStations&&(i.routes=this.patchMaacRoutes(i.routes,e.alternateStations)),i}}},{key:"createSearchRequestObject",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2?arguments[2]:void 0;if(e.itineraryCode&&e.itineraryCode.length>0&&e.passengers){var r=new s.e;return r.currencyCode=this.currency.selectedCurrencyCode,r.language=this.locale,r.routes=-1===n?e.itineraryCode.map((function(e){return t.createSearchRouteRequest(e)})):[this.createSearchRouteRequest(e.itineraryCode[n],i)],r.passengers=this.createSearchInputPassengers(e.passengers),e.promoCode&&(r.promoCode=e.promoCode),e.referral&&(r.referralCode=e.referral),e.alternateStations&&(r.routes=this.patchMaacRoutes(r.routes,e.alternateStations)),r}}},{key:"createSearchInputPassengers",value:function(e){var t=[];return e.adults&&e.adults>0&&t.push({code:c.g.ADULT,count:e.adults}),e.kids&&e.kids>0&&t.push({code:c.g.CHILD,count:e.kids}),e.babies&&e.babies>0&&t.push({code:c.g.BABY,count:e.babies}),t}},{key:"createSearchRouteRequest",value:function(e,t,n){var i={date:t?t.format("YYYY-MM-DD"):e.date.format("YYYY-MM-DD"),origin:{code:e.origin.code,type:e.origin.type},destination:{code:e.destination.code,type:e.destination.type}};return n?Object.assign(Object.assign({},i),{originalJourneyKey:n}):i}},{key:"patchMaacRoutes",value:function(e,t){var n=this,i=t.split("");return e.forEach((function(e,t){var r=n.flightStationsService._maacStations.find((function(t){return t.maac.searchCode===e.origin.code})),o=n.flightStationsService._maacStations.find((function(t){return t.maac.searchCode===e.destination.code}));(null==r?void 0:r.maac)&&parseInt(i[2*t],10)&&(e.includeAlternativeStationsInOrigin=!0),(null==o?void 0:o.maac)&&parseInt(i[2*t+1],10)&&(e.includeAlternativeStationsInDestination=!0)})),e}},{key:"generateJourneysInput",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={basketId:e,journeys:t.map((function(e){return{journeyKey:e.journey.key,fareAvailabilityKey:e.selectedFare.key,origin:{code:e.journey.origin.code,type:e.journey.origin.type},destination:{code:e.journey.destination.code,type:e.journey.destination.type}}})),passengers:this.createSearchInputPassengers(n.passengers),isVivaFan:i};return i&&r&&(o.vivaFanSubscriptionType=u.o.Monthly),void 0!==n.promoCode&&(o.promoCode=n.promoCode),o}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(d.b),i.dc(h.a),i.dc(f.a),i.dc(p.a),i.dc(i.y),i.dc(g.a))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"9AGB":function(e,t,n){"use strict";var i=n("yoF8");function r(e){return 0===e.length?i.identity:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(e)},t.pipeFromArray=r},"9Fhk":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o}));var i="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",o="url('".concat(i,"')")},"9LZq":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var i,r,o,a=n("ofXK"),s=n("ZOsW"),c=n("3Pt+"),l=n("wbuz"),u=n("fXoL"),d=n("wd/R"),h=new u.t("daterangepicker.config"),f={direction:"ltr",separator:" - ",weekLabel:"W",applyLabel:"Apply",cancelLabel:"Cancel",clearLabel:"Clear",customRangeLabel:"Custom range",daysOfWeek:d.localeData().weekdaysMin(),monthNames:d.months(),firstDay:d.localeData().firstDayOfWeek()},p=((i=function(){function e(t){_classCallCheck(this,e),this._config=t}return _createClass(e,[{key:"config",get:function(){return this._config?Object.assign(Object.assign({},f),this._config):f}}]),e}()).\u0275fac=function(e){return new(e||i)(u.dc(h))},i.\u0275prov=u.Pb({token:i,factory:i.\u0275fac}),i),g=n("o5mt"),v=((r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[{provide:h,useValue:t},{provide:p,useClass:p,deps:[h]}]}}}]),e}()).\u0275mod=u.Rb({type:r}),r.\u0275inj=u.Qb({factory:function(e){return new(e||r)},providers:[],imports:[[a.c,c.o,c.E,g.a]]}),r),m=n("/XB6"),b=n("h3XU"),y=n("iU+o"),_=n("d0zJ"),C=n("39vh"),k=n("vxfF"),S=n("hzby"),O=n("/ucA"),T=n("mI2T"),w=n("ZOAy"),A=n("JmNV"),E=((o=function e(){_classCallCheck(this,e)}).\u0275mod=u.Rb({type:o}),o.\u0275inj=u.Qb({factory:function(e){return new(e||o)},providers:[m.a,y.a],imports:[[a.c,s.b,c.E,l.a,c.o,b.a,g.a,_.a,v.forRoot(),C.b,k.d,S.a,O.a,T.a,w.a,A.a]]}),o)},"9O1C":function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var i,r=n("fXoL"),o=n("3kwf"),a=n("ofXK"),s=n("kh7C"),c=((i=function(){function e(t){_classCallCheck(this,e),this.document=t}return _createClass(e,[{key:"getQueryParamsFromUrl",value:function(e){var t={},n=this.document.createElement("a");n.href=e;var i=n.search.substring(1);if(i){var r,o=_createForOfIteratorHelper(i.split("&"));try{for(o.s();!(r=o.n()).done;){var a=r.value.split("=");Array.isArray(a)&&2===a.length&&(t[a[0]]=decodeURIComponent(a[1]))}}catch(s){o.e(s)}finally{o.f()}}return t}},{key:"trimUrl",value:function(e){return s.a.trimStr(e,"/")}}]),e}()).\u0275fac=function(e){return new(e||i)(r.dc(a.e))},i.\u0275prov=r.Pb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),l=n("tyNb"),u=n("ib+v");function d(e,t){1&e&&r.Vb(0)}function h(e,t){if(1&e&&(r.Zb(0,"a",5),r.kc(1,"cmsRegexReplace"),r.Qc(2,d,1,0,"ng-container",6),r.Yb()),2&e){var n=r.jc(),i=r.Ec(5);r.sc("href",r.mc(1,6,n.ctaContent.url,n.cmsReplacementValues),r.Kc)("title",n.ctaContent.title)("target",n.ctaContent.target)("ngClass",n.ctaClass),r.Ib("rel",n.ctaContent.rel),r.Hb(2),r.sc("ngTemplateOutlet",i)}}function f(e,t){1&e&&r.Vb(0)}function p(e,t){if(1&e&&(r.Zb(0,"a",7),r.Qc(1,f,1,0,"ng-container",6),r.Yb()),2&e){var n=r.jc(),i=r.Ec(5);r.sc("routerLink",n.ctaContent.url)("queryParams",n.ctaContent.queryParams)("title",n.ctaContent.title)("ngClass",n.ctaClass)("fragment",n.ctaContent.fragment),r.Ib("rel",n.ctaContent.rel),r.Hb(1),r.sc("ngTemplateOutlet",i)}}function g(e,t){1&e&&r.Vb(0)}function v(e,t){if(1&e){var n=r.ac();r.Zb(0,"a",8),r.hc("click",(function(){r.Hc(n);var e=r.jc();return e.goToAnchor(e.ctaContent.fragment)})),r.Qc(1,g,1,0,"ng-container",6),r.Yb()}if(2&e){var i=r.jc(),o=r.Ec(5);r.sc("title",i.ctaContent.title)("ngClass",i.ctaClass),r.Ib("rel",i.ctaContent.rel),r.Hb(1),r.sc("ngTemplateOutlet",o)}}function m(e,t){1&e&&r.qc(0)}var b,y=["*"],_=((b=function(){function e(t,n,i,r){_classCallCheck(this,e),this.ctaUtilsSvc=t,this.viewportScroller=n,this.location=i,this.localeId=r,this.ctaLinkType=C,this.ctaContent={title:"",url:"/",target:o.g._blank,queryParams:{},fragment:null,rel:""},this.ctaClass="",this.showTitle=!1,this.fragmentScrollOffset=150,this.cmsReplacementValues=[]}return _createClass(e,[{key:"ngOnChanges",value:function(){this.configureCta()}},{key:"configureCta",value:function(){this.targetType=this._targetType,this.ctaContent=this._ctaContent}},{key:"isUrlRelative",value:function(t){return!!t&&e.relativeUrlRegex.test(t)}},{key:"goToAnchor",value:function(e){var t=this.location.path();this.viewportScroller.setOffset([0,this.fragmentScrollOffset]),this.viewportScroller.scrollToAnchor(e),this.location.replaceState("".concat(t,"#").concat(e))}},{key:"buildSlug",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/";if(!e.slug)return"";var r=this.ctaUtilsSvc.trimUrl(e.slug);return r=t?r.split("?")[0]:r,(null===(n=e.parentSlug)||void 0===n?void 0:n.fields)?i+this.buildSlug(e.parentSlug.fields,!0,"")+"/"+r:i+r}},{key:"_targetType",get:function(){var e;if(this.callToAction&&this.callToAction.target&&this.callToAction.target===o.g._self_internal){if(this.callToAction.slug&&(null===(e=this.callToAction.slug.fields)||void 0===e?void 0:e.slug))return this.isUrlRelative(this.buildSlug(this.callToAction.slug.fields,!1))?C.routerLink:C.href;if(this.callToAction.fragment&&this.callToAction.fragment.length>0)return C.fragment;if(this.isUrlRelative(this.callToAction.url))return C.routerLink}return C.href}},{key:"_ctaContent",get:function(){return{title:this.title,url:this.url,target:this.target,queryParams:this.queryParams,fragment:this.fragment,rel:this.rel}}},{key:"url",get:function(){return this.callToAction?this.callToAction.slug&&this.callToAction.slug.fields.slug?this.targetType===C.routerLink?this.buildSlug(this.callToAction.slug.fields,!0):this.buildSlug(this.callToAction.slug.fields,!1,"/".concat(this.localeId.toLowerCase(),"/")):this.targetType===C.routerLink?(this.callToAction.url||"/").split("?")[0]:this.callToAction.url||"/":"/"}},{key:"rel",get:function(){var e,t,n=null===(t=null===(e=this.callToAction)||void 0===e?void 0:e.rel)||void 0===t?void 0:t.trim();return"string"==typeof n&&n.length>0?n:null}},{key:"target",get:function(){return this.callToAction?this.callToAction.target===o.g._self_internal?o.g._self:this.callToAction.target||o.g._blank:o.g._blank}},{key:"title",get:function(){return this.showTitle&&this.callToAction?this.callToAction.slug&&this.callToAction.slug.fields.title?this.callToAction.slug.fields.title:this.callToAction.text||"":""}},{key:"fragment",get:function(){return(this.targetType===C.fragment||this.targetType===C.routerLink)&&this.callToAction&&this.callToAction.fragment&&this.callToAction.fragment.length>0&&this.callToAction.fragment||null}},{key:"queryParams",get:function(){if(this.targetType===C.routerLink&&this.callToAction){if(this.callToAction.slug&&this.callToAction.slug.fields.slug)return this.ctaUtilsSvc.getQueryParamsFromUrl(this.callToAction.slug.fields.slug);if(this.callToAction.url)return this.ctaUtilsSvc.getQueryParamsFromUrl(this.callToAction.url)}return{}}}]),e}()).relativeUrlRegex=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|\.{2,}).*/i,b.\u0275fac=function(e){return new(e||b)(r.Tb(c),r.Tb(a.J),r.Tb(a.o),r.Tb(r.y))},b.\u0275cmp=r.Nb({type:b,selectors:[["app-call-to-action"]],inputs:{callToAction:"callToAction",ctaClass:"ctaClass",showTitle:"showTitle",fragmentScrollOffset:"fragmentScrollOffset",cmsReplacementValues:"cmsReplacementValues"},features:[r.Fb],ngContentSelectors:y,decls:6,vars:4,consts:[[3,"ngSwitch"],[3,"href","title","target","ngClass",4,"ngSwitchCase"],[3,"routerLink","queryParams","title","ngClass","fragment",4,"ngSwitchCase"],[3,"title","ngClass","click",4,"ngSwitchCase"],["content",""],[3,"href","title","target","ngClass"],[4,"ngTemplateOutlet"],[3,"routerLink","queryParams","title","ngClass","fragment"],[3,"title","ngClass","click"]],template:function(e,t){1&e&&(r.rc(),r.Xb(0,0),r.Qc(1,h,3,9,"a",1),r.Qc(2,p,2,7,"a",2),r.Qc(3,v,2,4,"a",3),r.Wb(),r.Qc(4,m,1,0,"ng-template",null,4,r.Rc)),2&e&&(r.sc("ngSwitch",t.targetType),r.Hb(1),r.sc("ngSwitchCase",t.ctaLinkType.href),r.Hb(1),r.sc("ngSwitchCase",t.ctaLinkType.routerLink),r.Hb(1),r.sc("ngSwitchCase",t.ctaLinkType.fragment))},directives:[a.y,a.z,a.r,a.B,l.j],pipes:[u.a],styles:["a[_ngcontent-%COMP%]{color:initial;text-decoration:none;display:inline-block}.cover-all[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center}"]}),b),C=function(e){return e[e.href=0]="href",e[e.routerLink=1]="routerLink",e[e.fragment=2]="fragment",e}({})},"9YtQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("fXoL"),r=n("ofXK"),o={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:"Unknown"},a={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},s={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},c={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:"Unknown",HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone"},l=Object.assign(Object.assign(Object.assign({},a),s),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/}),u={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,iOS:/(iPhone OS\s*[0-9_]+)/},d={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},h=function(e,t){return e[t]=u[t],e},f=Object.keys(u).reduce(h,{}),p=function(e,t){return e[o[t]]=d[t],e},g=Object.keys(d).reduce(p,{}),v=Object.freeze({__proto__:null,BROWSERS:o,MOBILES_RE:a,TABLETS_RE:s,DEVICES:c,OS:{WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:"Unknown"},OS_VERSIONS:{WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",UNKNOWN:"unknown"},OS_RE:{WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:l,OS_VERSIONS_RE_MAP:u,BROWSER_VERSIONS_RE_MAP:d,OS_VERSIONS_RE:f,BROWSER_VERSIONS_RE:g,"\u02750":h,"\u02751":p}),m=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"test",value:function(e,t){var n=this;return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.test(e):t&&Array.isArray(t.and)?t.and.every((function(t){return n.test(e,t)})):t&&Array.isArray(t.or)?t.or.some((function(t){return n.test(e,t)})):!(!t||!t.not||this.test(e,t.not))}},{key:"exec",value:function(e,t){var n=this;return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.exec(e):t&&Array.isArray(t)?t.reduce((function(t,i){return t||n.exec(e,i)}),null):null}}]),e}(),b=function(){var e=function(){function e(t){_classCallCheck(this,e),this.platformId=t,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new m,Object(r.L)(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}return _createClass(e,[{key:"setDeviceInfo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.userAgent;t!==this.userAgent&&(this.userAgent=t);var n=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(n.forEach((function(n){e[n.prop]=Object.keys(v[n.const]).reduce((function(i,o){return"device"===v[n.const][o]&&Object(r.L)(e.platformId)&&(e.reTree.test(e.userAgent,s.iPad)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(i[v[n.const][o]]="iPad",Object):(i[v[n.const][o]]=e.reTree.test(t,v[n.const+"_RE"][o]),i)}),{})})),n.forEach((function(t){e[t.prop]=Object.keys(v[t.const]).map((function(e){return v[t.const][e]})).reduce((function(n,i){return"device"===t.prop&&n===v[t.const].ANDROID?e[t.prop][i]?i:n:n===v[t.const].UNKNOWN&&e[t.prop][i]?i:n}),v[t.const].UNKNOWN)})),this.browser_version="0",this.browser!==o.UNKNOWN){var i=this.reTree.exec(t,g[this.browser]);i&&(this.browser_version=i[1])}}},{key:"getDeviceInfo",value:function(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version}}},{key:"isMobile",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.userAgent;return!this.isTablet(t)&&!!Object.keys(a).find((function(n){return e.reTree.test(t,a[n])}))}},{key:"isTablet",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.userAgent;return!(!Object(r.L)(this.platformId)||!(this.reTree.test(this.userAgent,s.iPad)||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(s).find((function(n){return!!e.reTree.test(t,s[n])}))}},{key:"isDesktop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.userAgent,t=[c.PS4,c.CHROME_BOOK,c.UNKNOWN];return(this.device!==c.UNKNOWN||!this.isMobile(e)&&!this.isTablet(e))&&t.indexOf(this.device)>-1}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(i.G))},e.\u0275prov=Object(i.Pb)({factory:function(){return new e(Object(i.dc)(i.G))},token:e,providedIn:"root"}),e}()},"9gjU":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return l}));var i=["MexicoDepartureTax","MexicoDepartureTaxPayLater","Insurance","VivaFan","Redemption"],r=function(e){return e.PerBooking="PerBooking",e.PerJourney="PerJourney",e.PerSegment="PerSegment",e}({}),o={ssrCode:null,name:"REMOVE_ITEM",preSelected:!1,includedInFare:!1,includedInVivaFan:!1,includedInLoyalty:!1,journeyKey:null,segmentKey:null,passengerKey:null,price:{amount:0,pointAmount:0,taxAmount:0,cashBackValue:0},originalPrice:null,includedForPassenger:!1,limit:null,labels:[],inventoryControlled:!1},a=function(e){return e.Other="Other",e.Recommended="Recommended",e.Baggage="Baggage",e.Commited="Commited",e}({}),s=function(e){return e.VFSM="VFSM",e.VFGM="VFGM",e.VFSA="VFSA",e.VFGA="VFGA",e}({}),c=[s.VFSM,s.VFGM],l=[s.VFSA,s.VFGA]},"9ppp":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},"9rSQ":function(e,t,n){"use strict";var i=n("xTJ+");function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},"9yTC":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return u}));var i=function e(){_classCallCheck(this,e)},r=function e(){_classCallCheck(this,e)},o=function e(){_classCallCheck(this,e)},a=function(e){return e.Discount="Discount",e.LowFare="LowFare",e.PromoCode="PromoCode",e.PromoClassOfService="PromoClassOfService",e.VivaFan="VivaFan",e.Manual="Manual",e}({}),s=function(e){return e.VIVA_ZERO="VZ",e.VIVA_LIGHT="VL",e.VIVA_BASIC="VB",e.VIVA_SMART="VS",e.VIVA_BASE="VC",e.VP="VP",e.FAREBASE="FB",e}({}),c=function(e){return e.VIVA_ZERO="BZ",e.VIVA_LIGHT="BL",e.VIVA_BASIC="BB",e.VIVA_SMART="BS",e.NONE="None",e}({}),l=function(e){return e.TuaIncluded="TuaIncluded",e.TuaPreadded="TuaPreadded",e.TuaNotAdded="TuaNotAdded",e.TuaAdded="TuaAdded",e.TuaPrice="TuaPrice",e.TuaPriceInPoints="TuaPriceInPoints",e.TuaPaid="TuaPaid",e}({}),u=function(e){return e.ADULT="ADT",e.CHILD="CHD",e.BABY="INFT",e}({})},A90E:function(e,t,n){var i=n("6sVZ"),r=n("V6Ve"),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},AP2z:function(e,t,n){var i=n("nmnc"),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(c){}var r=a.call(e);return i&&(t?e[s]=n:delete e[s]),r}},APqd:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("RbsG"),r=n("9gjU"),o=n("fXoL"),a=n("ChtM"),s=n("+EmV"),c=n("wtyH"),l=n("BifP"),u=function(){var e=function(){function e(t,n,i,r){var o;_classCallCheck(this,e),this.currency=t,this.util=n,this.serviceServices=i,this.csmConfig=r,this.defaultCat=(null===(o=this.csmConfig._cmsConfig)||void 0===o?void 0:o.globalSettings.default_category_ancillaries)||""}return _createClass(e,[{key:"itemGA4Light",value:function(e,t,n,i,r,o,a,s,c,l,u,d,h,f){var p=arguments.length>14&&void 0!==arguments[14]&&arguments[14],g={item_name:e,item_id:t,price:n,currency:this.currency.selectedCurrencyCode,item_brand:r,item_category:o,item_category_2:a,item_category_3:s,item_category_4:c,item_variant:l,coupon:u,discount:d,item_list_name:h,index:f};return p&&(g.price_vivafan=i||n),g}},{key:"itemGAULight",value:function(e,t,n,i,r,o,a,s,c,l,u,d,h){var f=arguments.length>13&&void 0!==arguments[13]&&arguments[13],p={name:e,id:t,price:n,brand:r,category:"".concat(o,"/").concat(a,"/").concat(s,"/").concat(c),variant:l,coupon:u,list:d,position:h};return f&&(p.price_vivafan=i||n),p}},{key:"itemGAULightClick",value:function(e,t,n,i,r,o,a,s,c,l,u,d){var h=arguments.length>12&&void 0!==arguments[12]&&arguments[12],f={name:e,id:t,price:n,brand:r,category:"".concat(o,"/").concat(a,"/").concat(s,"/").concat(c),variant:l,coupon:u,position:d};return h&&(f.price_vivafan=i||n),f}},{key:"listItemGA4Light",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[],r=0;r<e.length;r++)i.push(this.itemGA4Light(e[r].name,e[r].id,t||e[r].amount,e[r].vivafan_amount,e[r].brand,e[r].cat1,e[r].cat2,e[r].cat3,e[r].cat4,e[r].variant,e[r].promo,e[r].desc,e[r].listName,r+1,n));return i}},{key:"listItemsGAULight",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[],r=0;r<e.length;r++)i.push(this.itemGAULight(e[r].name,e[r].id,t||e[r].amount,e[r].vivafan_amount,e[r].brand,e[r].cat1,e[r].cat2,e[r].cat3,e[r].cat4,e[r].variant,e[r].promo,e[r].listName,r+1,n));return i}},{key:"listItemsGAULightClick",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[],r=0;r<e.length;r++)i.push(this.itemGAULightClick(e[r].name,e[r].id,t||e[r].amount,e[r].vivafan_amount,e[r].brand,e[r].cat1,e[r].cat2,e[r].cat3,e[r].cat4,e[r].variant,e[r].promo,r+1,n));return i}},{key:"buildGeneralInfo",value:function(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v,m,b,y,_,C,k,S){this.generalInformationRobust={fare_class:e,loyalty_program:t,passenger_type:n,passenger_count:i,seat_count:r,rute:o,journey_travel_type:a,journey_origin:s,journey_destination:c,journey_departure_date:l,journey_departure_time:u,journey_arrival_date:d,journey_arrival_time:h,segment_carrier_code:f,segment_carrier_id:p,segment_rute:g,segment_origin:v,segment_destination:m,segment_departure_date:b,segment_departure_time:y,segment_arrival_date:_,segment_arrival_time:C,segment_length:k,segment_layover:S}}},{key:"itemRobustGA4",value:function(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v,m,b,y,_,C,k,S,O,T,w,A,E,P,M,x,D,I,L,R){return{item_name:e,item_id:t,price:n,currency:this.currency.selectedCurrencyCode,item_brand:i,item_category:r,item_category_2:o,item_category_3:a,item_category_4:s,item_variant:c,coupon:l,discount:u,quantity:d,fare_class:h,loyalty_program:f,passenger_type:p,passenger_count:g,seat_count:v,rute:m,journey_travel_type:b,journey_origin:y,journey_destination:_,journey_departure_date:C,journey_departure_time:k,journey_arrival_date:S,journey_arrival_time:O,segment_carrier_code:T,segment_carrier_id:w,segment_rute:A,segment_origin:E,segment_destination:P,segment_departure_date:M,segment_departure_time:x,segment_arrival_date:D,segment_arrival_time:I,segment_length:L,segment_layover:R}}},{key:"itemRobustGAU",value:function(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v,m,b,y,_,C,k,S,O,T,w,A,E,P,M,x,D,I,L,R){return{name:e,id:t,price:n,brand:i,category:"".concat(r,"/").concat(o,"/").concat(a,"/").concat(s),variant:c,coupon:l,discount:u,quantity:d,fare_class:h,loyalty_program:f,passenger_type:p,passenger_count:g,seat_count:v,rute:m,journey_travel_type:b,journey_origin:y,journey_destination:_,journey_departure_date:C,journey_departure_time:k,journey_arrival_date:S,journey_arrival_time:O,segment_carrier_code:T,segment_carrier_id:w,segment_rute:A,segment_origin:E,segment_destination:P,segment_departure_date:M,segment_departure_time:x,segment_arrival_date:D,segment_arrival_time:I,segment_length:L,segment_layover:R}}},{key:"listItemsGA4Robust",value:function(e){var t=[];this.ecommerceObject={listName:"".concat(e[0].journeyOrigin,"-").concat(e[0].journeyDestination,"|").concat(e[0].journeyDepartureDate),id:e[0].id,brand:e[0].brand,category_2:e[0].cat2,category_3:e[0].cat3,variant:e[0].variant},this.buildGeneralInfo(e[0].fareClass,e[0].loyaltyProgram,e[0].passengerType,e[0].passengerCount,e[0].seatCount,e[0].rute,e[0].journeyTravelType,e[0].journeyOrigin,e[0].journeyDestination,e[0].journeyDepartureDate,e[0].journeyDepartureTime,e[0].journeyArrivalDate,e[0].journeyArrivalTime,e[0].segmentCarrierCode,e[0].segmentCarrierId,e[0].segmentRute,e[0].segmentOrigin,e[0].segmentDestination,e[0].segmentDepartureDate,e[0].segmentDepartureTime,e[0].segmentArrivalDate,e[0].segmentArrivalTime,e[0].segmentLength,e[0].segmentLayover);var n,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.push(this.itemRobustGA4(r.name,r.id,r.amount,r.brand,r.cat1,r.cat2,r.cat3,r.cat4,r.variant,r.promo,r.desc,r.quantity,r.fareClass,r.loyaltyProgram,r.passengerType,r.passengerCount,r.seatCount,r.rute,r.journeyTravelType,r.journeyOrigin,r.journeyDestination,r.journeyDepartureDate,r.journeyDepartureTime,r.journeyArrivalDate,r.journeyArrivalTime,r.segmentCarrierCode,r.segmentCarrierId,r.segmentRute,r.segmentOrigin,r.segmentDestination,r.segmentDepartureDate,r.segmentDepartureTime,r.segmentArrivalDate,r.segmentArrivalTime,r.segmentLength,r.segmentLayover))}}catch(o){i.e(o)}finally{i.f()}this.gA4RobustItems=t}},{key:"listItemsGAURobust",value:function(e){var t,n=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push(this.itemRobustGA4(r.name,r.id,r.amount,r.brand,r.cat1,r.cat2,r.cat3,r.cat4,r.variant,r.promo,r.desc,r.quantity,r.fareClass,r.loyaltyProgram,r.passengerType,r.passengerCount,r.seatCount,r.rute,r.journeyTravelType,r.journeyOrigin,r.journeyDestination,r.journeyDepartureDate,r.journeyDepartureTime,r.journeyArrivalDate,r.journeyArrivalTime,r.segmentCarrierCode,r.segmentCarrierId,r.segmentRute,r.segmentOrigin,r.segmentDestination,r.segmentDepartureDate,r.segmentDepartureTime,r.segmentArrivalDate,r.segmentArrivalTime,r.segmentLength,r.segmentLayover))}}catch(o){i.e(o)}finally{i.f()}this.gAURobustItems=n}},{key:"returnRobustItemsGA4",value:function(e){var t,n,i,r=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[];if(e.basketBooking){var s,c=_createForOfIteratorHelper(e.basketBooking.journeys);try{var l=function(){var c=s.value,l={item_name:"Flight ticket",item_id:"".concat(c.origin.code,"-").concat(c.destination.code,"|").concat(c.departureDate.scheduled),price:e.basketBooking.charges.find((function(e){return e.journeyKey===c.key})).amount.amount,currency:e.basketBooking.currencyCode,item_brand:o?"VF":c.segments[0].operatingCarrier,item_category:"Flight",item_category_2:(null===(t=null==c?void 0:c.fare)||void 0===t?void 0:t.fareType)+""+((null===(n=null==c?void 0:c.fare)||void 0===n?void 0:n.bundleTypeName)?"_"+(null===(i=null==c?void 0:c.fare)||void 0===i?void 0:i.bundleType):""),item_category_3:c.isInternational?"International":"Domestic",item_category_4:r.util.getJourneySegmentType(c),item_variant:c.fare.fareType,coupon:r.util.couponPromocode,discount:(e.basketBooking.charges.find((function(e){return e.journeyKey===c.key})).originalAmount.amount-e.basketBooking.charges.find((function(e){return e.journeyKey===c.key})).amount.amount).toFixed(2),quantity:e.basketBooking.passengers.length,fare_class:c.fare.classOfService,loyaltyProgram:c.fare.labels.find((function(e){return"RewardFare"===e.labelId}))?"Doters":"NA",passenger_type:"ADT",passenger_count:e.basketBooking.passengers.length,seat_count:e.basketBooking.seats.seats.length||"",rute:"".concat(c.origin.code,"-").concat(c.destination.code),journey_travel_type:c.travelType,journey_origin:c.origin.code,journey_destination:c.destination.code,journey_departure_date:c.departureDate.scheduled.split("T")[0],journey_departure_time:c.departureDate.scheduled.split("T")[1],journey_arrival_date:c.arrivalDate.scheduled.split("T")[0],journey_arrival_time:c.arrivalDate.scheduled.split("T")[1],segment_carrier_code:c.segments[0].operatingCarrier,segment_carrier_id:c.segments[0].operatingCode,segment_rute:"".concat(c.segments[0].origin.code,"-").concat(c.segments[0].destination.code),segment_origin:c.segments[0].origin.code,segment_destination:c.segments[0].destination.code,segment_departure_date:c.segments[0].departureDate.scheduled.split("T")[0],segment_departure_time:c.segments[0].departureDate.scheduled.split("T")[1],segment_arrival_date:c.segments[0].arrivalDate.scheduled.split("T")[0],segment_arrival_time:c.segments[0].arrivalDate.scheduled.split("T")[1],segment_length:c.segments[0].segmentDuration,segment_layover:c.segments[0].layoverTime};a.push(l)};for(c.s();!(s=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}}return a}},{key:"returnRobustItemsGAU",value:function(e){var t,n,i,r,o,a=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=[];if(e.basketBooking){var l,u=_createForOfIteratorHelper(e.basketBooking.journeys);try{var d=function(){var u=l.value,d={name:"Flight ticket",id:"".concat(u.origin.code,"-").concat(u.destination.code,"|").concat(u.departureDate.scheduled),price:e.basketBooking.charges.find((function(e){return e.journeyKey===u.key})).amount.amount,brand:s?"VF":u.segments[0].operatingCarrier,category:"Flight/".concat(null===(t=null==u?void 0:u.fare)||void 0===t?void 0:t.fareType).concat((null===(n=null==u?void 0:u.fare)||void 0===n?void 0:n.bundleTypeName)?"_"+(null===(i=null==u?void 0:u.fare)||void 0===i?void 0:i.bundleType):"","/").concat(u.isInternational?"International":"Domestic","/").concat(a.util.getJourneySegmentType(u)),variant:u.fare.fareType+""+((null===(r=null==u?void 0:u.fare)||void 0===r?void 0:r.bundleTypeName)?"_"+(null===(o=null==u?void 0:u.fare)||void 0===o?void 0:o.bundleType):""),promo:a.util.couponPromocode,desc:(e.basketBooking.charges.find((function(e){return e.journeyKey===u.key})).originalAmount.amount-e.basketBooking.charges.find((function(e){return e.journeyKey===u.key})).amount.amount).toFixed(2),quantity:e.basketBooking.passengers.length,fareClass:u.fare.classOfService,loyaltyProgram:u.fare.labels.find((function(e){return"RewardFare"===e.labelId}))?"Doters":"NA",passengerType:"ADT",passengerCount:e.basketBooking.passengers.length,seatCount:e.basketBooking.seats.seats.length||"",itemRute:"".concat(u.origin.code,"-").concat(u.destination.code),journeyTravelType:u.travelType,journeyOrigin:u.origin.code,journeyDestination:u.destination.code,journeyDepartureDate:u.departureDate.scheduled.split("T")[0],journeyDepartureTime:u.departureDate.scheduled.split("T")[1],journeyArrivalDate:u.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:u.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:u.segments[0].operatingCarrier,segmentCarrierId:u.segments[0].operatingCode,segmentRute:"".concat(u.segments[0].origin.code,"-").concat(u.segments[0].destination.code),segmentOrigin:u.segments[0].origin.code,segmentDestination:u.segments[0].destination.code,segmentDepartureDate:u.segments[0].departureDate.scheduled.split("T")[0],segmentDepartureTime:u.segments[0].departureDate.scheduled.split("T")[1],segmentArrivalDate:u.segments[0].arrivalDate.scheduled.split("T")[0],segmentArrivalTime:u.segments[0].arrivalDate.scheduled.split("T")[1],segmentLength:u.segments[0].segmentDuration,segmentLayover:u.segments[0].layoverTime};c.push(d)};for(u.s();!(l=u.n()).done;)d()}catch(h){u.e(h)}finally{u.f()}}return c}},{key:"returnClickSeatOptionsGA4",value:function(e,t,n,i){var r,o,a,s,c,l,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=_createForOfIteratorHelper(t.journeys);try{for(d.s();!(l=d.n()).done;){var h,f=l.value,p=_createForOfIteratorHelper(f.segments);try{for(p.s();!(h=p.n()).done;){var g=h.value;n===g.key&&(s=f,c=g)}}catch(v){p.e(v)}finally{p.f()}}}catch(v){d.e(v)}finally{d.f()}return{item_name:"Seat "+(null===(r=null==e?void 0:e.brand)||void 0===r?void 0:r.code),item_id:null===(o=null==e?void 0:e.brand)||void 0===o?void 0:o.code,price:null===(a=null==e?void 0:e.fromPrice)||void 0===a?void 0:a.amount,currency:t.currencyCode,item_brand:u?"VF":c.operatingCarrier,item_category:"Ancillary",item_category_2:"Seat",item_category_3:s.isInternational?"International":"Domestic",item_category_4:this.util.getJourneySegmentType(s),item_variant:s.fare.fareType,coupon:this.util.couponPromocode,discount:0,quantity:t.passengers.length,fare_class:s.fare.classOfService,loyalty_program:"NA",passenger_type:"ADT",passenger_count:t.passengers.length,seat_count:"",rute:"".concat(s.origin.code,"-").concat(s.destination.code),journey_travel_type:s.travelType,journey_origin:s.origin.code,journey_destination:s.destination.code,journey_departure_date:s.departureDate.scheduled.split("T")[0],journey_departure_time:s.departureDate.scheduled.split("T")[1],journey_arrival_date:s.arrivalDate.scheduled.split("T")[0],journey_arrival_time:s.arrivalDate.scheduled.split("T")[1],segment_carrier_code:c.operatingCarrier,segment_carrier_id:c.operatingCode,segment_rute:"".concat(c.origin.code,"-").concat(c.destination.code),segment_origin:c.origin.code,segment_destination:c.destination.code,segment_departure_date:c.departureDate.scheduled.split("T")[0],segment_departure_time:c.departureDate.scheduled.split("T")[1],segment_arrival_date:c.arrivalDate.scheduled.split("T")[0],segment_arrival_time:c.arrivalDate.scheduled.split("T")[1],segment_length:c.segmentDuration,segment_layover:c.layoverTime,item_list_name:"Seat Options".concat(i,"|").concat(s.origin.code,"-").concat(s.destination.code,"|").concat(s.departureDate.scheduled.split("T")[0]),index:0}}},{key:"returnClickSeatOptionsGAU",value:function(e,t,n,i){var r,o,a,s,c,l,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=_createForOfIteratorHelper(t.journeys);try{for(d.s();!(l=d.n()).done;){var h,f=l.value,p=_createForOfIteratorHelper(f.segments);try{for(p.s();!(h=p.n()).done;){var g=h.value;n===g.key&&(s=f,c=g)}}catch(v){p.e(v)}finally{p.f()}}}catch(v){d.e(v)}finally{d.f()}return{name:"Seat "+(null===(r=null==e?void 0:e.brand)||void 0===r?void 0:r.code),id:null===(o=null==e?void 0:e.brand)||void 0===o?void 0:o.code,price:null===(a=null==e?void 0:e.fromPrice)||void 0===a?void 0:a.amount,brand:u?"VF":c.operatingCarrier,category:"Ancillary/Seat/".concat(s.isInternational?"International":"Domestic","/").concat(this.util.getJourneySegmentType(s)),variant:s.fare.fareType,promo:this.util.couponPromocode,desc:0,quantity:t.passengers.length,fareClass:s.fare.classOfService,loyaltyProgram:"NA",passengerType:"ADT",passengerCount:t.passengers.length,seatCount:"",itemRute:"".concat(s.origin.code,"-").concat(s.destination.code),journeyTravelType:s.travelType,journeyOrigin:s.origin.code,journeyDestination:s.destination.code,journeyDepartureDate:s.departureDate.scheduled.split("T")[0],journeyDepartureTime:s.departureDate.scheduled.split("T")[1],journeyArrivalDate:s.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:s.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:c.operatingCarrier,segmentCarrierId:c.operatingCode,segmentRute:"".concat(c.origin.code,"-").concat(c.destination.code),segmentOrigin:c.origin.code,segmentDestination:c.destination.code,segmentDepartureDate:c.departureDate.scheduled.split("T")[0],segmentDepartureTime:c.departureDate.scheduled.split("T")[1],segmentArrivalDate:c.arrivalDate.scheduled.split("T")[0],segmentArrivalTime:c.arrivalDate.scheduled.split("T")[1],segmentLength:c.segmentDuration,segmentLayover:c.layoverTime,list:"Seat Options".concat(i,"|").concat(s.origin.code,"-").concat(s.destination.code,"|").concat(s.departureDate.scheduled.split("T")[0]),position:0}}},{key:"getClickSeatMapGA4",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return{item_name:"Seat "+(null==e?void 0:e.brand),item_id:null==e?void 0:e.brand,price:null==e?void 0:e.price[0].price.amount,currency:i.currencyCode,item_brand:o?"VF":n.operatingCarrier,item_category:"Ancillary",item_category_2:"Seat",item_category_3:t.isInternational?"International":"Domestic",item_category_4:this.util.getJourneySegmentType(t),item_variant:t.fare.fareType,coupon:this.util.couponPromocode,discount:(null==e?void 0:e.price[0].originalPrice)?(null==e?void 0:e.price[0].originalPrice.amount)-(null==e?void 0:e.price[0].price.amount):0,quantity:1,fare_class:t.fare.classOfService,loyalty_program:(null==e?void 0:e.price[0].price.amount)<=0?a?"Doters":o?"VivaFan":"Cobrand":"NA",passenger_type:"ADT",passenger_count:i.passengers.length,seat_count:"",rute:"".concat(t.origin.code,"-").concat(t.destination.code),journey_travel_type:t.travelType,journey_origin:t.origin.code,journey_destination:t.destination.code,journey_departure_date:t.departureDate.scheduled.split("T")[0],journey_departure_time:t.departureDate.scheduled.split("T")[1],journey_arrival_date:t.arrivalDate.scheduled.split("T")[0],journey_arrival_time:t.arrivalDate.scheduled.split("T")[1],segment_carrier_code:n.operatingCarrier,segment_carrier_id:n.operatingCode,segment_rute:"".concat(n.origin.code,"-").concat(n.destination.code),segment_origin:n.origin.code,segment_destination:n.destination.code,segment_departure_date:n.departureDate.scheduled.split("T")[0],segment_departure_time:n.departureDate.scheduled.split("T")[1],segment_arrival_date:n.arrivalDate.scheduled.split("T")[0],segment_arrival_time:n.arrivalDate.scheduled.split("T")[1],segment_length:n.segmentDuration,segment_layover:n.layoverTime,item_list_name:"Seat Options".concat(r,"|").concat(t.origin.code,"-").concat(t.destination.code,"|").concat(t.departureDate.scheduled.split("T")[0]),index:0}}},{key:"getClickSeatMapGAU",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return{name:"Seat "+(null==e?void 0:e.brand),id:null==e?void 0:e.brand,price:null==e?void 0:e.price[0].price.amount,brand:o?"VF":n.operatingCarrier,category:"Ancillary/Seat/".concat(t.isInternational?"International":"Domestic","/").concat(this.util.getJourneySegmentType(t)),variant:t.fare.fareType,promo:this.util.couponPromocode,desc:(null==e?void 0:e.price[0].originalPrice)?(null==e?void 0:e.price[0].originalPrice.amount)-(null==e?void 0:e.price[0].price.amount):0,quantity:1,fareClass:t.fare.classOfService,loyaltyProgram:(null==e?void 0:e.price[0].price.amount)<=0?a?"Doters":o?"VivaFan":"Cobrand":"NA",passengerType:"ADT",passengerCount:i.passengers.length,seatCount:"",itemRute:"".concat(t.origin.code,"-").concat(t.destination.code),journeyTravelType:t.travelType,journeyOrigin:t.origin.code,journeyDestination:t.destination.code,journeyDepartureDate:t.departureDate.scheduled.split("T")[0],journeyDepartureTime:t.departureDate.scheduled.split("T")[1],journeyArrivalDate:t.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:t.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:n.operatingCarrier,segmentCarrierId:n.operatingCode,segmentRute:"".concat(n.origin.code,"-").concat(n.destination.code),segmentOrigin:n.origin.code,segmentDestination:n.destination.code,segmentDepartureDate:n.departureDate.scheduled.split("T")[0],segmentDepartureTime:n.departureDate.scheduled.split("T")[1],segmentArrivalDate:n.arrivalDate.scheduled.split("T")[0],segmentArrivalTime:n.arrivalDate.scheduled.split("T")[1],segmentLength:n.segmentDuration,segmentLayover:n.layoverTime,list:"Seat Options".concat(r,"|").concat(t.origin.code,"-").concat(t.destination.code,"|").concat(t.departureDate.scheduled.split("T")[0]),position:0}}},{key:"returnViewSeatsGA4",value:function(e,t,n){var i,r,o,a,s,c=[],l=_createForOfIteratorHelper(e.journeys[0].segments[0].seatTypes.entries());try{for(l.s();!(s=l.n()).done;){var u=_slicedToArray(s.value,2),d=u[0],h=u[1],f={item_name:"Seat "+(null===(i=null==h?void 0:h.brand)||void 0===i?void 0:i.code),item_id:null===(r=null==h?void 0:h.brand)||void 0===r?void 0:r.code,price:null===(o=h.fromPrice)||void 0===o?void 0:o.amount,currency:this.currency.selectedCurrencyCode,item_brand:this.ecommerceObject?this.ecommerceObject.brand:null===(a=null==h?void 0:h.brand)||void 0===a?void 0:a.code,item_category:"Ancillary",item_category_2:"Seat",item_category_3:e.journeys[0].isInternational?"International":"Domestic",item_category_4:this.util.getJourneySegmentType(n),item_variant:this.ecommerceObject?this.ecommerceObject.variant:null==n?void 0:n.fare.fareType,coupon:this.util.couponPromocode,quantity:1,item_list_name:t,index:d},p=Object.assign(f,this.generalInfo);c.push(p)}}catch(g){l.e(g)}finally{l.f()}return c}},{key:"returnViewSeatsGAU",value:function(e,t,n){var i,r,o,a,s,c,l,u,d,h,f,p=[],g=_createForOfIteratorHelper(e.journeys[0].segments[0].seatTypes.entries());try{for(g.s();!(f=g.n()).done;){var v=_slicedToArray(f.value,2),m=v[0],b=v[1],y={name:"Seat "+(null===(i=null==b?void 0:b.brand)||void 0===i?void 0:i.code),id:null===(r=null==b?void 0:b.brand)||void 0===r?void 0:r.code,price:null===(o=b.fromPrice)||void 0===o?void 0:o.amount,brand:this.ecommerceObject?this.ecommerceObject.brand:null===(a=null==b?void 0:b.brand)||void 0===a?void 0:a.code,category:"Ancillary/Seat/".concat((null===(s=null==n?void 0:n.fare)||void 0===s?void 0:s.fareType)+""+((null===(c=null==n?void 0:n.fare)||void 0===c?void 0:c.bundleTypeName)?"_"+(null===(l=null==n?void 0:n.fare)||void 0===l?void 0:l.bundleType):""),"/").concat(e.journeys[0].isInternational?"International":"Domestic","/").concat(this.util.getJourneySegmentType(n)),variant:this.ecommerceObject?this.ecommerceObject.variant:(null===(u=null==n?void 0:n.fare)||void 0===u?void 0:u.fareType)+""+((null===(d=null==n?void 0:n.fare)||void 0===d?void 0:d.bundleTypeName)?"_"+(null===(h=null==n?void 0:n.fare)||void 0===h?void 0:h.bundleType):""),coupon:this.util.couponPromocode,quantity:1,list:t,position:m},_=Object.assign(y,this.generalInfo);p.push(_)}}catch(C){g.e(C)}finally{g.f()}return p}},{key:"returnRobustItemsBySegmentGA4",value:function(e,t){var n,i,r,o,a,s,c,l,u,d=_createForOfIteratorHelper(e.basketBooking.journeys);try{for(d.s();!(u=d.n()).done;){var h,f=u.value,p=_createForOfIteratorHelper(f.segments);try{for(p.s();!(h=p.n()).done;){var g=h.value;(null==t?void 0:t.segmentKey)===g.key&&(c=f,l=g)}}catch(m){p.e(m)}finally{p.f()}}}catch(m){d.e(m)}finally{d.f()}var v=null===(o=null===(r=null===(i=null===(n=null==e?void 0:e.basketBooking)||void 0===n?void 0:n.seats)||void 0===i?void 0:i.seatFees[0])||void 0===r?void 0:r.options)||void 0===o?void 0:o.find((function(e){return l.key===e.segmentKey}));return{item_name:"Seat "+(null==t?void 0:t.brand),item_id:"".concat(c.origin.code,"-").concat(c.destination.code,"|").concat(c.departureDate.scheduled),price:v?v.price.amount:"",currency:e.basketBooking.currencyCode,item_brand:l.operatingCarrier,item_category:"Seat",item_category_2:c.fare.fareType+""+((null===(a=null==c?void 0:c.fare)||void 0===a?void 0:a.bundleTypeName)?"_"+(null===(s=null==c?void 0:c.fare)||void 0===s?void 0:s.bundleType):""),item_category_3:c.isInternational?"International":"Domestic",item_category_4:l.segmentType,item_variant:c.fare.fareType,coupon:this.util.couponPromocode?this.util.couponPromocode:"",discount:v?(v.price.amount-v.price.amount).toFixed(2):"",quantity:1,fare_class:c.fare.classOfService,loyalty_program:"NA",passenger_type:"ADT",passenger_count:e.basketBooking.passengers.length,seat_count:e.basketBooking.seats.seats.length,rute:"".concat(c.origin.code,"-").concat(c.destination.code),journey_travel_type:c.travelType,journey_origin:c.origin.code,journey_destination:c.destination.code,journey_departure_date:c.departureDate.scheduled.split("T")[0],journey_departure_time:c.departureDate.scheduled.split("T")[1],journey_arrival_date:c.arrivalDate.scheduled.split("T")[0],journey_arrival_time:c.arrivalDate.scheduled.split("T")[1],segment_carrier_code:l.operatingCarrier,segment_carrier_id:l.operatingCode,segment_rute:"".concat(l.origin.code,"-").concat(l.destination.code),segment_origin:l.origin.code,segment_destination:l.destination.code,segment_departure_date:l.departureDate.scheduled.split("T")[0],segment_departure_time:l.departureDate.scheduled.split("T")[1],segment_arrival_date:l.arrivalDate.scheduled.split("T")[0],segment_arrival_time:l.arrivalDate.scheduled.split("T")[1],segment_length:l.segmentDuration,segment_layover:l.layoverTime}}},{key:"returnRobustItemsBySegmentGAU",value:function(e,t){var n,i,r,o,a,s,c,l,u,d=_createForOfIteratorHelper(e.basketBooking.journeys);try{for(d.s();!(u=d.n()).done;){var h,f=u.value,p=_createForOfIteratorHelper(f.segments);try{for(p.s();!(h=p.n()).done;){var g=h.value;(null==t?void 0:t.segmentKey)===g.key&&(c=f,l=g)}}catch(m){p.e(m)}finally{p.f()}}}catch(m){d.e(m)}finally{d.f()}var v=null===(o=null===(r=null===(i=null===(n=null==e?void 0:e.basketBooking)||void 0===n?void 0:n.seats)||void 0===i?void 0:i.seatFees[0])||void 0===r?void 0:r.options)||void 0===o?void 0:o.find((function(e){return l.key===e.segmentKey}));return{itemName:"Seat "+(null==t?void 0:t.brand),itemId:"".concat(c.origin.code,"-").concat(c.destination.code,"|").concat(c.departureDate.scheduled),amount:v?v.price.amount:"",itemBrand:l.operatingCarrier,cat1:"Seat",cat2:c.fare.fareType,cat3:c.isInternational?"International":"Domestic",cat4:l.segmentType,itemVariant:c.fare.fareType+""+((null===(a=null==c?void 0:c.fare)||void 0===a?void 0:a.bundleTypeName)?"_"+(null===(s=null==c?void 0:c.fare)||void 0===s?void 0:s.bundleType):""),promo:this.util.couponPromocode?this.util.couponPromocode:"",desc:v?(v.price.amount-v.price.amount).toFixed(2):"",itemQuantity:1,fareClass:c.fare.classOfService,loyaltyProgram:"NA",passengerType:"ADT",passengerCount:e.basketBooking.passengers.length,seatCount:e.basketBooking.seats.seats.length,itemRute:"".concat(c.origin.code,"-").concat(c.destination.code),journeyTravelType:c.travelType,journeyOrigin:c.origin.code,journeyDestination:c.destination.code,journeyDepartureDate:c.departureDate.scheduled.split("T")[0],journeyDepartureTime:c.departureDate.scheduled.split("T")[1],journeyArrivalDate:c.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:c.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:l.operatingCarrier,segmentCarrierId:l.operatingCode,segmentRute:"".concat(l.origin.code,"-").concat(l.destination.code),segmentOrigin:l.origin.code,segmentDestination:l.destination.code,segmentDepartureDate:l.departureDate.scheduled.split("T")[0],segmentDepartureTime:l.departureDate.scheduled.split("T")[1],segmentArrivalDate:l.arrivalDate.scheduled.split("T")[0],segmentArrivalTime:l.arrivalDate.scheduled.split("T")[1],segmentLength:l.segmentDuration,segmentLayover:l.layoverTime,segment:l.key}}},{key:"returnSegmentWithKey",value:function(e,t){var n,i,r=_createForOfIteratorHelper(e.basketBooking.journeys);try{for(r.s();!(i=r.n()).done;){var o,a=_createForOfIteratorHelper(i.value.segments);try{for(a.s();!(o=a.n()).done;){var s=o.value;t===s.key&&(n=s)}}catch(c){a.e(c)}finally{a.f()}}}catch(c){r.e(c)}finally{r.f()}return n}},{key:"returnViewExtrasGA4",value:function(e,t,n){var i,o,a,s,c,l=this,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],d=arguments.length>4&&void 0!==arguments[4]&&arguments[4],h=arguments.length>5&&void 0!==arguments[5]&&arguments[5],f=[],p=0,g=_createForOfIteratorHelper(e.services);try{for(g.s();!(c=g.n()).done;){var v,m=c.value,b=_createForOfIteratorHelper(m.options);try{var y=function(){var a=v.value,s=a.journeyKey?t.journeys.find((function(e){return!!e.key&&!!a.journeyKey&&e.key===a.journeyKey})):t.journeys[0],c={item_name:"Extra "+l.util.setNameItemPucharse(a.name),item_id:a.ssrCode,price:a.price.amount,currency:e.currencyCode,item_brand:h?"VF":null==s?void 0:s.segments[0].operatingCarrier,item_category:"Ancillary",item_category_2:s.fare.fareType+""+((null===(i=null==s?void 0:s.fare)||void 0===i?void 0:i.bundleTypeName)?"_"+(null===(o=null==s?void 0:s.fare)||void 0===o?void 0:o.bundleType):""),item_category_3:(null==s?void 0:s.isInternational)?"International":"Domestic",item_category_4:l.util.getJourneySegmentType(s),item_variant:m.category,coupon:l.util.couponPromocode,quantity:1,item_list_name:n,index:p++};u?"Baggage"===m.category||r.b.includes(m.category)||f.push(c):d?"Baggage"===m.category&&f.push(c):f.push(c)};for(b.s();!(v=b.n()).done;)y()}catch(S){b.e(S)}finally{b.f()}}}catch(S){g.e(S)}finally{g.f()}var _,C=_createForOfIteratorHelper(e.transportServices);try{var k=function(){var i,r=_.value,o=r.journeyKey?t.journeys.find((function(e){return!!e.key&&!!r.journeyKey&&e.key===r.journeyKey})):t.journeys[0],c=_createForOfIteratorHelper(r.pickupLocations);try{for(c.s();!(i=c.n()).done;){var u=i.value,h={item_name:"Extra "+l.util.setNameItemPucharse(u.name),item_id:u.ssrCode,price:u.price[0].price.amount,currency:e.currencyCode,item_brand:null==o?void 0:o.segments[0].operatingCarrier,item_category:"Ancillary",item_category_2:o.fare.fareType+""+((null===(a=null==o?void 0:o.fare)||void 0===a?void 0:a.bundleTypeName)?"_"+(null===(s=null==o?void 0:o.fare)||void 0===s?void 0:s.bundleType):""),item_category_3:(null==o?void 0:o.isInternational)?"International":"Domestic",item_category_4:l.util.getJourneySegmentType(o),item_variant:r.transportType,coupon:l.util.couponPromocode,quantity:1,item_list_name:"Extras|"+n,index:p++};d||f.push(h)}}catch(S){c.e(S)}finally{c.f()}};for(C.s();!(_=C.n()).done;)k()}catch(S){C.e(S)}finally{C.f()}return f}},{key:"returnViewExtrasGAU",value:function(e,t,n){var i,o,a,s,c,l,u=this,d=arguments.length>3&&void 0!==arguments[3]&&arguments[3],h=arguments.length>4&&void 0!==arguments[4]&&arguments[4],f=arguments.length>5&&void 0!==arguments[5]&&arguments[5],p=[],g=0,v=_createForOfIteratorHelper(e.services);try{for(v.s();!(l=v.n()).done;){var m,b=l.value,y=_createForOfIteratorHelper(b.options);try{var _=function(){var e=m.value,s=e.journeyKey?t.journeys.find((function(t){return t.key===e.journeyKey})):t.journeys[0],c={name:"Extra "+u.util.setNameItemPucharse(e.name),id:e.ssrCode,price:e.price.amount,brand:f?"VF":null==s?void 0:s.segments[0].operatingCarrier,category:"Ancillary/".concat((null===(i=null==s?void 0:s.fare)||void 0===i?void 0:i.fareType)+""+((null===(o=null==s?void 0:s.fare)||void 0===o?void 0:o.bundleTypeName)?"_"+(null===(a=null==s?void 0:s.fare)||void 0===a?void 0:a.bundleType):""),"/").concat((null==s?void 0:s.isInternational)?"International":"Domestic","/").concat(u.util.getJourneySegmentType(s)),variant:b.category,coupon:u.util.couponPromocode,quantity:1,list:n,position:g++};d?"Baggage"===b.category||r.b.includes(b.category)||p.push(c):h?"Baggage"===b.category&&p.push(c):p.push(c)};for(y.s();!(m=y.n()).done;)_()}catch(O){y.e(O)}finally{y.f()}}}catch(O){v.e(O)}finally{v.f()}var C,k=_createForOfIteratorHelper(e.transportServices);try{var S=function(){var e,i=C.value,r=i.journeyKey?t.journeys.find((function(e){return e.key===i.journeyKey})):t.journeys[0],o=_createForOfIteratorHelper(i.pickupLocations);try{for(o.s();!(e=o.n()).done;){var a=e.value,l={name:"Extra "+u.util.setNameItemPucharse(a.name),id:a.ssrCode,price:a.price[0].price.amount,brand:null==r?void 0:r.segments[0].operatingCarrier,category:"Ancillary/".concat(r.fare.fareType+""+((null===(s=r.fare)||void 0===s?void 0:s.bundleTypeName)?"_"+(null===(c=r.fare)||void 0===c?void 0:c.bundleType):""),"/").concat((null==r?void 0:r.isInternational)?"International":"Domestic"),variant:i.transportType,coupon:u.util.couponPromocode,quantity:1,list:"Extras|"+n,position:g++};h||p.push(l)}}catch(O){o.e(O)}finally{o.f()}};for(k.s();!(C=k.n()).done;)S()}catch(O){k.e(O)}finally{k.f()}return p}},{key:"clickExtrasModalGA4",value:function(e,t){var n,i,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],c=_createForOfIteratorHelper(e.entries());try{var l=function(){var e=_slicedToArray(i.value,2),c=e[0],l=e[1],u=void 0,d=void 0,h=(null===(n=r.serviceServices.getService(l.ssrCode))||void 0===n?void 0:n.jsonAttributes)||null;if(u=l.journeyKey?t.journeys.find((function(e){return l.journeyKey===e.key})):t.journeys[0],l.segmentKey){var f,p=_createForOfIteratorHelper(t.journeys);try{for(p.s();!(f=p.n()).done;){var g,v=_createForOfIteratorHelper(f.value.segments);try{for(v.s();!(g=v.n()).done;){var m=g.value;l.segmentKey===m.key&&(d=m)}}catch(y){v.e(y)}finally{v.f()}}}catch(y){p.e(y)}finally{p.f()}}else d=u.segments[0];var b={item_name:l.name,item_id:l.ssrCode,price:l.price.amount,currency:t.currencyCode,item_brand:a?"VF":d.operatingCarrier,item_category:h?h.item_category:r.defaultCat.item_category,item_category_2:h?h.item_category_2:r.defaultCat.item_category_2,item_category_3:h?h.item_category_3:r.defaultCat.item_category_3,item_category_4:d.segmentType,item_variant:u.fare.fareType,coupon:r.util.couponPromocode?r.util.couponPromocode:"",discount:l.originalPrice?l.originalPrice.amount-l.price.amount:0,quantity:1,fare_class:u.fare.classOfService,loyalty_program:l.includedInVivaFan?"VivaFan":l.includedInLoyalty?"Doters":"NA",passenger_type:l.passengerKey?t.passengers.find((function(e){return l.passengerKey===e.passengerKey})).type:"",passenger_count:t.passengers.length,seat_count:t.seats.seats.length||"",rute:"".concat(u.origin.code,"-").concat(u.destination.code),journey_travel_type:u.travelType,journey_origin:u.origin.code,journey_destination:u.destination.code,journey_departure_date:u.departureDate.scheduled.split("T")[0],journey_departure_time:u.departureDate.scheduled.split("T")[1],journey_arrival_date:u.arrivalDate.scheduled.split("T")[0],journey_arrival_time:u.arrivalDate.scheduled.split("T")[1],segment_carrier_code:d.operatingCarrier,segment_carrier_id:d.operatingCode,segment_rute:"".concat(d.origin.code,"-").concat(d.destination.code),segment_origin:d.origin.code,segment_destination:d.destination.code,segment_departure_date:d.departureDate.scheduled.split("T")[0],segment_departure_time:d.departureDate.scheduled.split("T")[1],segment_arrival_date:d.arrivalDate.scheduled.split("T")[0],segment_arrival_time:d.arrivalDate.scheduled.split("T")[1],segment_length:d.segmentDuration,segment_layover:d.layoverTime,item_list_name:"Extras".concat(o,"|").concat(u.origin.code,"-").concat(u.destination.code,"|").concat(u.departureDate.scheduled.split("T")[0]),index:c};s.push(b)};for(c.s();!(i=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}return s}},{key:"clickExtrasModalGAU",value:function(e,t){var n,i,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],c=_createForOfIteratorHelper(e.entries());try{var l=function(){var e=_slicedToArray(i.value,2),c=e[0],l=e[1],u=void 0,d=void 0,h=(null===(n=r.serviceServices.getService(l.ssrCode))||void 0===n?void 0:n.jsonAttributes)||null;if(u=l.journeyKey?t.journeys.find((function(e){return l.journeyKey===e.key})):t.journeys[0],l.segmentKey){var f,p=_createForOfIteratorHelper(t.journeys);try{for(p.s();!(f=p.n()).done;){var g,v=_createForOfIteratorHelper(f.value.segments);try{for(v.s();!(g=v.n()).done;){var m=g.value;l.segmentKey===m.key&&(d=m)}}catch(y){v.e(y)}finally{v.f()}}}catch(y){p.e(y)}finally{p.f()}}else d=u.segments[0];var b={name:l.name,id:l.ssrCode,price:l.price.amount,brand:a?"VF":d.operatingCarrier,category:"".concat(h?h.item_category:r.defaultCat.item_category,"/").concat(h?h.item_category_2:r.defaultCat.item_category_2,"/").concat(h?h.item_category_3:r.defaultCat.item_category_3,"/").concat(d.segmentType),variant:u.fare.fareType,promo:r.util.couponPromocode?r.util.couponPromocode:"",desc:l.originalPrice?l.originalPrice.amount-l.price.amount:0,quantity:1,fareClass:u.fare.classOfService,loyaltyProgram:l.includedInVivaFan?"VivaFan":l.includedInLoyalty?"Doters":"NA",passengerType:l.passengerKey?t.passengers.find((function(e){return l.passengerKey===e.passengerKey})).type:"",passengerCount:t.passengers.length,seatCount:t.seats.seats.length||"",itemRute:"".concat(u.origin.code,"-").concat(u.destination.code),journeyTravelType:u.travelType,journeyOrigin:u.origin.code,journeyDestination:u.destination.code,journeyDepartureDate:u.departureDate.scheduled.split("T")[0],journeyDepartureTime:u.departureDate.scheduled.split("T")[1],journeyArrivalDate:u.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:u.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:d.operatingCarrier,segmentCarrierId:d.operatingCode,segmentRute:"".concat(d.origin.code,"-").concat(d.destination.code),segmentOrigin:d.origin.code,segmentDestination:d.destination.code,segmentDepartureDate:d.departureDate.scheduled.split("T")[0],segmentDepartureTime:d.departureDate.scheduled.split("T")[1],segmentArrivalDate:d.arrivalDate.scheduled.split("T")[0],segmentArrivalTime:d.arrivalDate.scheduled.split("T")[1],segmentLength:d.segmentDuration,segmentLayover:d.layoverTime,list:"Extras".concat(o,"|").concat(u.origin.code,"-").concat(u.destination.code,"|").concat(u.departureDate.scheduled.split("T")[0]),position:c};s.push(b)};for(c.s();!(i=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}return s}},{key:"clickExtrasTransportGA4",value:function(e,t,n){var i,r,o=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],c=_createForOfIteratorHelper(e.entries());try{var l=function(){var c=_slicedToArray(r.value,2),l=c[0],u=c[1],d=void 0,h=(null===(i=o.serviceServices.getService(e[0].pickupLocations[0].ssrCode))||void 0===i?void 0:i.jsonAttributes)||null,f=(d=u.journeyKey?t.journeys.find((function(e){return u.journeyKey===e.key})):t.journeys[0]).segments[0],p={item_name:u.name,item_id:u.pickupLocations[0].ssrCode,price:u.pickupLocations[0].price[0].price.amount,currency:t.currencyCode,item_brand:a?"VF":f.operatingCarrier,item_category:h?h.item_category:o.defaultCat.item_category,item_category_2:h?h.item_category_2:o.defaultCat.item_category_2,item_category_3:h?h.item_category_3:o.defaultCat.item_category_3,item_category_4:o.util.getJourneySegmentType(d),item_variant:d.fare.fareType,coupon:o.util.couponPromocode?o.util.couponPromocode:"",discount:u.pickupLocations[0].price[0].originalPrice?u.pickupLocations[0].price[0].originalPrice.amount-u.pickupLocations[0].price[0].price.amount:0,quantity:1,fare_class:d.fare.classOfService,loyalty_program:"NA",passenger_type:"ADT",passenger_count:t.passengers.length,seat_count:t.seats.seats.length||"",rute:"".concat(d.origin.code,"-").concat(d.destination.code),journey_travel_type:d.travelType,journey_origin:d.origin.code,journey_destination:d.destination.code,journey_departure_date:d.departureDate.scheduled.split("T")[0],journey_departure_time:d.departureDate.scheduled.split("T")[1],journey_arrival_date:d.arrivalDate.scheduled.split("T")[0],journey_arrival_time:d.arrivalDate.scheduled.split("T")[1],segment_carrier_code:f.operatingCarrier,segment_carrier_id:f.operatingCode,segment_rute:"".concat(f.origin.code,"-").concat(f.destination.code),segment_origin:f.origin.code,segment_destination:f.destination.code,segment_departure_date:f.departureDate.scheduled.split("T")[0],segment_departure_time:f.departureDate.scheduled.split("T")[1],segment_arrival_date:f.arrivalDate.scheduled.split("T")[0],segment_arrival_time:f.arrivalDate.scheduled.split("T")[1],segment_length:f.segmentDuration,segment_layover:f.layoverTime,item_list_name:"Extras".concat(n,"|").concat(d.origin.code,"-").concat(d.destination.code,"|").concat(d.departureDate.scheduled.split("T")[0]),index:l};s.push(p)};for(c.s();!(r=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}return s}},{key:"clickExtrasTransportGAU",value:function(e,t,n){var i,r,o=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],c=_createForOfIteratorHelper(e.entries());try{var l=function(){var c=_slicedToArray(r.value,2),l=c[0],u=c[1],d=void 0,h=(null===(i=o.serviceServices.getService(e[0].pickupLocations[0].ssrCode))||void 0===i?void 0:i.jsonAttributes)||null,f=(d=u.journeyKey?t.journeys.find((function(e){return u.journeyKey===e.key})):t.journeys[0]).segments[0],p={name:u.name,id:e[0].pickupLocations[0].ssrCode,price:u.pickupLocations[0].price[0].price.amount,brand:a?"VF":f.operatingCarrier,category:"".concat(h?h.item_category:o.defaultCat.item_category,"/").concat(h?h.item_category_2:o.defaultCat.item_category_2,"/").concat(h?h.item_category_3:o.defaultCat.item_category_3,"/").concat(o.util.getJourneySegmentType(d)),variant:d.fare.fareType,promo:o.util.couponPromocode?o.util.couponPromocode:"",desc:u.pickupLocations[0].price[0].originalPrice?u.pickupLocations[0].price[0].originalPrice.amount-u.pickupLocations[0].price[0].price.amount:0,quantity:1,fareClass:d.fare.classOfService,loyaltyProgram:"NA",passengerType:"ADT",passengerCount:t.passengers.length,seatCount:t.seats.seats.length||"",itemRute:"".concat(d.origin.code,"-").concat(d.destination.code),journeyTravelType:d.travelType,journeyOrigin:d.origin.code,journeyDestination:d.destination.code,journeyDepartureDate:d.departureDate.scheduled.split("T")[0],journeyDepartureTime:d.departureDate.scheduled.split("T")[1],journeyArrivalDate:d.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:d.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:f.operatingCarrier,segmentCarrierId:f.operatingCode,segmentRute:"".concat(f.origin.code,"-").concat(f.destination.code),segmentOrigin:f.origin.code,segmentDestination:f.destination.code,segmentDepartureDate:f.departureDate.scheduled.split("T")[0],segmentDepartureTime:f.departureDate.scheduled.split("T")[1],segmentArrivalDate:f.arrivalDate.scheduled.split("T")[0],segmentArrivalTime:f.arrivalDate.scheduled.split("T")[1],segmentLength:f.segmentDuration,segmentLayover:f.layoverTime,list:"Extras".concat(n,"|").concat(d.origin.code,"-").concat(d.destination.code,"|").concat(d.departureDate.scheduled.split("T")[0]),position:l};s.push(p)};for(c.s();!(r=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}return s}},{key:"clickExtrasDocumentedGA4",value:function(e,t,n){var i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=(null===(i=this.serviceServices.getService(e.ssrCode))||void 0===i?void 0:i.jsonAttributes)||null,a=t.journeys.find((function(t){return e.journeyKey===t.key})),s=a.segments[0];return{item_name:e.name,item_id:e.ssrCode,price:e.price.amount,currency:t.currencyCode,item_brand:r?"VF":s.operatingCarrier,item_category:o?o.item_category:this.defaultCat.item_category,item_category_2:o?o.item_category_2:this.defaultCat.item_category_2,item_category_3:o?o.item_category_3:this.defaultCat.item_category_3,item_category_4:this.util.getJourneySegmentType(a),item_variant:a.fare.fareType,coupon:this.util.couponPromocode?this.util.couponPromocode:"",discount:e.originalPrice?e.originalPrice.amount-e.price.amount:0,quantity:1,fare_class:a.fare.classOfService,loyalty_program:e.includedInVivaFan?"VivaFan":e.includedInLoyalty?"Doters":"NA",passenger_type:e.passengerKey?t.passengers.find((function(t){return e.passengerKey===t.passengerKey})).type:"",passenger_count:t.passengers.length,seat_count:t.seats.seats.length||"",rute:"".concat(a.origin.code,"-").concat(a.destination.code),journey_travel_type:a.travelType,journey_origin:a.origin.code,journey_destination:a.destination.code,journey_departure_date:a.departureDate.scheduled.split("T")[0],journey_departure_time:a.departureDate.scheduled.split("T")[1],journey_arrival_date:a.arrivalDate.scheduled.split("T")[0],journey_arrival_time:a.arrivalDate.scheduled.split("T")[1],segment_carrier_code:s.operatingCarrier,segment_carrier_id:s.operatingCode,segment_rute:"".concat(s.origin.code,"-").concat(s.destination.code),segment_origin:s.origin.code,segment_destination:s.destination.code,segment_departure_date:s.departureDate.scheduled.split("T")[0],segment_departure_time:s.departureDate.scheduled.split("T")[1],segment_arrival_date:s.arrivalDate.scheduled.split("T")[0],segment_arrival_time:s.arrivalDate.scheduled.split("T")[1],segment_length:s.segmentDuration,segment_layover:s.layoverTime,item_list_name:"".concat(n,"|").concat(a.origin.code,"-").concat(a.destination.code,"|").concat(a.departureDate.scheduled.split("T")[0]),index:0}}},{key:"clickExtrasDocumentedGAU",value:function(e,t,n){var i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=(null===(i=this.serviceServices.getService(e.ssrCode))||void 0===i?void 0:i.jsonAttributes)||null,a=t.journeys.find((function(t){return e.journeyKey===t.key})),s=a.segments[0];return{name:e.name,id:e.ssrCode,price:e.price.amount,brand:r?"VF":s.operatingCarrier,category:"".concat(o?o.item_category:this.defaultCat.item_category,"/").concat(o?o.item_category_2:this.defaultCat.item_category_2,"/").concat(o?o.item_category_3:this.defaultCat.item_category_3,"/").concat(this.util.getJourneySegmentType(a)),variant:a.fare.fareType,promo:this.util.couponPromocode?this.util.couponPromocode:"",desc:e.originalPrice?e.originalPrice.amount-e.price.amount:0,quantity:1,fareClass:a.fare.classOfService,loyaltyProgram:e.includedInVivaFan?"VivaFan":e.includedInLoyalty?"Doters":"NA",passengerType:e.passengerKey?t.passengers.find((function(t){return e.passengerKey===t.passengerKey})).type:"",passengerCount:t.passengers.length,seatCount:t.seats.seats.length||"",itemRute:"".concat(a.origin.code,"-").concat(a.destination.code),journeyTravelType:a.travelType,journeyOrigin:a.origin.code,journeyDestination:a.destination.code,journeyDepartureDate:a.departureDate.scheduled.split("T")[0],journeyDepartureTime:a.departureDate.scheduled.split("T")[1],journeyArrivalDate:a.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:a.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:s.operatingCarrier,segmentCarrierId:s.operatingCode,segmentRute:"".concat(s.origin.code,"-").concat(s.destination.code),segmentOrigin:s.origin.code,segmentDestination:s.destination.code,segmentDepartureDate:s.departureDate.scheduled.split("T")[0],segmentDepartureTime:s.departureDate.scheduled.split("T")[1],segmentArrivalDate:s.arrivalDate.scheduled.split("T")[0],segmentArrivalTime:s.arrivalDate.scheduled.split("T")[1],segmentLength:s.segmentDuration,segmentLayover:s.layoverTime,list:"".concat(n,"|").concat(a.origin.code,"-").concat(a.destination.code,"|").concat(a.departureDate.scheduled.split("T")[0]),position:0}}},{key:"addToCartExtrasGA4",value:function(e){var t,n,o,a=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=[];if(e.basketBooking.services.transportServices){var u,d=_createForOfIteratorHelper(e.basketBooking.services.transportServices);try{var h=function(){var n=u.value,r=e.basketBooking.journeys.find((function(e){return n.journeyKey===e.key})),o=(null===(t=a.serviceServices.getService(n.pickupLocations[0].ssrCode))||void 0===t?void 0:t.jsonAttributes)||null,d=e.basket.customFields.preSelectedServices.some((function(e){return e.ssrCode===n.pickupLocations[0].ssrCode})),h={item_name:n.name,item_id:n.pickupLocations[0].ssrCode,price:n.pickupLocations[0].price.amount,currency:e.basketBooking.currencyCode,item_brand:r.segments[0].operatingCarrier,item_category:o?o.item_category:a.defaultCat.item_category,item_category_2:o?o.item_category_2:a.defaultCat.item_category_2,item_category_3:o?o.item_category_3:a.defaultCat.item_category_3,item_category_4:a.util.getJourneySegmentType(r),item_variant:r.fare.fareType,coupon:a.util.couponPromocode?a.util.couponPromocode:"",discount:(n.pickupLocations[0].price.amount-n.pickupLocations[0].price.amount).toFixed(2),quantity:n.pickupLocations.length,fare_class:r.fare.classOfService,loyalty_program:"NA",passenger_type:"ADT",passenger_count:e.basketBooking.passengers.length,seat_count:e.basketBooking.seats.seats.length,preselected:d?"Yes":"No",rute:"".concat(r.origin.code,"-").concat(r.destination.code),journey_travel_type:r.travelType,journey_origin:r.origin.code,journey_destination:r.destination.code,journey_departure_date:r.departureDate.scheduled.split("T")[0],journey_departure_time:r.departureDate.scheduled.split("T")[1],journey_arrival_date:r.arrivalDate.scheduled.split("T")[0],journey_arrival_time:r.arrivalDate.scheduled.split("T")[1],segment_carrier_code:r.segments[0].operatingCarrier,segment_carrier_id:r.segments[0].operatingCode,segment_rute:"".concat(r.segments[0].origin.code,"-").concat(r.segments[0].destination.code),segment_origin:r.segments[0].origin.code,segment_destination:r.segments[0].destination.code,segment_departure_date:r.segments[0].departureDate.scheduled.split("T")[0],segment_departure_time:r.segments[0].departureDate.scheduled.split("T")[1],segment_arrival_date:r.segments[0].arrivalDate.scheduled.split("T")[0],segment_arrival_time:r.segments[0].arrivalDate.scheduled.split("T")[1],segment_length:r.segments[0].segmentDuration,segment_layover:r.segments[0].layoverTime};s&&!c?n.pickupLocations[0].status!==i.i.Committed&&l.push(h):c||l.push(h)};for(d.s();!(u=d.n()).done;)h()}catch(v){d.e(v)}finally{d.f()}}var f,p=_createForOfIteratorHelper(e.basketBooking.services.services);try{var g=function(){var t=f.value;if(t.options.length>1&&t.options[0].journeyKey){var u,d=_createForOfIteratorHelper(t.options);try{var h=function(){var o=u.value,d=e.basketBooking.journeys.find((function(e){return o.journeyKey===e.key})),h=e.basket.customFields.preSelectedServices.some((function(e){return e.ssrCode===o.ssrCode&&o.status===i.i.Pending})),f=(null===(n=a.serviceServices.getService(o.ssrCode))||void 0===n?void 0:n.jsonAttributes)||null,p=o.price.amount;if(!o.price.amount){var g=e.basket.travel.charges.find((function(e){return e.journeyKey===o.journeyKey&&e.passengerKey===o.passengerKey&&e.segmentKey===o.segmentKey&&e.code===o.ssrCode}));p=g?g.amount.amount:0}var v={item_name:t.name,item_id:o.ssrCode,price:p,currency:e.basketBooking.currencyCode,item_brand:d.segments[0].operatingCarrier,item_category:f?f.item_category:a.defaultCat.item_category,item_category_2:f?f.item_category_2:a.defaultCat.item_category_2,item_category_3:f?f.item_category_3:a.defaultCat.item_category_3,item_category_4:a.util.getJourneySegmentType(d),item_variant:d.fare.fareType,coupon:a.util.couponPromocode?a.util.couponPromocode:"",discount:(o.price.amount-o.price.amount).toFixed(2),quantity:1,fare_class:d.fare.classOfService,loyalty_program:o.includedInVivaFan?"VivaFan":o.includedInLoyalty?"Doters":"NA",passenger_type:"ADT",passenger_count:e.basketBooking.passengers.length,seat_count:e.basketBooking.seats.seats.length,preselected:h?"Yes":"No",rute:"".concat(d.origin.code,"-").concat(d.destination.code),journey_travel_type:d.travelType,journey_origin:d.origin.code,journey_destination:d.destination.code,journey_departure_date:d.departureDate.scheduled.split("T")[0],journey_departure_time:d.departureDate.scheduled.split("T")[1],journey_arrival_date:d.arrivalDate.scheduled.split("T")[0],journey_arrival_time:d.arrivalDate.scheduled.split("T")[1],segment_carrier_code:d.segments[0].operatingCarrier,segment_carrier_id:d.segments[0].operatingCode,segment_rute:"".concat(d.segments[0].origin.code,"-").concat(d.segments[0].destination.code),segment_origin:d.segments[0].origin.code,segment_destination:d.segments[0].destination.code,segment_departure_date:d.segments[0].departureDate.scheduled.split("T")[0],segment_departure_time:d.segments[0].departureDate.scheduled.split("T")[1],segment_arrival_date:d.segments[0].arrivalDate.scheduled.split("T")[0],segment_arrival_time:d.segments[0].arrivalDate.scheduled.split("T")[1],segment_length:d.segments[0].segmentDuration,segment_layover:d.segments[0].layoverTime};c?"Baggage"===t.category&&o.status!==i.i.Committed&&l.push(v):s&&("Baggage"===t.category||r.b.includes(t.category)||o.status===i.i.Committed)||l.push(v)};for(d.s();!(u=d.n()).done;)h()}catch(v){d.e(v)}finally{d.f()}}if(1===t.options.length||!t.options[0].journeyKey){var p=(null===(o=a.serviceServices.getService(t.options[0].ssrCode))||void 0===o?void 0:o.jsonAttributes)||null,g=t.options[0].price.amount;if(!t.options[0].price.amount){var m=e.basket.travel.charges.find((function(e){return e.journeyKey===t.options[0].journeyKey&&e.passengerKey===t.options[0].passengerKey&&e.segmentKey===t.options[0].segmentKey&&e.code===t.options[0].ssrCode}));g=m?m.amount.amount:0}var b=e.basket.customFields.preSelectedServices.some((function(e){return e.ssrCode===t.options[0].ssrCode&&t.options[0].status===i.i.Pending})),y={item_name:t.name,item_id:t.options[0].ssrCode,price:g,currency:e.basketBooking.currencyCode,item_brand:e.basketBooking.journeys[0].segments[0].operatingCarrier,item_category:p?p.item_category:a.defaultCat.item_category,item_category_2:p?p.item_category_2:a.defaultCat.item_category_2,item_category_3:p?p.item_category_3:a.defaultCat.item_category_3,item_category_4:a.util.getJourneySegmentType(e.basketBooking.journeys[0]),item_variant:e.basketBooking.journeys[0].fare.fareType,coupon:a.util.couponPromocode?a.util.couponPromocode:"",discount:(t.options[0].price.amount-t.options[0].price.amount).toFixed(2),quantity:e.basketBooking.charges.filter((function(e){return t.options[0].ssrCode===e.code})).length,fare_class:e.basketBooking.journeys[0].fare.classOfService,loyalty_program:"",passenger_type:"ADT",passenger_count:e.basketBooking.passengers.length,seat_count:e.basketBooking.seats.seats.length,preselected:b?"Yes":"No",rute:"".concat(e.basketBooking.journeys[0].origin.code,"-").concat(e.basketBooking.journeys[0].destination.code),journey_travel_type:e.basketBooking.journeys[0].travelType,journey_origin:e.basketBooking.journeys[0].origin.code,journey_destination:e.basketBooking.journeys[0].destination.code,journey_departure_date:e.basketBooking.journeys[0].departureDate.scheduled.split("T")[0],journey_departure_time:e.basketBooking.journeys[0].departureDate.scheduled.split("T")[1],journey_arrival_date:e.basketBooking.journeys[0].arrivalDate.scheduled.split("T")[0],journey_arrival_time:e.basketBooking.journeys[0].arrivalDate.scheduled.split("T")[1],segment_carrier_code:e.basketBooking.journeys[0].segments[0].operatingCarrier,segment_carrier_id:e.basketBooking.journeys[0].segments[0].operatingCode,segment_rute:"".concat(e.basketBooking.journeys[0].segments[0].origin.code,"-").concat(e.basketBooking.journeys[0].segments[0].destination.code),segment_origin:e.basketBooking.journeys[0].segments[0].origin.code,segment_destination:e.basketBooking.journeys[0].segments[0].destination.code,segment_departure_date:e.basketBooking.journeys[0].segments[0].departureDate.scheduled.split("T")[0],segment_departure_time:e.basketBooking.journeys[0].segments[0].departureDate.scheduled.split("T")[1],segment_arrival_date:e.basketBooking.journeys[0].segments[0].arrivalDate.scheduled.split("T")[0],segment_arrival_time:e.basketBooking.journeys[0].segments[0].arrivalDate.scheduled.split("T")[1],segment_length:e.basketBooking.journeys[0].segments[0].segmentDuration,segment_layover:e.basketBooking.journeys[0].segments[0].layoverTime};c?"Baggage"===t.category&&t.options[0].status!==i.i.Committed&&l.push(y):s&&("Baggage"===t.category||r.b.includes(t.category)||t.options[0].status===i.i.Committed)||l.push(y)}};for(p.s();!(f=p.n()).done;)g()}catch(v){p.e(v)}finally{p.f()}return l}},{key:"addToCartExtrasGAU",value:function(e){var t,n,o,a=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=[];if(e.basketBooking.services.transportServices){var u,d=_createForOfIteratorHelper(e.basketBooking.services.transportServices);try{var h=function(){var n=u.value,r=e.basketBooking.journeys.find((function(e){return n.journeyKey===e.key})),o=(null===(t=a.serviceServices.getService(n.pickupLocations[0].ssrCode))||void 0===t?void 0:t.jsonAttributes)||null,d=e.basket.customFields.preSelectedServices.some((function(e){return e.ssrCode===n.pickupLocations[0].ssrCode})),h={itemName:n.name,itemId:n.pickupLocations[0].ssrCode,amount:n.pickupLocations[0].price.amount,itemBrand:r.segments[0].operatingCarrier,cat1:o?o.item_category:a.defaultCat.item_category,cat2:o?o.item_category_2:a.defaultCat.item_category_2,cat3:o?o.item_category_3:a.defaultCat.item_category_3,cat4:a.util.getJourneySegmentType(r),promo:a.util.couponPromocode?a.util.couponPromocode:"",desc:(n.pickupLocations[0].price.amount-n.pickupLocations[0].price.amount).toFixed(2),itemQuantity:n.pickupLocations.length,fareClass:r.fare.classOfService,loyaltyProgram:"NA",passengerType:"ADT",passengerCount:e.basketBooking.passengers.length,seatCount:e.basketBooking.seats.seats.length,preselected:d?"Yes":"No",itemRute:"".concat(r.origin.code,"-").concat(r.destination.code),journeyTravelType:r.travelType,journeyOrigin:r.origin.code,journeyDestination:r.destination.code,journeyDepartureDate:r.departureDate.scheduled.split("T")[0],journeyDepartureTime:r.departureDate.scheduled.split("T")[1],journeyArrivalDate:r.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:r.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:r.segments[0].operatingCarrier,segmentCarrierId:r.segments[0].operatingCode,segmentRute:"".concat(r.segments[0].origin.code,"-").concat(r.segments[0].destination.code),segmentOrigin:r.segments[0].origin.code,segmentDestination:r.segments[0].destination.code,segmentDepartureDate:r.segments[0].departureDate.scheduled.split("T")[0],segmentDepartureTime:r.segments[0].departureDate.scheduled.split("T")[1],segmentArrivalDate:r.segments[0].arrivalDate.scheduled.split("T")[0],segmentArrivalTime:r.segments[0].arrivalDate.scheduled.split("T")[1],segmentLength:r.segments[0].segmentDuration,segmentLayover:r.segments[0].layoverTime};s&&!c?n.pickupLocations[0].status!==i.i.Committed&&l.push(h):c||l.push(h)};for(d.s();!(u=d.n()).done;)h()}catch(v){d.e(v)}finally{d.f()}}var f,p=_createForOfIteratorHelper(e.basketBooking.services.services);try{var g=function(){var t=f.value;if(t.options.length>1&&t.options[0].journeyKey){var u,d=_createForOfIteratorHelper(t.options);try{var h=function(){var o=u.value,d=e.basketBooking.journeys.find((function(e){return o.journeyKey===e.key})),h=(null===(n=a.serviceServices.getService(o.ssrCode))||void 0===n?void 0:n.jsonAttributes)||null,f=e.basket.customFields.preSelectedServices.some((function(e){return e.ssrCode===o.ssrCode&&o.status===i.i.Pending})),p=o.price.amount;if(!o.price.amount){var g=e.basket.travel.charges.find((function(e){return e.journeyKey===o.journeyKey&&e.passengerKey===o.passengerKey&&e.segmentKey===o.segmentKey&&e.code===o.ssrCode}));p=g?g.amount.amount:0}var v={itemName:t.name,itemId:o.ssrCode,amount:p,itemBrand:d.segments[0].operatingCarrier,cat1:h?h.item_category:a.defaultCat.item_category,cat2:h?h.item_category_2:a.defaultCat.item_category_2,cat3:h?null==h?void 0:h.item_category_3:a.defaultCat.item_category_3,cat4:a.util.getJourneySegmentType(d),itemVariant:d.fare.fareType,promo:a.util.couponPromocode?a.util.couponPromocode:"",desc:(o.price.amount-o.price.amount).toFixed(2),itemQuantity:1,fareClass:d.fare.classOfService,loyaltyProgram:o.includedInVivaFan?"VivaFan":o.includedInLoyalty?"Doters":"NA",passengerType:"ADT",passengerCount:e.basketBooking.passengers.length,seatCount:e.basketBooking.seats.seats.length,preselected:f?"Yes":"No",itemRute:"".concat(d.origin.code,"-").concat(d.destination.code),journeyTravelType:d.travelType,journeyOrigin:d.origin.code,journeyDestination:d.destination.code,journeyDepartureDate:d.departureDate.scheduled.split("T")[0],journeyDepartureTime:d.departureDate.scheduled.split("T")[1],journeyArrivalDate:d.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:d.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:d.segments[0].operatingCarrier,segmentCarrierId:d.segments[0].operatingCode,segmentRute:"".concat(d.segments[0].origin.code,"-").concat(d.segments[0].destination.code),segmentOrigin:d.segments[0].origin.code,segmentDestination:d.segments[0].destination.code,segmentDepartureDate:d.segments[0].departureDate.scheduled.split("T")[0],segmentDepartureTime:d.segments[0].departureDate.scheduled.split("T")[1],segmentArrivalDate:d.segments[0].arrivalDate.scheduled.split("T")[0],segmentArrivalTime:d.segments[0].arrivalDate.scheduled.split("T")[1],segmentLength:d.segments[0].segmentDuration,segmentLayover:d.segments[0].layoverTime};c?"Baggage"===t.category&&o.status!==i.i.Committed&&l.push(v):s&&("Baggage"===t.category||r.b.includes(t.category)||o.status===i.i.Committed)||l.push(v)};for(d.s();!(u=d.n()).done;)h()}catch(v){d.e(v)}finally{d.f()}}else{var p=(null===(o=a.serviceServices.getService(t.options[0].ssrCode))||void 0===o?void 0:o.jsonAttributes)||null,g=t.options[0].price.amount;if(!t.options[0].price.amount){var m=e.basket.travel.charges.find((function(e){return e.journeyKey===t.options[0].journeyKey&&e.passengerKey===t.options[0].passengerKey&&e.segmentKey===t.options[0].segmentKey&&e.code===t.options[0].ssrCode}));g=m?m.amount.amount:0}var b=e.basket.customFields.preSelectedServices.some((function(e){return e.ssrCode===t.options[0].ssrCode&&t.options[0].status===i.i.Pending})),y={itemName:t.name,itemId:t.options[0].ssrCode,amount:g,itemBrand:e.basketBooking.journeys[0].segments[0].operatingCarrier,cat1:p?p.item_category:a.defaultCat.item_category,cat2:p?p.item_category_2:a.defaultCat.item_category_2,cat3:p?p.item_category_3:a.defaultCat.item_category_3,cat4:a.util.getJourneySegmentType(e.basketBooking.journeys[0]),itemVariant:e.basketBooking.journeys[0].fare.fareType,promo:a.util.couponPromocode?a.util.couponPromocode:"",desc:(t.options[0].price.amount-t.options[0].price.amount).toFixed(2),itemQuantity:e.basketBooking.charges.filter((function(e){return t.options[0].ssrCode===e.code})).length,fareClass:e.basketBooking.journeys[0].fare.classOfService,loyaltyProgram:"",passengerType:"ADT",passengerCount:e.basketBooking.passengers.length,seatCount:e.basketBooking.seats.seats.length,preselected:b?"Yes":"No",itemRute:"".concat(e.basketBooking.journeys[0].origin.code,"-").concat(e.basketBooking.journeys[0].destination.code),journeyTravelType:e.basketBooking.journeys[0].travelType,journeyOrigin:e.basketBooking.journeys[0].origin.code,journeyDestination:e.basketBooking.journeys[0].destination.code,journeyDepartureDate:e.basketBooking.journeys[0].departureDate.scheduled.split("T")[0],journeyDepartureTime:e.basketBooking.journeys[0].departureDate.scheduled.split("T")[1],journeyArrivalDate:e.basketBooking.journeys[0].arrivalDate.scheduled.split("T")[0],journeyArrivalTime:e.basketBooking.journeys[0].arrivalDate.scheduled.split("T")[1],segmentCarrierCode:e.basketBooking.journeys[0].segments[0].operatingCarrier,segmentCarrierId:e.basketBooking.journeys[0].segments[0].operatingCode,segmentRute:"".concat(e.basketBooking.journeys[0].segments[0].origin.code,"-").concat(e.basketBooking.journeys[0].segments[0].destination.code),segmentOrigin:e.basketBooking.journeys[0].segments[0].origin.code,segmentDestination:e.basketBooking.journeys[0].segments[0].destination.code,segmentDepartureDate:e.basketBooking.journeys[0].segments[0].departureDate.scheduled.split("T")[0],segmentDepartureTime:e.basketBooking.journeys[0].segments[0].departureDate.scheduled.split("T")[1],segmentArrivalDate:e.basketBooking.journeys[0].segments[0].arrivalDate.scheduled.split("T")[0],segmentArrivalTime:e.basketBooking.journeys[0].segments[0].arrivalDate.scheduled.split("T")[1],segmentLength:e.basketBooking.journeys[0].segments[0].segmentDuration,segmentLayover:e.basketBooking.journeys[0].segments[0].layoverTime};c?"Baggage"===t.category&&t.options[0].status!==i.i.Committed&&l.push(y):s&&("Baggage"===t.category||r.b.includes(t.category)||t.options[0].status===i.i.Committed)||l.push(y)}};for(p.s();!(f=p.n()).done;)g()}catch(v){p.e(v)}finally{p.f()}return l}},{key:"accommodationLightGA4Item",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.util.getFlightType(e)?"International":"Domestic",r=this.util.getAccommodationNights(e);return{item_name:e.accommodation.propertyDetails.name,item_id:e.accommodation.bookingCode,price:Math.round(100*(e.accommodation.totalAmount.amount/(r||1)+Number.EPSILON))/100,currency:e.currencyCode,item_brand:"Bidflyer",item_category:"Hotel",item_category_2:"Room",item_category_3:i,item_variant:e.accommodation.rooms[n].name,item_list_name:t,index:n+1,coupon:"",discount:0,quantity:r}}},{key:"accommodationLightGAUItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.util.getFlightType(e)?"International":"Domestic",r=this.util.getAccommodationNights(e);return{name:e.accommodation.propertyDetails.name,id:e.accommodation.bookingCode,price:Math.round(100*(e.accommodation.totalAmount.amount/(r||1)+Number.EPSILON))/100,brand:"Bidflyer",category:"Hotel/Room/"+i,variant:e.accommodation.rooms[n].name,list:t,position:n+1,promo:"",desc:0,quantity:r}}},{key:"accommodationLightGA4Items",value:function(e,t){var n,i=this;return((null===(n=e.accommodation)||void 0===n?void 0:n.rooms)||[]).map((function(n,r){return i.accommodationLightGA4Item(e,t,r)}))}},{key:"accommodationLightGAUItems",value:function(e,t){var n,i=this;return((null===(n=e.accommodation)||void 0===n?void 0:n.rooms)||[]).map((function(n,r){return i.accommodationLightGAUItem(e,t,r)}))}},{key:"accommodationRobustGA4Item",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i="MX"===(null===(t=e.journeys[0])||void 0===t?void 0:t.destination.countryCode)?"Domestic":"International",r=this.util.getAccommodationNights(e),o=e.journeys[0];return{item_name:e.accommodation.propertyDetails.name,item_id:e.accommodation.bookingCode,price:Math.round(100*(e.accommodation.totalAmount.amount/(r||1)+Number.EPSILON))/100,currency:e.currencyCode,item_brand:"Bidflyer",item_category:"Hotel",item_category_2:"Room",item_category_3:i,item_variant:e.accommodation.rooms[n].name,coupon:"",discount:0,quantity:r,fare_class:o.fare.classOfService,loyalty_program:"",passenger_type:"ADT",passenger_count:e.passengers.length,seat_count:e.seats.seats.length,rute:"".concat(o.origin.code,"-").concat(o.destination.code),journey_travel_type:o.travelType,journey_origin:o.origin.code,journey_destination:o.destination.code,journey_departure_date:o.departureDate.scheduled.split("T")[0],journey_departure_time:o.departureDate.scheduled.split("T")[1],journey_arrival_date:o.arrivalDate.scheduled.split("T")[0],journey_arrival_time:o.arrivalDate.scheduled.split("T")[1],segment_carrier_code:o.segments[0].operatingCarrier,segment_carrier_id:o.segments[0].operatingCode,segment_rute:"".concat(o.segments[0].origin.code,"-").concat(o.segments[0].destination.code),segment_origin:o.segments[0].origin.code,segment_destination:o.segments[0].destination.code,segment_departure_date:o.segments[0].departureDate.scheduled.split("T")[0],segment_departure_time:o.segments[0].departureDate.scheduled.split("T")[1],segment_arrival_date:o.segments[0].arrivalDate.scheduled.split("T")[0],segment_arrival_time:o.segments[0].arrivalDate.scheduled.split("T")[1],segment_length:o.segments[0].segmentDuration,segment_layover:o.segments[0].layoverTime}}},{key:"accommodationRobustGAUItem",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i="MX"===(null===(t=e.journeys[0])||void 0===t?void 0:t.destination.countryCode)?"Domestic":"International",r=this.util.getAccommodationNights(e),o=e.journeys[0];return{name:e.accommodation.propertyDetails.name,id:e.accommodation.bookingCode,price:Math.round(100*(e.accommodation.totalAmount.amount/(r||1)+Number.EPSILON))/100,brand:"Bidflyer",category:"Hotel/Room/"+i,variant:e.accommodation.rooms[n].name,promo:"",desc:0,quantity:r,fareClass:o.fare.classOfService,loyaltyProgram:"",passengerType:"ADT",passengerCount:e.passengers.length,seatCount:e.seats.seats.length,itemRute:"".concat(o.origin.code,"-").concat(o.destination.code),journeyTravelType:o.travelType,journeyOrigin:o.origin.code,journeyDestination:o.destination.code,journeyDepartureDate:o.departureDate.scheduled.split("T")[0],journeyDepartureTime:o.departureDate.scheduled.split("T")[1],journeyArrivalDate:o.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:o.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:o.segments[0].operatingCarrier,segmentCarrierId:o.segments[0].operatingCode,segmentRute:"".concat(o.segments[0].origin.code,"-").concat(o.segments[0].destination.code),segmentOrigin:o.segments[0].origin.code,segmentDestination:o.segments[0].destination.code,segmentDepartureDate:o.segments[0].departureDate.scheduled.split("T")[0],segmentDepartureTime:o.segments[0].departureDate.scheduled.split("T")[1],segmentArrivalDate:o.segments[0].arrivalDate.scheduled.split("T")[0],segmentArrivalTime:o.segments[0].arrivalDate.scheduled.split("T")[1],segmentLength:o.segments[0].segmentDuration,segmentLayover:o.segments[0].layoverTime}}},{key:"itemsPurchase",value:function(e,t){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[],s=[],c=r?e.basket.travel.charges.filter((function(e){return!e.code.includes("Flight")})):e.basketBooking.charges.filter((function(e){return!e.code.includes("Flight")}));return e.basketBooking.journeys.forEach((function(t){s.push(r?e.basket.travel.charges.find((function(e){return e.code.includes("Flight")&&e.journeyKey===t.key})):e.basketBooking.charges.find((function(e){return e.code.includes("Flight")&&e.journeyKey===t.key})))})),"GA4"===t?(a.push.apply(a,_toConsumableArray2(this.buildItemPurchaseGA4(s,e,"Flight ticket",r,o))),a.push.apply(a,_toConsumableArray2(this.buildItemPurchaseGA4(c,e,null,r,o)))):(a.push.apply(a,_toConsumableArray2(this.buildItemPurchaseGAU(s,e,"Flight ticket",r,o))),a.push.apply(a,_toConsumableArray2(this.buildItemPurchaseGAU(c,e,null,r,o)))),(null===(n=null==e?void 0:e.basketBooking)||void 0===n?void 0:n.accommodation)&&Array.isArray(e.basketBooking.accommodation.rooms)&&(e.basketBooking.accommodation.rooms||[]).forEach("GA4"===t?function(t,n){a.push(i.accommodationRobustGA4Item(e.basketBooking,n))}:function(t,n){a.push(i.accommodationRobustGAUItem(e.basketBooking,n))}),a}},{key:"buildItemPurchaseGA4",value:function(e,t,n){var i,r,o=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=[],l=[],u=[];n&&t.basketBooking.journeys.forEach((function(e){var n=(a?t.basket.travel.charges.filter((function(t){return e.key===t.journeyKey})):t.basketBooking.charges.filter((function(t){return e.key===t.journeyKey}))).map((function(e){return e.code.includes("Flight")?e.amount.amount:0})).reduce((function(e,t){return e+t}),0);u.push(n.toFixed(2))}));var d,h=_createForOfIteratorHelper(e.entries());try{var f=function(){var e=_slicedToArray(d.value,2),l=e[0],h=e[1];if(h){var f,p=!1;(null==h?void 0:h.journeyKey)?(f=t.basketBooking.journeys.find((function(e){return h.journeyKey===e.key})),p=!!t.basketBooking.services.services.find((function(e){return e.options.find((function(e){return e.ssrCode===h.code&&e.segmentKey===h.segmentKey&&e.passengerKey===h.passengerKey&&e.includedInLoyalty}))}))):f=t.basketBooking.journeys[0];var g=t.basket.customFields.preSelectedServices.some((function(e){return e.ssrCode===h.code})),v={item_name:n||o.util.getItemName(h),item_id:o.util.getItemId(h,t),price:n?u[l]/t.basketBooking.passengers.length:h.amount.amount,currency:t.basketBooking.currencyCode,item_brand:s?"VF":f.segments[0].operatingCarrier,item_category:o.util.getCat("cat1",h),item_category_2:o.util.getCat("cat2",h,f),item_category_3:o.util.getCat("cat3",h,f),item_category_4:o.util.getJourneySegmentType(f),item_variant:f.fare.fareType+((null===(i=f.fare)||void 0===i?void 0:i.bundleTypeName)?"_"+(null===(r=f.fare)||void 0===r?void 0:r.bundleType):""),coupon:o.util.couponPromocode?o.util.couponPromocode:"",discount:(h.originalAmount.amount-h.amount.amount).toFixed(2),quantity:n?t.basketBooking.passengers.length:o.util.getChargesQuantity(t,h,a),fare_class:f.fare.classOfService,loyalty_program:h.amount.amount<=0?s?"VivaFan":p?"Doters":"NA":"NA",passenger_type:"ADT",passenger_count:t.basketBooking.passengers.length,seat_count:t.basketBooking.seats.seats.length,preselected:g?"Yes":"No",rute:"".concat(f.origin.code,"-").concat(f.destination.code),journey_travel_type:f.travelType,journey_origin:f.origin.code,journey_destination:f.destination.code,journey_departure_date:f.departureDate.scheduled.split("T")[0],journey_departure_time:f.departureDate.scheduled.split("T")[1],journey_arrival_date:f.arrivalDate.scheduled.split("T")[0],journey_arrival_time:f.arrivalDate.scheduled.split("T")[1],segment_carrier_code:f.segments[0].operatingCarrier,segment_carrier_id:f.segments[0].operatingCode,segment_rute:"".concat(f.segments[0].origin.code,"-").concat(f.segments[0].destination.code),segment_origin:f.segments[0].origin.code,segment_destination:f.segments[0].destination.code,segment_departure_date:f.segments[0].departureDate.scheduled.split("T")[0],segment_departure_time:f.segments[0].departureDate.scheduled.split("T")[1],segment_arrival_date:f.segments[0].arrivalDate.scheduled.split("T")[0],segment_arrival_time:f.segments[0].arrivalDate.scheduled.split("T")[1],segment_length:f.segments[0].segmentDuration,segment_layover:f.segments[0].layoverTime};c.push(v)}};for(h.s();!(d=h.n()).done;)f()}catch(m){h.e(m)}finally{h.f()}for(var p=function(){var e=v[g];l.find((function(t){return e.item_name===t.item_name&&e.segment_rute===t.segment_rute}))||l.push(e)},g=0,v=c;g<v.length;g++)p();return l}},{key:"buildItemPurchaseGAU",value:function(e,t,n){var i,r,o,a,s=this,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=[],d=[],h=[];n&&t.basketBooking.journeys.forEach((function(e){var n=(c?t.basket.travel.charges.filter((function(t){return e.key===t.journeyKey})):t.basketBooking.charges.filter((function(t){return e.key===t.journeyKey}))).map((function(e){return e.code.includes("Flight")?e.amount.amount:0})).reduce((function(e,t){return e+t}),0);h.push(n.toFixed(2))}));var f,p=_createForOfIteratorHelper(e.entries());try{var g=function(){var e=_slicedToArray(f.value,2),d=e[0],p=e[1];if(p){var g,v=!1;p.journeyKey?(g=t.basketBooking.journeys.find((function(e){return p.journeyKey===e.key})),v=!!t.basketBooking.services.services.find((function(e){return e.options.find((function(e){return e.ssrCode===p.code&&e.segmentKey===p.segmentKey&&e.passengerKey===p.passengerKey&&e.includedInLoyalty}))}))):g=t.basketBooking.journeys[0];var m=t.basket.customFields.preSelectedServices.some((function(e){return e.ssrCode===s.util.getItemId(p,t)})),b={name:n||s.util.getItemName(p),id:s.util.getItemId(p,t),price:n?h[d]/t.basketBooking.passengers.length:p.amount.amount,brand:l?"VF":g.segments[0].operatingCarrier,category:"".concat(s.util.getCat("cat1",p),"/").concat(g.fare.fareType+""+((null===(i=g.fare)||void 0===i?void 0:i.bundleTypeName)?"_"+(null===(r=g.fare)||void 0===r?void 0:r.bundleType):""),"/").concat(s.util.getCat("cat2",p,g),"/").concat(s.util.getCat("cat3",p,g),"/").concat(s.util.getJourneySegmentType(g)),variant:g.fare.fareType+""+((null===(o=g.fare)||void 0===o?void 0:o.bundleTypeName)?"_"+(null===(a=g.fare)||void 0===a?void 0:a.bundleType):""),promo:s.util.couponPromocode?s.util.couponPromocode:"",desc:(p.originalAmount.amount-p.amount.amount).toFixed(2),quantity:n?t.basketBooking.passengers.length:s.util.getChargesQuantity(t,p,c),fareClass:g.fare.classOfService,loyaltyProgram:p.amount.amount<=0?l?"VivaFan":v?"Doters":"NA":"NA",passengerType:"ADT",passengerCount:t.basketBooking.passengers.length,seatCount:t.basketBooking.seats.seats.length,preselected:m?"Yes":"No",itemRute:"".concat(g.origin.code,"-").concat(g.destination.code),journeyTravelType:g.travelType,journeyOrigin:g.origin.code,journeyDestination:g.destination.code,journeyDepartureDate:g.departureDate.scheduled.split("T")[0],journeyDepartureTime:g.departureDate.scheduled.split("T")[1],journeyArrivalDate:g.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:g.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:g.segments[0].operatingCarrier,segmentCarrierId:g.segments[0].operatingCode,segmentRute:"".concat(g.segments[0].origin.code,"-").concat(g.segments[0].destination.code),segmentOrigin:g.segments[0].origin.code,segmentDestination:g.segments[0].destination.code,segmentDepartureDate:g.segments[0].departureDate.scheduled.split("T")[0],segmentDepartureTime:g.segments[0].departureDate.scheduled.split("T")[1],segmentArrivalDate:g.segments[0].arrivalDate.scheduled.split("T")[0],segmentArrivalTime:g.segments[0].arrivalDate.scheduled.split("T")[1],segmentLength:g.segments[0].segmentDuration,segmentLayover:g.segments[0].layoverTime};u.push(b)}};for(p.s();!(f=p.n()).done;)g()}catch(y){p.e(y)}finally{p.f()}for(var v=function(){var e=b[m];d.find((function(t){return e.name===t.name&&e.segmentRute===t.segmentRute}))||d.push(e)},m=0,b=u;m<b.length;m++)v();return d}},{key:"returnRobustItemsTuaGA4",value:function(e,t){var n,i=this,r=[],o=_createForOfIteratorHelper(t);try{var a=function(){var t=n.value,o=void 0;o=t.journeyKey?e.journeys.find((function(e){return t.journeyKey===e.key})):e.journeys[0];var a={item_name:i.util.getItemName(t),item_id:t.code,price:t.amount.amount,currency:e.currencyCode,item_brand:o.segments[0].operatingCarrier,item_category:i.util.getCat("cat1",t),item_category_2:i.util.getCat("cat2",t,o),item_category_3:i.util.getCat("cat3",t,o),item_category_4:i.util.getJourneySegmentType(o),item_variant:o.fare.fareType,coupon:i.util.couponPromocode?i.util.couponPromocode:"",discount:(t.originalAmount.amount-t.amount.amount).toFixed(2),quantity:1,fare_class:o.fare.classOfService,loyalty_program:"NA",passenger_type:"ADT",passenger_count:e.passengers.length,seat_count:e.seats.seats.length,rute:"".concat(o.origin.code,"-").concat(o.destination.code),journey_travel_type:o.travelType,journey_origin:o.origin.code,journey_destination:o.destination.code,journey_departure_date:o.departureDate.scheduled.split("T")[0],journey_departure_time:o.departureDate.scheduled.split("T")[1],journey_arrival_date:o.arrivalDate.scheduled.split("T")[0],journey_arrival_time:o.arrivalDate.scheduled.split("T")[1],segment_carrier_code:o.segments[0].operatingCarrier,segment_carrier_id:o.segments[0].operatingCode,segment_rute:"".concat(o.segments[0].origin.code,"-").concat(o.segments[0].destination.code),segment_origin:o.segments[0].origin.code,segment_destination:o.segments[0].destination.code,segment_departure_date:o.segments[0].departureDate.scheduled.split("T")[0],segment_departure_time:o.segments[0].departureDate.scheduled.split("T")[1],segment_arrival_date:o.segments[0].arrivalDate.scheduled.split("T")[0],segment_arrival_time:o.segments[0].arrivalDate.scheduled.split("T")[1],segment_length:o.segments[0].segmentDuration,segment_layover:o.segments[0].layoverTime};r.push(a)};for(o.s();!(n=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}return r}},{key:"returnRobustItemsTuaGAU",value:function(e,t){var n,i,r,o,a,s=this,c=[],l=_createForOfIteratorHelper(t);try{var u=function(){var t=a.value,l=void 0;l=t.journeyKey?e.journeys.find((function(e){return t.journeyKey===e.key})):e.journeys[0];var u={name:s.util.getItemName(t),id:t.code,price:t.amount.amount,brand:l.segments[0].operatingCarrier,category:"".concat(s.util.getCat("cat1",t),"/").concat(l.fare.fareType+""+((null===(n=l.fare)||void 0===n?void 0:n.bundleTypeName)?"_"+(null===(i=l.fare)||void 0===i?void 0:i.bundleType):""),"/").concat(s.util.getCat("cat3",t,l),"/").concat(s.util.getJourneySegmentType(l)),variant:l.fare.fareType+""+((null===(r=l.fare)||void 0===r?void 0:r.bundleTypeName)?"_"+(null===(o=l.fare)||void 0===o?void 0:o.bundleType):""),promo:s.util.couponPromocode?s.util.couponPromocode:"",desc:(t.originalAmount.amount-t.amount.amount).toFixed(2),quantity:1,fareClass:l.fare.classOfService,loyaltyProgram:"NA",passengerType:"ADT",passengerCount:e.passengers.length,seatCount:e.seats.seats.length,itemRute:"".concat(l.origin.code,"-").concat(l.destination.code),journeyTravelType:l.travelType,journeyOrigin:l.origin.code,journeyDestination:l.destination.code,journeyDepartureDate:l.departureDate.scheduled.split("T")[0],journeyDepartureTime:l.departureDate.scheduled.split("T")[1],journeyArrivalDate:l.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:l.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:l.segments[0].operatingCarrier,segmentCarrierId:l.segments[0].operatingCode,segmentRute:"".concat(l.segments[0].origin.code,"-").concat(l.segments[0].destination.code),segmentOrigin:l.segments[0].origin.code,segmentDestination:l.segments[0].destination.code,segmentDepartureDate:l.segments[0].departureDate.scheduled.split("T")[0],segmentDepartureTime:l.segments[0].departureDate.scheduled.split("T")[1],segmentArrivalDate:l.segments[0].arrivalDate.scheduled.split("T")[0],segmentArrivalTime:l.segments[0].arrivalDate.scheduled.split("T")[1],segmentLength:l.segments[0].segmentDuration,segmentLayover:l.segments[0].layoverTime};c.push(u)};for(l.s();!(a=l.n()).done;)u()}catch(d){l.e(d)}finally{l.f()}return c}},{key:"returnRobustItemsInsuranceGA4",value:function(e,t){var n,i=this,r=[],o=_createForOfIteratorHelper(t);try{var a=function(){var t=n.value,o=void 0;o=t.journeyKey?e.journeys.find((function(e){return t.journeyKey===e.key})):e.journeys[0];var a={item_name:i.util.getItemName(t),item_id:t.code,price:t.amount.amount,currency:e.currencyCode,item_brand:o.segments[0].operatingCarrier,item_category:i.util.getCat("cat1",t),item_category_2:i.util.getCat("cat2",t,o),item_category_3:i.util.getCat("cat3",t,o),item_category_4:i.util.getJourneySegmentType(o),item_variant:o.fare.fareType,coupon:i.util.couponPromocode?i.util.couponPromocode:"",discount:(t.originalAmount.amount-t.amount.amount).toFixed(2),quantity:1,fare_class:o.fare.classOfService,loyalty_program:"NA",passenger_type:"ADT",passenger_count:e.passengers.length,seat_count:e.seats.seats.length,rute:"".concat(o.origin.code,"-").concat(o.destination.code),journey_travel_type:o.travelType,journey_origin:o.origin.code,journey_destination:o.destination.code,journey_departure_date:o.departureDate.scheduled.split("T")[0],journey_departure_time:o.departureDate.scheduled.split("T")[1],journey_arrival_date:o.arrivalDate.scheduled.split("T")[0],journey_arrival_time:o.arrivalDate.scheduled.split("T")[1],segment_carrier_code:o.segments[0].operatingCarrier,segment_carrier_id:o.segments[0].operatingCode,segment_rute:"".concat(o.segments[0].origin.code,"-").concat(o.segments[0].destination.code),segment_origin:o.segments[0].origin.code,segment_destination:o.segments[0].destination.code,segment_departure_date:o.segments[0].departureDate.scheduled.split("T")[0],segment_departure_time:o.segments[0].departureDate.scheduled.split("T")[1],segment_arrival_date:o.segments[0].arrivalDate.scheduled.split("T")[0],segment_arrival_time:o.segments[0].arrivalDate.scheduled.split("T")[1],segment_length:o.segments[0].segmentDuration,segment_layover:o.segments[0].layoverTime};r.push(a)};for(o.s();!(n=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}return r}},{key:"returnRobustItemsInsuranceGAU",value:function(e,t){var n,i,r,o,a,s=this,c=[],l=_createForOfIteratorHelper(t);try{var u=function(){var t=a.value,l=void 0;l=t.journeyKey?e.journeys.find((function(e){return t.journeyKey===e.key})):e.journeys[0];var u={name:s.util.getItemName(t),id:t.code,price:t.amount.amount,brand:l.segments[0].operatingCarrier,category:"".concat(s.util.getCat("cat1",t),"/").concat(l.fare.fareType+""+((null===(n=l.fare)||void 0===n?void 0:n.bundleTypeName)?"_"+(null===(i=l.fare)||void 0===i?void 0:i.bundleType):""),"/").concat(s.util.getCat("cat3",t,l),"/").concat(s.util.getJourneySegmentType(l)),variant:l.fare.fareType+""+((null===(r=l.fare)||void 0===r?void 0:r.bundleTypeName)?"_"+(null===(o=l.fare)||void 0===o?void 0:o.bundleType):""),promo:s.util.couponPromocode?s.util.couponPromocode:"",desc:(t.originalAmount.amount-t.amount.amount).toFixed(2),quantity:1,fareClass:l.fare.classOfService,loyaltyProgram:"NA",passengerType:"ADT",passengerCount:e.passengers.length,seatCount:e.seats.seats.length,itemRute:"".concat(l.origin.code,"-").concat(l.destination.code),journeyTravelType:l.travelType,journeyOrigin:l.origin.code,journeyDestination:l.destination.code,journeyDepartureDate:l.departureDate.scheduled.split("T")[0],journeyDepartureTime:l.departureDate.scheduled.split("T")[1],journeyArrivalDate:l.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:l.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:l.segments[0].operatingCarrier,segmentCarrierId:l.segments[0].operatingCode,segmentRute:"".concat(l.segments[0].origin.code,"-").concat(l.segments[0].destination.code),segmentOrigin:l.segments[0].origin.code,segmentDestination:l.segments[0].destination.code,segmentDepartureDate:l.segments[0].departureDate.scheduled.split("T")[0],segmentDepartureTime:l.segments[0].departureDate.scheduled.split("T")[1],segmentArrivalDate:l.segments[0].arrivalDate.scheduled.split("T")[0],segmentArrivalTime:l.segments[0].arrivalDate.scheduled.split("T")[1],segmentLength:l.segments[0].segmentDuration,segmentLayover:l.segments[0].layoverTime};c.push(u)};for(l.s();!(a=l.n()).done;)u()}catch(d){l.e(d)}finally{l.f()}return c}},{key:"generalInfo",get:function(){return this.generalInformationRobust}},{key:"getRobustItemsGA4",get:function(){return this.gA4RobustItems}},{key:"getRobustItemsGAU",get:function(){return this.gAURobustItems}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.dc(a.a),o.dc(s.a),o.dc(c.a),o.dc(l.a))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},AQDP:function(e,t,n){var i,r,o;!function(a){if("object"==typeof e.exports){var s=a(0,t);void 0!==s&&(e.exports=s)}else r=[n,t],void 0===(o="function"==typeof(i=a)?i.apply(t,r):i)||(e.exports=o)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;t.default=["es-CO",[["a.\xa0m.","p.\xa0m."],n,n],n,[["D","L","M","M","J","V","S"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],[["d","l","m","m","j","v","s"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],[["a. C.","d. C."],n,["antes de Cristo","despu\xe9s de Cristo"]],0,[6,0],["d/MM/yy","d/MM/y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",n,"{1} 'a' 'las' {0}",n],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4\xa0#,##0.00","#E0"],"COP","$","peso colombiano",{AUD:[n,"$"],BRL:[n,"R$"],CAD:[n,"$"],CNY:[n,"\xa5"],COP:["$"],ESP:["\u20a7"],EUR:[n,"\u20ac"],FKP:[n,"FK\xa3"],GBP:[n,"\xa3"],HKD:[n,"$"],ILS:[n,"\u20aa"],INR:[n,"\u20b9"],JPY:[n,"\xa5"],KRW:[n,"\u20a9"],MXN:[n,"$"],NZD:[n,"$"],RON:[n,"L"],SSP:[n,"SD\xa3"],SYP:[n,"S\xa3"],TWD:[n,"NT$"],USD:["US$","$"],VEF:[n,"BsF"],VND:[n,"\u20ab"],XAF:[],XCD:[n,"$"],XOF:[]},"ltr",function(e){return 1===e?1:5}]}))},ATtC:function(e,t,n){var i=n("PnAN")("FastMutex"),r=function(){return Math.random()+""},o=function(e,t){var n=(new Date).getTime();t.acquireEnd=n,t.acquireDuration=t.acquireEnd-t.acquireStart,t.lockStart=n,e(t)};e.exports=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.clientId,i=void 0===n?r():n,o=t.xPrefix,a=void 0===o?"_MUTEX_LOCK_X_":o,s=t.yPrefix,c=void 0===s?"_MUTEX_LOCK_Y_":s,l=t.timeout,u=void 0===l?5e3:l,d=t.localStorage;_classCallCheck(this,e),this.clientId=i,this.xPrefix=a,this.yPrefix=c,this.timeout=u,this.localStorage=d||window.localStorage,this.resetStats()}return _createClass(e,[{key:"lock",value:function(e){var t=this;i('Attempting to acquire Lock on "%s" using FastMutex instance "%s"',e,this.clientId);var n=this.xPrefix+e,r=this.yPrefix+e;return this.resetStats(),this.lockStats.acquireStart||(this.lockStats.acquireStart=(new Date).getTime()),new Promise((function(a,s){!function e(c){if((new Date).getTime()-t.lockStats.acquireStart>=t.timeout)return i('Lock on "%s" could not be acquired within %sms by FastMutex client "%s"',c,t.timeout,t.clientId),s(new Error("Lock could not be acquired within ".concat(t.timeout,"ms")));t.setItem(n,t.clientId);var l=t.getItem(r);if(l)return i("Lock exists on Y (%s), restarting...",l),t.lockStats.restartCount++,void setTimeout((function(){return e(c)}));t.setItem(r,t.clientId);var u=t.getItem(n);if(u!==t.clientId)return t.lockStats.contentionCount++,i('Lock contention detected. X="%s"',u),void setTimeout((function(){(l=t.getItem(r))===t.clientId?(i('FastMutex client "%s" won the lock contention on "%s"',t.clientId,c),o(a,t.lockStats)):(t.lockStats.restartCount++,t.lockStats.locksLost++,i('FastMutex client "%s" lost the lock contention on "%s" to another process (%s). Restarting...',t.clientId,c,l),setTimeout((function(){return e(c)})))}),50);i('FastMutex client "%s" acquired a lock on "%s" with no contention',t.clientId,c),o(a,t.lockStats)}(e)}))}},{key:"release",value:function(e){var t=this;i('FastMutex client "%s" is releasing lock on "%s"',this.clientId,e);var n=this.yPrefix+e;return new Promise((function(e){t.localStorage.removeItem(n),t.lockStats.lockEnd=(new Date).getTime(),t.lockStats.lockDuration=t.lockStats.lockEnd-t.lockStats.lockStart,e(t.lockStats),t.resetStats()}))}},{key:"setItem",value:function(e,t){return this.localStorage.setItem(e,JSON.stringify({expiresAt:(new Date).getTime()+this.timeout,value:t}))}},{key:"getItem",value:function(e){var t=this.localStorage.getItem(e);if(!t)return null;var n=JSON.parse(t);return(new Date).getTime()-n.expiresAt>=this.timeout?(i('FastMutex client "%s" removed an expired record on "%s"',this.clientId,e),this.localStorage.removeItem(e),null):JSON.parse(t).value}},{key:"resetStats",value:function(){this.lockStats={restartCount:0,locksLost:0,contentionCount:0,acquireDuration:0,acquireStart:null}}}]),e}()},AUkv:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return k}));var i=n("mrSG"),r=n("fXoL"),o=n("AytR"),a=n("lJxs"),s=n("JIr8"),c=n("LRne"),l=n("z6cu"),u=n("wd/R"),d=n("cbbM"),h=n("9yTC"),f=n("ofXK"),p=n("1AID"),g=n("tk/3"),v=n("uHNT"),m=n("G/yK"),b=n("jRmn"),y=n("imvL"),_=n("BifP"),C=function(){var e=function(){function e(t,n,i,r,o,a,s,c){_classCallCheck(this,e),this.http=t,this.flightAlertsService=n,this.locale=i,this.flightStationsService=r,this.platformId=o,this.metasearch=a,this.authService=s,this.cmsConfig=c,this.lowFaresCache=new Map,this.useAlternateEndpointForMonthlyLowFares=this.cmsConfig.getBookingFeatureValue(p.a.UseCacheEndpointForMonthlyLowFares)}return _createClass(e,[{key:"getLowFares",value:function(e,t,n,i){var r=this;if(t){if(e&&!e.language&&(e.language=this.locale),e&&!e.referralCode&&(e.referralCode=this.getCurrentReferral(i)),this.checkLowFaresCache(e.routes[n])){var u="".concat(e.routes[n].origin.code,"-").concat(e.routes[n].destination.code);return Object(c.a)(this.lowFaresCache.get(u))}var d=JSON.parse(JSON.stringify(e));return d.routes=e.routes.filter((function(e){return!r.checkLowFaresCache(e)})),this.http.post(o.g.LOW_FARES_URL,d).pipe(Object(a.a)((function(t){r.saveLowFaresCache(d,t.data);var i=t.data.lowFares.filter((function(t){return t.origin.code===e.routes[n].origin.code&&t.destination.code===e.routes[n].destination.code||e.routes[n].includeAlternativeStationsInOrigin||e.routes[n].includeAlternativeStationsInDestination}));return t.data.lowFares=i,t.warnings&&t.warnings.length&&r.flightAlertsService.addCurrentAlert(t.warnings),r.resolveLowFares(t,r.generateDateRange(e.routes[n]))})),Object(s.a)((function(e){return Object(l.a)(e)})))}return Object(c.a)(this.resolveLowFares({data:null},this.generateDateRange(e.routes[n])))}},{key:"resetLowFaresCache",value:function(){this.lowFaresCache.clear()}},{key:"saveLowFaresCache",value:function(e,t){var n=this;e.routes.forEach((function(i,r){var o="".concat(i.origin.code,"-").concat(i.destination.code),a=t.lowFares.filter((function(e){return e.origin.code===i.origin.code&&e.destination.code===i.destination.code})),s=n.generateDateRange(e.routes[r]);n.lowFaresCache.has(o)||n.lowFaresCache.set(o,new Map);var c=n.lowFaresCache.get(o),l=n.resolveLowFares({data:{lowFares:a}},s);n.addEntriesToMap(l,c)}))}},{key:"addEntriesToMap",value:function(e,t){var n,i=_createForOfIteratorHelper(e.entries());try{for(i.s();!(n=i.n()).done;){var r=_slicedToArray(n.value,2),o=r[0],a=r[1];t.set(o,a)}}catch(s){i.e(s)}finally{i.f()}}},{key:"checkLowFaresCache",value:function(e){var t=u(e.endDate).format("YYYY-MM-DD"),n=u(e.startDate).format("YYYY-MM-DD"),i="".concat(e.origin.code,"-").concat(e.destination.code);return this.lowFaresCache.has(i)&&this.lowFaresCache.get(i).has(n)&&this.lowFaresCache.get(i).has(t)}},{key:"getDaysFromArray",value:function(e,t,n){var i=(t||[]).map((function(e){return{departureDate:e,fare:null,vivaFanFare:null}}));return Object(c.a)(this.resolveLowFares({data:{lowFares:i}},this.generateDateRange(e.routes[n])))}},{key:"getMonthlyLowFares",value:function(e){var t,n={};if(this.useAlternateEndpointForMonthlyLowFares){t=o.g.LOW_FARES_CACHE_URL;var i=this.authService.isLoggedIn?this.authService.authenticatedAccountType:void 0;i&&(n["X-Account-Type"]=i)}else t=o.g.LOW_FARES_URL;return this.http.post(t,e,{headers:n}).pipe(Object(a.a)((function(e){return e.data})),Object(s.a)((function(e){return Object(l.a)(e)})))}},{key:"generateDateRange",value:function(e){for(var t=[],n=u(e.startDate).format("YYYY-MM-DD"),i=u(e.endDate).format("YYYY-MM-DD");n<=i;)t.push(n),n=u(n).add(1,"days").format("YYYY-MM-DD");return t}},{key:"resolveLowFares",value:function(e,t){var n=this,i=e.data,r=new Map;return t.forEach((function(e){var t=i?i.lowFares.find((function(t){return u(t.departureDate).isSame(e)})):null;r.set(e,n.formatDay(e,t,null==i?void 0:i.currencyCode))})),r}},{key:"formatDay",value:function(e,t,n){return{dateText:u(e).format("ddd, DD MMM").split(".").join(""),fare:t?t.fare:null,vivaFanFare:t?t.vivaFanFare:null,status:t?d.a.ENABLED:d.a.DISABLED,currencyCode:n}}},{key:"generatePayload",value:function(e,t,n){return{currencyCode:t,promoCode:n.promoCode?n.promoCode:null,referralCode:this.getCurrentReferral(n),bookingType:n.doters?"Points":null,passengers:[{code:h.g.ADULT,count:n.passengers.adults},{code:h.g.CHILD,count:n.passengers.kids},{code:h.g.BABY,count:n.passengers.babies}],routes:this.generateRoutes(e,n)}}},{key:"generatePerRoutePayload",value:function(e,t,n){var i,r=[],o=this.generatePayload(e,t,n),a=new Map,s=_createForOfIteratorHelper(o.routes);try{for(s.s();!(i=s.n()).done;){var c=i.value,l=c.origin.code+c.destination.code;a.has(l)||a.set(l,[]),a.get(l).push(c)}}catch(p){s.e(p)}finally{s.f()}var u,d=_createForOfIteratorHelper(a.values());try{for(d.s();!(u=d.n()).done;){var h=u.value,f=Object.assign(Object.assign({},o),{routes:h});r.push(f)}}catch(p){d.e(p)}finally{d.f()}return r}},{key:"generateRoutes",value:function(e,t){var n=[],i=e.clone();return t.itineraryCode.forEach((function(e){n.push({startDate:i.startOf("month").format("YYYY-MM-DD"),endDate:i.startOf("month").add(15,"days").format("YYYY-MM-DD"),origin:{code:e.origin.code,type:e.origin.type},destination:{code:e.destination.code,type:e.destination.type}}),n.push({startDate:i.startOf("month").add(16,"days").format("YYYY-MM-DD"),endDate:i.endOf("month").format("YYYY-MM-DD"),origin:{code:e.origin.code,type:e.origin.type},destination:{code:e.destination.code,type:e.destination.type}})})),t.alternateStations&&(n=this.patchMaacRoutes(n)),n}},{key:"patchMaacRoutes",value:function(e){var t=this;return e.forEach((function(e){var n=t.flightStationsService._maacStations.find((function(t){return t.maac.searchCode===e.origin.code})),i=t.flightStationsService._maacStations.find((function(t){return t.maac.searchCode===e.destination.code}));n&&(e.includeAlternativeStationsInOrigin=!0),i&&(e.includeAlternativeStationsInDestination=!0)})),e}},{key:"getCurrentReferral",value:function(e){return(Object(f.L)(this.platformId)?sessionStorage.getItem("loginReferral"):null)||((null==e?void 0:e.referral)?null==e?void 0:e.referral:null)||this.metasearch.getCookie()}},{key:"waitForAccountReadyIfUsingCacheEndpoint",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.useAlternateEndpointForMonthlyLowFares,!e.t0){e.next=4;break}return e.next=4,this.authService.onSyncDonePromise;case 4:case"end":return e.stop()}}),e,this)})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.dc(g.b),r.dc(v.a),r.dc(r.y),r.dc(m.a),r.dc(r.G),r.dc(b.a),r.dc(y.a),r.dc(_.a))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function k(e){var t,n=[],i=e[0],r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push.apply(n,_toConsumableArray2(o.lowFares))}}catch(a){r.e(a)}finally{r.f()}return i.lowFares=n,i}},AWl2:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),r=n("fXoL"),o=n("jtHE"),a=n("LYOT"),s=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.contentfulService=t,this.localeId=n,this.$isReady=new o.a(1),this.load()}return _createClass(e,[{key:"load",value:function(){var e=this;return new Promise((function(t,n){try{e.getStorefront().then((function(){t(),e.$isReady.next(),e.$isReady.complete()}))}catch(i){n(i)}}))}},{key:"getStorefront",value:function(){var e,t;return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.contentfulService.getEntries({content_type:"homepage","fields.storefront":this.localeId,include:10});case 2:if(n.t2=e=n.sent.items,n.t1=null===n.t2,n.t1){n.next=6;break}n.t1=void 0===e;case 6:if(!n.t1){n.next=10;break}n.t3=void 0,n.next=11;break;case 10:n.t3=e[0];case 11:if(n.t4=t=n.t3,n.t0=null===n.t4,n.t0){n.next=15;break}n.t0=void 0===t;case 15:if(!n.t0){n.next=19;break}n.t5=void 0,n.next=20;break;case 19:n.t5=t.fields;case 20:this.storefrontData=n.t5;case 21:case"end":return n.stop()}}),n,this)})))}},{key:"ready",get:function(){return this.$isReady.asObservable().toPromise()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.dc(a.a),r.dc(r.y))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},AytR:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return d}));var i=n("kiQV"),r="https://www.vivaaerobus.com/",o="https://api.vivaaerobus.com/web/",a="https://www.vivaaerobus.com",s="https://api.doters.com/",c="https://auth.doters.com/v2/",l="VB55soAEPGST1",u="https://auth-api.doters.com/v2/logout",d={appVersion:i.a+"-production",apiVersion:"v1",apiKey:"zasqyJdSc92MhWMxYu6vW3hqhxLuDwKog3mqoYkf",enableWithCredentials:!0,production:!0,enableServiceWorker:!0,contentful:{graphQLAPI:"https://graphql.contentful.com/content/v1/",usePreview:!1,space:"1sv59kqumaqp",environment:"master",accessToken:"phx5x2vz-ulxrgaUiBQJoVeSuubkTEVBRdMkH7z2Rok",previewAccessToken:"<CONTENTFUL_PREVIEW_ACCESS_TOKEN>",services:{configurationChannel:"Website",translationCache:!1}},cludo:{apiHost:"https://api-us1.cludo.com/api/v3/",customerId:"10001199",spanishId:"10001943",englishId:"10001980"},cacheKeys:{LOGIN_TOKEN:"viva-user-token",MUTEX_REFRESH_TOKEN:"viva-token-refreshing",BASKET_TOKEN:"viva-basketid",FLIGHT_SEARCH_HISTORY:"viva-flights-search-history",ALERTS_EXPIRATION:"viva-alerts-expiration",COOKIES_MODAL:"viva-cookies-modal",LAST_FLIGHT_SEARCH:"viva-last-flight-search",PWA_LOCAL_CACHE:"pwa-local-cache",LAST_FLIGHT_STATUS_SEARCH:"viva-last-flight-status-search",LOGIN_TYPE:"viva-login-type",COOKIES_MODAL_HIDE30DAYS:"viva-cookies-modal-hide30days",IGNORE_REDIRECT_MMB_CKN:"ignore-redirect-mmb-ckn",FLIGHT_STATUS_NOTIFICATIONS:"viva-flight-notifications",STAFF_TOKEN:"viva-staff-token",INCOMPLETE_PROFILE:"incomplete-profile",COOKIES_ANDROID_BANNER:"viva-android-banner"},boxever:{clientKey:"VAG2q0Tm0ZeZ9tWn8pPPWpegmHQvpvXd",apiTarget:"https://api.boxever.com/v1.2",cookieDomain:".vivaaerobus.com",clientVersion:"1.4.8"},dinamicYield:{apiTarget:"https://direct.dy-api.com/v2/",clientKey:"9505d9d4270260290f6a3a26d92560c811e462c60a868a5a786b722244ba1c84",DY_CHOOSE_VARIANT:"https://direct.dy-api.com/v2/serve/user/choose",scripts:{CDN:"//cdn.dynamicyield.com",ST:"//st.dynamicyield.com",RCOM:"//rcom.dynamicyield.com",API_DYNAMIC:"//cdn.dynamicyield.com/api/8786728/api_dynamic.js",API_STATIC:"//cdn.dynamicyield.com/api/8786728/api_static.js"}},firebase:{dynamicLinks:{domain:"https://app.vivaaerobus.com/",apn:"com.vivaaerobus.app",ibi:"com.vivaaerobus.app",debug:!1}},socialLogin:{facebookAppId:"165244780759283",googleClientId:"344117697504-chfujfdme2vgd40fp4q4sc7nnhb1e20a"},payments:{inAuth:{siteID:"ea0b87e3e39345f4",scriptSrc:"www.cdn-net.com"},uplift:{apiKey:"pEX9jJcmDB7t3wnMV9CAs1OyeARUyw0s8HSTh3UX",userId:"UP-77576183-1"},kueski:{scriptSrc:"https://cdn.kueskipay.com/v1/checkout.js",sdkVersion:"1",apiKey:"368f62b0-101d-40b7-9444-f793ce4b7c74",sandbox:!1},rappi:{scriptSrc:"https://services.rappi.com/rms/merchant-services/sdk/rms.js",sandbox:!1},payPal:{MXN:{clientId:"AS42vaiRm0DCuNPOZ5RxkXIZMOzg4R48WQEzLcNQXXiqw9XOL54X87qYrRnFFIxeZTf-cgwnRXazue9R",merchantId:"YUHVHSVJARCYS"},USD:{clientId:"Adt_idu3tdIYhPVJddYn1ObRHJdrQUajPEH-QKZK8c6qAUyMQ7Lwv3Gg4QvucV7f3ScFIwhPTGTpkKm9",merchantId:"WGXDG6AAMEQJJ"}},yuno:{scriptSrc:"https://sdk-web.y.uno/v1/static/js/main.min.js",publicApiKey:"prod_gAAAAABk73ggIiKJGX5YpEuAYRt2Fnjhu5QtZPby_JYH9Vb38bW6YtC-7peXo5v-1r10gpi_cR1nEII6zYCO4WmPtY5oVzn8mUAcilSaFhYCHBZMk7XyqSruSmRxEQdr3ae6OlelzAQpJ8NO4rlDHtGBgNEkQvXxP11nj2tqBTByO4ITtqvFyhc="}},gtmKey:"GTM-K6V2B2Q",ID_ANDROID:"com.vivaaerobus.app",SHARE_ITINERARY_API_KEY:"",SHARE_ITINERARY_URL:o+"vb/v1/share/trip",LOW_FARE_GQL_URL:o+"vb/v1/lf/graph",IP_SERVICE_URL:"https://www.vivaaerobus.com/uinfo",CC_BIN_SERVICE_URL:o+"vb/v1/bin",TEST_PAYMENT_REFERENCES_API_KEY:"NyOP4dmCV634hs1fk6zQV8CqdYi1BTrD3UCUPSXG",PAYMENT_REFERENCES:o+"vb/v1/externalpayment/references",PAYMENT_REFERENCES_ONLINE:o+"vb/v1/externalpayment/onlinepayment",POPULAR_SEARCHES_URL:r+"assets/json/popular-searches.json",SEARCHES_URL:r+"assets/json/searches.json",LOGIN_URL:o+"v1/account/login",SOCIAL_LOGIN_URL:o+"v1/account/sociallogin",ACCOUNT_URL:o+"v1/account",ACCOUNT_RESTORE_URL:o+"v1/account/restore",VALIDATE_TOKEN_URL:o+"v1/account/validatetoken",ACCOUNT_REGISTER_URL:o+"v1/account/register",ACCOUNT_CONFIRM_URL:o+"v1/account/confirmregistration",ACCOUNT_UPDATE_URL:o+"v1/account/update",ACCOUNT_PWD_RESET_REQ_URL:o+"v1/account/requestpasswordreset",ACCOUNT_RESET_PWD:o+"v1/account/resetpassword",ACCOUNT_CHANGE_PWD:o+"v1/account/changepassword",ACCOUNT_ACCEPT_TERMS:o+"v1/account/acceptterms",ACCOUNT_VALIDATE_USER_EMAIL:o+"v1/account/validatecustomerusername",ACCOUNT_FUNDS_URL:o+"v1/account/funds",ACCOUNT_LOGIN_EXTERNAL_URL:o+"v1/account/loginexternal",ACCOUNT_REGISTER_V2_URL:o+"v2/account/register",ACCOUNT_CONFIRM_V2_URL:o+"v2/account/confirmregistration",ACCOUNT_PWD_RESET_REQ_V2_URL:o+"v2/account/requestpasswordreset",ACCOUNT_RESET_PWD_V2:o+"v2/account/resetpassword",ACCOUNT_COMPANIONS:o+"v1/account/companions",ACCOUNT_ADD_COMPANIONS:o+"v1/account/companions/add",ACCOUNT_DELETE_COMPANIONS:o+"v1/account/companions/delete",ACCOUNT_UPDATE_COMPANIONS:o+"v1/account/companions/update",ACCOUNT_STORED_PAYMENTS:o+"v1/account/storedpayments",ACCOUNT_DELETE_STORED_PAYMENT:o+"v1/account/storedpayments/delete",ACCOUNT_TRIPS:o+"v1/account/trips",ACCOUNT_TRIPS_ADD:o+"v1/account/trips/add",ACCOUNT_TRIPS_DELETE:o+"v1/account/trips/delete",ACCOUT_TRAVEL_DOCUMENTS:o+"v1/account/traveldocuments",ACCOUT_TRAVEL_DOCUMENTS_ADD:o+"v1/account/traveldocuments/add",ACCOUT_TRAVEL_DOCUMENTS_UDT:o+"v1/account/traveldocuments/update",ACCOUT_TRAVEL_DOCUMENTS_DEL:o+"v1/account/traveldocuments/delete",ACCOUNT_VIVACASH:o+"v1/account/vivacash",ACCOUNT_VIVACASH_ACTIVE_REFERENCES:o+"v1/account/vivacash/activereferences",ACCOUNT_VIVACASH_GENERATE_REFERENCE:o+"v1/account/vivacash/generatereference",ACCOUNT_VIVACASH_TRANSACTIONS:o+"v1/account/vivacash/transactions",ACCOUNT_VIVACASH_WALLET:o+"vb/v1/vivacash/checkout/balance",ACCOUNT_VIVACASH_WALLET_ENV:"prod",ACCOUNT_STAFF_STANDBY:o+"vb/v1/myidtravel/link",LOW_FARES_URL:o+"v1/availability/lowfares",SEARCH_AVAILABILITY_URL:o+"v1/availability/search",CALENDAR_AVAILABILITY_URL:o+"v1/availability/schedule",LOW_FARES_CACHE_URL:o+"vb/v1/availability/lowfares",BUNDLES_AVAILABILITY_URL:o+"v1/booking/availablebundles",BUNDLES_URL:o+"v1/booking/bundles",BASKET_URL:o+"v1/basket",CREATE_BASKET_URL:o+"v1/basket/create",UPDATE_BASKET_URL:o+"v1/basket/update",LOAD_BASKET_BOOKING_URL:o+"v1/basket/loadbooking",KEEP_ALIVE_BASKET_URL:o+"v1/basket/keepalive",BASKET_BOOKING_URL:o+"v1/booking",FULL_BOOKING_URL:o+"v1/booking/full",JOURNEYS_BOOKING_BASKET_URL:o+"v1/booking/journeys",PASSENGER_RULES_URL:o+"v1/booking/passengerrules",AVAILABLE_SERVICES_URL:o+"v1/booking/availableservices",CHANGE_SERVICES_URL:o+"v1/booking/changeservices",ADD_PASSENGERS_URL:o+"v1/booking/passengers",SEATMAPS_URL:o+"v1/booking/seatmaps",PROPOSED_SEATS_URL:o+"v1/booking/proposedseats",CHANGE_SEATS_URL:o+"v1/booking/changeseats",UPDATE_PASSENGERS_URL:o+"v1/booking/updatepassengers",SEARCH_JOURNEY_AVAILABILITY_URL:o+"v1/booking/searchjourneys",CHANGE_JOURNEYS_AVAILABILITY_URL:o+"v1/booking/changejourneys",ADD_HOTEL_URL:o+"v1/booking/hotel",DELETE_HOTEL_URL:o+"v1/booking/deletehotel",AVAILABLE_INSURANCES_URL:o+"v1/booking/availableinsurances",CHANGE_INSURANCES_URL:o+"v1/booking/changeinsurances",INSURANCES_STATUS_URL:o+"v1/booking/insurancesStatus",CANCEL_OPTIONS_URL:o+"v1/booking/canceloptions",BOOKING_CANCEL_URL:o+"v1/booking/cancel",UPSELL_SERVICES_URL:o+"v1/booking/upsellservices",BOXEVER_API:"https://api.boxever.com",PAYMENT_METHODS:o+"v1/payment/methodsavailable",PAYMENT_PROCESS:o+"v1/payment/process",PAYMENT_STATUS:o+"v1/payment/checkstatus",SPLIT_PAYMENT_ADD:o+"v1/payment/addsplitpayment",SPLIT_PAYMENT_DELETE:o+"v1/payment/deletesplitpayment",SELECT_METHOD:o+"v1/payment/selectmethod",STATIONS_URL:o+"v1/resources/stations",CURRENCIES_URL:o+"v1/resources/currencies",COUNTRIES_URL:o+"v1/resources/countries",PROVINCES_URL:o+"v1/resources/provinces",SPECIAL_SERVICES_URL:r+"assets/json/special-services.json",extLinks:{EXT_RESERVATION_SEARCH:a+"/mx/mi-vuelo/detalles-de-mi-reservacion",EXT_CHECKIN:a+"/mx/mi-vuelo/pase-de-abordar",BOOKER_DEEP_LINK:"https://vivaaerobus.app.bidflyer.com/deploy/loader/companyKey/000011e86dfd68a4ab9e9991494589db"},FLIGHT_STATUS_URL:o+"vb/v1/flightstatus",FLIGHT_STATUS_ADD_NOTIFICATION_URL:o+"vb/v1/notifications/add",FLIGHT_STATUS_SUBSCRIPTIONS_URL:o+"vb/v1/notifications/subscriptions",FLIGHT_STATUS_CANCEL_SUBSCRIPTION_URL:o+"vb/v1/notifications/delete",SMILE_FLY_URL:o+"vb/v1/faceid/url",SMILE_FLY_CHANGE:o+"vb/v1/faceid/change",CHECK_IN_STATUS_URL:o+"v1/checkin/status",CHECK_IN_PASSENGER:o+"v1/checkin/passenger",CHECK_IN_BOARDINGPASS:o+"v1/checkin/boardingpass",CHECK_IN_SHARE_BOARDINGPASS:o+"vb/v1/share/boardingpass",CHECK_IN_UNDO:o+"v1/checkin/undopassenger",VIVA_AIR_URL:"https://www.vivaair.com",VIVABUS_URL:"https://viva.reservamos.mx",BUS_PLACES_URL:"https://search.reservamos.mx/api/v2/places",CAR_RECOMMENDATIONS_TOKEN_URL:"https://auth.smartlinks.dev/api/auth/agency/token",CAR_RECOMMENDATIONS_TOKEN_AGENCY_ID:"kMyztpn5PpQshb7bG",CAR_RECOMMENDATIONS_TOKEN_AGENCY_KEY:"8GnUfElnN1waS5zjEkuXnRrK3s/PlMnC9S67epDIO4iwqy2swz8vugxCSe91Wr4TO9XH4OqP8dbBpFD4ninljw==",CAR_RECOMMENDATIONS_TOKEN_CLIENT_ID:"https://autos.vivaaerobus.com",CAR_RECOMMENDATIONS_SCRIPT:"https://web-widget.smartlinks.dev/index.js",YOUR_EXPERIENCE_SCRIPT:"https://vivaaerobus.tuexperiencia.com/js/widget.js",SECURITY_LOGIN:s+"v1/security/login",USER_SECRET_DETAILS:s+"v1/members/%memberId%/details/secretDetails",GENERATE_OTP:s+"v1/security/generate-otp",VALIDATE_OTP:s+"v1/security/validate-otp",OTP_EMAIL_KEY:"monitor.web@vivaaerobus.com",OTP_PASS_KEY:"ec46vQ!aONU#sNE!4rtHU",ENROLLING_SPONSOR_KEY:3,DOTERS_OPT_OUT:o+"v1/account/loyalty/optout",BOOKING_GUEST_FEE:o+"v1/booking/guestfee",IROP_DETAILS_URL:o+"v1/irop/details",IROP_ACCEPT_URL:o+"v1/irop/accept",IROP_CANCEL_URL:o+"v1/irop/cancel",IROP_KEEP_URL:o+"vb/v1/booking/irop/keepflight",IROP_REDEEM_COMPENSATION_URL:o+"v1/irop/redeemcompensation",IROP_CANCEL_RESEND_EMAIL_URL:o+"vb/v1/booking/mail/cancel",BUYBACK_URL:o+"vb/v1/booking/buyback",BUYBACK_WHITE_LABEL_URL:"https://marketplace.vivaaerobus.com/nftickets",OTP_OPTIONS_URL:o+"vb/v1/booking/otp/options",OTP_GENERATE_URL:o+"vb/v1/booking/otp/generate",GET_COMPENSATIONS_URL:o+"vb/v1/booking/compensations",PROCESS_COMPENSATION_URL:o+"vb/v1/booking/compensations/process",MARKETPLACE:o+"vb/v1/booking/marketplace"}},B8du:function(e,t){e.exports=function(){return!1}},B8vn:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("egL7"),o=function(){var e=function(){function e(t){_classCallCheck(this,e),this.gtmService=t}return _createClass(e,[{key:"flipOriginDestination",value:function(){this.gtmService.pushTag({event:"ev_ux_flight_status",category:"ux_flight_status",action:"flip_origin_destination"})}},{key:"searchFlightStatus",value:function(e,t){this.gtmService.pushTag({event:"ev_flight_status",category:"flight_status",action:"search_flight_status",label:e,timeframe:t})}},{key:"clickInAlert",value:function(e){this.gtmService.pushTag({event:"ev_flight_status",category:"flight_status",action:"flight_status_click_alert",label:e})}},{key:"clickInDetails",value:function(e){this.gtmService.pushTag({event:"ev_flight_status_click_details",category:"flight_status",action:"flight_status_click_details",label:e})}},{key:"switchTabList",value:function(e){this.gtmService.pushTag({event:"ev_ux_booker_tablist_flight_search",category:"booker_tablist",action:e,"gtm.uniqueEventId":35147})}},{key:"clickInNotification",value:function(e){this.gtmService.pushTag({event:"ev_flight_status",category:"flight_status",action:"click_create_notification",label:e})}},{key:"notificationChannel",value:function(e){this.gtmService.pushTag({event:"ev_flight_status",category:"flight_status",action:"subscribe_notification",label:e,whatsapp_notification:"phone"===e?"true":"false"})}},{key:"cancelNotification",value:function(){this.gtmService.pushTag({event:"ev_flight_status",category:"flight_status",action:"cancel_notification"})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(r.a))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},BEZw:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ofXK"),r=n("h3XU"),o=n("o5mt"),a=n("Pqv9"),s=n("fXoL"),c=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=s.Rb({type:e}),e.\u0275inj=s.Qb({factory:function(t){return new(t||e)},imports:[[i.c,o.a,r.a,a.a]]}),e}()},BFxc:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("7o/Q"),r=n("4I5i"),o=n("EY2u");function a(e){return function(t){return 0===e?Object(o.b)():t.lift(new s(e))}}var s=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new r.a}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.total))}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).total=i,r.ring=new Array,r.count=0,r}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=t++%n;e.next(i[o])}e.complete()}}]),n}(i.a)},BifP:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i,r,o=n("mrSG"),a=n("1AID"),s=n("AytR"),c=n("fXoL"),l=n("LYOT"),u=n("ofXK"),d=["api-account-trips","api-checkin-boardingpass","cms-content-copy","cms-content-messages","cms-confirmation-page","cms-payment-method-images","cms-content-avatars","cms-content-copy-img","cms-content-copy-cta"],h=["api-resources-stations","api-resources-currencies","api-resources-countries","api-resources-provinces","cms-content-stations","cms-content-configuration","cms-storefront","cms-content-pages","cms-content-pages-slugs","cms-content-services"],f=((r=function(){function e(t){_classCallCheck(this,e),this.platformId=t,this.pwaCacheKey=s.g.cacheKeys.PWA_LOCAL_CACHE}return _createClass(e,[{key:"checkCache",value:function(e){var t;if(Object(u.L)(this.platformId)&&(t=localStorage.getItem(this.pwaCacheKey)),t){if(t){var n=JSON.parse(t),i=n.shortTermCacheVersion,r=n.longTermCacheVersion,o=[];i!==e.shortTermCacheVersion&&(o=o.concat(d)),r!==e.longTermCacheVersion&&(o=o.concat(h)),o.length&&(this.saveInLocalStorage(e),this.deleteCacheTerm(o).then((function(){window.location.reload()})))}}else this.saveInLocalStorage(e)}},{key:"saveInLocalStorage",value:function(e){Object(u.L)(this.platformId)&&localStorage.setItem(this.pwaCacheKey,JSON.stringify(e))}},{key:"deleteCacheTerm",value:function(e){return Object(u.L)(this.platformId)&&"caches"in window?Promise.all(e.map((function(e){caches.delete(e)}))):Promise.all([])}}]),e}()).\u0275fac=function(e){return new(e||r)(c.dc(c.G))},r.\u0275prov=c.Pb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),p=((i=function(){function e(t,n){_classCallCheck(this,e),this.contentful=t,this.swCacheSvc=n,this.CONFIG_CHANNEL=s.g.contentful.services.configurationChannel}return _createClass(e,[{key:"load",value:function(){var e=this;return new Promise((function(t,n){try{e.getAppConfig().then((function(){t()}))}catch(i){n(i)}}))}},{key:"getAppConfig",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCMSConfig();case 2:this.cmsConfig=e.sent,this.swCacheSvc.checkCache(this.cmsConfig.globalSettings.localCache);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getCMSConfig",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contentful.getEntries({content_type:"configuration","fields.channel":this.CONFIG_CHANNEL,include:3});case 2:if(e.t0=e.sent.items[0].fields,e.t0){e.next=5;break}e.t0=void 0;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"getSectionFeatureValue",value:function(e,t){var n=[];switch(e){case a.b.GLOBAL:n=this.cmsConfig.globalSettings.features||[];break;case a.b.BOOKING:n=this.cmsConfig.bookingSettings.features||[];break;default:n=[]}var i=n.find((function(e){return!!e.name&&e.name===t}));return i&&i.isActive||!1}},{key:"getBookingFeatureValue",value:function(e){return this.getSectionFeatureValue(a.b.BOOKING,e)}},{key:"_cmsConfig",get:function(){return this.cmsConfig}}]),e}()).\u0275fac=function(e){return new(e||i)(c.dc(l.a),c.dc(f))},i.\u0275prov=c.Pb({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},BkRI:function(e,t,n){var i=n("OBhP");e.exports=function(e){return i(e,5)}},Bxln:function(e,t,n){"use strict";try{self["workbox:core:5.1.4"]&&_()}catch(i){}},CH3K:function(e,t){e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},CJ36:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var i,r=n("mrSG"),o=n("fXoL"),a=n("ofXK"),s=n("LMmM"),c=n.n(s),l=n("tAZD"),u=n.n(l),d=n("7Jl0"),h=n.n(d),f=n("AQDP"),p=n.n(f),g=n("U9ZV"),v=n("wd/R"),m=n("AytR"),b=[{code:"es-MX",name:"Spanish (Mexico)",default:!0},{code:"en-US",name:"English (United States)",default:!1},{code:"es-US",name:"Spanish (United States)",default:!1},{code:"es-CO",name:"Spanish (Colombia)",default:!1}],y=n("LYOT"),_=n("hzby"),C=((i=function(){function e(t,n,i,r){_classCallCheck(this,e),this.contentful=t,this.bsLocale=n,this.platformId=i,this.document=r,this.locales=[],this.getLocales()}return _createClass(e,[{key:"registerLocalesData",value:function(){Object(a.N)(c.a),Object(a.N)(u.a),Object(a.N)(h.a),Object(a.N)(p.a)}},{key:"registerNgxBoostrapLocalesData",value:function(){Object(g.a)("es-mx",g.c),Object(g.a)("es-us",g.d),Object(g.a)("es-co",g.c)}},{key:"getLocales",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.locales=b,this.setDefaultLocale(),this.setCMSLocale(this.getSavedLocale()),this.registerLocalesData(),this.registerNgxBoostrapLocalesData(),this.setMomentsLocale(this.getAppLocale()),this.setNgxBootstrapLocale(this.getAppLocale().toLowerCase());case 1:case"end":return e.stop()}}),e,this)})))}},{key:"setDefaultLocale",value:function(){var e=this;this.locales.forEach((function(t){t.default&&(e.defaultLocale=t)}))}},{key:"setCMSLocale",value:function(e){this.contentful.setLocale(e)}},{key:"setMomentsLocale",value:function(e){v.locale(e)}},{key:"setNgxBootstrapLocale",value:function(e){"en-us"!==e&&this.bsLocale.use(e)}},{key:"changeLocaleData",value:function(e){return this.saveLocaleConfig(e),!(!this.isValidLocale(e)||e===this.appLocale)}},{key:"getSavedLocale",value:function(){var e,t,n=!1;if(Object(a.L)(this.platformId)&&sessionStorage.getItem("viva-lang")&&(sessionStorage.removeItem("viva-lang"),n=!0),!n){var i=this.document.location.pathname.split("/"),r=b.map((function(e){return e.code}));if(null==i?void 0:i[1]){var o=r.find((function(e){return e.toLowerCase()===i[1].toLowerCase()}));o&&(t=o)}}return!t&&Object(a.L)(this.platformId)&&(t=localStorage.getItem("viva-locale")),t&&!this.isValidLocale(t)&&(t=void 0),this.appLocale=t||(null===(e=this.defaultLocale)||void 0===e?void 0:e.code),this.appLocale}},{key:"isValidLocale",value:function(e){return!!this.locales.find((function(t){return t.code===e}))}},{key:"saveLocaleConfig",value:function(e){Object(a.L)(this.platformId)&&(this.isValidLocale(e)?localStorage.setItem("viva-locale",e):m.g.production||console.error("::SaveLocaleConfig::","Error: given locale value is not within allowed locales: "+e))}},{key:"getCMSLocales",value:function(){return this.locales}},{key:"getAppLocale",value:function(){var e;return this.appLocale||(null===(e=this.defaultLocale)||void 0===e?void 0:e.code)}},{key:"reloadAppWithLocale",value:function(e){if(e&&e!==this.appLocale&&this.isValidLocale(e)){var t=this.document.location.pathname+this.document.location.search+this.document.location.hash;t.startsWith(this.baseHref)&&(t=t.replace(this.baseHref,"/"+e.toLocaleLowerCase())),this.document.location.href=t}else this.document.location.reload()}},{key:"baseHref",get:function(){return"/"+this.getAppLocale().toLowerCase()}}]),e}()).\u0275fac=function(e){return new(e||i)(o.dc(y.a),o.dc(_.d),o.dc(o.G),o.dc(a.e))},i.\u0275prov=o.Pb({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},CPX7:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var i,r=n("mrSG"),o=n("fXoL"),a=n("h/S9"),s=n("PxKc"),c=n("tiZS"),l=n("AytR"),u=n("2Vo4"),d=n("XNiG"),h=n("quSY"),f=n("LRne"),p=n("cp0P"),g=n("GyhO"),v=n("NXyV"),m=n("PqYM"),b=n("l5mm"),y=n("st0d"),_=n("d/Sv"),C=n("RbsG"),k=n("IzEk"),S=n("eIep"),O=n("vkgz"),T=n("7o/Q"),w=function(){function e(t,n){_classCallCheck(this,e),this.bufferSize=t,this.startBufferEvery=n,this.subscriberClass=n&&t!==n?E:A}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))}}]),e}(),A=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).bufferSize=i,r.buffer=[],r}return _createClass(n,[{key:"_next",value:function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])}},{key:"_complete",value:function(){var e=this.buffer;e.length>0&&this.destination.next(e),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}}]),n}(T.a),E=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).bufferSize=i,o.startBufferEvery=r,o.buffers=[],o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t=this.bufferSize,n=this.startBufferEvery,i=this.buffers,r=this.count;this.count++,r%n==0&&i.push([]);for(var o=i.length;o--;){var a=i[o];a.push(e),a.length===t&&(i.splice(o,1),this.destination.next(a))}}},{key:"_complete",value:function(){for(var e=this.buffers,t=this.destination;e.length>0;){var i=e.shift();i.length>0&&t.next(i)}_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}}]),n}(T.a),P=n("JIr8"),M=n("lJxs"),x=n("nYR2"),D=n("pLZG"),I=n("3E0/"),L=n("RRjW"),R=n("ofXK"),N=n("tyNb"),j=n("f0Wu"),B=n("y4Wf"),F=n("GEJx"),H=n("CJ36"),U=n("ChtM"),Y=n("E50d"),G=n("f0i7"),V=((i=function(){function e(t,n,i,r,o,a,s,c,f){_classCallCheck(this,e),this.platformId=t,this.basketApi=n,this.basketBookingApi=i,this.localeSvc=r,this.currency=o,this.bookingParams=a,this.txHeaderService=s,this.router=c,this.route=f,this.BASKETID_SESSIONSTORAGE_KEY=l.g.cacheKeys.BASKET_TOKEN,this.BASKETID_LOCALSTORAGE_KEY=l.g.cacheKeys.BASKET_TOKEN,this.$basket=new u.a(void 0),this.$basketBooking=new u.a(void 0),this.$fullBasket=new u.a(void 0),this.$dynamicFlow=new d.a,this.syncShouldGetBooking=!0,this.$isSyncing=new u.a(!1),this.$basketSyncNotify=new d.a,this.basketSyncNotifySubscription=h.a.EMPTY,this.$syncDone=new d.a,this.$basketMsgNotify=new d.a,this.bookingWhiteListCodes=[L.b.NO_TRAVEL_IN_BASKET,L.b.BASKET_PASSIVE],this.loadPersistedBasket=!0,this.$basketAboutToExpire=new d.a,this.expirationCountdownSubscription=h.a.EMPTY,this.expiredNotificationSent=!1,this.loadedPersisted=!1,this.startSyncObservable(),this.loadPersistedBasketId()}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.stopSyncSubscription()}},{key:"_bf_booking",value:function(){if(this.basket&&this.basket.status===a.d.Active&&this.basket.flowType===s.b.Booking)return this.basketBooking}},{key:"startSyncObservable",value:function(){var e=this;this.basketSyncNotifySubscription=this.$basketSyncNotify.asObservable().pipe(Object(S.a)((function(t){return(t||{}).basketId?e.getBasketFullInfoForSync(t):Object(f.a)([void 0,void 0])}))).subscribe((function(t){e.basket=t[0],e.$basket.next(e.basket),e.setExpirationCountdown(),e.emitDynamicFlow(),e.basketBooking=t[1],e.$basketBooking.next(e.basketBooking),e.$fullBasket.next({basket:e.basket,basketBooking:e.basketBooking}),e.persistBasketId(),e.$syncDone.next(!0),e.$isSyncing.next(!1)}),(function(t){l.g.production||console.error("::SyncBasketInfoHandler::",t),e.$syncDone.next(!1),e.$isSyncing.next(!1)}))}},{key:"stopSyncSubscription",value:function(){this.basketSyncNotifySubscription.closed||this.basketSyncNotifySubscription.unsubscribe()}},{key:"getBasketFullInfo",value:function(e){return Object(p.a)([this.getBasketInfo(e),this.getBasketBookingInfo(e)])}},{key:"getBasketFullInfoForSync",value:function(e){var t=this,n=(e||{}).basketId;return Object(g.a)(this.getBasketInfo(n).pipe(Object(O.a)((function(e){return t.syncShouldGetBooking=!!e&&e.status===a.d.Active}))),Object(v.a)((function(){return t.syncShouldGetBooking?t.shouldSkipBookingSync(e)?Object(f.a)(t.basketBooking):t.getBasketBookingInfo(n):Object(f.a)(void 0)}))).pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){return n.lift(new w(e,t))}}(2))}},{key:"getBasketInfo",value:function(e){var t=this;return this.basketApi.getBasketById(e).pipe(Object(P.a)((function(e){return e.error&&e.error.code===L.b.BASKET_EXPIRED?t.clearBasket():l.g.production||console.error(e),Object(f.a)({data:void 0})})),Object(M.a)((function(e){return e.data})))}},{key:"getBasketBookingInfo",value:function(e){var t=this;return this.basketBookingApi.getBasketBooking(e).pipe(Object(P.a)((function(e){return l.g.production||t.bookingWhiteListCodes.includes(e.error.code)||console.error(e),Object(f.a)({data:void 0})})),Object(M.a)((function(e){return e.data})))}},{key:"syncBasketInfo",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var r=n||(null===(e=this.basket)||void 0===e?void 0:e.basketId);if(!r)throw new Error("Basket Sycnhronization Error: Basket is not initialized or no basketId was given to the method call!!");this.$basketSyncNotify.next({basketId:r,syncBooking:i}),this.$isSyncing.next(!0)}catch(o){l.g.production||console.error("::SyncBasketInfo::",o),Object(m.a)(0).subscribe((function(){t.$isSyncing.next(!1),t.$syncDone.next(!1)}))}}},{key:"getCreatedBasketInfo",value:function(e){var t=this;this.$isSyncing.next(!0),this.getBasketInfo(e).pipe(Object(x.a)((function(){t.$isSyncing.next(!1)}))).subscribe((function(e){t.basket=e,t.basketBooking=void 0,t.$basket.next(t.basket),t.$basketBooking.next(t.basketBooking),t.emitDynamicFlow(),t.$fullBasket.next({basket:t.basket,basketBooking:t.basketBooking}),t.$syncDone.next(!0)}),(function(e){l.g.production||console.error("::GetCreatedBasketInfo::",e),t.$syncDone.next(!1)}))}},{key:"createBasket",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.f.NO_STEP,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var a,s,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={currencyCode:this.currency.selectedCurrencyCode,language:this.localeSvc.getAppLocale(),currentStep:e,customFields:n,referralDetails:t,bookingType:i},o&&(a.engine={deviceId:o}),s=this.basket,r.prev=3,r.next=6,this.basketApi.createBasket(a).toPromise();case 6:return c=r.sent.data.basketId,this.basket=void 0,this.basketBooking=void 0,this.getCreatedBasketInfo(c),r.next=12,this.syncDone$.toPromise();case 12:return r.abrupt("return",!0);case 15:return r.prev=15,r.t0=r.catch(3),r.abrupt("return",(l.g.production||console.error("::CreateBasket::",r.t0),this.basket=s,!1));case 18:case"end":return r.stop()}}),r,this,[[3,15]])})))}},{key:"emitDynamicFlow",value:function(){this.basket&&this.$dynamicFlow.next(this.basket.dynamicFlow)}},{key:"updateBasketStep",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.basket&&this.basket.dynamicFlow){r.next=2;break}return r.abrupt("return",!1);case 2:if(e!==s.f.FE_Calendar&&e!==s.f.NO_STEP||l.g.production){r.next=4;break}return r.abrupt("return",(console.error("::UpdateBasket::","Cannot use this value to update basket step"),!1));case 4:return r.prev=4,o={flowType:t,basketId:this.basketId,currentStep:e,bookingType:null===(n=this.basket)||void 0===n?void 0:n.bookingType},r.next=8,this.basketApi.updateBasket(o).toPromise();case 8:if(r.t0=i,!r.t0){r.next=13;break}return this.syncBasketInfo(this.basketId),r.next=13,this.syncDone$.toPromise();case 13:return r.abrupt("return",!0);case 16:return r.prev=16,r.t1=r.catch(4),r.abrupt("return",(l.g.production||console.error("::UpdateBasket::",r.t1),!1));case 19:case"end":return r.stop()}}),r,this,[[4,16]])})))}},{key:"getNextStep",value:function(e){var t;if(this.basket&&this.basket.dynamicFlow){var n=null===(t=this.basket)||void 0===t?void 0:t.dynamicFlow,i=e||n.currentStep,r=n.steps.findIndex((function(e){return i===e.name}));return-1!==r&&r+1<n.steps.length?n.steps[r+1].name:void 0}}},{key:"persistBasketId",value:function(){this.basket&&this.basket.basketId&&Object(R.L)(this.platformId)&&(sessionStorage.setItem(this.BASKETID_SESSIONSTORAGE_KEY,this.basketId),localStorage.setItem(this.BASKETID_LOCALSTORAGE_KEY,this.basketId))}},{key:"loadPersistedBasketId",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolveBasketId();case 2:if(!(t=e.sent)||void 0!==this.basket||!this.loadPersistedBasket){e.next=18;break}return e.prev=4,this.syncBasketInfo(t),e.next=8,this.syncDone$.toPromise();case 8:if(!this.basket){e.next=13;break}return e.next=11,this.bookingParams.getBasketBookingParams(this.basket);case 11:n=e.sent,this.emitDynamicFlow(),n&&this.txHeaderService.pushBookingQueryParams(n,y.a.BASKET_INFO);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),l.g.production||console.error("::LoadBasketFromStorage::",e.t0);case 18:this.loadedPersisted=!0;case 19:case"end":return e.stop()}}),e,this,[[4,15]])})))}},{key:"hasBasketSynchronous",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=null,Object(R.L)(this.platformId)&&(o=sessionStorage.getItem(this.BASKETID_SESSIONSTORAGE_KEY)||localStorage.getItem(this.BASKETID_LOCALSTORAGE_KEY)),r.t0=!(this.loadedPersisted||!(o||(null===(t=null==i?void 0:i.basketRouteConfig)||void 0===t?void 0:t.viewRequiresBasket)&&(null===(n=null==i?void 0:i.basketRouteConfig)||void 0===n?void 0:n.loadBasketFromBasketId)&&e.queryParamMap.has("basketId"))),r.t0){r.next=13;break}if(r.t1=!this.loadedPersisted,r.t1){r.next=12;break}if(r.t2=null===this._basket,!r.t2){r.next=11;break}return r.next=10,this.isSyncing$.pipe(Object(k.a)(1)).toPromise();case 10:r.t2=r.sent;case 11:r.t1=r.t2;case 12:r.t0=!r.t1;case 13:return r.abrupt("return",r.t0);case 14:case"end":return r.stop()}}),r,this)})))}},{key:"getTripTypeFromBasket",value:function(e){var t=e||this.basket;if(t&&t.travel&&Array.isArray(t.travel.journeys)&&t.travel.journeys.length>0)switch(t.travel.journeys.length){case 1:return _.a.ONE_WAY;case 2:return this.getIsRoundTrip(t)?_.a.ROUND_TRIP:_.a.MULTI_CITY;default:return _.a.MULTI_CITY}}},{key:"getIsRoundTrip",value:function(e){return!(!e.travel.journeys||!Array.isArray(e.travel.journeys)||2!==e.travel.journeys.length)&&e.travel.journeys[0].origin.code===e.travel.journeys[1].destination.code&&e.travel.journeys[1].origin.code===e.travel.journeys[0].destination.code}},{key:"emitBasketUpdateMsg",value:function(e,t){e?this.$basketMsgNotify.next({msg:e,icon:t}):this.$basketMsgNotify.next()}},{key:"emitEmptyBasketState",value:function(){this.$basketSyncNotify.next(void 0),this.$isSyncing.next(!0)}},{key:"clearBasket",value:function(){this.emitEmptyBasketState(),Object(R.L)(this.platformId)&&(sessionStorage.removeItem(this.BASKETID_SESSIONSTORAGE_KEY),localStorage.removeItem(this.BASKETID_LOCALSTORAGE_KEY))}},{key:"loadBasketFromParams",value:function(e,t,n){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.b.Manage,a=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0;return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var s,u,d,h;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!(c&&c.currencyCode&&c.language)){r.next=5;break}s=c,r.next=9;break;case 5:return r.next=7,this.basketBookingApi.getFullBooking(e,t,n).toPromise();case 7:u=r.sent.data,s=Object.assign({currencyCode:u.currencyCode,language:this.localeSvc.getAppLocale()},!!a&&{currentStep:a});case 9:return r.next=11,this.basketApi.createBasket(s).toPromise();case 11:if(r.t1=i=r.sent.data,r.t0=null===r.t1,r.t0){r.next=15;break}r.t0=void 0===i;case 15:if(!r.t0){r.next=19;break}r.t2=void 0,r.next=20;break;case 19:r.t2=i.basketId;case 20:if(!(d=r.t2)){r.next=26;break}return h={basketId:d,pnr:e,lastName:t,emailAddress:n,flowType:o},r.next=25,this.basketApi.loadBasket(h).toPromise();case 25:return r.abrupt("return",d);case 26:r.next=31;break;case 28:throw r.prev=28,r.t3=r.catch(0),l.g.production||console.error("::LoadBasketFromParams::",r.t3),r.t3;case 31:throw new Error("Error creating basket not initialized!");case 32:case"end":return r.stop()}}),r,this,[[0,28]])})))}},{key:"loadBasketIntoNewBasket",value:function(e){var t,n,i,o,a,s,c;return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var u,d,h,f,p;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.getFullBasketForLoad(e);case 3:if(!(null==(u=r.sent)?void 0:u.basket)||!(null===(t=u.basketBooking)||void 0===t?void 0:t.pnr)){r.next=15;break}if(d=null,(null===(i=null===(n=null==u?void 0:u.basket)||void 0===n?void 0:n.travel)||void 0===i?void 0:i.passengers)&&(null===(a=null===(o=null==u?void 0:u.basket)||void 0===o?void 0:o.travel)||void 0===a?void 0:a.passengers.length)>0&&(null==u||u.basket.travel.passengers.every((function(e){return!e.lastName||(d=e.lastName,!1)}))),d||(h=(null===(s=u.basketBooking.contacts)||void 0===s?void 0:s.find((function(e){return e.contactType===C.c.Primary})))||(null===(c=u.basketBooking.contacts)||void 0===c?void 0:c[0]),d=h.lastName),!d){r.next=15;break}return f={currencyCode:u.basketBooking.currencyCode,language:u.basket.language},r.next=11,this.loadBasketFromParams(u.basketBooking.pnr,d,null,u.basket.flowType,u.basket.dynamicFlow.currentStep,f);case 11:return p=r.sent,r.next=14,this.updateCustomFields(p,u.basket);case 14:return r.abrupt("return",p);case 15:r.next=20;break;case 17:throw r.prev=17,r.t0=r.catch(0),l.g.production||console.error("::CreateBasketFromOldBasket::",r.t0),new Error(r.t0);case 20:throw new Error("Error creating basket not initialized!");case 21:case"end":return r.stop()}}),r,this,[[0,17]])})))}},{key:"updateCustomFields",value:function(e,t){var n,i;return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,a,s,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(null==t?void 0:t.customFields)){r.next=10;break}for(o={basketId:e,flowType:t.flowType,customFieldUpdates:[],bookingType:null==t?void 0:t.bookingType},a=0,s=Object.keys(null==t?void 0:t.customFields);a<s.length;a++)l=s[a],(null===(n=null==t?void 0:t.customFields)||void 0===n?void 0:n[l])&&o.customFieldUpdates.push({path:l,value:null===(i=null==t?void 0:t.customFields)||void 0===i?void 0:i[l],updateType:c.a.Replace});if(r.t0=o.customFieldUpdates.length,!r.t0){r.next=10;break}return r.next=7,this.basketApi.updateBasket(o).toPromise();case 7:return this.syncBasketInfo(e),r.next=10,this.syncDone$.toPromise();case 10:case"end":return r.stop()}}),r,this)})))}},{key:"saveCheckInPaidCharges",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null==e?void 0:e.customFields)||(null==e?void 0:e.flowType)!==s.b.CheckIn&&(null==e?void 0:e.flowType)!==s.b.Manage){t.next=7;break}return n={basketId:e.basketId,flowType:null==e?void 0:e.flowType,customFieldUpdates:[{path:"checkInPaidCharges",value:{charges:e.travel.charges,additionalCharges:e.travel.additionalCharges,misconfiguredCharges:e.travel.misconfiguredCharges,totalAmount:e.totalAmount},updateType:c.a.Replace}]},t.next=4,this.basketApi.updateBasket(n).toPromise();case 4:return this.syncBasketInfo(e.basketId),t.next=7,this.syncDone$.toPromise();case 7:case"end":return t.stop()}}),t,this)})))}},{key:"stopPersistedBasketLoading",value:function(){this.loadPersistedBasket=!1}},{key:"getFullBasketForLoad",value:function(e){var t;return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=7;break}if((null===(t=this.basket)||void 0===t?void 0:t.basketId)!==e||!this.basketBooking||!this.basket){n.next=3;break}return n.abrupt("return",{basketBooking:this.basketBooking,basket:this.basket});case 3:return n.next=5,this.getBasketFullInfo(e).toPromise();case 5:return i=n.sent,n.abrupt("return",{basketBooking:i[1],basket:i[0]});case 7:if(!this.basketBooking||!this.basket){n.next=9;break}return n.abrupt("return",{basketBooking:this.basketBooking,basket:this.basket});case 9:case"end":return n.stop()}}),n,this)})))}},{key:"resolveBasketId",value:function(){var e=this;return new Promise((function(t){e.router.events.pipe(Object(D.a)((function(e){return e instanceof N.c})),Object(k.a)(1),Object(I.a)(100)).subscribe((function(n){var i,r;if(n instanceof N.c){var o,a=null===(i=e.router.parseUrl(n.url).root.children[N.f])||void 0===i?void 0:i.segments;Object(R.L)(e.platformId)&&(o=sessionStorage.getItem(e.BASKETID_SESSIONSTORAGE_KEY)||localStorage.getItem(e.BASKETID_LOCALSTORAGE_KEY));var s=null===(r=e.getRoutesData(e.route.snapshot.root))||void 0===r?void 0:r.basketRouteConfig;if(a&&(null==s?void 0:s.viewRequiresBasket)&&(null==s?void 0:s.loadBasketFromBasketId)){var c=e.route.snapshot.queryParamMap;return c.has("basketId")?void t(c.get("basketId")):o?void t(o):void t(void 0)}t(o||void 0)}else t(void 0)}))}))}},{key:"shouldSkipBookingSync",value:function(e){var t,n=e||{},i=n.basketId;return!1===n.syncBooking&&!!i&&!!this.basketBooking&&(null===(t=this.basket)||void 0===t?void 0:t.basketId)===i}},{key:"getRoutesData",value:function(e){var t=this;return Object.assign(Object.assign({},e.data),e.children.reduce((function(e,n){return Object.assign(Object.assign({},t.getRoutesData(n)),e)}),{}))}},{key:"setExpirationCountdown",value:function(e){var t;return this.stopExpirationCountdown(),this.basketExpirationDate=void 0,this.expiredNotificationSent=!1,(null===(t=this.basket)||void 0===t?void 0:t.status)===a.d.Active&&(this.basketExpirationDate=j().add(j.duration(e||this.basket.remainingActivityTime)),this.expirationCountdownSubscription=Object(b.a)(2e3).subscribe(this.onCountdownCheck.bind(this)),!0)}},{key:"resumeExpirationCountdown",value:function(){var e;return this.stopExpirationCountdown(),!((null===(e=this.basket)||void 0===e?void 0:e.status)!==a.d.Active||!this.basketExpirationDate||(this.expirationCountdownSubscription=Object(b.a)(2e3).subscribe(this.onCountdownCheck.bind(this)),0))}},{key:"stopExpirationCountdown",value:function(){this.expirationCountdownSubscription.closed||this.expirationCountdownSubscription.unsubscribe()}},{key:"onCountdownCheck",value:function(){if(this.basketExpirationDate){var e=j.duration(this.basketExpirationDate.diff(j()),"milliseconds");!this.expiredNotificationSent&&e.asSeconds()<299&&(this.$basketAboutToExpire.next({timeToExpire:e.asMilliseconds(),basketId:this.basketId}),this.expiredNotificationSent=!0),e.asMilliseconds()<0&&(this.setBasketAsPassive(),this.stopExpirationCountdown())}else this.stopExpirationCountdown()}},{key:"setBasketAsPassive",value:function(){var e;(null===(e=this.basket)||void 0===e?void 0:e.status)===a.d.Active&&(this.basket.status=a.d.Passive,this.basket.remainingActivityTime=null,this.basketBooking=void 0,this.$basket.next(this.basket),this.$basketBooking.next(this.basketBooking),this.$fullBasket.next({basket:this.basket,basketBooking:this.basketBooking}))}},{key:"updateBasketExpirationTime",value:function(){var e,t=this;this.stopExpirationCountdown(),this.basketExpirationDate=void 0,this.expiredNotificationSent=!1,(null===(e=this.basket)||void 0===e?void 0:e.status)===a.d.Active&&this.getBasketInfo(this.basketId).subscribe((function(e){(null==e?void 0:e.status)===a.d.Active?t.setExpirationCountdown(e.remainingActivityTime):(null==e?void 0:e.status)===a.d.Passive&&t.setBasketAsPassive()}),(function(e){l.g.production||console.error("::UpdateBasketExpirationTime::",e)}))}},{key:"getTripTypeFromBasketBooking",value:function(e){var t=e||this.basketBooking;if(t&&t.journeys&&Array.isArray(t.journeys)&&t.journeys.length>0)switch(t.journeys.length){case 1:return _.a.ONE_WAY;case 2:return this.getIsRoundTripBAsketBooking(t)?_.a.ROUND_TRIP:_.a.MULTI_CITY;default:return _.a.MULTI_CITY}}},{key:"getIsRoundTripBAsketBooking",value:function(e){return!(!e.journeys||!Array.isArray(e.journeys)||2!==e.journeys.length)&&e.journeys[0].origin.code===e.journeys[1].destination.code&&e.journeys[1].origin.code===e.journeys[0].destination.code}},{key:"isBookingVivaFan",value:function(e){var t,n=e||this.basketBooking;return!!n&&!!(null===(t=null==n?void 0:n.charges)||void 0===t?void 0:t.find((function(e){return"FlightFanDiscount"===e.code})))}},{key:"basketMsgNotify$",get:function(){return this.$basketMsgNotify.asObservable()}},{key:"_basket",get:function(){return this.basket}},{key:"_basketBooking",get:function(){return this.basketBooking}},{key:"basket$",get:function(){return this.$basket.asObservable()}},{key:"basketBooking$",get:function(){return this.$basketBooking.asObservable()}},{key:"fullBasket$",get:function(){return this.$fullBasket.asObservable()}},{key:"isSyncing$",get:function(){return this.$isSyncing.asObservable()}},{key:"syncDone$",get:function(){return this.$syncDone.asObservable().pipe(Object(k.a)(1))}},{key:"basketId",get:function(){if(this.basket)return this.basket.basketId}},{key:"dynamicFlow$",get:function(){return this.$dynamicFlow.asObservable()}},{key:"basketAboutToExpire$",get:function(){return this.$basketAboutToExpire.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||i)(o.dc(o.G),o.dc(B.a),o.dc(F.a),o.dc(H.a),o.dc(U.a),o.dc(Y.a),o.dc(G.a),o.dc(N.g),o.dc(N.a))},i.\u0275prov=o.Pb({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},"Ce/h":function(e,t,n){var i={"./es":"iYuL","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id="Ce/h"},Cfvw:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("HDdC"),r=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),c=n("Lhse"),l=n("c2HN"),u=n("I55L");function d(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[a.a]}(e))return function(e,t){return new i.a((function(n){var i=new o.a;return i.add(t.schedule((function(){var r=e[a.a]();i.add(r.subscribe({next:function(e){i.add(t.schedule((function(){return n.next(e)})))},error:function(e){i.add(t.schedule((function(){return n.error(e)})))},complete:function(){i.add(t.schedule((function(){return n.complete()})))}}))}))),i}))}(e,t);if(Object(l.a)(e))return function(e,t){return new i.a((function(n){var i=new o.a;return i.add(t.schedule((function(){return e.then((function(e){i.add(t.schedule((function(){n.next(e),i.add(t.schedule((function(){return n.complete()})))})))}),(function(e){i.add(t.schedule((function(){return n.error(e)})))}))}))),i}))}(e,t);if(Object(u.a)(e))return Object(s.a)(e,t);if(function(e){return e&&"function"==typeof e[c.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new i.a((function(n){var i,r=new o.a;return r.add((function(){i&&"function"==typeof i.return&&i.return()})),r.add(t.schedule((function(){i=e[c.a](),r.add(t.schedule((function(){if(!n.closed){var e,t;try{var r=i.next();e=r.value,t=r.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),r}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof i.a?e:new i.a(Object(r.a)(e))}},CgaS:function(e,t,n){"use strict";var i=n("xTJ+"),r=n("MLWZ"),o=n("9rSQ"),a=n("UnBK"),s=n("SntB");function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method=e.method?e.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=s(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}})),i.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}})),e.exports=c},ChtM:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("mrSG"),r=n("fXoL"),o=n("AytR"),a=n("Elrx"),s=n("ofXK"),c=n("tk/3"),l=n("kh7C"),u=n("BifP"),d=function(){var e=function(){function e(t,n,i,r){_classCallCheck(this,e),this.http=t,this.utils=n,this.platformId=i,this.config=r,this.currencies=[],this.defaultCurrencyCode="MXN",this.SAVED_CURRENCY_KEY="viva-user-currency"}return _createClass(e,[{key:"load",value:function(){var e=this;return new Promise((function(t,n){try{e.loadCurrencies().then((function(){t()}))}catch(i){n(i)}}))}},{key:"loadCurrencies",value:function(){var e;return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getCurrencies().toPromise();case 3:this.currencies=t.sent.data.currencies,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),o.g.production||console.error("::LoadCurrenciesConfig::","Unable to fetch currency settings from API!"),this.currencies=[a.c];case 9:this.defaultCurrencyCode=(null===(e=this.config._cmsConfig)||void 0===e?void 0:e.defaultCurrency)||this.defaultCurrencyCode,n=this.loadSelectedCurrencyCode(),(i=this.currencies.find(n?function(e){return e.code===n}:function(e){return e.code===r.defaultCurrencyCode}))||(i=a.c,o.g.production||console.error("::LoadCurrenciesConfig::","Invalid currency detected, setting fallback currency.")),this.setCurrencyConfig(i);case 12:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"setCurrencyConfig",value:function(e){e&&(this.selectedCurrency=e)}},{key:"getCurrencies",value:function(){return this.http.get(o.g.CURRENCIES_URL)}},{key:"saveSelectedCurrencyCode",value:function(e){Object(s.L)(this.platformId)&&localStorage.setItem(this.SAVED_CURRENCY_KEY,e.code)}},{key:"loadSelectedCurrencyCode",value:function(){if(Object(s.L)(this.platformId)){var e=this.getCurrencyCodeFromUrl();if(e){var t=this.currencies.find((function(t){return t.code.toLowerCase()===e.toLowerCase()}));if(t)return this.saveSelectedCurrencyCode(t),e}return localStorage.getItem(this.SAVED_CURRENCY_KEY)}}},{key:"getCurrencyCodeFromUrl",value:function(){var e=this.utils.getParamsFromUrlSearch();return e.currency?e.currency.toUpperCase():void 0}},{key:"changeAppCurrency",value:function(e){var t=this.currencies.find((function(t){return t.code===e}));return t?(this.saveSelectedCurrencyCode(t),t.code!==this.selectedCurrency.code):(o.g.production||console.error("::ChangeAppCurrency::","Invalid currency given to change."),!1)}},{key:"_selectedCurrency",get:function(){return this.selectedCurrency}},{key:"selectedCurrencyCode",get:function(){return this.selectedCurrency.code}},{key:"_currencies",get:function(){return this.currencies}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.dc(c.b),r.dc(l.a),r.dc(r.G),r.dc(u.a))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},Cwc5:function(e,t,n){var i=n("NKxu"),r=n("Npjl");e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},D0XW:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("3N8a"),r=new(n("IjjT").a)(i.a)},D731:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("/Yn+"),r=n("WCtt"),o=n("fXoL"),a=n("TUgU"),s=function(){var e=function(){function e(t){_classCallCheck(this,e),this.cmsTranslate=t}return _createClass(e,[{key:"transform",value:function(e,t){if(!e)return e||"";var n=t||r.a,o=this.cmsTranslate.getRichTextEntry(e);return Object(i.documentToHtmlString)(o,n)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Tb(a.a))},e.\u0275pipe=o.Sb({name:"cmsTranslateRichText",type:e,pure:!0}),e}()},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=Array.isArray||function(e){return e&&"number"==typeof e.length}},DPnb:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return E}));var i=n("fXoL"),r=n("ofXK"),o=n("Cfvw"),a=n("LRne"),s=n("XNiG"),c=n("lJxs"),l=n("jtHE"),u=n("oB13"),d=n("x+ZX"),h=n("1G5W");n("jhN1");var f,p,g,v,m,b,y=["container"],_=new i.t("LottieOptions"),C=new i.t("AnimationCache"),k=((p=function(){function e(t,n,i,r){var s,h,f;_classCallCheck(this,e),this.ngZone=t,this.platformId=n,this.options=i,this.animationCache=r,this.player$=(s=this.options.player,(f=s())instanceof Promise?Object(o.a)(f).pipe(Object(c.a)((function(e){return e.default||e})),(h=new l.a(1,void 0,void 0),function(e){return Object(u.a)((function(){return h}),void 0)(e)}),Object(d.a)()):Object(a.a)(f))}return _createClass(e,[{key:"resolveLoaderAndLoadAnimation",value:function(e,t,n,i,o,a){var s=this;Object(r.M)(this.platformId)||this.player$.pipe(Object(h.a)(a)).subscribe((function(r){var a=function(e,t,n){var i=Object.assign({container:t,renderer:"svg",loop:!0,autoplay:!0},e);return null!==n?n.transformOptions(i):i}(e,t,s.animationCache);s.loadAnimation(r,a,n,i,o)}))}},{key:"loadAnimation",value:function(e,t,n,i,r){var o=this.ngZone.runOutsideAngular((function(){return e.loadAnimation(t)}));!function(e,t,n){null!==e&&n.addEventListener("config_ready",(function(){e.set(t,n)}))}(this.animationCache,t,o),i.emit(o),n.addEventListeners(r,o)}}]),e}()).\u0275fac=function(e){return new(e||p)(i.dc(i.E),i.dc(i.G),i.dc(_),i.dc(C))},p.\u0275prov=i.Pb({token:p,factory:p.\u0275fac}),p),S=((f=function(){function e(t,n){_classCallCheck(this,e),this.platformId=t,this.animationLoader=n,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=new i.p,this.complete=new i.p,this.loopComplete=new i.p,this.enterFrame=new i.p,this.segmentStart=new i.p,this.configReady=new i.p,this.dataReady=new i.p,this.domLoaded=new i.p,this.destroy=new i.p,this.error=new i.p,this.destroy$=new s.a}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"loadAnimation",value:function(e,t,n,i){!Object(r.M)(this.platformId)&&e.options&&(n.destroyAnimation(),this.animationLoader.resolveLoaderAndLoadAnimation(e.options.currentValue,t,n,this.animationCreated,i,this.destroy$))}}]),e}()).\u0275fac=function(e){return new(e||f)(i.Tb(i.G),i.Tb(k))},f.\u0275dir=i.Ob({type:f,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}}),f),O=function(){function e(){_classCallCheck(this,e),this.cache=new Map}return _createClass(e,[{key:"transformOptions",value:function(e){var t=e.path;return t&&this.cache.has(t)&&(delete e.path,e.animationData=this.cache.get(t)),e}},{key:"set",value:function(e,t){e.animationData||this.cache.set(e.path,t.animationData)}}],[{key:"create",value:function(t){return t.useCache?new e:null}}]),e}(),T=((b=function(){function e(t,n){_classCallCheck(this,e),this.ngZone=t,this.platformId=n,this.eventsMap={complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"config_ready",dataReady:"data_ready",domLoaded:"DOMLoaded",destroy:"destroy",error:"error"},this.animationItem=null}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.destroyAnimation()}},{key:"addEventListeners",value:function(e,t){var n=this;this.animationItem=t,this.ngZone.runOutsideAngular((function(){return n.addEventListenersToObservedEventEmitters(e)}))}},{key:"destroyAnimation",value:function(){Object(r.M)(this.platformId)||null===this.animationItem||(this.animationItem.destroy(),this.animationItem=null)}},{key:"addEventListenersToObservedEventEmitters",value:function(e){var t,n=this,r=_createForOfIteratorHelper(function(e,t){return Object.keys(e).map((function(t){return[t,e[t]]})).filter((function(e){var n=_slicedToArray(e,2),r=n[0],o=n[1];return o instanceof i.p&&o.observers.length>0&&t.hasOwnProperty(r)})).map((function(e){var n=_slicedToArray(e,2),i=n[0];return{eventEmitter:n[1],name:t[i]}}))}(e,this.eventsMap));try{var o=function(){var e=t.value,i=e.name,r=e.eventEmitter;n.animationItem.addEventListener(i,(function(e){r.emit(e)}))};for(r.s();!(t=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}}}]),e}()).\u0275fac=function(e){return new(e||b)(i.dc(i.E),i.dc(i.G))},b.\u0275prov=i.Pb({token:b,factory:b.\u0275fac}),b),w=((m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,o)).host=i,a.eventsFacade=r,a}return _createClass(n,[{key:"ngOnChanges",value:function(e){_get(_getPrototypeOf(n.prototype),"loadAnimation",this).call(this,e,this.host.nativeElement,this.eventsFacade,this)}}]),n}(S)).\u0275fac=function(e){return new(e||m)(i.Tb(i.G),i.Tb(i.n,2),i.Tb(T,2),i.Tb(k))},m.\u0275dir=i.Ob({type:m,selectors:[["","lottie",""]],features:[i.Gb([T]),i.Eb,i.Fb]}),m),A=((v=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).eventsFacade=i,o.width=null,o.height=null,o.container=null,o}return _createClass(n,[{key:"ngOnChanges",value:function(e){_get(_getPrototypeOf(n.prototype),"loadAnimation",this).call(this,e,this.container.nativeElement,this.eventsFacade,this)}}]),n}(S)).\u0275fac=function(e){return new(e||v)(i.Tb(i.G),i.Tb(T,2),i.Tb(k))},v.\u0275cmp=i.Nb({type:v,selectors:[["ng-lottie"]],viewQuery:function(e,t){var n;1&e&&i.Nc(y,!0),2&e&&i.Dc(n=i.ic())&&(t.container=n.first)},inputs:{width:"width",height:"height"},features:[i.Gb([T]),i.Eb,i.Fb],decls:2,vars:6,consts:[[3,"ngStyle","ngClass"],["container",""]],template:function(e,t){1&e&&i.Ub(0,"div",0,1),2&e&&(i.Pc("width",t.width||"100%")("height",t.height||"100%"),i.sc("ngStyle",t.styles)("ngClass",t.containerClass))},directives:[r.x,r.r],encapsulation:2,changeDetection:0}),v),E=((g=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[k,{provide:_,useValue:t},{provide:C,useFactory:O.create,deps:[_]}]}}}]),e}()).\u0275mod=i.Rb({type:g}),g.\u0275inj=i.Qb({factory:function(e){return new(e||g)},imports:[[r.c]]}),g)},DSRE:function(e,t,n){(function(e){var i=n("Kz5y"),r=n("B8du"),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?i.Buffer:void 0;e.exports=(s?s.isBuffer:void 0)||r}).call(this,n("2pl3")(e))},DfZB:function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},DflE:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("mrSG"),r=n("fXoL"),o=n("G/yK"),a=function(){var e=function(){function e(t){_classCallCheck(this,e),this.flightStationSvc=t,this.prevCodeValue="",this.stationName=""}return _createClass(e,[{key:"transform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long";return e||"string"==typeof e?(this.prevCodeValue===e||(this.prevCodeValue=e,this.stationName=e,this.getStationName(e,t)),this.stationName):this.stationName}},{key:"getStationName",value:function(e,t){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.flightStationSvc.ready;case 2:i=this.flightStationSvc.getStation(e),this.stationName="support"!==t?i?"short"===t&&i.stationNameShort?i.stationNameShort:i.name:e:i&&(null==i?void 0:i.supportText)?i.supportText:"";case 4:case"end":return n.stop()}}),n,this)})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Tb(o.a))},e.\u0275pipe=r.Sb({name:"flightStationName",type:e,pure:!1}),e}()},Dvum:function(e,t,n){var i,r,o;!function(a,s){"use strict";e.exports?e.exports=s(n("wd/R")):(r=[n("wd/R")],void 0===(o="function"==typeof(i=s)?i.apply(t,r):i)||(e.exports=o))}(0,(function(e){"use strict";void 0===e.version&&e.default&&(e=e.default);var t,n={},i={},r={},o={},a={};e&&"string"==typeof e.version||E("Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/");var s=e.version.split("."),c=+s[0],l=+s[1];function u(e){return e>96?e-87:e>64?e-29:e-48}function d(e){var t=0,n=e.split("."),i=n[0],r=n[1]||"",o=1,a=0,s=1;for(45===e.charCodeAt(0)&&(t=1,s=-1);t<i.length;t++)a=60*a+u(i.charCodeAt(t));for(t=0;t<r.length;t++)o/=60,a+=u(r.charCodeAt(t))*o;return a*s}function h(e){for(var t=0;t<e.length;t++)e[t]=d(e[t])}function f(e,t){var n,i=[];for(n=0;n<t.length;n++)i[n]=e[t[n]];return i}function p(e){var t=e.split("|"),n=t[2].split(" "),i=t[3].split(""),r=t[4].split(" ");return h(n),h(i),h(r),function(e,t){for(var n=0;n<t;n++)e[n]=Math.round((e[n-1]||0)+6e4*e[n]);e[t-1]=1/0}(r,i.length),{name:t[0],abbrs:f(t[1].split(" "),i),offsets:f(n,i),untils:r,population:0|t[5]}}function g(e){e&&this._set(p(e))}function v(e,t){this.name=e,this.zones=t}function m(e){var t=e.toTimeString(),n=t.match(/\([a-z ]+\)/i);"GMT"===(n=n&&n[0]?(n=n[0].match(/[A-Z]/g))?n.join(""):void 0:(n=t.match(/[A-Z]{3,5}/g))?n[0]:void 0)&&(n=void 0),this.at=+e,this.abbr=n,this.offset=e.getTimezoneOffset()}function b(e){this.zone=e,this.offsetScore=0,this.abbrScore=0}function y(e,t){for(var n,i;i=6e4*((t.at-e.at)/12e4|0);)(n=new m(new Date(e.at+i))).offset===e.offset?e=n:t=n;return e}function _(e,t){return e.offsetScore!==t.offsetScore?e.offsetScore-t.offsetScore:e.abbrScore!==t.abbrScore?e.abbrScore-t.abbrScore:e.zone.population!==t.zone.population?t.zone.population-e.zone.population:t.zone.name.localeCompare(e.zone.name)}function C(e,t){var n,i;for(h(t),n=0;n<t.length;n++)a[i=t[n]]=a[i]||{},a[i][e]=!0}function k(e){var t,n,i,r=e.length,s={},c=[];for(t=0;t<r;t++)for(n in i=a[e[t].offset]||{})i.hasOwnProperty(n)&&(s[n]=!0);for(t in s)s.hasOwnProperty(t)&&c.push(o[t]);return c}function S(e){return(e||"").toLowerCase().replace(/\//g,"_")}function O(e){var t,i,r,a;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)a=S(i=(r=e[t].split("|"))[0]),n[a]=e[t],o[a]=i,C(a,r[2].split(" "))}function T(e,t){e=S(e);var r,a=n[e];return a instanceof g?a:"string"==typeof a?(a=new g(a),n[e]=a,a):i[e]&&t!==T&&(r=T(i[e],T))?((a=n[e]=new g)._set(r),a.name=o[e],a):null}function w(e){var t,n,r,a;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)r=S((n=e[t].split("|"))[0]),a=S(n[1]),i[r]=a,o[r]=n[0],i[a]=r,o[a]=n[1]}function A(e){return!(!e._a||void 0!==e._tzm||"X"===e._f||"x"===e._f)}function E(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function P(t){var n=Array.prototype.slice.call(arguments,0,-1),i=arguments[arguments.length-1],r=T(i),o=e.utc.apply(null,n);return r&&!e.isMoment(t)&&A(o)&&o.add(r.parse(o),"minutes"),o.tz(i),o}(c<2||2===c&&l<6)&&E("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),g.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets,this.population=e.population},_index:function(e){var t,n=+e,i=this.untils;for(t=0;t<i.length;t++)if(n<i[t])return t},countries:function(){var e=this.name;return Object.keys(r).filter((function(t){return-1!==r[t].zones.indexOf(e)}))},parse:function(e){var t,n,i,r,o=+e,a=this.offsets,s=this.untils,c=s.length-1;for(r=0;r<c;r++)if(i=a[r?r-1:r],(t=a[r])<(n=a[r+1])&&P.moveAmbiguousForward?t=n:t>i&&P.moveInvalidForward&&(t=i),o<s[r]-6e4*t)return a[r];return a[c]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return E("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(e)]},utcOffset:function(e){return this.offsets[this._index(e)]}},b.prototype.scoreOffsetAt=function(e){this.offsetScore+=Math.abs(this.zone.utcOffset(e.at)-e.offset),this.zone.abbr(e.at).replace(/[^A-Z]/g,"")!==e.abbr&&this.abbrScore++},P.version="0.5.43",P.dataVersion="",P._zones=n,P._links=i,P._names=o,P._countries=r,P.add=O,P.link=w,P.load=function(e){O(e.zones),w(e.links),function(e){var t,n,i,o;if(e&&e.length)for(t=0;t<e.length;t++)n=(o=e[t].split("|"))[0].toUpperCase(),i=o[1].split(" "),r[n]=new v(n,i)}(e.countries),P.dataVersion=e.version},P.zone=T,P.zoneExists=function e(t){return e.didShowError||(e.didShowError=!0,E("moment.tz.zoneExists('"+t+"') has been deprecated in favor of !moment.tz.zone('"+t+"')")),!!T(t)},P.guess=function(e){return t&&!e||(t=function(){try{var e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e&&e.length>3){var t=o[S(e)];if(t)return t;E("Moment Timezone found "+e+" from the Intl api, but did not have that data loaded.")}}catch(u){}var n,i,r,a=function(){var e,t,n,i=(new Date).getFullYear()-2,r=new m(new Date(i,0,1)),o=[r];for(n=1;n<48;n++)(t=new m(new Date(i,n,1))).offset!==r.offset&&(e=y(r,t),o.push(e),o.push(new m(new Date(e.at+6e4)))),r=t;for(n=0;n<4;n++)o.push(new m(new Date(i+n,0,1))),o.push(new m(new Date(i+n,6,1)));return o}(),s=a.length,c=k(a),l=[];for(i=0;i<c.length;i++){for(n=new b(T(c[i]),s),r=0;r<s;r++)n.scoreOffsetAt(a[r]);l.push(n)}return l.sort(_),l.length>0?l[0].zone.name:void 0}()),t},P.names=function(){var e,t=[];for(e in o)o.hasOwnProperty(e)&&(n[e]||n[i[e]])&&o[e]&&t.push(o[e]);return t.sort()},P.Zone=g,P.unpack=p,P.unpackBase60=d,P.needsOffset=A,P.moveInvalidForward=!0,P.moveAmbiguousForward=!1,P.countries=function(){return Object.keys(r)},P.zonesForCountry=function(e,t){var n;if(n=(n=e).toUpperCase(),!(e=r[n]||null))return null;var i=e.zones.sort();return t?i.map((function(e){return{name:e,offset:T(e).utcOffset(new Date)}})):i};var M,x=e.fn;function D(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}function I(e){return function(){return this._z=null,e.apply(this,arguments)}}e.tz=P,e.defaultZone=null,e.updateOffset=function(t,n){var i,r=e.defaultZone;if(void 0===t._z&&(r&&A(t)&&!t._isUTC&&(t._d=e.utc(t._a)._d,t.utc().add(r.parse(t),"minutes")),t._z=r),t._z)if(i=t._z.utcOffset(t),Math.abs(i)<16&&(i/=60),void 0!==t.utcOffset){var o=t._z;t.utcOffset(-i,n),t._z=o}else t.zone(i,n)},x.tz=function(t,n){if(t){if("string"!=typeof t)throw new Error("Time zone name must be a string, got "+t+" ["+typeof t+"]");return this._z=T(t),this._z?e.updateOffset(this,n):E("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this}if(this._z)return this._z.name},x.zoneName=D(x.zoneName),x.zoneAbbr=D(x.zoneAbbr),x.utc=I(x.utc),x.local=I(x.local),x.utcOffset=(M=x.utcOffset,function(){return arguments.length>0&&(this._z=null),M.apply(this,arguments)}),e.tz.setDefault=function(t){return(c<2||2===c&&l<9)&&E("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?T(t):null,e};var L=e.momentProperties;return"[object Array]"===Object.prototype.toString.call(L)?(L.push("_z"),L.push("_a")):L&&(L._z=null),e}))},"Dw+G":function(e,t,n){var i=n("juv8"),r=n("mTTR");e.exports=function(e,t){return e&&i(t,r(t),e)}},"Dz+M":function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.Action=function(e){function t(t,n){return e.call(this)||this}return r(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n("zB/H").Subscription)},E2jh:function(e,t,n){var i,r=n("2gN3"),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!o&&o in e}},E50d:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("mrSG"),r=n("wd/R"),o=n("RJ73"),a=n("b3gp"),s=n("AytR"),c=n("uYuu"),l=n("d/Sv"),u=n("9yTC"),d=n("PxKc"),h=n("bEA1"),f=n("fXoL"),p=n("G/yK"),g=n("kh7C"),v=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.flightStationsSvc=t,this.utilsSvc=n,this.journeyRegex=/^[A-Z]{3}\_[A-Z]{3}\_(2\d{3}(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01]))(\_\d{3,4}(\-\d{3,4})?)?$/g,this.itineraryCodeRegex=new RegExp("^("+this.journeyRegex.source.replace("^","").replace("$","")+"(.)?)+$","g"),this.passengerRegex=/^([ACI]\d(\_)?){1,3}$/g,this.alternateStationsRegex=/^(?:[01]{2})+$/,this.passengerMax=9}return _createClass(e,[{key:"parseFlightItineraryCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,r,o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=13;break}if(this.itineraryCodeRegex.lastIndex=0,!this.itineraryCodeRegex.test(e)){n.next=12;break}return i=e.split(".").filter((function(e){return!!e})),r=[],i.forEach((function(e){var t=o.parseFlightAvailabilityJourney(e);t&&r.push(t)})),n.next=6,this.validateJourneyStations(r);case 6:if(!n.sent){n.next=10;break}n.t0=(t&&this.changeDates(r),r),n.next=11;break;case 10:n.t0=[];case 11:return n.abrupt("return",n.t0);case 12:return n.abrupt("return",(s.g.production||console.error("ItineraryCode Parse Error: Evaluated string is not in the format: "+this.itineraryCodeRegex.source),[]));case 13:return n.abrupt("return",[]);case 14:case"end":return n.stop()}}),n,this)})))}},{key:"parseFlightAvailabilityJourney",value:function(e){if(this.journeyRegex.lastIndex=0,this.journeyRegex.test(e)){var t=e.split("_",4).filter((function(e){return!!e})),n=r(t[2],"YYYYMMDD");if(n.isValid()){var i={origin:{code:t[0],type:o.i.AIRPORT},destination:{code:t[1],type:o.i.AIRPORT},date:n};return t.length>3&&(i.flightNo=t[3]),i}}}},{key:"validateJourneyStations",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.flightStationsSvc.ready;case 2:i=_createForOfIteratorHelper(e),n.prev=3,i.s();case 5:if((o=i.n()).done){n.next=13;break}if(a=o.value,this.flightStationsSvc.isValidStation(a.origin.code)&&this.flightStationsSvc.isValidStation(a.destination.code)){n.next=9;break}return n.abrupt("return",!1);case 9:if(!t||!r().isAfter(a.date)){n.next=11;break}return n.abrupt("return",!1);case 11:n.next=5;break;case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(3),i.e(n.t0);case 18:return n.prev=18,i.f(),n.finish(18);case 21:return n.abrupt("return",!0);case 22:case"end":return n.stop()}}),n,this,[[3,15,18,21]])})))}},{key:"changeDates",value:function(e){var t,n=e.length>1?null===(t=e[0])||void 0===t?void 0:t.date:void 0;e.forEach((function(e){if(r(e.date).isBefore(r(),"days"))if(n){var t=r.duration(r(e.date).diff(n)).asDays();e.date=r().add(t,"days")}else e.date=r()}))}},{key:"parseBookingPassengers",value:function(e){if(e){if(this.passengerRegex.lastIndex=0,this.passengerRegex.test(e)){var t=e.split("_").filter((function(e){return!!e})),n=new a.a;return t.forEach((function(e){var t=e.substring(0,1),i=0;try{i=parseInt(e.substring(1),10)}catch(r){i=0}switch(t){case"A":n.adults=i;break;case"C":n.kids=i;break;case"I":n.babies=i}})),this.validateBookerPassengers(n),n}s.g.production||console.error("BookingPassengers Parse Error: Evaluated string is not in the format: "+this.passengerRegex.source);var i=new a.a;return i.adults=1,i}}},{key:"validateBookerPassengers",value:function(e){e&&e instanceof a.a&&(e.adults<0&&(e.adults=0),e.adults>this.passengerMax&&(e.adults=this.passengerMax),e.babies>e.adults&&(e.babies=e.adults),e.adults+e.kids>this.passengerMax)&&(e.kids=this.passengerMax-e.adults)}},{key:"getFlightType",value:function(e){if(e.itineraryCode&&Array.isArray(e.itineraryCode)&&e.itineraryCode.length>0)switch(e.itineraryCode.length){case 1:return l.a.ONE_WAY;case 2:return this.getIsRoundTrip(e)?l.a.ROUND_TRIP:l.a.MULTI_CITY;default:return l.a.MULTI_CITY}}},{key:"getIsRoundTrip",value:function(e){return!(!e.itineraryCode||!Array.isArray(e.itineraryCode)||2!==e.itineraryCode.length)&&e.itineraryCode[0].origin.code===e.itineraryCode[1].destination.code&&e.itineraryCode[1].origin.code===e.itineraryCode[0].destination.code}},{key:"getBasketBookingParams",value:function(e){var t,n,o,l,f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var p,g;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(e&&e.travel&&e.travel.journeys&&e.travel.journeys.length>0)){i.next=14;break}return(p=new c.a).itineraryCode=new Array,p.originalJourneys=[],g=[],(null===(t=null==e?void 0:e.customFields)||void 0===t?void 0:t.originalJourneyKeys.length)&&e.flowType===d.b.Manage?(p.originalJourneys=null===(n=null==e?void 0:e.customFields)||void 0===n?void 0:n.originalJourneyKeys,g=(null===(o=e.customFields)||void 0===o?void 0:o.availabilitySearchType)?e.travel.journeys.filter((function(t){var n,i;return null===(i=null===(n=null==e?void 0:e.customFields)||void 0===n?void 0:n.originalJourneyKeys)||void 0===i?void 0:i.includes(t.journeyKey)})):e.travel.journeys.filter((function(t){var n,i;return null===(i=null===(n=null==e?void 0:e.customFields)||void 0===n?void 0:n.availabilityJourneyKeys)||void 0===i?void 0:i.includes(t.journeyKey)})),(null===(l=e.customFields)||void 0===l?void 0:l.availabilitySearchType)&&(e.customFields.availabilitySearchType===h.a.FlyAheadCDMX?(p.mmbSearchType=h.a.FlyAhead,p.isFlyAheadCDMXSearch=!0):p.mmbSearchType=e.customFields.availabilitySearchType)):g=e.travel.journeys,g.forEach((function(e){var t={origin:{code:e.origin.code,type:e.origin.type},destination:{code:e.destination.code,type:e.destination.type},date:r(e.departureDate)};p.itineraryCode.push(t)})),i.next=8,this.validateJourneyStations(p.itineraryCode,f);case 8:if(!i.sent){i.next=12;break}i.t0=(p.travelType=this.getFlightType(p),p.passengers=new a.a,e.travel.passengers&&e.travel.passengers.length>0?(e.travel.passengers.forEach((function(e){switch(e.passengerTypeCode){case u.g.ADULT:p.passengers.adults++;break;case u.g.CHILD:p.passengers.kids++;break;case u.g.BABY:p.passengers.babies++;break;default:p.passengers.adults++}})),this.validateBookerPassengers(p.passengers)):(p.passengers.adults=1,p.passengers.kids=0,p.passengers.babies=0),p.doters="Points"===(null==e?void 0:e.bookingType),p),i.next=13;break;case 12:i.t0=void(s.g.production||console.error("::BasketBookingParams::","Error, one or more journey stations are invalid!"));case 13:return i.abrupt("return",i.t0);case 14:case"end":return i.stop()}}),i,this)})))}},{key:"addMoreJourneyInfoToQueryParams",value:function(e,t){var n=this;Array.isArray(null==t?void 0:t.journeys)&&t.journeys.forEach((function(i,r){var o="";i.segments.forEach((function(e,t){0!==t&&(o+="-"),o+=e.operatingCode})),e.itineraryCode[r].flightNo=o,e.itineraryCode[r].fare=n.utilsSvc.getFareFromBooking(t)}))}},{key:"createFlightSearchParams",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i="",r=this.createFlightAvailabilityJourneyArray(e,n);r.forEach((function(e,r){0!==r&&(i+="."),i+=t.journeyToString(e,n)}));var o=this.passengersToString(e),a={itineraryCode:i,passengers:o};return e.promoCode&&(a.promoCode=e.promoCode),n&&(a.modality=r[0].fare),e.doters&&(a.bookingType="Points"),e.alternateStations&&this.validateAlternateStationsParam(e.alternateStations)&&(a.alternateStations=e.alternateStations),a}},{key:"createFlightAvailabilityJourneyArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.itineraryCode.map((function(e){var n={origin:{code:e.origin.code},destination:{code:e.destination.code},date:e.date};return t&&(n.flightNo=e.flightNo,n.fare=e.fare),n}))}},{key:"journeyToString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n="".concat(e.origin.code,"_").concat(e.destination.code,"_");return n+="string"==typeof e.date?r(e.date).format("YYYYMMDD"):e.date.format("YYYYMMDD"),t&&(null==e?void 0:e.flightNo)&&(n+="_"+e.flightNo),n}return""}},{key:"passengersToString",value:function(e){var t="";return(null==e?void 0:e.passengers)?(t+="A"+e.passengers.adults,e.passengers.kids>0&&(t+="_C"+e.passengers.kids),e.passengers.babies>0&&(t+="_I"+e.passengers.babies)):(s.g.production||console.error("::BookingParamsService::passengersToString::",'No valid passenger data was passed to method! Defaulting to "A1"!'),t="A1"),t}},{key:"getParamsFromFlightLowFare",value:function(e,t){if(e&&e.lowFare&&e.destination&&e.origin){var n={itineraryCode:this.generateItineraryFromFlightLowFare(e,t),passengers:new a.a,travelType:l.a.ROUND_TRIP};return n.passengers.adults=1,e.lowFare.discountCode&&(n.promoCode=e.lowFare.discountCode),this.createFlightSearchParams(n)}}},{key:"generateItineraryFromFlightLowFare",value:function(e,t){var n=r(e.lowFare.departureDate)||r().add(2,"days"),i=n.clone().add(t,"days");return[{origin:{code:e.origin,type:o.i.AIRPORT},destination:{code:e.destination,type:o.i.AIRPORT},date:n},{origin:{code:e.destination,type:o.i.AIRPORT},destination:{code:e.origin,type:o.i.AIRPORT},date:i}]}},{key:"validateAlternateStationsParam",value:function(e){return this.alternateStationsRegex.test(e)||"true"===e}},{key:"generateAlternateStationsParam",value:function(e,t){return"true"===e?"".padEnd(2*t,"1"):e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.dc(p.a),f.dc(g.a))},e.\u0275prov=f.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},EEGq:function(e,t,n){var i=n("juv8"),r=n("oCl/");e.exports=function(e,t){return i(e,r(e),t)}},EY2u:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n("HDdC"),r=new i.a((function(e){return e.complete()}));function o(e){return e?function(e){return new i.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):r}},EcEN:function(e,t,n){var i=n("xDdU"),r=n("xk4V"),o=r;o.v1=i,o.v4=r,e.exports=o},Elrx:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var i=n("fXoL"),r={code:"MXN",symbol:"MX$",exchangeRates:[{baseCurrency:"MXN",rate:1}],cultureCode:"en-US"},o=new i.t(void 0),a=new i.t(void 0)},EpBk:function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},ExA7:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},"FE/U":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n("ofXK"),r=n("fXoL"),o=n("2Vo4"),a=n("lJxs"),s=n("6oyg"),c=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.platformId=t,this.document=n,this.locale=i,this.currentChannel=null,this.$currentChannel=new o.a(this.channelVal),this.currentChannel=this.channelVal}return _createClass(e,[{key:"setChannelValue",value:function(t){sessionStorage.setItem(e.CHANNEL_ITEM_ID,t),this.$currentChannel.next(this.channelVal),this.currentChannel=this.channelVal}},{key:"getFdlLinkForApp",value:function(e,t){var n,i;if("vivaapp"===this.currentChannel){var r={pnr:null==t?void 0:t.pnr,lastName:null===(i=null===(n=null==t?void 0:t.passengers)||void 0===n?void 0:n[0])||void 0===i?void 0:i.lastName};if(r.pnr&&r.lastName){var o="?pnr=".concat(encodeURIComponent(r.pnr),"&lastName=").concat(encodeURIComponent(r.lastName)),a="addTrip"+o,c="".concat(this.document.location.origin,"/").concat(this.locale.toLowerCase(),"/");switch(e){case l.confirmation:c+="book/confirmation"+o;break;case l.mmb_landing:c+="manage/trip-details"+o;break;case l.checkin_landing:c+="check-in"+o}return s.a.generateDynamicLinkForApp(a,c)}}return""}},{key:"channelVal",get:function(){var t=null;return Object(i.L)(this.platformId)&&(t=sessionStorage.getItem(e.CHANNEL_ITEM_ID)),t}},{key:"currentChannel$",get:function(){return this.$currentChannel.asObservable()}},{key:"isAppChannel$",get:function(){return this.currentChannel$.pipe(Object(a.a)((function(e){return"vivaapp"===e})))}},{key:"_currentChannel",get:function(){return this.currentChannel}}]),e}();return e.CHANNEL_ITEM_ID="viva-medium-channel",e.\u0275fac=function(t){return new(t||e)(r.dc(r.G),r.dc(i.e),r.dc(r.y))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),l=function(e){return e.confirmation="confirmation",e.mmb_landing="mmb",e.checkin_landing="checkin",e.homepage="home",e}({})},FTCy:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var i=n("ofXK"),r=n("fXoL"),o=n("b3gp"),a=n("quSY"),s=n("PqYM"),c=n("1AID"),l=n("RbsG"),u=n("VXQe"),d=n("TUgU"),h=n("qcmc"),f=n("BifP"),p=n("imvL"),g=n("39vh"),v=n("9O1C"),m=n("VXoX");function b(e,t){if(1&e&&(r.Xb(0),r.Sc(1),r.kc(2,"slice"),r.Wb()),2&e){var n=t.ngIf;r.Hb(1),r.Uc(" ",n.length>28?r.nc(2,1,n,0,28)+"...":n," ")}}var y=function(e){return{active:e}};function _(e,t){if(1&e){var n=r.ac();r.Zb(0,"button",5),r.hc("click",(function(){r.Hc(n);var e=r.jc();return e.togglePopup(!e.showPopup)})),r.Ub(1,"i",6),r.Zb(2,"label",7),r.Sc(3),r.kc(4,"cmsTranslate"),r.Yb(),r.Zb(5,"p",8),r.Qc(6,b,3,5,"ng-container",9),r.kc(7,"i18nPlural"),r.kc(8,"i18nPlural"),r.kc(9,"i18nPlural"),r.Yb(),r.Ub(10,"i",10),r.Yb()}if(2&e){var i=r.jc();r.sc("ngClass",r.vc(15,y,i.showPopup)),r.Hb(3),r.Uc(" ",r.lc(4,4,"GLOBAL_LABEL_PASSENGERS")," "),r.Hb(3),r.sc("ngIf",r.mc(7,6,i.passengers.adults,i.passengersLabels[i.passengerTypes.ADULTS])+(i.passengers.adults&&i.passengers.kids?", ":"")+r.mc(8,9,i.passengers.kids,i.passengersLabels[i.passengerTypes.KIDS])+r.mc(9,12,i.passengers.babies,i.passengersLabels[i.passengerTypes.BABIES])),r.Hb(4),r.sc("ngClass",r.vc(17,y,i.showPopup))}}function C(e,t){1&e&&(r.Xb(0),r.Sc(1),r.kc(2,"cmsTranslate"),r.Wb()),2&e&&(r.Hb(1),r.Uc(" ",r.lc(2,1,"GLOBAL_LABEL_PASSENGERS")," "))}var k=function(e,t){return{active:e,simple:t}};function S(e,t){if(1&e){var n=r.ac();r.Zb(0,"button",11),r.hc("click",(function(){r.Hc(n);var e=r.jc();return e.togglePopup(!e.showPopup)})),r.Zb(1,"p",12),r.Qc(2,C,3,3,"ng-container",9),r.Sc(3),r.kc(4,"i18nPlural"),r.kc(5,"i18nPlural"),r.kc(6,"i18nPlural"),r.Yb(),r.Ub(7,"i",10),r.Yb()}if(2&e){var i=r.jc();r.Hb(2),r.sc("ngIf",!i.totalPassengers),r.Hb(1),r.Xc(" ",r.mc(4,6,i.passengers.adults,i.passengersLabels[i.passengerTypes.ADULTS])," ",i.passengers.adults&&i.passengers.kids?", ":""," ",r.mc(5,9,i.passengers.kids,i.passengersLabels[i.passengerTypes.KIDS])," ",r.mc(6,12,i.passengers.babies,i.passengersLabels[i.passengerTypes.BABIES])," "),r.Hb(4),r.sc("ngClass",r.wc(15,k,i.showPopup,i.simpleStyle))}}function O(e,t){1&e&&(r.Zb(0,"div",32),r.Zb(1,"p",33),r.Ub(2,"i",34),r.Sc(3),r.kc(4,"cmsTranslate"),r.Yb(),r.Yb()),2&e&&(r.Hb(3),r.Uc(" ",r.lc(4,1,"ALERT_LABEL_BABIES")," "))}function T(e,t){if(1&e&&(r.Xb(0),r.Zb(1,"div",35),r.Ub(2,"em",36,37),r.Yb(),r.Wb()),2&e){r.jc(2);var n=r.Ec(6);r.Hb(2),r.sc("tippy",n)}}function w(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",18),r.Zb(1,"div"),r.Zb(2,"p",19),r.Sc(3),r.kc(4,"cmsTranslate"),r.Yb(),r.Zb(5,"small",20),r.Sc(6),r.kc(7,"cmsTranslate"),r.Yb(),r.Yb(),r.Zb(8,"div",21),r.Zb(9,"button",22),r.hc("click",(function(){r.Hc(n);var e=r.jc(2);return e.removePassengers(e.passengerTypes.BABIES)})),r.Ub(10,"i",23),r.Yb(),r.Zb(11,"span",24),r.Sc(12),r.Yb(),r.Zb(13,"button",22),r.hc("click",(function(){r.Hc(n);var e=r.jc(2);return e.addPassengers(e.passengerTypes.BABIES)})),r.Ub(14,"i",25),r.Yb(),r.Yb(),r.Yb()}if(2&e){var i=r.jc(2);r.Hb(3),r.Uc(" ",r.lc(4,5,"GLOBAL_LABEL_INFANTS")," "),r.Hb(3),r.Uc(" ",r.lc(7,7,"GLOBAL_LABEL_INFANTAGE")," "),r.Hb(3),r.sc("disabled",i.passengers.babies<1),r.Hb(3),r.Uc(" ",i.passengers.babies," "),r.Hb(1),r.sc("disabled",i.busBookingBehavior&&i.totalPassengers===i.MAX_PASSENGERS)}}function A(e,t){if(1&e&&(r.Zb(0,"app-call-to-action",38),r.Sc(1),r.kc(2,"cmsTranslate"),r.Yb()),2&e){var n=r.jc(2);r.sc("callToAction",n.ctaGroups),r.Hb(1),r.Uc(" ",r.lc(2,2,"GLOBAL_ACTION_GROUPS")," ")}}var E=function(e,t,n,i){return{"active-alert":e,"close-animation":t,"right-position-desk":n,"right-position-res":i}};function P(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",13),r.Zb(1,"div",14),r.hc("click",(function(){return r.Hc(n),r.jc().togglePopup(!1)})),r.Yb(),r.Zb(2,"div",15),r.Qc(3,O,5,3,"div",16),r.Yb(),r.Zb(4,"div",17),r.Zb(5,"div",18),r.Zb(6,"div"),r.Zb(7,"p",19),r.Sc(8),r.kc(9,"cmsTranslate"),r.Yb(),r.Zb(10,"small",20),r.Sc(11),r.kc(12,"cmsTranslate"),r.Yb(),r.Yb(),r.Zb(13,"div",21),r.Zb(14,"button",22),r.hc("click",(function(){r.Hc(n);var e=r.jc();return e.removePassengers(e.passengerTypes.ADULTS)})),r.Ub(15,"i",23),r.Yb(),r.Zb(16,"span",24),r.Sc(17),r.Yb(),r.Zb(18,"button",22),r.hc("click",(function(){r.Hc(n);var e=r.jc();return e.addPassengers(e.passengerTypes.ADULTS)})),r.Ub(19,"i",25),r.Yb(),r.Yb(),r.Yb(),r.Zb(20,"div",18),r.Zb(21,"div"),r.Zb(22,"p",19),r.Sc(23),r.kc(24,"cmsTranslate"),r.Qc(25,T,4,1,"ng-container",9),r.Yb(),r.Zb(26,"small",20),r.Sc(27),r.kc(28,"cmsTranslate"),r.Yb(),r.Yb(),r.Zb(29,"div",21),r.Zb(30,"button",22),r.hc("click",(function(){r.Hc(n);var e=r.jc();return e.removePassengers(e.passengerTypes.KIDS)})),r.Ub(31,"i",23),r.Yb(),r.Zb(32,"span",24),r.Sc(33),r.Yb(),r.Zb(34,"button",22),r.hc("click",(function(){r.Hc(n);var e=r.jc();return e.addPassengers(e.passengerTypes.KIDS)})),r.Ub(35,"i",25),r.Yb(),r.Yb(),r.Yb(),r.Qc(36,w,15,9,"div",26),r.Qc(37,A,3,4,"app-call-to-action",27),r.Ub(38,"hr",28),r.Zb(39,"div",29),r.Zb(40,"button",30),r.hc("click",(function(){return r.Hc(n),r.jc().togglePopup(!1)})),r.Zb(41,"span",31),r.Sc(42),r.kc(43,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()}if(2&e){var i=r.jc();r.sc("ngClass",r.yc(26,E,i.showAlert,i.closeAnimation,i.rightPositionDesktop,i.rightPositionResponsive)),r.Hb(3),r.sc("ngIf",i.showAlert),r.Hb(5),r.Uc(" ",r.lc(9,16,"GLOBAL_LABEL_ADULTS")," "),r.Hb(3),r.Uc(" ",r.lc(12,18,i.busBookingBehavior?"BOOKER_LABEL_ADULTAGE-BUSES":"GLOBAL_LABEL_ADULTAGE")," "),r.Hb(3),r.sc("disabled",i.passengers.adults<=(i.minorTravelingAlone?0:1)||i.disabled),r.Hb(3),r.Uc(" ",i.passengers.adults," "),r.Hb(1),r.sc("disabled",i.busBookingBehavior&&i.totalPassengers===i.MAX_PASSENGERS),r.Hb(5),r.Uc(" ",r.lc(24,20,"GLOBAL_LABEL_CHILDREN")," "),r.Hb(2),r.sc("ngIf",i.minorTravelingAlone),r.Hb(2),r.Uc(" ",r.lc(28,22,i.busBookingBehavior?"BOOKER_LABEL_CHILDAGE-BUSES":"GLOBAL_LABEL_CHILDAGE")," "),r.Hb(3),r.sc("disabled",i.passengers.kids<1||i.disabled),r.Hb(3),r.Uc(" ",i.passengers.kids," "),r.Hb(1),r.sc("disabled",i.busBookingBehavior&&i.totalPassengers===i.MAX_PASSENGERS),r.Hb(2),r.sc("ngIf",i.showInfantRow),r.Hb(1),r.sc("ngIf",!i.busBookingBehavior),r.Hb(5),r.Uc(" ",r.lc(43,24,"GLOBAL_ACTION_READY")," ")}}function M(e,t){1&e&&(r.Zb(0,"div"),r.Sc(1),r.kc(2,"cmsTranslate"),r.Yb()),2&e&&(r.Hb(1),r.Uc(" ",r.lc(2,1,"BOOKER_TOOLTIP_UNACCOMPANIED-MINOR")," "))}var x=function(e){return{"ml-2":e}},D=function(){var e=function(){function e(t,n,i,s,c,l,u){var d;_classCallCheck(this,e),this.element=t,this.genericOverlayService=n,this.cmsTranslate=i,this.document=s,this.staticCtasSvc=c,this.cmsConfig=l,this.auth=u,this.showPopup=!1,this.showAlert=!1,this.MAX_PASSENGERS=9,this.passengerTypes=o.b,this.closeAnimation=!1,this.passengersLabels=(_defineProperty2(d={},o.b.ADULTS,{"=0":"","=1":"1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULT-COUNT"),other:"# "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULTS-COUNT")}),_defineProperty2(d,o.b.KIDS,{"=0":"","=1":"1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILD-COUNT"),other:"# "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILDREN-COUNT")}),_defineProperty2(d,o.b.BABIES,{"=0":"","=1":", 1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANT-COUNT"),other:", # "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANTS-COUNT")}),d),this.passengers={adults:1,kids:0,babies:0},this.simpleStyle=!1,this.busBookingBehavior=!1,this.rightPositionDesktop=!1,this.rightPositionResponsive=!1,this.disableMinorTravelingAlone=!1,this.passengersChange=new r.p,this.minorTravelingAlone=!1,this.showInfantRow=!0,this.onAccountSubscription=a.a.EMPTY,localStorage.setItem("passengers",JSON.stringify(this.passengers))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.staticCtasSvc.ready.then((function(){e.ctaGroups=e.staticCtasSvc.getCta("GLOBAL_ACTION_GROUPS"),e.URL_PASSENGERS_GROUP=e.ctaGroups.url})),this.minorTravelingAlone=!!this.cmsConfig.getBookingFeatureValue(c.a.MinorTravelingAlone)&&!this.busBookingBehavior&&!this.disableMinorTravelingAlone,this.disableMinorTravelingAlone&&(this.minorTravelingAlone=!1),this.MAX_PASSENGERS=this.busBookingBehavior?5:9,this.passengersChange.emit(),this.onAccountSubscription=this.auth.userAccountData$.subscribe((function(t){e.showInfantRow=!t||(null==t?void 0:t.accountType)!==l.k.Staff||e.cmsConfig.getSectionFeatureValue(c.b.GLOBAL,c.a.ShowInfantsInStaff)||!1}))}},{key:"ngOnChanges",value:function(e){e.disableMinorTravelingAlone&&(this.minorTravelingAlone=!!this.cmsConfig.getBookingFeatureValue(c.a.MinorTravelingAlone)&&!this.busBookingBehavior&&!this.disableMinorTravelingAlone)}},{key:"ngOnDestroy",value:function(){this.onAccountSubscription.closed||this.onAccountSubscription.unsubscribe()}},{key:"clickOutSide",value:function(e){!this.element.nativeElement.contains(e)&&this.showPopup&&(this.togglePopup(!1),this.showAlert=!1)}},{key:"togglePopup",value:function(e){var t=this,n=this.document.body.clientWidth;!e&&n<=575?(this.closeAnimation=!0,Object(s.a)(400).subscribe((function(){t.closeAnimation=!1,t.showPopup=e}))):Object(s.a)(0).subscribe((function(){t.showPopup=e})),n<=575&&(e?(this.document.body.style.overflow="hidden",this.genericOverlayService.showOverlay()):(this.document.body.style.overflow="auto",this.genericOverlayService.hideOverlay()))}},{key:"addPassengers",value:function(e){e===o.b.ADULTS||e===o.b.KIDS?this.passengers.adults+this.passengers.kids<this.MAX_PASSENGERS?this.passengers[e]++:window.open(this.URL_PASSENGERS_GROUP,"_blank"):this.passengers.babies<this.passengers.adults?this.passengers.babies++:this.showAlert=!0,localStorage.setItem("passengers",JSON.stringify(this.passengers)),this.passengersChange.emit()}},{key:"removePassengers",value:function(e){this.passengers[e]--,this.passengers.adults<this.passengers.babies&&(this.passengers.babies--,this.showAlert=!0),localStorage.setItem("passengers",JSON.stringify(this.passengers)),this.passengersChange.emit()}},{key:"disabled",get:function(){return this.minorTravelingAlone&&!this.passengers.adults&&this.passengers.kids<=1||!this.passengers.kids&&!this.passengers.adults}},{key:"totalPassengers",get:function(){return this.passengers.adults+this.passengers.kids+this.passengers.babies}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Tb(r.n),r.Tb(u.a),r.Tb(d.a),r.Tb(i.e),r.Tb(h.a),r.Tb(f.a),r.Tb(p.a))},e.\u0275cmp=r.Nb({type:e,selectors:[["app-flight-passengers"]],hostBindings:function(e,t){1&e&&r.hc("mousedown",(function(e){return t.clickOutSide(e.target)}),!1,r.Fc)},inputs:{passengers:"passengers",simpleStyle:"simpleStyle",busBookingBehavior:"busBookingBehavior",rightPositionDesktop:"rightPositionDesktop",rightPositionResponsive:"rightPositionResponsive",disableMinorTravelingAlone:"disableMinorTravelingAlone"},outputs:{passengersChange:"passengersChange"},features:[r.Fb],decls:7,vars:6,consts:[[1,"position-relative",3,"ngClass"],["class","flight-input w-100",3,"ngClass","click",4,"ngIf","ngIfElse"],["simple",""],["class","flight-passengers-popup",3,"ngClass",4,"ngIf"],["noAdultsTooltip",""],[1,"flight-input","w-100",3,"ngClass","click"],[1,"fas","fa-user","flight-input-icon"],[1,"flight-input-label"],[1,"flight-input-text"],[4,"ngIf"],[1,"fas","fa-caret-down","flight-input-arrow",3,"ngClass"],[1,"flight-input-simple","pb-0",3,"click"],[1,"title","light","my-0","mr-2"],[1,"flight-passengers-popup",3,"ngClass"],[1,"dropdown-close","w-100",3,"click"],[1,"container-alert"],["class","flight-passengers-alert p-3",4,"ngIf"],[1,"flight-passengers-wrapper"],[1,"flight-passengers-row"],[1,"title","my-0"],[1,"small-title","flight-passengers-small"],[1,"flight-passengers-control"],[1,"viva-btn","unit","small",3,"disabled","click"],[1,"fas","fa-minus","content"],[1,"title","my-0","mx-1","mx-md-2","text-center"],[1,"fas","fa-plus","content"],["class","flight-passengers-row",4,"ngIf"],["ctaClass","text-link simple d-block text-center my-2",3,"callToAction",4,"ngIf"],[1,"my-0"],[1,"d-flex","justify-content-end"],[1,"py-20","pl-20","pr-10","viva-btn","btn-link","title","d-inline-block","h-auto","my-0",3,"click"],[1,"title"],[1,"flight-passengers-alert","p-3"],[1,"title","m-0","text-center"],[1,"fas","fa-exclamation-triangle","fa-xs","mr-2"],[1,"tippy-container","d-inline"],[1,"far","fa-question-circle",3,"tippy"],["tooltip","tippy"],["ctaClass","text-link simple d-block text-center my-2",3,"callToAction"]],template:function(e,t){if(1&e&&(r.Zb(0,"div",0),r.Qc(1,_,11,19,"button",1),r.Qc(2,S,8,18,"ng-template",null,2,r.Rc),r.Qc(4,P,44,31,"div",3),r.Yb(),r.Qc(5,M,3,3,"ng-template",null,4,r.Rc)),2&e){var n=r.Ec(3);r.sc("ngClass",r.vc(4,x,t.simpleStyle)),r.Hb(1),r.sc("ngIf",!t.simpleStyle)("ngIfElse",n),r.Hb(3),r.sc("ngIf",t.showPopup)}},directives:[i.r,i.u,g.a,v.a],pipes:[m.a,i.j,i.F],styles:['.flight-input[_ngcontent-%COMP%]{background:var(--wh1);width:100%;height:60px;display:flex;justify-content:space-between;border-radius:10px;box-sizing:border-box;border:2px solid var(--wh1);position:relative;z-index:1;text-align:initial}.flight-input.active[_ngcontent-%COMP%], .flight-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--vg4)}.flight-input-icon[_ngcontent-%COMP%]{vertical-align:middle;color:var(--bg4);margin-right:10px;position:absolute;top:50%;left:20px;z-index:1;transform:translateY(-50%)}.flight-input-icon[_ngcontent-%COMP%]:after{content:"";display:inline-block;position:absolute;top:-5px;margin-left:20px;height:30px;width:1px;background-color:var(--gr20)}.flight-input-label[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:18px;color:var(--bg6);font-size:12px;line-height:16px;margin:10px auto auto 70px;color:rgba(var(--bg6-rgb),.5);pointer-events:none}.flight-input-label[_ngcontent-%COMP%], .flight-input-text[_ngcontent-%COMP%]{font-family:Axiforma,Arial;position:absolute;left:0;top:0}.flight-input-text[_ngcontent-%COMP%]{font-weight:700;font-size:16px;margin:26px auto auto 70px;line-height:24px;color:var(--bg6)}.flight-input-arrow[_ngcontent-%COMP%]{position:absolute;top:18px;right:20px;font-size:18px;color:var(--bg4)}.flight-input-arrow.simple[_ngcontent-%COMP%]{color:var(--wh1);position:inherit}.flight-input-arrow.active[_ngcontent-%COMP%]{color:var(--vg4);transform:rotate(180deg)}.flight-input-simple[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-bottom:2px;background:none;border:none}.flight-input-simple[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{line-height:17px}.flight-input-simple[_ngcontent-%COMP%]:focus{outline:none}.flight-input-simple[_ngcontent-%COMP%]:hover > .fas[_ngcontent-%COMP%]{color:var(--vg4)}@media screen and (max-width:720px){.flight-input-simple[_ngcontent-%COMP%]{padding:0}.flight-input-simple[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{font-size:14px}}.flight-passengers-popup[_ngcontent-%COMP%]{width:260px!important}@media screen and (max-width:991px){.flight-passengers-popup[_ngcontent-%COMP%]{width:100%!important}}@media screen and (min-width:991px){.flight-passengers-popup[_ngcontent-%COMP%], .flight-passengers-wrapper[_ngcontent-%COMP%]{min-width:250px!important}}.flight-passengers-popup[_ngcontent-%COMP%]{min-height:auto;min-width:250px;width:100%;overflow:hidden;z-index:2;position:absolute;left:0;top:calc(100% + 2px);border:none;border-radius:5px;background-color:var(--wh1);box-shadow:0 1px 5px 0 rgba(95,95,95,.07),0 0 50px 0 hsla(0,0%,55.3%,.07)}@media screen and (max-width:575px){.flight-passengers-popup.active-alert[_ngcontent-%COMP%]   .flight-passengers-wrapper[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}}.flight-passengers-popup.right-position-desk[_ngcontent-%COMP%]{left:auto;right:0}@media screen and (max-width:991px){.flight-passengers-popup.right-position-desk[_ngcontent-%COMP%]{left:0;right:auto}}@media screen and (max-width:991px){.flight-passengers-popup.right-position-res[_ngcontent-%COMP%]{left:auto;right:0}}.flight-passengers-wrapper[_ngcontent-%COMP%]{padding:30px 20px 15px}.flight-passengers-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 100px;align-items:center;margin-bottom:20px}.flight-passengers-small[_ngcontent-%COMP%]{opacity:.5}.flight-passengers-control[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;align-items:center}.flight-passengers-alert[_ngcontent-%COMP%]{background-color:rgba(var(--r2-rgb),.25)}@media screen and (max-width:575px){.flight-passengers-alert[_ngcontent-%COMP%]{position:relative}.flight-passengers-alert[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:var(--bg6);font-weight:400}}.flight-passengers-alert[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:var(--r4)}@media screen and (max-width:575px){.viva-btn.unit[_ngcontent-%COMP%]{width:30px!important;height:30px!important}}.viva-btn.unit[_ngcontent-%COMP%]:first-child{background-color:var(--vg4)}.viva-btn.unit[_ngcontent-%COMP%]:first-child > i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.viva-btn.unit[_ngcontent-%COMP%]:disabled{background-color:var(--gr20)}hr[_ngcontent-%COMP%]{margin-bottom:15px}@media screen and (max-width:575px){.container-alert[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:309px;border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-left-radius:0;border-bottom-right-radius:0;background-color:var(--wh1);-webkit-animation:fadeInUpBig .5s ease 0s normal forwards;animation:fadeInUpBig .5s ease 0s normal forwards}.flight-passengers-popup[_ngcontent-%COMP%]{min-height:-webkit-fill-available;height:100%;width:100%!important;position:fixed;top:0;z-index:10000;display:flex;background-color:rgba(0,0,0,.7)}.flight-passengers-popup[_ngcontent-%COMP%]   .flight-passengers-wrapper[_ngcontent-%COMP%]{width:100%;position:fixed;bottom:0;background-color:var(--wh1);border-top-left-radius:10px;border-top-right-radius:10px;z-index:10001;-webkit-animation:fadeInUpBig .5s ease 0s normal forwards;animation:fadeInUpBig .5s ease 0s normal forwards}.flight-passengers-popup[_ngcontent-%COMP%]   .dropdown-close[_ngcontent-%COMP%]{height:calc(100% - 307px)}.flight-passengers-popup[_ngcontent-%COMP%]   .close-animation[_ngcontent-%COMP%]{-webkit-animation:fadeOutDown .4s ease 0s normal forwards;animation:fadeOutDown .4s ease 0s normal forwards}}@-webkit-keyframes fadeInUpBig{0%{opacity:0;-webkit-transform:translateY(2000px)}to{opacity:1;-webkit-transform:translateY(0)}}@keyframes fadeInUpBig{0%{opacity:0;transform:translateY(2000px)}to{opacity:1;transform:translateY(0)}}@-webkit-keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translateY(0)}to{opacity:0;-webkit-transform:translateY(20px)}}@keyframes fadeOutDown{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(20px)}}']}),e}()},FTgq:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("XNiG"),r=n("LRne"),o=n("Cfvw"),a=n("lJxs"),s=n("fXoL"),c=n("LYOT"),l=function(){var e=function(){function e(t){_classCallCheck(this,e),this.contentful=t,this.$onCloseModal=new i.a}return _createClass(e,[{key:"emitCloseModal",value:function(){this.$onCloseModal.next()}},{key:"modalImages",get:function(){var e=this;return this.response?Object(r.a)(this.response):(this.observable||(this.observable=Object(o.a)(this.contentful.getEntries({content_type:"itemsGroup",select:"sys.id,fields","fields.code":"BOOKER_MODAL_COBRAND_HOME"})).pipe(Object(a.a)((function(e){var t,n,i,r=[];return null===(i=null===(n=null===(t=e.items[0])||void 0===t?void 0:t.fields)||void 0===n?void 0:n.mediaItems)||void 0===i||i.forEach((function(e){r.push(e)})),r}))),this.observable.subscribe((function(t){e.response=t,e.observable=void 0}))),this.observable)}},{key:"onCloseModal$",get:function(){return this.$onCloseModal.asObservable()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.dc(c.a))},e.\u0275prov=s.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},FWf1:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n("pshJ"),a=n("GiSu"),s=n("zB/H"),c=n("p//D"),l=n("n3uD"),u=n("MkmW"),d=function(e){function t(n,i,r){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=a.empty;break;case 1:if(!n){o.destination=a.empty;break}if("object"==typeof n){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new h(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new h(o,n,i,r)}return o}return r(t,e),t.prototype[c.rxSubscriber]=function(){return this},t.create=function(e,n,i){var r=new t(e,n,i);return r.syncErrorThrowable=!1,r},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s.Subscription);t.Subscriber=d;var h=function(e){function t(t,n,i,r){var s,c=e.call(this)||this;c._parentSubscriber=t;var l=c;return o.isFunction(n)?s=n:n&&(s=n.next,i=n.error,r=n.complete,n!==a.empty&&(l=Object.create(n),o.isFunction(l.unsubscribe)&&c.add(l.unsubscribe.bind(l)),l.unsubscribe=c.unsubscribe.bind(c))),c._context=l,c._next=s,c._error=i,c._complete=r,c}return r(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;l.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=l.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):u.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;u.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};l.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),l.config.useDeprecatedSynchronousErrorHandling)throw n;u.hostReportError(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!l.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return l.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(u.hostReportError(i),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(d);t.SafeSubscriber=h},FonL:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("ofXK"),o=function(){var e=function(){function e(t){_classCallCheck(this,e),this.document=t,this.showModal$=new i.p,this.loginEmail$=new i.p,this.inviteModal=!1,this.inviteModalOnInit=!1}return _createClass(e,[{key:"openModal",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.showModal$.emit({open:!0,animation:e}),this.document.body.classList.add("open-modal")}},{key:"closeModal",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.showModal$.emit({open:!1,animation:e}),this.document.body.classList.remove("open-modal")}},{key:"emitEmail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loginEmail$.emit({email:e,existingEmail:t})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(r.e))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"G/yK":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("jtHE"),r=n("cp0P"),o=n("LRne"),a=n("Cfvw"),s=n("RJ73"),c=n("AytR"),l=n("RRjW"),u=n("JIr8"),d=n("lJxs"),h=n("fXoL"),f=n("tk/3"),p=n("LYOT"),g=n("kh7C"),v=n("BifP"),m=function(){var e=function(){function e(t,n,r,o){_classCallCheck(this,e),this.http=t,this.contentful=n,this.utils=r,this.cmsConfig=o,this.$isReady=new i.a(1),this.isReady=!1,this.apiStations=[],this.cmsStations=new Map,this.enrichedStations=[],this.shortStationMap=new Map,this.maacStations=[],this.maacStationDestinations=[],this.enrichedMaacStations=[],this.initService()}return _createClass(e,[{key:"initService",value:function(){this.getStations()}},{key:"getStations",value:function(){var e=this;Object(r.a)([this.getApiStations(),this.getCMSStations()]).subscribe((function(t){var n;e.apiStations=(null===(n=t[0].data)||void 0===n?void 0:n.stations)||[],e.cmsStations=e.createCMSStationMap(t[1]),e.maacStations=e.getMaacStations(),e.maacStationDestinations=e.getMaacStationDestinations(),e.enrichStations(),e.setReady()}),(function(e){console.error(e)}))}},{key:"getApiStations",value:function(){return this.http.get(c.g.STATIONS_URL,{params:{StationTypes:"Airport"}}).pipe(Object(u.a)((function(e){c.g.production||console.error("::GetAPIStations::","Unable to get stations from API!");var t=new l.c;return t.data={stations:[],versionId:void 0},Object(o.a)(t)})))}},{key:"getCMSStations",value:function(){var e=this,t=this.contentful.getEntries({select:"fields,sys.id",content_type:"station"});return Object(a.a)(t).pipe(Object(d.a)((function(t){return e.resolvePreferredDestinations(t)})),Object(u.a)((function(e){return c.g.production||console.error("::GetCMSStations::","Unable to get stations from CMS service!"),[]})))}},{key:"resolvePreferredDestinations",value:function(e){return e.items.map((function(t){if(t.fields.preferredDestinations){var n=t.fields.preferredDestinations.map((function(t){var n=t.sys.id;return e.items.find((function(e){return e.sys.id===n}))}));t.fields.preferredDestinations=n}else t.fields.preferredDestinations=[];return t.fields}))}},{key:"createCMSStationMap",value:function(e){var t=new Map;return e&&e.forEach((function(e){t.set(e.stationCode,e)})),t}},{key:"enrichStations",value:function(){var e=this,t=new Array;this.apiStations.forEach((function(n){t.push(e.createEnrichedStation(n,!0))})),this.enrichedStations=t;var n=new Array;this.maacStations.forEach((function(t){n.push(e.createEnrichedStation(t,!0))})),this.enrichedMaacStations=n}},{key:"createEnrichedStation",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=new s.a,r=this.cmsStations.get(e.code);return i.code=e.code||"",i.name=e.name||"",i.countryCode=e.countryCode||"",i.type=e.type||void 0,i.productType=e.productType||void 0,i.timeZoneCode=e.timeZoneCode||void 0,i.maac=e.maac||void 0,i.operatedBy=e.operatedBy||[],r?(i.name=r.stationName||"",i.stationNameShort=r.stationNameShort||"",i.state=r.state||"",i.countryName=r.countryName||"",i.geolocation=r.geolocation||void 0,i.aliases=r.aliases||[],i.vivaKiosks=!!this.isBoolean(r.vivaKiosks)&&r.vivaKiosks,i.activeForBooking=!this.isBoolean(r.activeForBooking)||r.activeForBooking,i.supportText=(null==r?void 0:r.supportText)||"",i.iataHotel=(null==r?void 0:r.iataHotel)||void 0):(i.stationNameShort="",i.state="",i.countryName="",i.geolocation=void 0,i.aliases=[],i.vivaKiosks=!1,i.activeForBooking=!0,i.supportText="",i.iataHotel=void 0),n?(i.destinations=new Array,e.destinations?e.destinations.forEach((function(e){i.destinations.some((function(t){return t.code===e.code}))||i.destinations.push(t.createEnrichedStationDestination(e))})):i.destinations=[]):i.destinations=[],this.shortStationMap.set(i.code,{name:i.name,code:i.code}),i}},{key:"createEnrichedStationDestination",value:function(e){var t=new s.b,n=this.cmsStations.get(e.code);return t.code=e.code||"",t.name=e.name||"",t.countryCode=e.countryCode||"",t.transportationType=e.transportationType||void 0,t.travelType=e.travelType||void 0,t.connectingStations=e.connectingStations||[],t.productType=e.productType||void 0,t.maac=e.maac||void 0,n?(t.name=n.stationName||"",t.stationNameShort=n.stationNameShort||"",t.state=n.state||"",t.countryName=n.countryName||"",t.geolocation=n.geolocation||void 0,t.aliases=n.aliases||[],t.vivaKiosks=!!this.isBoolean(n.vivaKiosks)&&n.vivaKiosks,t.activeForBooking=!this.isBoolean(n.activeForBooking)||n.activeForBooking,t.supportText=(null==n?void 0:n.supportText)||"",t.iataHotel=(null==n?void 0:n.iataHotel)||void 0):(t.stationNameShort="",t.state="",t.countryName="",t.geolocation=void 0,t.aliases=[],t.vivaKiosks=!1,t.activeForBooking=!0,t.supportText="",t.iataHotel=void 0),t}},{key:"isBoolean",value:function(e){return"boolean"==typeof e}},{key:"setReady",value:function(){this.isReady=!0,this.$isReady.next(),this.$isReady.complete()}},{key:"getAPIStation",value:function(e){return this.isReady?this.apiStations.find((function(t){return t.code===e})):void 0}},{key:"getCMSStation",value:function(e){return this.isReady?this.cmsStations.get(e):void 0}},{key:"getStation",value:function(e){if(this.isReady)return this.enrichedMaacStations.find((function(t){return t.code===e}))||this.enrichedStations.find((function(t){return t.code===e}))}},{key:"getDestinationStationFromOrigin",value:function(e,t){if(this.isReady&&e&&e.destinations){var n=e.destinations.find((function(e){return e.code===t}));if(n)return n;var i=this.maacStationDestinations.find((function(e){return e.code===t}));if(i&&i.maac.areaCodes.filter((function(t){return e.destinations.some((function(e){return e.code===t}))})).length>=2)return this.createEnrichedStationDestination(i)}}},{key:"getStationName",value:function(e){if(this.isReady){var t=this.shortStationMap.get(e);return t&&t.name?t.name:void 0}}},{key:"isValidStation",value:function(e){return this.shortStationMap.has(e)}},{key:"getClosestStation",value:function(e,t){var n=this;if(this.isReady){var i,r=-1;return this.enrichedStations.forEach((function(o){if(o.geolocation&&!1!==o.activeForBooking){var a=n.utils.getDistance(o.geolocation.lat,o.geolocation.lon,e,t);(a<r||-1===r)&&(r=a,i=o)}})),i}}},{key:"getMaacStations",value:function(){var e=this,t=s.d;return t.forEach((function(t){var n,i,r,o=null===(i=null===(n=e.cmsConfig._cmsConfig.globalSettings)||void 0===n?void 0:n.maacStations)||void 0===i?void 0:i[t.code];t.maac=o,Array.isArray(null===(r=t.maac)||void 0===r?void 0:r.areaCodes)&&t.maac.areaCodes.length>0&&t.maac.areaCodes.forEach((function(n){var i,r,o=null===(r=null===(i=e.apiStations.find((function(e){return e.code===n})))||void 0===i?void 0:i.destinations)||void 0===r?void 0:r.filter((function(e){return!t.maac.areaCodes.includes(e.code)}));Array.isArray(o)&&o.length>0&&(t.destinations=_toConsumableArray2(new Set([].concat(_toConsumableArray2(t.destinations),_toConsumableArray2(o)))))}))})),t.filter((function(e){return!!e.maac}))}},{key:"getMaacStationDestinations",value:function(){var e=this,t=[];return s.c.forEach((function(n){var i,r,o=null===(r=null===(i=e.cmsConfig._cmsConfig.globalSettings)||void 0===i?void 0:i.maacStations)||void 0===r?void 0:r[n.code];n.maac=o,t.push(n)})),t.filter((function(e){return!!e.maac}))}},{key:"getDestinationMaacStationsFromOrigin",value:function(e){var t=this,n=new Array;return this.isReady&&e&&e.destinations&&this.maacStations.forEach((function(i){var r=JSON.parse(JSON.stringify(i)),o=e.destinations.filter((function(e){return r.maac.areaCodes.includes(e.code)}));if(o.length>=2){var a=o.every((function(e){return e.travelType===s.h.CONNECTING}))?s.h.CONNECTING:s.h.DIRECT,c=o.map((function(e){return e.code}));r.travelType=a,r.maac.areaCodes=c;var l=t.createEnrichedStationDestination(r);n.push(l)}})),n}},{key:"getAreaCodes",value:function(e){var t;if(this.isReady){var n=this.enrichedMaacStations.find((function(t){return t.code===e}));if(null===(t=null==n?void 0:n.maac)||void 0===t?void 0:t.areaCodes)return n.maac.areaCodes.toString().replace(/,/g,", ")}}},{key:"getMaacStationByAreaCode",value:function(e){return this.enrichedMaacStations.find((function(t){var n;return!!(null===(n=null==t?void 0:t.maac)||void 0===n?void 0:n.areaCodes)&&t.maac.areaCodes.includes(e)}))}},{key:"ready",get:function(){return this.$isReady.asObservable().toPromise()}},{key:"_cmsStations",get:function(){return this.isReady?this.cmsStations:void 0}},{key:"_apiStations",get:function(){return this.isReady?this.apiStations:[]}},{key:"_stations",get:function(){return this.isReady?this.enrichedStations:[]}},{key:"_maacStations",get:function(){return this.isReady?this.enrichedMaacStations:[]}},{key:"_bookingStations",get:function(){return this.isReady?this.enrichedStations.filter((function(e){return!0===e.activeForBooking})):[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(h.dc(f.b),h.dc(p.a),h.dc(g.a),h.dc(v.a))},e.\u0275prov=h.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},G6z8:function(e,t,n){var i=n("fR/l"),r=n("oCl/"),o=n("mTTR");e.exports=function(e){return i(e,o,r)}},GEJx:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("mrSG"),r=n("AytR"),o=n("lJxs"),a=n("ofgY"),s=n("9gjU"),c=n("tk/3"),l=n("9yTC"),u=n("kh7C"),d=n("fXoL"),h=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.utilsSvc=n}return _createClass(e,[{key:"getBasketBooking",value:function(e){var t=this;return this.http.get("".concat(r.g.BASKET_BOOKING_URL,"?BasketId=").concat(e,"&RetrieveAffiliations=true")).pipe(Object(o.a)((function(e){var n=Object.assign({},e),i=t.utilsSvc.getFareFromBooking(n.data);if(i&&i===l.e.VIVA_SMART||i===l.e.VIVA_ZERO){for(var r in n.data.services.services)if("object"==typeof n.data.services.services[r]&&"CarryOnBaggage"===n.data.services.services[r].code)for(var o in n.data.services.services[r].options)"object"==typeof n.data.services.services[r].options[o]&&"VAAK"===n.data.services.services[r].options[o].ssrCode&&(n.data.services.services[r].options[o].ssrCode="VAAK15");if(Array.isArray(n.data.charges))for(var a in n.data.charges)"object"==typeof n.data.charges[a]&&"CarryOnBaggage"===n.data.charges[a].groupCode&&"VAAK"===n.data.charges[a].code&&(n.data.charges[a].code="VAAK15")}return t.addVBIDChargesToBooking(n.data),t.processGuestFeeChargesWithoutJourneyKey(n.data),t.processTravelDocumentsExpireDates(n.data),n})))}},{key:"addJourneysToBasket",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t?null:new c.d({"Basket-No-Refresh":"true"});return this.http.post(""+r.g.JOURNEYS_BOOKING_BASKET_URL,e,{headers:n})}},{key:"getPassengerRules",value:function(e){return this.http.get(r.g.PASSENGER_RULES_URL,{params:{basketId:e}}).pipe(Object(o.a)((function(e){var t=e.data,n=t.passengersRules,i=t.contactsRules,r=void 0===i?[]:i,o=t.infantRules,s=new Map,c=new Map;return n.forEach((function(e){s.set(e.passengerKey,new a.j(e)),c.set(e.passengerKey,e.notifications)})),Object.assign(Object.assign({},t),{contactsRules:r.map((function(e){return new a.d(e)})),passengersRules:s,passengerAlerts:c,infantRules:o?new a.j(o):null})})))}},{key:"getAvailableServices",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.http.get(r.g.AVAILABLE_SERVICES_URL,{params:{basketId:e}}).pipe(Object(o.a)((function(e){var i=Object.assign({},e);if(t.addEmptyCheckedOrSpecialBaggageOptionIfNotExist(i),n&&n===l.e.VIVA_SMART||n===l.e.VIVA_ZERO)for(var r in i.data.services)if("object"==typeof i.data.services[r]&&"CarryOnBaggage"===i.data.services[r].code)for(var o in i.data.services[r].options)"object"==typeof i.data.services[r].options[o]&&"VAAK"===i.data.services[r].options[o].ssrCode&&(i.data.services[r].options[o].ssrCode="VAAK15");return i})))}},{key:"addPassengers",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.addPassengersObs(e).toPromise();case 3:return t.abrupt("return",!!t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",(r.g.production||console.error("::Adding Passengers::",t.t0),!1));case 9:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"addPassengersObs",value:function(e){return this.http.post(""+r.g.ADD_PASSENGERS_URL,e)}},{key:"changeServices",value:function(e,t,n){var i=this.transformServiceInputArray(t),o=this.transformServiceInputArray(n);for(var a in i)"object"==typeof i[a]&&"VAAK15"===i[a].ssrCode&&(i[a].ssrCode="VAAK");for(var s in o)"object"==typeof o[s]&&"VAAK15"===o[s].ssrCode&&(o[s].ssrCode="VAAK");return this.http.post(r.g.CHANGE_SERVICES_URL,{basketId:e,servicesToAdd:i,servicesToDelete:o})}},{key:"transformServiceInputArray",value:function(e){return Array.isArray(e)&&e.length?e.map((function(e){return{ssrCode:e.ssrCode,passengerKey:e.passengerKey||null,segmentKey:e.segmentKey||null,journeyKey:e.journeyKey||null}})):[]}},{key:"getSeatMaps",value:function(e){return this.http.get(r.g.SEATMAPS_URL,{params:{basketId:e}})}},{key:"getProposedSeats",value:function(e){return this.http.get(r.g.PROPOSED_SEATS_URL,{params:{basketId:e}})}},{key:"changeSeats",value:function(e,t,n){return this.http.post(r.g.CHANGE_SEATS_URL,{basketId:e,seatsToAdd:t,seatsToRemove:n})}},{key:"getFullBooking",value:function(e,t,n,i){var a=this,s=Object.assign(Object.assign(Object.assign({pnr:e},t&&{lastName:t}),n&&{emailAddress:n}),i&&{IncludeVoucherDetails:"true"});return this.http.get(r.g.FULL_BOOKING_URL,{params:s}).pipe(Object(o.a)((function(e){var t=Object.assign({},e),n=a.utilsSvc.getFareFromBooking(t.data);if(n&&n===l.e.VIVA_SMART||n===l.e.VIVA_ZERO){for(var i in t.data.services.services)if("object"==typeof t.data.services.services[i]&&"CarryOnBaggage"===t.data.services.services[i].code)for(var r in t.data.services.services[i].options)"object"==typeof t.data.services.services[i].options[r]&&"VAAK"===t.data.services.services[i].options[r].ssrCode&&(t.data.services.services[i].options[r].ssrCode="VAAK15");if(Array.isArray(t.data.charges))for(var o in t.data.charges)"object"==typeof t.data.charges[o]&&"CarryOnBaggage"===t.data.charges[o].groupCode&&"VAAK"===t.data.charges[o].code&&(t.data.charges[o].code="VAAK15")}return a.addVBIDChargesToBooking(t.data),a.processGuestFeeChargesWithoutJourneyKey(t.data),a.processTravelDocumentsExpireDates(t.data),t})))}},{key:"updatePassengers",value:function(e){return this.http.post(r.g.UPDATE_PASSENGERS_URL,e)}},{key:"addHotelToBooking",value:function(e){return this.http.post(r.g.ADD_HOTEL_URL,e)}},{key:"deleteHotelFromBooking",value:function(e){return this.http.post(r.g.DELETE_HOTEL_URL,{basketId:e})}},{key:"addVBIDChargesToBooking",value:function(e){var t;if("myIDTravel.VB"===(null===(t=null==e?void 0:e.creationAgent)||void 0===t?void 0:t.agentCode))try{this.utilsSvc.generateAndAddVBIDChargesToBooking(e)}catch(n){r.g.production||console.warn("Error ocurred when processing MyIDTravel booking!",n)}}},{key:"processGuestFeeChargesWithoutJourneyKey",value:function(e){if(e)try{var t=e.journeys,n=e.charges;Array.isArray(t)&&t.length>0&&Array.isArray(n)&&n.filter((function(e){return"GuestFee"===e.code})).forEach((function(e){e&&!e.journeyKey&&(e.journeyKey=t[0].key)}))}catch(i){r.g.production||console.warn("Error processing GuestFee charges",i)}}},{key:"processTravelDocumentsExpireDates",value:function(e){try{Object(u.e)(null==e?void 0:e.passengers)&&e.passengers.forEach((function(e){var t,n;(null===(t=null==e?void 0:e.passport)||void 0===t?void 0:t.expireDate)&&(e.passport.expireDate=Object(u.g)(e.passport.expireDate)),(null===(n=null==e?void 0:e.visa)||void 0===n?void 0:n.expireDate)&&(e.visa.expireDate=Object(u.g)(e.visa.expireDate))}))}catch(t){r.g.production||console.error("::processTravelDocumentsExpireDates::",t)}}},{key:"setGuestFeeBooking",value:function(e){return this.http.post(r.g.BOOKING_GUEST_FEE,{basketId:e})}},{key:"getInsurancesStatus",value:function(e){return this.http.get(r.g.INSURANCES_STATUS_URL,{params:{basketId:e}})}},{key:"addEmptyCheckedOrSpecialBaggageOptionIfNotExist",value:function(e){var t,n=(null!==(t=null==e?void 0:e.data)&&void 0!==t?t:{}).services;if(Object(u.e)(n)){var i=n.find((function(e){return"CheckedBaggage"===(null==e?void 0:e.code)})),r=n.find((function(e){return"SpecialBaggage"===(null==e?void 0:e.code)}));!r&&i?n.push(f):r&&!i&&n.push(p)}}},{key:"getCarbonOffsetServices",value:function(e){var t,n=(null===(t=e.services.find((function(e){return"CarbonOffset"===e.code})))||void 0===t?void 0:t.options)||[],i=[];return n&&(n.forEach((function(e){var t,n,r,o=i.findIndex((function(t){return t.ssr===e.ssrCode}));o>-1?i[o].amount=(null===(t=i[o])||void 0===t?void 0:t.amount)+(null===(n=null==e?void 0:e.price)||void 0===n?void 0:n.amount):i.push({ssr:e.ssrCode,amount:(null===(r=null==e?void 0:e.price)||void 0===r?void 0:r.amount)||0})})),i.forEach((function(e){return e.amount=Math.ceil(e.amount)})),i.sort((function(e,t){return(null==e?void 0:e.amount)-(null==t?void 0:t.amount)}))),i}},{key:"getBookingUpsellservices",value:function(e){return this.http.get(r.g.UPSELL_SERVICES_URL,{params:{BasketId:e}}).pipe(Object(o.a)((function(e){return e.data})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.dc(c.b),d.dc(u.a))},e.\u0275prov=d.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),f=Object.freeze({code:"SpecialBaggage",name:"Special Baggage",category:"Baggage",limit:1,selectionType:s.d.PerJourney,options:[],notifications:null,perPassengerSelection:!0,includedWithHsbcCobrand:!1}),p=Object.freeze({code:"CheckedBaggage",name:"Checked Baggage",category:"Baggage",limit:3,selectionType:s.d.PerJourney,options:[],notifications:null,perPassengerSelection:!0,includedWithHsbcCobrand:!1})},GMZp:function(e,t,n){"use strict";t.isObject=function(e){return null!==e&&"object"==typeof e}},GX70:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ofXK"),r=n("o5mt"),o=n("fXoL"),a=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)},imports:[[i.c,r.a]]}),e}()},Gi0A:function(e,t,n){var i=n("QqLw"),r=n("ExA7");e.exports=function(e){return r(e)&&"[object Map]"==i(e)}},GiSu:function(e,t,n){"use strict";var i=n("n3uD"),r=n("MkmW");t.empty={closed:!0,next:function(e){},error:function(e){if(i.config.useDeprecatedSynchronousErrorHandling)throw e;r.hostReportError(e)},complete:function(){}}},Gj4D:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n("fXoL"),r=n("ofXK"),o=n("PqYM"),a=n("UoSQ"),s=n("VXoX");function c(e,t){1&e&&i.Ub(0,"i",12)}function l(e,t){1&e&&i.Ub(0,"i",13)}function u(e,t){1&e&&(i.Zb(0,"label",14),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e&&(i.Hb(1),i.Tc(i.lc(2,1,"GLOBAL_LABEL_DEPARTUREDATE")))}function d(e,t){1&e&&(i.Zb(0,"label",14),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e&&(i.Hb(1),i.Tc(i.lc(2,1,"GLOBAL_LABEL_OUTBOUND")))}function h(e,t){if(1&e&&(i.Zb(0,"span"),i.Sc(1),i.kc(2,"titlecase"),i.Yb()),2&e){var n=i.jc(2);i.Hb(1),i.Uc(" ",i.lc(2,1,n.chosenDate.startDate.format("ddd, D MMM"))," ")}}function f(e,t){if(1&e&&(i.Zb(0,"span"),i.Sc(1),i.kc(2,"titlecase"),i.Yb()),2&e){var n=i.jc(3);i.Hb(1),i.Uc(" ",i.lc(2,1,n.chosenDate.endDate.format("ddd, D MMM"))," ")}}function p(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"span"),i.Sc(2," - "),i.Yb(),i.Qc(3,f,3,3,"span",16),i.Wb()),2&e){var n=i.jc(2);i.Hb(3),i.sc("ngIf",n.chosenDate.endDate)}}function g(e,t){if(1&e&&(i.Zb(0,"p",15),i.Qc(1,h,3,3,"span",16),i.Qc(2,p,4,1,"ng-container",16),i.Yb()),2&e){var n=i.jc();i.Hb(1),i.sc("ngIf",n.chosenDate.startDate),i.Hb(1),i.sc("ngIf",n.isRoundTrip)}}function v(e,t){1&e&&(i.Xb(0),i.Zb(1,"p"),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Wb()),2&e&&(i.Hb(2),i.Tc(i.lc(3,1,"BOOKER_LABEL_PICK-DATES")))}function m(e,t){1&e&&(i.Zb(0,"p",28),i.Sc(1," - "),i.Yb())}function b(e,t){if(1&e&&(i.Zb(0,"div"),i.Zb(1,"font"),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Zb(4,"p"),i.Sc(5),i.kc(6,"titlecase"),i.Yb(),i.Yb()),2&e){var n=i.jc(3);i.Hb(2),i.Tc(i.lc(3,2,"GLOBAL_LABEL_RETURN_MOV")),i.Hb(3),i.Tc(i.lc(6,4,n.chosenDate.endDate.format("ddd, D MMM")))}}function y(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",26),i.Zb(2,"div"),i.Zb(3,"font"),i.Sc(4),i.kc(5,"cmsTranslate"),i.Yb(),i.Zb(6,"p"),i.Sc(7),i.kc(8,"titlecase"),i.Yb(),i.Yb(),i.Qc(9,m,2,0,"p",27),i.Qc(10,b,7,6,"div",16),i.Yb(),i.Wb()),2&e){var n=i.jc(2);i.Hb(4),i.Tc(i.lc(5,4,"GLOBAL_LABEL_OUTBOUND_MOV")),i.Hb(3),i.Tc(i.lc(8,6,n.chosenDate.startDate.format("ddd, D MMM"))),i.Hb(2),i.sc("ngIf",n.chosenDate.endDate),i.Hb(1),i.sc("ngIf",n.chosenDate.endDate)}}function _(e,t){1&e&&(i.Zb(0,"div",29),i.Zb(1,"div",30),i.Zb(2,"div",31),i.Sc(3,"#"),i.Yb(),i.Zb(4,"div",32),i.Sc(5),i.kc(6,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(7,"div",30),i.Zb(8,"div",33),i.Sc(9,"#"),i.Yb(),i.Zb(10,"div",32),i.Sc(11),i.kc(12,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(13,"div",34),i.Zb(14,"div",35),i.Sc(15,"#"),i.Yb(),i.Zb(16,"div",32),i.Sc(17),i.kc(18,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(5),i.Tc(i.lc(6,3,"BOOKER_LABEL_NON-STOP")),i.Hb(6),i.Tc(i.lc(12,5,"BOOKER_LABEL_CONNECTING")),i.Hb(6),i.Tc(i.lc(18,7,"BOOKER_LABEL_WITHOUT-AVAILABILITY")))}var C=function(e,t){return{"calendar-open":e,"close-animation":t}};function k(e,t){if(1&e){var n=i.ac();i.Zb(0,"div",17),i.Zb(1,"div",18),i.Zb(2,"div",19),i.Qc(3,v,4,3,"ng-container",16),i.Qc(4,y,11,8,"ng-container",20),i.Zb(5,"div",21),i.hc("click",(function(){return i.Hc(n),i.jc().closeCalendarMobile()})),i.Ub(6,"i",22),i.Yb(),i.Yb(),i.Qc(7,_,19,9,"div",23),i.Yb(),i.Zb(8,"div",24),i.Zb(9,"app-mobile-calendar-view",25),i.hc("closePicker",(function(){return i.Hc(n),i.jc().closeCalendarMobile()}))("selectedDatesChange",(function(e){return i.Hc(n),i.jc().selectedDatesAction(e)})),i.Yb(),i.Yb(),i.Yb()}if(2&e){var r=i.jc(),o=i.Ec(14);i.sc("ngClass",i.wc(12,C,r.calendarMobile,r.closeAnimation)),i.Hb(3),i.sc("ngIf",!r.chosenDate),i.Hb(1),i.sc("ngIf",r.chosenDate.startDate)("ngIfElse",o),i.Hb(3),i.sc("ngIf",r.showSymbology),i.Hb(2),i.sc("isRoundTrip",r.isRoundTrip)("departureBookingDates",r.departureBookingDates)("returnBookingDates",r.returnBookingDates)("selectedDates",r.chosenDate)("openCalendar",r.calendarMobile)("forceMinDate",r.forceMinDate)("forceMaxDate",r.forceMaxDate)}}function S(e,t){1&e&&(i.Zb(0,"span",36),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"BOOKER_LABEL_SELECT-DATE")," "))}var O=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.document=t,this.cdRef=n,this.isRoundTrip=!0,this.departureBookingDates=[],this.returnBookingDates=[],this.selectedDates={startDate:null,endDate:null},this.showSymbology=!0,this.isLoading=!1,this.selectedDatesChange=new i.p,this.openModal=new i.p,this.closeModal=new i.p,this.chosenDate={startDate:null,endDate:null},this.closeAnimation=!1,this.calendarMobile=!1,this.keepPreviousDatesSelected=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){var t,n,i,r,o,a,s;if(e.isRoundTrip&&(this.chosenDate={startDate:null,endDate:null},this.selectedDatesChange.emit(void 0)),e.selectedDates&&e.selectedDates.currentValue&&(this.keepPreviousDatesSelected=!1,this.selectValidDates()),!(this.keepPreviousDatesSelected&&this.chosenDate&&this.validateDateRange(this.chosenDate))){if(e.forceMinDate&&!(null===(n=null===(t=null==e?void 0:e.forceMinDate)||void 0===t?void 0:t.currentValue)||void 0===n?void 0:n.isSame(null===(i=null==e?void 0:e.forceMinDate)||void 0===i?void 0:i.previousValue))&&e.forceMinDate.currentValue){var c=e.forceMinDate.currentValue.clone();(null===(r=this.chosenDate)||void 0===r?void 0:r.startDate)&&(null===(o=this.chosenDate)||void 0===o?void 0:o.startDate.isBefore(c.clone()))&&(this.chosenDate.startDate=c.clone())}!1!==(null===(a=e.isLoading)||void 0===a?void 0:a.currentValue)||!0!==(null===(s=e.isLoading)||void 0===s?void 0:s.previousValue)||this.selectedDates||(this.chosenDate={startDate:null,endDate:null},this.selectedDatesChange.emit(void 0))}}},{key:"selectValidDates",value:function(){var e,t;this.chosenDate.startDate=(null===(e=this.selectedDates)||void 0===e?void 0:e.startDate)?this.selectedDates.startDate.clone():null,this.chosenDate.endDate=(null===(t=this.selectedDates)||void 0===t?void 0:t.endDate)?this.selectedDates.endDate.clone():null,this.cdRef.detectChanges(),this.selectedDatesAction(this.chosenDate)}},{key:"showCalendarMobile",value:function(){var e;this.isLoading||1===(null===(e=this.departureBookingDates)||void 0===e?void 0:e.length)||(this.calendarMobile=!0,this.document.body.classList.add("open-responsive-modal"),this.cdRef.detectChanges(),this.openModal.emit())}},{key:"closeCalendarMobile",value:function(){var e=this;this.closeAnimation=!0,Object(o.a)(400).subscribe((function(){e.closeAnimation=!1,e.calendarMobile=!1,e.document.body.classList.remove("open-responsive-modal"),e.cdRef.detectChanges()})),this.isRoundTrip&&(this.chosenDate.startDate&&this.chosenDate.endDate||(this.chosenDate={startDate:null,endDate:null},this.selectedDatesChange.emit(void 0))),this.closeModal.emit()}},{key:"selectedDatesAction",value:function(e){this.selectedDatesChange.emit(e),this.chosenDate!==e&&(this.chosenDate=e)}},{key:"tryToKeepPreviousDatesSelected",value:function(e){this.keepPreviousDatesSelected=e}},{key:"validateDateRange",value:function(e){return this.isRoundTrip?!!this.departureBookingDates.find((function(t){return t.date.isSame(e.startDate,"D")}))&&!!this.returnBookingDates.find((function(t){return t.date.isSame(e.endDate,"D")})):!!this.departureBookingDates.find((function(t){return t.date.isSame(e.startDate,"D")}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(r.e),i.Tb(i.i))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-booker-calendar-responsive"]],inputs:{isRoundTrip:"isRoundTrip",departureBookingDates:"departureBookingDates",returnBookingDates:"returnBookingDates",selectedDates:"selectedDates",showSymbology:"showSymbology",isLoading:"isLoading",forceMinDate:"forceMinDate",forceMaxDate:"forceMaxDate"},outputs:{selectedDatesChange:"selectedDatesChange",openModal:"openModal",closeModal:"closeModal"},features:[i.Fb],decls:15,vars:7,consts:[[1,"calendar-input","w-100","calendar-btn-mobile",3,"click"],[1,"calendar-icon"],["class","fas fa-spinner fa-pulse",4,"ngIf"],["class","far fa-calendar-day",4,"ngIf"],[1,"d-flex","flex-row","justify-content-between","w-100","h-100","align-items-center"],[1,"calendar-input-container"],[1,"calendar-input-date"],["class","label small-title",4,"ngIf"],["class","text title",4,"ngIf","ngIfElse"],[1,"fas","fa-caret-down","arrow-icon"],["class","calendar-mobile",3,"ngClass",4,"ngIf"],["ChooseDate",""],[1,"fas","fa-spinner","fa-pulse"],[1,"far","fa-calendar-day"],[1,"label","small-title"],[1,"text","title"],[4,"ngIf"],[1,"calendar-mobile",3,"ngClass"],[1,"main-header"],[1,"header-calendar","d-flex","justify-content-between","align-items-center"],[4,"ngIf","ngIfElse"],[1,"d-flex","close-container",3,"click"],[1,"fas","fa-times"],["class","px-20 py-10 d-flex justify-content-between symbology",4,"ngIf"],[1,"picker-container"],[3,"isRoundTrip","departureBookingDates","returnBookingDates","selectedDates","openCalendar","forceMinDate","forceMaxDate","closePicker","selectedDatesChange"],[1,"d-flex","calendar-header-data","title"],["class","d-flex align-items-end px-10",4,"ngIf"],[1,"d-flex","align-items-end","px-10"],[1,"px-20","py-10","d-flex","justify-content-between","symbology"],[1,"d-flex","align-items-center","mr-4"],[1,"small-title","mr-5","non-stop"],[1,"small-text","gray"],[1,"small-title","mr-5","connection-flights"],[1,"d-flex","align-items-center"],[1,"small-title","mr-5","without-availability"],[1,"title"]],template:function(e,t){if(1&e&&(i.Zb(0,"div"),i.Zb(1,"button",0),i.hc("click",(function(){return t.showCalendarMobile()})),i.Zb(2,"span",1),i.Qc(3,c,1,0,"i",2),i.Qc(4,l,1,0,"i",3),i.Yb(),i.Zb(5,"div",4),i.Zb(6,"div",5),i.Zb(7,"div",6),i.Qc(8,u,3,3,"label",7),i.Qc(9,d,3,3,"label",7),i.Qc(10,g,3,2,"p",8),i.Yb(),i.Yb(),i.Ub(11,"i",9),i.Yb(),i.Yb(),i.Yb(),i.Qc(12,k,10,15,"div",10),i.Qc(13,S,3,3,"ng-template",null,11,i.Rc)),2&e){var n=i.Ec(14);i.Hb(3),i.sc("ngIf",t.isLoading),i.Hb(1),i.sc("ngIf",!t.isLoading),i.Hb(4),i.sc("ngIf",t.isRoundTrip),i.Hb(1),i.sc("ngIf",!t.isRoundTrip),i.Hb(1),i.sc("ngIf",t.chosenDate.startDate)("ngIfElse",n),i.Hb(2),i.sc("ngIf",t.calendarMobile)}},directives:[r.u,r.r,a.a],pipes:[s.a,r.G],styles:['@charset "UTF-8";.calendar-input{background:var(--wh1);width:100%;height:60px;display:flex;justify-content:flex-start;flex-direction:row;align-items:center;border-radius:10px;padding:0 22px;box-sizing:border-box;border:0;position:relative;z-index:1;text-align:initial}.calendar-input .calendar-icon{color:var(--bg4);position:absolute;z-index:1}.calendar-input .calendar-icon:after{content:"";position:absolute;top:0;left:0;margin-top:-7px;margin-left:38px;height:30px;width:1px;background-color:var(--gr20)}.calendar-input-container{width:100%;height:100%;padding-left:49px;display:flex;flex-direction:row;justify-content:flex-start}.calendar-input-date{height:100%;min-width:50%;display:flex;flex-direction:column;justify-content:center}.calendar-input-date:first-of-type{min-width:50%}.calendar-input-date:nth-of-type(2){min-width:50%;border-left:1px solid var(--gr20);padding-left:20px}.calendar-input-date .label{line-height:unset;color:rgba(var(--bg6-rgb),.5);pointer-events:none}.calendar-input-date .text{text-transform:capitalize;margin:4px 0 0;min-height:18px;color:var(--bg6)}.calendar-input .arrow-icon{font-size:18px;color:var(--bg4)}.calendar-input .arrow-icon.active{color:var(--vg4);transform:rotate(180deg)}.calendar-widget{position:absolute;top:72px;width:100%;font-family:Axiforma,Arial}.calendar-widget .md-drppicker{z-index:1}.calendar-widget .md-drppicker.shown{border-radius:5px;width:100%;display:flex;justify-content:space-around;flex-flow:wrap;flex-direction:row;z-index:1000}.calendar-widget .md-drppicker .calendar .calendar-table table{border-collapse:collapse}.calendar-widget .md-drppicker .calendar .empty-week-row{display:none}.calendar-widget .md-drppicker .calendar td{min-width:30px;height:30px;font-family:Axiforma;font-weight:500;font-size:12px;color:var(--bg6);transition:unset}.calendar-widget .md-drppicker .calendar td:hover :before{color:var(--wh1)}.calendar-widget .md-drppicker .calendar td.today:after{content:"\u2022";font-family:Axiforma;position:absolute;top:-7px;color:var(--bg6);left:50%;transform:translateX(-50%)}.calendar-widget .md-drppicker .calendar td.available:hover{color:var(--wh1);background-color:var(--bg4);border:0 solid var(--bg4);border-radius:0;opacity:1}.calendar-widget .md-drppicker .calendar td.active{opacity:1}.calendar-widget .md-drppicker .calendar td.in-range{border:0 solid var(--gr15);background-color:var(--gr15);opacity:1}.calendar-widget .md-drppicker .calendar td.start-date{color:var(--bg6);background-color:var(--vg4);border:0 solid var(--vg4);border-top-left-radius:2px;border-bottom-left-radius:2px}.calendar-widget .md-drppicker .calendar td.start-date:hover{background-color:var(--vg4)}.calendar-widget .md-drppicker .calendar td.end-date{color:var(--wh1);background-color:var(--bg4);border:0 solid var(--bg4);border-top-right-radius:2px;border-bottom-right-radius:2px}.calendar-widget .md-drppicker .calendar td.end-date:hover{background-color:var(--bg4)}.calendar-widget .md-drppicker .calendar td.start-date.end-date{border:1px solid var(--vg4)}.calendar-widget .md-drppicker .calendar td.start-date.end-date:hover{background-color:var(--vg4)}.calendar-widget .md-drppicker .calendar td.off{color:var(--bg6)!important;opacity:.1;text-decoration:unset}.calendar-widget .md-drppicker .calendar td.out-of-month{visibility:hidden}@media screen and (max-width:991px){.calendar-widget .md-drppicker .calendar td.out-of-month{visibility:visible}}.calendar-widget .md-drppicker .calendar td.no-flights{color:var(--bg6)!important;opacity:.1;text-decoration:unset}.calendar-widget .md-drppicker .calendar th{min-width:30px;height:30px;font-weight:500}.calendar-widget .md-drppicker .calendar th.available.prev{padding-left:10px;color:var(--bg4)}.calendar-widget .md-drppicker .calendar th.available.next{padding-right:10px;color:var(--bg4)}.calendar-widget .md-drppicker .calendar th.month{font-family:Axiforma,Arial;font-size:16px;font-weight:700;line-height:1.25;color:var(--bg6);opacity:1}.calendar-widget .md-drppicker .calendar.left{float:unset}.calendar-widget .md-drppicker .calendar.left .month{text-align:right;padding-right:10px}.calendar-widget .md-drppicker .calendar.right{float:unset}.calendar-widget .md-drppicker .calendar.right .month{text-align:left;padding-left:10px}@media screen and (max-width:991px){.calendar-widget .md-drppicker .calendar.right .month{text-align:right;padding-left:0}}.calendar-widget .md-drppicker .calendar .week-days{box-shadow:0 -1px 0 0 rgba(var(--bl9-rgb),.1);background-color:var(--wh2)}.calendar-widget .md-drppicker .calendar .week-days th{border-radius:0;padding-top:5px;font-family:Axiforma;font-size:14px;font-weight:500;font-stretch:normal;font-style:normal;line-height:1.29;letter-spacing:normal;color:var(--gr60)}.calendar-btn-mobile{min-height:60px;height:60px!important}.calendar-input .calendar-input-container{flex-wrap:wrap;width:100%}.calendar-input .calendar-input-container .calendar-input-date{min-width:50%}.calendar-input .calendar-input-container .calendar-input-date:nth-child(2){border:0;padding:0}.calendar-mobile{display:none;position:fixed;left:0;top:0;width:100%;height:100%;background-color:var(--wh1);z-index:11;overflow-y:auto}.calendar-mobile .picker-container{height:calc(100% - 101px)}.calendar-mobile .main-header{position:-webkit-sticky;position:sticky;width:100%;top:0;background-color:var(--wh1);z-index:1}.calendar-mobile .header-calendar{height:60px;padding:20px;width:100%;background-color:var(--wh1);z-index:1;border-bottom:1px solid var(--gr20)}.calendar-mobile .header-calendar p{color:var(--bg6);margin:0}.calendar-mobile .header-calendar .calendar-header-data font{font-size:12px;opacity:.5;font-weight:500}.calendar-mobile .header-calendar .calendar-header-data p{font-size:16px}.calendar-mobile .header-calendar .close-container{padding:0 5px 0 20px;height:20px;justify-content:center;align-items:center;border-left:1px solid var(--gr20)}.calendar-mobile .header-calendar .close-container .pipe{margin-right:20px;height:20px;width:1px;border-radius:.5px;background-color:var(--gr20)}.calendar-mobile .header-calendar .close-container i.fas{color:var(--bg6);font-size:20px}.calendar-open{display:block;-webkit-animation:fadeInUpBig .5s ease 0s normal forwards;animation:fadeInUpBig .5s ease 0s normal forwards}.close-animation{-webkit-animation:fadeOutDown .4s ease 0s normal forwards;animation:fadeOutDown .4s ease 0s normal forwards}@-webkit-keyframes fadeInUpBig{0%{opacity:0;-webkit-transform:translateY(2000px)}to{opacity:1;-webkit-transform:translateY(0)}}@keyframes fadeInUpBig{0%{opacity:0;transform:translateY(2000px)}to{opacity:1;transform:translateY(0)}}@-webkit-keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translateY(0)}to{opacity:0;-webkit-transform:translateY(20px)}}@keyframes fadeOutDown{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(20px)}}.disabled:focus{border:none;padding:0 22px}.disabled:focus .calendar-icon{color:inherit}.symbology .gray{color:var(--gr60)}.symbology .non-stop{color:var(--bg2)}.symbology .connection-flights{color:var(--bg6);position:relative}.symbology .connection-flights:before{content:"\u2022";position:absolute;top:-10px;left:50%;color:var(--gr40);transform:translateX(-50%)}.symbology .without-availability{color:var(--gr20)}'],encapsulation:2,changeDetection:0}),e}()},GoyQ:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},GyhO:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("LRne"),r=n("0EUg");function o(){return Object(r.a)()(Object(i.a).apply(void 0,arguments))}},H8j4:function(e,t,n){var i=n("QkVE");e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},HDdC:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i,r=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),c=n("mCNh"),l=n("2fFW"),u=((i=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var i=this.operator,s=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new r.a(e,t,n):new r.a(a.a)}(e,t,n);if(s.add(i?i.call(s,this.source):this.source||l.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),l.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){l.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.a?i:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=d(t))((function(t,i){var r;r=n.subscribe((function(t){try{e(t)}catch(n){i(n),r&&r.unsubscribe()}}),i,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:Object(c.b)(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=d(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))}}]),e}()).create=function(e){return new i(e)},i);function d(e){if(e||(e=l.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},HOxn:function(e,t,n){var i=n("Cwc5")(n("Kz5y"),"Promise");e.exports=i},HSsa:function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},Ha0k:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i,r=n("ofXK"),o=n("fXoL"),a=n("jtHE"),s=n("AytR"),c='\n(function(u, p, l, i, f, t, b, j) {\n  u["UpLiftPlatformObject"] = f;\n  (u[f] =\n    u[f] ||\n    function() {\n      (u[f].q = u[f].q || []).push(arguments);\n    }),\n    (u[f].l = 1 * new Date());\n  (b = p.createElement(l)), (j = p.getElementsByTagName(l)[0]);\n  b.async = 1;\n  b.src = i + "?id=" + t;\n  b.onerror = u._upError; // handle script blocking\n  j.parentNode.insertBefore(b, j);\n  let o = window.location.host.match(/[w-]+.w{2,3}(:d+)?$/);\n  if (o) o = o[0];\n  u[f]("create", t, o);\n})(\n  window,\n  document,\n  "script",\n  "//cdn.uplift-platform.com/a/up.js",\n  "up",\n  "'.concat(s.g.payments.uplift.userId,'"\n);\n'),l=((i=function(){function e(t,n){_classCallCheck(this,e),this.document=t,this.platformId=n,this.upliftConfig={apiKey:s.g.payments.uplift.apiKey,locale:"en-US",currency:"USD"},this.$isReady=new a.a(1),Object(r.L)(this.platformId)&&this.init()}return _createClass(e,[{key:"init",value:function(){var e=this.document.createElement("script");e.type="text/javascript",e.text=c,window._upError=this.notReady.bind(this),this.document.body.appendChild(e),window.upReady=this.upReady.bind(this)}},{key:"upReady",value:function(){delete window._upError,this.$isReady.next(),this.$isReady.complete()}},{key:"notReady",value:function(){delete window._upError,this.$isReady.error("Uplift Script initialization error!!"),this.$isReady.complete()}},{key:"initPayMonthly",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.upliftInitCallback;"shop"!==this.upliftInitMode&&(window.Uplift.Payments.init(Object.assign(Object.assign({},this.upliftConfig),{onChange:e})),this.upliftInitMode="shop")}},{key:"initPayMonthlyCheckout",value:function(e,t){"checkout"!==this.upliftInitMode&&(window.Uplift.Payments.init(Object.assign(Object.assign({},this.upliftConfig),{checkout:!0,container:"#"+t,onChange:e})),this.upliftInitMode="checkout")}},{key:"upliftInitCallback",value:function(e){({OFFER_AVAILABLE:function(){},TOKEN_AVAILABLE:function(){},TOKEN_RETRIEVED:function(){},OFFER_UNAVAILABLE:function(){},SERVICE_UNAVAILABLE:function(){}})[e.status]()}},{key:"upliftConfirm",value:function(e){e&&this.Uplift.Payments.confirm(e)}},{key:"ready",get:function(){return this.$isReady.asObservable().toPromise()}},{key:"Uplift",get:function(){return window.Uplift}},{key:"_upliftInitMode",get:function(){return this.upliftInitMode}}]),e}()).\u0275fac=function(e){return new(e||i)(o.dc(r.e),o.dc(o.G))},i.\u0275prov=o.Pb({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},Hq3m:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i,r,o=n("ofXK"),a=n("bSk5"),s=n("xzb3"),c=n("Pqv9"),l=n("x2f1"),u=n("o5mt"),d=n("kpjh"),h=n("GX70"),f=n("BEZw"),p=n("39vh"),g=n("fXoL"),v=((r=function e(){_classCallCheck(this,e)}).\u0275mod=g.Rb({type:r}),r.\u0275inj=g.Qb({factory:function(e){return new(e||r)},imports:[[o.c,u.a,p.b]]}),r),m=((i=function e(){_classCallCheck(this,e)}).\u0275mod=g.Rb({type:i}),i.\u0275inj=g.Qb({factory:function(e){return new(e||i)},imports:[[o.c,a.a,s.a,c.a,l.a,u.a,d.a,h.a,f.a,p.b,v]]}),i)},Hvzi:function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},I2ZF:function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0;return[n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]]].join("")}},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},IjjT:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.now;return _classCallCheck(this,n),(r=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(r)?n.delegate.now():o()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,i):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,i)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(i)},IzEk:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("7o/Q"),r=n("4I5i"),o=n("EY2u");function a(e){return function(t){return 0===e?Object(o.b)():t.lift(new s(e))}}var s=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new r.a}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.total))}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).total=i,r.count=0,r}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(i.a)},JEQr:function(e,t,n){"use strict";var i=n("xTJ+"),r=n("yK9s"),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,c={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(s=n("tQ2B")),s),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){c.headers[e]=i.merge(o)})),e.exports=c},JHRd:function(e,t,n){var i=n("Kz5y");e.exports=i.Uint8Array},JHgL:function(e,t,n){var i=n("QkVE");e.exports=function(e){return i(this,e).get(e)}},JIr8:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("l7GE"),r=n("51Dv"),o=n("ZUHj");function a(e){return function(t){var n=new s(e),i=t.lift(n);return n.caught=i}}var s=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.selector,this.caught))}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=i,o.caught=r,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(s){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,s)}this._unsubscribeAndRecycle();var i=new r.a(this,void 0,void 0);this.add(i);var a=Object(o.a)(this,t,void 0,void 0,i);a!==i&&this.add(a)}}}]),n}(i.a)},"JK/P":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("AytR"),r=n("fXoL"),o=function(){var e=function(){function e(){_classCallCheck(this,e),this.modalsDict={}}return _createClass(e,[{key:"add",value:function(e,t){this.modalsDict[e]=t}},{key:"remove",value:function(e){delete this.modalsDict[e]}},{key:"open",value:function(e){this.modalsDict[e]?this.modalsDict[e].open():i.g.production||console.warn("::ModalService::",'Failed to open a modal. No modal with ID: "'.concat(e,'" found!'))}},{key:"close",value:function(e){this.modalsDict[e]&&this.modalsDict[e].close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},JSQU:function(e,t,n){var i=n("YESw");e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},JTzB:function(e,t,n){var i=n("NykK"),r=n("ExA7");e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},JX91:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("GyhO"),r=n("z+Ro");function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[t.length-1];return Object(r.a)(o)?(t.pop(),function(e){return Object(i.a)(t,e,o)}):function(e){return Object(i.a)(t,e)}}},JYGO:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ofXK"),r=n("fXoL"),o=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Rb({type:e}),e.\u0275inj=r.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e}()},JmNV:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ofXK"),r=n("o5mt"),o=n("h3XU"),a=n("3Pt+"),s=n("fXoL"),c=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=s.Rb({type:e}),e.\u0275inj=s.Qb({factory:function(t){return new(t||e)},imports:[[i.c,r.a,o.a,a.E,a.o]]}),e}()},JxkP:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ofXK"),r=n("PqYM"),o=n("fXoL"),a=function(){var e=function(){function e(t,n,i){var o=this;_classCallCheck(this,e),this.el=t,this.document=n,this.renderer=i,this.shown=!1,Object(r.a)(0).subscribe((function(){var e=o.el.nativeElement.parentNode,t=o.document.createElement("i");t.classList.add("fas","fa-eye","pwd-toggle"),o.clickEvt=o.renderer.listen(t,"click",(function(){o.toggleVisibility(t)})),e.appendChild(t)}))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.clickEvt&&this.clickEvt()}},{key:"toggleVisibility",value:function(e){this.shown=!this.shown,this.shown?(this.el.nativeElement.setAttribute("type","text"),e.classList.remove("fa-eye"),e.classList.add("fa-eye-slash")):(this.el.nativeElement.setAttribute("type","password"),e.classList.remove("fa-eye-slash"),e.classList.add("fa-eye"))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Tb(o.n),o.Tb(i.e),o.Tb(o.I))},e.\u0275dir=o.Ob({type:e,selectors:[["","appPwdToggle",""]]}),e}()},K6W5:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("fXoL"),r=n("y4gz"),o=n("ofXK"),a=n("VXoX");function s(e,t){if(1&e&&i.Ub(0,"i",12),2&e){var n=i.jc().$implicit;i.sc("ngClass",n.iconClass)}}function c(e,t){if(1&e&&i.Ub(0,"img",13),2&e){var n=i.jc().$implicit;i.sc("src",n.image,i.Kc)}}function l(e,t){if(1&e&&i.Ub(0,"i",14),2&e){var n=i.jc().$implicit;i.sc("ngClass",n.iconClass)}}var u=function(e,t,n,i,r){return{active:e,"tb-light":t,"seat-map":n,trips:i,dark:r}},d=function(e){return{"custom-text":e}};function h(e,t){if(1&e){var n=i.ac();i.Zb(0,"li",6),i.Zb(1,"a",7),i.hc("click",(function(){i.Hc(n);var e=t.index;return i.jc(2).changeTab(e)})),i.Qc(2,s,1,1,"i",8),i.Qc(3,c,1,1,"img",9),i.Zb(4,"span",10),i.Sc(5),i.kc(6,"cmsTranslate"),i.Yb(),i.Qc(7,l,1,1,"i",11),i.Yb(),i.Yb()}if(2&e){var r=t.$implicit,o=t.index,a=i.jc(2);i.Hb(1),i.sc("ngClass",i.zc(8,u,a.activeTab===o,"light"===a.theme,"seat-map"===a.theme,"trips"===a.theme,"dark"===a.theme)),i.Hb(1),i.sc("ngIf",r.iconClass&&!a.iconsAfterText),i.Hb(1),i.sc("ngIf",r.image&&!r.iconClass),i.Hb(1),i.sc("ngClass",i.vc(14,d,r.image&&!r.iconClass)),i.Hb(1),i.Uc("",a.translateTitle?i.lc(6,6,r.title):r.title," "),i.Hb(2),i.sc("ngIf",r.iconClass&&a.iconsAfterText)}}var f=function(e,t,n,i){return{"seat-mobile":e,"all-space":t,dark:n,"all-width":i}};function p(e,t){if(1&e&&(i.Zb(0,"ul",4),i.Qc(1,h,8,16,"li",5),i.Yb()),2&e){var n=i.jc();i.sc("ngClass",i.yc(2,f,"seat-map"===n.theme,"all-space"===n.theme,"dark"===n.theme,n.allWidth)),i.Hb(1),i.sc("ngForOf",n.tabOptions)}}var g=function(){var e=function(){function e(t){_classCallCheck(this,e),this.datalayerUxHome=t,this.activeTab=0,this.tabOptions=[],this.theme="",this.allWidth=!1,this.iconsAfterText=!1,this.translateTitle=!0,this.sendDatalayerHomeEvent=!0,this.activeTabChange=new i.p}return _createClass(e,[{key:"changeTab",value:function(e){this.activeTab=e,this.activeTabChange.emit(this.activeTab),this.datalayerUxHome.bookerTabListEvent(this.tabOptions[e].title)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(r.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-tablist-bar"]],inputs:{activeTab:"activeTab",tabOptions:"tabOptions",theme:"theme",allWidth:"allWidth",iconsAfterText:"iconsAfterText",translateTitle:"translateTitle",sendDatalayerHomeEvent:"sendDatalayerHomeEvent"},outputs:{activeTabChange:"activeTabChange"},decls:4,vars:1,consts:[[1,"booker-tablist","container"],[1,"row"],[1,"col-12","px-0"],["class","booker-tablist-list",3,"ngClass",4,"ngIf"],[1,"booker-tablist-list",3,"ngClass"],["class","booker-tablist-item",4,"ngFor","ngForOf"],[1,"booker-tablist-item"],[1,"booker-tablist-link","title","text-link",3,"ngClass","click"],["class","fas mr-1",3,"ngClass",4,"ngIf"],["class","mr-1 custom-icon",3,"src",4,"ngIf"],[1,"text-item",3,"ngClass"],["class","fas ml-1",3,"ngClass",4,"ngIf"],[1,"fas","mr-1",3,"ngClass"],[1,"mr-1","custom-icon",3,"src"],[1,"fas","ml-1",3,"ngClass"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Qc(3,p,2,7,"ul",3),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(3),i.sc("ngIf",t.tabOptions))},directives:[o.u,o.r,o.t],pipes:[a.a],styles:['.booker-tablist[_ngcontent-%COMP%]{display:block;position:relative}.booker-tablist-list[_ngcontent-%COMP%]{padding:0;margin:0;display:inline-block}.booker-tablist-list.seat-mobile[_ngcontent-%COMP%]{display:flex}.booker-tablist-list.seat-mobile[_ngcontent-%COMP%]   .booker-tablist-item[_ngcontent-%COMP%]{width:-webkit-fill-available}.booker-tablist-item[_ngcontent-%COMP%]{list-style:none;display:inline-block}.booker-tablist-link[_ngcontent-%COMP%]{display:block;position:relative;color:var(--gr15);padding:0 20px 15px;transition:all .3s cubic-bezier(.165,.84,.44,1)}.booker-tablist-link.seat-map[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width:1240px){.booker-tablist-link[_ngcontent-%COMP%]{padding-top:15px}}.booker-tablist-link[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;bottom:-1px;left:0;height:1px;width:100%;background-color:var(--gr15);transition:all .3s cubic-bezier(.165,.84,.44,1)}.booker-tablist-link.active[_ngcontent-%COMP%]{color:var(--wh1)}.booker-tablist-link.active[_ngcontent-%COMP%]:after{bottom:-2px;height:3px;background-color:var(--vg4)}@media (hover:hover){.booker-tablist-link[_ngcontent-%COMP%]:hover{color:var(--wh1);text-decoration:none}.booker-tablist-link[_ngcontent-%COMP%]:hover:after{bottom:-2px;height:3px;background-color:var(--gr15)}}.booker-tablist-link.tb-light[_ngcontent-%COMP%], .booker-tablist-link.tb-light.active[_ngcontent-%COMP%], .booker-tablist-link.trips[_ngcontent-%COMP%], .booker-tablist-link.trips.active[_ngcontent-%COMP%]{color:var(--bg6)}.booker-tablist-link.tb-light[_ngcontent-%COMP%]:hover, .booker-tablist-link.trips[_ngcontent-%COMP%]:hover{color:var(--bg2)}.booker-tablist-link.tb-light[_ngcontent-%COMP%]:hover:after, .booker-tablist-link.trips[_ngcontent-%COMP%]:hover:after{background-color:var(--vg4)}.booker-tablist-link.trips[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:inherit}.booker-tablist-link.seat-map[_ngcontent-%COMP%]{padding:13px 26px 15px;color:var(--bg6);opacity:.7}@media screen and (max-width:991px){.booker-tablist-link.seat-map[_ngcontent-%COMP%]{padding:13px 0 15px}}.booker-tablist-link.seat-map[_ngcontent-%COMP%]:after{background-color:var(--gr40)}.booker-tablist-link.seat-map.active[_ngcontent-%COMP%]{color:var(--bg6);opacity:1}.booker-tablist-link.seat-map.active[_ngcontent-%COMP%]:after{background-color:var(--r4)}.booker-tablist-link.seat-map[_ngcontent-%COMP%]:hover{color:var(--bg4);opacity:1}.booker-tablist-link.seat-map[_ngcontent-%COMP%]:hover:after{background-color:var(--r4)}.booker-tablist-link.dark[_ngcontent-%COMP%]{padding:13px 26px 15px;color:var(--gr60)}@media screen and (max-width:991px){.booker-tablist-link.dark[_ngcontent-%COMP%]{padding:13px 15px}}.booker-tablist-link.dark.active[_ngcontent-%COMP%]{color:var(--bg6);opacity:1}.booker-tablist-link.dark.active[_ngcontent-%COMP%]:after{background-color:var(--vg4)}.booker-tablist-link.dark[_ngcontent-%COMP%]:hover{color:var(--bg6)}.booker-tablist-link.dark[_ngcontent-%COMP%]:hover:after{background-color:var(--vg4)}@media screen and (max-width:1024px){.all-space[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width:1240px){.booker-tablist[_ngcontent-%COMP%]   .booker-tablist-link[_ngcontent-%COMP%]{text-decoration:none}.booker-tablist-list[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden}.booker-tablist-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:0 0 auto}.booker-tablist-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{bottom:0}.booker-tablist-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{bottom:-1px}.booker-tablist[_ngcontent-%COMP%]   .all-width[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .booker-tablist[_ngcontent-%COMP%]   .seat-mobile[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:auto;width:50%;text-align:center}.booker-tablist[_ngcontent-%COMP%]   .all-width[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .booker-tablist-link[_ngcontent-%COMP%], .booker-tablist[_ngcontent-%COMP%]   .seat-mobile[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .booker-tablist-link[_ngcontent-%COMP%]{font-size:14px}.booker-tablist[_ngcontent-%COMP%]   .all-width[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after, .booker-tablist[_ngcontent-%COMP%]   .seat-mobile[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{bottom:0}.booker-tablist[_ngcontent-%COMP%]   .all-width[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after, .booker-tablist[_ngcontent-%COMP%]   .seat-mobile[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{bottom:-1px}}.custom-icon[_ngcontent-%COMP%]{height:16px;max-height:16px;position:absolute}.custom-text[_ngcontent-%COMP%]{margin-left:26px}.light-green[_ngcontent-%COMP%]{color:var(--lg6)}']}),e}()},KC5F:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("3Pt+"),o=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.el=t,this.control=n,this.regex="[a-zA-Z0-9]"}return _createClass(e,[{key:"onKeyPress",value:function(e){new RegExp(this.regex).test(e.key)||e.preventDefault()}},{key:"onInputChange",value:function(e){var t=this.el.nativeElement.value;this.control.control.setValue(t.replace(/[^A-Za-z0-9\.\ _\-]*/g,"").replace(/\s/g,"")),t!==this.el.nativeElement.value&&e.stopPropagation()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.n),i.Tb(r.t))},e.\u0275dir=i.Ob({type:e,selectors:[["","appNoSpecialCharacters",""]],hostBindings:function(e,t){1&e&&i.hc("keypress",(function(e){return t.onKeyPress(e)}))("input",(function(e){return t.onInputChange(e)}))}}),e}()},KMkd:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},KTnf:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("d/Sv"),r=function e(){_classCallCheck(this,e),this.tripType=i.a.ROUND_TRIP,this.journeys=new Array,this.journeys.push({origin:void 0,destination:void 0,journeyDates:void 0}),this.passengers={adults:1,kids:0,babies:0},this.promoCode=void 0}},KfNM:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},KhLr:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("mrSG"),r=n("quSY"),o=n("LRne"),a=n("Cfvw"),s=n("lJxs"),c=n("AytR"),l=n("9yTC"),u=n("fXoL"),d=n("CPX7"),h=n("LYOT"),f=n("GEJx"),p=n("kh7C"),g=function(){var e=function(){function e(t,n,i,o){_classCallCheck(this,e),this.basketSvc=t,this.contentful=n,this.bookingApiSvc=i,this.utilsSvc=o,this.monthlyPayments=12,this.showMonthsInterestFree=!1,this.onBasketSubscription=r.a.EMPTY,this.isZeroFare=!1,this.monthlyPayments=12,this.init()}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.onBasketSubscription.closed||this.onBasketSubscription.unsubscribe()}},{key:"init",value:function(){var e=this;this.onBasketSubscription=this.basketSvc.basket$.subscribe((function(t){var n;e.showMonthsInterestFree=!1,e.isZeroFare=!1;var i=e.utilsSvc.getFareFromBasket(null===(n=null==t?void 0:t.travel)||void 0===n?void 0:n.journeys[0]);e.isZeroFare=i===l.e.VIVA_ZERO||i===l.e.VIVA_BASE;var r=(null!=t?t:{}).installmentsAvailability;r&&!e.isZeroFare?(e.installmentsAvailability=r,e.showMonthsInterestFree=r.minimumAmount>0):(e.showMonthsInterestFree=!1,e.installmentsAvailability=void 0)}))}},{key:"checkAvailability",value:function(e){var t,n=null!==(t=this.installmentsAvailability)&&void 0!==t?t:{},i=n.installmentsAvailable,r=n.minimumAmount;return!!i||r>0&&e>=r}},{key:"checkUpsellservices",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getUpsellservices().toPromise();case 3:t=e.sent,this.upsellServices=t.services.filter((function(e){return"Baggage"===e.category})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c.g.production||console.error("getUpsellservices",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getUpsellservices",value:function(){return this.bookingApiSvc.getBookingUpsellservices(this.basketSvc.basketId)}},{key:"_missingAmount",get:function(){var e;return(null===(e=this.installmentsAvailability)||void 0===e?void 0:e.missingAmount)||0}},{key:"_minimumAmount",get:function(){var e;return(null===(e=this.installmentsAvailability)||void 0===e?void 0:e.minimumAmount)||0}},{key:"_isZeroFare",get:function(){return this.isZeroFare}},{key:"_showMonthsInterestFree",get:function(){return this.showMonthsInterestFree}},{key:"_upsellServicesAvailable",get:function(){var e;return(null===(e=this.installmentsAvailability)||void 0===e?void 0:e.upsellServicesAvailable)||!1}},{key:"_isActive",get:function(){var e,t;return this._showMonthsInterestFree&&(null===(e=this.installmentsAvailability)||void 0===e?void 0:e.installmentsAvailable)&&0===(null===(t=this.installmentsAvailability)||void 0===t?void 0:t.missingAmount)}},{key:"banksImages",get:function(){var e=this;return this.response?Object(o.a)(this.response):(this.observable||(this.observable=Object(a.a)(this.contentful.getEntries({content_type:"itemsGroup",select:"sys.id,fields","fields.code":"Bancos_MSI"})).pipe(Object(s.a)((function(e){var t=[];return e.items[0].fields.items.forEach((function(e){t.push(e)})),t}))),this.observable.subscribe((function(t){e.response=t,e.observable=void 0}))),this.observable)}},{key:"_selectedMonthlyPayments",set:function(e){this.selectedMonthlyPayments=e},get:function(){return this.selectedMonthlyPayments}},{key:"_upsellServices",get:function(){return this.upsellServices}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.dc(d.a),u.dc(h.a),u.dc(f.a),u.dc(p.a))},e.\u0275prov=u.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},Kj3r:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("7o/Q"),r=n("D0XW");function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;return function(n){return n.lift(new a(e,t))}}var a=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.dueTime,this.scheduler))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).dueTime=i,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(i.a);function c(e){e.debouncedNext()}},Kqap:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("7o/Q");function r(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new o(e,t,n))}}var o=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).accumulator=i,a._seed=r,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(i){this.destination.error(i)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),n}(i.a)},Kz5y:function(e,t,n){var i=n("WFqU"),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},L8xA:function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},LBXl:function(e,t,n){"use strict";t.UnsubscriptionError=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},LCdn:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("fXoL"),r=n("KhLr"),o=n("ofXK"),a=n("ib+v"),s=n("VXoX"),c=function(e){return{regex:"%%months%%",newValue:e}},l=function(e){return[e]};function u(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",3),i.Sc(2),i.kc(3,"cmsRegexReplace"),i.kc(4,"cmsTranslate"),i.Yb(),i.Wb()),2&e){var n=i.jc(2);i.Hb(2),i.Uc(" ",i.mc(3,1,i.lc(4,4,"BOOKER_LABEL_UPGRADE-MSI"),i.vc(8,l,i.vc(6,c,n.monthlyPayments.toString())))," ")}}function d(e,t){1&e&&(i.Xb(0),i.Ub(1,"em",4),i.Zb(2,"div",5),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Wb()),2&e&&(i.Hb(3),i.Uc(" ",i.lc(4,1,"BOOKER_LABEL_MSI-PAYMENT-AVAILABLE")," "))}var h=function(e){return{regex:"%%amount%%",newValue:e}},f=function(e,t){return[e,t]};function p(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",3),i.Sc(2),i.kc(3,"cmsRegexReplace"),i.kc(4,"cmsTranslate"),i.kc(5,"currency"),i.Yb(),i.Wb()),2&e){var n=i.jc(3);i.Hb(2),i.Uc(" ",i.mc(3,1,i.lc(4,4,"BOOKER_LABEL_ADD-AMOUNT-FOR-MSI"),i.wc(15,f,i.vc(11,h,i.oc(5,6,n.missingAmount,n.currencyCode,"symbol-narrow","1.0-0")),i.vc(13,c,n.monthlyPayments.toString())))," ")}}function g(e,t){if(1&e&&(i.Xb(0),i.Qc(1,d,5,3,"ng-container",2),i.Qc(2,p,6,18,"ng-container",2),i.Wb()),2&e){var n=i.jc(2);i.Hb(1),i.sc("ngIf",n.isActive),i.Hb(1),i.sc("ngIf",!n.isActive)}}var v=function(e,t){return{available:e,card:t}};function m(e,t){if(1&e&&(i.Zb(0,"div",1),i.Qc(1,u,5,10,"ng-container",2),i.Qc(2,g,3,2,"ng-container",2),i.Yb()),2&e){var n=i.jc();i.sc("ngClass",i.wc(3,v,n.isActive&&!n.isZeroFare,"card"===n.view)),i.Hb(1),i.sc("ngIf",n.isZeroFare),i.Hb(1),i.sc("ngIf",!n.isZeroFare)}}var b=function(){var e=function(){function e(t){_classCallCheck(this,e),this.monthsInterestFreeSvc=t,this.view="sidebar"}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"isActive",get:function(){return this.monthsInterestFreeSvc._isActive||!1}},{key:"missingAmount",get:function(){return this.monthsInterestFreeSvc._missingAmount}},{key:"showMonthsInterestFree",get:function(){return this.monthsInterestFreeSvc._showMonthsInterestFree}},{key:"isZeroFare",get:function(){return this.monthsInterestFreeSvc._isZeroFare}},{key:"monthlyPayments",get:function(){return this.monthsInterestFreeSvc.monthlyPayments}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(r.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-months-interest-free-status-bar"]],inputs:{view:"view",currencyCode:"currencyCode"},decls:1,vars:1,consts:[["class","status-bar",3,"ngClass",4,"ngIf"],[1,"status-bar",3,"ngClass"],[4,"ngIf"],[1,"medium-title"],[1,"fas","fa-credit-card","mr-2"],[1,"medium-title","light"]],template:function(e,t){1&e&&i.Qc(0,m,3,6,"div",0),2&e&&i.sc("ngIf",t.showMonthsInterestFree||t.isZeroFare)},directives:[o.u,o.r],pipes:[a.a,s.a,o.d],styles:[".status-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:10px;text-align:center;width:100%;background-color:var(--sc-m2)}.status-bar.available[_ngcontent-%COMP%]{background-color:var(--bg2)}.status-bar.available[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:var(--vg4)}.status-bar.card[_ngcontent-%COMP%]{height:28px;padding:5px 40px;justify-content:flex-start;text-align:left}"]}),e}()},LMmM:function(e,t,n){var i,r,o;!function(a){if("object"==typeof e.exports){var s=a(0,t);void 0!==s&&(e.exports=s)}else r=[n,t],void 0===(o="function"==typeof(i=a)?i.apply(t,r):i)||(e.exports=o)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;t.default=["es-MX",[["a.\xa0m.","p.\xa0m."],n,n],n,[["D","L","M","M","J","V","S"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],n,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],n,[["a. C.","d. C."],n,["antes de Cristo","despu\xe9s de Cristo"]],0,[6,0],["dd/MM/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss zzzz"],["{1} {0}",n,"{1} 'a' 'las' {0}",n],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4#,##0.00","#E0"],"MXN","$","peso mexicano",{AUD:[n,"$"],BRL:[n,"R$"],BYN:[n,"p."],CAD:[n,"$"],CNY:[n,"\xa5"],ESP:["\u20a7"],EUR:[n,"\u20ac"],GBP:[n,"\xa3"],HKD:[n,"$"],ILS:[n,"\u20aa"],INR:[n,"\u20b9"],JPY:[n,"\xa5"],KRW:[n,"\u20a9"],MRO:["MRU"],MRU:["UM"],MXN:["$"],NZD:[n,"$"],TWD:[n,"NT$"],USD:[n,"$"],VND:[n,"\u20ab"],XAF:[],XCD:[n,"$"],XOF:[]},"ltr",function(e){return 1===e?1:5}]}))},LRne:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("z+Ro"),r=n("yCtX"),o=n("jZKg");function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[t.length-1];return Object(i.a)(a)?(t.pop(),Object(o.a)(t,a)):Object(r.a)(t)}},LXxW:function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}},LYNF:function(e,t,n){"use strict";var i=n("OH9c");e.exports=function(e,t,n,r,o){var a=new Error(e);return i(a,t,n,r,o)}},LYOT:function(e,t,n){"use strict";n.d(t,"a",(function(){return he}));var i={};n.r(i),n.d(i,"wrapSpace",(function(){return D}));var r={};n.r(r),n.d(r,"wrapEntry",(function(){return U})),n.d(r,"wrapEntryCollection",(function(){return Y}));var o={};n.r(o),n.d(o,"wrapAsset",(function(){return G})),n.d(o,"wrapAssetCollection",(function(){return V}));var a={};n.r(a),n.d(a,"wrapContentType",(function(){return Z})),n.d(a,"wrapContentTypeCollection",(function(){return W}));var s={};n.r(s),n.d(s,"wrapLocale",(function(){return K})),n.d(s,"wrapLocaleCollection",(function(){return z}));var c=n("mrSG"),l=n("tk/3"),u=n("vDqi"),d=n.n(u),h=n("BkRI"),f=n.n(h),p=n("Qyje"),g=n.n(p),v=n("YO3V"),m=n.n(v),b=n(0);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var S={},O=0;function T(){return"undefined"!=typeof process&&!process.browser}function w(){return process.versions&&process.versions.node?"v".concat(process.versions.node):process.version}var A=/^(?!\w+:\/\/)([^\s:]+\.?[^\s:]+)(?::(\d+))?(?!:)$/;function E(e){var t=e.query,n={};return delete t.resolveLinks,n.params=f()(t),n}function P(e){return function e(t){return Object.keys(t).forEach((function(n){var i=t[n];m()(i)&&e(i)})),Object.freeze(t)}(e.sys||{}),e}function M(){if(!window)return null;var e=window.navigator.userAgent,t=window.navigator.platform,n=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?n="macOS":-1!==["iPhone","iPad","iPod"].indexOf(t)?n="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?n="Windows":/Android/.test(e)?n="Android":/Linux/.test(t)&&(n="Linux"),n}function x(e){return Object.defineProperty(e,"toPlainObject",{enumerable:!1,configurable:!1,writable:!1,value:function(){return f()(this)}})}function D(e){return P(x(e))}var I=n("3/DG"),L=n.n(I);function R(e){return Object.defineProperty(e,"stringifySafe",{enumerable:!1,configurable:!1,writable:!1,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return L()(this,e,t,(function(e,t){return{sys:{type:"Link",linkType:"Entry",id:t.sys.id,circular:!0}}}))}})}var N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function j(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var B={},F=function(e){return e&&e.sys&&"Link"===e.sys.type},H=function(e,t){if(t=t||{},!e.items)return[];var n=f()(e),i=Object.keys(n.includes||{}).reduce((function(t,n){return[].concat(j(t),j(e.includes[n]))}),[]),r=[].concat(j(n.items),j(i));return r.forEach((function(e){var n=function(e,t){return Array.isArray(t)?Object.keys(e).filter((function(e){return-1!==t.indexOf(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):e}(e,t.itemEntryPoints);Object.assign(e,function e(t,n,i,r){if(n(t))return i(t);if(t&&"object"===(void 0===t?"undefined":N(t))){for(var o in t)t.hasOwnProperty(o)&&(t[o]=e(t[o],n,i,r));r&&(t=function(e){if(Array.isArray(e))return e.filter((function(e){return e!==B}));for(var t in e)e[t]===B&&delete e[t];return e}(t))}return t}(n,F,(function(e){return function(e,t,n){var i=function(e,t){var n=t.sys,i=n.linkType,r=n.id;return function(e,t){for(var n=0,o=e.length;n<o;n++)if((a=e[n].sys).type===i&&a.id===r)return e[n];var a;return B}(e)}(e,t);return i===B?n?i:t:i}(r,e,t.removeUnresolved)}),t.removeUnresolved))})),n.items};function U(e){return P(x(f()(e)))}function Y(e,t){var n=t.resolveLinks,i=t.removeUnresolved,r=R(x(f()(e)));return n&&(r.items=H(r,{removeUnresolved:i,itemEntryPoints:["fields"]})),P(r)}function G(e){return P(x(f()(e)))}function V(e){return P(x(f()(e)))}function Z(e){return P(x(f()(e)))}function W(e){return P(x(f()(e)))}function K(e){return P(x(f()(e)))}function z(e){return P(x(f()(e)))}var Q={space:i,entry:r,asset:o,contentType:a,locale:s};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||!t.initial&&!t.nextSyncToken&&!t.nextPageToken)throw new Error("Please provide one of `initial`, `nextSyncToken` or `nextPageToken` parameters for syncing");if(t&&t.content_type&&!t.type)t.type="Entry";else if(t&&t.content_type&&t.type&&"Entry"!==t.type)throw new Error("When using the `content_type` filter your `type` parameter cannot be different from `Entry`.");var i={resolveLinks:!0,removeUnresolved:!1,paginate:!0},r=q({},i,{},n),o=r.resolveLinks,a=r.removeUnresolved,s=r.paginate,c={paginate:s};return te(e,[],t,c).then((function(e){o&&(e.items=H(e,{removeUnresolved:a,itemEntryPoints:["fields"]}));var t=ee(e.items);return e.nextSyncToken&&(t.nextSyncToken=e.nextSyncToken),e.nextPageToken&&(t.nextPageToken=e.nextPageToken),P(R(x(t)))}),(function(e){throw e}))}function ee(e){var t=function(e){return function(t,n){return n.sys.type===e&&t.push(x(n)),t}};return{entries:e.reduce(t("Entry"),[]),assets:e.reduce(t("Asset"),[]),deletedEntries:e.reduce(t("DeletedEntry"),[]),deletedAssets:e.reduce(t("DeletedAsset"),[])}}function te(e,t,n,i){var r=i.paginate;return n.nextSyncToken&&(n.sync_token=n.nextSyncToken,delete n.nextSyncToken),n.nextPageToken&&(n.sync_token=n.nextPageToken,delete n.nextPageToken),n.sync_token&&(delete n.initial,delete n.type,delete n.content_type,delete n.limit),e.get("sync",E({query:n})).then((function(i){var o=i.data;return t=t.concat(o.items),o.nextPageUrl?r?(delete n.initial,n.sync_token=ne(o.nextPageUrl),te(e,t,n,{paginate:r})):{items:t,nextPageToken:ne(o.nextPageUrl)}:o.nextSyncUrl?{items:t,nextSyncToken:ne(o.nextSyncUrl)}:void 0}))}function ne(e){var t=e.split("?");return t.length>0?t[1].replace("sync_token=",""):""}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le,ue=n("AytR"),de=n("fXoL"),he=((le=function(){function e(t){_classCallCheck(this,e),this.http=t,this.fallbackLocale="es-MX",this.cdaClient=function(e){if(!e.accessToken)throw new TypeError("Expected parameter accessToken");if(!e.space)throw new TypeError("Expected parameter space");var t=se({},{resolveLinks:!0,removeUnresolved:!1,defaultHostname:"cdn.contentful.com",environment:"master"},{},e),n=function(e,t,n,i){var r=[];t&&r.push("app ".concat(t)),n&&r.push("integration ".concat(n)),r.push("sdk ".concat(e));var o=null;try{"undefined"!=typeof window&&"navigator"in window&&"product"in window.navigator&&"ReactNative"===window.navigator.product?(o=M(),r.push("platform ReactNative")):T()?(o=function(){var e=Object(b.platform)()||"linux",t=Object(b.release)()||"0.0.0",n={android:"Android",aix:"Linux",darwin:"macOS",freebsd:"Linux",linux:"Linux",openbsd:"Linux",sunos:"Linux",win32:"Windows"};return e in n?"".concat(n[e]||"Linux","/").concat(t):null}(),r.push("platform node.js/".concat(w()))):(o=M(),r.push("platform browser"))}catch(a){o=null}return o&&r.push("os ".concat(o)),"".concat(r.filter((function(e){return""!==e})).join("; "),";")}("contentful.js/".concat("0.0.0-determined-by-semantic-release"),t.application,t.integration);t.headers=se({},t.headers,{"Content-Type":"application/vnd.contentful.delivery.v1+json","X-Contentful-User-Agent":n});var i,r=function e(t,n){var i=C({},{insecure:!1,retryOnError:!0,logHandler:function(e,t){if("error"===e&&t){var n=[t.name,t.message].filter((function(e){return e})).join(" - ");return console.error("[error] ".concat(n)),void console.error(t)}console.log("[".concat(e,"] ").concat(t))},headers:{},httpAgent:!1,httpsAgent:!1,timeout:3e4,proxy:!1,basePath:"",adapter:!1,maxContentLength:1073741824},{},n);if(!i.accessToken){var r=new TypeError("Expected parameter accessToken");throw i.logHandler("error",r),r}var o,a=i.insecure?"http":"https",s=i.space?"".concat(i.space,"/"):"",c=i.defaultHostname,l=i.insecure?80:443;if(i.host&&A.test(i.host)){var u=i.host.split(":");if(2===u.length){var d=function(e){if(Array.isArray(e))return e}(o=u)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),2!==n.length);i=!0);}catch(c){r=!0,o=c}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(o)||function(e,t){if(e){if("string"==typeof e)return k(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,2):void 0}}(o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();c=d[0],l=d[1]}else c=u[0]}i.basePath&&(i.basePath="/".concat(i.basePath.split("/").filter(Boolean).join("/")));var h=n.baseURL||"".concat(a,"://").concat(c,":").concat(l).concat(i.basePath,"/spaces/").concat(s);i.headers.Authorization||(i.headers.Authorization="Bearer "+i.accessToken),T()&&(i.headers["user-agent"]="node.js/"+w(),i.headers["Accept-Encoding"]="gzip");var p=t.create({baseURL:h,headers:i.headers,httpAgent:i.httpAgent,httpsAgent:i.httpsAgent,paramsSerializer:g.a.stringify,proxy:i.proxy,timeout:i.timeout,adapter:i.adapter,maxContentLength:i.maxContentLength,logHandler:i.logHandler,responseLogger:i.responseLogger,requestLogger:i.requestLogger,retryOnError:i.retryOnError});return p.httpClientParams=n,p.cloneWithNewParams=function(i){return e(t,C({},f()(n),{},i))},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=e.defaults,i=n.responseLogger,r=void 0===i?function(){}:i,o=n.requestLogger,a=void 0===o?function(){}:o;e.interceptors.request.use((function(e){return a(e),e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){return r(e),e}),(function(n){var i=n.response,r=n.config;if(!r||!e.defaults.retryOnError)return Promise.reject(n);var o,a=null,s=0;if(i)O=0;else{if(a="Connection",++O>t)return n.attempts=O,Promise.reject(n);s=Math.pow(Math.SQRT2,O),i={}}if(i.status>=500&&i.status<600){a="Server ".concat(i.status);var c=(i.headers||{})["x-contentful-request-id"]||null;if(S[c]=S[c]||0,S[c]++,S[c]>t||!c)return n.attempts=S[c],Promise.reject(n);s=Math.pow(Math.SQRT2,S[c])}else 429===i.status&&(a="Rate limit",i.headers&&n.response.headers["x-contentful-ratelimit-reset"]&&(s=i.headers["x-contentful-ratelimit-reset"]));return a?(s=Math.floor(1e3*s+200*Math.random()+500),e.defaults.logHandler("warning","".concat(a," error occurred. Waiting for ").concat(s," ms before retrying...")),delete r.httpAgent,delete r.httpsAgent,(o=s,new Promise((function(e){setTimeout(e,o)}))).then((function(){return e(r)}))):Promise.reject(n)}))}(p,i.retryLimit),p}(d.a,t),o=(i={resolveLinks:t.resolveLinks,environment:t.environment,removeUnresolved:t.removeUnresolved,spaceBaseUrl:r.defaults.baseURL,environmentBaseUrl:"".concat(r.defaults.baseURL,"environments/").concat(t.environment)},function(e){return Object.assign({},i,e)});return r.defaults.baseURL=o().environmentBaseUrl,function(e){e.interceptors.response.use((function(e){return e}),(function(e){if(e.response&&e.response.config.headers.Authorization){var t=e.response.config.headers.Authorization;e.response.config.headers.Authorization=e.response.config.headers.Authorization.replace(t,"Bearer...".concat(t.substr(-5))),e.response.request._headers&&e.response.request._headers.authorization&&(e.response.request._headers.authorization=e.response.request._headers.authorization.replace(t,"Bearer...".concat(t.substr(-5)))),e.response.request._header&&(e.response.request._header=e.response.request._header.replace(t,"Bearer...".concat(t.substr(-5))))}return Promise.reject(e)}))}(r),function(e){var t=e.http,n=e.getGlobalOptions,i=Q.space.wrapSpace,r=Q.contentType,o=r.wrapContentType,a=r.wrapContentTypeCollection,s=Q.entry,c=s.wrapEntry,l=s.wrapEntryCollection,u=Q.asset,d=u.wrapAsset,h=u.wrapAssetCollection,f=Q.locale.wrapLocaleCollection,p=function(e){var t=new Error("The resource could not be found.");return t.sys={type:"Error",id:"NotFound"},t.details={type:"Entry",id:e,environment:n().environment,space:n().space},t};function g(e){if(e.data)throw e.data;if(e.response&&e.response.data)throw e.response.data;throw e}function v(e){e.select&&!/sys/i.test(e.select)&&(e.select+=",sys")}function m(e){e.defaults.baseURL=n().environmentBaseUrl}return{getSpace:function(){return function(e){e.defaults.baseURL=n().spaceBaseUrl}(t),t.get("").then((function(e){return i(e.data)}),g)},getContentType:function(e){return m(t),t.get("content_types/"+e).then((function(e){return o(e.data)}),g)},getContentTypes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m(t),t.get("content_types",E({query:e})).then((function(e){return a(e.data)}),g)},getEntry:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?this.getEntries(re({"sys.id":e},t)).then((function(t){if(t.items.length>0)return c(t.items[0]);throw p(e)}),g):Promise.reject(p(e))},getEntries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(t);var i=n(e),r=i.resolveLinks,o=i.removeUnresolved;return v(e),t.get("entries",E({query:e})).then((function(e){return l(e.data,{resolveLinks:r,removeUnresolved:o})}),g)},getAsset:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m(t),v(n),t.get("assets/"+e,E({query:n})).then((function(e){return d(e.data)}),g)},getAssets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m(t),v(e),t.get("assets",E({query:e})).then((function(e){return h(e.data)}),g)},getLocales:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m(t),t.get("locales",E({query:e})).then((function(e){return f(e.data)}),g)},parseEntries:function(e){var t=n({});return l(e,{resolveLinks:t.resolveLinks,removeUnresolved:t.removeUnresolved})},sync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{paginate:!0},r=n(e),o=r.resolveLinks,a=r.removeUnresolved;return m(t),J(t,e,re({resolveLinks:o,removeUnresolved:a},i))}}}({http:r,getGlobalOptions:o})}(ue.g.contentful.usePreview?{environment:ue.g.contentful.environment,space:ue.g.contentful.space,accessToken:ue.g.contentful.previewAccessToken,host:"preview.contentful.com"}:{environment:ue.g.contentful.environment,space:ue.g.contentful.space,accessToken:ue.g.contentful.accessToken})}return _createClass(e,[{key:"setLocale",value:function(e){this.locale=e}},{key:"setFallbackLocale",value:function(e){this.fallbackLocale=e}},{key:"getSpace",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cdaClient.getSpace();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"getLocales",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,this.cdaClient.getLocales();case 4:t=e.sent.items,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),ue.g.production||console.log(e.t0);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,this,[[1,7]])})))}},{key:"getEntries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.locale=t||this.locale||this.fallbackLocale,n.next=3,this.cdaClient.getEntries(e);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n,this)})))}},{key:"getEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t.locale=n||this.locale||this.fallbackLocale,i.next=3,this.cdaClient.getEntry(e,t);case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}}),i,this)})))}},{key:"graphQLQuery",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:new l.d({"Content-Type":"application/json",Authorization:"Bearer "+ue.g.contentful.accessToken})},t.abrupt("return",this.http.get(ue.g.contentful.graphQLAPI+"/spaces/"+ue.g.contentful.space+"/environments/"+ue.g.contentful.environment+"?query="+e,n).toPromise());case 2:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||le)(de.dc(l.b))},le.\u0275prov=de.Pb({token:le,factory:le.\u0275fac,providedIn:"root"}),le)},LcsW:function(e,t,n){var i=n("kekF")(Object.getPrototypeOf,Object);e.exports=i},Lhse:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},Lmem:function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},MBJt:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("ofXK"),r=n("ZOsW"),o=n("3Pt+"),a=n("o5mt"),s=n("gAzV"),c=n("fXoL"),l=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=c.Rb({type:e}),e.\u0275inj=c.Qb({factory:function(t){return new(t||e)},providers:[s.a],imports:[[i.c,o.E,r.b,a.a]]}),e}()},MLWZ:function(e,t,n){"use strict";var i=n("xTJ+");function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var a=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},MMmD:function(e,t,n){var i=n("lSCD"),r=n("shjB");e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},"MPf+":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ofXK"),r=n("fXoL"),o=function(){var e=function(){function e(t){_classCallCheck(this,e),this.platformId=t,this.webpStatus=new a,this.webpStatusDone=new a}return _createClass(e,[{key:"load",value:function(){var e=this;return new Promise((function(t,n){if(Object(i.L)(e.platformId))try{var r;for(r in e.readyPromise=t,e.webpStatus)"boolean"==typeof e.webpStatus[r]&&e.checkWebpFeature(r,e.onFeatureResult.bind(e))}catch(o){n(o)}else e.initServer(),t()}))}},{key:"initServer",value:function(){var e;for(e in this.webpStatus)"boolean"==typeof this.webpStatus[e]&&(this.webpStatus[e]=!0)}},{key:"checkWebpFeature",value:function(t,n){var i=new Image;i.onload=function(){n(t,i.width>0&&i.height>0)},i.onerror=function(){n(t,!1)},i.src="data:image/webp;base64,"+e.webpTestImages[t]}},{key:"onFeatureResult",value:function(e,t){this.webpStatus[e]=t,this.webpStatusDone[e]=!0,this.validateAllDone()}},{key:"validateAllDone",value:function(){var e;for(e in this.webpStatusDone)if("boolean"==typeof this.webpStatusDone[e]&&!this.webpStatusDone[e])return;this.readyPromise&&this.readyPromise()}},{key:"getWebPFeatures",get:function(){return this.webpStatus}},{key:"hasFullWebPFeatureSet",get:function(){var e=this.webpStatus;return e.lossy&&e.alpha&&e.lossless&&e.animation}}]),e}();return e.webpTestImages={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},e.\u0275fac=function(t){return new(t||e)(r.dc(r.G))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),a=function e(){_classCallCheck(this,e),this.lossy=!1,this.lossless=!1,this.alpha=!1,this.animation=!1}},MkmW:function(e,t,n){"use strict";t.hostReportError=function(e){setTimeout((function(){throw e}),0)}},MrPd:function(e,t,n){var i=n("hypo"),r=n("ljhN"),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&r(a,n)&&(void 0!==n||t in e)||i(e,t,n)}},MtjB:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("XNiG"),r=n("l7GE"),o=n("ZUHj");function a(e){return function(t){return t.lift(new s(e,t))}}var s=function(){function e(t,n){_classCallCheck(this,e),this.notifier=t,this.source=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.notifier,this.source))}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).notifier=i,o.source=r,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t=this.errors,r=this.retries,a=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{t=new i.a;try{r=(0,this.notifier)(t)}catch(s){return _get(_getPrototypeOf(n.prototype),"error",this).call(this,s)}a=Object(o.a)(this,r)}this._unsubscribeAndRecycle(),this.errors=t,this.retries=r,this.retriesSubscription=a,t.next(e)}}},{key:"_unsubscribe",value:function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null}},{key:"notifyNext",value:function(e,t,n,i,r){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)}}]),n}(r.a)},MvSz:function(e,t,n){var i=n("LXxW"),r=n("0ycA"),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;e.exports=a?function(e){return null==e?[]:(e=Object(e),i(a(e),(function(t){return o.call(e,t)})))}:r},Mxju:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("ofXK"),r=n("fXoL"),o=n("d/Sv"),a=n("1AID"),s=n("VXQe"),c=n("BifP"),l=n("ZOsW"),u=n("3Pt+"),d=n("VXoX");function h(e,t){1&e&&(r.Sc(0),r.kc(1,"cmsTranslate")),2&e&&r.Uc(" ",r.lc(1,1,t.item.name)," ")}function f(e,t){if(1&e&&(r.Zb(0,"div",6),r.Ub(1,"i",7),r.Sc(2),r.kc(3,"cmsTranslate"),r.Yb()),2&e){var n=t.item;r.Hb(1),r.sc("ngClass",n.class),r.Hb(1),r.Uc(" ",r.lc(3,2,n.name)," ")}}function p(e,t){if(1&e){var n=r.ac();r.Xb(0),r.Zb(1,"ng-select",2,3),r.hc("ngModelChange",(function(e){return r.Hc(n),r.jc().flightType=e}))("change",(function(){return r.Hc(n),r.jc().changeOption()}))("open",(function(){return r.Hc(n),r.jc().open()}))("close",(function(){return r.Hc(n),r.jc().close()})),r.Qc(3,h,2,3,"ng-template",4),r.Qc(4,f,4,4,"ng-template",5),r.Yb(),r.Wb()}if(2&e){var i=r.jc();r.Hb(1),r.sc("items",i.flightTypes)("ngModel",i.flightType)("searchable",!1)("clearable",!1)}}var g=function(e){return{"mr-md-20":e}};function v(e,t){if(1&e){var n=r.ac();r.Zb(0,"label",10),r.Zb(1,"span",11),r.Sc(2),r.kc(3,"cmsTranslate"),r.Yb(),r.Zb(4,"input",12),r.hc("ngModelChange",(function(e){return r.Hc(n),r.jc(2).flightType=e}))("ngModelChange",(function(){return r.Hc(n),r.jc(2).changeOption()})),r.Yb(),r.Ub(5,"span",13),r.Yb()}if(2&e){var i=t.$implicit,o=t.index,a=r.jc(2);r.sc("for","type_"+o)("ngClass",r.vc(8,g,o+1<a.flightTypes.length)),r.Hb(2),r.Tc(r.lc(3,6,i.name)),r.Hb(2),r.sc("id","type_"+o)("value",i.id)("ngModel",a.flightType)}}function m(e,t){if(1&e&&(r.Zb(0,"div",8),r.Qc(1,v,6,10,"label",9),r.Yb()),2&e){var n=r.jc();r.Hb(1),r.sc("ngForOf",n.flightTypes)}}var b=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.genericOverlayService=t,this.csmConfig=n,this.document=i,this.selectedFlightType=new r.p,this.flightType=o.a.ONE_WAY,this.radioStyle=!1,this.isOpenJawEnabled=!1,this.flightTypes=[{id:o.a.ROUND_TRIP,name:"GLOBAL_LABEL_ROUND-TRIP",class:"fa-exchange-alt"},{id:o.a.ONE_WAY,name:"GLOBAL_LABEL_ONEWAY-TRIP",class:"fa-long-arrow-alt-right"}]}return _createClass(e,[{key:"ngOnInit",value:function(){this.enableBookerOpenJaw()}},{key:"changeOption",value:function(){this.selectedFlightType.emit(this.flightType)}},{key:"open",value:function(){this.document.body.clientWidth<800&&(this.document.body.style.overflow="hidden",this.genericOverlayService.showOverlay())}},{key:"close",value:function(){this.document.body.style.overflow="auto",this.genericOverlayService.hideOverlay()}},{key:"enableBookerOpenJaw",value:function(){this.csmConfig.getSectionFeatureValue(a.b.GLOBAL,a.a.OpenJawBooker)&&(this.isOpenJawEnabled=!0,this.flightTypes.push({id:o.a.MULTI_CITY,name:"GLOBAL_LABEL_MULTICITY-TRIP",class:"fa-network-wired"}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Tb(s.a),r.Tb(c.a),r.Tb(i.e))},e.\u0275cmp=r.Nb({type:e,selectors:[["app-flight-select"]],inputs:{flightType:"flightType",radioStyle:"radioStyle"},outputs:{selectedFlightType:"selectedFlightType"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["radioButtons",""],["bindLabel","name","bindValue","id",1,"select-small","flight-select",3,"items","ngModel","searchable","clearable","ngModelChange","change","open","close"],["selectTypeFlight",""],["ng-label-tmp",""],["ng-option-tmp",""],[1,"ng-option-label"],[1,"fas","fa-sm","mr-2",3,"ngClass"],[1,"d-flex"],["class","checkbox-container flight-selection mr-10",3,"for","ngClass",4,"ngFor","ngForOf"],[1,"checkbox-container","flight-selection","mr-10",3,"for","ngClass"],[1,"title"],["name","type","type","radio",3,"id","value","ngModel","ngModelChange"],[1,"radio"]],template:function(e,t){if(1&e&&(r.Qc(0,p,5,4,"ng-container",0),r.Qc(1,m,2,1,"ng-template",null,1,r.Rc)),2&e){var n=r.Ec(2);r.sc("ngIf",!t.radioStyle)("ngIfElse",n)}},directives:[i.u,l.a,u.u,u.x,l.e,l.c,i.r,i.t,u.C,u.d],pipes:[d.a],styles:[".flight-select[_ngcontent-%COMP%]     .ng-dropdown-panel{min-width:280px}.flight-select[_ngcontent-%COMP%]     .ng-dropdown-panel.ng-select-bottom{top:0;margin-top:23px}@media screen and (max-width:991px){.flight-selection[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:14px}}@media screen and (max-width:800px){  .ng-dropdown-panel .ng-dropdown-panel-items .ng-option:first-child{margin-top:0;padding:30px 30px 20px}  .ng-dropdown-panel .ng-dropdown-panel-items .ng-option:first-child>div{padding-top:0}  .ng-dropdown-panel .ng-dropdown-panel-items .ng-option{color:var(--bg4);padding:20px 30px!important}  .ng-dropdown-panel .ng-dropdown-panel-items .ng-option:last-child{margin-bottom:0;padding:20px 30px 30px}  .ng-dropdown-panel .ng-dropdown-panel-items .ng-option:last-child>div{padding-bottom:0}  .ng-dropdown-panel .ng-dropdown-panel-items .ng-option{margin:0}}"]}),e}()},NDEZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function e(){_classCallCheck(this,e)},r=function(e){return e.NonStop="NonStop",e.MultiLeg="MultiLeg",e}({})},NJ4a:function(e,t,n){"use strict";function i(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return i}))},NKxu:function(e,t,n){var i=n("lSCD"),r=n("E2jh"),o=n("GoyQ"),a=n("3Fdi"),s=/^\[object .+?Constructor\]$/,c=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||r(e))&&(i(e)?c:s).test(a(e))}},NTcF:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n("ffpz");t.AsyncScheduler=function(e){function t(n,i){void 0===i&&(i=o.Scheduler.now);var r=e.call(this,n,(function(){return t.delegate&&t.delegate!==r?t.delegate.now():i()}))||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}return r(t,e),t.prototype.schedule=function(n,i,r){return void 0===i&&(i=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,i,r):e.prototype.schedule.call(this,n,i,r)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(o.Scheduler)},NXyV:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("HDdC"),r=n("Cfvw"),o=n("EY2u");function a(e){return new i.a((function(t){var n;try{n=e()}catch(i){return void t.error(i)}return(n?Object(r.a)(n):Object(o.b)()).subscribe(t)}))}},Npjl:function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},NykK:function(e,t,n){var i=n("nmnc"),r=n("AP2z"),o=n("KfNM"),a=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):o(e)}},O0oS:function(e,t,n){var i=n("Cwc5"),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=r},OBhP:function(e,t,n){var i=n("fmRc"),r=n("gFfm"),o=n("MrPd"),a=n("WwFo"),s=n("Dw+G"),c=n("5Tg0"),l=n("Q1l4"),u=n("VOtZ"),d=n("EEGq"),h=n("qZTm"),f=n("G6z8"),p=n("QqLw"),g=n("yHx3"),v=n("wrZu"),m=n("+iFO"),b=n("Z0cm"),y=n("DSRE"),_=n("zEVN"),C=n("GoyQ"),k=n("1+5i"),S=n("7GkX"),O={};O["[object Arguments]"]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O["[object Object]"]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O["[object Function]"]=O["[object WeakMap]"]=!1,e.exports=function e(t,n,T,w,A,E){var P,M=1&n,x=2&n,D=4&n;if(T&&(P=A?T(t,w,A,E):T(t)),void 0!==P)return P;if(!C(t))return t;var I=b(t);if(I){if(P=g(t),!M)return l(t,P)}else{var L=p(t),R="[object Function]"==L||"[object GeneratorFunction]"==L;if(y(t))return c(t,M);if("[object Object]"==L||"[object Arguments]"==L||R&&!A){if(P=x||R?{}:m(t),!M)return x?d(t,s(P,t)):u(t,a(P,t))}else{if(!O[L])return A?t:{};P=v(t,L,M)}}E||(E=new i);var N=E.get(t);if(N)return N;E.set(t,P),k(t)?t.forEach((function(i){P.add(e(i,n,T,i,t,E))})):_(t)&&t.forEach((function(i,r){P.set(r,e(i,n,T,r,t,E))}));var j=D?x?f:h:x?keysIn:S,B=I?void 0:j(t);return r(B||t,(function(i,r){B&&(i=t[r=i]),o(P,r,e(i,n,T,r,t,E))})),P}},OH9c:function(e,t,n){"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},OPfs:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("aSQu"),r=n("wd/R"),o=n("RJ73"),a=n("2Vo4"),s=n("XNiG"),c=n("fXoL"),l=n("BifP"),u=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.cmsConfig=t,this.sortingParameters=[{name:"BOOKER_SORTBY_BEST-OPTION",type:i.c.BEST_MATCH},{name:"BOOKER_SORTBY_DEPARTURE",type:i.c.DEPARTURE_TIME},{name:"BOOKER_SORTBY_PRICE",type:i.c.LOWEST_PRICE},{name:"BOOKER_SORTBY_DURATION",type:i.c.TRIP_DURATION}],this.sortingByOriginParams={name:"BOOKER_SORTBY_AIRPORT",type:i.c.ORIGIN_AIRPORT},this.filteringParameters=[{name:"BOOKER_SHOW_NON-STOP",type:i.b.DIRECT_TRIP,enabled:!1,count:0},{name:"BOOKER_SHOW_PROMOTIONS",type:i.b.SPECIAL_OFFERS,enabled:!1,count:0},{name:"BOOKER_SHOW_MORNING",type:i.b.MORNING_FLIGHTS,enabled:!1,count:0},{name:"BOOKER_SHOW_AFTERNOON",type:i.b.AFTERNOON_FLIGHTS,enabled:!1,count:0},{name:"BOOKER_SORTBY_SAME-ROUTE",type:i.b.SAME_ROUTE,enabled:!1,count:0}],this.filterGroups=[],this.morningFlightTime="12:00:00",this.defaultSortingOption=this.sortingParameters[0],this.$selectedSorting=new a.a(this.sortingParameters[0]),this.$onSortChange=new s.a,this.$onFilterChange=new s.a,this.$onVivaFanToggleChange=new a.a(!1),this.$onUserAddVivaFanMembership=new a.a(!1),this.userAddVivaFanMembership=!1,this.cunSortConfig={origin:!1,destination:!1},this.morningFlightTime=this.cmsConfig._cmsConfig.bookingSettings.morningFlightTime||this.morningFlightTime,this.filterGroups=[],i.a.forEach((function(e){var t=n.filteringParameters.filter((function(t){return e.includes(t.type)}));n.filterGroups.push(t)}))}return _createClass(e,[{key:"emitSelectedSorting",value:function(e){this.$selectedSorting.next(e)}},{key:"emitSortChanges",value:function(e){this.$onSortChange.next(e)}},{key:"emitFilterChanges",value:function(){this.$onFilterChange.next()}},{key:"emitVivaFanToggleChange",value:function(e){this.$onVivaFanToggleChange.next(e),!e&&this.userAddVivaFanMembership&&this.emitUpdateUserMembership(!1)}},{key:"emitUpdateUserMembership",value:function(e){this.$onUserAddVivaFanMembership.next(e),this.userAddVivaFanMembership=e}},{key:"resetFilteringParams",value:function(){this.currentRouteDetails=void 0,this.resetFilters(),this.emitSortChanges(this.defaultSortingOption),this.emitSelectedSorting(this.defaultSortingOption),this.emitUpdateUserMembership(!1)}},{key:"clearFilters",value:function(){this.filteringParameters.forEach((function(e){e.enabled=!1})),this.emitFilterChanges()}},{key:"loadFiltersFromParams",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(e&&Array.isArray(e)&&e.length&&!t){var r=null==e?void 0:e.filter((function(e){return Object.keys(i.d).includes(e)})).map((function(e){return i.d[e]}));n||(r=null==r?void 0:r.filter((function(e){return e!==i.b.SAME_ROUTE}))),r.length&&this.filteringParameters.forEach((function(e){(null==r?void 0:r.includes(e.type))&&(e.enabled=!0)}))}}},{key:"resetFilters",value:function(){this.filteringParameters.forEach((function(e){e.count=0,e.enabled=!1}))}},{key:"isJourneyResponseBetweenTimes",value:function(e,t,n){var i=r(t,"HH:mm:SS"),o=r(n,"HH:mm:SS"),a=r(r(e.departureDate).format("HH:mm:SS"),"HH:mm:SS");return a.isSameOrAfter(i,"seconds")&&a.isBefore(o,"seconds")}},{key:"isJourneySameAsSearchedRoute",value:function(e){return!!this.currentRouteDetails&&e.origin.code===this.currentRouteDetails.origin.code&&e.destination.code===this.currentRouteDetails.destination.code}},{key:"journeyResponseHasOffer",value:function(e){var t=this.getLowestJourneyFare(e);return t&&t.labels&&t.labels.length>0}},{key:"journeyIsStationTravelType",value:function(e,t){return e.travelType===t}},{key:"getLowestJourneyFare",value:function(e){return e.fares.find((function(t){return t.key===e.lowestFareKey}))}},{key:"sortJourneyResults",value:function(e,t){var n,a,s=this;if(!t||!e)return e;switch(t.type){case i.c.ARRIVAL_TIME:return e.sort((function(e,t){var n=r(e.arrivalDate),i=r(t.arrivalDate);return n.isBefore(i)?-1:n.isAfter(i)?1:0}));case i.c.DEPARTURE_TIME:return e.sort((function(e,t){var n=r(e.departureDate),i=r(t.departureDate);return n.isBefore(i)?-1:n.isAfter(i)?1:0}));case i.c.LOWEST_PRICE:return e.sort((function(e,t){var n=s.getLowestJourneyFare(e),i=s.getLowestJourneyFare(t),r=n?n.fare.amount:Number.POSITIVE_INFINITY,o=i?i.fare.amount:Number.POSITIVE_INFINITY;return r<o?-1:r>o?1:0}));case i.c.TRIP_DURATION:return e.sort((function(e,t){var n=r.duration(e.journeyDuration).asMilliseconds(),i=r.duration(t.journeyDuration).asMilliseconds();return n<i?-1:n>i?1:0}));case i.c.AVAILABILITY:return e.sort((function(e,t){return!e.isSoldout&&t.isSoldout?-1:e.isSoldout&&!t.isSoldout?1:0}));case i.c.BEST_MATCH:if((null===(n=this.cunSortConfig)||void 0===n?void 0:n.origin)||(null===(a=this.cunSortConfig)||void 0===a?void 0:a.destination))return this.getTqoCunSorting(e);var c=(e=e.filter((function(e){return!(e.travelType===o.h.CONNECTING&&e.isSoldout)}))).filter((function(e){return e.travelType===o.h.NONSTOP})),l=e.filter((function(e){return e.travelType===o.h.DIRECT})),u=e.filter((function(e){return e.travelType===o.h.CONNECTING}));return u=this.sortJourneyResults(Array.from(u),{name:"",type:i.c.TRIP_DURATION}),e=c.concat(l,u),this.sortJourneyResults(Array.from(e),{name:"",type:i.c.AVAILABILITY});case i.c.ORIGIN_AIRPORT:var d=this.sortJourneyResults(Array.from(e),{name:"",type:i.c.DEPARTURE_TIME}).sort((function(e,t){return e.origin.code<t.origin.code?-1:e.origin.code>t.origin.code?1:0}));return this.sortJourneyResults(Array.from(d),{name:"",type:i.c.AVAILABILITY});default:return e}}},{key:"doFilterByType",value:function(e,t){var n=this;switch(t.type){case i.b.DIRECT_TRIP:return e.filter((function(e){return n.journeyIsStationTravelType(e,o.h.NONSTOP)||n.journeyIsStationTravelType(e,o.h.DIRECT)}));case i.b.SPECIAL_OFFERS:return e.filter((function(e){return n.journeyResponseHasOffer(e)}));case i.b.MORNING_FLIGHTS:return e.filter((function(e){return n.isJourneyResponseBetweenTimes(e,"00:00:00",n.morningFlightTime)}));case i.b.AFTERNOON_FLIGHTS:return e.filter((function(e){return n.isJourneyResponseBetweenTimes(e,n.morningFlightTime,"23:59:59")}));case i.b.SAME_ROUTE:return e.filter((function(e){return n.isJourneySameAsSearchedRoute(e)}));default:return e}}},{key:"setCurrentRouteDetails",value:function(e){this.currentRouteDetails=e}},{key:"toggleSortByOriginVisibility",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)this.sortingParameters.includes(this.sortingByOriginParams)||this.sortingParameters.push(this.sortingByOriginParams);else{var n=this.sortingParameters.findIndex((function(t){return t===e.sortingByOriginParams}));-1!==n&&this.sortingParameters.splice(n,1)}}},{key:"setCunSortConfig",value:function(e){this.cunSortConfig=e}},{key:"getTqoCunSorting",value:function(e){var t=this.cunSortConfig.origin?"origin":"destination",n=this.sortJourneyResults(Array.from(e),{name:"",type:i.c.DEPARTURE_TIME}),r=n.filter((function(e){return e.travelType===o.h.CONNECTING})),a=n.filter((function(e){return e.travelType!==o.h.CONNECTING})),s=a.filter((function(e){return"TQO"===e[t].code})),c=a.filter((function(e){return"CUN"===e[t].code}));return this.sortJourneyResults(Array.from(s.concat(c,r)),{name:"",type:i.c.AVAILABILITY})}},{key:"_sortingParameters",get:function(){return this.sortingParameters}},{key:"_filteringParameters",get:function(){return this.filteringParameters}},{key:"_filterGroups",get:function(){return this.filterGroups}},{key:"selectedSorting$",get:function(){return this.$selectedSorting.asObservable()}},{key:"_defaultSortingOption",get:function(){return this.defaultSortingOption}},{key:"onSortChange$",get:function(){return this.$onSortChange.asObservable()}},{key:"onFilterChange$",get:function(){return this.$onFilterChange.asObservable()}},{key:"onVivaFanToggleChange$",get:function(){return this.$onVivaFanToggleChange.asObservable()}},{key:"_UserAddVivaFanMembership",get:function(){return this.userAddVivaFanMembership}},{key:"onGetUserVivaFanMembership$",get:function(){return this.$onUserAddVivaFanMembership.asObservable()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.dc(l.a))},e.\u0275prov=c.Pb({token:e,factory:e.\u0275fac}),e}()},OTTw:function(e,t,n){"use strict";var i=n("xTJ+");e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},"Of+w":function(e,t,n){var i=n("Cwc5")(n("Kz5y"),"WeakMap");e.exports=i},PnAN:function(e,t,n){function i(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n("rOEr")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),e.splice(o,0,i)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=i,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())},PqYM:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("HDdC"),r=n("D0XW"),o=n("Y7HM"),a=n("z+Ro");function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,s=-1;return Object(o.a)(t)?s=Number(t)<1?1:Number(t):Object(a.a)(t)&&(n=t),Object(a.a)(n)||(n=r.a),new i.a((function(t){var i=Object(o.a)(e)?e:+e-n.now();return n.schedule(c,i,{index:0,period:s,subscriber:t})}))}function c(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}},Pqv9:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ofXK"),r=n("d0zJ"),o=n("o5mt"),a=n("kpjh"),s=n("fXoL"),c=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=s.Rb({type:e}),e.\u0275inj=s.Qb({factory:function(t){return new(t||e)},imports:[[i.c,r.a,o.a,a.a]]}),e}()},PxKc:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c}));var i=function(e){return e.Flights="Flights",e.Passengers="Passengers",e.Seats="Seats",e.Baggage="Baggage",e.Extras="Extras",e.Payment="Payment",e.Hotel="Hotel",e.FE_Calendar="FE_Calendar",e.Combos="Combos",e.NO_STEP="",e}({}),r=function(e){return e.Booking="Booking",e.CheckIn="CheckIn",e.Manage="Manage",e.Irop="Irop",e}({}),o=function(e){return e.Desktop="desktop",e.Mobile="mobile",e.Tablet="tablet",e.Other="other",e}({}),a={currentStep:i.NO_STEP,flowType:r.Booking,steps:[{name:i.Flights,isOptional:!1},{name:i.Passengers,isOptional:!1},{name:i.Seats,isOptional:!1},{name:i.Extras,isOptional:!1},{name:i.Payment,isOptional:!1}]},s={currentStep:i.Payment,flowType:r.Manage,steps:[{name:i.Flights,isOptional:!1},{name:i.Combos,isOptional:!1},{name:i.Seats,isOptional:!1},{name:i.Baggage,isOptional:!1},{name:i.Extras,isOptional:!1},{name:i.Payment,isOptional:!1}]},c={currentStep:i.Payment,flowType:r.CheckIn,steps:[{name:i.Combos,isOptional:!1},{name:i.Seats,isOptional:!1},{name:i.Baggage,isOptional:!1},{name:i.Extras,isOptional:!1},{name:i.Payment,isOptional:!1}]}},"Q+ex":function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var i=n("fXoL"),r=n("RBZv"),o=n("ofXK"),a=n("9O1C"),s=n("ib+v"),c=n("VXoX"),l=n("0o02"),u=function(e){return{color:e}},d=function(){return{}};function h(e,t){if(1&e&&i.Ub(0,"em",16),2&e){var n=i.jc(3);i.sc("ngClass",n.pickIconClass)("ngStyle",n.alertData.customDisplayColor?i.vc(2,u,n.alertData.customDisplayColor):i.uc(4,d))}}var f=function(e,t){return{"custom-image":e,"img-size-lg":t}};function p(e,t){if(1&e&&i.Ub(0,"img",17),2&e){var n=i.jc(3);i.sc("ngClass",i.wc(3,f,!n.sizeImg,"lg"===n.sizeImg))("src",n.alertData.customImage.fields.file.url,i.Kc)("alt",n.alertData.customImage.fields.title)}}var g=function(e,t,n,i){return{"mr-2":e,"mr-4":t,"ml-md-4 ml-sm-0":n,"default-title":i}};function v(e,t){if(1&e&&(i.Zb(0,"p",18),i.Sc(1),i.kc(2,"cmsRegexReplace"),i.Yb()),2&e){var n=i.jc(3);i.sc("ngStyle",n.alertData.customDisplayColor?i.vc(6,u,n.alertData.customDisplayColor):i.uc(8,d))("ngClass",i.yc(9,g,n.noClose,!n.noClose,!n.alertData.customImage&&!n.pickIconClass,n.defaultTitle)),i.Hb(1),i.Uc(" ",i.mc(2,3,n.alertData.title,n.cmsReplacementValues)," ")}}function m(e,t){1&e&&i.Vb(0)}function b(e,t){if(1&e){var n=i.ac();i.Zb(0,"div",20),i.hc("click",(function(){return i.Hc(n),i.jc(4).ctaClicked()})),i.Sc(1),i.Yb()}if(2&e){var r=i.jc(4);i.Hb(1),i.Uc(" ",r.alertData.ctaText," ")}}function y(e,t){if(1&e&&(i.Xb(0),i.Qc(1,b,2,1,"div",19),i.Wb()),2&e){var n=i.jc(3),r=i.Ec(6);i.Hb(1),i.sc("ngIf",!n.warningStyle)("ngIfElse",r)}}var _=function(e,t){return{"ml-0 ml-md-30":e,"mt-2":t}};function C(e,t){if(1&e&&(i.Zb(0,"app-call-to-action",21),i.Zb(1,"span",22),i.Sc(2),i.Yb(),i.Yb()),2&e){var n=i.jc(3);i.sc("callToAction",n.alertData.callToAction.fields)("ngClass",i.wc(3,_,n.applyExpandedLayout,!n.applyExpandedLayout)),i.Hb(2),i.Uc(" ",n.alertData.callToAction.fields.text," ")}}var k=function(e){return{"margin-lg-img":e}};function S(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",7),i.Qc(2,h,1,5,"em",8),i.Qc(3,p,1,6,"img",9),i.Qc(4,v,3,14,"p",10),i.Yb(),i.Zb(5,"div",11),i.Zb(6,"div",12),i.Qc(7,m,1,0,"ng-container",13),i.Qc(8,y,2,2,"ng-container",14),i.Yb(),i.Qc(9,C,3,6,"app-call-to-action",15),i.Yb(),i.Wb()),2&e){var n=i.jc(2),r=i.Ec(4);i.Hb(2),i.sc("ngIf",!n.alertData.customImage&&n.pickIconClass),i.Hb(1),i.sc("ngIf",n.alertData.customImage),i.Hb(1),i.sc("ngIf",n.alertData.title&&!n.noTitle),i.Hb(1),i.sc("ngClass",i.vc(8,k,"lg"===n.sizeImg&&!n.isMobile)),i.Hb(1),i.sc("ngClass",n.applyExpandedLayout?"ml-md-4 ml-sm-0 mt-1 mb-2":""),i.Hb(1),i.sc("ngTemplateOutlet",r),i.Hb(1),i.sc("ngIf",n.alertData.ctaText&&n.useCtaAsButton),i.Hb(1),i.sc("ngIf",!(null==n.alertData.callToAction||!n.alertData.callToAction.fields))}}function O(e,t){if(1&e){var n=i.ac();i.Zb(0,"button",23),i.hc("click",(function(){return i.Hc(n),i.jc(2).close()})),i.Ub(1,"em",24),i.Yb()}if(2&e){var r=i.jc(2);i.sc("ngClass",r.alertData.displayColor)("ngStyle",r.alertData.customDisplayColor?i.vc(2,u,r.alertData.customDisplayColor):i.uc(4,d))}}var T=function(e,t,n,i,r,o,a,s,c,l,u){return[e,t,n,i,r,o,a,s,c,l,u]},w=function(e){return{"border-left-color":e}};function A(e,t){if(1&e&&(i.Zb(0,"div",4),i.Qc(1,S,10,10,"ng-container",5),i.Qc(2,O,2,5,"button",6),i.Yb()),2&e){var n=i.jc(),r=i.Ec(2);i.sc("ngClass",i.Cc(5,T,[n.alertData.displayColor?n.alertData.displayColor:"green-white",n.applyExpandedLayout?"flex-column":"",n.noRounded?"no-rounded":"",n.noMargin?"mb-0":"mb-2",n.isMobile&&n.alertData.title?"mobile-alert":"",n.confirmationStyle?"confirmation":"",n.profileAlert?"align-items-center":"",n.includeBorder?"gray-border":"",n.borderLeft?"":"border-0",n.noPadding?"p-0 p-md-0":"",n.extraClass]))("ngStyle",n.alertData.customDisplayColor?i.vc(17,w,n.alertData.customDisplayColor):i.uc(19,d)),i.Hb(1),i.sc("ngIf",!n.confirmationStyle)("ngIfElse",r),i.Hb(1),i.sc("ngIf",!n.noClose)}}function E(e,t){if(1&e&&(i.Zb(0,"h4",34),i.Sc(1),i.kc(2,"cmsRegexReplace"),i.Yb()),2&e){var n=i.jc(2);i.Hb(1),i.Uc(" ",i.mc(2,1,n.alertData.title,n.cmsReplacementValues)," ")}}function P(e,t){1&e&&i.Vb(0)}function M(e,t){if(1&e&&(i.Zb(0,"p",35),i.Qc(1,P,1,0,"ng-container",13),i.Yb()),2&e){i.jc(2);var n=i.Ec(4);i.Hb(1),i.sc("ngTemplateOutlet",n)}}function x(e,t){if(1&e){var n=i.ac();i.Zb(0,"div",25),i.Zb(1,"div",26),i.Ub(2,"em",27),i.Zb(3,"div",28),i.Qc(4,E,3,4,"h4",29),i.Qc(5,M,2,1,"p",30),i.Ub(6,"div",31),i.kc(7,"cmsRegexReplace"),i.Yb(),i.Yb(),i.Zb(8,"div",32),i.Zb(9,"button",33),i.hc("click",(function(){return i.Hc(n),i.jc().ctaClicked()})),i.Zb(10,"span"),i.Sc(11),i.kc(12,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&e){var r=i.jc();i.Hb(2),i.sc("ngClass",r.pickIconClass),i.Hb(2),i.sc("ngIf",r.alertData.title),i.Hb(1),i.sc("ngIf",r.alertData.message),i.Hb(1),i.sc("innerHTML",i.mc(7,5,r.getHtml(r.alertData.richMessage),r.cmsReplacementValues),i.Ic),i.Hb(5),i.Tc(i.lc(12,8,r.buttonCopyId?r.buttonCopyId:"GLOBAL_ACTION_PAY-NOW"))}}function D(e,t){if(1&e&&(i.Xb(0),i.Ub(1,"div",37),i.kc(2,"cmsRegexReplace"),i.kc(3,"richText"),i.Wb()),2&e){var n=i.jc(2);i.Hb(1),i.sc("innerHTML",i.mc(2,1,i.lc(3,4,n.alertData.richMessage),n.cmsReplacementValues),i.Ic)}}function I(e,t){if(1&e&&(i.Sc(0),i.kc(1,"cmsRegexReplace")),2&e){var n=i.jc(2);i.Uc(" ",i.mc(1,1,null==n.alertData?null:n.alertData.message,n.cmsReplacementValues)," ")}}function L(e,t){if(1&e&&(i.Qc(0,D,4,6,"ng-container",5),i.Qc(1,I,2,4,"ng-template",null,36,i.Rc)),2&e){var n=i.Ec(2),r=i.jc();i.sc("ngIf",(null==r.alertData?null:r.alertData.richMessage)&&r.useRichText)("ngIfElse",n)}}function R(e,t){if(1&e){var n=i.ac();i.Zb(0,"div",38),i.hc("click",(function(){return i.Hc(n),i.jc().ctaClicked()})),i.Zb(1,"span"),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Ub(4,"em",39),i.Yb()}if(2&e){var r=i.jc();i.Hb(2),i.Tc(i.lc(3,1,r.alertData.ctaText))}}var N=function(){var e=function(){function e(t){_classCallCheck(this,e),this.cmsPageService=t,this.closeAlert=new i.p,this.clicked=new i.p,this.useRichText=!1,this.includeBorder=!1,this.forceExpandedLayout=!1,this.cmsReplacementValues=[],this.sizeImg="",this.isMobile=!1,this.noTitle=!1,this.profileAlert=!1,this.useCtaAsButton=!1,this.defaultTitle=!0,this.warningStyle=!1,this.borderLeft=!0,this.extraClass="",this.iconClasses={warning:"fa-exclamation-triangle",information:"fa-info-circle",flight:"fa-plane",announcement:"fa-bullhorn",promo:"fa-certificate","custom-image":"","custom-icon-class":""}}return _createClass(e,[{key:"ngOnInit",value:function(){window.innerWidth<=800&&(this.isMobile=!0)}},{key:"close",value:function(){this.closeAlert.emit()}},{key:"ctaClicked",value:function(){this.clicked.emit()}},{key:"getHtml",value:function(e){return this.cmsPageService.richTextToHtmlString(e,{})}},{key:"pickIconClass",get:function(){var e;return this.alertData?(null===(e=this.alertData.displayImage)||void 0===e?void 0:e.includes("custom-icon"))&&this.alertData.customIconClass?this.alertData.customIconClass:this.iconClasses[this.alertData.displayImage]:""}},{key:"applyExpandedLayout",get:function(){return this.forceExpandedLayout||this.alertData.title&&this.alertData.title.length>30&&!this.noTitle}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(r.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-flight-alert"]],inputs:{alertData:"alertData",noRounded:"noRounded",useRichText:"useRichText",includeBorder:"includeBorder",noMargin:"noMargin",noClose:"noClose",noPadding:"noPadding",confirmationStyle:"confirmationStyle",forceExpandedLayout:"forceExpandedLayout",cmsReplacementValues:"cmsReplacementValues",sizeImg:"sizeImg",noTitle:"noTitle",buttonCopyId:"buttonCopyId",profileAlert:"profileAlert",useCtaAsButton:"useCtaAsButton",defaultTitle:"defaultTitle",warningStyle:"warningStyle",borderLeft:"borderLeft",extraClass:"extraClass"},outputs:{closeAlert:"closeAlert",clicked:"clicked"},decls:7,vars:1,consts:[["class","\n    flight-alert\n    py-15\n    pl-15\n    pr-10 pr-md-4\n    d-flex\n    align-items-baseline\n    position-relative\n  ",3,"ngClass","ngStyle",4,"ngIf"],["confirmation",""],["messageTxt",""],["newLineCTA",""],[1,"flight-alert","py-15","pl-15","pr-10","pr-md-4","d-flex","align-items-baseline","position-relative",3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["class","flight-alert-close",3,"ngClass","ngStyle","click",4,"ngIf"],[1,"d-flex","align-items-center"],["class","fas mr-2",3,"ngClass","ngStyle",4,"ngIf"],[3,"ngClass","src","alt",4,"ngIf"],["class","medium-title my-0 font-weight-bold",3,"ngStyle","ngClass",4,"ngIf"],[3,"ngClass"],[1,"my-0","regular-text","p-content",3,"ngClass"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","d-flex align-items-center",3,"callToAction","ngClass",4,"ngIf"],[1,"fas","mr-2",3,"ngClass","ngStyle"],[3,"ngClass","src","alt"],[1,"medium-title","my-0","font-weight-bold",3,"ngStyle","ngClass"],["class","cta-txt small-title d-inline font-weight-bold cursor-pointer",3,"click",4,"ngIf","ngIfElse"],[1,"cta-txt","small-title","d-inline","font-weight-bold","cursor-pointer",3,"click"],[1,"d-flex","align-items-center",3,"callToAction","ngClass"],[1,"link","text-link","text","cta-text"],[1,"flight-alert-close",3,"ngClass","ngStyle","click"],[1,"fas","fa-times","opacity-5"],[1,"d-flex","flex-column","flex-lg-row","w-100","justify-content-between","py-5"],[1,"d-flex"],[1,"fas","mr-15","c-icon",3,"ngClass"],[1,"pr-40"],["class","h4 dark mt-0 mb-2",4,"ngIf"],["class","regular-text lower",4,"ngIf"],[1,"regular-text","gray","rt-paragraph-m-0","mb-3","mb-md-0",3,"innerHTML"],[1,"d-flex","align-items-center","btn-container"],[1,"viva-btn","shop","px-60",3,"click"],[1,"h4","dark","mt-0","mb-2"],[1,"regular-text","lower"],["message",""],[1,"rt-paragraph-m-0",3,"innerHTML"],[1,"warning-cta","medium-title","font-weight-bold","cursor-pointer","display-flex","align-items-center","mt-10",3,"click"],[1,"fas","fa-arrow-right","ml-10"]],template:function(e,t){1&e&&(i.Qc(0,A,3,20,"div",0),i.Qc(1,x,13,10,"ng-template",null,1,i.Rc),i.Qc(3,L,3,2,"ng-template",null,2,i.Rc),i.Qc(5,R,5,3,"ng-template",null,3,i.Rc)),2&e&&i.sc("ngIf",t.alertData)},directives:[o.u,o.r,o.x,o.B,a.a],pipes:[s.a,c.a,l.a],styles:[".flight-alert[_ngcontent-%COMP%]{border-radius:5px;border-left:5px solid;box-sizing:border-box}.flight-alert.py-15[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px}.flight-alert.pl-15[_ngcontent-%COMP%]{padding-left:15px}.flight-alert.profile-alert[_ngcontent-%COMP%]{align-items:center!important}@media screen and (max-width:720px){.flight-alert.confirmation[_ngcontent-%COMP%]{padding:20px!important;border-radius:5px;border-left:none}}.flight-alert[_ngcontent-%COMP%]   .warning-cta[_ngcontent-%COMP%], .flight-alert[_ngcontent-%COMP%]   .warning-cta[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:var(--bl9)!important}.flight-alert.no-rounded[_ngcontent-%COMP%]{border-radius:0}.flight-alert.gray-border[_ngcontent-%COMP%]{border-top:1px solid var(--gr15);border-right:1px solid var(--gr15);border-bottom:1px solid var(--gr15)}.flight-alert-btn[_ngcontent-%COMP%]{min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content}.flight-alert[_ngcontent-%COMP%]   .p-content[_ngcontent-%COMP%]{font-size:14px}@media screen and (max-width:800px){.flight-alert[_ngcontent-%COMP%]   .p-content[_ngcontent-%COMP%]{font-size:12px;line-height:14.4px}}.flight-alert[_ngcontent-%COMP%]   .fas.c-icon[_ngcontent-%COMP%]{font-size:18px}.flight-alert.red-solid[_ngcontent-%COMP%]{background:#ffe3dd;border-left-color:red}.flight-alert.red-solid[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .flight-alert.red-solid[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%], .flight-alert.red-solid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red}.flight-alert.red-white[_ngcontent-%COMP%]{background:var(--wh1);border-left-color:red}.flight-alert.red-white[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .flight-alert.red-white[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:red}.flight-alert.red-white[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.flight-alert.yellow-solid[_ngcontent-%COMP%]{background:#f6f2b1;border-left-color:#f9c22e}.flight-alert.yellow-solid[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:var(--bg6)}.flight-alert.yellow-solid[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:#f9c22e}.flight-alert.yellow-solid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.flight-alert.yellow-white[_ngcontent-%COMP%]{background:var(--wh1);border-left-color:#f9c22e}.flight-alert.yellow-white[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .flight-alert.yellow-white[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:#f9c22e}.flight-alert.yellow-white[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.flight-alert.green-solid[_ngcontent-%COMP%]{background:var(--sc-m2);border-left-color:var(--bg2)}.flight-alert.green-solid[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .flight-alert.green-solid[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:var(--bg2)}.flight-alert.green-solid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.flight-alert.green-white[_ngcontent-%COMP%]{background:var(--wh1);border-left-color:var(--bg2)}.flight-alert.green-white[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .flight-alert.green-white[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:var(--bg2)}.flight-alert.green-white[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.flight-alert.purple-solid[_ngcontent-%COMP%]{background:#f1e3ff;border-left-color:#402957}.flight-alert.purple-solid[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:var(--bg6)}.flight-alert.purple-solid[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:#402957}.flight-alert.purple-solid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.flight-alert.purple-white[_ngcontent-%COMP%]{background:var(--wh1);border-left-color:#402957}.flight-alert.purple-white[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .flight-alert.purple-white[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:#402957}.flight-alert.purple-white[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.flight-alert.dynamic-color[_ngcontent-%COMP%]{background:var(--wh1)}.flight-alert.dynamic-color[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.flight-alert[_ngcontent-%COMP%]   .cta-text[_ngcontent-%COMP%]{font-size:14px;font-weight:700;line-height:1.25;color:var(--bg4);border-bottom:1.5px solid;height:16.5px;display:block;text-decoration:none}@media screen and (max-width:800px){.flight-alert[_ngcontent-%COMP%]   .cta-text[_ngcontent-%COMP%]{font-size:12px;line-height:14.4px;height:auto}}.flight-alert[_ngcontent-%COMP%]   .custom-image[_ngcontent-%COMP%]{width:auto;height:16px;margin-right:10px}.flight-alert[_ngcontent-%COMP%]   .img-size-lg[_ngcontent-%COMP%]{margin:0;width:auto;height:54px}.flight-alert[_ngcontent-%COMP%]   .margin-lg-img[_ngcontent-%COMP%]{margin-left:90px}@media screen and (max-width:720px){.flight-alert[_ngcontent-%COMP%]   .margin-lg-img[_ngcontent-%COMP%]{margin-left:0}}.flight-alert-close[_ngcontent-%COMP%]{background:none;border:none;padding:0;position:absolute;right:15px;top:15px;cursor:pointer}.flight-alert-close[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{font-size:16px}.flight-alert-close.red[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:red}.flight-alert-close.green[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .flight-alert-close.yellow[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:var(--bg6)}.flight-alert-close.purple[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:#402957}.flight-alert[_ngcontent-%COMP%]   .default-title[_ngcontent-%COMP%]{color:var(--bg6)!important}.flight-alert[_ngcontent-%COMP%]   .cta-txt[_ngcontent-%COMP%]{color:var(--bg4);font-weight:700;font-size:14px;height:16px;display:inline-block!important;border-bottom:1.5px solid}@media screen and (max-width:720px){.flight-alert[_ngcontent-%COMP%]   .cta-txt[_ngcontent-%COMP%]{font-size:12px}}.flight-alert.cobrand-alert[_ngcontent-%COMP%]   .default-title[_ngcontent-%COMP%], .flight-alert.cobrand-alert[_ngcontent-%COMP%]   .p-content[_ngcontent-%COMP%]{font-size:12px;line-height:14px}.flight-alert.cobrand-alert[_ngcontent-%COMP%]   .p-content[_ngcontent-%COMP%]{margin-left:25px!important}.lower[_ngcontent-%COMP%]{font-size:12px;line-height:1.33}.btn-container[_ngcontent-%COMP%]{white-space:nowrap}.viva-btn[_ngcontent-%COMP%]{min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content}.mr-15[_ngcontent-%COMP%]{margin-right:15px}@media screen and (max-width:720px){.mobile-alert[_ngcontent-%COMP%]{border-radius:0;flex-direction:column!important}.mobile-alert[_ngcontent-%COMP%]   .p-content[_ngcontent-%COMP%]{margin-top:5px!important}}"]}),e}()},Q1FS:function(e,t,n){"use strict";var i=n("yx2s"),r=n("Xwq/"),o=n("zfKp"),a=n("9AGB"),s=n("n3uD");function c(e){if(e||(e=s.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}t.Observable=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i=this.operator,o=r.toSubscriber(e,t,n);if(o.add(i?i.call(o,this.source):this.source||s.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),s.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){s.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),i.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=c(t))((function(t,i){var r;r=n.subscribe((function(t){try{e(t)}catch(n){i(n),r&&r.unsubscribe()}}),i,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:a.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=c(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))},e.create=function(t){return new e(t)},e}()},Q1l4:function(e,t){e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},QSc6:function(e,t,n){"use strict";var i=n("0jNN"),r=n("sxOR"),o={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,serializeDate:function(e){return a.call(e)},skipNulls:!1,strictNullHandling:!1},c=function e(t,n,r,o,a,c,l,u,d,h,f,p){var g=t;if("function"==typeof l)g=l(n,g);else if(g instanceof Date)g=h(g);else if(null===g){if(o)return c&&!p?c(n,s.encoder):n;g=""}if("string"==typeof g||"number"==typeof g||"boolean"==typeof g||i.isBuffer(g))return c?[f(p?n:c(n,s.encoder))+"="+f(c(g,s.encoder))]:[f(n)+"="+f(String(g))];var v,m=[];if(void 0===g)return m;if(Array.isArray(l))v=l;else{var b=Object.keys(g);v=u?b.sort(u):b}for(var y=0;y<v.length;++y){var _=v[y];a&&null===g[_]||(m=Array.isArray(g)?m.concat(e(g[_],r(n,_),r,o,a,c,l,u,d,h,f,p)):m.concat(e(g[_],n+(d?"."+_:"["+_+"]"),r,o,a,c,l,u,d,h,f,p)))}return m};e.exports=function(e,t){var n=e,a=t?i.assign({},t):{};if(null!=a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var l=void 0===a.delimiter?s.delimiter:a.delimiter,u="boolean"==typeof a.strictNullHandling?a.strictNullHandling:s.strictNullHandling,d="boolean"==typeof a.skipNulls?a.skipNulls:s.skipNulls,h="boolean"==typeof a.encode?a.encode:s.encode,f="function"==typeof a.encoder?a.encoder:s.encoder,p="function"==typeof a.sort?a.sort:null,g=void 0!==a.allowDots&&a.allowDots,v="function"==typeof a.serializeDate?a.serializeDate:s.serializeDate,m="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:s.encodeValuesOnly;if(void 0===a.format)a.format=r.default;else if(!Object.prototype.hasOwnProperty.call(r.formatters,a.format))throw new TypeError("Unknown format option provided.");var b,y,_=r.formatters[a.format];"function"==typeof a.filter?n=(y=a.filter)("",n):Array.isArray(a.filter)&&(b=y=a.filter);var C=[];if("object"!=typeof n||null===n)return"";var k=o[a.arrayFormat in o?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices"];b||(b=Object.keys(n)),p&&b.sort(p);for(var S=0;S<b.length;++S){var O=b[S];d&&null===n[O]||(C=C.concat(c(n[O],O,k,u,d,h?f:null,y,p,g,v,_,m)))}var T=C.join(l);return T.length>0?(!0===a.addQueryPrefix?"?":"")+T:""}},QcOe:function(e,t,n){var i=n("GoyQ"),r=n("6sVZ"),o=n("7Ix3"),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return o(e);var t=r(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},QkVE:function(e,t,n){var i=n("EpBk");e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},QqLw:function(e,t,n){var i=n("tadb"),r=n("ebwN"),o=n("HOxn"),a=n("yGk4"),s=n("Of+w"),c=n("NykK"),l=n("3Fdi"),u=l(i),d=l(r),h=l(o),f=l(a),p=l(s),g=c;(i&&"[object DataView]"!=g(new i(new ArrayBuffer(1)))||r&&"[object Map]"!=g(new r)||o&&"[object Promise]"!=g(o.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,i=n?l(n):"";if(i)switch(i){case u:return"[object DataView]";case d:return"[object Map]";case h:return"[object Promise]";case f:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=g},Qyje:function(e,t,n){"use strict";var i=n("QSc6"),r=n("nmq7"),o=n("sxOR");e.exports={formats:o,parse:r,stringify:i}},R0Ic:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return a})),n.d(t,"o",(function(){return g})),n.d(t,"p",(function(){return y})),n.d(t,"q",(function(){return _}));var i=function e(){_classCallCheck(this,e)},r=function e(){_classCallCheck(this,e)},o="*";function a(e,t){return{type:7,name:e,definitions:t,options:{}}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:3,steps:e,options:t}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function u(e){return{type:6,styles:e,offset:null}}function d(e,t,n){return{type:0,name:e,styles:t,options:n}}function h(e){return{type:5,steps:e}}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:8,animation:e,options:t}}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:10,animation:e,options:t}}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:e,animation:t,options:n}}function m(e){Promise.resolve(null).then(e)}var b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;m((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),y=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var i=0,r=0,o=0,a=this.players.length;0==a?m((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++i==a&&n._onFinish()})),e.onDestroy((function(){++r==a&&n._onDestroy()})),e.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),_="!"},RBZv:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return u}));var r=n("mrSG"),o=n("/Yn+"),a=n("vbKG"),s=n("fXoL"),c=n("LYOT"),l={renderNode:(i={},_defineProperty2(i,a.INLINES.HYPERLINK,(function(e,t){return'<a target="_blank" rel=\'noopener noreferrer\' href="'.concat(e.data.uri,'">').concat(t(e.content),"</a>")})),_defineProperty2(i,a.BLOCKS.PARAGRAPH,(function(e,t){return""+t(e.content).replace(/\n/g,"<br>")})),_defineProperty2(i,a.BLOCKS.UL_LIST,(function(e,t){return'<ul class="content-modules-ul-list">'.concat(t(e.content),"</ul>")})),i)},u=function(){var e=function(){function e(t){_classCallCheck(this,e),this.contentful=t}return _createClass(e,[{key:"getPage",value:function(e,t){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=null,n.next=3,this.contentful.getEntries({content_type:"page","fields.slugTree.sys.contentType.sys.id":"slug","fields.slugTree.fields.slug":e,include:10,select:["sys","fields.slugTree","fields.title","fields.behavior","fields.breadcrumbs","fields.redirectLink","fields.permanentRedirect","fields.modules","fields.jsonld","fields.metaTags","fields.openGraph","fields.hreflang","fields.canonicalTag"].join(",")},t);case 3:return r=n.sent,n.abrupt("return",(r.items.length>0&&(i=r.items[0]),i));case 5:case"end":return n.stop()}}),n,this)})))}},{key:"richTextToHtmlString",value:function(e,t){var n=t||l;return Object(o.documentToHtmlString)(e,n)}},{key:"getPageSlug",value:function(e,t){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=null,n.next=3,this.contentful.getEntries({content_type:"slug","fields.slug":e,include:7,select:["fields.slug","fields.title","fields.parentSlug"].join(",")},t);case 3:return r=n.sent,n.abrupt("return",(r.items.length>0&&(i=r.items[0]),i));case 5:case"end":return n.stop()}}),n,this)})))}},{key:"getPageSlugById",value:function(e,t){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=null,n.next=3,this.contentful.getEntries({content_type:"slug","sys.id":e,include:7,select:["fields.slug","fields.title","fields.parentSlug"].join(",")},t);case 3:return r=n.sent,n.abrupt("return",(r.items.length>0&&(i=r.items[0]),i));case 5:case"end":return n.stop()}}),n,this)})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.dc(c.a))},e.\u0275prov=s.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},RJ73:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d}));var i=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(function(){return function e(){_classCallCheck(this,e)}}()),r=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(function(){return function e(){_classCallCheck(this,e)}}()),o=function(e){return e.AIRPORT="Airport",e.BUS_STATION="BusStation",e}({}),a=function(e){return e.REGULAR="Regular",e.CHARTER="Charter",e.PART_CHARTER="PartCharter",e.MAAC="MAAC",e}({}),s=function(e){return e.AIR="Air",e.BUS="Bus",e.TRAIN="Train",e.MULTIMODAL="Multimodal",e}({}),c=function(e){return e.NONSTOP="NonStop",e.DIRECT="Direct",e.CONNECTING="Connecting",e.OTHER="Other",e}({}),l=function(e){return e[e.NAME=0]="NAME",e[e.CODE=1]="CODE",e[e.ALIAS=2]="ALIAS",e[e.COUNTRY=3]="COUNTRY",e}({}),u=[{type:o.AIRPORT,code:"@CMX",name:"Mexico City (All)",countryCode:"MX",destinations:[],productType:a.MAAC,timeZoneCode:null,maac:{areaCodes:["MEX","NLU","TLC"],searchCode:"MEX",lowfareConfig:{}}},{type:o.AIRPORT,code:"@QRR",name:"Riviera Maya",countryCode:"MX",destinations:[],productType:a.MAAC,timeZoneCode:null,maac:{areaCodes:["CUN","TUY","CZM"],searchCode:"CUN",lowfareConfig:{}}}],d=[{code:"@CMX",name:"Mexico City (All)",countryCode:"MX",transportationType:s.AIR,productType:a.MAAC,connectingStations:[],travelType:null,maac:{areaCodes:["MEX","NLU","TLC"],searchCode:"MEX",lowfareConfig:{}}},{code:"@QRR",name:"Riviera Maya",countryCode:"MX",transportationType:s.AIR,productType:a.MAAC,connectingStations:[],travelType:null,maac:{areaCodes:["CUN","TUY","CZM"],searchCode:"CUN",lowfareConfig:{}}}]},RK48:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("R0Ic"),r={openSidebar:Object(i.n)("openSidebar",[Object(i.k)("false",Object(i.l)({transform:"translateX(100%)"})),Object(i.k)("true",Object(i.l)({transform:"translateX(0)"})),Object(i.m)("true <=> false",[Object(i.e)(".3s cubic-bezier(0.165, 0.84, 0.44, 1)")])])}},RKpE:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("ofXK"),o=function(){var e=function(){function e(t){_classCallCheck(this,e),this.document=t,this.showModal$=new i.p}return _createClass(e,[{key:"openModal",value:function(){this.showModal$.emit(!0),this.document.body.classList.add("open-modal")}},{key:"closeModal",value:function(){this.showModal$.emit(!1),this.document.body.classList.remove("open-modal")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(r.e))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},RRjW:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=function e(){_classCallCheck(this,e)},r=function(e){return e.SUCCESS="SUCCESS",e.WARNING="WARNING",e.INVALID_PARAMETER="INVALID_PARAMETER",e.ERROR="ERROR",e.UNAUTHORIZED="UNAUTHORIZED",e}({}),o=function(e){return e.CONTINUE="CONTINUE",e.RETRY="RETRY",e.CANCEL="CANCEL",e.REFRESH_BASKET="REFRESH_BASKET",e}({}),a=function(e){return e.UNKNOWN_DOT_REZ_API_ERROR="UNKNOWN_DOT_REZ_API_ERROR",e.INVALID_CHANNEL_CODE="INVALID_CHANNEL_CODE",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.FEATURE_DISABLED="FEATURE_DISABLED",e.CANNOT_SELL_SSR="CANNOT_SELL_SSR",e.BOOKING_WAS_MODIFIED="BOOKING_WAS_MODIFIED",e.GENERIC_CONCURRENCY_ERROR="GENERIC_CONCURRENCY_ERROR",e.UNKNOWN_THIRD_PARTY_API_ERROR="UNKNOWN_THIRD_PARTY_API_ERROR",e.CLASS_NOT_AVAILABLE="CLASS_NOT_AVAILABLE",e.NO_PRODUCT_CLASS_FOR_LOW_FARE="NO_PRODUCT_CLASS_FOR_LOW_FARE",e.BASKET_EXPIRED="BASKET_EXPIRED",e.BASKET_PASSIVE="BASKET_PASSIVE",e.BASKET_ACTIVE="BASKET_ACTIVE",e.BASKET_FLOW_TYPE_NOT_ALLOWED="BASKET_FLOW_TYPE_NOT_ALLOWED",e.NO_JOURNEYS_INPUT_IN_BASKET="NO_JOURNEYS_INPUT_IN_BASKET",e.BASKET_BOOKING_COMMITTED="BASKET_BOOKING_COMMITTED",e.CUSTOM_FIELD_UPDATE_FAILED="CUSTOM_FIELD_UPDATE_FAILED",e.CHANGE_SEATS_FAILED="CHANGE_SEATS_FAILED",e.GENERIC_UNAUTHORIZED_ERROR="GENERIC_UNAUTHORIZED_ERROR",e.BASKET_ACCESS_NEEDS_USER="BASKET_ACCESS_NEEDS_USER",e.ACCESS_NEEDS_USER="ACCESS_NEEDS_USER",e.GENERIC_VALIDATION_ERROR="GENERIC_VALIDATION_ERROR",e.LOW_FARES_MAX_DAYS="LOW_FARES_MAX_DAYS",e.ROUTE_NOT_FOUND="ROUTE_NOT_FOUND",e.SERVICE_LIMIT_EXCEEDED="SERVICE_LIMIT_EXCEEDED",e.CUSTOM_FIELD_PATH_DOES_NOT_EXIST="CUSTOM_FIELD_PATH_DOES_NOT_EXIST",e.INVALID_BASKET_ID="INVALID_BASKET_ID",e.ACCOUNT_TYPE_UNKNOWN="ACCOUNT_TYPE_UNKNOWN",e.ACCOUNT_TYPE_DISABLED="ACCOUNT_TYPE_DISABLED",e.ACCOUNT_CREDENTIALS_INVALID="ACCOUNT_CREDENTIALS_INVALID",e.ACCOUNT_LOCKED="ACCOUNT_LOCKED",e.ACCOUNT_NOT_ACTIVE="ACCOUNT_NOT_ACTIVE",e.ACCOUNT_PASSWORD_EXPIRED="ACCOUNT_PASSWORD_EXPIRED",e.ACCOUNT_USER_INVALID="ACCOUNT_USER_INVALID",e.ACCOUNT_AGENT_INVALID="ACCOUNT_AGENT_INVALID",e.NO_TRAVEL_IN_BASKET="NO_TRAVEL_IN_BASKET",e.PAYMENT_NOT_AVAILABLE="PAYMENT_NOT_AVAILABLE",e.PAYMENT_PRE_BOOKING_ERROR="PAYMENT_PRE_BOOKING_ERROR",e.PAYMENT_COMMIT_BOOKING_ERROR="PAYMENT_COMMIT_BOOKING_ERROR",e.NO_PAYMENT_IN_BASKET="NO_PAYMENT_IN_BASKET",e.NO_FARE_APPLIED="NO_FARE_APPLIED",e.UNEXPECTED_COUNT_OF_PENDING_PAYMENTS="UNEXPECTED_COUNT_OF_PENDING_PAYMENTS",e.NO_PENDING_PAYMENTS="NO_PENDING_PAYMENTS",e.PENDING_PAYMENT_STATUS="PENDING_PAYMENT_STATUS",e.PAYMENT_PROCESS_INCORRECT_BOOKING_STATUS="PAYMENT_PROCESS_INCORRECT_BOOKING_STATUS",e.PAYMENT_PROCESS_INCORRECT_PASSENGER_NAMES="PAYMENT_PROCESS_INCORRECT_PASSENGER_NAMES",e.PAYMENT_PROCESS_INCORRECT_CURRENCY_CODE="PAYMENT_PROCESS_INCORRECT_CURRENCY_CODE",e.PAYMENT_PROCESS_INCORRECT_TOTAL_TO_PAY_AMOUNT="PAYMENT_PROCESS_INCORRECT_TOTAL_TO_PAY_AMOUNT",e.PAYMENT_PROCESS_NO_EXCHANGE_RATE="PAYMENT_PROCESS_NO_EXCHANGE_RATE",e.PAYMENT_PROCESS_EXCHANGED_AMOUNT_DO_NOT_MATCH="PAYMENT_PROCESS_EXCHANGED_AMOUNT_DO_NOT_MATCH",e.PAYMENT_PROCESS_CARD_PAYMENTS_LIMIT_HAS_BEEN_REACHED="PAYMENT_PROCESS_CARD_PAYMENTS_LIMIT_HAS_BEEN_REACHED",e.PAYMENT_PROCESS_TRANSACTION_ID_MISMATCH="PAYMENT_PROCESS_TRANSACTION_ID_MISMATCH",e.PAYMENT_PROCESS_FAILED_TO_ADD_PAYMENT="PAYMENT_PROCESS_FAILED_TO_ADD_PAYMENT",e.PAYMENT_PROCESS_SCOTIA_POINTS_ERROR="PAYMENT_PROCESS_SCOTIA_POINTS_ERROR",e.PAYMENT_SELECT_METHOD_SCOTIA="PAYMENT_SELECT_METHOD_SCOTIA",e.PAYMENT_PROCESS_SCOTIA_POINTS_AMOUNT="PAYMENT_PROCESS_SCOTIA_POINTS_AMOUNT",e.PAYMENT_PROCESS_SCOTIA_POINTS_AUTHORIZATION="PAYMENT_PROCESS_SCOTIA_POINTS_AUTHORIZATION",e.PAYMENT_VOUCHER_INVALID="PAYMENT_VOUCHER_INVALID",e.PAYMENT_VOUCHER_NO_AVAILABLE_AMOUNT="PAYMENT_VOUCHER_NO_AVAILABLE_AMOUNT",e.PAYMENT_VOUCHER_NOT_REDEEMABLE="PAYMENT_VOUCHER_NOT_REDEEMABLE",e.PAYMENT_VOUCHER_CURRENCY_MISMATCH="PAYMENT_VOUCHER_CURRENCY_MISMATCH",e.PAYMENT_VOUCHER_ALREADY_ADDED="PAYMENT_VOUCHER_ALREADY_ADDED",e.PAYMENT_VOUCHER_NOT_ADDED="PAYMENT_VOUCHER_NOT_ADDED",e.PAYMENT_VOUCHER_ADD_FAILED="PAYMENT_VOUCHER_ADD_FAILED",e.PAYMENT_VOUCHER_DELETE_FAILED="PAYMENT_VOUCHER_DELETE_FAILED",e.POINTS_REWARDS_OTP_VALIDATION_FAILED="POINTS_REWARDS_OTP_VALIDATION_FAILED",e.DOTERS_OTP_VALIDATION_FAILED="DOTERS_OTP_VALIDATION_FAILED",e.INVALID_BOOKING_PARAMS="INVALID_BOOKING_PARAMS",e.PRE_ADD_TUA_FAILED="PRE_ADD_TUA_FAILED",e.CHECKIN_NOT_AVAILABLE="CHECKIN_NOT_AVAILABLE",e.RESET_PASSWORD_EMAIL_NOT_SENT="RESET_PASSWORD_EMAIL_NOT_SENT",e.RESET_PASSWORD_VALIDATION_ERROR="RESET_PASSWORD_VALIDATION_ERROR",e.RESET_PASSWORD_HISTORY="RESET_PASSWORD_HISTORY",e.RESET_PASSWORD_POLICY="RESET_PASSWORD_POLICY",e.SCOTIA_BANK_ERROR="SCOTIA_BANK_ERROR",e.PAYMENT_PROCESS_PAYMENT_SCOTIA_FREE_SSRS="PAYMENT_PROCESS_PAYMENT_SCOTIA_FREE_SSRS",e.REGISTER_DISABLED="REGISTER_DISABLED",e.REGISTER_EMAIL_ALREADY_EXISTS="REGISTER_EMAIL_ALREADY_EXISTS",e.REGISTER_INVALID_PASSWORD="REGISTER_INVALID_PASSWORD",e.ACTIVATE_ACCOUNT_INVALID_INPUT="ACTIVATE_ACCOUNT_INVALID_INPUT",e.TRIP_DO_NOT_EXIST="TRIP_DO_NOT_EXIST",e.TRIP_ALREADY_EXIST="TRIP_ALREADY_EXIST",e.COULD_NOT_CHANGE_SEAT="COULD_NOT_CHANGE_SEAT",e.PAYMENT_PROCESS_DUPLICATE_BOOKING="PAYMENT_PROCESS_DUPLICATE_BOOKING",e.PAYMENT_PROCESS_TIMEOUT_DURING_ADDING_PAYMENT="PAYMENT_PROCESS_TIMEOUT_DURING_ADDING_PAYMENT",e.ANY_FLIGHT_NEEDS_TO_BE_IN_FUTURE="ANY_FLIGHT_NEEDS_TO_BE_IN_FUTURE",e.INVALID_USERNAME_OR_PASSWORD="INVALID_USERNAME_OR_PASSWORD",e.POINTS_INSUFFICIENT_BALANCE="POINTS_INSUFFICIENT_BALANCE",e.EXTERNAL_REFRESH_TOKEN_INVALID="EXTERNAL_REFRESH_TOKEN_INVALID",e.CONNECTION_ERROR="CONNECTION_ERROR",e.WAF_BLOCKED_ERROR="WAF_BLOCKED_ERROR",e.UNKNOWN_DOT_REZ_API_ERROR_AGENT_NOT_ALLOWED="UNKNOWN_DOT_REZ_API_ERROR_AGENT_NOT_ALLOWED",e.CHECKIN_SEATS_ASSIGNMENT_FAILED="CHECKIN_SEATS_ASSIGNMENT_FAILED",e.INVALID_OTP="INVALID_OTP",e.UNKNOWN_OTPSESSION="UNKNOWN_OTPSESSION",e.MAXRETRIES_OTP="MAXRETRIES_OTP",e}({})},RbsG:function(e,t,n){"use strict";n.d(t,"o",(function(){return r})),n.d(t,"k",(function(){return o})),n.d(t,"m",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"j",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"i",(function(){return g})),n.d(t,"n",(function(){return v})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return b}));var i=n("3E8+"),r=function(e){return e.Monthly="Monthly",e.Annual="Annual",e}({}),o=function(e){return e.Agency="Agency",e.Default="Default",e.Staff="Staff",e.Customer="Customer",e.Enterprise="Enterprise",e.Anonymous="Anonymous",e}({}),a=function(e){return e.UnderPaid="UnderPaid",e.PaidInFull="PaidInFull",e.OverPaid="OverPaid",e}({}),s=function(e){return e.Pending="Pending",e.Paid="Paid",e.OnHold="OnHold",e.PendingPayment="PendingPayment",e.Cancelled="Cancelled",e.Closed="Closed",e.Archived="Archived",e}({}),c=function(e){return e.Normal="Normal",e.Closed="Closed",e.Canceled="Canceled",e.Suspended="Suspended",e.ClosedPending="ClosedPending",e.BlockAllActivities="BlockAllActivities",e.Mishap="Mishap",e}({}),l=function(e){return e.Primary="Primary",e.Other="Other",e.Destination="Destination",e.Home="Home",e.Business="Business",e.Emergency="Emergency",e}({}),u=i.d,d=function(e){return e.Unknown="Unknown",e.Pending="Pending",e.PendingCustomerAction="PendingCustomerAction",e.Approved="Approved",e.Declined="Declined",e}({}),h=function(e){return e.Included="Included",e.Paid="Paid",e.NotPaid="NotPaid",e.NotAdded="NotAdded",e.None="None",e.PreAdded="PreAdded",e}({}),f=function(e){return e.DisplayBooking="DisplayBooking",e.DisplayTotalAmount="DisplayTotalAmount",e.DisplayPayments="DisplayPayments",e.DisplayPassengers="DisplayPassengers",e.ChangeJourneys="ChangeJourneys",e.ChangeJourneysAndRoute="ChangeJourneysAndRoute",e.ChangeJourneysFlyAhead="ChangeJourneysFlyAhead",e.FlyAheadCDMX="FlyAheadCDMX",e.ChangeServices="ChangeServices",e.ChangeSeats="ChangeSeats",e.ChangeBaggage="ChangeBaggage",e.ChangePassengerNames="ChangePassengerNames",e.PayTua="PayTua",e.AddArpel="AddArpel",e.ProcessPayment="ProcessPayment",e.DisplayCBX="DisplayCBX",e.DisplayBusTicket="DisplayBusTicket",e.DisplayPlayCodes="DisplayPlayCodes",e.CheckIn="Checkin",e.UndoCheckin="UndoCheckin",e.NoIropRedirect="NoIropRedirect",e.NoIropHelpCenterAccess="NoIropHelpCenterAccess",e.BuyBack="BuyBack",e.IropCancellation="IropCancellation",e.IropReimbursementPending="IropReimbursementPending",e.ChangeHotel="ChangeHotel",e.DotersRedemptionDisplay="DotersRedemptionDisplay",e.HSBCCobrandBenefits="HSBCCobrandBenefits",e.UpsellZero="UpsellZero",e.UpsellLight="UpsellLight",e.FixedCompensationCard="FixedCompensationCard",e.InsurancesStatus="InsurancesStatus",e.ProcessIropCompensation="ProcessIropCompensation",e.IropCompensation="IropCompensation",e.KeepFlightSelected="KeepFlightSelected",e.ChangeSeatsIrop="ChangeSeatsIrop",e.DisplayCustomerCancellation="DisplayCustomerCancellation",e.Binding="Binding",e.SoftBinding="SoftBinding",e.Peer2Peer="Peer2Peer",e.SellBack="SellBack",e.MarketplacePublished="MarketplacePublished",e}({}),p=function(e){return e.CheckinBlockedBookingIsNotPaid="CheckinBlockedBookingIsNotPaid",e.CheckinBlockedForAirport="CheckinBlockedForAirport",e.CheckinClosedTooEarly="CheckinClosedTooEarly",e.CheckinClosedTooLate="CheckinClosedTooLate",e.CheckinBlockedInReservationSystem="CheckinBlockedInReservationSystem",e}({}),g=function(e){return e.Pending="Pending",e.Committed="Committed",e}({}),v=function(e){return e.LoginRequired="LoginRequired",e.LoginRequiredStaff="LoginRequiredStaff",e.LoginRequiredAgency="LoginRequiredAgency",e.LoginRequiredEnterprise="LoginRequiredEnterprise",e}({}),m=function(e){return e.Pending="Pending",e.Processing="Processing",e.Success="Success",e.Failure="Failure",e}({}),b=function(e){return e.Normal="Normal",e.Delayed="Delayed",e.TimeChange="TimeChange",e.Canceled="Canceled",e.ScheduleChange="ScheduleChange",e}({})},"Rn+g":function(e,t,n){"use strict";var i=n("LYNF");e.exports=function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},SXaI:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("fXoL"),r=n("XNiG"),o=n("AytR"),a=n("EcEN"),s=n("ofXK"),c=n("lJxs"),l=n("CJ36"),u=n("tyNb"),d=n("tk/3"),h=function(){var e=function(){function e(t,n,i,o){_classCallCheck(this,e),this.localeSvc=t,this.platformId=n,this.route=i,this.http=o,this.$onPopOverToggle=new r.a}return _createClass(e,[{key:"emitPopOverChange",value:function(e){this.$onPopOverToggle.next(e)}},{key:"goToSSOPage",value:function(e){var t=new URL(o.f),n={clientId:"viva-web",clientSecret:o.d,language:this.localeSvc.getAppLocale(),redirectUri:this.getRedirectUri(),state:Object(a.v4)().replace("-","").slice(0,10)};e&&(n.go_to_page=e),this.saveSSOState(n.state);var i=new URLSearchParams(n);t.search=i.toString(),location.href=t.toString()}},{key:"saveSSOState",value:function(e){Object(s.L)(this.platformId)&&sessionStorage.setItem("viva-user-sso-state",e)}},{key:"getRedirectUri",value:function(){var e=this.route.snapshot.queryParamMap;return e.has("redirectUrl")&&e.has("loginRedirect")?e.get("redirectUrl"):location.href}},{key:"checkState",value:function(e){return!!Object(s.L)(this.platformId)&&sessionStorage.getItem("viva-user-sso-state")===e}},{key:"hasAllParams",value:function(e){return["activation_code","sub","expires_in","token_type","state"].every((function(t){return e[t]}))}},{key:"doLoginExternal",value:function(e){return this.http.post(o.g.ACCOUNT_LOGIN_EXTERNAL_URL,e).pipe(Object(c.a)((function(e){return e.data})))}},{key:"doLogoutExternal",value:function(){var e=localStorage.getItem("viva-user-esid"),t=btoa("viva-web:"+o.d);return this.http.post(o.e,{clientId:"viva-web",sessionId:e},{params:{external:"true"},headers:{"X-Channel":"web",Authorization:"Basic "+t}})}},{key:"saveSessionIdExternal",value:function(e){Object(s.L)(this.platformId)&&e&&localStorage.setItem("viva-user-esid",e)}},{key:"deleteSessionIdExternal",value:function(){Object(s.L)(this.platformId)&&localStorage.removeItem("viva-user-esid")}},{key:"onPopOverToggle$",get:function(){return this.$onPopOverToggle.asObservable()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(l.a),i.dc(i.G),i.dc(u.a),i.dc(d.b))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},SeVD:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("ngJS"),r=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),c=n("c2HN"),l=n("XoHu"),u=function(e){if(e&&"function"==typeof e[a.a])return u=e,function(e){var t=u[a.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(i.a)(e);if(Object(c.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,r.a),e};if(e&&"function"==typeof e[o.a])return t=e,function(e){for(var n=t[o.a]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,u,d=Object(l.a)(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(d," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SfRM:function(e,t,n){var i=n("YESw");e.exports=function(){this.__data__=i?i(null):{},this.size=0}},SntB:function(e,t,n){"use strict";var i=n("xTJ+");e.exports=function(e,t){t=t||{};var n={},r=["url","method","params","data"],o=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];i.forEach(r,(function(e){void 0!==t[e]&&(n[e]=t[e])})),i.forEach(o,(function(r){i.isObject(t[r])?n[r]=i.deepMerge(e[r],t[r]):void 0!==t[r]?n[r]=t[r]:i.isObject(e[r])?n[r]=i.deepMerge(e[r]):void 0!==e[r]&&(n[r]=e[r])})),i.forEach(a,(function(i){void 0!==t[i]?n[i]=t[i]:void 0!==e[i]&&(n[i]=e[i])}));var s=r.concat(o).concat(a),c=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return i.forEach(c,(function(i){void 0!==t[i]?n[i]=t[i]:void 0!==e[i]&&(n[i]=e[i])})),n}},SpAZ:function(e,t,n){"use strict";function i(e){return e}n.d(t,"a",(function(){return i}))},T6cn:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("ofXK"),r=n("XNiG"),o=n("nnIW"),a=n("fXoL"),s=function(){var e=function(){function e(t){_classCallCheck(this,e),this.document=t,this.$showSidebar=new r.a,this.$manageExtraCharges=new r.a}return _createClass(e,[{key:"openSidebar",value:function(){this.$showSidebar.next(!0),this.document.body.classList.add("open-modal")}},{key:"closeSidebar",value:function(){this.$showSidebar.next(!1),this.document.body.classList.remove("open-modal")}},{key:"setExtraCharges",value:function(e,t){this.$manageExtraCharges.next({action:o.f.ADD,key:e,charges:t})}},{key:"removeExtraCharges",value:function(e){this.$manageExtraCharges.next({action:o.f.DELETE,key:e})}},{key:"showSidebar$",get:function(){return this.$showSidebar.asObservable()}},{key:"manageExtraCharges$",get:function(){return this.$manageExtraCharges.asObservable()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.dc(i.e))},e.\u0275prov=a.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},TUgU:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("mrSG"),r=n("fXoL"),o=n("LRne"),a=n("AytR"),s=n("ofXK"),c=n("LYOT"),l=n("CJ36"),u=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.platformId=t,this.contentful=n,this.localeService=i,this.COPY_LIMIT=1e3,this.translationsMap=new Map}return _createClass(e,[{key:"load",value:function(){var e=this;return new Promise((function(t,n){if(e.loadMapFromLocalStorage(e.localeService.getAppLocale()))t();else try{e.getTranslations().then((function(){t()}))}catch(i){n(i)}}))}},{key:"getTranslations",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTranslationsFromCMS();case 2:t=e.sent,this.addTranslationsToMap(t);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getTranslationsFromCMS",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.contentful.getEntries({content_type:"copy",select:"sys.id,fields",limit:this.COPY_LIMIT});case 3:if(n=e.sent,t.push.apply(t,_toConsumableArray2(n.items.map((function(e){return e.fields})))),!(n.total>this.COPY_LIMIT)){e.next=12;break}i=n.total,r=this.COPY_LIMIT,o=1;case 7:return e.next=9,this.contentful.getEntries({content_type:"copy",select:"sys.id,fields",limit:this.COPY_LIMIT,skip:o*this.COPY_LIMIT});case 9:a=e.sent,t.push.apply(t,_toConsumableArray2(a.items.map((function(e){return e.fields})))),o++,r=o*this.COPY_LIMIT;case 11:if(r<i){e.next=7;break}case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,this)})))}},{key:"addTranslationsToMap",value:function(e){var t=this;e&&e.length&&e.forEach((function(e){return t.addTranslation(e)})),a.g.contentful.services.translationCache&&this.saveTranslations()}},{key:"getEntry",value:function(e){var t=e||"",n=this.getCopyDeckEntry(e);return a.g.production||n&&!n.text&&console.warn('CMSTranslation: CopyId for "'+e+'" is of wrong type. Expected type to be "Text".'),t=(null==n?void 0:n.text)||t}},{key:"getRichTextEntry",value:function(e){var t=this.getCopyDeckEntry(e);return a.g.production||t&&!t.richText&&console.warn('CMSTranslation: CopyId for "'+e+'" is of wrong type. Expected type to be "Rich Text".'),(null==t?void 0:t.richText)||this.getGenericRichTextStructure(e)}},{key:"getHTMLTextEntry",value:function(e){var t=e||"",n=this.getCopyDeckEntry(e);return a.g.production||n&&!n.html&&console.warn('CMSTranslation: CopyId for "'+e+'" is of wrong type. Expected type to be "LongText (HTML)".'),t=(null==n?void 0:n.html)||t}},{key:"getCopyDeckEntry",value:function(e){var t=this.translationsMap.get(e);return t||a.g.production||console.warn('CMSTranslation: CopyId for "'+e+'" was not found.'),t}},{key:"getEntry$",value:function(e){var t=this.getEntry(e);return Object(o.a)(t)}},{key:"addTranslation",value:function(e){e&&e.copyId&&(e.text||e.richText||e.html)&&this.translationsMap.set(e.copyId,e)}},{key:"saveTranslations",value:function(){var e=this.localeService.getAppLocale();this.saveMapToLocalStorage(e)}},{key:"saveMapToLocalStorage",value:function(e){var t=Array.from(this.translationsMap.entries());Object(s.L)(this.platformId)&&localStorage.setItem("viva-translation-[".concat(e,"]"),JSON.stringify(t))}},{key:"loadMapFromLocalStorage",value:function(e){var t,n=this;if(!a.g.contentful.services.translationCache)return a.g.production||console.warn("CMSTranslation cache disabled!"),!1;if(Object(s.L)(this.platformId)&&(t=localStorage.getItem("viva-translation-[".concat(e,"]"))),!t)return!1;try{return JSON.parse(t).forEach((function(e){return n.addTranslation(e[1])})),!0}catch(i){return a.g.production||console.error("CMSTranslate:: Error loading entries from cache:",i),!1}}},{key:"getGenericRichTextStructure",value:function(e){return{nodeType:"document",data:{},content:[{nodeType:"paragraph",content:[{nodeType:"text",value:e,marks:[],data:{}}],data:{},marks:[]}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.dc(r.G),r.dc(c.a),r.dc(l.a))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},TuWc:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("+tT9"),r=n("3kwf"),o=n("fXoL"),a=n("egL7"),s=function(){var e=function(){function e(t){_classCallCheck(this,e),this.gtmService=t}return _createClass(e,[{key:"myTripAddBooking",value:function(e,t){this.gtmService.pushTag({event:"ev_profile_mytrips_add_booking",category:"profile",action:"mytrips_add_booking",label:t,reserve:{pnr:e}})}},{key:"myTripRemoveBooking",value:function(e,t){this.gtmService.pushTag({event:"ev_profile_mytrips_remove_booking",category:"profile",action:"mytrips_remove_booking",label:t,reserve:{pnr:e}})}},{key:"myTripCantFind",value:function(){this.gtmService.pushTag({event:"ev_ux_profile_mytrip_click_cant_find_mytrip",category:"ux_profile",action:"mytrip_click_cant_find_mytrip"})}},{key:"boardClick",value:function(e){switch(e){case r.a.trips:this.boardMyTrips();break;case r.a.details:this.boardDetails();break;case r.a.vivafan:this.boardVivafan();break;case r.a.settings:this.boardSettings();break;case r.a.companions:this.boardCompanions();break;case r.a.payment_methods:this.boardPaymentMethods();break;case r.a.faceid:this.boardFaceRecognition();break;case r.a.doters:this.dotersCardClicked()}}},{key:"boardMyTrips",value:function(){this.gtmService.pushTag({event:"ev_profile_board_click_mytrips",category:"profile",action:"board_click_mytrips"})}},{key:"boardDetails",value:function(){this.gtmService.pushTag({event:"ev_profile_board_click_details",category:"profile",action:"board_click_details"})}},{key:"boardVivafan",value:function(){this.gtmService.pushTag({event:"ev_profile_board_click_vivafan",category:"profile",action:"board_click_vivafan"})}},{key:"boardSettings",value:function(){this.gtmService.pushTag({event:"ev_profile_board_click_settings",category:"profile",action:"board_click_settings"})}},{key:"boardCompanions",value:function(){this.gtmService.pushTag({event:"ev_profile_board_click_companion",category:"profile",action:"board_click_companion"})}},{key:"boardPaymentMethods",value:function(){this.gtmService.pushTag({event:"ev_profile_board_click_payment_methods",category:"profile",action:"board_click_payment_methods"})}},{key:"boardFaceRecognition",value:function(){this.gtmService.pushTag({event:"ev_profile_board_click_face_id",category:"profile",action:"board_click_face_id"})}},{key:"boardToggleVivacash",value:function(){this.gtmService.pushTag({event:"ev_profile_board_click_toggle_vivacash",category:"profile",action:"board_click_toggle_vivacash"})}},{key:"boardSelectAvatar",value:function(e,t){this.gtmService.pushTag({event:"ev_profile_select_avatar",category:"profile",action:"select_avatar",label:e,avatar:{name:t}})}},{key:"detailsPersonalInfo",value:function(e){e?this.detailsEditPersonalInfo():this.detailsPersonalInfoCancel()}},{key:"detailsEditPersonalInfo",value:function(){this.gtmService.pushTag({event:"ev_profile_details_edit_personal_info",category:"profile",action:"details_edit_personal_info"})}},{key:"detailsPersonalInfoCancel",value:function(){this.gtmService.pushTag({event:"ev_profile_details_edit_personal_info_click_cancel",category:"profile",action:"details_edit_personal_info_click_cancel"})}},{key:"detailsClickSavePersonalInfo",value:function(e){e===i.a.PersonalDetails&&this.gtmService.pushTag({event:"ev_profile_details_edit_personal_info_click_save",category:"profile",action:"details_edit_personal_info_click_save"})}},{key:"detailsSavePersonalInfo",value:function(e,t){e===i.a.PersonalDetails&&this.gtmService.pushTag({event:"ev_profile_details_save_personal_info",category:"profile",action:"details_save_personal_info",label:t})}},{key:"detailsSpecialAssistance",value:function(e){e&&this.gtmService.pushTag({event:"ev_profile_details_contact_select_special_assistance",category:"profile",action:"details_contact_select_special_assistance"})}},{key:"detailsContactInfo",value:function(e){e?this.detailsEditContactInfo():this.detailsCancelContactInfo()}},{key:"detailsEditContactInfo",value:function(){this.gtmService.pushTag({event:"ev_profile_details_edit_contact_info",category:"profile",action:"details_edit_contact_info"})}},{key:"detailsCancelContactInfo",value:function(){this.gtmService.pushTag({event:"ev_profile_details_edit_contact_info_click_cancel",category:"profile",action:"details_edit_contact_info_click_cancel"})}},{key:"detailsSaveContactInfo",value:function(){this.gtmService.pushTag({event:"ev_profile_details_edit_contact_info_click_save",category:"profile",action:"details_edit_contact_info_click_save"})}},{key:"detailsReceiveSms",value:function(e){var t;if(e.preferences&&Array.isArray(e.preferences.notificationPreferences)&&e.preferences.notificationPreferences.length>0){var n={event:"ev_profile_details_contact_info_receive_sms",category:"profile",action:"details_contact_info_receive_sms",label:null===(t=e.preferences.notificationPreferences[0])||void 0===t?void 0:t.value};this.gtmService.pushTag(n)}}},{key:"detailsPhoneContact",value:function(){this.gtmService.pushTag({event:"ev_profile_details_edit_contact_info_add_phone",category:"profile",action:"details_edit_contact_info_add_phone"})}},{key:"detailsTravelDocs",value:function(e){e?this.detailsEditTravelDocs():this.detailsTravelDocsCancel()}},{key:"detailsEditTravelDocs",value:function(){this.gtmService.pushTag({event:"ev_profile_details_edit_travel_docs",category:"profile",action:"details_edit_travel_docs"})}},{key:"detailsTravelDocsCancel",value:function(){this.gtmService.pushTag({event:"ev_profile_details_edit_traveldocs_click_cancel",category:"profile",action:"details_edit_traveldocs_click_cancel"})}},{key:"detailsTravelDocsSave",value:function(e){var t,n=[],i=_createForOfIteratorHelper(e.travelDocuments);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push(r.type)}}catch(o){i.e(o)}finally{i.f()}this.gtmService.pushTag({event:"ev_profile_details_edit_traveldocs_click_save",category:"profile",action:"details_edit_traveldocs_click_save",label:n})}},{key:"vivafanSubscribe",value:function(){this.gtmService.pushTag({event:"ev_profile_vivafan_click_subscribe",category:"profile",action:"vivafan_click_subscribe"})}},{key:"vivafanSeeMore",value:function(){this.gtmService.pushTag({event:"ev_ux_profile_click_see_more",category:"ux_profile_vivafan",action:"click_see_more"})}},{key:"settingsPassword",value:function(e){e?this.settingsChangePassword():this.settingsCancelChangePassword()}},{key:"settingsChangePassword",value:function(){this.gtmService.pushTag({event:"ev_profile_settings_change_password",category:"profile",action:"settings_change_password"})}},{key:"settingsCancelChangePassword",value:function(){this.gtmService.pushTag({event:"ev_profile_settings_change_password_click_cancel",category:"profile",action:"settings_change_password_click_cancel"})}},{key:"settingsValidateChangePassword",value:function(e){this.gtmService.pushTag({event:"ev_profile_settings_change_password_click_validate",category:"profile",action:"settings_change_password_click_validate",label:e})}},{key:"settingsForgotPassword",value:function(){this.gtmService.pushTag({event:"ev_profile_settings_forgot_password",category:"profile",action:"settings_forgot_password"})}},{key:"settingsRecoverPassword",value:function(e){e||this.gtmService.pushTag({event:"ev_profile_settings_recover_password",category:"profile",action:"settings_recover_password"})}},{key:"settingsPasswordResend",value:function(){this.gtmService.pushTag({event:"ev_profile_settings_recover_password_resend",category:"profile",action:"settings_recover_password_resend"})}},{key:"loginClickRecoverPassword",value:function(){this.gtmService.pushTag({event:"ev_profile_settings_recover_password",category:"profile",action:"login_click_recover_password"})}},{key:"cancelRecoverPassword",value:function(){this.gtmService.pushTag({event:"ev_profile_settings_recover_password",category:"profile",action:"cancel_recover_password_process"})}},{key:"settingsConfig",value:function(e){e?this.settingsEditConfig():this.settingsEditConfigCancel()}},{key:"settingsEditConfig",value:function(){this.gtmService.pushTag({event:"ev_profile_settings_edit_config",category:"profile",action:"settings_edit_config"})}},{key:"settingsEditConfigCancel",value:function(){this.gtmService.pushTag({event:"ev_profile_settings_change_config_click_cancel",category:"profile",action:"settings_change_config_click_cancel"})}},{key:"settingsConfigSave",value:function(){this.gtmService.pushTag({event:"ev_profile_settings_change_config_click_save",category:"profile",action:"settings_change_config_click_save"})}},{key:"settingsReceiveOffers",value:function(e){this.gtmService.pushTag({event:"ev_profile_settings_config_receive_offers",category:"profile",action:"settings_config_receive_offers",label:e})}},{key:"settingsCurrency",value:function(e){this.gtmService.pushTag({event:"ev_profile_settings_change_config_change_currency",category:"profile",action:"settings_change_config_change_currency",label:e})}},{key:"settingsLanguage",value:function(e){this.gtmService.pushTag({event:"ev_profile_settings_change_config_change_language",category:"profile",action:"settings_change_config_change_language",label:e})}},{key:"companionsNoCompanions",value:function(){this.gtmService.pushTag({event:"ev_profile_companions_click_add_companions",category:"profile",action:"settings_companions_click_add_companions"})}},{key:"companionsTravelDocs",value:function(e){e&&this.gtmService.pushTag({event:"ev_ux_profile_companions_toggle_travel_docs",category:"ux_profile",action:"companions_toggle_travel_docs"})}},{key:"companionsSave",value:function(){this.gtmService.pushTag({event:"ev_profile_companions_save_companions",category:"profile",action:"companions_add_companions"})}},{key:"companionsEdit",value:function(){this.gtmService.pushTag({event:"ev_profile_companions_edit_companion",category:"profile",action:"companions_edit_companion"})}},{key:"companionsNewPassenger",value:function(){this.gtmService.pushTag({event:"ev_profile_companions_add_new_passenger",category:"profile",action:"companions_add_new_passenger"})}},{key:"companionsRemove",value:function(){this.gtmService.pushTag({event:"ev_profile_companions_click_remove_companions",category:"profile",action:"companions_click_remove_companions"})}},{key:"companionsRemoveConfirm",value:function(){this.gtmService.pushTag({event:"ev_profile_companions_remove_companions",category:"profile",action:"companions_remove_companions"})}},{key:"vivaCashRecharge",value:function(){this.gtmService.pushTag({event:"ev_profile_payment_methods_vivacash_recharge",category:"profile",action:"payment_methods_vivacash_recharge"})}},{key:"vivaCashGenerateReference",value:function(e,t){this.gtmService.pushTag({event:"ev_profile_payment_methods_vivacash_generate_reference",category:"profile",action:"payment_methods_vivacash_generate_reference",label:e,reference:{amount:e,currency_code:t}})}},{key:"vivaCashViewReference",value:function(){this.gtmService.pushTag({event:"ev_profile_payment_method_vivacash_view_reference",category:"profile",action:"payment_method_vivacash_view_reference"})}},{key:"vivaCashDownloadReference",value:function(){this.gtmService.pushTag({event:"ev_profile_payment_method_vivacash_download_reference",category:"profile",action:"payment_method_vivacash_download_reference"})}},{key:"vivaCashEditReference",value:function(){this.gtmService.pushTag({event:"ev_profile_payment_method_vivacash_edit_reference",category:"profile",action:"payment_method_vivacash_edit_reference"})}},{key:"vivaCashToggle",value:function(){this.gtmService.pushTag({event:"ev_ux_profile_vivacash_select_toggle",category:"ux_profile",action:"vivacash_select_toggle"})}},{key:"vivaCashTerms",value:function(){this.gtmService.pushTag({event:"ev_ux_profile_vivacash_accept_terms",category:"ux_profile",action:"vivacash_accept_terms"})}},{key:"vivaCashSeeMore",value:function(){this.gtmService.pushTag({event:"ev_ux_profile_click_see_more_vivacash",category:"ux_profile_vivacash",action:"click_see_more"})}},{key:"faceIdPrivacy",value:function(){this.gtmService.pushTag({event:"ev_face_id",category:"face_id",action:"ux_notice_privacy"})}},{key:"faceIdEditInformation",value:function(){this.gtmService.pushTag({event:"ev_face_id",category:"face_id",action:"edit_personal_identification_info"})}},{key:"faceIdStartRegistration",value:function(){this.gtmService.pushTag({event:"ev_face_id",category:"face_id",action:"start_registration"})}},{key:"faceIdQR",value:function(){this.gtmService.pushTag({event:"ev_face_id",category:"face_id",action:"view_qr_code"})}},{key:"faceIdRegistration",value:function(e){this.gtmService.pushTag({event:"ev_face_id",category:"face_id",action:"complete_registration",label:e})}},{key:"faceIdBackRegistration",value:function(){this.gtmService.pushTag({event:"ev_face_id",category:"face_id",action:"back_to_registration"})}},{key:"faceIdDelete",value:function(){this.gtmService.pushTag({event:"ev_face_id",category:"face_id",action:"click_delete_record"})}},{key:"faceIdModalDelete",value:function(e){this.gtmService.pushTag({event:"ev_face_id",category:"face_id",action:"delete_record",label:e})}},{key:"faceIdSignUp",value:function(e){this.gtmService.pushTag({event:"ev_profile_faceid_signup",category:"profile",action:"faceid_signup",label:e})}},{key:"faceIdSignUpBack",value:function(){this.gtmService.pushTag({event:"ev_profile_faceid_backto_signup",category:"profile",action:"faceid_backto_signup"})}},{key:"faceIdDeleteRegistry",value:function(){this.gtmService.pushTag({event:"ev_profile_faceid_delete_registry",category:"profile",action:"faceid_delete_registry"})}},{key:"dotersCardClicked",value:function(){this.gtmService.pushTag({event:"ev_profile_board_click_doters",category:"profile",action:"board_click_doters"})}},{key:"dotersOptOut",value:function(e){this.gtmService.pushTag({event:"ev_doters",category:"Doters",action:"opt_out",label:e})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.dc(a.a))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},U9ZV:function(e,t,n){"use strict";function i(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function r(e){return"string"==typeof e}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e){return e&&e.getTime&&!isNaN(e.getTime())}function s(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function h(e){return void 0===e}function f(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=i(t)),n}n.d(t,"a",(function(){return et})),n.d(t,"b",(function(){return Oe})),n.d(t,"c",(function(){return Qt})),n.d(t,"d",(function(){return $t})),n.d(t,"e",(function(){return St})),n.d(t,"f",(function(){return P})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return D})),n.d(t,"i",(function(){return tt})),n.d(t,"j",(function(){return x})),n.d(t,"k",(function(){return Dt})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return It})),n.d(t,"n",(function(){return o})),n.d(t,"o",(function(){return a})),n.d(t,"p",(function(){return Lt})),n.d(t,"q",(function(){return L})),n.d(t,"r",(function(){return Rt})),n.d(t,"s",(function(){return j})),n.d(t,"t",(function(){return R})),n.d(t,"u",(function(){return N})),n.d(t,"v",(function(){return Pt})),n.d(t,"w",(function(){return be})),n.d(t,"x",(function(){return me})),n.d(t,"y",(function(){return Se})),n.d(t,"z",(function(){return Mt}));var p={},g={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function v(e,t){var n=e.toLowerCase(),i=e;n in g&&(i=g[n]),p[n]=p[n+"s"]=p[t]=i}function m(e){return r(e)?p[e]||p[e.toLowerCase()]:void 0}function b(e,t,n){var i=""+Math.abs(e);return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,t-i.length)).toString().substr(1)+i}var y={},_={},C=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function k(e,t,n,i){e&&(_[e]=i),t&&(_[t[0]]=function(){return b(i.apply(null,arguments),t[1],t[2])}),n&&(_[n]=function(t,n){return n.locale.ordinal(i.apply(null,arguments),e)})}function S(e,t,n){var i=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(i.getUTCFullYear())&&i.setUTCFullYear(e),i}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=new Date(e,t,n,i,r,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.getUTCHours():e.getHours()}function w(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.getUTCMinutes():e.getMinutes()}function A(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.getUTCSeconds():e.getSeconds()}function E(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.getUTCMilliseconds():e.getMilliseconds()}function P(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.getUTCDay():e.getDay()}function M(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.getUTCDate():e.getDate()}function x(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.getUTCMonth():e.getMonth()}function D(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.getUTCFullYear():e.getFullYear()}function I(e){return O(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds())}function L(e,t){return e.getDay()===Number(t)}function R(e,t){return!(!e||!t)&&N(e,t)&&x(e)===x(t)}function N(e,t){return!(!e||!t)&&D(e)===D(t)}function j(e,t){return!(!e||!t)&&N(e,t)&&R(e,t)&&M(e)===M(t)}var B=/\d/,F=/\d\d/,H=/\d{3}/,U=/\d{4}/,Y=/[+-]?\d{6}/,G=/\d\d?/,V=/\d\d\d\d?/,Z=/\d\d\d\d\d\d?/,W=/\d{1,3}/,K=/\d{1,4}/,z=/[+-]?\d{1,6}/,Q=/\d+/,X=/[+-]?\d+/,q=/Z|[+-]\d\d(?::?\d\d)?/gi,$=/[+-]?\d+(\.\d{1,3})?/,J=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ee={};function te(e,t,n){ee[e]=s(t)?t:function(e,i){return e&&n?n:t}}function ne(e,t){return u(ee,e)?ee[e](!1,t):new RegExp(ie(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,r){return t||n||i||r}))))}function ie(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var re={};function oe(e,t){var n,i=r(e)?[e]:e,o=t;if(c(t)&&(o=function(e,n,i){return n[t]=f(e),i}),l(i)&&s(o))for(n=0;n<i.length;n++)re[i[n]]=o}function ae(e,t){oe(e,(function(e,n,i,r){return i._w=i._w||{},t(e,i._w,i,r)}))}function se(e,t,n){return null!=t&&u(re,e)&&re[e](t,n._a,n,e),n}var ce={};function le(e,t){ce[e]=t}function ue(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function de(e,t){return t.locale.getFullYear?t.locale.getFullYear(e,t.isUTC).toString():D(e,t.isUTC).toString()}function he(e){return f(e)+(f(e)>68?1900:2e3)}function fe(e){return pe(e)?366:365}function pe(e){return e%4==0&&e%100!=0||e%400==0}function ge(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return 1===n?pe(e+(t-n)/12)?29:28:31-n%7%2}var ve={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function me(e,t){var n=Object.assign({},ve,t),i=e.getFullYear()+(n.year||0),r=e.getMonth()+(n.month||0),o=e.getDate()+(n.day||0);return n.month&&!n.day&&(o=Math.min(o,ge(i,r))),O(i,r,o,e.getHours()+(n.hour||0),e.getMinutes()+(n.minute||0),e.getSeconds()+(n.seconds||0))}function be(e,t){return O(ye(e.getFullYear(),t.year),ye(e.getMonth(),t.month),1,ye(e.getHours(),t.hour),ye(e.getMinutes(),t.minute),ye(e.getSeconds(),t.seconds),ye(e.getMilliseconds(),t.milliseconds))}function ye(e,t){return c(t)?t:e}function _e(e,t,n){var i=Math.min(M(e),ge(D(e),t));return n?e.setUTCMonth(t,i):e.setMonth(t,i),e}function Ce(e,t,n){return n?e.setUTCDate(t):e.setDate(t),e}function ke(e){return new Date(e.getTime())}function Se(e,t,n){var i=ke(e);switch(t){case"year":_e(i,0,n);case"quarter":case"month":Ce(i,1,n);case"week":case"isoWeek":case"day":case"date":!function(e,t,n){n?e.setUTCHours(0):e.setHours(0)}(i,0,n);case"hours":!function(e,t,n){n?e.setUTCMinutes(0):e.setMinutes(0)}(i,0,n);case"minutes":!function(e,t,n){n?e.setUTCSeconds(0):e.setSeconds(0)}(i,0,n);case"seconds":!function(e,t,n){n?e.setUTCMilliseconds(0):e.setMilliseconds(0)}(i,0,n)}return"week"===t&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ut(e,0-Vt(e,n.locale,n.isUTC),"day")}(i,0,{isUTC:n}),"isoWeek"===t&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tt();return r(e)?t.weekdaysParse(e)%7||7:c(e)&&isNaN(e)?null:e}(1,n.locale);Gt(e,function(e,t){return P(e,void 0)}(e)%7?i:i-7)}(i),"quarter"===t&&_e(i,3*Math.floor(x(i,n)/3),n),i}function Oe(e,t,n){var i=t;return"date"===i&&(i="day"),function(e,t,n,i){return Yt(e,Bt(1,"milliseconds"),-1,i)}(Ut(Se(e,i,n),1,"isoWeek"===i?"week":i,n),0,0,n)}function Te(e,t){var n=+Se(e,"day",t),i=+Se(e,"year",t);return Math.round((n-i)/864e5)+1}function we(e,t,n){var i=t-n+7;return-(S(e,0,i).getUTCDay()-t+7)%7+i-1}function Ae(e,t,n,i){var r,o,a=we(D(e,i),t,n),s=Math.floor((Te(e,i)-a-1)/7)+1;return s<1?r=s+Ee(o=D(e,i)-1,t,n):s>Ee(D(e,i),t,n)?(r=s-Ee(D(e,i),t,n),o=D(e,i)+1):(o=D(e,i),r=s),{week:r,year:o}}function Ee(e,t,n){var i=we(e,t,n),r=we(e+1,t,n);return(fe(e)-i+r)/7}var Pe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Me="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),De="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ie="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Le="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Re={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ne=J,je=J,Be=function(){function e(t){_classCallCheck(this,e),t&&this.set(t)}return _createClass(e,[{key:"set",value:function(e){var t;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];this[s(n)?t:"_"+t]=n}this._config=e}},{key:"calendar",value:function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return s(i)?i.call(null,t,n):i}},{key:"longDateFormat",value:function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])}},{key:"ordinal",value:function(e,t){return this._ordinal.replace("%d",e.toString(10))}},{key:"preparse",value:function(e,t){return e}},{key:"getFullYear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return D(e,t)}},{key:"postformat",value:function(e){return e}},{key:"relativeTime",value:function(e,t,n,i){var r=this._relativeTime[n];return s(r)?r(e,t,n,i):r.replace(/%d/i,e.toString(10))}},{key:"pastFuture",value:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return s(n)?n(t):n.replace(/%s/i,t)}},{key:"months",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return l(this._months)?this._months:this._months.standalone;if(l(this._months))return this._months[x(e,n)];var i=(this._months.isFormat||Pe).test(t)?"format":"standalone";return this._months[i][x(e,n)]}},{key:"monthsShort",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return l(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(l(this._monthsShort))return this._monthsShort[x(e,n)];var i=Pe.test(t)?"format":"standalone";return this._monthsShort[i][x(e,n)]}},{key:"monthsParse",value:function(e,t,n){var i,r,o;if(this._monthsParseExact)return this.handleMonthStrictParse(e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(i=new Date(Date.UTC(2e3,o)),n&&!this._longMonthsParse[o]){var a=this.months(i,"",!0).replace(".",""),s=this.monthsShort(i,"",!0).replace(".","");this._longMonthsParse[o]=new RegExp("^".concat(a,"$"),"i"),this._shortMonthsParse[o]=new RegExp("^".concat(s,"$"),"i")}if(n||this._monthsParse[o]||(r="^".concat(this.months(i,"",!0),"|^").concat(this.monthsShort(i,"",!0)),this._monthsParse[o]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[o].test(e))return o;if(n&&"MMM"===t&&this._shortMonthsParse[o].test(e))return o;if(!n&&this._monthsParse[o].test(e))return o}}},{key:"monthsRegex",value:function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=je),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}},{key:"monthsShortRegex",value:function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Ne),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}},{key:"week",value:function(e,t){return Ae(e,this._week.dow,this._week.doy,t).week}},{key:"firstDayOfWeek",value:function(){return this._week.dow}},{key:"firstDayOfYear",value:function(){return this._week.doy}},{key:"weekdays",value:function(e,t,n){if(!e)return l(this._weekdays)?this._weekdays:this._weekdays.standalone;if(l(this._weekdays))return this._weekdays[P(e,n)];var i=this._weekdays.isFormat.test(t)?"format":"standalone";return this._weekdays[i][P(e,n)]}},{key:"weekdaysMin",value:function(e,t,n){return e?this._weekdaysMin[P(e,n)]:this._weekdaysMin}},{key:"weekdaysShort",value:function(e,t,n){return e?this._weekdaysShort[P(e,n)]:this._weekdaysShort}},{key:"weekdaysParse",value:function(e,t,n){var i,r;if(this._weekdaysParseExact)return this.handleWeekStrictParse(e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){var o=Gt(new Date(Date.UTC(2e3,1)),i,null,!0);if(n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^".concat(this.weekdays(o,"",!0).replace(".",".?"),"$"),"i"),this._shortWeekdaysParse[i]=new RegExp("^".concat(this.weekdaysShort(o,"",!0).replace(".",".?"),"$"),"i"),this._minWeekdaysParse[i]=new RegExp("^".concat(this.weekdaysMin(o,"",!0).replace(".",".?"),"$"),"i")),this._weekdaysParse[i]||(r="^".concat(this.weekdays(o,"",!0),"|^").concat(this.weekdaysShort(o,"",!0),"|^").concat(this.weekdaysMin(o,"",!0)),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),!(l(this._fullWeekdaysParse)&&l(this._shortWeekdaysParse)&&l(this._minWeekdaysParse)&&l(this._weekdaysParse)))return;if(n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}},{key:"weekdaysRegex",value:function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=J),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}},{key:"weekdaysShortRegex",value:function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=J),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}},{key:"weekdaysMinRegex",value:function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=J),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}},{key:"isPM",value:function(e){return"p"===e.toLowerCase().charAt(0)}},{key:"meridiem",value:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}},{key:"formatLongDate",value:function(e){this._longDateFormat=this._longDateFormat?this._longDateFormat:Re;var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])}},{key:"handleMonthStrictParse",value:function(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=new Date(2e3,i),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=this._shortMonthsParse.indexOf(a))?r:null:-1!==(r=this._longMonthsParse.indexOf(a))?r:null:"MMM"===t?-1!==(r=this._shortMonthsParse.indexOf(a))?r:-1!==(r=this._longMonthsParse.indexOf(a))?r:null:-1!==(r=this._longMonthsParse.indexOf(a))?r:-1!==(r=this._shortMonthsParse.indexOf(a))?r:null}},{key:"handleWeekStrictParse",value:function(e,t,n){var i,r,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r){var a=Gt(new Date(Date.UTC(2e3,1)),r,null,!0);this._minWeekdaysParse[r]=this.weekdaysMin(a).toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a).toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase()}if(l(this._weekdaysParse)&&l(this._shortWeekdaysParse)&&l(this._minWeekdaysParse))return n?"dddd"===t?-1!==(i=this._weekdaysParse.indexOf(o))?i:null:"ddd"===t?-1!==(i=this._shortWeekdaysParse.indexOf(o))?i:null:-1!==(i=this._minWeekdaysParse.indexOf(o))?i:null:"dddd"===t?-1!==(i=this._weekdaysParse.indexOf(o))?i:-1!==(i=this._shortWeekdaysParse.indexOf(o))?i:-1!==(i=this._minWeekdaysParse.indexOf(o))?i:null:"ddd"===t?-1!==(i=this._shortWeekdaysParse.indexOf(o))?i:-1!==(i=this._weekdaysParse.indexOf(o))?i:-1!==(i=this._minWeekdaysParse.indexOf(o))?i:null:-1!==(i=this._minWeekdaysParse.indexOf(o))?i:-1!==(i=this._weekdaysParse.indexOf(o))?i:-1!==(i=this._shortWeekdaysParse.indexOf(o))?i:null}},{key:"computeMonthsParse",value:function(){var e,t,n=[],i=[],r=[];for(t=0;t<12;t++)e=new Date(2e3,t),n.push(this.monthsShort(e,"")),i.push(this.months(e,"")),r.push(this.months(e,"")),r.push(this.monthsShort(e,""));for(n.sort(Fe),i.sort(Fe),r.sort(Fe),t=0;t<12;t++)n[t]=ie(n[t]),i[t]=ie(i[t]);for(t=0;t<24;t++)r[t]=ie(r[t]);this._monthsRegex=new RegExp("^(".concat(r.join("|"),")"),"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^(".concat(i.join("|"),")"),"i"),this._monthsShortStrictRegex=new RegExp("^(".concat(n.join("|"),")"),"i")}},{key:"computeWeekdaysParse",value:function(){var e,t=[],n=[],i=[],r=[];for(e=0;e<7;e++){var o=Gt(new Date(Date.UTC(2e3,1)),e,null,!0),a=this.weekdaysMin(o),s=this.weekdaysShort(o),c=this.weekdays(o);t.push(a),n.push(s),i.push(c),r.push(a),r.push(s),r.push(c)}for(t.sort(Fe),n.sort(Fe),i.sort(Fe),r.sort(Fe),e=0;e<7;e++)n[e]=ie(n[e]),i[e]=ie(i[e]),r[e]=ie(r[e]);this._weekdaysRegex=new RegExp("^(".concat(r.join("|"),")"),"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^(".concat(i.join("|"),")"),"i"),this._weekdaysShortStrictRegex=new RegExp("^(".concat(n.join("|"),")"),"i"),this._weekdaysMinStrictRegex=new RegExp("^(".concat(t.join("|"),")"),"i")}},{key:"invalidDate",get:function(){return this._invalidDate},set:function(e){this._invalidDate=e}}]),e}();function Fe(e,t){return t.length-e.length}var He={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:Re,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Me,monthsShort:xe,week:{dow:0,doy:6},weekdays:De,weekdaysMin:Le,weekdaysShort:Ie,meridiemParse:/[ap]\.?m?\.?/i};function Ue(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&f(e[i])!==f(t[i]))&&a++;return a+o}function Ye(e,t){k(null,[e,e.length,!1],null,t)}function Ge(e,t){return Ze(e,t.locale).toString()}function Ve(e){return We(e).toString()}function Ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tt(),n=arguments.length>2?arguments[2]:void 0;return Ae(e,t.firstDayOfWeek(),t.firstDayOfYear(),n).year}function We(e,t){return Ae(e,1,4,t).year}function Ke(e,t){k(e,null,null,(function(e,n){var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t._isUTC?t._offset||0:function(e){return 15*-Math.round(e.getTimezoneOffset()/15)}(e)}(e,{_isUTC:n.isUTC,_offset:n.offset}),r="+";return i<0&&(i=-i,r="-"),r+b(~~(i/60),2)+t+b(~~i%60,2)}))}var ze,Qe=/([\+\-]|\d\d)/gi,Xe={},qe={};function $e(e){return e?e.toLowerCase().replace("_","-"):e}function Je(e,t){var n;return e&&(h(t)?n=tt(e):r(e)&&(n=et(e,t)),n&&(ze=n)),ze&&ze._abbr}function et(e,t){if(null===t)return delete Xe[e],ze=tt("en"),null;if(t){var n=He;if(t.abbr=e,null!=t.parentLocale){if(null==Xe[t.parentLocale])return qe[t.parentLocale]||(qe[t.parentLocale]=[]),qe[t.parentLocale].push({name:e,config:t}),null;n=Xe[t.parentLocale]._config}return Xe[e]=new Be(function(e,t){var n=Object.assign({},e);for(var i in t)u(t,i)&&(d(e[i])&&d(t[i])?(n[i]={},Object.assign(n[i],e[i]),Object.assign(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);for(var r in e)u(e,r)&&!u(t,r)&&d(e[r])&&(n[r]=Object.assign({},n[r]));return n}(n,t)),qe[e]&&qe[e].forEach((function(e){et(e.name,e.config)})),Je(e),Xe[e]}}function tt(e){return Xe.en||(Je("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===f(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),k("w",["ww",2,!1],"wo",(function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tt();arguments.length>2&&arguments[2];return t.week(e,void 0)}(e,t.locale).toString(10)})),k("W",["WW",2,!1],"Wo",(function(e){return function(e,t){return Ae(e,1,4,void 0).week}(e).toString(10)})),v("week","w"),v("isoWeek","W"),le("week",5),le("isoWeek",5),te("w",G),te("ww",G,F),te("W",G),te("WW",G,F),ae(["w","ww","W","WW"],(function(e,t,n,i){return t[i.substr(0,1)]=f(e),n})),k(null,["gg",2,!1],null,(function(e,t){return(Ze(e,t.locale)%100).toString()})),k(null,["GG",2,!1],null,(function(e){return(We(e)%100).toString()})),Ye("gggg",Ge),Ye("ggggg",Ge),Ye("GGGG",Ve),Ye("GGGGG",Ve),v("weekYear","gg"),v("isoWeekYear","GG"),le("weekYear",1),le("isoWeekYear",1),te("G",X),te("g",X),te("GG",G,F),te("gg",G,F),te("GGGG",K,U),te("gggg",K,U),te("GGGGG",z,Y),te("ggggg",z,Y),ae(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){return t[i.substr(0,2)]=f(e),n})),ae(["gg","GG"],(function(e,t,n,i){return t[i]=he(e),n})),k("Y",null,null,(function(e,t){var n=D(e,t.isUTC);return n<=9999?n.toString(10):"+"+n})),k(null,["YY",2,!1],null,(function(e,t){return(D(e,t.isUTC)%100).toString(10)})),k(null,["YYYY",4,!1],null,de),k(null,["YYYYY",5,!1],null,de),k(null,["YYYYYY",6,!0],null,de),v("year","y"),le("year",1),te("Y",X),te("YY",G,F),te("YYYY",K,U),te("YYYYY",z,Y),te("YYYYYY",z,Y),oe(["YYYYY","YYYYYY"],0),oe("YYYY",(function(e,t,n){return t[0]=2===e.length?he(e):f(e),n})),oe("YY",(function(e,t,n){return t[0]=he(e),n})),oe("Y",(function(e,t,n){return t[0]=parseInt(e,10),n})),k("z",null,null,(function(e,t){return t.isUTC?"UTC":""})),k("zz",null,null,(function(e,t){return t.isUTC?"Coordinated Universal Time":""})),k("X",null,null,(function(e){return function(e){return Math.floor(e.valueOf()/1e3)}(e).toString(10)})),k("x",null,null,(function(e){return e.valueOf().toString(10)})),te("x",X),te("X",$),oe("X",(function(e,t,n){return n._d=new Date(1e3*parseFloat(e)),n})),oe("x",(function(e,t,n){return n._d=new Date(f(e)),n})),k("s",["ss",2,!1],null,(function(e,t){return A(e,t.isUTC).toString(10)})),v("second","s"),le("second",15),te("s",G),te("ss",G,F),oe(["s","ss"],5),k("Q",null,"Qo",(function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Math.ceil((x(e,t)+1)/3)}(e,t.isUTC).toString(10)})),v("quarter","Q"),le("quarter",7),te("Q",B),oe("Q",(function(e,t,n){return t[1]=3*(f(e)-1),n})),Ke("Z",":"),Ke("ZZ",""),te("Z",q),te("ZZ",q),oe(["Z","ZZ"],(function(e,t,n){return n._useUTC=!0,n._tzm=function(e,t){var n=(t||"").match(e);if(null===n)return null;var i=n[n.length-1].match(Qe)||["-","0","0"],r=60*parseInt(i[1],10)+f(i[2]);return 0===r?0:"+"===i[0]?r:-r}(q,e),n})),k("M",["MM",2,!1],"Mo",(function(e,t){return(x(e,t.isUTC)+1).toString(10)})),k("MMM",null,null,(function(e,t){return t.locale.monthsShort(e,t.format,t.isUTC)})),k("MMMM",null,null,(function(e,t){return t.locale.months(e,t.format,t.isUTC)})),v("month","M"),le("month",8),te("M",G),te("MM",G,F),te("MMM",(function(e,t){return t.monthsShortRegex(e)})),te("MMMM",(function(e,t){return t.monthsRegex(e)})),oe(["M","MM"],(function(e,t,n){return t[1]=f(e)-1,n})),oe(["MMM","MMMM"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);return null!=r?t[1]=r:ue(n).invalidMonth=!!e,n})),k("m",["mm",2,!1],null,(function(e,t){return w(e,t.isUTC).toString(10)})),v("minute","m"),le("minute",14),te("m",G),te("mm",G,F),oe(["m","mm"],4),function(){var e;for(k("S",null,null,(function(e,t){return(~~(E(e,t.isUTC)/100)).toString(10)})),k(null,["SS",2,!1],null,(function(e,t){return(~~(E(e,t.isUTC)/10)).toString(10)})),k(null,["SSS",3,!1],null,(function(e,t){return E(e,t.isUTC).toString(10)})),k(null,["SSSS",4,!1],null,(function(e,t){return(10*E(e,t.isUTC)).toString(10)})),k(null,["SSSSS",5,!1],null,(function(e,t){return(100*E(e,t.isUTC)).toString(10)})),k(null,["SSSSSS",6,!1],null,(function(e,t){return(1e3*E(e,t.isUTC)).toString(10)})),k(null,["SSSSSSS",7,!1],null,(function(e,t){return(1e4*E(e,t.isUTC)).toString(10)})),k(null,["SSSSSSSS",8,!1],null,(function(e,t){return(1e5*E(e,t.isUTC)).toString(10)})),k(null,["SSSSSSSSS",9,!1],null,(function(e,t){return(1e6*E(e,t.isUTC)).toString(10)})),v("millisecond","ms"),le("millisecond",16),te("S",W,B),te("SS",W,F),te("SSS",W,H),e="SSSS";e.length<=9;e+="S")te(e,Q);function t(e,t,n){return t[6]=f(1e3*parseFloat("0."+e)),n}for(e="S";e.length<=9;e+="S")oe(e,t)}(),function(){function e(e,t){return T(e,t)%12||12}function t(e,t){k(e,null,null,(function(e,n){return n.locale.meridiem(T(e,n.isUTC),w(e,n.isUTC),t)}))}function n(e,t){return t._meridiemParse}k("H",["HH",2,!1],null,(function(e,t){return T(e,t.isUTC).toString(10)})),k("h",["hh",2,!1],null,(function(t,n){return e(t,n.isUTC).toString(10)})),k("k",["kk",2,!1],null,(function(e,t){return function(e,t){return T(e,t)||24}(e,t.isUTC).toString(10)})),k("hmm",null,null,(function(t,n){return"".concat(e(t,n.isUTC)).concat(b(w(t,n.isUTC),2))})),k("hmmss",null,null,(function(t,n){return"".concat(e(t,n.isUTC)).concat(b(w(t,n.isUTC),2)).concat(b(A(t,n.isUTC),2))})),k("Hmm",null,null,(function(e,t){return"".concat(T(e,t.isUTC)).concat(b(w(e,t.isUTC),2))})),k("Hmmss",null,null,(function(e,t){return"".concat(T(e,t.isUTC)).concat(b(w(e,t.isUTC),2)).concat(b(A(e,t.isUTC),2))})),t("a",!0),t("A",!1),v("hour","h"),le("hour",13),te("a",n),te("A",n),te("H",G),te("h",G),te("k",G),te("HH",G,F),te("hh",G,F),te("kk",G,F),te("hmm",V),te("hmmss",Z),te("Hmm",V),te("Hmmss",Z),oe(["H","HH"],3),oe(["k","kk"],(function(e,t,n){var i=f(e);return t[3]=24===i?0:i,n})),oe(["a","A"],(function(e,t,n){return n._isPm=n._locale.isPM(e),n._meridiem=e,n})),oe(["h","hh"],(function(e,t,n){return t[3]=f(e),ue(n).bigHour=!0,n})),oe("hmm",(function(e,t,n){var i=e.length-2;return t[3]=f(e.substr(0,i)),t[4]=f(e.substr(i)),ue(n).bigHour=!0,n})),oe("hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;return t[3]=f(e.substr(0,i)),t[4]=f(e.substr(i,2)),t[5]=f(e.substr(r)),ue(n).bigHour=!0,n})),oe("Hmm",(function(e,t,n){var i=e.length-2;return t[3]=f(e.substr(0,i)),t[4]=f(e.substr(i)),n})),oe("Hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;return t[3]=f(e.substr(0,i)),t[4]=f(e.substr(i,2)),t[5]=f(e.substr(r)),n}))}(),k("DDD",["DDDD",3,!1],"DDDo",(function(e){return Te(e).toString(10)})),v("dayOfYear","DDD"),le("dayOfYear",4),te("DDD",W),te("DDDD",H),oe(["DDD","DDDD"],(function(e,t,n){return n._dayOfYear=f(e),n})),k("d",null,"do",(function(e,t){return P(e,t.isUTC).toString(10)})),k("dd",null,null,(function(e,t){return t.locale.weekdaysMin(e,t.format,t.isUTC)})),k("ddd",null,null,(function(e,t){return t.locale.weekdaysShort(e,t.format,t.isUTC)})),k("dddd",null,null,(function(e,t){return t.locale.weekdays(e,t.format,t.isUTC)})),k("e",null,null,(function(e,t){return Vt(e,t.locale,t.isUTC).toString(10)})),k("E",null,null,(function(e,t){return function(e,t){return P(e,t)||7}(e,t.isUTC).toString(10)})),v("day","d"),v("weekday","e"),v("isoWeekday","E"),le("day",11),le("weekday",11),le("isoWeekday",11),te("d",G),te("e",G),te("E",G),te("dd",(function(e,t){return t.weekdaysMinRegex(e)})),te("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),te("dddd",(function(e,t){return t.weekdaysRegex(e)})),ae(["dd","ddd","dddd"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);return null!=r?t.d=r:ue(n).invalidWeekday=!!e,n})),ae(["d","e","E"],(function(e,t,n,i){return t[i]=f(e),n})),k("D",["DD",2,!1],"Do",(function(e,t){return M(e,t.isUTC).toString(10)})),v("date","D"),le("date",9),te("D",G),te("DD",G,F),te("Do",(function(e,t){return t._dayOfMonthOrdinalParse||t._ordinalParse})),oe(["D","DD"],2),oe("Do",(function(e,t,n){return t[2]=f(e.match(G)[0]),n}))),e?function(e){for(var t,n,i,r=0;r<e.length;){var o=$e(e[r]).split("-"),a=o.length;for(t=(t=$e(e[r+1]))?t.split("-"):null;a>0;){if(i=o.slice(0,a).join("-"),Xe[i]||console.error('Khronos locale error: please load locale "'.concat(i,'" before using it')),n=Xe[i])return n;if(t&&t.length>=a&&Ue(o,t,!0)>=a-1)break;a--}r++}return null}(l(e)?e:[e]):ze}var nt=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],it=nt.reduce((function(e,t){return e[t]=!0,e}),{});function rt(e){return e<0?Math.floor(e):Math.ceil(e)}function ot(e){return 4800*e/146097}function at(e){return 146097*e/4800}var st=Math.round;function ct(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}var lt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this._data={},this._locale=tt(),this._locale=n&&n._locale||tt();var r=t.year||0,o=t.quarter||0,a=t.month||0,s=t.week||0,c=t.day||0,l=t.hours||0,u=t.minutes||0,d=t.seconds||0,h=t.milliseconds||0;return this._isValid=function(e){if(Object.keys(e).some((function(t){return t in it&&null===e[t]||isNaN(e[t])})))return!1;for(var t=!1,n=0;n<nt.length;++n)if(e[nt[n]]){if(t)return!1;e[nt[n]]!==f(e[nt[n]])&&(t=!0)}return!0}(t),this._milliseconds=+h+1e3*d+60*u*1e3+1e3*l*60*60,this._days=+c+7*s,this._months=+a+3*o+12*r,function(e){var t=e._milliseconds,n=e._days,r=e._months,o=e._data;t>=0&&n>=0&&r>=0||t<=0&&n<=0&&r<=0||(t+=864e5*rt(at(r)+n),n=0,r=0),o.milliseconds=t%1e3;var a=i(t/1e3);o.seconds=a%60;var s=i(a/60);o.minutes=s%60;var c=i(s/60);o.hours=c%24,n+=i(c/24);var l=i(ot(n));r+=l,n-=rt(at(l));var u=i(r/12);return r%=12,o.day=n,o.month=r,o.year=u,e}(this)}return _createClass(e,[{key:"isValid",value:function(){return this._isValid}},{key:"humanize",value:function(e){if(!this.isValid())return this.localeData().invalidDate;var t=this.localeData(),n=function(e,t,n){var i=Bt(e).abs(),r=st(i.as("s")),o=st(i.as("m")),a=st(i.as("h")),s=st(i.as("d")),c=st(i.as("M")),l=st(i.as("y")),u=r<=44&&["s",r]||r<45&&["ss",r]||o<=1&&["m"]||o<45&&["mm",o]||a<=1&&["h"]||a<22&&["hh",a]||s<=1&&["d"]||s<26&&["dd",s]||c<=1&&["M"]||c<11&&["MM",c]||l<=1&&["y"]||["yy",l];return ct.apply(null,[u[0],u[1],t,+e>0,n])}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}},{key:"localeData",value:function(){return this._locale}},{key:"locale",value:function(e){return e?(this._locale=tt(e)||this._locale,this):this._locale._abbr}},{key:"abs",value:function(){var e=Math.abs,t=this._data;return this._milliseconds=e(this._milliseconds),this._days=e(this._days),this._months=e(this._months),t.milliseconds=e(t.milliseconds),t.seconds=e(t.seconds),t.minutes=e(t.minutes),t.hours=e(t.hours),t.month=e(t.month),t.year=e(t.year),this}},{key:"as",value:function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds,r=m(e);if("month"===r||"year"===r)return t=this._days+i/864e5,n=this._months+ot(t),"month"===r?n:n/12;switch(t=this._days+Math.round(at(this._months)),r){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hours":return 24*t+i/36e5;case"minutes":return 1440*t+i/6e4;case"seconds":return 86400*t+i/1e3;case"milliseconds":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+r)}}},{key:"valueOf",value:function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*f(this._months/12):NaN}}]),e}();function ut(e){if(null==e._isValid){var t=ue(e),n=Array.prototype.some.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d&&e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function dt(e,t){return e._d=new Date(NaN),Object.assign(ue(e),t||{userInvalidated:!0}),e}var ht=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ft=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pt=/Z|[+-]\d\d(?::?\d\d)?/,gt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],vt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mt=/^\/?Date\((\-?\d+)/i,bt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},yt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function _t(e){if(!r(e._i))return e;var t,n,i,o,a,s,c=e._i,l=ht.exec(c)||ft.exec(c);if(!l)return e._isValid=!1,e;for(a=0,s=gt.length;a<s;a++)if(gt[a][1].exec(l[1])){n=gt[a][0],t=!1!==gt[a][2];break}if(null==n)return e._isValid=!1,e;if(l[3]){for(a=0,s=vt.length;a<s;a++)if(vt[a][1].exec(l[3])){i=(l[2]||" ")+vt[a][0];break}if(null==i)return e._isValid=!1,e}if(!t&&null!=i)return e._isValid=!1,e;if(l[4]){if(!pt.exec(l[4]))return e._isValid=!1,e;o="Z"}return e._f=n+(i||"")+(o||""),Et(e)}function Ct(e){var t=parseInt(e,10);return t<=49?t+2e3:t}function kt(e){if(!r(e._i))return e;var t=yt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(!t)return function(e){return e._isValid=!1,e}(e);var n,i,o,a,s,c,l,u=(n=t[4],i=t[3],o=t[2],a=t[5],s=t[6],c=t[7],l=[Ct(n),xe.indexOf(i),parseInt(o,10),parseInt(a,10),parseInt(s,10)],c&&l.push(parseInt(c,10)),l);return function(e,t,n){return!e||Ie.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(ue(n).weekdayMismatch=!0,n._isValid=!1,!1)}(t[1],u,e)?(e._a=u,e._tzm=function(e,t,n){if(e)return bt[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(t[8],t[9],t[10]),e._d=S.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),ue(e).rfc2822=!0,e):e}function St(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=tt(n||"en");if(!o)throw new Error('Locale "'.concat(n,'" is not defined, please add it with "defineLocale(...)"'));var c=function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!a(e))return n.invalidDate;var o=Ot(t,n);return y[o]=y[o]||function(e){for(var t,n=e.match(C),i=n.length,r=new Array(i),o=0;o<i;o++)r[o]=_[n[o]]?_[n[o]]:(t=n[o]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t,n,o){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c="",l=0;l<i;l++)c+=s(r[l])?r[l].call(null,t,{format:e,locale:n,isUTC:o,offset:a}):r[l];return c}}(o),y[o](e,n,i,r)}(e,t||(i?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),o,i,r);return c?o.postformat(c):c}function Ot(e,t){var n=e,i=5,r=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,o=function(e){return t.formatLongDate(e)||e};for(r.lastIndex=0;i>=0&&r.test(n);)n=n.replace(r,o),r.lastIndex=0,i-=1;return n}function Tt(e,t,n){return null!=e?e:null!=t?t:n}function wt(e){var t,n,i,r=[];if(e._d)return e;var o=function(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e);for(e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,i,r,o,a,s,c=e._w;if(null!=c.GG||null!=c.W||null!=c.E)r=1,o=4,t=Tt(c.GG,e._a[0],Ae(new Date,1,4).year),n=Tt(c.W,1),((i=Tt(c.E,1))<1||i>7)&&(s=!0);else{r=e._locale._week.dow,o=e._locale._week.doy;var l=Ae(new Date,r,o);t=Tt(c.gg,e._a[0],l.year),n=Tt(c.w,l.week),null!=c.d?((i=c.d)<0||i>6)&&(s=!0):null!=c.e?(i=c.e+r,(c.e<0||c.e>6)&&(s=!0)):i=r}n<1||n>Ee(t,r,o)?ue(e)._overflowWeeks=!0:null!=s?ue(e)._overflowWeekday=!0:(a=function(e,t,n,i,r){var o,a,s=1+7*(t-1)+(7+n-i)%7+we(e,i,r);return s<=0?a=fe(o=e-1)+s:s>fe(e)?(o=e+1,a=s-fe(e)):(o=e,a=s),{year:o,dayOfYear:a}}(t,n,i,r,o),e._a[0]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(i=Tt(e._a[0],o[0]),(e._dayOfYear>fe(i)||0===e._dayOfYear)&&(ue(e)._overflowDayOfYear=!0),n=new Date(Date.UTC(i,0,e._dayOfYear)),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?S:O).apply(null,r);var a=e._useUTC?e._d.getUTCDay():e._d.getDay();return null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==a&&(ue(e).weekdayMismatch=!0),e}function At(e){var t,n=e._a;return n&&-2===ue(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>ge(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,ue(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),ue(e)._overflowWeeks&&-1===t&&(t=7),ue(e)._overflowWeekday&&-1===t&&(t=8),ue(e).overflow=t),e}function Et(e){if("ISO_8601"===e._f)return _t(e);if("RFC_2822"===e._f)return kt(e);if(e._a=[],ue(e).empty=!0,l(e._f)||!e._i&&0!==e._i)return e;var t,n,i,r,o=e._i.toString(),a=0,s=o.length,c=Ot(e._f,e._locale).match(C)||[];for(t=0;t<c.length;t++)n=c[t],(i=(o.match(ne(n,e._locale))||[])[0])&&((r=o.substr(0,o.indexOf(i))).length>0&&ue(e).unusedInput.push(r),o=o.slice(o.indexOf(i)+i.length),a+=i.length),_[n]?(i?ue(e).empty=!1:ue(e).unusedTokens.push(n),se(n,i,e)):e._strict&&!i&&ue(e).unusedTokens.push(n);return ue(e).charsLeftOver=s-a,o.length>0&&ue(e).unusedInput.push(o),e._a[3]<=12&&!0===ue(e).bigHour&&e._a[3]>0&&(ue(e).bigHour=void 0),ue(e).parsedDateParts=e._a.slice(0),ue(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var i=t;if(null==n)return i;if(null!=e.meridiemHour)return e.meridiemHour(i,n);if(null==e.isPM)return i;var r=e.isPM(n);return r&&i<12&&(i+=12),r||12!==i||(i=0),i}(e._locale,e._a[3],e._meridiem),wt(e),At(e)}function Pt(e,t,n,i,a){return o(e)?e:function(e,t,n,i,a){var s={},f=e;return(d(f)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(f)||l(f)&&0===f.length)&&(f=void 0),s._useUTC=s._isUTC=a,s._l=n,s._i=f,s._f=t,s._strict=i,function(e){var t=At(function(e){var t=e._i,n=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===n&&""===t?dt(e,{nullInput:!0}):(r(t)&&(e._i=t=e._locale.preparse(t,n)),o(t)?(e._d=ke(t),e):(l(n)?function(e){var t,n,i,r,o;if(!e._f||0===e._f.length)return ue(e).invalidFormat=!0,dt(e);for(o=0;o<e._f.length;o++)r=0,t=Object.assign({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],Et(t),ut(t)&&(r+=ue(t).charsLeftOver,r+=10*ue(t).unusedTokens.length,ue(t).score=r,(null==i||r<i)&&(i=r,n=t));Object.assign(e,n||t)}(e):n?Et(e):function(e){var t=e._i;if(h(t))e._d=new Date;else if(o(t))e._d=ke(t);else if(r(t))!function(e){if(!r(e._i))return e;var t=mt.exec(e._i);null!==t?e._d=new Date(+t[1]):(_t(e),!1!==e._isValid||(delete e._isValid,kt(e),!1!==e._isValid||(delete e._isValid,dt(e))))}(e);else if(l(t)&&t.length){var n=t.slice(0);e._a=n.map((function(e){return r(e)?parseInt(e,10):e})),wt(e)}else if(d(t))!function(e){if(e._d)return e;var t=e._i;if(d(t)){var n=function(e){var t,n,i={};for(n in e)u(e,n)&&((t=m(n))&&(i[t]=e[n]));return i}(t);e._a=[n.year,n.month,n.day,n.hours,n.minutes,n.seconds,n.milliseconds].map((function(e){return r(e)?parseInt(e,10):e}))}wt(e)}(e);else{if(!c(t))return dt(e);e._d=new Date(t)}}(e),ut(e)||(e._d=null),e))}(e));return t._d=new Date(null!=t._d?t._d.getTime():NaN),ut(Object.assign({},t,{_isValid:null}))||(t._d=new Date(NaN)),t}(s)}(e,t,n,i,a)._d}function Mt(e){return e instanceof Date?new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()):null}function xt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Dt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"milliseconds";return!(!e||!t)&&("milliseconds"===n?e.valueOf()>t.valueOf():t.valueOf()<Se(e,n).valueOf())}function It(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"milliseconds";return!(!e||!t)&&("milliseconds"===n?e.valueOf()<t.valueOf():Oe(e,n).valueOf()<t.valueOf())}function Lt(e,t){return!(void 0===t||!t||!t.length)&&t.some((function(t){return t===e.getDay()}))}function Rt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"milliseconds";if(!e||!t)return!1;if("milliseconds"===n)return e.valueOf()===t.valueOf();var i=t.valueOf();return Se(e,n).valueOf()<=i&&i<=Oe(e,n).valueOf()}var Nt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,jt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Bt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=function(e,t){if(null==e)return{};if(e instanceof lt)return{milliseconds:e._milliseconds,day:e._days,month:e._months};if(c(e))return t?_defineProperty2({},t,e):{milliseconds:e};if(r(e)){var n=Nt.exec(e);if(n){var i="-"===n[1]?-1:1;return{year:0,day:f(n[2])*i,hours:f(n[3])*i,minutes:f(n[4])*i,seconds:f(n[5])*i,milliseconds:f(xt(1e3*f(n[6])))*i}}if(n=jt.exec(e)){var o="-"===n[1]?-1:1;return{year:Ft(n[2],o),month:Ft(n[3],o),week:Ft(n[4],o),day:Ft(n[5],o),hours:Ft(n[6],o),minutes:Ft(n[7],o),seconds:Ft(n[8],o)}}}if(d(e)&&("from"in e||"to"in e)){var s=function(e,t){if(!a(e)||!a(t))return{milliseconds:0,months:0};var n,i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!n._isUTC)return e;var i=ke(t),r=6e4*(n._offset||0),o=e.valueOf()-i.valueOf()+r;return i.setTime(i.valueOf()+o),i}(t,e,{_offset:e.getTimezoneOffset()});return It(e,i)?n=Ht(e,i):((n=Ht(i,e)).milliseconds=-n.milliseconds,n.months=-n.months),n}(Pt(e.from),Pt(e.to));return{milliseconds:s.milliseconds,month:s.months}}return e}(e,t);return new lt(i,n)}function Ft(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ht(e,t){var n={milliseconds:0,months:0};return n.months=x(t)-x(e)+12*(D(t)-D(e)),Dt(Ut(ke(e),n.months,"month"),t)&&--n.months,n.milliseconds=+t-+Ut(ke(e),n.months,"month"),n}function Ut(e,t,n,i){return Yt(e,Bt(t,n),1,i)}function Yt(e,t,n,i){var r=t._milliseconds,o=xt(t._days),a=xt(t._months);return a&&_e(e,x(e,i)+a*n,i),o&&Ce(e,M(e,i)+o*n,i),r&&function(e,t){e.setTime(t)}(e,function(e){return e.getTime()}(e)+r*n),ke(e)}function Gt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tt(),i=arguments.length>3?arguments[3]:void 0,o=P(e,i);return Ut(e,function(e,t){if(!r(e))return e;var n=parseInt(e,10);if(!isNaN(n))return n;var i=t.weekdaysParse(e);return c(i)?i:null}(t,n)-o,"day")}function Vt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tt(),n=arguments.length>2?arguments[2]:void 0;return(P(e,n)+7-t.firstDayOfWeek())%7}var Zt="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Wt="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),Kt=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],zt=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,Qt={abbr:"es",months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t,n){return e?/-MMM-/.test(t)?Wt[x(e,n)]:Zt[x(e,n)]:Zt},monthsRegex:zt,monthsShortRegex:zt,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:Kt,longMonthsParse:Kt,shortMonthsParse:Kt,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(e){return"[hoy a la"+(1!==T(e)?"s":"")+"] LT"},nextDay:function(e){return"[ma\xf1ana a la"+(1!==T(e)?"s":"")+"] LT"},nextWeek:function(e){return"dddd [a la"+(1!==T(e)?"s":"")+"] LT"},lastDay:function(e){return"[ayer a la"+(1!==T(e)?"s":"")+"] LT"},lastWeek:function(e){return"[el] dddd [pasado a la"+(1!==T(e)?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}},Xt="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),qt="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),$t={abbr:"es-us",months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t,n){return e?/-MMM-/.test(t)?qt[x(e,n)]:Xt[x(e,n)]:Xt},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY h:mm A",LLLL:"dddd, MMMM [de] D [de] YYYY h:mm A"},calendar:{sameDay:function(e){return"[hoy a la"+(1!==T(e)?"s":"")+"] LT"},nextDay:function(e){return"[ma\xf1ana a la"+(1!==T(e)?"s":"")+"] LT"},nextWeek:function(e){return"dddd [a la"+(1!==T(e)?"s":"")+"] LT"},lastDay:function(e){return"[ayer a la"+(1!==T(e)?"s":"")+"] LT"},lastWeek:function(e){return"[el] dddd [pasado a la"+(1!==T(e)?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}}},"UNi/":function(e,t){e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},UXnn:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var i,r,o=n("ofXK"),a=n("fXoL"),s=n("jtHE"),c=n("LRne"),l=n("z6cu"),u=n("PqYM"),d=n("2Vo4"),h=n("cp0P"),f=n("eIep"),p=n("vkgz"),g=n("MtjB"),v=n("5+tZ"),m=n("JIr8"),b=n("lJxs"),y=n("xbPD"),_=n("AytR"),C=n("1AID"),k=n("Elrx"),S=n("deb4"),O=n("tiZS"),T=n("tk/3"),w=n("imvL"),A=n("9YtQ"),E=n("BifP"),P=n("egL7"),M=((i=function(){function e(t){_classCallCheck(this,e),this.gtmService=t}return _createClass(e,[{key:"trackApiError",value:function(e,t,n){this.gtmService.pushTag({event:"boxever_message",message:{type:"error",id:e,code:t,message:n}})}}]),e}()).\u0275fac=function(e){return new(e||i)(a.dc(P.a))},i.\u0275prov=a.Pb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),x=n("jhN1"),D=n("y4Wf"),I=((r=function(){function e(t,n,i,r,o,a,c,l,u,d,h,f){_classCallCheck(this,e),this.http=t,this.authService=n,this.deviceService=i,this.injector=r,this.cmsConfig=o,this.boxeverDatalayer=a,this.document=c,this.platformId=l,this.currency=u,this.localeId=d,this.sanitize=h,this.basketApi=f,this.svcInit=!1,this.loadBoxeverFromSDK=!0,this.ready=new s.a(1),this.isBoxeverEnabled=this.cmsConfig.getSectionFeatureValue(C.b.GLOBAL,C.a.BoxeverIntegration)}return _createClass(e,[{key:"init",value:function(){if(!this.svcInit){if(this.svcInit=!0,!this.isBoxeverEnabled)return void this.onBoxeverDisabled();this.loadBoxeverFromSDK&&(Object(o.L)(this.platformId)?function(e,t,n,i){var r=e;r._boxeverq=r._boxeverq||[],r._boxever_settings={client_key:_.g.boxever.clientKey,target:_.g.boxever.apiTarget,cookie_domain:_.g.boxever.cookieDomain};var o=t.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://d1mj578wat5n4o.cloudfront.net/boxever-".concat(_.g.boxever.clientVersion,".min.js"),n&&(o.onload=n),i&&(o.onerror=i),t.head.appendChild(o)}(window,this.document,this.onBoxeverLoad.bind(this),this.onBoxeverError.bind(this)):this.onBoxeverError())}}},{key:"onBoxeverLoad",value:function(){var e=this.injector.get(S.a),t={currency:this.currency,locale:this.localeId,variant:this.deviceVariant,flowTypeFn:e?e._boxever_flowtype.bind(e):void 0};(function(e,t){var n=e,i=t;n._boxever_utils={pushEventQueue:function(e){var t=n.BoxeverStorage.get(n.EVENTS_Q_COOKIE_NAME),i=null!=t&&t.length>0?t:[];i.push(e),n.BoxeverStorage.set(n.EVENTS_Q_COOKIE_NAME,i,n.JSTORAGE_OPTIONS)},processEventQueue:function(e){var t=n.BoxeverStorage.get(n.EVENTS_Q_COOKIE_NAME);if(null!=t&&t.length){n.BoxeverStorage.set(n.EVENTS_Q_COOKIE_NAME,[],n.JSTORAGE_OPTIONS);for(var i=[],r=0;r<t.length;r++)t[r]&&i.push(t[r]);!function t(){if(i.length>0)try{var r=i.shift();n.Boxever.eventCreate(r,t,"json")}catch(o){n.BoxeverJERS.errors.push(o),t()}else e()}()}else e()},clearEventQueue:function(){n.BoxeverStorage.set(n.EVENTS_Q_COOKIE_NAME,[],n.JSTORAGE_OPTIONS)},getDataLayer:function(e){for(var t,i=0;i<n.dataLayer.length;i++)n.dataLayer[i].box===e&&(t=n.dataLayer[i]);return t},getChannel:function(e){var t="WEB";return"mobile"===(null==i?void 0:i.variant)&&(t="MOBILE_WEB"),t},getPage:function(e){return(null==i?void 0:i.flowTypeFn)&&i.flowTypeFn()||""},getLanguage:function(e){return(null==i?void 0:i.locale)?i.locale.substring(0,2).toUpperCase():"ES"},getCurrency:function(e){return(null==i?void 0:i.currency)||"MXN"},getPOS:function(e){var t=(null==i?void 0:i.locale)||"es-MX";return"vivaaerobus."+(t="en-US"===t?"us":"es-MX"===t?"mx":"com")}},n.EVENTS_Q_COOKIE_NAME="beq_"+_.g.boxever.clientKey,n.JSTORAGE_OPTIONS={TTL:864e5}})(window,t),this.setReady(!0),_.g.production||console.log("[VIVAAERBOUS BOXEVER] -> SPA Script loaded")}},{key:"onBoxeverError",value:function(){this.setReady(!1),_.g.production||console.error("[VIVAAERBOUS BOXEVER] -> SPA Script not loaded.")}},{key:"onBoxeverDisabled",value:function(){this.setReady(!1),_.g.production||console.warn("[VIVAAERBOUS BOXEVER] -> Boxever integration is disabled.")}},{key:"setReady",value:function(e){this.ready.closed||(this.ready.next(e),this.ready.complete())}},{key:"isBoxeverDefined$",value:function(){var e=this;return this.isBoxeverEnabled?this.loadBoxeverFromSDK?this.ready.asObservable():this.isBoxeverDefined?this.isBoxeverDefined.asObservable():Object(c.a)({}).pipe(Object(f.a)((function(){return Object(c.a)(!!e.clientKey&&!!e.browserId&&!!e.pointOfSale)})),Object(p.a)((function(e){if(!e)throw new Error("Boxever values are not defined.")})),Object(g.a)(Object(v.a)((function(e,t){return t+1>10?Object(l.a)(e):Object(u.a)(500)}))),Object(m.a)(this.handleError)):Object(c.a)(!1)}},{key:"getPersonalizationSettings$",value:function(e){var t=this;return this.isBoxeverDefined$().pipe(Object(f.a)((function(n){return t.isBoxeverEnabled&&!t.loadBoxeverFromSDK&&(t.isBoxeverDefined=new d.a(n)),n?t.http.post(_.g.BOXEVER_API+"/v2/callFlows",{context:{clientKey:t.clientKey,channel:t.channel,language:t.language,currencyCode:t.currency,friendlyId:e,pointOfSale:t.pointOfSale,browserId:t.browserId,params:{language:t.language,isLoggedIn:t.authService.isLoggedIn}}}).pipe(Object(b.a)((function(t){return Object.assign(Object.assign({},t),{friendlyId:e})})),Object(m.a)((function(n){var i=(null==n?void 0:n.error)||{},r="Fetching personalization ".concat(e,". Details: ").concat(i.message||"");return t.boxeverDatalayer.trackApiError(e,i.code||"",JSON.stringify({message:r})),t.handleError(new Error(r))}))):Object(c.a)(null)})))}},{key:"getSecondaryBannerSettings$",value:function(){var e,t,n=this;return Object(c.a)((null===(t=null===(e=this.cmsConfig._cmsConfig.globalSettings)||void 0===e?void 0:e.boxeverConfig)||void 0===t?void 0:t.secondaryBannerPersonalization)||[]).pipe(R(this.getPersonalizationSettings$.bind(this)),L("Secondary Banner"),Object(b.a)((function(e){var t=e.type,i=e.boxeverSettings;if(!t)throw new Error("Secondary Banner response object is not defined");if(i&&i.loginRequired&&!n.authService.isLoggedIn)throw new Error("Secondary Banner custom experience cannot be triggered if the user is not logged in.");return e})),Object(m.a)(this.handleError))}},{key:"getConfirmationBannerSettings$",value:function(){var e,t,n=this;return Object(c.a)((null===(t=null===(e=this.cmsConfig._cmsConfig.globalSettings)||void 0===e?void 0:e.boxeverConfig)||void 0===t?void 0:t.confirmationBannerPersonalization)||[]).pipe(R(this.getPersonalizationSettings$.bind(this)),L("Confirmation Banner"),Object(b.a)((function(e){var t=e||{},i=t.topBanner,r=t.bottomBanner,o=[],a=function(e){return{html:n.sanitize.bypassSecurityTrustHtml(e)}};return o.push(i?a(i):null),o.push(r?a(r):null),o})),Object(m.a)(this.handleError))}},{key:"getAncillariesRecommendation$",value:function(e,t){var n,i,r={CabinBaggage:null,CheckInBaggage:null,Recommended:null,Other:null};return Object(c.a)((null===(i=null===(n=this.cmsConfig._cmsConfig.globalSettings)||void 0===n?void 0:n.boxeverConfig)||void 0===i?void 0:i.extrasPagePersonalization)||[]).pipe(R(this.getPersonalizationSettings$.bind(this)),L("Ancillaries recommendation Banner"),function(e,t,n){return Object(f.a)((function(i){return n({basketId:e.basketId,flowType:e.flowType,bookingType:e.bookingType,customFieldUpdates:[{path:"Boxever",value:{friendlyId:i.friendlyId,browserId:t},updateType:O.a.Replace}]}).pipe(Object(b.a)((function(){return i})),Object(m.a)((function(){return Object(c.a)(i)})))}))}(e,this.browserId,this.basketApi.updateBasket.bind(this)),Object(b.a)((function(e){return e.sortingGroups.forEach((function(e){var n=e.products.map((function(e){var n=t.services.find((function(t){return t.options.find((function(t){return t.ssrCode===e}))})),i=t.transportServices.find((function(t){return t.pickupLocations.find((function(t){return t.ssrCode===e}))}));return n||i}));r[e.type]=n.filter((function(e){return!!e}))})),r})),Object(m.a)(this.handleError))}},{key:"handleError",value:function(e){return _.g.production||console.error("[VIVAAEROBUS BOXEVER] -> "+e),Object(c.a)(null)}},{key:"boxeverSDK",get:function(){if(!this.isBoxeverEnabled)return{};try{return window.Boxever||Boxever}catch(e){return{}}}},{key:"boxeverUtils",get:function(){if(!this.isBoxeverEnabled)return{};try{return window._boxever_utils||_boxever_utils}catch(e){return{}}}},{key:"clientKey",get:function(){return this.boxeverSDK.client_key||null}},{key:"browserId",get:function(){return this.boxeverSDK.browser_id||null}},{key:"pointOfSale",get:function(){return this.boxeverUtils.getPOS()||null}},{key:"language",get:function(){return this.boxeverUtils.getLanguage()||"ES"}},{key:"channel",get:function(){return this.boxeverUtils.getChannel()||"WEB"}},{key:"deviceVariant",get:function(){return this.deviceService.isMobile()?"mobile":this.deviceService.isTablet()?"tablet":this.deviceService.isDesktop()?"desktop":"unknown"}}]),e}()).\u0275fac=function(e){return new(e||r)(a.dc(T.b),a.dc(w.a),a.dc(A.a),a.dc(a.u),a.dc(E.a),a.dc(M),a.dc(o.e),a.dc(a.G),a.dc(k.b),a.dc(a.y),a.dc(x.b),a.dc(D.a))},r.\u0275prov=a.Pb({token:r,factory:r.\u0275fac,providedIn:"root"}),r);function L(e){return Object(b.a)((function(t){if(!(t=t.filter((function(e){return!!e&&"priority"in(e.boxeverSettings||{})}))).length)throw new Error("No personalizations available for ".concat(e," component"));return t.sort((function(e,t){return e.boxeverSettings.priority-t.boxeverSettings.priority}))[0]}))}function R(e){return Object(f.a)((function(t){return Object(h.a).apply(void 0,_toConsumableArray2(t.map((function(t){return e(t.personalizationId)})))).pipe(Object(y.a)([]))}))}},UXun:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("jtHE");function r(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,o=void 0===r?Number.POSITIVE_INFINITY:r,a=e.windowTime,s=void 0===a?Number.POSITIVE_INFINITY:a,c=e.refCount,l=e.scheduler,u=0,d=!1,h=!1;return function(e){u++,t&&!d||(d=!1,t=new i.a(o,s,l),n=e.subscribe({next:function(e){t.next(e)},error:function(e){d=!0,t.error(e)},complete:function(){h=!0,n=void 0,t.complete()}}));var r=t.subscribe(this);this.add((function(){u--,r.unsubscribe(),n&&!h&&c&&0===u&&(n.unsubscribe(),n=void 0,t=void 0)}))}}(r))}}},UnBK:function(e,t,n){"use strict";var i=n("xTJ+"),r=n("xAGQ"),o=n("Lmem"),a=n("JEQr");function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=r(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},UoSQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n("mrSG"),r=n("fXoL"),o=n("wd/R"),a=n("PqYM"),s=n("AytR"),c=n("1AID"),l=n("Elrx"),u=n("AUkv"),d=n("BifP"),h=n("ofXK"),f=n("vxfF"),p=["vsViewPort"],g=function(e){return{"weekend-day":e}};function v(e,t){if(1&e&&(r.Zb(0,"div",6),r.Zb(1,"span"),r.Sc(2),r.kc(3,"uppercase"),r.Yb(),r.Yb()),2&e){var n=t.$implicit,i=t.index,o=r.jc();r.sc("ngClass",r.vc(4,g,o.isWeekendDay(n,i))),r.Hb(2),r.Tc(r.lc(3,2,o.weekDay(n)))}}function m(e,t){if(1&e&&(r.Xb(0),r.Zb(1,"p"),r.Sc(2),r.Yb(),r.Wb()),2&e){var n=r.jc().$implicit;r.Hb(2),r.Tc(n.format("D"))}}function b(e,t){1&e&&r.Ub(0,"div",15)}function y(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",12),r.hc("click",(function(){r.Hc(n);var e=t.$implicit;return r.jc(3).chooseDate(e)})),r.Qc(1,m,3,1,"ng-container",13),r.Qc(2,b,1,0,"div",14),r.Yb()}if(2&e){var i=t.$implicit,o=r.jc(2).$implicit,a=r.jc();r.sc("hidden",i.format("M")!==o.number.toString())("ngClass",a.getDayClass(i)),r.Hb(1),r.sc("ngIf",i.format("M")===o.number.toString()),r.Hb(1),r.sc("ngIf",a.showPricesData&&a.loadingPrices&&a.dayIndex.format("M")===o.number.toString())}}function _(e,t){if(1&e&&(r.Zb(0,"div",10),r.Qc(1,y,3,4,"div",11),r.Yb()),2&e){var n=t.$implicit;r.Hb(1),r.sc("ngForOf",n)}}function C(e,t){if(1&e&&(r.Zb(0,"div",7),r.Zb(1,"p",8),r.Sc(2),r.kc(3,"titlecase"),r.Zb(4,"span"),r.Sc(5),r.Yb(),r.Yb(),r.Qc(6,_,2,1,"div",9),r.Yb()),2&e){var n=t.$implicit,i=r.jc();r.Hb(2),r.Uc("",r.lc(3,3,i.nameOfMonth(n.number-1))," "),r.Hb(3),r.Tc(n.year),r.Hb(1),r.sc("ngForOf",n.weeks)}}var k=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.lowFaresService=t,this.currencyCode=n,this.cmsConfig=i,this.isRoundTrip=!0,this.departureBookingDates=[],this.returnBookingDates=[],this.selectedDates={startDate:null,endDate:null},this.showPrices=!1,this.openCalendar=!1,this.keepPreviousDatesSelected=!1,this.selectedDatesChange=new r.p,this.closePicker=new r.p,this.rangePrices=new r.p,this.loadingPricesEvent=new r.p,this.minDate=o(),this.maxDate=o().add(60,"days"),this.chosenDate={startDate:null,endDate:null},this.bookingDates=[],this.outboundSelected=!1,this.calendarDays=[],this.months=[],this.calendar=[],this.showPricesData=!1,this.loadingPrices=!1,this.vivaFanPrices=!1,this.calendarDays=this.buildWeek()}return _createClass(e,[{key:"ngOnInit",value:function(){this.startDate=o(),this.vivaFanPrices=this.cmsConfig.getBookingFeatureValue(c.a.DisplayVivaFanPriceLowFare)}},{key:"ngOnChanges",value:function(e){var t;e.showPrices&&(this.showPricesData=this.showPrices),e.departureBookingDates&&!this.keepPreviousDatesSelected&&(this.startDate=o(),this.lastBookingDate=o(this.cmsConfig._cmsConfig.lastBookingDate),this.updateMinMaxDates(),this.buildCalendar(),this.selectValidDates(),this.showPricesData&&(this.dayIndex=null===(t=this.chosenDate)||void 0===t?void 0:t.startDate,this.getMonthLowFares(this.dayIndex)),this.initCalendarMobile()),this.openCalendar&&!this.chosenDate&&this.initCalendarMobile()}},{key:"initCalendarMobile",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.bookingDates=this.departureBookingDates,this.outboundSelected=!1,this.refreshCalendarDayClasses(),t&&Object(a.a)(0).subscribe((function(){e.cdkScrollToStartMonth()}))}},{key:"selectValidDates",value:function(){var e,t,n,i;if(this.selectedDates&&(null===(e=this.selectedDates)||void 0===e?void 0:e.startDate)&&this.isAValidDate(null===(t=this.selectedDates)||void 0===t?void 0:t.startDate,this.departureBookingDates))return this.chosenDate.startDate=this.selectedDates.startDate.clone(),void((null===(n=this.selectedDates)||void 0===n?void 0:n.endDate)&&this.isAValidDate(null===(i=this.selectedDates)||void 0===i?void 0:i.endDate,this.returnBookingDates)&&(this.chosenDate.endDate=this.selectedDates.endDate.clone()))}},{key:"isAValidDate",value:function(e,t){var n;return!(!this.generateValidDaysObjMapping(t)[e.format("YYYYMMDD")]||e.isBefore(this.startDate,"day")||this.outboundSelected&&e.isBefore(null===(n=this.chosenDate)||void 0===n?void 0:n.startDate,"day"))}},{key:"updateMinMaxDates",value:function(){var e,t=o(),n=o(),i=_createForOfIteratorHelper(this.departureBookingDates);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.date<t&&(t=r.date.clone()),r.date>n&&(n=r.date.clone())}}catch(l){i.e(l)}finally{i.f()}if(this.isRoundTrip){var a,s=_createForOfIteratorHelper(this.returnBookingDates);try{for(s.s();!(a=s.n()).done;){var c=a.value;c.date<t&&(t=c.date.clone()),c.date>n&&(n=c.date.clone())}}catch(l){s.e(l)}finally{s.f()}}this.minDate=t.startOf("month").clone(),this.maxDate=this.lastBookingDate?this.lastBookingDate.clone():n.endOf("month").clone()}},{key:"closeCalendar",value:function(){this.closePicker.emit()}},{key:"buildWeek",value:function(e){for(var t=[],n=e||o(),i=o(n).startOf("week"),r=o(n).endOf("week");i.isSameOrBefore(r,"day");)t.push(i.clone()),i.add(1,"day");return t}},{key:"buildCalendarMonth",value:function(e){for(var t=o(e).startOf("month"),n=o(e).endOf("month"),i=t.clone().startOf("week"),r=[];i.isSameOrBefore(n,"month");)r.push(this.buildWeek(i)),i.add(1,"week");return r}},{key:"weekDay",value:function(e){return e.format("dd").substring(0,1)}},{key:"dateRange",value:function(e,t){for(var n=e.split("-"),i=t.split("-"),r=parseInt(n[0],10),o=parseInt(i[0],10),a=[],s=r;s<=o;s++)for(var c=s!==o?11:parseInt(i[1],10)-1,l=s===r?parseInt(n[1],10)-1:0;l<=c;l=l>12?l%12||11:l+1){var u=l+1;a.push([s,u<10?"0"+u:u,"01"].join("-"))}return this.months=a,a}},{key:"buildCalendar",value:function(){var e=this;this.dateRange(this.minDate.format("YYYY-MM-DD"),this.maxDate.format("YYYY-MM-DD"));var t=[];this.months.forEach((function(n){t.push({weeks:e.buildCalendarMonth(n),number:o(n).get("month")+1,year:o(n).format("YYYY")})})),this.calendar=t,this.generateDayPrices()}},{key:"chooseDate",value:function(e){return this.chosenDate&&(this.chosenDate.startDate||this.chosenDate.endDate)&&this.isRoundTrip?this.isRoundTrip&&this.chosenDate&&this.chosenDate.startDate&&!this.chosenDate.endDate&&e.isSameOrAfter(this.chosenDate.startDate)?(this.chosenDate={startDate:this.chosenDate.startDate,endDate:o(e.clone()).endOf("day")},this.selectedDatesChange.emit(this.chosenDate),this.closeCalendar(),this.initCalendarMobile(!1),void this.getPricesRangesData()):this.isRoundTrip&&this.chosenDate&&(this.chosenDate.startDate&&this.chosenDate.endDate||this.chosenDate.startDate&&e.isBefore(this.chosenDate.startDate))?(this.chosenDate={startDate:e.clone(),endDate:null},this.selectedDatesChange.emit(this.chosenDate),this.bookingDates=this.returnBookingDates,this.outboundSelected=!0,this.refreshCalendarDayClasses(),void this.getPricesRangesData()):void 0:(this.chosenDate={startDate:e.clone(),endDate:null},this.selectedDatesChange.emit(this.chosenDate),this.isRoundTrip?(this.bookingDates=this.returnBookingDates,this.outboundSelected=!0,this.refreshCalendarDayClasses(),void this.getPricesRangesData()):(this.closeCalendar(),this.initCalendarMobile(!1),void this.getPricesRangesData()))}},{key:"nameOfMonth",value:function(e){return o().month(e).format("MMMM")}},{key:"isMiddleDay",value:function(e){var t,n;return!(!(null===(t=this.chosenDate)||void 0===t?void 0:t.startDate)||!(null===(n=this.chosenDate)||void 0===n?void 0:n.endDate))&&e.isBetween(this.chosenDate.startDate,this.chosenDate.endDate,"day","()")}},{key:"isLastDay",value:function(e){var t,n;return!(!(null===(t=this.chosenDate)||void 0===t?void 0:t.endDate)||!(null===(n=this.chosenDate)||void 0===n?void 0:n.endDate.isSame(e,"day")))}},{key:"isWeekendDay",value:function(e,t){return 6===e.isoWeekday()||1===e.isoWeekday()&&1===t}},{key:"generateDayClass",value:function(e,t,n){var i,r,o,a,s,c,l,u,d="";if(this.isWeekendDay(e,e.weekday())&&(d+=" weekend-day"),this.isMiddleDay(e)&&(d+=" isInRange"),(!t||e.isBefore(this.startDate,"day")||this.outboundSelected&&e.isBefore(null===(i=this.chosenDate)||void 0===i?void 0:i.startDate,"day")||this.forceMinDate&&e.isBefore(this.forceMinDate,"day")||this.forceMaxDate&&e.isAfter(this.forceMaxDate,"day"))&&(d+=" isDisabled"),e.isSame(this.startDate,"day")&&(d+=" today"),e.isSame(null===(r=this.chosenDate)||void 0===r?void 0:r.startDate,"day")&&(d+=" activeStart"),this.isLastDay(e)&&(d+=" activeEnd"),t&&!t.availableDirectFlights&&(d+=" connectFlight"),this.showPricesData&&!d.includes("isDisabled")&&!d.includes("activeStart")&&!d.includes("activeEnd")){var h=this.isRoundTrip&&(null===(o=this.chosenDate)||void 0===o?void 0:o.startDate)&&!(null===(a=this.chosenDate)||void 0===a?void 0:a.endDate)?1:0,f=this.vivaFanPrices?null===(c=null===(s=this.dayPrices[n][h])||void 0===s?void 0:s.vivaFanFare)||void 0===c?void 0:c.amount:null===(u=null===(l=this.dayPrices[n][h])||void 0===l?void 0:l.fare)||void 0===u?void 0:u.amount;f>=0&&this.maxRange&&this.minRange&&(d+=f>this.maxRange?" max-fare":f>this.minRange?" medium-fare":" min-fare")}return d}},{key:"generateDayClasses",value:function(){var e=this;this.dayClasses={};var t=this.generateValidDaysObjMapping(this.bookingDates);this.calendar.forEach((function(n){n.weeks.forEach((function(n){n.forEach((function(n){var i=n.format("YYYYMMDD");e.dayClasses[i]=e.generateDayClass(n,t[i],i)}))}))}))}},{key:"generateDayPrices",value:function(){var e=this;this.dayIndex=null,this.minRange=null,this.maxRange=null,this.dayPrices={},this.calendar.forEach((function(t){t.weeks.forEach((function(t){t.forEach((function(t){var n=t.format("YYYYMMDD");e.dayPrices[n]=[null,null]}))}))}))}},{key:"generateValidDaysObjMapping",value:function(e){var t={};return e.forEach((function(e){var n=e.date.format("YYYYMMDD");t[n]=e})),t}},{key:"refreshCalendarDayClasses",value:function(){this.generateDayClasses()}},{key:"getDayClass",value:function(e){return this.dayClasses[e.format("YYYYMMDD")]}},{key:"cdkScrollToStartMonth",value:function(){var e;if(this.vsViewPort){var t=null===(e=this.chosenDate.startDate)||void 0===e?void 0:e.diff(o().startOf("month"),"months");void 0===t&&(t=this.bookingDates[0].date.diff(o().startOf("month"),"months")),t>=0&&t<this.vsViewPort.getDataLength()&&this.vsViewPort.scrollToIndex(t)}}},{key:"getMonthLowFares",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.queryParameters&&this.currencyCode&&this.showPricesData)||this.dayPrices[e.format("YYYYMMDD")][0]||this.dayPrices[e.clone().endOf("month").format("YYYYMMDD")][0]||this.loadingPrices){t.next=17;break}return this.loadingPrices=!0,this.loadingPricesEvent.emit(!0),t.next=5,this.lowFaresService.waitForAccountReadyIfUsingCacheEndpoint();case 5:return t.prev=5,n=this.lowFaresService.generatePayload(e,this.currencyCode,this.queryParameters),i=this.lowFaresService.getMonthlyLowFares(n),t.next=10,i.toPromise();case 10:(r=t.sent)&&(this.setPricesMonthPrices(r),this.loadingPrices=!1,this.loadingPricesEvent.emit(!1),this.getPricesRangesData(),e.format("YYYYMM")!==this.dayIndex.clone().format("YYYYMM")&&this.getMonthLowFares(this.dayIndex)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(5),s.g.production||console.error("getMonthlyLowFares: ",t.t0),this.loadingPrices=!1,this.loadingPricesEvent.emit(!1);case 17:case"end":return t.stop()}}),t,this,[[5,14]])})))}},{key:"setPricesMonthPrices",value:function(e){var t=this;e.lowFares.forEach((function(e){var n=o(e.departureDate).format("YYYYMMDD");t.dayPrices[n][0]&&!t.dayPrices[n][1]?t.dayPrices[n][0].destination.code===e.origin.code&&(t.dayPrices[n][1]=e):t.dayPrices[n][0]||(t.dayPrices[n][0]=e)}))}},{key:"getPricesRangesData",value:function(){var e,t,n,i,r,a,s,c,l,u,d,h,f,p,g,v;if(this.showPricesData){for(var m=this.isRoundTrip&&(null===(e=this.chosenDate)||void 0===e?void 0:e.startDate)&&!(null===(t=this.chosenDate)||void 0===t?void 0:t.endDate)?1:0,b=o().clone().startOf("month").format("YYYYMMDD"),y=o().set("year",parseInt(this.calendar[this.calendar.length-1].year,10)).set("month",this.calendar[this.calendar.length-1].number-1).endOf("month").format("YYYYMMDD"),_=((null===(n=this.queryParameters)||void 0===n?void 0:n.doters)?null===(r=null===(i=this.dayPrices[b][m])||void 0===i?void 0:i.fare)||void 0===r?void 0:r.pointAmount:this.vivaFanPrices?null===(s=null===(a=this.dayPrices[b][m])||void 0===a?void 0:a.vivaFanFare)||void 0===s?void 0:s.amount:null===(l=null===(c=this.dayPrices[b][m])||void 0===c?void 0:c.fare)||void 0===l?void 0:l.amount)||99999,C=[],k=0,S=0;b<=y;){var O=(null===(u=this.queryParameters)||void 0===u?void 0:u.doters)?null===(h=null===(d=this.dayPrices[b][m])||void 0===d?void 0:d.fare)||void 0===h?void 0:h.pointAmount:this.vivaFanPrices?null===(p=null===(f=this.dayPrices[b][m])||void 0===f?void 0:f.vivaFanFare)||void 0===p?void 0:p.amount:null===(v=null===(g=this.dayPrices[b][m])||void 0===g?void 0:g.fare)||void 0===v?void 0:v.amount;O&&(S++,k+=O,C.push(O),O&&O<_&&(_=O)),b=o(b).add(1,"day").format("YYYYMMDD")}if(C.length){var T=k/S,w=this.getStandardDeviation(C,T);this.minRange=Math.max(T-w,_),this.maxRange=T+w,this.rangePrices.emit({minRange:this.minRange,maxRange:this.maxRange})}this.refreshCalendarDayClasses()}}},{key:"getStandardDeviation",value:function(e,t){var n=e.length;return Math.sqrt(e.map((function(e){return Math.pow(e-t,2)})).reduce((function(e,t){return e+t}))/n)}},{key:"onScrollAction",value:function(){var e=this;if(this.showPricesData){var t=o().set("year",parseInt(this.calendar[0].year,10)).set("month",this.calendar[0].number-1).startOf("month"),n=o().set("year",parseInt(this.calendar[this.calendar.length-1].year,10)).set("month",this.calendar[this.calendar.length-1].number).startOf("month"),i=this.vsViewPort.measureScrollOffset(),r=0;if(i>157.5){var s=(i-35)/315;r=s-s%1+1}r>0&&t.add(r,"month"),!t.isSameOrAfter(this.startDate.clone().startOf("month"))||t.clone().format("YYYYMM")===this.dayIndex.clone().format("YYYYMM")&&this.dayIndex||!t.isBefore(n)||(this.dayIndex=t,Object(a.a)(800).subscribe((function(){t.clone().format("YYYYMM")===e.dayIndex.format("YYYYMM")&&e.getMonthLowFares(e.dayIndex)})))}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Tb(u.a),r.Tb(l.b),r.Tb(d.a))},e.\u0275cmp=r.Nb({type:e,selectors:[["app-mobile-calendar-view"]],viewQuery:function(e,t){var n;1&e&&r.Yc(p,!0),2&e&&r.Dc(n=r.ic())&&(t.vsViewPort=n.first)},inputs:{isRoundTrip:"isRoundTrip",departureBookingDates:"departureBookingDates",returnBookingDates:"returnBookingDates",selectedDates:"selectedDates",showPrices:"showPrices",openCalendar:"openCalendar",queryParameters:"queryParameters",forceMinDate:"forceMinDate",forceMaxDate:"forceMaxDate",keepPreviousDatesSelected:"keepPreviousDatesSelected"},outputs:{selectedDatesChange:"selectedDatesChange",closePicker:"closePicker",rangePrices:"rangePrices",loadingPricesEvent:"loadingPricesEvent"},features:[r.Fb],decls:6,vars:2,consts:[[1,"week-header"],[1,"d-flex","w-100","header-days","px-20"],["class","d-flex col-calendar title text-center py-10",3,"ngClass",4,"ngFor","ngForOf"],["itemSize","315",1,"months-main-container",3,"scroll"],["vsViewPort",""],["class","months-container my-20",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"d-flex","col-calendar","title","text-center","py-10",3,"ngClass"],[1,"months-container","my-20"],[1,"h3","name-month","text-left"],["class","d-flex justify-content-between w-100 px-20",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","w-100","px-20"],["class","d-flex day",3,"hidden","ngClass","click",4,"ngFor","ngForOf"],[1,"d-flex","day",3,"hidden","ngClass","click"],[4,"ngIf"],["class","skeleton-loader",4,"ngIf"],[1,"skeleton-loader"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Qc(2,v,4,6,"div",2),r.Yb(),r.Yb(),r.Zb(3,"cdk-virtual-scroll-viewport",3,4),r.hc("scroll",(function(){return t.onScrollAction()})),r.Qc(5,C,7,5,"div",5),r.Yb()),2&e&&(r.Hb(2),r.sc("ngForOf",t.calendarDays),r.Hb(3),r.sc("cdkVirtualForOf",t.calendar))},directives:[h.t,f.c,f.a,f.b,h.r,h.u],pipes:[h.I,h.G],styles:['.week-header{position:-webkit-sticky;position:sticky;width:100%;top:0;background-color:var(--wh1);z-index:1}.symbology>.d-flex:first-child .bullet{width:10px;height:10px;background-color:var(--gr20);border-radius:50%}.symbology>.d-flex:first-child p{color:var(--gr50);font-size:12px;font-family:Lato;margin:0}.symbology>.d-flex:last-child .bullet{width:10px;height:10px;background-color:var(--lg4);border-radius:50%}.symbology>.d-flex:last-child p{color:var(--gr50);font-size:12px;margin:0}.header-days{background-color:var(--wh2);justify-content:space-between}.header-days>div{width:14.3%;justify-content:center;position:relative}.header-days>div.weekend-day{border-left:1px solid var(--gr20)}.header-days>div p{font-size:14px;line-height:15px;color:var(--bg6);font-family:Axiforma}.months-main-container{width:100%;height:calc(100% - 40px);margin-top:0!important}.months-container{height:315px}.months-container .name-month{margin:0!important;padding:0 20px 10px!important;font-size:20px;color:var(--bg6)}.months-container .name-month span{color:var(--bg4);font-size:14px;font-weight:lighter}.months-container .day{width:14.3%;justify-content:center;border-radius:2px;height:48px;background-color:transparent}.months-container .day .skeleton-loader{position:absolute;height:3px;width:32px;margin-top:43px;border-radius:1.5px}.months-container .day:active,.months-container .day:focus,.months-container .day:hover{outline:none;box-shadow:none;border-color:transparent}.months-container .day[hidden]{opacity:0;display:none;pointer-events:none}.months-container .day.max-fare:after{background-color:var(--bg6)}.months-container .day.max-fare:after,.months-container .day.medium-fare:after{content:"";width:32px;height:3px;border-radius:1.5px;position:absolute;margin-top:43px}.months-container .day.medium-fare:after{background-color:var(--lg4)}.months-container .day.min-fare:after{content:"";background-color:var(--r4);width:32px;height:3px;border-radius:1.5px;position:absolute;margin-top:43px}.months-container .day.activeStart{border-radius:5px 0 0 5px;background-color:var(--vg4)}.months-container .day.activeStart p{color:var(--wh1);font-weight:600}.months-container .day.activeEnd{border-radius:0 5px 5px 0;background-color:var(--bg4)}.months-container .day.activeEnd p{color:var(--wh1);font-weight:600}.months-container .day.activeEnd.activeStart{border:2px solid var(--vg4);border-radius:5px 5px 5px 5px}.months-container .day.activeEnd.activeStart p{position:relative;top:-2px}.months-container .day.today{position:relative}.months-container .day.today>p{font-weight:700}.months-container .day.today:before{content:"";position:absolute;top:0;left:50%;transform:translateX(-50%);height:47px;width:47px;border:1px solid var(--bg2);border-radius:50%}.months-container .day.connectFlight{position:relative}.months-container .day.connectFlight:not(.today,.activeEnd,.activeStart,.isDisabled)>p{color:var(--bg6)}.months-container .day.connectFlight:after{content:"";background-color:var(--gr40);width:5px;height:5px;border-radius:50%;position:absolute;margin-top:8px}.months-container .day.isDisabled{pointer-events:none}.months-container .day.isDisabled p{color:var(--gr20)}.months-container .day.isInRange{background-color:var(--wh2)!important}.months-container .day.isInRange:not(.isDisabled){color:var(--bg6);font-weight:600}.months-container .day.weekend-day{border-left:1px solid var(--gr20)}.months-container .day p{font-family:Axiforma;font-size:16px;color:var(--bg2);font-weight:500}'],encapsulation:2,changeDetection:0}),e}()},V6Ve:function(e,t,n){var i=n("kekF")(Object.keys,Object);e.exports=i},VHOi:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ofXK"),r=n("fXoL"),o=n("AytR"),a=function(){var e=function(){function e(t){_classCallCheck(this,e),this.platformId=t,this.userTokenName=o.g.cacheKeys.LOGIN_TOKEN}return _createClass(e,[{key:"clearToken",value:function(){Object(i.L)(this.platformId)&&null!==localStorage.getItem(this.userTokenName)&&localStorage.removeItem(this.userTokenName)}},{key:"setRefreshingToken",value:function(e){Object(i.L)(this.platformId)&&(e?localStorage.setItem(o.g.cacheKeys.MUTEX_REFRESH_TOKEN,"true"):this.removeRefreshingToken())}},{key:"removeRefreshingToken",value:function(){Object(i.L)(this.platformId)&&null!==localStorage.getItem(o.g.cacheKeys.MUTEX_REFRESH_TOKEN)&&localStorage.removeItem(o.g.cacheKeys.MUTEX_REFRESH_TOKEN)}},{key:"authToken",get:function(){return Object(i.L)(this.platformId)?localStorage.getItem(this.userTokenName):null},set:function(e){Object(i.L)(this.platformId)&&e&&localStorage.setItem(this.userTokenName,e)}},{key:"isRefreshingToken",get:function(){return!!Object(i.L)(this.platformId)&&null!==localStorage.getItem(o.g.cacheKeys.MUTEX_REFRESH_TOKEN)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.dc(r.G))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},VOtZ:function(e,t,n){var i=n("juv8"),r=n("MvSz");e.exports=function(e,t){return i(e,r(e),t)}},VRyK:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("HDdC"),r=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=Number.POSITIVE_INFINITY,c=null,l=t[t.length-1];return Object(r.a)(l)?(c=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(s=t.pop())):"number"==typeof l&&(s=t.pop()),null===c&&1===t.length&&t[0]instanceof i.a?t[0]:Object(o.a)(s)(Object(a.a)(t,c))}},VXQe:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("2Vo4"),r=n("fXoL"),o=function(){var e=function(){function e(){_classCallCheck(this,e),this.$show=new i.a(!1)}return _createClass(e,[{key:"showOverlay",value:function(){this.$show.next(!0)}},{key:"hideOverlay",value:function(){this.$show.next(!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},VXoX:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("TUgU"),o=function(){var e=function(){function e(t){_classCallCheck(this,e),this.cmsTranslate=t}return _createClass(e,[{key:"transform",value:function(e,t){if(!e)return e||"";var n=this.cmsTranslate.getEntry(e);return n===e&&t&&(n=t),n}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(r.a))},e.\u0275pipe=i.Sb({name:"cmsTranslate",type:e,pure:!0}),e}()},VaNO:function(e,t){e.exports=function(e){return this.__data__.has(e)}},Vclq:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(n("wd/R"))},WCtt:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return a}));var r=n("vbKG"),o=n("AytR"),a={renderNode:(i={},_defineProperty2(i,r.INLINES.HYPERLINK,(function(e,t){return'<a target="_blank" rel=\'noopener noreferrer\' href="'.concat(e.data.uri,'" class="inline-link">').concat(t(e.content),"</a>")})),_defineProperty2(i,r.BLOCKS.UL_LIST,(function(e,t){return'<ul class="viva-ul-list">'.concat(t(e.content),"</ul>")})),_defineProperty2(i,r.BLOCKS.OL_LIST,(function(e,t){return'<ol class="viva-ol-list">'.concat(t(e.content),"</ol>")})),_defineProperty2(i,r.BLOCKS.HEADING_5,(function(e,t){return'<h5 class="title">'.concat(t(e.content),"</h5>")})),_defineProperty2(i,r.BLOCKS.HEADING_6,(function(e,t){return'<h6 class="medium-title">'.concat(t(e.content),"</h6>")})),_defineProperty2(i,r.BLOCKS.EMBEDDED_ASSET,(function(e){return t=e.data.target,(n=t.fields.file).contentType.startsWith("video/")?"\n      <div>\n        <video controls>\n          <source src=".concat(n.url,' type="').concat(n.contentType,'"/>\n          <p>Your browser doesnt support HTML5 video.</p>\n        </video>\n      </div>\n    '):n.contentType.startsWith("image/")?"<img src=".concat(n.url,' alt="').concat(n.fileName,'" loading="lazy" />'):(o.g.production||console.warn("Unimplemented content type: "+n.contentType),'<p class="subheader">'.concat(n.fileName,"</p>"));var t,n})),i)}},WFqU:function(e,t){var n="object"==typeof global&&global&&global.Object===Object&&global;e.exports=n},WGbO:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("mrSG"),r=n("ofXK"),o=n("fXoL"),a=n("AytR"),s=n("EcEN"),c=n("egL7"),l=n("lALM"),u=n("G/yK"),d=n("9YtQ"),h=n("b6Qw"),f=function(){var e=function(){function e(t,n,i,r,o,a){_classCallCheck(this,e),this.platformId=t,this.gtmService=n,this.location=i,this.station=r,this.deviceService=o,this.cookieService=a,this.variant="unknown"}return _createClass(e,[{key:"loadChannelInfo",value:function(){Object(r.L)(this.platformId)&&this.gtmChannelTagInfo()}},{key:"gtmChannelTagInfo",value:function(){var e=window.location.hostname,t="unknown";"localhost"===e||"127.0.0.1"===e?t="local":/^([0-9]{1,3}\.){3}[0-9]{1,3}$/.test(e)||(t=e.split(".")[0]),this.variant=this.deviceService.isMobile()?"mobile":this.deviceService.isTablet()?"tablet":this.deviceService.isDesktop()?"desktop":"unknown",this.gtmService.pushTag({channel:{id:"web",type:t,variant:this.variant,detail:{release_number:a.g.appVersion}}}),this.addLocationToDataLayer()}},{key:"addLocationToDataLayer",value:function(){var e,t,n,r;return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var o,a,s,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.location._isReady;case 2:if(o=this.location._location,a="",!o.coords){i.next=9;break}return i.next=7,this.station.ready;case 7:(s=this.station.getClosestStation(o.coords.latitude,o.coords.longitude))&&(a=s.code);case 9:c={event:"ev_location",channel:{location:{country:(null===(e=o.details)||void 0===e?void 0:e.countryCode)||"ZZ",region:(null===(t=o.details)||void 0===t?void 0:t.regionCode)||"ZZ",coordinates:"".concat((null===(n=o.coords)||void 0===n?void 0:n.latitude)||0,"|").concat((null===(r=o.coords)||void 0===r?void 0:r.longitude)||0),closest_airport:a}}},this.gtmService.pushTag(c);case 11:case"end":return i.stop()}}),i,this)})))}},{key:"addGtmId",value:function(){this.id={d:this.cookieService.get("id-d"),s:Object(s.v4)()},this.gtmService.pushTag({id:this.id})}},{key:"getDeviceId",value:function(){this.cookieService.get("id-d")||this.cookieService.set("id-d",Object(s.v4)(),{expires:730,secure:!0})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.dc(o.G),o.dc(c.a),o.dc(l.a),o.dc(u.a),o.dc(d.a),o.dc(h.a))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},WMd4:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("EY2u"),r=n("LRne"),o=n("z6cu"),a=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=i,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(r.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}();return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},WSM3:function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d}));var i=["VVF","VFN"],r=["VSF"],o=["VLY"],a=["VFR"],s=["VEP","VEM","VED","VFY","VFO","VTC","VBN"],c=["VUI"],l=["VLZ"],u=function(e){return e.GREEN="VLA",e.SILVER="VLB",e.GOLD="VLC",e}({}),d=function(e){return e.Entry="VLD",e.Plus="VLE",e}({})},WXp3:function(e,t,n){"use strict";n.d(t,"a",(function(){return me}));var i=n("fXoL"),r=n("wd/R"),o=n("quSY"),a=n("nnIW"),s=n("h/S9"),c=n("PxKc"),l=n("wtyH"),u=n("iWk1"),d=n("TUgU"),h=n("eE5r"),f=n("imvL"),p=n("kh7C"),g=n("KhLr"),v=n("ofXK"),m=n("LCdn"),b=n("8Awy"),y=n("08zf"),_=n("Q+ex"),C=n("eFla"),k=n("VXoX"),S=n("DflE"),O=n("0o02"),T=n("q/KQ");function w(e,t){1&e&&(i.Zb(0,"span",17),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"BOOKER_LABEL_DOTERS")," "))}function A(e,t){if(1&e&&(i.Zb(0,"div",14),i.Ub(1,"app-price",15),i.Qc(2,w,3,3,"span",16),i.Yb()),2&e){var n=i.jc(2);i.Hb(1),i.sc("size","small")("currencyCode",n.currencyCode)("hideCAU",!0)("amount",n.bookingJourneyChargesTotal)("showDoters",n.isDotersActive),i.Hb(1),i.sc("ngIf",n.isDotersActive)}}function E(e,t){1&e&&(i.Xb(0),i.Sc(1),i.kc(2,"cmsTranslate"),i.Wb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"GLOBAL_LABEL_NON-STOP")," "))}function P(e,t){1&e&&(i.Xb(0),i.Sc(1),i.kc(2,"cmsTranslate"),i.Wb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"GLOBAL_LABEL_NON-STOP")," "))}function M(e,t){1&e&&(i.Xb(0),i.Sc(1),i.kc(2,"cmsTranslate"),i.Wb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"BOOKER_LABEL_FLY-THROUGH")," "))}function x(e,t){1&e&&(i.Xb(0),i.Sc(1),i.kc(2,"cmsTranslate"),i.Wb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"GLOBAL_LABEL_CONNECTION")," "))}function D(e,t){if(1&e&&i.Ub(0,"app-basket-item-group",24),2&e){var n=t.$implicit,r=i.jc(4);i.sc("chargesGroup",n)("currencyCode",r.currencyCode)("showItemAmount",n.groupCode===r.basketChargesGroupCode.FlightFare?"header":"all")("isDotersActive",r.isDotersActive)("passengers",r.passengers)}}function I(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",18),i.Zb(2,"div",19),i.Sc(3),i.kc(4,"flightStationName"),i.kc(5,"flightStationName"),i.Yb(),i.Zb(6,"div",20),i.Zb(7,"span"),i.Sc(8),i.kc(9,"titlecase"),i.kc(10,"date"),i.Yb(),i.Zb(11,"span"),i.Sc(12),i.kc(13,"date"),i.kc(14,"date"),i.Yb(),i.Zb(15,"span",21),i.Qc(16,E,3,3,"ng-container",22),i.Qc(17,P,3,3,"ng-container",22),i.Qc(18,M,3,3,"ng-container",22),i.Qc(19,x,3,3,"ng-container",22),i.Yb(),i.Yb(),i.Yb(),i.Zb(20,"div",9),i.Qc(21,D,1,5,"app-basket-item-group",23),i.Yb(),i.Wb()),2&e){var n=i.jc().$implicit,r=i.jc(2);i.Hb(3),i.Xc(" ",i.mc(4,12,n.origin.code,"short")," (",n.origin.code,") - ",i.mc(5,15,n.destination.code,"short")," (",n.destination.code,") "),i.Hb(5),i.Tc(i.lc(9,18,i.mc(10,20,n.departureDate,"EEE, d MMM"))),i.Hb(4),i.Tc(i.mc(13,23,n.departureDate,"hh:mm")+" "+i.oc(14,26,n.departureDate,"aa","","en-US")),i.Hb(3),i.sc("ngSwitch",n.flightType),i.Hb(1),i.sc("ngSwitchCase",r.travelType.NonStop),i.Hb(1),i.sc("ngSwitchCase",r.travelType.Direct),i.Hb(1),i.sc("ngSwitchCase",r.travelType.Through),i.Hb(1),i.sc("ngSwitchCase",r.travelType.Connect),i.Hb(2),i.sc("ngForOf",r.getJourneyCharges(n.journeyKey))}}function L(e,t){if(1&e&&(i.Xb(0),i.Qc(1,I,22,31,"ng-container",0),i.Wb()),2&e){var n=t.$implicit,r=i.jc(2);i.Hb(1),i.sc("ngIf",r.showCurrentJourney(n))}}function R(e,t){1&e&&(i.Zb(0,"div",18),i.Zb(1,"div",19),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Yb()),2&e&&(i.Hb(2),i.Uc(" ",i.lc(3,1,"BOOKER_LABEL_OTHER-SERVICES")," "))}function N(e,t){if(1&e&&i.Ub(0,"app-basket-item-group",25),2&e){var n=t.$implicit,r=i.jc(2);i.sc("chargesGroup",n)("currencyCode",r.currencyCode)("isDotersActive",r.isDotersActive)}}function j(e,t){if(1&e&&(i.Zb(0,"div"),i.Ub(1,"app-price",28),i.Yb()),2&e){var n=i.jc(3);i.Hb(1),i.sc("size","small")("currencyCode",n.currencyCode)("hideCAU",!0)("amount",n.hotelAccommodation.totalAmount.amount)}}function B(e,t){if(1&e&&i.Ub(0,"app-basket-item-group",29),2&e){var n=t.$implicit,r=i.jc(3);i.sc("chargesGroup",n)("currencyCode",r.currencyCode)("showChargesAmount","header")}}function F(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",3),i.Zb(2,"div",4),i.Zb(3,"div"),i.Ub(4,"i",26),i.Zb(5,"span"),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Yb(),i.Qc(8,j,2,4,"div",0),i.Yb(),i.Ub(9,"hr"),i.Yb(),i.Zb(10,"div",18),i.Zb(11,"div",19),i.Sc(12),i.Yb(),i.Zb(13,"div",20),i.Zb(14,"span"),i.Sc(15),i.kc(16,"titlecase"),i.kc(17,"date"),i.kc(18,"titlecase"),i.kc(19,"date"),i.Yb(),i.Zb(20,"span"),i.Sc(21),i.kc(22,"i18nPlural"),i.Yb(),i.Yb(),i.Yb(),i.Zb(23,"div",9),i.Qc(24,B,1,3,"app-basket-item-group",27),i.Yb(),i.Wb()),2&e){var n=t.ngIf,r=i.jc(2);i.Hb(6),i.Uc(" ",i.lc(7,7,"HEADER_BOOK_HOTEL")," "),i.Hb(2),i.sc("ngIf",r.showSubtotalAmount),i.Hb(4),i.Uc(" ",n.propertyName," "),i.Hb(3),i.Vc(" ",i.lc(16,9,i.mc(17,11,n.checkInDate,"EEE, d MMM"))," \u2014 ",i.lc(18,14,i.mc(19,16,n.checkOutDate,"EEE, d MMM"))," "),i.Hb(6),i.Tc(i.mc(22,19,r.accommodationNights,r.nightLabels)),i.Hb(3),i.sc("ngForOf",r.hotelCharges)}}function H(e,t){1&e&&(i.Zb(0,"span",17),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"BOOKER_LABEL_DOTERS")," "))}function U(e,t){if(1&e&&(i.Zb(0,"div",14),i.Ub(1,"app-price",15),i.Qc(2,H,3,3,"span",16),i.Yb()),2&e){var n=i.jc(3);i.Hb(1),i.sc("size","small")("currencyCode",n.currencyCode)("hideCAU",!0)("amount",n.otherBookingChargesTotal)("showDoters",n.isDotersActive),i.Hb(1),i.sc("ngIf",n.isDotersActive)}}function Y(e,t){if(1&e&&i.Ub(0,"app-basket-item-group",34),2&e){var n=t.$implicit,r=i.jc(4);i.sc("chargesGroup",n)("showItemAmount","none")("useTuaNaming",!0)("currencyCode",r.currencyCode)}}function G(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",31),i.Zb(2,"div",32),i.Sc(3),i.Yb(),i.Yb(),i.Zb(4,"div",9),i.Qc(5,Y,1,4,"app-basket-item-group",33),i.Yb(),i.Wb()),2&e){var n=i.jc(3);i.Hb(3),i.Uc(" ",null!=n.tuaCMSService&&n.tuaCMSService.name?n.tuaCMSService.name:"TUA"," "),i.Hb(2),i.sc("ngForOf",n.tuaCharges)}}function V(e,t){if(1&e&&i.Ub(0,"app-basket-item-group",36),2&e){var n=t.$implicit,r=i.jc(4);i.sc("chargesGroup",n)("showItemAmount","none")("useTuaNaming",!0)("currencyCode",r.currencyCode)("isDotersActive",r.isDotersActive)}}function Z(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",31),i.Zb(2,"div",32),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(5,"div",9),i.Qc(6,V,1,5,"app-basket-item-group",35),i.Yb(),i.Wb()),2&e){var n=i.jc(3);i.Hb(3),i.Uc(" ",i.lc(4,2,"BOOKER_LABEL_OTHER-CHARGES")," "),i.Hb(3),i.sc("ngForOf",n.otherCharges)}}function W(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",3),i.Zb(2,"div",4),i.Zb(3,"div"),i.Ub(4,"i",30),i.Zb(5,"span"),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Yb(),i.Qc(8,U,3,6,"div",6),i.Yb(),i.Ub(9,"hr"),i.Yb(),i.Qc(10,G,6,2,"ng-container",0),i.Qc(11,Z,7,4,"ng-container",0),i.Wb()),2&e){var n=i.jc(2);i.Hb(6),i.Uc(" ",i.lc(7,4,"BOOKER_LABEL_ADD-ONS")," "),i.Hb(2),i.sc("ngIf",n.showSubtotalAmount),i.Hb(2),i.sc("ngIf",n.tuaCharges.length>0),i.Hb(1),i.sc("ngIf",n.otherCharges.length>0)}}var K=function(e){return{regex:"%%tua amount%%",newValue:e}},z=function(e){return[e]};function Q(e,t){if(1&e){var n=i.ac();i.Zb(0,"app-flight-alert",39),i.hc("clicked",(function(){return i.Hc(n),i.jc(3).onTuaAddIntent()})),i.kc(1,"currency"),i.Yb()}if(2&e){var r=i.jc(3);i.sc("noRounded",!0)("noClose",!0)("noMargin",!0)("alertData",r.tuaNotIncludedAlert)("cmsReplacementValues",i.vc(12,z,i.vc(10,K,i.oc(1,5,r.tuaAmount,r.currencyCode,"symbol-narrow","1.0-0")+" "+r.currencyCode.toUpperCase())))}}function X(e,t){if(1&e&&(i.Zb(0,"div",37),i.Qc(1,Q,2,14,"app-flight-alert",38),i.Yb()),2&e){var n=i.jc(2);i.Hb(1),i.sc("ngIf",n.tuaNotIncludedAlert)}}function q(e,t){1&e&&(i.Zb(0,"span",17),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"BOOKER_LABEL_DOTERS")," "))}var $=function(){return{priceType:"total",priceModel:"total",displayClass:"medium-title colored-bold",displayLogo:!0}};function J(e,t){if(1&e&&(i.Zb(0,"div",42),i.Ub(1,"app-up-from-pricing",49),i.Yb()),2&e){var n=i.jc(3);i.Hb(1),i.sc("price",n.totalBasketAmount)("config",i.uc(2,$))}}function ee(e,t){if(1&e&&(i.Zb(0,"div",50),i.Ub(1,"app-price",51),i.Zb(2,"span",17),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Yb()),2&e){var n=i.jc(3);i.Hb(1),i.sc("size","small")("currencyCode",n.currencyCode)("hideCAU",!0)("amount",n.dotersMissingAmount)("showDecimals",!0)("pricePrefix",n.dotersMissingAmount?"+":""),i.Hb(2),i.Uc(" ",i.lc(4,7,n.currencyCode)," ")}}function te(e,t){if(1&e&&(i.Xb(0),i.Ub(1,"hr"),i.Zb(2,"div",52),i.Ub(3,"app-basket-item-group",53),i.Yb(),i.Wb()),2&e){var n=i.jc(3);i.Hb(3),i.sc("chargesGroup",n.additionalCharges)("showItemAmount","none")("currencyCode",n.currencyCode)("isDotersActive",n.isDotersActive)}}function ne(e,t){1&e&&i.Vb(0)}function ie(e,t){if(1&e){var n=i.ac();i.Zb(0,"button",58),i.hc("click",(function(){return i.Hc(n),i.jc(4).onBasketPayIntent()})),i.Zb(1,"span"),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Yb()}if(2&e){var r=i.jc(4);i.sc("disabled",!r.showContinueButton&&!r.canPay),i.Hb(2),i.Uc(" ",i.lc(3,2,r.showContinueButton?"GLOBAL_ACTION_CONTINUE":"GLOBAL_ACTION_PAY")," ")}}function re(e,t){if(1&e&&(i.Ub(0,"div",59),i.kc(1,"richText")),2&e){var n=i.jc(4);i.sc("innerHTML",i.lc(1,1,n.tuaCMSService.terms),i.Ic)}}var oe=function(e){return{"btn-container":e}};function ae(e,t){if(1&e&&(i.Zb(0,"div",54),i.Zb(1,"div",55),i.Qc(2,ie,4,4,"button",56),i.Qc(3,re,2,3,"div",57),i.Yb(),i.Yb()),2&e){var n=i.jc(3);i.sc("ngClass",n.showDotersEarn?"":"pt-10"),i.Hb(1),i.sc("ngClass",i.vc(4,oe,!n.showDotersEarn||n.isDotersActive)),i.Hb(1),i.sc("ngIf",!n.isIropFlow),i.Hb(1),i.sc("ngIf",0===n.tuaCharges.length&&n.tuaAmount>0&&!(null==n.tuaCMSService||!n.tuaCMSService.terms))}}function se(e,t){1&e&&i.Vb(0)}function ce(e,t){if(1&e&&(i.Zb(0,"div",60),i.Qc(1,se,1,0,"ng-container",45),i.Yb()),2&e){i.jc(3);var n=i.Ec(2);i.Hb(1),i.sc("ngTemplateOutlet",n)}}var le=function(e,t){return{"pt-10":e,"d-none d-lg-block":t}},ue=function(e){return{"mb-2":e}};function de(e,t){if(1&e&&(i.Zb(0,"div",40),i.Zb(1,"div",2),i.Zb(2,"div",41),i.Zb(3,"div"),i.Sc(4),i.kc(5,"cmsTranslate"),i.Yb(),i.Zb(6,"div"),i.Zb(7,"div",42),i.Ub(8,"app-price",15),i.Qc(9,q,3,3,"span",16),i.Yb(),i.Qc(10,J,2,3,"div",43),i.Qc(11,ee,5,9,"div",44),i.Yb(),i.Yb(),i.Qc(12,te,4,4,"ng-container",0),i.Yb(),i.Zb(13,"div",2),i.Qc(14,ne,1,0,"ng-container",45),i.Yb(),i.Ub(15,"app-months-interest-free-status-bar",46),i.Qc(16,ae,4,6,"div",47),i.Qc(17,ce,2,1,"div",48),i.Yb()),2&e){var n=i.jc(2),r=i.Ec(2);i.Hb(1),i.sc("ngClass",n.sidebarContainer?"sidebar-p":"p-20"),i.Hb(3),i.Tc(i.lc(5,17,"GLOBAL_LABEL_TOTAL")),i.Hb(4),i.sc("size","small")("currencyCode",n.currencyCode)("hideCAU",!0)("amount",n.totalBasketAmount)("showDoters",n.isDotersActive),i.Hb(1),i.sc("ngIf",n.isDotersActive),i.Hb(1),i.sc("ngIf",n.canDisplayUpliftFromPricing),i.Hb(1),i.sc("ngIf",n.isDotersActive),i.Hb(1),i.sc("ngIf",!!n.additionalCharges),i.Hb(1),i.sc("ngClass",i.wc(19,le,!n.showDotersEarn&&!n.sidebarContainer,n.sidebarContainer)),i.Hb(1),i.sc("ngTemplateOutlet",r),i.Hb(1),i.sc("ngClass",i.vc(22,ue,n.sidebarContainer))("currencyCode",n.currencyCode),i.Hb(1),i.sc("ngIf",n.sidebarContainer),i.Hb(1),i.sc("ngIf",n.sidebarContainer)}}var he=function(){return[]};function fe(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",2),i.Xb(2),i.Zb(3,"div",3),i.Zb(4,"div",4),i.Zb(5,"div"),i.Ub(6,"i",5),i.Zb(7,"span"),i.Sc(8),i.kc(9,"cmsTranslate"),i.Yb(),i.Yb(),i.Qc(10,A,3,6,"div",6),i.Yb(),i.Ub(11,"hr"),i.Yb(),i.Qc(12,L,2,1,"ng-container",7),i.Xb(13),i.Qc(14,R,4,3,"div",8),i.Zb(15,"div",9),i.Qc(16,N,1,3,"app-basket-item-group",10),i.Yb(),i.Wb(),i.Wb(),i.Qc(17,F,25,22,"ng-container",0),i.Qc(18,W,12,6,"ng-container",0),i.Yb(),i.Qc(19,X,2,1,"div",11),i.Ub(20,"app-months-interest-free-status-bar",12),i.Qc(21,de,18,24,"div",13),i.Wb()),2&e){var n=i.jc();i.Hb(1),i.sc("ngClass",n.sidebarContainer?"sidebar-p":"p-20"),i.Hb(7),i.Uc(" ",i.lc(9,11,"GLOBAL_LABEL_FLIGHTS")," "),i.Hb(2),i.sc("ngIf",n.showSubtotalAmount),i.Hb(2),i.sc("ngForOf",(null==n.fullBasket.basket.travel?null:n.fullBasket.basket.travel.journeys)||i.uc(13,he)),i.Hb(2),i.sc("ngIf",null==n.bookingCharges?null:n.bookingCharges.length),i.Hb(2),i.sc("ngForOf",n.bookingCharges),i.Hb(1),i.sc("ngIf",n.hotelAccommodation),i.Hb(1),i.sc("ngIf",n.showAdditionalChargesSection),i.Hb(1),i.sc("ngIf",n.sidebarContainer&&n.basketIsActive&&0===n.tuaCharges.length&&n.tuaAmount>0),i.Hb(1),i.sc("currencyCode",n.currencyCode),i.Hb(1),i.sc("ngIf",!n.sidebarContainer||n.sidebarContainer&&n.basketIsActive)}}var pe=function(e,t){return{radius:e,"mb-30":t}};function ge(e,t){if(1&e&&(i.Zb(0,"div",62),i.Zb(1,"div",63),i.Ub(2,"img",64),i.kc(3,"cmsStaticImage"),i.Zb(4,"div",65),i.Zb(5,"div"),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Zb(8,"div",32),i.Sc(9),i.kc(10,"currency"),i.kc(11,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&e){var n=i.jc(2);i.sc("ngClass",i.wc(16,pe,!n.sidebarContainer&&!n.showMonthsInterestFree,n.sidebarContainer&&!n.showMonthsInterestFree)),i.Hb(2),i.sc("src",i.lc(3,5,"BOOKER_DOTERS_LOGO"),i.Kc),i.Hb(4),i.Tc(i.lc(7,7,"BOOKER_LABEL_DOTERS-WILL-EARN")),i.Hb(3),i.Vc("",i.oc(10,9,n.dotersEarn,"","","1.0-0")," ",i.lc(11,14,"BOOKER_LABEL_DOTERS"),"")}}function ve(e,t){if(1&e&&i.Qc(0,ge,12,19,"div",61),2&e){var n=i.jc();i.sc("ngIf",!n.isDotersActive&&n.showDotersEarn)}}var me=function(){var e=function(){function e(t,n,r,c,l,u,d){var h=this;_classCallCheck(this,e),this.servicesSvc=t,this.dotersService=n,this.cmsTranslate=r,this.upPricingSvc=c,this.auth=l,this.utilsSvc=u,this.monthsInterestFreeSvc=d,this.sidebarContainer=!1,this.tuaAmount=0,this.canPay=!1,this.extraCharges=[],this.showContinueButton=!1,this.showSubtotalAmount=!1,this.basketPay=new i.p,this.tuaAdd=new i.p,this.isIropFlow=!1,this.bookingJourneyChargesTotal=0,this.journeyCharges={},this.bookingCharges=[],this.hotelCharges=[],this.otherBookingChargesTotal=0,this.otherCharges=[],this.tuaCharges=[],this.travelType=s.b,this.flightServiceGroups=[a.c.FlightFare,a.c.Seats,a.c.CarryOnBaggage,a.c.CheckedBaggage,a.c.SpecialBaggage,a.c.FlightServices],this.extraChargesTotal=0,this.basketIsActive=!1,this.basketChargesGroupCode=a.c,this.isDotersActive=!1,this.dotersEarn=0,this.nightLabels={"=1":"1 "+this.cmsTranslate.getEntry("BOOKER_LABEL_NIGHT-LODGING"),other:"# "+this.cmsTranslate.getEntry("BOOKER_LABEL_NIGHT-LODGING-COUNT")},this.onAccountSubscription=o.a.EMPTY,this.showDotersEarn=!1,this.passengers=0,this.servicesSvc.ready.toPromise().then((function(){h.tuaCMSService=h.servicesSvc.getService(a.c.TUA)}))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.onAccountSubscription=this.auth.userAccountData$.subscribe((function(t){e.userData=t,e.showDotersEarn=e.dotersService.showEarnDotersComponents(e.userData,e.fullBasket)}))}},{key:"ngOnChanges",value:function(e){var t,n,i,r,o,a,s,c,l=this;e.fullBasket&&(this.isDotersActive="Points"===(null===(n=null===(t=this.fullBasket)||void 0===t?void 0:t.basket)||void 0===n?void 0:n.bookingType),this.userData&&(this.showDotersEarn=this.dotersService.showEarnDotersComponents(this.userData,this.fullBasket)),(null===(i=this.fullBasket)||void 0===i?void 0:i.basket)&&(this.generateGroups(),this.dotersEarn=0,null===(r=this.fullBasket)||void 0===r||r.basket.travel.passengers.forEach((function(e){var t;l.dotersEarn+=(null===(t=null==e?void 0:e.pointsEarned)||void 0===t?void 0:t.totalPointsEarned)||0})),this.passengers=null===(s=null===(a=null===(o=this.fullBasket)||void 0===o?void 0:o.basketBooking)||void 0===a?void 0:a.passengers)||void 0===s?void 0:s.filter((function(e){return null==e?void 0:e.passengerKey})).length,e.fullBasket.isFirstChange&&this.canDisplayUpliftFromPricing&&this.upPricingSvc.resendUpliftPricing())),e.extraCharges&&(null===(c=this.fullBasket)||void 0===c?void 0:c.basket)&&(this.additionalCharges=this.generateAdditionalChargesGroup())}},{key:"ngOnDestroy",value:function(){this.onAccountSubscription.closed||this.onAccountSubscription.unsubscribe()}},{key:"generateGroups",value:function(){var e,t,n,i,r,o,c,l,u,d=this;if((null===(e=this.fullBasket)||void 0===e?void 0:e.basket)&&(null===(t=this.fullBasket)||void 0===t?void 0:t.basket.travel)&&(null===(n=this.fullBasket)||void 0===n?void 0:n.basket.travel.charges)&&(null===(i=this.fullBasket)||void 0===i?void 0:i.basket.travel.journeys)){var h=null===(r=this.fullBasket)||void 0===r?void 0:r.basket.travel.charges;h.forEach((function(e){"FlightVAT"===e.code&&(e.groupCode=a.c.FlightFare)})),this.basketIsActive=(null===(o=this.fullBasket)||void 0===o?void 0:o.basket.status)===s.d.Active,this.journeyCharges={},this.tuaCharges=[],null===(c=this.fullBasket)||void 0===c||c.basket.travel.journeys.forEach((function(e,t){var n=e.journeyKey;d.journeyCharges[n]=d.generateChargesGroups(h,n,d.flightServiceGroups),0===t&&d.addGuestFeeCharge(n),Array.isArray(d.journeyCharges[n])&&d.journeyCharges[n].length>0&&(d.journeyCharges[n][0].fareType=d.hasAltProvider(e)?"FB":d.utilsSvc.getFareFromBasket(e)),d.tuaCharges=d.tuaCharges.concat(d.generateChargesGroups(h,n,a.c.TUA))})),this.bookingCharges=this.generateChargesGroups(h,null,a.c.FlightServices),this.additionalCharges=this.generateAdditionalChargesGroup(),this.otherCharges=this.generateChargesGroups(h,"any",[].concat(_toConsumableArray2(this.flightServiceGroups),[a.c.TUA]),!0);var f=this.generateChargesGroups(null===(l=this.fullBasket)||void 0===l?void 0:l.basket.travel.misconfiguredCharges,"any");this.otherCharges=this.otherCharges.concat(f),this.hotelCharges=[];var p=null===(u=this.fullBasket)||void 0===u?void 0:u.basket.accommodation;p&&(p.rooms||[]).forEach((function(e,t){var n=d.roomToCharge(e,0===t?p.totalAmount.amount:0);d.defaultChargeGroupHandling(n,d.hotelCharges)})),this.bookingJourneyChargesTotal=this.getBookingJourneysTotal(),this.otherBookingChargesTotal=this.getOtherBookingChargesTotal()}}},{key:"showCurrentJourney",value:function(e){var t,n,i,r,o;return!(e&&(null===(r=null===(i=null===(n=null===(t=this.fullBasket)||void 0===t?void 0:t.basket)||void 0===n?void 0:n.customFields)||void 0===i?void 0:i.availabilityJourneyKeys)||void 0===r?void 0:r.length)&&!(null===(o=this.fullBasket)||void 0===o?void 0:o.basket.customFields.availabilityJourneyKeys.find((function(t){return t===e.journeyKey}))))}},{key:"generateChargesGroups",value:function(e,t,n){var i,r=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null===(i=this.fullBasket)||void 0===i?void 0:i.basket){var a=[],s=e;return"any"!==t&&(s=s.filter((function(e){return e.journeyKey===t}))),n&&(s=s.filter("string"==typeof n?function(e){return o?e.groupCode!==n:e.groupCode===n}:function(e){return o?!n.includes(e.groupCode):n.includes(e.groupCode)})),s.forEach((function(e){var t;switch(e.groupCode){case"FlightServices":r.flightServicesChargeGroupHandling(e,a);break;case"TUA":r.tuaServicesChargeGroupHandling(e,a,(null===(t=r.fullBasket)||void 0===t?void 0:t.basket.travel.journeys)||[]);break;default:r.defaultChargeGroupHandling(e,a)}})),a}return[]}},{key:"defaultChargeGroupHandling",value:function(e,t){var n=t.find((function(t){return t.groupCode===e.groupCode}));if(n)n.addCharge(e);else{var i=new a.b(e.groupCode,e.groupName);i.addCharge(e),t.push(i)}}},{key:"flightServicesChargeGroupHandling",value:function(e,t){var n=e.code,i=t.find((function(e){return e.groupCode===n}));if(i)i.addCharge(e);else{var r=new a.b(n,e.name);r.addCharge(e),t.push(r)}}},{key:"generateAdditionalChargesGroup",value:function(){var e,t,n,i,r,o=this,s=new a.b("AdditionalCharges","Additional Charges");return(null===(e=this.fullBasket)||void 0===e?void 0:e.basket)&&(null===(t=this.fullBasket)||void 0===t||t.basket.travel.additionalCharges.forEach((function(e){a.a.includes(e.code)||s.addCharge(e)})),Array.isArray(this.extraCharges)&&(this.extraCharges.forEach((function(e){var t=o.generateBasketChargeFromExtraCharge(e);t&&s.addCharge(t)})),this.getExtraChargesAmount()),Array.isArray(null===(i=null===(n=this.fullBasket)||void 0===n?void 0:n.basket.accommodation)||void 0===i?void 0:i.additionalCharges)&&(null===(r=this.fullBasket)||void 0===r||r.basket.accommodation.additionalCharges.forEach((function(e){s.addCharge(e)})))),s}},{key:"tuaServicesChargeGroupHandling",value:function(e,t,n){var i,r,o,s,c=(null===(r=null===(i=n.find((function(t){return t.journeyKey===e.journeyKey})))||void 0===i?void 0:i.origin)||void 0===r?void 0:r.code)||"",l=new a.b(e.code,e.name);l.amount.amount=e.amount.amount,l.amount.pointAmount=(null===(o=e.amount)||void 0===o?void 0:o.pointAmount)||0,l.originalAmount.amount=e.originalAmount.amount,l.originalAmount.pointAmount=(null===(s=e.originalAmount)||void 0===s?void 0:s.pointAmount)||0,l.code=c,t.push(l)}},{key:"getJourneyCharges",value:function(e){return this.journeyCharges[e]||[]}},{key:"getBookingJourneysTotal",value:function(){var e,t=this,n=0;return null===(e=this.fullBasket)||void 0===e||e.basket.travel.journeys.forEach((function(e){t.getJourneyCharges(e.journeyKey).forEach((function(e){var i;n+=(t.isDotersActive?null===(i=e.amount)||void 0===i?void 0:i.pointAmount:e.amount.amount)||0}))})),this.bookingCharges.forEach((function(e){var i;n+=(t.isDotersActive?null===(i=e.amount)||void 0===i?void 0:i.pointAmount:e.amount.amount)||0})),n}},{key:"getOtherBookingChargesTotal",value:function(){var e=this,t=0;return this.tuaCharges.forEach((function(n){var i;t+=e.isDotersActive?null===(i=n.amount)||void 0===i?void 0:i.pointAmount:n.amount.amount})),this.otherCharges.forEach((function(n){var i;t+=e.isDotersActive?null===(i=n.amount)||void 0===i?void 0:i.pointAmount:n.amount.amount})),t}},{key:"onBasketPayIntent",value:function(){this.basketPay.emit()}},{key:"onTuaAddIntent",value:function(){this.tuaAdd.emit()}},{key:"generateBasketChargeFromExtraCharge",value:function(e,t,n){if(e)return{journeyKey:null,segmentKey:null,passengerKey:null,groupCode:t||null,groupName:n||null,originalAmount:{amount:e.amount||0},amount:{amount:e.amount||0},code:e.chargeCode,name:e.chargeName||e.chargeCode,isIncluded:!1,details:null}}},{key:"getExtraChargesAmount",value:function(){var e=this;this.extraChargesTotal=0,Array.isArray(this.extraCharges)&&this.extraCharges.forEach((function(t){!0===t.includeInTotal&&t.amount&&(e.extraChargesTotal+=t.amount)}))}},{key:"hasAltProvider",value:function(e){return!!e.segments.find((function(e){return"VB"!==e.flightReference.substr(9,2)}))}},{key:"roomToCharge",value:function(e,t){return{journeyKey:null,segmentKey:null,passengerKey:null,groupCode:"HotelRoom",groupName:"Hotel Room",originalAmount:{amount:t},amount:{amount:t},code:e.name,name:e.name,isIncluded:!1,details:null}}},{key:"addGuestFeeCharge",value:function(e){var t=this.fullBasket.basket.notifications.find((function(e){return"GuestFeeWaived"===e.code})),n=this.journeyCharges[e].find((function(e){return"FlightFare"===e.groupCode}));if(t&&n&&!n.options.find((function(e){return"GuestFee"===e.code}))){var i=parseInt(t.description,10);n.addCharge({journeyKey:e,segmentKey:null,passengerKey:null,groupCode:"FlightFare",groupName:"Vuelo",originalAmount:{amount:0,pointAmount:0},amount:{amount:i,pointAmount:0},code:"GuestFee",name:"Guest Fee",isIncluded:!1,details:null})}}},{key:"showAdditionalChargesSection",get:function(){return this.tuaCharges.length>0||this.otherCharges.length>0}},{key:"currencyCode",get:function(){var e,t;return(null===(t=null===(e=this.fullBasket)||void 0===e?void 0:e.basket)||void 0===t?void 0:t.currencyCode)||""}},{key:"totalBasketAmount",get:function(){var e,t,n,i,r;return this.isDotersActive?(null===(e=this.dotersService)||void 0===e?void 0:e._dotersRedemptionPoints)>0?this.dotersService._dotersRedemptionPoints:(null===(t=this.dotersService)||void 0===t?void 0:t._dotersRedemptionPoints)<0?0:null===(i=null===(n=this.fullBasket)||void 0===n?void 0:n.basket.totalAmount)||void 0===i?void 0:i.pointAmount:(null===(r=this.fullBasket)||void 0===r?void 0:r.basket.totalAmount.amount)+this.extraChargesTotal}},{key:"dotersMissingAmount",get:function(){var e;return(null===(e=this.dotersService)||void 0===e?void 0:e._dotersMissingAmount)>0?this.dotersService._dotersMissingAmount:0}},{key:"hotelAccommodation",get:function(){var e;return null===(e=this.fullBasket)||void 0===e?void 0:e.basket.accommodation}},{key:"accommodationNights",get:function(){return this.hotelAccommodation?r(this.hotelAccommodation.checkOutDate).diff(this.hotelAccommodation.checkInDate,"days"):0}},{key:"canDisplayUpliftFromPricing",get:function(){var e,t,n;return(null===(t=null===(e=this.fullBasket)||void 0===e?void 0:e.basket)||void 0===t?void 0:t.status)===s.d.Active&&(null===(n=this.fullBasket)||void 0===n?void 0:n.basket.flowType)===c.b.Booking}},{key:"showMonthsInterestFree",get:function(){return this.monthsInterestFreeSvc._showMonthsInterestFree||this.monthsInterestFreeSvc._isZeroFare}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(l.a),i.Tb(u.a),i.Tb(d.a),i.Tb(h.a),i.Tb(f.a),i.Tb(p.a),i.Tb(g.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-basket-details-container"]],inputs:{fullBasket:"fullBasket",sidebarContainer:"sidebarContainer",tuaNotIncludedAlert:"tuaNotIncludedAlert",tuaAmount:"tuaAmount",canPay:"canPay",extraCharges:"extraCharges",showContinueButton:"showContinueButton",showSubtotalAmount:"showSubtotalAmount",isIropFlow:"isIropFlow"},outputs:{basketPay:"basketPay",tuaAdd:"tuaAdd"},features:[i.Fb],decls:3,vars:1,consts:[[4,"ngIf"],["DotersBar",""],[3,"ngClass"],[1,"section-header"],[1,"h4"],[1,"fas","fa-plane"],["class","d-flex align-items-end",4,"ngIf"],[4,"ngFor","ngForOf"],["class","section-subheader",4,"ngIf"],[1,"mb-20"],[3,"chargesGroup","currencyCode","isDotersActive",4,"ngFor","ngForOf"],["class","w-100",4,"ngIf"],[1,"d-block","d-lg-none",3,"currencyCode"],["class","basket-footer",4,"ngIf"],[1,"d-flex","align-items-end"],[3,"size","currencyCode","hideCAU","amount","showDoters"],["class","small-title ml-1 opacity-5",4,"ngIf"],[1,"small-title","ml-1","opacity-5"],[1,"section-subheader"],[1,"title","mb-5"],[1,"subheader-details","small-title","opacity-5"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"chargesGroup","currencyCode","showItemAmount","isDotersActive","passengers",4,"ngFor","ngForOf"],[3,"chargesGroup","currencyCode","showItemAmount","isDotersActive","passengers"],[3,"chargesGroup","currencyCode","isDotersActive"],[1,"fas","fa-hotel"],[3,"chargesGroup","currencyCode","showChargesAmount",4,"ngFor","ngForOf"],[3,"size","currencyCode","hideCAU","amount"],[3,"chargesGroup","currencyCode","showChargesAmount"],[1,"fas","fa-car-building"],[1,"section-subheader","mb-10"],[1,"title"],[3,"chargesGroup","showItemAmount","useTuaNaming","currencyCode",4,"ngFor","ngForOf"],[3,"chargesGroup","showItemAmount","useTuaNaming","currencyCode"],[3,"chargesGroup","showItemAmount","useTuaNaming","currencyCode","isDotersActive",4,"ngFor","ngForOf"],[3,"chargesGroup","showItemAmount","useTuaNaming","currencyCode","isDotersActive"],[1,"w-100"],[3,"noRounded","noClose","noMargin","alertData","cmsReplacementValues","clicked",4,"ngIf"],[3,"noRounded","noClose","noMargin","alertData","cmsReplacementValues","clicked"],[1,"basket-footer"],[1,"d-flex","justify-content-between","h4","pb-10"],[1,"d-flex","align-items-end","justify-content-end"],["class","d-flex align-items-end justify-content-end",4,"ngIf"],["class","d-flex align-items-end mt-1 justify-content-end",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"d-none","d-lg-block",3,"ngClass","currencyCode"],["class","px-30 mx-1 pb-20",3,"ngClass",4,"ngIf"],["class","d-block d-lg-none",4,"ngIf"],[3,"price","config"],[1,"d-flex","align-items-end","mt-1","justify-content-end"],[3,"size","currencyCode","hideCAU","amount","showDecimals","pricePrefix"],[1,"mb-10"],[3,"chargesGroup","showItemAmount","currencyCode","isDotersActive"],[1,"px-30","mx-1","pb-20",3,"ngClass"],[1,"pt-1",3,"ngClass"],["class","viva-btn shop w-100",3,"disabled","click",4,"ngIf"],["class","pt-10 small-text footer-disclaimer rt-paragraph-m-0",3,"innerHTML",4,"ngIf"],[1,"viva-btn","shop","w-100",3,"disabled","click"],[1,"pt-10","small-text","footer-disclaimer","rt-paragraph-m-0",3,"innerHTML"],[1,"d-block","d-lg-none"],["class","px-1 doters-earn",3,"ngClass",4,"ngIf"],[1,"px-1","doters-earn",3,"ngClass"],[1,"px-30","py-20","d-flex","justify-content-between","align-items-center"],["height","28","loading","lazy",1,"mb-1",3,"src"],[1,"small-title","text-right"]],template:function(e,t){1&e&&(i.Qc(0,fe,22,14,"ng-container",0),i.Qc(1,ve,1,1,"ng-template",null,1,i.Rc)),2&e&&i.sc("ngIf",!(null==t.fullBasket||!t.fullBasket.basket))},directives:[v.u,v.r,v.t,m.a,b.a,v.y,v.z,y.a,_.a,v.B,C.a],pipes:[k.a,S.a,v.G,v.f,v.j,v.d,O.a,T.a],styles:['.section-header[_ngcontent-%COMP%]{padding-top:20px}.section-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.section-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child > i[_ngcontent-%COMP%]{color:var(--bg2);margin-right:5px}.section-header[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:calc(100% + 16px);margin:10px 0 10px -8px}.doters-earn[_ngcontent-%COMP%]{background-color:var(--b-l)}.doters-earn[_ngcontent-%COMP%]   .small-title[_ngcontent-%COMP%]{color:var(--wh1);font-size:10px}.doters-earn[_ngcontent-%COMP%]   .small-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--wh1)}.doters-earn.radius[_ngcontent-%COMP%]{border-radius:0 0 5px 5px}.sidebar-p[_ngcontent-%COMP%]{padding:20px 35px 0}.section-subheader[_ngcontent-%COMP%]{margin-bottom:20px}.section-subheader[_ngcontent-%COMP%]   .subheader-details[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative}.section-subheader[_ngcontent-%COMP%]   .subheader-details[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:only-child):not(:last-child){margin-right:20px}.section-subheader[_ngcontent-%COMP%]   .subheader-details[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:only-child):not(:last-child):after{content:"";position:absolute;top:calc(50% - 1.5px);right:-11.5px;width:3px;height:3px;border-radius:50%;background-color:var(--vg4)}.basket-footer[_ngcontent-%COMP%]{background-color:var(--wh2)}.basket-footer[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:10px 0}.basket-footer[_ngcontent-%COMP%]   .footer-disclaimer[_ngcontent-%COMP%]{line-height:normal}@media screen and (max-width:991px){.btn-container[_ngcontent-%COMP%]{margin-bottom:100px}}']}),e}()},Wdig:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var i,r,o=n("mrSG"),a=n("RbsG"),s=n("3E8+"),c=n("9gjU"),l=n("PxKc"),u=n("WSM3"),d=n("AytR"),h=n("d/Sv"),f=n("ofgY"),p=n("tS1D"),g=n("fXoL"),v=n("egL7"),m=n("ChtM"),b=n("+EmV"),y=n("APqd"),_=((i=function(){function e(){_classCallCheck(this,e),this.payment=[]}return _createClass(e,[{key:"transactionObject",value:function(e,t,n,i,r,o,a,s,c,l,u){var d=arguments.length>11&&void 0!==arguments[11]&&arguments[11];this.transaction={flow_type:e,trip_type:t,checkout_type:n,basket_amount:i,currency:r,rute_list:o,segment_list:a,total_passenger_count:s,total_seat_count:c,market:l,modality:u,bundleAvailable:d?"yes":"no"}}},{key:"paymentObject",value:function(e,t,n,i,r,o){this.payment.push({status:e,type:t,installments:n,code:i,reference:r,amount:o})}},{key:"reserveObject",value:function(e,t,n){this.reserve={pnr:e,creationtime:t,status:n}}},{key:"setModalityValue",value:function(e){this.modality=e}},{key:"setUserData",value:function(e){this.currentUser=e}},{key:"transactionInfo",get:function(){return this.transaction}},{key:"paymentInfo",get:function(){return this.payment}},{key:"reserveInfo",get:function(){return this.reserve}},{key:"modalityTravel",get:function(){return this.modality}},{key:"currentUserData",get:function(){return this.currentUser}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275prov=g.Pb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),C=n("CPX7"),k=n("wtyH"),S=n("BifP"),O=n("kh7C"),T=((r=function(){function e(t,n,i,r,o,a,s,c,l){var u;_classCallCheck(this,e),this.gtmService=t,this.currency=n,this.util=i,this.itemsService=r,this.checkoutObjectService=o,this.basketService=a,this.serviceServices=s,this.csmConfig=c,this.utilsSvc=l,this.defaultCat=(null===(u=this.csmConfig._cmsConfig)||void 0===u?void 0:u.globalSettings.default_category_ancillaries)||""}return _createClass(e,[{key:"beginCheckOut",value:function(e){var t,n,i,r,o,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=arguments.length>3?arguments[3]:void 0,l="Points"===e.basket.bookingType,d=null===(t=null==c?void 0:c.affiliations)||void 0===t?void 0:t.find((function(e){return u.d.includes(e.code)})),h=null==c?void 0:c.funds.find((function(e){return"Doters"===(null==e?void 0:e.type)})),f={event:"begin_checkout",category:l?"booking_doters":"booking",action:"begin_checkout",vivafan_bf:a&&!l?"Yes":"No",transaction:{basket_amount:e.basketBooking.totalAmount.amount,currency:e.basketBooking.currencyCode},info_vf:{membership_type:a&&!l?(null===(i=null===(n=e.basketBooking)||void 0===n?void 0:n.passengers)||void 0===i?void 0:i.length)>1?"Team":"Single":"NA",periodicidad:a&&!l?s?"Mensual":"Anual":"NA",cant_beneficiarios:a&&!l?null===(o=null===(r=e.basketBooking)||void 0===r?void 0:r.passengers)||void 0===o?void 0:o.length:"NA"},doters:{level:l&&d?this.util.getDotersLevel(null==d?void 0:d.level):"NA",balance:l&&(null==h?void 0:h.totalAmount)>-1?null==h?void 0:h.totalAmount:"NA"},ec:{items:this.itemsService.returnRobustItemsGA4(e,a)},ecommerce:{add:{currencyCode:e.basketBooking.currencyCode,products:this.itemsService.returnRobustItemsGAU(e,a)}}};this.gtmService.pushTag(f)}},{key:"cartSummary",value:function(e){var t,n,i,r,o,a,s,c,d,f,p,g,v,m,b,y,_,C=arguments.length>1&&void 0!==arguments[1]&&arguments[1],k=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],S=arguments.length>3?arguments[3]:void 0,O=this.util.getSegmentList(e.basketBooking.journeys),T=!1;e.basket.flowType!==l.b.CheckIn&&e.basket.flowType!==l.b.Manage||(T=!0);var w="Points"===e.basket.bookingType,A=null===(t=null==S?void 0:S.affiliations)||void 0===t?void 0:t.find((function(e){return u.d.includes(e.code)})),E=null==S?void 0:S.funds.find((function(e){return"Doters"===(null==e?void 0:e.type)})),P=this.basketService.getTripTypeFromBasket(e.basket)===h.a.MULTI_CITY;this.checkoutObjectService.transactionObject(e.basket.flowType,1===e.basketBooking.journeys.length?"OW":P?"MC":"RT","normal",T?e.basket.totalAmount.amount:e.basketBooking.totalAmount.amount,e.basketBooking.currencyCode,this.util.getRouteType(e.basketBooking),O,e.basketBooking.passengers.length,e.basketBooking.seats.seats.length,this.util.getFlightType(e.basketBooking)?"international":"domestic",(null===(r=null===(i=null===(n=e.basketBooking.journeys)||void 0===n?void 0:n[0])||void 0===i?void 0:i.fare)||void 0===r?void 0:r.fareType)+""+((null===(s=null===(a=null===(o=e.basketBooking.journeys)||void 0===o?void 0:o[0])||void 0===a?void 0:a.fare)||void 0===s?void 0:s.bundleTypeName)?"_"+(null===(f=null===(d=null===(c=e.basketBooking.journeys)||void 0===c?void 0:c[0])||void 0===d?void 0:d.fare)||void 0===f?void 0:f.bundleType):""),!!(null===(v=null===(g=null===(p=e.basketBooking.journeys)||void 0===p?void 0:p[0])||void 0===g?void 0:g.fare)||void 0===v?void 0:v.bundleTypeName));var M={event:"add_to_cart",category:w?"booking_doters":"booking",vivafan_bf:C?"Yes":"No",detail:{module:"flight_availability",component:"summary",element:"continue_button",action:"add_to_cart"},info_vf:{membership_type:C?(null===(b=null===(m=null==e?void 0:e.basketBooking)||void 0===m?void 0:m.passengers)||void 0===b?void 0:b.length)>1?"Team":"Single":"NA",periodicidad:C?k?"Mensual":"Anual":"NA",cant_beneficiarios:C?null===(_=null===(y=null==e?void 0:e.basketBooking)||void 0===y?void 0:y.passengers)||void 0===_?void 0:_.length:"NA"},id:{t:e.basket.transactionId,b:e.basket.basketId},transaction:this.checkoutObjectService.transactionInfo,journeys:this.util.getJourneysFormat(e),doters:{level:w&&A?this.util.getDotersLevel(null==A?void 0:A.level):"NA",balance:w&&(null==E?void 0:E.totalAmount)>-1?null==E?void 0:E.totalAmount:"NA"},ec:{items:this.itemsService.returnRobustItemsGA4(e,C)},ecommerce:{add:{currencyCode:e.basketBooking.currencyCode,products:this.itemsService.returnRobustItemsGAU(e,C)}}};this.gtmService.pushTag(M)}},{key:"changeFlightAddToCart",value:function(e){var t,n,i,r,o,a,s,c,l,u,d,h,f,p;if((null===(n=null===(t=null==e?void 0:e.basket)||void 0===t?void 0:t.totalAmount)||void 0===n?void 0:n.amount)>0){var g=this.util.getSegmentList(e.basketBooking.journeys);this.checkoutObjectService.transactionObject("manage_my_booking",1===e.basketBooking.journeys.length?"OW":"RT","normal",e.basket.totalAmount.amount,e.basketBooking.currencyCode,this.util.getRuteList(e.basketBooking),g,e.basketBooking.passengers.length,e.basketBooking.seats.seats.length,this.util.getFlightType(e.basketBooking)?"international":"domestic",(null===(o=null===(r=null===(i=e.basketBooking.journeys)||void 0===i?void 0:i[0])||void 0===r?void 0:r.fare)||void 0===o?void 0:o.fareType)+""+((null===(c=null===(s=null===(a=e.basketBooking.journeys)||void 0===a?void 0:a[0])||void 0===s?void 0:s.fare)||void 0===c?void 0:c.bundleTypeName)?"_"+(null===(d=null===(u=null===(l=e.basketBooking.journeys)||void 0===l?void 0:l[0])||void 0===u?void 0:u.fare)||void 0===d?void 0:d.bundleType):""),!!(null===(p=null===(f=null===(h=e.basketBooking.journeys)||void 0===h?void 0:h[0])||void 0===f?void 0:f.fare)||void 0===p?void 0:p.bundleTypeName));var v={event:"add_to_cart",id:{t:e.basket.transactionId,b:e.basket.basketId},transaction:this.checkoutObjectService.transactionInfo,ec:{items:this.itemsService.returnRobustItemsGA4(e,!1)},ecommerce:{add:{currencyCode:e.basketBooking.currencyCode,products:this.itemsService.returnRobustItemsGAU(e,!1)}}};this.gtmService.pushTag(v)}}},{key:"sendBasketId",value:function(e){this.gtmService.pushTag({event:"load_booking",id:{b:e}})}},{key:"sendTransactionId",value:function(e){this.gtmService.pushTag({event:"load_booking",id:{t:e}})}},{key:"checkoutPassengers",value:function(e,t){var n,i=e.basket.dynamicFlow.steps.findIndex((function(e){return l.f.Passengers===e.name}));t&&!this.checkoutObjectService.currentUserData&&this.checkoutObjectService.setUserData(t);var r=e.basketBooking.services.services.find((function(e){return"VivaFan"===e.code})),o=e.basket.travel.charges.find((function(e){return"FlightFanDiscount"===e.code})),a="Points"===e.basket.bookingType,s=null===(n=null==t?void 0:t.affiliations)||void 0===n?void 0:n.find((function(e){return u.d.includes(e.code)})),c=null==t?void 0:t.funds.find((function(e){return"Doters"===(null==e?void 0:e.type)})),d={event:"checkout",category:a?"booking_doters":"booking",action:"checkout",label:"Passengers",vivafan_bf:r||o?"Yes":"No",checkout:{step:i,step_name:"Passengers",modality:e.basketBooking.journeys[0].fare.fareType},doters:{level:a&&s?this.util.getDotersLevel(null==s?void 0:s.level):"NA",balance:a&&(null==c?void 0:c.totalAmount)>-1?null==c?void 0:c.totalAmount:"NA"}};this.gtmService.pushTag(d)}},{key:"passengerDemographics",value:function(e){var t=this;e.forEach((function(e){t.gtmService.pushTag({event:"ev_passenger_demographics",category:"passenger_demographics",action:"passenger_info",label:{passenger_gender:e.gender,passenger_nationality:e.nationality,passenger_date_of_birth:e.dateOfBirth}})}))}},{key:"passengerInformation",value:function(e){var t,n={event:"finish_step",detail:{module:"passenger_details",component:"passenger_form",element:"continue_button",action:"submit_form"},notification:{marketing:"Promotional"===(null===(t=e.basketBooking.contacts[0])||void 0===t?void 0:t.notificationPreference),whatsApp:!1},traveler:{contacts:this.util.getContactsInformation(e),passengers:this.util.getPassengerInformation(e)}};this.gtmService.pushTag(n)}},{key:"checkoutSeatMap",value:function(e,t){var n,i=e.basket.dynamicFlow.steps.findIndex((function(e){return l.f.Seats===e.name}));e.basket.flowType===l.b.CheckIn?i=l.d.steps.findIndex((function(e){return l.f.Seats===e.name}))+1:e.basket.flowType===l.b.Manage&&(i=l.e.steps.findIndex((function(e){return l.f.Seats===e.name}))+1),t&&!this.checkoutObjectService.currentUserData&&this.checkoutObjectService.setUserData(t);var r=e.basketBooking.services.services.find((function(e){return"VivaFan"===e.code})),o=e.basket.travel.charges.find((function(e){return"FlightFanDiscount"===e.code})),a="Points"===e.basket.bookingType,s=null===(n=null==t?void 0:t.affiliations)||void 0===n?void 0:n.find((function(e){return u.d.includes(e.code)})),c=null==t?void 0:t.funds.find((function(e){return"Doters"===(null==e?void 0:e.type)})),d={event:"checkout",category:this.getBasketCategory(e.basket),action:"checkout",label:"Seatmap",vivafan_bf:r||o?"Yes":"No",checkout:{step:i,step_name:"Seatmap",modality:e.basketBooking.journeys[0].fare.fareType},doters:{level:a&&s?this.util.getDotersLevel(null==s?void 0:s.level):"NA",balance:a&&(null==c?void 0:c.totalAmount)>-1?null==c?void 0:c.totalAmount:"NA"}};this.gtmService.pushTag(d)}},{key:"getBasketCategory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(null==e?void 0:e.flowType){case l.b.Booking:var n="booking";return"Points"===(null==e?void 0:e.bookingType)&&(n="booking_doters"),n;case l.b.CheckIn:return"check_in";case l.b.Manage:return t?"MMB":"manage_my_booking";default:return"booking"}}},{key:"preselectedSeat",value:function(e,t){var n=this.basketService._basketBooking,i={event:"preselect_seat",detail:{module:"seat_selection",component:"popup_preselection",element:"options",action:e},seat:{details:{flight:this.util.getSegmentsbyId(t,n.journeys).marketingCode,availableSeats:this.util.getSegmentsbyId(t,n.journeys).availableSeats}}};this.gtmService.pushTag(i)}},{key:"preselectSeatOn",value:function(e,t,n){var i,r,o,a,s,c,l,u,d,h=this.basketService._basketBooking,f={event:"preselect_seat",category:"ux_booking",action:"seat_preselection",label:e?"toggle_on":"toggle_reactivate",detail:t,modality:(null===(o=null===(r=null===(i=h.journeys)||void 0===i?void 0:i[0])||void 0===r?void 0:r.fare)||void 0===o?void 0:o.fareType)+""+((null===(c=null===(s=null===(a=h.journeys)||void 0===a?void 0:a[0])||void 0===s?void 0:s.fare)||void 0===c?void 0:c.bundleTypeName)?"_"+(null===(d=null===(u=null===(l=h.journeys)||void 0===l?void 0:l[0])||void 0===u?void 0:u.fare)||void 0===d?void 0:d.bundleType):""),seat:{details:{flight:this.util.getSegmentsbyId(n,h.journeys).marketingCode,availableSeats:this.util.getSegmentsbyId(n,h.journeys).availableSeats}}};this.gtmService.pushTag(f)}},{key:"selectSeatBrand",value:function(e,t,n){var i,r,o,a,s,c,l,u,d,h=this.basketService._basketBooking,f={event:"preselect_seat",category:"ux_booking",action:"seat_clicks",label:e?"radio_button":"seat_map",detail:t,modality:(null===(o=null===(r=null===(i=h.journeys)||void 0===i?void 0:i[0])||void 0===r?void 0:r.fare)||void 0===o?void 0:o.fareType)+""+((null===(c=null===(s=null===(a=h.journeys)||void 0===a?void 0:a[0])||void 0===s?void 0:s.fare)||void 0===c?void 0:c.bundleTypeName)?"_"+(null===(d=null===(u=null===(l=h.journeys)||void 0===l?void 0:l[0])||void 0===u?void 0:u.fare)||void 0===d?void 0:d.bundleType):""),seat:{details:{flight:this.util.getSegmentsbyId(n,h.journeys).marketingCode,availableSeats:this.util.getSegmentsbyId(n,h.journeys).availableSeats}}};this.gtmService.pushTag(f)}},{key:"acceptPreselectionSeats",value:function(e,t){var n,i,r,o,a,s,c,l,u,d=this.basketService._basketBooking,h={event:"preselect_seat",category:"ux_booking",action:"seat_preselection",label:"accept_preselection",detail:e,modality:(null===(r=null===(i=null===(n=d.journeys)||void 0===n?void 0:n[0])||void 0===i?void 0:i.fare)||void 0===r?void 0:r.fareType)+""+((null===(s=null===(a=null===(o=d.journeys)||void 0===o?void 0:o[0])||void 0===a?void 0:a.fare)||void 0===s?void 0:s.bundleTypeName)?"_"+(null===(u=null===(l=null===(c=d.journeys)||void 0===c?void 0:c[0])||void 0===l?void 0:l.fare)||void 0===u?void 0:u.bundleType):""),seat:{details:{flight:this.util.getSegmentsbyId(t,d.journeys).marketingCode,availableSeats:this.util.getSegmentsbyId(t,d.journeys).availableSeats}}};this.gtmService.pushTag(h)}},{key:"declinePreselectionSeats",value:function(e,t,n){var i,r,o,a,s,c,l,u,d,h=this.basketService._basketBooking,f={event:"preselect_seat",category:"ux_booking",action:"seat_preselection_decline",label:e,detail:t,modality:(null===(o=null===(r=null===(i=h.journeys)||void 0===i?void 0:i[0])||void 0===r?void 0:r.fare)||void 0===o?void 0:o.fareType)+""+((null===(c=null===(s=null===(a=h.journeys)||void 0===a?void 0:a[0])||void 0===s?void 0:s.fare)||void 0===c?void 0:c.bundleTypeName)?"_"+(null===(d=null===(u=null===(l=h.journeys)||void 0===l?void 0:l[0])||void 0===u?void 0:u.fare)||void 0===d?void 0:d.bundleType):""),seat:{details:{flight:this.util.getSegmentsbyId(n,h.journeys).marketingCode,availableSeats:this.util.getSegmentsbyId(n,h.journeys).availableSeats}}};this.gtmService.pushTag(f)}},{key:"viewSeatOptions",value:function(e,t,n){var i="".concat(t.journeys[0].origin.code,"-").concat(t.journeys[0].destination.code,"|").concat(t.journeys[0].departureDate.substring(0,7)),r="";if(n===l.b.CheckIn||n===l.b.Manage){var o=this.getBasketCategory(e.basket,!0);r="_"+(o.charAt(0).toUpperCase()+o.slice(1))}var a="Seat Options".concat(r,"|").concat(i),s=e.basketBooking.services.services.find((function(e){return"VivaFan"===e.code})),c=e.basket.travel.charges.find((function(e){return"FlightFanDiscount"===e.code})),u={event:"ev_view_seat_options",category:this.getBasketCategory(e.basket),action:"view_seat_options",label:a,vivafan_bf:s||c?"Yes":"No",ec:{items:this.itemsService.returnViewSeatsGA4(t,a,e.basketBooking.journeys[0])},ecommerce:{currencyCode:e.basketBooking.currencyCode,impressions:this.itemsService.returnViewSeatsGAU(t,a,e.basketBooking.journeys[0])}};this.gtmService.pushTag(u)}},{key:"createAccountVivafan",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.gtmService.pushTag({event:"ev_sign_up_vf",category:"vf_profile",action:"create_account_vf",label:e?"successful":"unsuccessful"})}},{key:"paymentTypeVivafan",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;this.gtmService.pushTag({event:"ev_payment_type_selection",category:"vf_membership",action:"click_payment_type_selection",label:e?"monthly":"annual",currency:n,amount:t})}},{key:"clickSeatOptions",value:function(e,t){var n,i,r,o,a,s=this.basketService._basketBooking,c=this.basketService._basket,d="";if(c.flowType===l.b.CheckIn||c.flowType===l.b.Manage){var h=this.getBasketCategory(c,!0);d="_"+(h.charAt(0).toUpperCase()+h.slice(1))}var f=s.services.services.find((function(e){return"VivaFan"===e.code})),p=c.travel.charges.find((function(e){return"FlightFanDiscount"===e.code})),g="Points"===c.bookingType,v=null===(i=null===(n=this.checkoutObjectService.currentUserData)||void 0===n?void 0:n.affiliations)||void 0===i?void 0:i.find((function(e){return u.d.includes(e.code)})),m=null===(r=this.checkoutObjectService.currentUserData)||void 0===r?void 0:r.funds.find((function(e){return"Doters"===(null==e?void 0:e.type)})),b={event:"ev_click_seat_options",category:this.getBasketCategory(c),action:"click_seat_options",label:"Ancillary|Seat|"+(null===(o=null==e?void 0:e.brand)||void 0===o?void 0:o.code),info_vf:{membership_type:f?s.passengers.length>1?"Team":"Single":"NA",periodicidad:f?"VFSA"===(null===(a=f.options[0])||void 0===a?void 0:a.ssrCode)?"Anual":"Mensual":"NA",cant_beneficiarios:f?s.passengers.length:"NA"},vivafan_bf:f||p?"Yes":"No",doters:{level:g&&v?this.util.getDotersLevel(null==v?void 0:v.level):"NA",balance:g&&(null==m?void 0:m.totalAmount)>-1?null==m?void 0:m.totalAmount:"NA"},list_name:"Seat Options".concat(d,"|").concat(this.itemsService.ecommerceObject?this.itemsService.ecommerceObject.listName:""+this.util.getListDetails(s)),ec:{items:[this.itemsService.returnClickSeatOptionsGA4(e,s,t,d,!!f)]},ecommerce:{click:{products:[this.itemsService.returnClickSeatOptionsGAU(e,s,t,d,!!f)]}}};this.gtmService.pushTag(b)}},{key:"clickSeatMap",value:function(e,t,n){var i,r,o,a,s=this.basketService._basketBooking,c=this.basketService._basket,d="";if(c.flowType===l.b.CheckIn||c.flowType===l.b.Manage){var h=this.getBasketCategory(c,!0);d="_"+(h.charAt(0).toUpperCase()+h.slice(1))}var f,p,g,v="Points"===c.bookingType,m=null===(r=null===(i=this.checkoutObjectService.currentUserData)||void 0===i?void 0:i.affiliations)||void 0===r?void 0:r.find((function(e){return u.d.includes(e.code)})),b=null===(o=this.checkoutObjectService.currentUserData)||void 0===o?void 0:o.funds.find((function(e){return"Doters"===(null==e?void 0:e.type)})),y=_createForOfIteratorHelper(s.journeys);try{for(y.s();!(g=y.n()).done;){var _,C=g.value,k=_createForOfIteratorHelper(C.segments);try{for(k.s();!(_=k.n()).done;){var S=_.value;t===S.key&&(f=C,p=S)}}catch(A){k.e(A)}finally{k.f()}}}catch(A){y.e(A)}finally{y.f()}var O=s.services.services.find((function(e){return"VivaFan"===e.code})),T=c.travel.charges.find((function(e){return"FlightFanDiscount"===e.code})),w={event:"ev_click_seat_options",category:this.getBasketCategory(c),action:"click_seat_options",label:"Ancillary|Seat|"+e.brand,info_vf:{membership_type:O?s.passengers.length>1?"Team":"Single":"NA",periodicidad:O?"VFSA"===(null===(a=O.options[0])||void 0===a?void 0:a.ssrCode)?"Anual":"Mensual":"NA",cant_beneficiarios:O?s.passengers.length:"NA"},vivafan_bf:O||T?"Yes":"No",doters:{level:v&&m?this.util.getDotersLevel(null==m?void 0:m.level):"NA",balance:v&&(null==b?void 0:b.totalAmount)>-1?null==b?void 0:b.totalAmount:"NA"},list_name:"Seat Options".concat(d,"|").concat(this.itemsService.ecommerceObject?this.itemsService.ecommerceObject.listName:"".concat(f.origin.code,"-").concat(f.destination.code,"|").concat(f.departureDate.scheduled.substring(0,10))),ec:{items:this.itemsService.getClickSeatMapGA4(e,f,p,s,d,!!O,n)},ecommerce:{click:{products:this.itemsService.getClickSeatMapGAU(e,f,p,s,d,!!O,n)}}};this.gtmService.pushTag(w)}},{key:"addToCartSeat",value:function(e,t){var n,i,r,o,a,s,c,d,h,f,p,g,v,m,b,y=e.basketBooking.seats.seats,_=!1;if((e.basket.flowType===l.b.CheckIn||e.basket.flowType===l.b.Manage)&&(_=!0,null===(i=null===(n=e.basket)||void 0===n?void 0:n.customFields)||void 0===i?void 0:i.checkInPassengers.length)){var C=e.basketBooking.journeys.find((function(t){var n,i;return t.key===(null===(i=null===(n=e.basket)||void 0===n?void 0:n.customFields)||void 0===i?void 0:i.checkInPassengers[0].journeyKey)})).segments;y=e.basketBooking.seats.seats.filter((function(t){var n,i;return C.find((function(e){return e.key===t.segmentKey}))&&(null===(i=null===(n=e.basket)||void 0===n?void 0:n.customFields)||void 0===i?void 0:i.checkInPassengers.find((function(e){return e.passengerKey===t.passengerKey})))}))}var k,S="Points"===e.basket.bookingType,O=null===(r=null==t?void 0:t.affiliations)||void 0===r?void 0:r.find((function(e){return u.d.includes(e.code)})),T=null==t?void 0:t.funds.find((function(e){return"Doters"===(null==e?void 0:e.type)})),w=_createForOfIteratorHelper(y);try{for(w.s();!(k=w.n()).done;){var A=k.value,E=this.util.getSegmentList(e.basketBooking.journeys);this.checkoutObjectService.transactionObject(this.getBasketCategory(e.basket),1===e.basketBooking.journeys.length?"OW":"RT","normal",_?e.basket.totalAmount.amount:e.basketBooking.totalAmount.amount,e.basketBooking.currencyCode,this.util.getRouteType(e.basketBooking),E,e.basketBooking.passengers.length,e.basketBooking.seats.seats.length,this.util.getFlightType(e.basketBooking)?"international":"domestic",(null===(s=null===(a=null===(o=e.basketBooking.journeys)||void 0===o?void 0:o[0])||void 0===a?void 0:a.fare)||void 0===s?void 0:s.fareType)+""+((null===(h=null===(d=null===(c=e.basketBooking.journeys)||void 0===c?void 0:c[0])||void 0===d?void 0:d.fare)||void 0===h?void 0:h.bundleTypeName)?"_"+(null===(g=null===(p=null===(f=e.basketBooking.journeys)||void 0===f?void 0:f[0])||void 0===p?void 0:p.fare)||void 0===g?void 0:g.bundleType):""),!!(null===(b=null===(m=null===(v=e.basketBooking.journeys)||void 0===v?void 0:v[0])||void 0===m?void 0:m.fare)||void 0===b?void 0:b.bundleTypeName));var P={event:"add_to_cart",category:S?"booking_doters":this.getBasketCategory(e.basket),action:"add_to_cart",label:"Ancillary|Seat|"+A.brand,transaction:this.checkoutObjectService.transactionInfo,doters:{level:S&&O?this.util.getDotersLevel(null==O?void 0:O.level):"NA",balance:S&&(null==T?void 0:T.totalAmount)>-1?null==T?void 0:T.totalAmount:"NA"},ec:{items:[this.itemsService.returnRobustItemsBySegmentGA4(e,A)],item_list_name:{list:"Seat Options|".concat(this.itemsService.returnSegmentWithKey(e,A.segmentKey).origin.code,"-").concat(this.itemsService.returnSegmentWithKey(e,A.segmentKey).destination.code,"|").concat(this.itemsService.returnSegmentWithKey(e,A.segmentKey).departureDate.scheduled.split("T")[0])}},ecommerce:{currencyCode:e.basketBooking.currencyCode,add:{actionField:{list:"Seat Options|".concat(this.itemsService.returnSegmentWithKey(e,A.segmentKey).origin.code,"-").concat(this.itemsService.returnSegmentWithKey(e,A.segmentKey).destination.code,"|").concat(this.itemsService.returnSegmentWithKey(e,A.segmentKey).departureDate.scheduled.split("T")[0])},products:[this.itemsService.returnRobustItemsBySegmentGAU(e,A)]}}};this.gtmService.pushTag(P)}}catch(M){w.e(M)}finally{w.f()}}},{key:"addSeatBtnClick",value:function(e){var t={event:"add_seats",category:"Points"===e.basket.bookingType?"booking_doters":this.getBasketCategory(e.basket),action:"add_seats",products:this.util.getProductsInformation(e,!1,!1,!0)};this.gtmService.pushTag(t)}},{key:"finishStep",value:function(){this.gtmService.pushTag({event:"finish_step",detail:{module:"seat_selection",component:"continue_footer",element:"continue_button",action:"submit_form"}})}},{key:"checkoutBaggage",value:function(e,t){var n,i=2;t&&!this.checkoutObjectService.currentUserData&&this.checkoutObjectService.setUserData(t),e.basket.flowType===l.b.CheckIn?i=l.d.steps.findIndex((function(e){return l.f.Baggage===e.name}))+1:e.basket.flowType===l.b.Manage&&(i=l.e.steps.findIndex((function(e){return l.f.Baggage===e.name}))+1);var r=e.basketBooking.services.services.find((function(e){return"VivaFan"===e.code})),o=e.basket.travel.charges.find((function(e){return"FlightFanDiscount"===e.code})),a="Points"===e.basket.bookingType,s=null===(n=null==t?void 0:t.affiliations)||void 0===n?void 0:n.find((function(e){return u.d.includes(e.code)})),c=null==t?void 0:t.funds.find((function(e){return"Doters"===(null==e?void 0:e.type)})),d={event:"checkout",category:a?"booking_doters":this.getBasketCategory(e.basket),action:"checkout",label:"Baggage",vivafan_bf:r||o?"Yes":"No",checkout:{step:i,step_name:"Baggage",modality:e.basketBooking.journeys[0].fare.fareType},doters:{level:a&&s?this.util.getDotersLevel(null==s?void 0:s.level):"NA",balance:a&&(null==c?void 0:c.totalAmount)>-1?null==c?void 0:c.totalAmount:"NA"}};this.gtmService.pushTag(d)}},{key:"checkoutExtras",value:function(e,t){var n,i=e.basket.dynamicFlow.steps.findIndex((function(e){return l.f.Extras===e.name}));t&&!this.checkoutObjectService.currentUserData&&this.checkoutObjectService.setUserData(t),e.basket.flowType===l.b.CheckIn?i=l.d.steps.findIndex((function(e){return l.f.Extras===e.name}))+1:e.basket.flowType===l.b.Manage&&(i=l.e.steps.findIndex((function(e){return l.f.Extras===e.name}))+1);var r=e.basketBooking.services.services.find((function(e){return"VivaFan"===e.code})),o=e.basket.travel.charges.find((function(e){return"FlightFanDiscount"===e.code})),a="Points"===e.basket.bookingType,s=null===(n=null==t?void 0:t.affiliations)||void 0===n?void 0:n.find((function(e){return u.d.includes(e.code)})),c=null==t?void 0:t.funds.find((function(e){return"Doters"===(null==e?void 0:e.type)})),d={event:"checkout",category:a?"booking_doters":this.getBasketCategory(e.basket),action:"checkout",label:"Extras",vivafan_bf:r||o?"Yes":"No",checkout:{step:i,step_name:"Extras",modality:e.basketBooking.journeys[0].fare.fareType},doters:{level:a&&s?this.util.getDotersLevel(null==s?void 0:s.level):"NA",balance:a&&(null==c?void 0:c.totalAmount)>-1?null==c?void 0:c.totalAmount:"NA"}};this.gtmService.pushTag(d)}},{key:"viewExtras",value:function(e,t,n){var i,r,o,a,s="".concat(t.journeys[0].origin.code,"-").concat(t.journeys[0].destination.code,"|").concat(t.journeys[0].departureDate.scheduled.substring(0,7)),c=this.basketService._basket,u="";if(n===l.b.CheckIn||n===l.b.Manage){var d=this.getBasketCategory(c,!0);u="_"+(d.charAt(0).toUpperCase()+d.slice(1))}var h="Extras".concat(u,"|").concat(s),f=t.services.services.find((function(e){return"VivaFan"===e.code})),p=null===(a=null===(o=null===(r=null===(i=this.basketService)||void 0===i?void 0:i._basket)||void 0===r?void 0:r.travel)||void 0===o?void 0:o.charges)||void 0===a?void 0:a.find((function(e){return"FlightFanDiscount"===e.code})),g={event:"ev_view_extras",category:this.getBasketCategory(c),action:"view_extras",label:h,vivafan_bf:f||p?"Yes":"No",ec:{items:this.itemsService.returnViewExtrasGA4(e,t,h,!!u,!1,!!f)},ecommerce:{currencyCode:e.currencyCode,impressions:this.itemsService.returnViewExtrasGAU(e,t,h,!!u,!1,!!f)}};this.gtmService.pushTag(g)}},{key:"viewBaggage",value:function(e,t,n){var i="".concat(t.journeys[0].origin.code,"-").concat(t.journeys[0].destination.code,"|").concat(t.journeys[0].departureDate.scheduled.substring(0,7)),r=this.basketService._basket,o="";if(n===l.b.CheckIn||n===l.b.Manage){var a=this.getBasketCategory(r,!0);o="_"+(a.charAt(0).toUpperCase()+a.slice(1))}var s="Baggage".concat(o,"|").concat(i),c={event:"ev_view_baggage",category:this.getBasketCategory(r),action:"view_baggage",label:s,ec:{items:this.itemsService.returnViewExtrasGA4(e,t,s,!1,!!o)},ecommerce:{currencyCode:e.currencyCode,impressions:this.itemsService.returnViewExtrasGAU(e,t,s,!1,!!o)}};this.gtmService.pushTag(c)}},{key:"clickExtrasModal",value:function(e,t){var n,i,r,o,a,s=this.basketService._basketBooking,c=this.basketService._basket,d="";if(c.flowType===l.b.CheckIn||c.flowType===l.b.Manage){var h=this.getBasketCategory(c,!0);d="_"+(h.charAt(0).toUpperCase()+h.slice(1))}var f=(null===(n=this.serviceServices.getService(e[0].ssrCode))||void 0===n?void 0:n.jsonAttributes)||null,p=s.services.services.find((function(e){return"VivaFan"===e.code})),g=c.travel.charges.find((function(e){return"FlightFanDiscount"===e.code})),v="Points"===c.bookingType,m=null===(r=null===(i=this.checkoutObjectService.currentUserData)||void 0===i?void 0:i.affiliations)||void 0===r?void 0:r.find((function(e){return u.d.includes(e.code)})),b=null===(o=this.checkoutObjectService.currentUserData)||void 0===o?void 0:o.funds.find((function(e){return"Doters"===(null==e?void 0:e.type)})),y={event:"ev_click_extras",category:this.getBasketCategory(c),action:t,label:"Ancillary|".concat(f?f.item_category_2:this.defaultCat.item_category_2,"|").concat(f?f.item_category_3:this.defaultCat.item_category_3),info_vf:{membership_type:p?s.passengers.length>1?"Team":"Single":"NA",periodicidad:p?"VFSA"===(null===(a=p.options[0])||void 0===a?void 0:a.ssrCode)?"Anual":"Mensual":"NA",cant_beneficiarios:p?s.passengers.length:"NA"},vivafan_bf:p||g?"Yes":"No",doters:{level:v&&m?this.util.getDotersLevel(null==m?void 0:m.level):"NA",balance:v&&(null==b?void 0:b.totalAmount)>-1?null==b?void 0:b.totalAmount:"NA"},list_name:"Extras".concat(d,"|").concat(this.util.getListDetails(s)),ec:{items:this.itemsService.clickExtrasModalGA4(e,s,d,!!p)},ecommerce:{click:{actionField:"Extras".concat(d,"|").concat(this.util.getListDetails(s)),products:this.itemsService.clickExtrasModalGAU(e,s,d,!!p)}}};this.gtmService.pushTag(y)}},{key:"clickEditRecommendedExtras",value:function(e){var t,n=this.basketService._basketBooking,i=this.basketService._basket,r=n.journeys[0];if(i.flowType===l.b.CheckIn&&(null===(t=null==i?void 0:i.customFields)||void 0===t?void 0:t.checkInPassengers.length)&&(r=n.journeys.find((function(e){var t;return e.key===(null===(t=null==i?void 0:i.customFields)||void 0===t?void 0:t.checkInPassengers[0].journeyKey)}))),r){var o={event:"ev_edit_recommended_extras",category:this.getBasketCategory(i),action:"edit_recommended_extras",label:e,reserve:{pnr:n.pnr},mmb:{route:"".concat(r.origin.code,"-").concat(r.destination.code),journey_type:r===n.journeys[0]?"outbound":"inbound",trip_type:1===n.journeys.length?"one_way":"roundtrip",market:r.isInternational?"international":"domestic",departure_date:r.departureDate.scheduled.split("T")[0],modality:r.fare.fareType,total_passenger_count:n.passengers.length,check_in_window:this.util.getCheckInWindow(r)}};this.gtmService.pushTag(o)}}},{key:"clickAddRecommendedExtras",value:function(e){var t,n=this.basketService._basketBooking,i=this.basketService._basket,r=n.journeys[0];if(i.flowType===l.b.CheckIn&&(null===(t=null==i?void 0:i.customFields)||void 0===t?void 0:t.checkInPassengers.length)&&(r=n.journeys.find((function(e){var t;return e.key===(null===(t=null==i?void 0:i.customFields)||void 0===t?void 0:t.checkInPassengers[0].journeyKey)}))),r){var o={event:"ev_add_recommended_extras",category:this.getBasketCategory(i),action:"add_recommended_extras",label:e,reserve:{pnr:n.pnr},mmb:{route:"".concat(r.origin.code,"-").concat(r.destination.code),journey_type:r===n.journeys[0]?"outbound":"inbound",trip_type:1===n.journeys.length?"one_way":"roundtrip",market:r.isInternational?"international":"domestic",departure_date:r.departureDate.scheduled.split("T")[0],modality:r.fare.fareType,total_passenger_count:n.passengers.length,check_in_window:this.util.getCheckInWindow(r)}};this.gtmService.pushTag(o)}}},{key:"mmbFooterClickPayment",value:function(e){var t,n=this.basketService._basketBooking,i=this.basketService._basket,r=n.journeys[0];if(i.flowType===l.b.CheckIn&&(null===(t=null==i?void 0:i.customFields)||void 0===t?void 0:t.checkInPassengers.length)&&(r=n.journeys.find((function(e){var t;return e.key===(null===(t=null==i?void 0:i.customFields)||void 0===t?void 0:t.checkInPassengers[0].journeyKey)}))),r){var o={event:"ev_click_payment",category:this.getBasketCategory(i),action:"click_payment",label:e,reserve:{pnr:n.pnr},mmb:{route:"".concat(r.origin.code,"-").concat(r.destination.code),journey_type:r===n.journeys[0]?"outbound":"inbound",trip_type:1===n.journeys.length?"one_way":"roundtrip",market:r.isInternational?"international":"domestic",departure_date:r.departureDate.scheduled.split("T")[0],modality:r.fare.fareType,total_passenger_count:n.passengers.length,check_in_window:this.util.getCheckInWindow(r)}};this.gtmService.pushTag(o)}}},{key:"clickExtrasTransport",value:function(e,t){var n,i,r,o,a,s=this.basketService._basketBooking,c=this.basketService._basket,d=(null===(n=this.serviceServices.getService(e[0].pickupLocations[0].ssrCode))||void 0===n?void 0:n.jsonAttributes)||null,h="";if(c.flowType===l.b.CheckIn||c.flowType===l.b.Manage){var f=this.getBasketCategory(c,!0);h="_"+(f.charAt(0).toUpperCase()+f.slice(1))}var p="Points"===c.bookingType,g=null===(r=null===(i=this.checkoutObjectService.currentUserData)||void 0===i?void 0:i.affiliations)||void 0===r?void 0:r.find((function(e){return u.d.includes(e.code)})),v=null===(o=this.checkoutObjectService.currentUserData)||void 0===o?void 0:o.funds.find((function(e){return"Doters"===(null==e?void 0:e.type)})),m=s.services.services.find((function(e){return"VivaFan"===e.code})),b=c.travel.charges.find((function(e){return"FlightFanDiscount"===e.code})),y={event:"ev_click_extras",category:this.getBasketCategory(c),action:t,label:"Ancillary|".concat(d?d.item_category_2:this.defaultCat.item_category_2,"|").concat(d?d.item_category_3:this.defaultCat.item_category_3),info_vf:{membership_type:m?s.passengers.length>1?"Team":"Single":"NA",periodicidad:m?"VFSA"===(null===(a=m.options[0])||void 0===a?void 0:a.ssrCode)?"Anual":"Mensual":"NA",cant_beneficiarios:m?s.passengers.length:"NA"},vivafan_bf:m||b?"Yes":"No",doters:{level:p&&g?this.util.getDotersLevel(null==g?void 0:g.level):"NA",balance:p&&(null==v?void 0:v.totalAmount)>-1?null==v?void 0:v.totalAmount:"NA"},list_name:"Extras".concat(h,"|").concat(this.util.getListDetails(s)),ec:{items:this.itemsService.clickExtrasTransportGA4(e,s,h,!!m),item_list_name:{list:"Extras".concat(h,"|").concat(this.itemsService.ecommerceObject?this.itemsService.ecommerceObject.listName:"")}},ecommerce:{click:{actionField:"Extras".concat(h,"|").concat(this.util.getListDetails(s)),products:this.itemsService.clickExtrasTransportGAU(e,s,h,!!m)}}};this.gtmService.pushTag(y)}},{key:"clickExtrasDocumented",value:function(e,t){var n,i,r,o,a,s=this.basketService._basketBooking,c=this.basketService._basket,d=s.journeys.find((function(e){return e.key===t}))||s.journeys[0],h=(null===(n=this.serviceServices.getService(e.ssrCode))||void 0===n?void 0:n.jsonAttributes)||null,f=!1,p="Extras";if(c.flowType===l.b.CheckIn||c.flowType===l.b.Manage){f=!0;var g=this.getBasketCategory(c,!0);p="Baggage_"+(g.charAt(0).toUpperCase()+g.slice(1))}var v="Points"===c.bookingType,m=null===(r=null===(i=this.checkoutObjectService.currentUserData)||void 0===i?void 0:i.affiliations)||void 0===r?void 0:r.find((function(e){return u.d.includes(e.code)})),b=null===(o=this.checkoutObjectService.currentUserData)||void 0===o?void 0:o.funds.find((function(e){return"Doters"===(null==e?void 0:e.type)})),y=s.services.services.find((function(e){return"VivaFan"===e.code})),_=c.travel.charges.find((function(e){return"FlightFanDiscount"===e.code})),C={event:f?"ev_click_baggage":"ev_click_extras",category:this.getBasketCategory(c),action:f?"click_baggage":"click_extras",label:"Ancillary|".concat(h?h.item_category_2:this.defaultCat.item_category_2,"|").concat(h?h.item_category_3:this.defaultCat.item_category_3),list_name:"".concat(p,"|").concat(this.util.getListDetails(s,d)),ec:{items:this.itemsService.clickExtrasDocumentedGA4(e,s,p,y&&!f)},ecommerce:{click:{actionField:"".concat(p,"|").concat(this.util.getListDetails(s)),products:this.itemsService.clickExtrasDocumentedGAU(e,s,p,y&&!f)}}};f||(C.info_vf={membership_type:y?s.passengers.length>1?"Team":"Single":"NA",periodicidad:y?"VFSA"===(null===(a=y.options[0])||void 0===a?void 0:a.ssrCode)?"Anual":"Mensual":"NA",cant_beneficiarios:y?s.passengers.length:"NA"},C.vivafan_bf=y||_?"Yes":"No",C.doters={level:v&&m?this.util.getDotersLevel(null==m?void 0:m.level):"NA",balance:v&&(null==b?void 0:b.totalAmount)>-1?null==b?void 0:b.totalAmount:"NA"}),this.gtmService.pushTag(C)}},{key:"addToCartExtras",value:function(e){var t,n,i,r,o,a,s,c,d,h,f,p,g,v=arguments.length>1&&void 0!==arguments[1]&&arguments[1],m=arguments.length>2?arguments[2]:void 0,b=this.util.getSegmentList(e.basketBooking.journeys),y=!1;e.basket.flowType!==l.b.CheckIn&&e.basket.flowType!==l.b.Manage||(y=!0);var _="Points"===e.basket.bookingType,C=null===(t=null==m?void 0:m.affiliations)||void 0===t?void 0:t.find((function(e){return u.d.includes(e.code)})),k=null==m?void 0:m.funds.find((function(e){return"Doters"===(null==e?void 0:e.type)}));this.checkoutObjectService.transactionObject(this.getBasketCategory(e.basket),1===e.basketBooking.journeys.length?"OW":"RT","normal",y?e.basket.totalAmount.amount:e.basketBooking.totalAmount.amount,e.basketBooking.currencyCode,this.util.getRouteType(e.basketBooking),b,e.basketBooking.passengers.length,e.basketBooking.seats.seats.length,this.util.getFlightType(e.basketBooking)?"international":"domestic",(null===(r=null===(i=null===(n=e.basketBooking.journeys)||void 0===n?void 0:n[0])||void 0===i?void 0:i.fare)||void 0===r?void 0:r.fareType)+""+((null===(s=null===(a=null===(o=e.basketBooking.journeys)||void 0===o?void 0:o[0])||void 0===a?void 0:a.fare)||void 0===s?void 0:s.bundleTypeName)?"_"+(null===(h=null===(d=null===(c=e.basketBooking.journeys)||void 0===c?void 0:c[0])||void 0===d?void 0:d.fare)||void 0===h?void 0:h.bundleType):""),!!(null===(g=null===(p=null===(f=e.basketBooking.journeys)||void 0===f?void 0:f[0])||void 0===p?void 0:p.fare)||void 0===g?void 0:g.bundleTypeName));var S={event:"add_to_cart",category:_?"booking_doters":this.getBasketCategory(e.basket),action:"add_to_cart",label:"Ancillary|"+(v?"Baggage":"Extras"),transaction:this.checkoutObjectService.transactionInfo,doters:{level:_&&C?this.util.getDotersLevel(null==C?void 0:C.level):"NA",balance:_&&(null==k?void 0:k.totalAmount)>-1?null==k?void 0:k.totalAmount:"NA"},ec:{items:this.itemsService.addToCartExtrasGA4(e,y,v),item_list_name:{list:(v?"Baggage":"Extras")+" Options"}},ecommerce:{add:{currencyCode:e.basketBooking.currencyCode,products:this.itemsService.addToCartExtrasGAU(e,y,v)}},products:this.util.getProductsInformation(e,y,v)};this.gtmService.pushTag(S)}},{key:"gtmSelectHotelItem",value:function(e){var t=null==e?void 0:e.basketBooking;if(t.accommodation)try{var n="Hotels_Booking|".concat(t.journeys[0].origin.code,"-").concat(t.journeys[0].destination.code,"|").concat(t.journeys[0].arrivalDate.scheduled.split("T")[0].substring(0,7)),i={event:"ev_click_hotels",category:this.getBasketCategory(e.basket),action:"click_hotels",label:"Hotel|"+t.accommodation.propertyDetails.name,list_name:n,ec:{items:this.itemsService.accommodationLightGA4Items(t,n)},ecommerce:{actionField:{list:n},products:this.itemsService.accommodationLightGAUItems(t,n)}};this.gtmService.pushTag(i)}catch(r){d.g.production||console.error("::GTM::ev_click_hotels::",r)}}},{key:"addToCartHotels",value:function(e){var t,n,i,r,o,a,s,c,l,u,h,f;try{var p=null==e?void 0:e.basketBooking,g=this.util.getSegmentList(e.basketBooking.journeys),v="Hotels_Booking|".concat(p.journeys[0].origin.code,"-").concat(p.journeys[0].destination.code,"|").concat(p.journeys[0].arrivalDate.scheduled.split("T")[0].substring(0,7));this.checkoutObjectService.transactionObject(this.getBasketCategory(e.basket),1===p.journeys.length?"OW":"RT","normal",p.totalAmount.amount,p.currencyCode,this.util.getRouteType(p),g,p.passengers.filter((function(e){return!!e.passengerKey})).length,p.seats.seats.length,this.util.getFlightType(p)?"international":"domestic",(null===(i=null===(n=null===(t=p.journeys)||void 0===t?void 0:t[0])||void 0===n?void 0:n.fare)||void 0===i?void 0:i.fareType)+""+((null===(a=null===(o=null===(r=p.journeys)||void 0===r?void 0:r[0])||void 0===o?void 0:o.fare)||void 0===a?void 0:a.bundleTypeName)?"_"+(null===(l=null===(c=null===(s=p.journeys)||void 0===s?void 0:s[0])||void 0===c?void 0:c.fare)||void 0===l?void 0:l.bundleType):""),!!(null===(f=null===(h=null===(u=p.journeys)||void 0===u?void 0:u[0])||void 0===h?void 0:h.fare)||void 0===f?void 0:f.bundleTypeName));var m={event:"add_to_cart",category:this.getBasketCategory(e.basket),action:"add_to_cart",label:"Hotel",transaction:this.checkoutObjectService.transactionInfo,ec:{items:this.itemsService.accommodationLightGA4Items(p,v)},ecommerce:{add:{currencyCode:e.basketBooking.currencyCode,products:this.itemsService.accommodationLightGAUItems(p,v)}}};this.gtmService.pushTag(m)}catch(b){d.g.production||console.error("::GTM::add_to_cart-hotels::",b)}}},{key:"checkoutHotels",value:function(e){var t=e.basket.dynamicFlow.steps.findIndex((function(e){return l.f.Hotel===e.name})),n=e.basketBooking.services.services.find((function(e){return"VivaFan"===e.code})),i={event:"checkout",category:this.getBasketCategory(e.basket),action:"checkout",label:"Hotel",vivafan_bf:n?"Yes":"No",checkout:{step:t,step_name:"Hotel",modality:e.basketBooking.journeys[0].fare.fareType}};this.gtmService.pushTag(i)}},{key:"viewPayment",value:function(e){var t="".concat(e.origin.code,"-").concat(e.destination.code,"|").concat(e.departureDate.substring(0,7));this.gtmService.pushTag({event:"ev_view_payment",category:"ecommerce",action:"view_payment",label:"Payment|"+t,ec:{items:this.itemsService.getRobustItemsGA4},ecommerce:{currencyCode:this.currency.selectedCurrencyCode,impressions:this.itemsService.getRobustItemsGAU}})}},{key:"checkoutPayment",value:function(e,t){var n,i=e.basket.dynamicFlow.steps.findIndex((function(e){return l.f.Payment===e.name}));t&&!this.checkoutObjectService.currentUserData&&this.checkoutObjectService.setUserData(t),e.basket.flowType===l.b.CheckIn?i=l.d.steps.findIndex((function(e){return l.f.Payment===e.name}))+1:e.basket.flowType===l.b.Manage&&(i=l.e.steps.findIndex((function(e){return l.f.Payment===e.name}))+1);var r=e.basketBooking.services.services.find((function(e){return"VivaFan"===e.code})),o=e.basket.travel.charges.find((function(e){return"FlightFanDiscount"===e.code})),a="Points"===e.basket.bookingType,s=null===(n=null==t?void 0:t.affiliations)||void 0===n?void 0:n.find((function(e){return u.d.includes(e.code)})),c=null==t?void 0:t.funds.find((function(e){return"Doters"===(null==e?void 0:e.type)})),d={event:"checkout",category:a?"booking_doters":this.getBasketCategory(e.basket),action:"checkout",label:"Payment",vivafan_bf:r||o?"Yes":"No",checkout:{step:i,step_name:"Payment",modality:e.basketBooking.journeys[0].fare.fareType},doters:{level:a&&s?this.util.getDotersLevel(null==s?void 0:s.level):"NA",balance:a&&(null==c?void 0:c.totalAmount)>-1?null==c?void 0:c.totalAmount:"NA"}};this.gtmService.pushTag(d)}},{key:"acceptPayTuaModal",value:function(){this.gtmService.pushTag({event:"prepay_tua",detail:{module:"tua",component:"popup_prepay",element:"options",action:"accept_prepay"}})}},{key:"declinePayTuaModal",value:function(){this.gtmService.pushTag({event:"prepay_tua",detail:{module:"tua",component:"popup_prepay",element:"options",action:"decline_prepay"}})}},{key:"payTua",value:function(){this.gtmService.pushTag({event:"prepay_tua",detail:{module:"tua",component:"ancillary_card",element:"options",action:"accept_prepay"}})}},{key:"tuaDetails",value:function(){this.gtmService.pushTag({event:"prepay_tua",detail:{module:"tua",component:"ancillary_card",element:"options",action:"see_more_prepay"}})}},{key:"insuranceSelection",value:function(e){switch(e){case w.Basic:this.insuranceBasic();break;case w.Premium:this.insurancePremium()}}},{key:"insuranceBasic",value:function(){this.gtmService.pushTag({event:"add_insurance",detail:{module:"insurance",component:"ancillary_card",element:"options",action:"add_basic"}})}},{key:"insurancePremium",value:function(){this.gtmService.pushTag({event:"add_insurance",detail:{module:"insurance",component:"ancillary_card",element:"options",action:"add_premium"}})}},{key:"addToCartPayment",value:function(e){var t=this.basketService._basketBooking,n=this.basketService._basket,i=n.flowType===l.b.Booking?t.charges.filter((function(e){return A.National===e.code||A.International===e.code})):n.travel.charges.filter((function(e){return A.National===e.code||A.International===e.code})),r=n.flowType===l.b.Booking?t.charges.filter((function(e){return w.Basic===e.code||w.Premium===e.code})):n.travel.charges.filter((function(e){return w.Basic===e.code||w.Premium===e.code}));i.length&&this.addToCartTua(t,i,e),r.length&&this.addToCartInsurance(t,r,e)}},{key:"addToCartTua",value:function(e,t,n){var i,r,o,a,s,c,d,h,f,p,g,v,m,b=this.util.getSegmentList(e.journeys),y=this.basketService._basket,_=!1;y.flowType!==l.b.CheckIn&&y.flowType!==l.b.Manage||(_=!0);var C="Points"===y.bookingType,k=null===(i=null==n?void 0:n.affiliations)||void 0===i?void 0:i.find((function(e){return u.d.includes(e.code)})),S=null==n?void 0:n.funds.find((function(e){return"Doters"===(null==e?void 0:e.type)}));this.checkoutObjectService.transactionObject(this.getBasketCategory(y),1===e.journeys.length?"OW":"RT","normal",_?y.totalAmount.amount:e.totalAmount.amount,e.currencyCode,this.util.getRouteType(e),b,e.passengers.length,e.seats.seats.length,this.util.getFlightType(e)?"international":"domestic",(null===(a=null===(o=null===(r=e.journeys)||void 0===r?void 0:r[0])||void 0===o?void 0:o.fare)||void 0===a?void 0:a.fareType)+""+((null===(d=null===(c=null===(s=e.journeys)||void 0===s?void 0:s[0])||void 0===c?void 0:c.fare)||void 0===d?void 0:d.bundleTypeName)?"_"+(null===(p=null===(f=null===(h=e.journeys)||void 0===h?void 0:h[0])||void 0===f?void 0:f.fare)||void 0===p?void 0:p.bundleType):""),!!(null===(m=null===(v=null===(g=e.journeys)||void 0===g?void 0:g[0])||void 0===v?void 0:v.fare)||void 0===m?void 0:m.bundleTypeName));var O={event:"add_to_cart",category:C?"booking_doters":this.getBasketCategory(y),action:"add_to_cart",label:"TUA",transaction:this.checkoutObjectService.transactionInfo,doters:{level:C&&k?this.util.getDotersLevel(null==k?void 0:k.level):"NA",balance:C&&(null==S?void 0:S.totalAmount)>-1?null==S?void 0:S.totalAmount:"NA"},ec:{items:this.itemsService.returnRobustItemsTuaGA4(e,t)},ecommerce:{add:{currencyCode:e.currencyCode,products:this.itemsService.returnRobustItemsTuaGAU(e,t)}}};this.gtmService.pushTag(O)}},{key:"addToCartInsurance",value:function(e,t,n){var i,r,o,a,s,c,d,h,f,p,g,v,m,b=this.util.getSegmentList(e.journeys),y=this.basketService._basket,_=!1;y.flowType!==l.b.CheckIn&&y.flowType!==l.b.Manage||(_=!0);var C="Points"===y.bookingType,k=null===(i=null==n?void 0:n.affiliations)||void 0===i?void 0:i.find((function(e){return u.d.includes(e.code)})),S=null==n?void 0:n.funds.find((function(e){return"Doters"===(null==e?void 0:e.type)}));this.checkoutObjectService.transactionObject(this.getBasketCategory(y),1===e.journeys.length?"OW":"RT","normal",_?y.totalAmount.amount:e.totalAmount.amount,e.currencyCode,this.util.getRouteType(e),b,e.passengers.length,e.seats.seats.length,this.util.getFlightType(e)?"international":"domestic",(null===(a=null===(o=null===(r=e.journeys)||void 0===r?void 0:r[0])||void 0===o?void 0:o.fare)||void 0===a?void 0:a.fareType)+""+((null===(d=null===(c=null===(s=e.journeys)||void 0===s?void 0:s[0])||void 0===c?void 0:c.fare)||void 0===d?void 0:d.bundleTypeName)?"_"+(null===(p=null===(f=null===(h=e.journeys)||void 0===h?void 0:h[0])||void 0===f?void 0:f.fare)||void 0===p?void 0:p.bundleType):""),!!(null===(m=null===(v=null===(g=e.journeys)||void 0===g?void 0:g[0])||void 0===v?void 0:v.fare)||void 0===m?void 0:m.bundleTypeName));var O={event:"add_to_cart",category:C?"booking_doters":this.getBasketCategory(y),action:"add_to_cart",label:"Insurance",transaction:this.checkoutObjectService.transactionInfo,doters:{level:C&&k?this.util.getDotersLevel(null==k?void 0:k.level):"NA",balance:C&&(null==S?void 0:S.totalAmount)>-1?null==S?void 0:S.totalAmount:"NA"},ec:{items:this.itemsService.returnRobustItemsInsuranceGA4(e,t)},ecommerce:{add:{currencyCode:e.currencyCode,products:this.itemsService.returnRobustItemsInsuranceGAU(e,t)}}};this.gtmService.pushTag(O)}},{key:"paymentCheckScotiaPoints",value:function(){this.gtmService.pushTag({event:"ev_payment_check_scotia_points",category:"payment",action:"check_scotia_points",label:""})}},{key:"paymentThirdparty",value:function(e){e!==s.d.PayPal&&e!==s.d.Uplift&&e!==s.d.Kueski&&e!==s.d.Rappi||this.gtmService.pushTag({event:"ev_payment_pay_thirdparty",category:"payment",action:"pay_thirdparty",label:e})}},{key:"clickSearchReservation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.gtmService.pushTag({event:"ev_mmb_check_in_search_reservation",category:"search",action:"click_search_your_reservation",label:t?"found":"not found",reserve:{pnr:e}})}},{key:"paymentAddedVoucher",value:function(e){this.gtmService.pushTag({event:"ev_payment_added_voucher",category:"payment",action:"added_voucher",label:e})}},{key:"eventPurchase",value:function(e){var t,n,i,r,o,a,c,d,f,p,g,v,m,b,y,_,C,k,S,O,T,w,A,E,P,M,x,D,I,L,R,N,j,B,F,H,U,Y=arguments.length>1&&void 0!==arguments[1]&&arguments[1],G=arguments.length>2?arguments[2]:void 0,V=JSON.parse(localStorage.getItem("limitPayment")),Z=!1;(e.basket.flowType===l.b.CheckIn||e.basket.flowType===l.b.Manage||Y)&&(Z=!0);var W="L1"===(null===(i=null===(n=null===(t=null==e?void 0:e.basketBooking)||void 0===t?void 0:t.journeys[0])||void 0===n?void 0:n.fare)||void 0===i?void 0:i.classOfService),K=null===(r=null==G?void 0:G.affiliations)||void 0===r?void 0:r.find((function(e){return u.d.includes(e.code)})),z=null==G?void 0:G.funds.find((function(e){return"Doters"===(null==e?void 0:e.type)})),Q={pnr:e.basketBooking.pnr,creationTime:e.basketBooking.creationDate,status:e.basketBooking.status,limitPayment:(null==V?void 0:V.pnr)===e.basketBooking.pnr&&V.limitPayment},X=[];if(e.basketBooking.payments.length){var q,$=_createForOfIteratorHelper(e.basketBooking.payments);try{for($.s();!(q=$.n()).done;){var J=q.value,ee={status:J.status,type:J.type===s.d.PointsRewards?"Doters":J.type,installments:J.installments?"MSI"+(null===(o=J.installments)||void 0===o?void 0:o.toString()):"",code:J.type===s.d.PointsRewards?"XX":J.code,reference:null===(a=J.reference)||void 0===a?void 0:a.toString(),amount:J.type===s.d.PointsRewards?null==J?void 0:J.collectedAmount:J.amount,payment_doters:J.type===s.d.PointsRewards?e.basketBooking.payments.length>1?"Partial":"Yes":"No"};X.push(ee)}}catch(fe){$.e(fe)}finally{$.f()}}var te=this.util.getSegmentList(e.basketBooking.journeys),ne=this.basketService.getTripTypeFromBasket(e.basket)===h.a.MULTI_CITY;this.checkoutObjectService.transactionObject(W?"booking_doters":this.getBasketCategory(e.basket),1===e.basketBooking.journeys.length?"OW":ne?"MC":"RT","normal",Z?e.basket.totalAmount.amount:e.basketBooking.totalAmount.amount,e.basketBooking.currencyCode,this.util.getRouteType(e.basketBooking),te,e.basketBooking.passengers.length,e.basketBooking.seats.seats.length,this.util.getFlightType(e.basketBooking)?"international":"domestic",(null===(f=null===(d=null===(c=e.basketBooking.journeys)||void 0===c?void 0:c[0])||void 0===d?void 0:d.fare)||void 0===f?void 0:f.fareType)+""+((null===(v=null===(g=null===(p=e.basketBooking.journeys)||void 0===p?void 0:p[0])||void 0===g?void 0:g.fare)||void 0===v?void 0:v.bundleTypeName)?"_"+(null===(y=null===(b=null===(m=e.basketBooking.journeys)||void 0===m?void 0:m[0])||void 0===b?void 0:b.fare)||void 0===y?void 0:y.bundleType):""),!!(null===(k=null===(C=null===(_=e.basketBooking.journeys)||void 0===_?void 0:_[0])||void 0===C?void 0:C.fare)||void 0===k?void 0:k.bundleTypeName));var ie=[];e.basketBooking.journeys.forEach((function(e){e.segments.forEach((function(e){ie.push(e.operatingCarrier)}))}));var re=ie.filter((function(e,t){return ie.indexOf(e)===t})).join("|"),oe=Object.assign(Object.assign({id:e.basket.transactionId},this.checkoutObjectService.transactionInfo),{basket_amount:Z?e.basket.totalAmount.amount:e.basketBooking.totalAmount.amount,doters_amount:W&&(null===(O=null===(S=e.basketBooking.payments.find((function(e){return e.type===s.d.PointsRewards})))||void 0===S?void 0:S.amount)||void 0===O?void 0:O.value)||0,doters_price:(null===(w=null===(T=null==e?void 0:e.basketBooking)||void 0===T?void 0:T.totalAmount)||void 0===w?void 0:w.pointAmount)||"NA",payments:X,carriers:re}),ae=e.basket.flowType===l.b.CheckIn?"Payment_Check_in":e.basket.dynamicFlow.currentStep,se=e.basketBooking.services.services.find((function(e){return"VivaFan"===e.code})),ce=e.basket.travel.charges.find((function(e){return"FlightFanDiscount"===e.code})),le=Z?e.basket.currencyCode:e.basketBooking.currencyCode,ue=this.util.getIvaTotalAmount(Z?e.basket.travel.additionalCharges:e.basketBooking.additionalCharges),de=Z?null===(A=null==e?void 0:e.basket)||void 0===A?void 0:A.accommodation:null===(E=null==e?void 0:e.basketBooking)||void 0===E?void 0:E.accommodation;de&&(ue+=this.util.getIvaTotalAmount(de.additionalCharges));var he={event:"purchase",create_account:se?"Yes":"No",vivafan_bf:se||ce?"Yes":"No",info_vf:{membership_type:se?e.basketBooking.passengers.length>1?"Team":"Single":"NA",periodicidad:se?"VFSA"===(null===(P=se.options[0])||void 0===P?void 0:P.ssrCode)?"Anual":"Mensual":"NA",cant_beneficiarios:se?e.basketBooking.passengers.length:"NA"},doters_payment:{level:W&&K?this.util.getDotersLevel(null==K?void 0:K.level):"NA",balance:W&&(null==z?void 0:z.totalAmount)>-1?null==z?void 0:z.totalAmount:"NA"},transaction:oe,reserve:Q,ec:{currency:le,value:(Z?null===(x=null===(M=null==e?void 0:e.basket)||void 0===M?void 0:M.totalAmount)||void 0===x?void 0:x.amount:null===(I=null===(D=e.basketBooking.payments[0])||void 0===D?void 0:D.collectedAmount)||void 0===I?void 0:I.value)||0,tax:this.util.getIvaTotalAmount(Z?e.basket.travel.additionalCharges:e.basketBooking.additionalCharges),shipping:this.util.getTuaTotalAmount(Z?e.basket.travel.charges:e.basketBooking.charges),coupon:this.util.couponPromocode,items:this.itemsService.itemsPurchase(e,"GA4",Z,!!se),item_list_name:{affiliation:ae,revenue:(Z?null===(R=null===(L=null==e?void 0:e.basket)||void 0===L?void 0:L.totalAmount)||void 0===R?void 0:R.amount:null===(j=null===(N=e.basketBooking.payments[0])||void 0===N?void 0:N.collectedAmount)||void 0===j?void 0:j.value)||0,tax:ue,shipping:this.util.getTuaTotalAmount(Z?e.basket.travel.charges:e.basketBooking.charges),coupon:this.util.couponPromocode}},ecommerce:{currencyCode:le,purchase:{actionField:{affiliation:ae,revenue:(Z?null===(F=null===(B=null==e?void 0:e.basket)||void 0===B?void 0:B.totalAmount)||void 0===F?void 0:F.amount:null===(U=null===(H=e.basketBooking.payments[0])||void 0===H?void 0:H.collectedAmount)||void 0===U?void 0:U.value)||0,tax:this.util.getIvaTotalAmount(Z?e.basket.travel.additionalCharges:e.basketBooking.additionalCharges),shipping:this.util.getTuaTotalAmount(Z?e.basket.travel.charges:e.basketBooking.charges),coupon:this.util.couponPromocode},products:this.itemsService.itemsPurchase(e,"GAU",Z,!!se)}}};localStorage.removeItem("limitPayment"),this.gtmService.pushTag(he)}},{key:"paymentAttempt",value:function(e,t){this.gtmService.pushTag({event:"ev_payment_payment_attempt",category:"payment",action:"payment_attempt",label:e,payment_type:t?null==t?void 0:t.paymentType:null,payment_amount:t?null==t?void 0:t.paymentAmount:null,payment_currency_code:t?null==t?void 0:t.paymentCurrencyCode:null,payment_detail:t?(null==t?void 0:t.paymentDetail)?null==t?void 0:t.paymentDetail:null==t?void 0:t.paymentType:null})}},{key:"otpDoters",value:function(e,t){this.gtmService.pushTag({event:"ev_otp_doters",category:"Doters",action:"OTP",label:e,detail:t})}},{key:"triggerEvent",value:function(e,t,n){var i,r=this.addToCartStep;if(e.basket.flowType===l.b.Booking&&t){var o=e.basket.dynamicFlow.steps.findIndex((function(e){return t===e.name}));r=null===(i=e.basket.dynamicFlow.steps[--o])||void 0===i?void 0:i.name}switch(r){case l.f.Passengers:this.passengerInformation(e);break;case l.f.Extras:this.addToCartExtras(e,!1,n);break;case l.f.Seats:this.addToCartSeat(e,n),e.basket.flowType===l.b.Booking&&this.finishStep();break;case l.f.Baggage:this.addToCartExtras(e,!0)}}},{key:"preselectedTotalRefund",value:function(e,t){this.gtmService.pushTag({event:"ev_ux_booking",category:"ux_booking",action:"preselected_total_refund",label:e?"reaccept_preselection":"remove_preselection",transaction_payment_type:t})}},{key:"infoTotalRefund",value:function(e){this.gtmService.pushTag({event:"ev_ux_booking",category:"ux_booking",action:"preselected_total_refund",label:"click_info",transaction_payment_type:e})}},{key:"preselectedExtras",value:function(e,t,n){var i,r,o,a,s="".concat(t.journeys[0].origin.code,"-").concat(t.journeys[0].destination.code,"|").concat(t.journeys[0].departureDate.scheduled.substring(0,7)),c=this.basketService._basket,u="";if(n===l.b.CheckIn||n===l.b.Manage){var d=this.getBasketCategory(c,!0);u="_"+(d.charAt(0).toUpperCase()+d.slice(1))}var h="Extras".concat(u,"|").concat(s),f=t.services.services.find((function(e){return"VivaFan"===e.code})),p=null===(a=null===(o=null===(r=null===(i=this.basketService)||void 0===i?void 0:i._basket)||void 0===r?void 0:r.travel)||void 0===o?void 0:o.charges)||void 0===a?void 0:a.find((function(e){return"FlightFanDiscount"===e.code})),g={event:"ev_view_extras",category:this.getBasketCategory(c),action:"view_preselected_extras",label:h,vivafan_bf:f||p?"Yes":"No",ec:{items:this.itemsService.returnViewExtrasGA4(e,t,h,!!u,!1,!!f)},ecommerce:{currencyCode:e.currencyCode,impressions:this.itemsService.returnViewExtrasGAU(e,t,h,!!u,!1,!!f)}};this.gtmService.pushTag(g)}},{key:"recommendedExtras",value:function(e){var t,n,i=_toConsumableArray2(null===(n=null===(t=null==e?void 0:e.sortingGroups)||void 0===t?void 0:t.find((function(e){return(null==e?void 0:e.type)===c.c.Recommended})))||void 0===n?void 0:n.services);if(null==i?void 0:i.length){var r="";i.forEach((function(e,t){r=r+(t>0?"|":"")+e}));var o={event:"ev_view_extras",category:this.getBasketCategory(this.basketService._basket),action:"view_recommended_extras",label:r};this.gtmService.pushTag(o)}}},{key:"removePreselected",value:function(e,t){var n=t.basketBooking.journeys[0],i={event:"ev_remove",category:this.getBasketCategory(this.basketService._basket),action:"remove_preselected_extras",label:e,route:this.util.getRouteType(t.basketBooking),trip_type:1===t.basketBooking.journeys.length?"one_way":"roundtrip",market:n.isInternational?"international":"domestic",departure_date:n.departureDate.scheduled.split("T")[0],modality:n.fare.fareType,total_passenger_count:t.basketBooking.passengers.length,booking_window:this.util.getCheckInWindow(n)};this.gtmService.pushTag(i)}},{key:"continueWithPreselectedServices",value:function(e){var t,n=this,i=this.basketService._basket,r=e.basketBooking.journeys[0],o=e.basket.customFields.preSelectedServices.filter((function(e){return!!e.active})).map((function(e){return e.ssrCode}));if(o.length){t="",e.basketBooking.services.services.forEach((function(e){var i,r;if((null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.some((function(e){return o.includes(e.ssrCode)&&e.status===a.i.Pending})))&&"TotalRefund"!==e.code){var s=null===(r=n.serviceServices.getService(e.code))||void 0===r?void 0:r.basketName;s&&(t+=t?" | "+s:s)}})),e.basket.customFields.preSelectedServices.find((function(e){return"transfer"===(null==e?void 0:e.serviceType)}))&&e.basketBooking.services.transportServices.forEach((function(e){if(null==e?void 0:e.pickupLocations.find((function(e){return o.includes(e.ssrCode)}))){var i=n.serviceServices.getService(e.pickupLocations[0].ssrCode),r=(null==i?void 0:i.basketName)||(null==i?void 0:i.name);r&&(t+=t?" | "+r:r)}}));var s={event:"ev_add_recommended_extras",category:this.getBasketCategory(i),action:"add_recommended_extras",label:t,route:this.util.getRouteType(e.basketBooking),trip_type:1===e.basketBooking.journeys.length?"one_way":"roundtrip",market:r.isInternational?"international":"domestic",departure_date:r.departureDate.scheduled.split("T")[0],modality:r.fare.fareType,total_passenger_count:e.basketBooking.passengers.length,booking_window:this.util.getCheckInWindow(r)};this.gtmService.pushTag(s)}}},{key:"processPaymentPreselectedServices",value:function(e){var t,n,i,r,o,s,c,u,d,p,g,v,m=this,b=e.basketBooking.journeys[0],y="",_="",C=0,k=e.basket.customFields.preSelectedServices.filter((function(e){return!!e.active})).map((function(e){return e.ssrCode})),S=0;if(e.basketBooking.services.services.forEach((function(t){var n,i,r,o,s,c;if(null===(n=null==t?void 0:t.options)||void 0===n?void 0:n.some((function(e){return k.includes(e.ssrCode)&&e.status===a.i.Pending}))){var l=null===(i=m.serviceServices.getService(t.code))||void 0===i?void 0:i.basketName;l&&(y+=(y?" | ":"")+l,_+=(_?" | ":"")+"Preselected");var u=null===(r=null==t?void 0:t.options)||void 0===r?void 0:r.filter((function(e){return k.includes(e.ssrCode)}));u&&u.length&&u.forEach((function(e){C+=e.price.amount}))}if(e.basket.customFields.recommendedServices.find((function(e){return e===t.code}))&&(null===(o=null==t?void 0:t.options)||void 0===o?void 0:o.some((function(e){return e.status===a.i.Pending})))){var d=null===(s=m.serviceServices.getService(t.code))||void 0===s?void 0:s.basketName;d&&(y+=(y?" | ":"")+d,_+=(_?" | ":"")+"Recomended",S++);var h=null===(c=null==t?void 0:t.options)||void 0===c?void 0:c.filter((function(e){return e.status===a.i.Pending}));h&&h.length&&h.forEach((function(e){C+=e.price.amount}))}})),k.length||S){e.basketBooking.services.transportServices.forEach((function(t){var n,i,r,o,s,c;if(null===(n=null==t?void 0:t.pickupLocations)||void 0===n?void 0:n.some((function(e){return k.includes(e.ssrCode)&&e.status===a.i.Pending}))){var l=(null===(i=m.serviceServices.getService(t.transportType))||void 0===i?void 0:i.basketName)||t.name;l&&(y+=(y?" | ":"")+l,_+=(_?" | ":"")+"Preselected");var u=null===(r=null==t?void 0:t.pickupLocations)||void 0===r?void 0:r.filter((function(e){return k.includes(e.ssrCode)}));u&&u.length&&u.forEach((function(e){C+=e.price.amount}))}if(e.basket.customFields.recommendedServices.find((function(e){return e===t.code}))&&(null===(o=null==t?void 0:t.pickupLocations)||void 0===o?void 0:o.some((function(e){return e.status===a.i.Pending})))){var d=null===(s=m.serviceServices.getService(t.code))||void 0===s?void 0:s.basketName;d&&(y+=(y?" | ":"")+d,_+=(_?" | ":"")+"Recomended",S++);var h=null===(c=null==t?void 0:t.pickupLocations)||void 0===c?void 0:c.filter((function(e){return e.status===a.i.Pending}));h&&h.length&&h.forEach((function(e){C+=e.price.amount}))}}));var O={adt:0,chd:0,inf:0};e.basketBooking.passengers.forEach((function(e){switch(e.type){case f.i.ADT:O.adt++;break;case f.i.CHD:O.chd++;break;case f.i.INFT:O.inf++}}));var T="".concat(O.adt,"ADT:").concat(O.chd,"CHD:").concat(O.inf,"INF"),w=!1;e.basket.flowType!==l.b.CheckIn&&e.basket.flowType!==l.b.Manage||(w=!0);var A=this.basketService.getTripTypeFromBasket(e.basket)===h.a.MULTI_CITY,E=this.util.getSegmentList(e.basketBooking.journeys);this.checkoutObjectService.transactionObject(e.basket.flowType,1===e.basketBooking.journeys.length?"OW":A?"MC":"RT","normal",w?e.basket.totalAmount.amount:e.basketBooking.totalAmount.amount,e.basketBooking.currencyCode,this.util.getRouteType(e.basketBooking),E,e.basketBooking.passengers.length,e.basketBooking.seats.seats.length,this.util.getFlightType(e.basketBooking)?"international":"domestic",(null===(i=null===(n=null===(t=e.basketBooking.journeys)||void 0===t?void 0:t[0])||void 0===n?void 0:n.fare)||void 0===i?void 0:i.fareType)+""+((null===(s=null===(o=null===(r=e.basketBooking.journeys)||void 0===r?void 0:r[0])||void 0===o?void 0:o.fare)||void 0===s?void 0:s.bundleTypeName)?"_"+(null===(d=null===(u=null===(c=e.basketBooking.journeys)||void 0===c?void 0:c[0])||void 0===u?void 0:u.fare)||void 0===d?void 0:d.bundleType):""),!!(null===(v=null===(g=null===(p=e.basketBooking.journeys)||void 0===p?void 0:p[0])||void 0===g?void 0:g.fare)||void 0===v?void 0:v.bundleTypeName));var P={event:"ev_process_payment",category:"booking",action:"process_payment",label:y,experiment:_,trip_type:1===e.basketBooking.journeys.length?"one_way":"roundtrip",market:b.isInternational?"international":"domestic",departure_date:b.departureDate.scheduled.split("T")[0],modality:b.fare.fareType,passenger_type:T,booking_window:this.util.getCheckInWindow(b),quantity:k.length+S,amount:C,transaction:this.checkoutObjectService.transactionInfo};this.gtmService.pushTag(P)}}},{key:"addToCartEcommerceSeats",value:function(e,t){var n=e.filter((function(e,t,n){return t===n.findIndex((function(t){return t.seats[0].amount===e.seats[0].amount}))})).map((function(t){var n,i,r,o,a;return{type:"Seats",id:"Seat",price:null===(n=t.seats[0])||void 0===n?void 0:n.amount,amount:null===(i=t.seats[0])||void 0===i?void 0:i.amount,quantity:e.filter((function(e){return e.seats[0].amount===t.seats[0].amount})).length,isIncluded:0===(null===(r=t.seats[0])||void 0===r?void 0:r.amount),details:{SeatBrand:null===(o=t.seats[0])||void 0===o?void 0:o.seatBrand,SeatNumber:null===(a=t.seats[0])||void 0===a?void 0:a.seatNumber}}}));this.gtmService.pushTag({event:"addToCart",ecommerce:{currencyCode:t.currencyCode,add:{products:n}}})}},{key:"paymentAttemptLimit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.gtmService.pushTag({event:"ev_message",message:{type:"WARNING",code:t?"PROCESS_PAYMENT_LIMIT_LAST_ATTEMPT":"PROCESS_PAYMENTS_LIMIT_NO_ATTEMPT_LEFT",message:e}})}},{key:"addCobrandBenefits",value:function(e){var t,n,i,r,a,s,c,l,u,h,f,g;return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function o(){var v,m,b,y,_,C,k;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,v=this.basketService._basketBooking,o.next=4,this.basketService.syncDone$.pipe(Object(p.a)(5e3)).toPromise();case 4:m=this.basketService._basketBooking,b=new Set,y=!1,(null===(t=null==v?void 0:v.seats)||void 0===t?void 0:t.seatFees.length)>(null===(n=null==m?void 0:m.seats)||void 0===n?void 0:n.seatFees.length)&&b.add("SEAT"),null===(r=null===(i=null==m?void 0:m.services)||void 0===i?void 0:i.services)||void 0===r||r.forEach((function(e){e.options.length&&e.options.forEach((function(e){b.has(e.ssrCode)||!e.includedInHsbcCobrand&&!e.includedInHsbcCobrandPlus||0!==e.price.amount||b.add(e.ssrCode)}))})),(null===(a=null==v?void 0:v.totalAmount)||void 0===a?void 0:a.amount)>(null===(s=null==m?void 0:m.totalAmount)||void 0===s?void 0:s.amount)&&(y=!0),_=Object.keys(this.csmConfig._cmsConfig.bookingSettings.cobrandBenefits).find((function(t){return t.toLowerCase()===e.toLowerCase()})),C=null===(c=this.csmConfig._cmsConfig.bookingSettings.cobrandBenefits[_])||void 0===c?void 0:c.join("|"),k={event:"ev_doters",category:"Doters",action:"cobrand",label:"add_benefits",card_detail:e,detail:C,transaction_ssr:null===(l=_toConsumableArray2(b))||void 0===l?void 0:l.join("|"),transaction_modality:this.utilsSvc.matchFares(null===(h=null===(u=null==m?void 0:m.journeys[0])||void 0===u?void 0:u.fare)||void 0===h?void 0:h.bundleType),discount:y?"yes":"no",original_amount:null===(f=null==v?void 0:v.totalAmount)||void 0===f?void 0:f.amount,new_amount:null===(g=null==m?void 0:m.totalAmount)||void 0===g?void 0:g.amount},this.gtmService.pushTag(k),o.next=14;break;case 11:o.prev=11,o.t0=o.catch(0),d.g.production||console.error("addCobrandBenefits:",o.t0);case 14:case"end":return o.stop()}}),o,this,[[0,11]])})))}},{key:"selectMyBalanceOpt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.gtmService.pushTag({event:"ev_purchase_payment",category:"payment",action:"payment_option",label:t?"click_pay_viva_cash":"click_pay_with_doters",amount:e})}},{key:"clickApplyMyBalanceOpt",value:function(e,t,n){this.gtmService.pushTag({event:"ev_purchase_payment",category:"payment",action:"payment_option",label:n?n===s.d.VivaCash?"apply_pay_viva_cash":"apply_pay_with_doters":"cancel_payment",amount:e,split_amount:t})}},{key:"appliedMyBalanceOpt",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.gtmService.pushTag({event:"ev_purchase_payment",category:"payment",action:"payment_option",label:n===s.d.VivaCash?i?"cancel_payment_vivacash":"pay_viva_cash_applied":i?"cancel_payment_doters":"pay_with_doters_applied",amount:e,split_amount:t})}},{key:"myBalanceOptAlerts",value:function(e,t){this.gtmService.pushTag({event:"ux_booking",channel:"payment",section:e===s.d.VivaCash?"pay_viva_cash":"pay_with_doters",action:t})}},{key:"onShowCarbonModal",value:function(){this.gtmService.pushTag({event:"ev_ux_payment",category:"payment",action:"Carbon Modal",label:"view"})}},{key:"clickCarbonModal",value:function(e){this.gtmService.pushTag({event:"ev_ux_payment",category:"payment",action:"Carbon Modal",label:e})}},{key:"selectInsuranceOption",value:function(e,t){this.gtmService.pushTag({event:"select_insurance_option",action:e,modality:t})}},{key:"insuranceMoreInfo",value:function(e){this.gtmService.pushTag({event:"ev_ux_payment_review",category:"insurance_options",action:"click_more_info",label:e})}},{key:"withoutProtectionPopUp",value:function(e,t){this.gtmService.pushTag({event:"travel_without_protection_pop_up",action:e,modality:t})}}]),e}()).\u0275fac=function(e){return new(e||r)(g.dc(v.a),g.dc(m.a),g.dc(b.a),g.dc(y.a),g.dc(_),g.dc(C.a),g.dc(k.a),g.dc(S.a),g.dc(O.a))},r.\u0275prov=g.Pb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),w=function(e){return e.Basic="VSPB",e.Premium="VSPP",e}({}),A=function(e){return e.National="VTUA",e.International="VTUI",e}({})},WwFo:function(e,t,n){var i=n("juv8"),r=n("7GkX");e.exports=function(e,t){return e&&i(t,r(t),e)}},WyaX:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return z}));var i=n("lUod"),r=n("fXoL"),o=n("ofXK"),a=n("XNiG"),s=n("VRyK"),c=n("xgIS"),l=n("LRne"),u=n("eNwd"),d=function(e){return e.top="top",e.bottom="bottom",e.left="left",e.right="right",e.auto="auto",e.end="right",e.start="left",e["top left"]="top left",e["top right"]="top right",e["right top"]="right top",e["right bottom"]="right bottom",e["bottom right"]="bottom right",e["bottom left"]="bottom left",e["left bottom"]="left bottom",e["left top"]="left top",e["top start"]="top left",e["top end"]="top right",e["end top"]="right top",e["end bottom"]="right bottom",e["bottom end"]="bottom right",e["bottom start"]="bottom left",e["start bottom"]="start bottom",e["start top"]="left top",e}({}),h=function(e){return e.top="top",e.bottom="bottom",e.left="start",e.right="end",e.auto="auto",e.end="end",e.start="start",e["top left"]="top start",e["top right"]="top end",e["right top"]="end top",e["right bottom"]="end bottom",e["bottom right"]="bottom end",e["bottom left"]="bottom start",e["left bottom"]="start bottom",e["left top"]="start top",e["top start"]="top start",e["top end"]="top end",e["end top"]="end top",e["end bottom"]="end bottom",e["bottom end"]="bottom end",e["bottom start"]="bottom start",e["start bottom"]="start bottom",e["start top"]="start top",e}({});function f(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView,i=null==n?void 0:n.getComputedStyle(e,null);return t?i&&i[t]:i}var p="undefined"!=typeof window&&"undefined"!=typeof document,g=p&&!(!window.MSInputMethodContext||!document.documentMode),v=p&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function m(e){return 11===e?g:10===e?v:g||v}function b(e){if(!e)return document.documentElement;for(var t=m(10)?document.body:null,n=null==e?void 0:e.offsetParent,i=void 0;n===t&&e.nextElementSibling&&i!==e.nextElementSibling;)n=(i=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?n&&-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===f(n,"position")?b(n):n:i?i.ownerDocument.documentElement:document.documentElement}function y(e){return null!==e.parentNode?y(e.parentNode):e}function _(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var a,s,c=o.commonAncestorContainer;if(e!==c&&t!==c||i.contains(r))return"BODY"===(s=(a=c).nodeName)||"HTML"!==s&&b(a.firstElementChild)!==a?b(c):c;var l=y(e);return l.host?_(l.host,t):_(e,y(t).host)}function C(e){if(!e||!e.parentElement||m())return document.documentElement;for(var t=e.parentElement;(null==t?void 0:t.parentElement)&&"none"===f(t,"transform");)t=t.parentElement;return t||document.documentElement}function k(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border".concat(n,"Width")])+parseFloat(e["border".concat(i,"Width")])}function S(e,t,n,i){var r=n,o=i;return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],m(10)?parseInt(r["offset"+e],10)+parseInt(o["margin"+("Height"===e?"Top":"Left")],10)+parseInt(o["margin"+("Height"===e?"Bottom":"Right")],10):0)}function O(e){var t=e.body,n=e.documentElement,i=m(10)?getComputedStyle(n):void 0;return{height:S("Height",t,n,i),width:S("Width",t,n,i)}}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[n]}return e[n]}function w(e){return Object.assign(Object.assign({},e),{right:(e.left||0)+e.width,bottom:(e.top||0)+e.height})}function A(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function E(e){var t=e.getBoundingClientRect();try{if(m(10)){var n=T(e,"top"),i=T(e,"left");t&&A(t.top)&&A(t.left)&&A(t.bottom)&&A(t.right)&&(t.top+=n,t.left+=i,t.bottom+=n,t.right+=i)}}catch(d){return t}if(!(t&&A(t.top)&&A(t.left)&&A(t.bottom)&&A(t.right)))return t;var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?O(e.ownerDocument):void 0,a=(null==o?void 0:o.width)||e.clientWidth||A(t.right)&&A(r.left)&&t.right-r.left||0,s=(null==o?void 0:o.height)||e.clientHeight||A(t.bottom)&&A(r.top)&&t.bottom-r.top||0,c=e.offsetWidth-a,l=e.offsetHeight-s;if(c||l){var u=f(e);c-=k(u,"x"),l-=k(u,"y"),r.width-=c,r.height-=l}return w(r)}function P(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function M(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=f(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(String(n)+String(r)+String(i))?e:M(P(e))}function x(e,t){var n,i,r,o,a,s,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=m(10),u="HTML"===t.nodeName,d=E(e),h=E(t),p=M(e),g=f(t),v=parseFloat(g.borderTopWidth),b=parseFloat(g.borderLeftWidth);c&&u&&(h.top=Math.max(null!==(n=h.top)&&void 0!==n?n:0,0),h.left=Math.max(null!==(i=h.left)&&void 0!==i?i:0,0));var y=w({top:(null!==(r=d.top)&&void 0!==r?r:0)-(null!==(o=h.top)&&void 0!==o?o:0)-v,left:(null!==(a=d.left)&&void 0!==a?a:0)-(null!==(s=h.left)&&void 0!==s?s:0)-b,width:d.width,height:d.height});if(y.marginTop=0,y.marginLeft=0,!l&&u){var _=parseFloat(g.marginTop),C=parseFloat(g.marginLeft);A(y.top)&&(y.top-=v-_),A(y.bottom)&&(y.bottom-=v-_),A(y.left)&&(y.left-=b-C),A(y.right)&&(y.right-=b-C),y.marginTop=_,y.marginLeft=C}return(l&&!c?t.contains(p):t===p&&"BODY"!==p.nodeName)&&(y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=T(t,"top"),r=T(t,"left"),o=n?-1:1;return A(e.top)&&(e.top+=i*o),A(e.bottom)&&(e.bottom+=i*o),A(e.left)&&(e.left+=r*o),A(e.right)&&(e.right+=r*o),e}(y,t)),y}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=r?C(e):_(e,t);if("viewport"===i)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=x(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:T(n),s=t?0:T(n,"left");return w({top:a-Number(null==i?void 0:i.top)+Number(null==i?void 0:i.marginTop),left:s-Number(null==i?void 0:i.left)+Number(null==i?void 0:i.marginLeft),width:r,height:o})}(a,r);else{var s;"scrollParent"===i?"BODY"===(s=M(P(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===i?e.ownerDocument.documentElement:i;var c=x(s,a,r);if(c&&"HTML"===s.nodeName&&!function e(t){var n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===f(t,"position")||e(P(t)))}(a)){var l=O(e.ownerDocument),u=l.height,d=l.width;A(o.top)&&A(c.top)&&A(c.marginTop)&&(o.top+=c.top-c.marginTop),A(o.top)&&(o.bottom=Number(u)+Number(c.top)),A(o.left)&&A(c.left)&&A(c.marginLeft)&&(o.left+=c.left-c.marginLeft),A(o.top)&&(o.right=Number(d)+Number(c.left))}else c&&(o=c)}return A(o.left)&&(o.left+=n),A(o.top)&&(o.top+=n),A(o.right)&&(o.right-=n),A(o.bottom)&&(o.bottom-=n),o}function I(e){return e.width*e.height}function L(e,t,n,r){var o,a,s,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["top","bottom","right","left"],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"viewport",d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(-1===e.indexOf("auto"))return e;var f=D(n,r,d,u),p={top:{width:null!==(o=f.width)&&void 0!==o?o:0,height:t.top&&f.top?t.top-f.top:0},right:{width:f.right&&t.right?f.right-t.right:0,height:null!==(a=f.height)&&void 0!==a?a:0},bottom:{width:null!==(s=f.width)&&void 0!==s?s:0,height:f.bottom&&t.bottom?f.bottom-t.bottom:0},left:{width:t.left&&f.left?t.left-f.left:0,height:null!==(c=f.height)&&void 0!==c?c:0}},g=Object.keys(p).map((function(e){return Object.assign(Object.assign({key:e},p[e]),{area:I(p[e])})})).sort((function(e,t){return t.area-e.area})),v=g.filter((function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight})),m=(v=v.filter((function(e){return l.some((function(t){return t===e.key}))}))).length>0?v[0].key:g[0].key,b=e.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,"bs-tooltip-"+(Object(i.b)().isBs5?h[m]:m)),m+(b?"-"+b:"")}var R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e?parseFloat(e):t};function N(e){var t=e.ownerDocument.defaultView,n=null==t?void 0:t.getComputedStyle(e),i=R(null==n?void 0:n.marginTop)+R(null==n?void 0:n.marginBottom),r=R(null==n?void 0:n.marginLeft)+R(null==n?void 0:n.marginRight);return{width:Number(e.offsetWidth)+r,height:Number(e.offsetHeight)+i}}function j(e,t,n){return x(t,n?C(e):_(e,t),n)}function B(e,t,n){var i,r,o,a=n.split(" ")[0],s=N(e),c={width:s.width,height:s.height},l=-1!==["right","left"].indexOf(a),u=l?"top":"left",d=l?"left":"top",h=l?"height":"width",f=l?"width":"height";return c[u]=(null!==(i=t[u])&&void 0!==i?i:0)+t[h]/2-s[h]/2,c[d]=a===d?(null!==(r=t[d])&&void 0!==r?r:0)-s[f]:null!==(o=t[function(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}(d)])&&void 0!==o?o:0,c}function F(e,t){var n;return!!(null===(n=e.modifiers[t])||void 0===n?void 0:n.enabled)}var H={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function U(e,t){return!!Object(i.b)().isBs5&&H[t].includes(e)}function Y(e,t,n){e&&t&&Object.keys(t).forEach((function(i){var r,o="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&""!==(r=t[i])&&!isNaN(parseFloat(r))&&isFinite(Number(r))&&(o="px"),n?n.setStyle(e,i,"".concat(String(t[i])).concat(o)):e.style[i]=String(t[i])+o}))}function G(e){var t,n,i,r,o,a,s,c=e.offsets.target,l=e.instance.target.querySelector(".arrow");if(!l)return e;var u=-1!==["left","right"].indexOf(e.placement.split(" ")[0]),d=u?"height":"width",h=u?"Top":"Left",p=h.toLowerCase(),g=u?"left":"top",v=u?"bottom":"right",m=N(l)[d],b=e.placement.split(" ")[1];(null!==(n=e.offsets.host[v])&&void 0!==n?n:0)-m<(null!==(i=c[p])&&void 0!==i?i:0)&&(c[p]-=(null!==(r=c[p])&&void 0!==r?r:0)-((null!==(o=e.offsets.host[v])&&void 0!==o?o:0)-m)),Number(e.offsets.host[p])+Number(m)>(null!==(a=c[v])&&void 0!==a?a:0)&&(c[p]+=Number(e.offsets.host[p])+Number(m)-Number(c[v])),c=w(c);var y,_=f(e.instance.target),C=parseFloat(_["margin"+h])||0,k=parseFloat(_["border".concat(h,"Width")])||0;if(b){var S=parseFloat(_.borderRadius)||0,O=Number(C+k+S);y=p===b?Number(e.offsets.host[p])+O:Number(e.offsets.host[p])+Number(e.offsets.host[d]-O)}else y=Number(e.offsets.host[p])+Number(e.offsets.host[d]/2-m/2);var T=y-(null!==(s=c[p])&&void 0!==s?s:0)-C-k;return T=Math.max(Math.min(c[d]-(m+5),T),0),e.offsets.arrow=(_defineProperty2(t={},p,Math.round(T)),_defineProperty2(t,g,""),t),e.instance.arrow=l,e}function V(e){if(e.offsets.target=w(e.offsets.target),!F(e.options,"flip"))return e.offsets.target=Object.assign(Object.assign({},e.offsets.target),B(e.instance.target,e.offsets.host,e.placement)),e;var t=D(e.instance.target,e.instance.host,0,"viewport",!1),n=e.placement.split(" ")[0],i=e.placement.split(" ")[1]||"",r=L("auto",e.offsets.host,e.instance.target,e.instance.host,e.options.allowedPositions),o=[n,r];return o.forEach((function(r,a){var s,c,l,u,d,h,f,p,g,v,m,b,y,_,C,k;if(n===r&&o.length!==a+1){var S="left"===(n=e.placement.split(" ")[0])&&Math.floor(null!==(s=e.offsets.target.right)&&void 0!==s?s:0)>Math.floor(null!==(c=e.offsets.host.left)&&void 0!==c?c:0)||"right"===n&&Math.floor(null!==(l=e.offsets.target.left)&&void 0!==l?l:0)<Math.floor(null!==(u=e.offsets.host.right)&&void 0!==u?u:0)||"top"===n&&Math.floor(null!==(d=e.offsets.target.bottom)&&void 0!==d?d:0)>Math.floor(null!==(h=e.offsets.host.top)&&void 0!==h?h:0)||"bottom"===n&&Math.floor(null!==(f=e.offsets.target.top)&&void 0!==f?f:0)<Math.floor(null!==(p=e.offsets.host.bottom)&&void 0!==p?p:0),O=Math.floor(null!==(g=e.offsets.target.left)&&void 0!==g?g:0)<Math.floor(null!==(v=t.left)&&void 0!==v?v:0),T=Math.floor(null!==(m=e.offsets.target.right)&&void 0!==m?m:0)>Math.floor(null!==(b=t.right)&&void 0!==b?b:0),w=Math.floor(null!==(y=e.offsets.target.top)&&void 0!==y?y:0)<Math.floor(null!==(_=t.top)&&void 0!==_?_:0),A=Math.floor(null!==(C=e.offsets.target.bottom)&&void 0!==C?C:0)>Math.floor(null!==(k=t.bottom)&&void 0!==k?k:0),E="left"===n&&O||"right"===n&&T||"top"===n&&w||"bottom"===n&&A,P=-1!==["top","bottom"].indexOf(n),M=P&&"left"===i&&O||P&&"right"===i&&T||!P&&"left"===i&&w||!P&&"right"===i&&A;(S||E||M)&&((S||E)&&(n=o[a+1]),M&&(i=function(e){return"right"===e?"left":"left"===e?"right":e}(i)),e.placement=n+(i?" "+i:""),e.offsets.target=Object.assign(Object.assign({},e.offsets.target),B(e.instance.target,e.offsets.host,e.placement)))}})),e}function Z(e){var t;if(!F(e.options,"preventOverflow"))return e;var n=e.instance.target.style,i=n.top,r=n.left,o=n.transform;n.top="",n.left="",n.transform="";var a=D(e.instance.target,e.instance.host,0,(null===(t=e.options.modifiers.preventOverflow)||void 0===t?void 0:t.boundariesElement)||"scrollParent",!1);n.top=i,n.left=r,n.transform=o;var s={primary:function(t){var n,i,r,o,s=e.offsets.target[t];return(null!==(n=e.offsets.target[t])&&void 0!==n?n:0)<(null!==(i=a[t])&&void 0!==i?i:0)&&(s=Math.max(null!==(r=e.offsets.target[t])&&void 0!==r?r:0,null!==(o=a[t])&&void 0!==o?o:0)),_defineProperty2({},t,s)},secondary:function(t){var n,i,r,o,s,c,l,u,d="right"===t?"left":"top",h=e.offsets.target[d];return(null!==(n=e.offsets.target[t])&&void 0!==n?n:0)<(null!==(i=a[t])&&void 0!==i?i:0)&&"right"!==t&&(h=Math.min(null!==(r=e.offsets.target[d])&&void 0!==r?r:0,(null!==(o=a[t])&&void 0!==o?o:0)-e.offsets.target.height)),(null!==(s=e.offsets.target[t])&&void 0!==s?s:0)>(null!==(c=a[t])&&void 0!==c?c:0)&&"right"===t&&(h=Math.min(null!==(l=e.offsets.target[d])&&void 0!==l?l:0,(null!==(u=a[t])&&void 0!==u?u:0)-e.offsets.target.width)),_defineProperty2({},d,h)}};return["left","right","top","bottom"].forEach((function(t){var n=-1!==["left","top","start"].indexOf(t)?s.primary:s.secondary;e.offsets.target=Object.assign(Object.assign({},e.offsets.target),n(t))})),e}function W(e){var t,n=e.placement,i=n.split(" ")[0],r=n.split(" ")[1];if(r){var o=e.offsets,a=o.host,s=o.target,c=-1!==["bottom","top"].indexOf(i),l=c?"left":"top",u=c?"width":"height",d={start:_defineProperty2({},l,a[l]),end:_defineProperty2({},l,(null!==(t=a[l])&&void 0!==t?t:0)+a[u]-s[u])};e.offsets.target=Object.assign(Object.assign({},s),_defineProperty2({},l,l===r?d.start[l]:d.end[l]))}return e}var K=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"position",value:function(e,t){return this.offset(e,t)}},{key:"offset",value:function(e,t){return j(t,e)}},{key:"positionElements",value:function(e,t,n,i,r){var o=[V,W,Z,G],a=function(e,t,n,i){if(e&&t){var r=j(e,t);n.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)||n.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)||(n="auto");var o=!!n.match(/auto/g),a=n.match(/auto\s(left|right|top|bottom|start|end)/)?n.split(" ")[1]||"auto":n,s=a.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return s&&(a=s[1]+(s[2]?" "+s[2]:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(a)&&(a="auto"),{options:i||{modifiers:{}},instance:{target:e,host:t,arrow:void 0},offsets:{target:B(e,r,a=L(a,r,e,t,i?i.allowedPositions:void 0)),host:r,arrow:void 0},positionFixed:!1,placement:a,placementAuto:o}}}(t,e,d[n],r);if(a)return o.reduce((function(e,t){return t(e)}),a)}}]),e}()),z=function(){var e=function(){function e(t,n,r){var d=this;_classCallCheck(this,e),this.update$$=new a.a,this.positionElements=new Map,this.isDisabled=!1,Object(o.L)(r)&&t.runOutsideAngular((function(){d.triggerEvent$=Object(s.a)(Object(c.a)(window,"scroll",{passive:!0}),Object(c.a)(window,"resize",{passive:!0}),Object(l.a)(0,u.a),d.update$$),d.triggerEvent$.subscribe((function(){d.isDisabled||d.positionElements.forEach((function(e){!function(e,t,n,r,o,a){var s=K.positionElements(e,t,n,r,o);if(s){var c=function(e){var t,n,i,r;return{width:e.offsets.target.width,height:e.offsets.target.height,left:Math.floor(null!==(t=e.offsets.target.left)&&void 0!==t?t:0),top:Math.round(null!==(n=e.offsets.target.top)&&void 0!==n?n:0),bottom:Math.round(null!==(i=e.offsets.target.bottom)&&void 0!==i?i:0),right:Math.floor(null!==(r=e.offsets.target.right)&&void 0!==r?r:0)}}(s);Y(t,{"will-change":"transform",top:"0px",left:"0px",transform:"translate3d(".concat(c.left,"px, ").concat(c.top,"px, 0px)")},a),s.instance.arrow&&Y(s.instance.arrow,s.offsets.arrow,a),function(e,t){var n,r=e.instance.target,o=r.className,a=Object(i.b)().isBs5?h[e.placement]:e.placement;e.placementAuto&&(-1!==(o=(o=(o=(o=o.replace(/bs-popover-auto/g,"bs-popover-"+a)).replace(/ms-2|me-2|mb-2|mt-2/g,"")).replace(/bs-tooltip-auto/g,"bs-tooltip-"+a)).replace(/\sauto/g," "+a)).indexOf("popover")&&(o=o+" "+(n=a,Object(i.b)().isBs5?U(n,"end")?"ms-2":U(n,"start")?"me-2":U(n,"top")?"mb-2":U(n,"bottom")?"mt-2":"":"")),-1!==o.indexOf("popover")&&-1===o.indexOf("popover-auto")&&(o+=" popover-auto"),-1!==o.indexOf("tooltip")&&-1===o.indexOf("tooltip-auto")&&(o+=" tooltip-auto")),o=o.replace(/left|right|top|bottom|end|start/g,""+a.split(" ")[0]),t?t.setAttribute(r,"class",o):r.className=o}(s,a)}}(Q(e.target),Q(e.element),e.attachment,e.appendToBody,d.options,n.createRenderer(null,null))}))}))}))}return _createClass(e,[{key:"position",value:function(e){this.addPositionElement(e)}},{key:"disable",value:function(){this.isDisabled=!0}},{key:"enable",value:function(){this.isDisabled=!1}},{key:"addPositionElement",value:function(e){this.positionElements.set(Q(e.element),e)}},{key:"calcPosition",value:function(){this.update$$.next()}},{key:"deletePositionElement",value:function(e){this.positionElements.delete(Q(e))}},{key:"setOptions",value:function(e){this.options=e}},{key:"event$",get:function(){return this.triggerEvent$}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.dc(r.E),r.dc(r.J),r.dc(r.G))},e.\u0275prov=Object(r.Pb)({factory:function(){return new e(Object(r.dc)(r.E),Object(r.dc)(r.J),Object(r.dc)(r.G))},token:e,providedIn:"root"}),e}();function Q(e){return"string"==typeof e?document.querySelector(e):e instanceof r.n?e.nativeElement:null!=e?e:null}},XNiG:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var i=n("HDdC"),r=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),c=n("2QA8"),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).destination=e,i}return n}(r.a),u=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:c.a,value:function(){return new l(this)}},{key:"lift",value:function(e){var t=new d(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].next(e)}},{key:"error",value:function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new a.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.isStopped?(e.complete(),o.a.EMPTY):(this.observers.push(e),new s.a(this,e))}},{key:"asObservable",value:function(){var e=new i.a;return e.source=this,e}}]),n}(i.a);return e.create=function(e,t){return new d(e,t)},e}(),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).destination=e,r.source=i,r}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):o.a.EMPTY}}]),n}(u)},XYm9:function(e,t,n){var i=n("+K+b");e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},Xi7e:function(e,t,n){var i=n("KMkd"),r=n("adU4"),o=n("tMB7"),a=n("+6XX"),s=n("Z8oC");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},XoHu:function(e,t,n){"use strict";function i(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return i}))},XwP0:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("WSM3"),r=n("RbsG"),o=n("wd/R"),a=n("3E8+"),s=n("fXoL"),c=n("egL7"),l=n("tyNb"),u=n("kh7C"),d=n("+EmV"),h=function(){var e=function(){function e(t,n,i,r){_classCallCheck(this,e),this.gtmService=t,this.router=n,this.utilsSvc=i,this.util=r}return _createClass(e,[{key:"saveVui",value:function(e){var t=e.affiliations.find((function(e){return"VUI"===e.code}));t&&localStorage.setItem("vui",t.id)}},{key:"deleteVui",value:function(){localStorage.removeItem("vui")}},{key:"loginSuccess",value:function(e,t){var n,r,s,c,l,u,d,h,f,p,g,v,m,b,y=e.affiliations.find((function(e){return"VUI"===e.code})),_=e.affiliations.find((function(e){return i.i.includes(e.code)})),C=null===(n=null==e?void 0:e.affiliations)||void 0===n?void 0:n.find((function(e){return i.d.includes(e.code)})),k=null===(r=null==e?void 0:e.terms)||void 0===r?void 0:r.find((function(e){return"Loyalty"===e.type})),S=null===(s=null==e?void 0:e.affiliations)||void 0===s?void 0:s.find((function(e){return i.f.includes(e.code)})),O=null===(c=null==e?void 0:e.affiliations)||void 0===c?void 0:c.find((function(e){return i.a.includes(e.code)})),T=this.utilsSvc.isAffiliationValid(_),w=C&&!(null==k?void 0:k.promptTerms)&&(null==k?void 0:k.acceptanceDate),A=this.utilsSvc.isDotersAffiliationValid(e),E=null===(l=null==e?void 0:e.funds)||void 0===l?void 0:l.find((function(e){return"Doters"===(null==e?void 0:e.type)})),P=null===(u=null==e?void 0:e.funds)||void 0===u?void 0:u.find((function(e){return(null==e?void 0:e.type)===a.d.VivaCash})),M=this.utilsSvc.isAffiliationValid(S),x=this.utilsSvc.isAffiliationValid(O),D=this.triggerFlowBooking()?"booking":null;this.router.url.includes("check-in")?D="check_in":this.router.url.includes("manage")&&(D="manage_my_booking");var I={event:"ev_login",category:"profile",action:"login",label:"successful",vivafan_login:T?"Yes":"No",customer_type:this.getUserType(null==e?void 0:e.accountType),login:{status:"successful",method:e.socialLogin,flow:D,login_doters:A?"Yes":"No"},detail:{module:"login",component:"signin",section:["sideMenu"],element:t,action:"signIn",description:{status:"successful"},passenger_membership:w?T?"Doters | VivaFan":"Doters":T?"VivaFan":"Cobrand"},customer_programs:{vf_effective_date:_?o(null==_?void 0:_.startDate).format("DD/MM/YYYY"):"NA",vf_expiration_date:_?o(null==_?void 0:_.endDate).format("DD/MM/YYYY"):"NA",vf_plan_type:_&&(null===(d=null==_?void 0:_.id)||void 0===d?void 0:d.includes("_"))?Number(null===(h=null==_?void 0:_.id)||void 0===h?void 0:h.split("_")[1])>0?"viaja acompa\xf1ado":"viaja solo":"NA",vc_balance:(null==P?void 0:P.totalAmount)||"NA",vc_wallet:(null==P?void 0:P.totalAmount)?"Yes":"No",smile_and_fly:M?"Yes":"No",cobrand_card:x?(null==O?void 0:O.level)===i.b.Entry?"cobrand entry":"cobrand plus":"NA"},doters:{level:A?this.util.getDotersLevel(null==C?void 0:C.level):"NA",balance:A&&(null==E?void 0:E.totalAmount)>-1?null==E?void 0:E.totalAmount:"NA"},id:{v:null==y?void 0:y.id,n:e.customerNumber,u:e.username},user:{type:e.accountType},profile:{firstName:null===(p=null===(f=null==e?void 0:e.personalDetails)||void 0===f?void 0:f.name)||void 0===p?void 0:p.firstName,lastName:null===(v=null===(g=null==e?void 0:e.personalDetails)||void 0===g?void 0:g.name)||void 0===v?void 0:v.lastName,country:null===(b=null===(m=null==e?void 0:e.personalDetails)||void 0===m?void 0:m.residentCountry)||void 0===b?void 0:b.country}};this.gtmService.pushTag(I)}},{key:"getUserType",value:function(e){switch(e){case r.k.Agency:return"Agency";case r.k.Enterprise:return"Enterprise";default:return"User"}}},{key:"triggerFlowBooking",value:function(){var e=this;return["/passenger","seats","extras","review","confirmation"].some((function(t){return e.router.url.includes(t)}))}},{key:"loginFail",value:function(e,t){this.gtmService.pushTag({event:"ev_login",category:"profile",action:"login",label:"unsuccessful",login:{status:"unsuccessful",method:"NotLinked"},detail:{module:"login",component:"signin",section:["sideMenu"],element:t,action:"signIn",description:{status:"unsuccessful"}},message:[{type:"ERROR",code:e.name,message:e.message}]})}},{key:"loginIntent",value:function(){this.gtmService.pushTag({event:"ev_login",login:{status:"login_intent"}})}},{key:"logout",value:function(e){this.gtmService.pushTag({event:"ev_profile_logout",category:"profile",action:"logout",label:e,user:{type:"Anonymous"},id:{v:null,n:null,u:null}})}},{key:"signUpDoters",value:function(e){this.gtmService.pushTag({event:"ev_sign_up_doters",category:"Doters",action:"sign_up",label:e})}},{key:"loginSSOModal",value:function(e){this.gtmService.pushTag({event:"ev_profile_login_modal",action:e})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.dc(c.a),s.dc(l.g),s.dc(u.a),s.dc(d.a))},e.\u0275prov=s.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},XwRA:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("mrSG"),r=n("fXoL"),o=n("9Fhk"),a=n("oTAK"),s=n("ofXK");function c(e,t){if(1&e&&(r.Zb(0,"span"),r.Sc(1),r.Yb()),2&e){var n=r.jc(2);r.Hb(1),r.Uc(" ",n.textContent," ")}}function l(e,t){if(1&e&&r.Ub(0,"img",8),2&e){var n=r.jc(2);r.sc("src",n.avatarSrc,r.Kc)}}function u(e,t){if(1&e&&(r.Xb(0),r.Qc(1,c,2,1,"span",3),r.Qc(2,l,1,1,"img",7),r.Wb()),2&e){var n=r.jc();r.Hb(1),r.sc("ngIf",!n.avatarId),r.Hb(1),r.sc("ngIf",n.avatarId)}}function d(e,t){1&e&&r.Ub(0,"i",9)}var h=function(e,t,n,i,r,o,a,s){return{editable:e,"no-avatar-container":t,big:n,small:i,medium:r,large:o,"blue-border":a,"cursor-pointer":s}},f=function(e,t){return{"display-new":e,"no-avatar":t}},p=function(){var e=function(){function e(t){_classCallCheck(this,e),this.avatarSvc=t,this.displayNew=!1,this.interactive=!1,this.textContent="",this.border=!1,this.pointer=!1,this.size="normal",this.avatarClicked=new r.p,this.avatarSrc=o.a}return _createClass(e,[{key:"ngOnChanges",value:function(){this.avatarId&&this.setAvatarSrc()}},{key:"setAvatarSrc",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.avatarSvc.ready;case 2:t=this.avatarSvc.getAvatarSrc(this.avatarId),this.avatarSrc=t||o.a;case 4:case"end":return e.stop()}}),e,this)})))}},{key:"onAvatarClick",value:function(e){this.interactive&&(e.preventDefault(),e.stopPropagation(),this.avatarClicked.emit())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Tb(a.a))},e.\u0275cmp=r.Nb({type:e,selectors:[["app-avatar"]],inputs:{displayNew:"displayNew",interactive:"interactive",textContent:"textContent",border:"border",pointer:"pointer",avatarId:"avatarId",size:"size"},outputs:{avatarClicked:"avatarClicked"},features:[r.Fb],decls:7,vars:17,consts:[[1,"avatar-container","cursor-pointer",3,"ngClass","click"],[1,"inner-container",3,"ngClass"],[3,"ngClass"],[4,"ngIf"],["class","fas fa-user-plus",4,"ngIf"],[1,"edit-oval"],[1,"fas","fa-pencil"],["loading","lazy",3,"src",4,"ngIf"],["loading","lazy",3,"src"],[1,"fas","fa-user-plus"]],template:function(e,t){1&e&&(r.Zb(0,"button",0),r.hc("click",(function(e){return t.onAvatarClick(e)})),r.Zb(1,"div",1),r.Zb(2,"span",2),r.Qc(3,u,3,2,"ng-container",3),r.Qc(4,d,1,0,"i",4),r.Yb(),r.Yb(),r.Zb(5,"div",5),r.Ub(6,"i",6),r.Yb(),r.Yb()),2&e&&(r.sc("ngClass",r.Bc(5,h,t.interactive,!t.displayNew&&!t.avatarId,"big"===t.size,"small"===t.size,"medium"===t.size,"large"===t.size,t.border,t.pointer)),r.Hb(1),r.sc("ngClass",r.wc(14,f,t.displayNew,!t.displayNew&&!t.avatarId)),r.Hb(1),r.sc("ngClass","big"===t.size?"h3":"title"),r.Hb(1),r.sc("ngIf",!t.displayNew),r.Hb(1),r.sc("ngIf",t.displayNew))},directives:[s.r,s.u],styles:[".avatar-container[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;min-width:50px;min-height:50px;padding:0;border:none;font:inherit;color:inherit;border-radius:50%;background-color:transparent}.avatar-container[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;border-radius:50%;display:flex;align-items:center;justify-content:center}.avatar-container[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--wh1)}.avatar-container[_ngcontent-%COMP%]   .inner-container.no-avatar[_ngcontent-%COMP%]{background-color:var(--bg2)}.avatar-container[_ngcontent-%COMP%]   .inner-container.display-new[_ngcontent-%COMP%]{background-color:var(--bg6)}.avatar-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:50px;height:50px}.avatar-container.editable[_ngcontent-%COMP%]{cursor:pointer}.avatar-container.editable[_ngcontent-%COMP%]   .edit-oval[_ngcontent-%COMP%]{visibility:visible}.avatar-container.editable[_ngcontent-%COMP%]:hover   .edit-oval[_ngcontent-%COMP%]{background-color:var(--gr40)}.avatar-container.editable[_ngcontent-%COMP%]:hover   .edit-oval[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--wh1)}.avatar-container[_ngcontent-%COMP%]   .edit-oval[_ngcontent-%COMP%]{position:absolute;visibility:hidden;bottom:0;right:-5px;width:20px;height:20px;display:flex;align-items:center;justify-content:center;background-color:var(--gr15);border-radius:50%}.avatar-container[_ngcontent-%COMP%]   .edit-oval[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:7px;color:var(--bg4)}.avatar-container.blue-border[_ngcontent-%COMP%]{border:2px solid var(--b4)}.avatar-container.big[_ngcontent-%COMP%]{min-width:70px;min-height:70px}.avatar-container.big[_ngcontent-%COMP%], .avatar-container.big[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px}.avatar-container.big[_ngcontent-%COMP%]   .edit-oval[_ngcontent-%COMP%]{right:0;width:24px;height:24px;border:1px solid var(--gr40);border-radius:50%}.avatar-container.big[_ngcontent-%COMP%]   .edit-oval[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:8px}.avatar-container.large[_ngcontent-%COMP%]{width:30px;height:30px;min-width:30px;min-height:30px}.avatar-container.large[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px;height:36px}.avatar-container.large[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px!important}.avatar-container.medium[_ngcontent-%COMP%]{width:24px;height:24px;min-width:24px;min-height:24px;top:2px}.avatar-container.medium.no-avatar-container[_ngcontent-%COMP%]{top:0}.avatar-container.medium[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:28px}.avatar-container.medium[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px!important}.avatar-container.small[_ngcontent-%COMP%]{width:21px;height:21px;min-width:21px;min-height:21px;top:2px}.avatar-container.small.no-avatar-container[_ngcontent-%COMP%]{top:0}.avatar-container.small[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:21px;height:21px}.avatar-container.small[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px!important}"]}),e}()},"Xwq/":function(e,t,n){"use strict";var i=n("FWf1"),r=n("p//D"),o=n("GiSu");t.toSubscriber=function(e,t,n){if(e){if(e instanceof i.Subscriber)return e;if(e[r.rxSubscriber])return e[r.rxSubscriber]()}return e||t||n?new i.Subscriber(e,t,n):new i.Subscriber(o.empty)}},"Y/Zp":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i,r=n("wd/R"),o=n("RbsG"),a=n("3E8+"),s=n("d/Sv"),c=function(e){return e.oneway="oneway",e.roundtrip="roundtrip",e.open_jaw="open_jaw",e}({}),l=function(e){return e.cancellation="cancellation",e.travel="travel",e.bankruptcy="bankruptcy",e}({}),u=n("fXoL"),d=n("CPX7"),h=n("kh7C"),f=((i=function(){function e(t,n){_classCallCheck(this,e),this.basket=t,this.utilsSvc=n}return _createClass(e,[{key:"buildTripInfoAvailability",value:function(e,t,n){var i=this;if(!Array.isArray(e))return null;var o,a=[];switch(e.forEach((function(e){a.push({departure_apc:e.journey.origin.code,departure_time:r(e.journey.departureDate).format("YYYYMMDD"),arrival_apc:e.journey.origin.code,arrival_time:r(e.journey.arrivalDate).format("YYYYMMDD"),fare_class:e.selectedFare.fareType,carrier_code:i.getJourneyCarrierCode(e.journey)})})),n){case s.a.ONE_WAY:o=c.oneway;break;case s.a.ROUND_TRIP:o=c.roundtrip;break;default:o=c.open_jaw}return{order_amount:Math.floor(100*t),air_reservations:[{airline_name:this.getAirlineName(e.map((function(e){return e.journey}))),origin:e[0].journey.origin.code,destination:e[0].journey.destination.code,trip_type:o,itinerary:a,insurance:[]}]}}},{key:"buildTripInfo",value:function(e,t){var n,i,a=this,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=[];t.basketBooking.passengers.forEach((function(e,t){d.push({id:t,first_name:e.firstName,last_name:e.lastName,date_of_birth:r(e.dateOfBirth).format("MM/DD/YYYY")})}));var h,f=[];if(t.basketBooking.journeys.forEach((function(e){f.push({departure_apc:e.origin.code,departure_time:r(e.departureDate.scheduledUtc).format("YYYYMMDD"),arrival_apc:e.destination.code,arrival_time:r(e.arrivalDate.scheduledUtc).format("YYYYMMDD"),fare_class:a.utilsSvc.getFareFromBooking(t.basketBooking),carrier_code:a.getJourneyCarrierCode(e)})})),u){var p=t.basketBooking.contacts.find((function(e){return e.contactType===o.c.Primary}))||t.basketBooking.contacts[0];h={street_address:"",postal_code:"",city:"",email:(null==p?void 0:p.email)||"",first_name:(null==p?void 0:p.firstName)||"",last_name:(null==p?void 0:p.lastName)||"",phone:(null===(i=null===(n=p.phoneNumbers)||void 0===n?void 0:n.home)||void 0===i?void 0:i.slice(p.phoneNumbers.home.length-10))||"",region:"",country:t.basketBooking.passengers[0].nationality,date_of_birth:r(t.basketBooking.passengers[0].dateOfBirth).format("MM/DD/YYYY")}}var g,v=[],m=[];switch(t.basketBooking.services.services.forEach((function(e){e.options.forEach((function(t){"Insurance"!==e.category?v.push({id:t.ssrCode,name:e.name,price:Math.floor(100*t.price.amount)}):m.push({id:t.ssrCode,types:[l.travel],price:Math.floor(100*t.price.amount)})}))})),t.basketBooking.services.transportServices.forEach((function(e){e.pickupLocations.forEach((function(t){v.push({id:t.ssrCode,name:e.name,price:Math.floor(100*t.price.amount)})}))})),this.basket.getTripTypeFromBasket(t.basket)){case s.a.ONE_WAY:g=c.oneway;break;case s.a.ROUND_TRIP:g=c.roundtrip;break;default:g=c.open_jaw}return Object.assign({order_amount:Math.floor(100*e),travelers:d,air_reservations:[{airline_name:this.getAirlineName(t.basketBooking.journeys),origin:t.basketBooking.journeys[0].origin.code,destination:t.basketBooking.journeys[0].destination.code,trip_type:g,itinerary:f,insurance:m}],add_ons:v},h&&{billing_contact:h})}},{key:"mapTokenToAPIPayload",value:function(e,t){return{type:a.d.Uplift,cardPayload:{type:e.card_type,number:e.card_number,expiryDate:{month:e.expiration_month,year:e.expiration_year},cvv:e.card_ccv},cardHolderName:{first:e.contact.first_name,last:e.contact.last_name},cardHolderAddress:{street:e.contact.street_address,city:e.contact.city,postal:e.contact.postal_code,stateCode:e.contact.region,countryCode:e.contact.country},cardHolderContact:{email:e.contact.email,phoneNumber:e.contact.phone},paymentAmount:t}}},{key:"getJourneyCarrierCode",value:function(e){var t;if(!e||!Array.isArray(e.segments)||e.segments.length<1)return null;var n=e.segments;return n.every((function(e){return"VB"===e.operatingCarrier}))?"VB":(null===(t=n.find((function(e){return"VB"!==e.operatingCarrier})))||void 0===t?void 0:t.operatingCarrier)||null}},{key:"getAirlineName",value:function(e){var t=this;if(!Array.isArray(e)||e.length<1)return null;if(e.every((function(e){return"VB"===t.getJourneyCarrierCode(e)})))return"Viva Aerobus";var n=e.find((function(e){return"VB"!==t.getJourneyCarrierCode(e)}));return this.getJourneyCarrierCode(n)}},{key:"areAllAvailabilityJourneysValid",value:function(e,t){if(!Array.isArray(e)||e.length<1)return!1;var n=r().add(t,"hours");return e.every((function(e){return r(e.departureDate).isAfter(n,"minutes")}))}},{key:"areAllBookingJourneysValid",value:function(e,t){if(!Array.isArray(e)||e.length<1)return!1;var n=r().add(t,"hours");return e.every((function(e){return r(e.departureDate.scheduledUtc).isAfter(n,"minutes")}))}}]),e}()).\u0275fac=function(e){return new(e||i)(u.dc(d.a),u.dc(h.a))},i.\u0275prov=u.Pb({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},Y7HM:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("DH7j");function r(e){return!Object(i.a)(e)&&e-parseFloat(e)+1>=0}},YESw:function(e,t,n){var i=n("Cwc5")(Object,"create");e.exports=i},YO3V:function(e,t,n){var i=n("NykK"),r=n("LcsW"),o=n("ExA7"),a=Function.prototype.toString,s=Object.prototype.hasOwnProperty,c=a.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=i(e))return!1;var t=r(e);if(null===t)return!0;var n=s.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==c}},Ylt2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).subject=e,r.subscriber=i,r.closed=!1,r}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n("quSY").a)},Z0cm:function(e,t){e.exports=Array.isArray},Z8oC:function(e,t,n){var i=n("y1pI");e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},ZCkC:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("fXoL"),r=n("kh7C"),o=n("ofXK"),a=n("VXoX");function s(e,t){if(1&e&&(i.Zb(0,"li",10),i.Zb(1,"p",11),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Ub(4,"div",12),i.Yb()),2&e){var n=t.$implicit,r=t.index,o=i.jc().$implicit;i.Hb(2),i.Uc(" ",i.lc(3,2,n)," "),i.Hb(2),i.sc("ngClass",r===o.length-1?"separator":"")}}function c(e,t){if(1&e&&(i.Zb(0,"div",7),i.Zb(1,"ul",8),i.Qc(2,s,5,4,"li",9),i.Yb(),i.Yb()),2&e){var n=t.$implicit;i.Hb(2),i.sc("ngForOf",n)}}function l(e,t){if(1&e&&(i.Xb(0),i.Qc(1,c,3,1,"div",6),i.Wb()),2&e){var n=i.jc(2);i.Hb(1),i.sc("ngForOf",n.checklistMultidimension)}}function u(e,t){if(1&e&&(i.Zb(0,"li",15),i.Zb(1,"p",11),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Yb()),2&e){var n=t.$implicit;i.Hb(2),i.Uc(" ",i.lc(3,1,n)," ")}}function d(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"ul",13),i.Qc(2,u,4,3,"li",14),i.Yb(),i.Wb()),2&e){var n=i.jc(2);i.Hb(2),i.sc("ngForOf",n.unidimensionalChecklist)}}function h(e,t){if(1&e&&(i.Zb(0,"div",1),i.Qc(1,l,2,1,"ng-container",5),i.Qc(2,d,3,1,"ng-container",5),i.Yb()),2&e){var n=i.jc();i.Hb(1),i.sc("ngIf",!n.hasOneColumn),i.Hb(1),i.sc("ngIf",n.hasOneColumn)}}var f=function(){var e=function(){function e(t){_classCallCheck(this,e),this.utils=t,this.hasOneColumn=!1,this.checklist=[],this.checklistMultidimension=[]}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){this.checklist&&this.checklist!==e.checklist.previousValue&&(this.checklistMultidimension=this.utils.simpleArrayToMultidimensionalArray(this.checklist,Math.ceil(this.checklist.length/2)))}},{key:"unidimensionalChecklist",get:function(){return[].concat(_toConsumableArray2(this.checklistMultidimension[0]),_toConsumableArray2(this.checklistMultidimension[1]))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(r.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-flight-checklist"]],inputs:{hasOneColumn:"hasOneColumn",checklist:"checklist"},features:[i.Fb],decls:7,vars:4,consts:[[1,"flight-checklist"],[1,"row"],[1,"col-xl-12"],[1,"left-title"],["class","row",4,"ngIf"],[4,"ngIf"],["class","col-xl-5 col-sm-12",4,"ngFor","ngForOf"],[1,"col-xl-5","col-sm-12"],[1,"viva-ul-list","divider","my-0","my-lg-20"],["class","check-element",4,"ngFor","ngForOf"],[1,"check-element"],[1,"medium-title"],[3,"ngClass"],[1,"viva-ul-list","divider","my-0","my-lg-20","col-sm-12"],["class","check-element mx-2",4,"ngFor","ngForOf"],[1,"check-element","mx-2"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"h4",3),i.Sc(4),i.kc(5,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Qc(6,h,3,2,"div",4),i.Yb()),2&e&&(i.Hb(4),i.Uc(" ",i.lc(5,2,"HEADER_MANAGE_CHECKLIST-TITLE")," "),i.Hb(2),i.sc("ngIf",null==t.checklistMultidimension?null:t.checklistMultidimension.length))},directives:[o.u,o.t,o.r],pipes:[a.a],styles:[".flight-checklist[_ngcontent-%COMP%]   .left-title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:10px}@media only screen and (max-width:768px){.flight-checklist[_ngcontent-%COMP%]   .left-title[_ngcontent-%COMP%]{margin-bottom:0}}.flight-checklist[_ngcontent-%COMP%]   .check-element[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:36px 0}.flight-checklist[_ngcontent-%COMP%]   .check-element[_ngcontent-%COMP%]:after{bottom:-15px;background-color:var(--wh1);opacity:.6}.flight-checklist[_ngcontent-%COMP%]   .check-element[_ngcontent-%COMP%]:last-child   p[_ngcontent-%COMP%]{margin-bottom:14px}"]}),e}()},ZOAy:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ofXK"),r=n("b6Qw"),o=n("o5mt"),a=n("h3XU"),s=n("fXoL"),c=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=s.Rb({type:e}),e.\u0275inj=s.Qb({factory:function(t){return new(t||e)},providers:[r.a],imports:[[i.c,o.a,a.a]]}),e}()},ZOsW:function(e,t,n){"use strict";n.d(t,"a",(function(){return xe})),n.d(t,"b",(function(){return Le})),n.d(t,"c",(function(){return ce})),n.d(t,"d",(function(){return le})),n.d(t,"e",(function(){return ue})),n.d(t,"f",(function(){return de})),n.d(t,"g",(function(){return he})),n.d(t,"h",(function(){return fe})),n.d(t,"i",(function(){return pe})),n.d(t,"j",(function(){return ge})),n.d(t,"k",(function(){return ve})),n.d(t,"l",(function(){return me})),n.d(t,"m",(function(){return be})),n.d(t,"n",(function(){return Ee}));var i=n("fXoL"),r=n("3Pt+"),o=n("1G5W"),a=n("3UWI"),s=n("JX91"),c=n("vkgz"),l=n("Kj3r"),u=n("pLZG"),d=n("lJxs"),h=n("eNwd"),f=n("7Hc7"),p=n("XNiG"),g=n("xgIS"),v=n("VRyK"),m=n("ofXK"),b=["content"],y=["scroll"],_=["padding"],C=function(e){return{searchTerm:e}};function k(e,t){if(1&e&&(i.Zb(0,"div",6),i.Vb(1,7),i.Yb()),2&e){var n=i.jc();i.Hb(1),i.sc("ngTemplateOutlet",n.headerTemplate)("ngTemplateOutletContext",i.vc(2,C,n.filterValue))}}function S(e,t){if(1&e&&(i.Zb(0,"div",8),i.Vb(1,7),i.Yb()),2&e){var n=i.jc();i.Hb(1),i.sc("ngTemplateOutlet",n.footerTemplate)("ngTemplateOutletContext",i.vc(2,C,n.filterValue))}}var O=["*"],T=["searchInput"];function w(e,t){if(1&e){var n=i.ac();i.Zb(0,"span",15),i.hc("click",(function(){i.Hc(n);var e=i.jc().$implicit;return i.jc(2).unselect(e)})),i.Sc(1,"\xd7"),i.Yb(),i.Ub(2,"span",16)}if(2&e){var r=i.jc().$implicit,o=i.jc(2);i.Hb(2),i.sc("ngItemLabel",r.label)("escape",o.escapeHTML)}}function A(e,t){}var E=function(e,t,n){return{item:e,clear:t,label:n}};function P(e,t){if(1&e&&(i.Zb(0,"div",12),i.Qc(1,w,3,2,"ng-template",null,13,i.Rc),i.Qc(3,A,0,0,"ng-template",14),i.Yb()),2&e){var n=t.$implicit,r=i.Ec(2),o=i.jc(2);i.Lb("ng-value-disabled",n.disabled),i.Hb(3),i.sc("ngTemplateOutlet",o.labelTemplate||r)("ngTemplateOutletContext",i.xc(4,E,n.value,o.clearItem,n.label))}}function M(e,t){if(1&e&&(i.Xb(0),i.Qc(1,P,4,8,"div",11),i.Wb()),2&e){var n=i.jc();i.Hb(1),i.sc("ngForOf",n.selectedItems)("ngForTrackBy",n.trackByOption)}}function x(e,t){}var D=function(e,t){return{items:e,clear:t}};function I(e,t){if(1&e&&i.Qc(0,x,0,0,"ng-template",14),2&e){var n=i.jc();i.sc("ngTemplateOutlet",n.multiLabelTemplate)("ngTemplateOutletContext",i.wc(2,D,n.selectedValues,n.clearItem))}}function L(e,t){1&e&&i.Ub(0,"div",19)}function R(e,t){}function N(e,t){if(1&e&&(i.Xb(0),i.Qc(1,L,1,0,"ng-template",null,17,i.Rc),i.Qc(3,R,0,0,"ng-template",18),i.Wb()),2&e){var n=i.Ec(2),r=i.jc();i.Hb(3),i.sc("ngTemplateOutlet",r.loadingSpinnerTemplate||n)}}function j(e,t){if(1&e&&(i.Zb(0,"span",20),i.Zb(1,"span",21),i.Sc(2,"\xd7"),i.Yb(),i.Yb()),2&e){var n=i.jc();i.tc("title",n.clearAllText)}}function B(e,t){if(1&e&&i.Ub(0,"span",27),2&e){var n=i.jc().$implicit,r=i.jc(2);i.sc("ngItemLabel",n.label)("escape",r.escapeHTML)}}function F(e,t){}var H=function(e,t,n,i){return{item:e,item$:t,index:n,searchTerm:i}};function U(e,t){if(1&e){var n=i.ac();i.Zb(0,"div",25),i.hc("click",(function(){i.Hc(n);var e=t.$implicit;return i.jc(2).toggleItem(e)}))("mouseover",(function(){i.Hc(n);var e=t.$implicit;return i.jc(2).onItemHover(e)})),i.Qc(1,B,1,2,"ng-template",null,26,i.Rc),i.Qc(3,F,0,0,"ng-template",14),i.Yb()}if(2&e){var r=t.$implicit,o=i.Ec(2),a=i.jc(2);i.Lb("ng-option-disabled",r.disabled)("ng-option-selected",r.selected)("ng-optgroup",r.children)("ng-option",!r.children)("ng-option-child",!!r.parent)("ng-option-marked",r===a.itemsList.markedItem),i.Ib("role",r.children?"group":"option")("aria-selected",r.selected)("id",null==r?null:r.htmlId),i.Hb(3),i.sc("ngTemplateOutlet",r.children?a.optgroupTemplate||o:a.optionTemplate||o)("ngTemplateOutletContext",i.yc(17,H,r.value,r,r.index,a.searchTerm))}}function Y(e,t){if(1&e&&(i.Zb(0,"span"),i.Zb(1,"span",30),i.Sc(2),i.Yb(),i.Sc(3),i.Yb()),2&e){var n=i.jc(3);i.Hb(2),i.Tc(n.addTagText),i.Hb(1),i.Uc('"',n.searchTerm,'"')}}function G(e,t){}function V(e,t){if(1&e){var n=i.ac();i.Zb(0,"div",28),i.hc("mouseover",(function(){return i.Hc(n),i.jc(2).itemsList.unmarkItem()}))("click",(function(){return i.Hc(n),i.jc(2).selectTag()})),i.Qc(1,Y,4,2,"ng-template",null,29,i.Rc),i.Qc(3,G,0,0,"ng-template",14),i.Yb()}if(2&e){var r=i.Ec(2),o=i.jc(2);i.Lb("ng-option-marked",!o.itemsList.markedItem),i.Hb(3),i.sc("ngTemplateOutlet",o.tagTemplate||r)("ngTemplateOutletContext",i.vc(4,C,o.searchTerm))}}function Z(e,t){if(1&e&&(i.Zb(0,"div",32),i.Sc(1),i.Yb()),2&e){var n=i.jc(3);i.Hb(1),i.Tc(n.notFoundText)}}function W(e,t){}function K(e,t){if(1&e&&(i.Xb(0),i.Qc(1,Z,2,1,"ng-template",null,31,i.Rc),i.Qc(3,W,0,0,"ng-template",14),i.Wb()),2&e){var n=i.Ec(2),r=i.jc(2);i.Hb(3),i.sc("ngTemplateOutlet",r.notFoundTemplate||n)("ngTemplateOutletContext",i.vc(2,C,r.searchTerm))}}function z(e,t){if(1&e&&(i.Zb(0,"div",32),i.Sc(1),i.Yb()),2&e){var n=i.jc(3);i.Hb(1),i.Tc(n.typeToSearchText)}}function Q(e,t){}function X(e,t){if(1&e&&(i.Xb(0),i.Qc(1,z,2,1,"ng-template",null,33,i.Rc),i.Qc(3,Q,0,0,"ng-template",18),i.Wb()),2&e){var n=i.Ec(2),r=i.jc(2);i.Hb(3),i.sc("ngTemplateOutlet",r.typeToSearchTemplate||n)}}function q(e,t){if(1&e&&(i.Zb(0,"div",32),i.Sc(1),i.Yb()),2&e){var n=i.jc(3);i.Hb(1),i.Tc(n.loadingText)}}function $(e,t){}function J(e,t){if(1&e&&(i.Xb(0),i.Qc(1,q,2,1,"ng-template",null,34,i.Rc),i.Qc(3,$,0,0,"ng-template",14),i.Wb()),2&e){var n=i.Ec(2),r=i.jc(2);i.Hb(3),i.sc("ngTemplateOutlet",r.loadingTextTemplate||n)("ngTemplateOutletContext",i.vc(2,C,r.searchTerm))}}function ee(e,t){if(1&e){var n=i.ac();i.Zb(0,"ng-dropdown-panel",22),i.hc("update",(function(e){return i.Hc(n),i.jc().viewPortItems=e}))("scroll",(function(e){return i.Hc(n),i.jc().scroll.emit(e)}))("scrollToEnd",(function(e){return i.Hc(n),i.jc().scrollToEnd.emit(e)}))("outsideClick",(function(){return i.Hc(n),i.jc().close()})),i.Xb(1),i.Qc(2,U,4,22,"div",23),i.Qc(3,V,4,6,"div",24),i.Wb(),i.Qc(4,K,4,4,"ng-container",3),i.Qc(5,X,4,1,"ng-container",3),i.Qc(6,J,4,4,"ng-container",3),i.Yb()}if(2&e){var r=i.jc();i.Lb("ng-select-multiple",r.multiple),i.sc("virtualScroll",r.virtualScroll)("bufferAmount",r.bufferAmount)("appendTo",r.appendTo)("position",r.dropdownPosition)("headerTemplate",r.headerTemplate)("footerTemplate",r.footerTemplate)("filterValue",r.searchTerm)("items",r.itemsList.filteredItems)("markedItem",r.itemsList.markedItem)("ngClass",r.appendTo?r.classes:null)("id",r.dropdownId),i.Hb(2),i.sc("ngForOf",r.viewPortItems)("ngForTrackBy",r.trackByOption),i.Hb(1),i.sc("ngIf",r.showAddTag),i.Hb(1),i.sc("ngIf",r.showNoItemsFound()),i.Hb(1),i.sc("ngIf",r.showTypeToSearch()),i.Hb(1),i.sc("ngIf",r.loading&&0===r.itemsList.filteredItems.length)}}var te=/[&<>"']/g,ne=RegExp(te.source),ie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function re(e){return null!=e}function oe(e){return"object"==typeof e&&re(e)}function ae(e){return e instanceof Function}var se=function(){var e=function(){function e(t){_classCallCheck(this,e),this.element=t,this.escape=!0}return _createClass(e,[{key:"ngOnChanges",value:function(e){var t;this.element.nativeElement.innerHTML=this.escape?(t=this.ngItemLabel)&&ne.test(t)?t.replace(te,(function(e){return ie[e]})):t:this.ngItemLabel}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.n))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngItemLabel",""]],inputs:{escape:"escape",ngItemLabel:"ngItemLabel"},features:[i.Fb]}),e}(),ce=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-option-tmp",""]]}),e}(),le=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-optgroup-tmp",""]]}),e}(),ue=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-label-tmp",""]]}),e}(),de=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-multi-label-tmp",""]]}),e}(),he=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-header-tmp",""]]}),e}(),fe=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-footer-tmp",""]]}),e}(),pe=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-notfound-tmp",""]]}),e}(),ge=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-typetosearch-tmp",""]]}),e}(),ve=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-loadingtext-tmp",""]]}),e}(),me=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-tag-tmp",""]]}),e}(),be=function(){var e=function e(t){_classCallCheck(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-loadingspinner-tmp",""]]}),e}(),ye=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Pb)({factory:function(){return new e},token:e,providedIn:"root"}),e}();function _e(){return"axxxxxxxxxxx".replace(/[x]/g,(function(e){return(16*Math.random()|0).toString(16)}))}var Ce={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};function ke(e){return e.replace(/[^\u0000-\u007E]/g,(function(e){return Ce[e]||e}))}var Se=function(){function e(t,n){_classCallCheck(this,e),this._ngSelect=t,this._selectionModel=n,this._items=[],this._filteredItems=[],this._markedIndex=-1}return _createClass(e,[{key:"setItems",value:function(e){var t=this;this._items=e.map((function(e,n){return t.mapItem(e,n)})),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=_toConsumableArray2(this._items)}},{key:"select",value:function(e){if(!e.selected&&!this.maxItemsSelected){var t=this._ngSelect.multiple;t||this.clearSelected(),this._selectionModel.select(e,t,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(e)}}},{key:"unselect",value:function(e){e.selected&&(this._selectionModel.unselect(e,this._ngSelect.multiple),this._ngSelect.hideSelected&&re(e.index)&&this._ngSelect.multiple&&this._showSelected(e))}},{key:"findItem",value:function(e){var t,n=this;return t=this._ngSelect.compareWith?function(t){return n._ngSelect.compareWith(t.value,e)}:this._ngSelect.bindValue?function(t){return!t.children&&n.resolveNested(t.value,n._ngSelect.bindValue)===e}:function(t){return t.value===e||!t.children&&t.label&&t.label===n.resolveNested(e,n._ngSelect.bindLabel)},this._items.find((function(e){return t(e)}))}},{key:"addItem",value:function(e){var t=this.mapItem(e,this._items.length);return this._items.push(t),this._filteredItems.push(t),t}},{key:"clearSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._selectionModel.clear(e),this._items.forEach((function(t){t.selected=e&&t.selected&&t.disabled,t.marked=!1})),this._ngSelect.hideSelected&&this.resetFilteredItems()}},{key:"findByLabel",value:function(e){return e=ke(e).toLocaleLowerCase(),this.filteredItems.find((function(t){return ke(t.label).toLocaleLowerCase().substr(0,e.length)===e}))}},{key:"filter",value:function(e){var t=this;if(e){this._filteredItems=[],e=this._ngSelect.searchFn?e:ke(e).toLocaleLowerCase();for(var n=this._ngSelect.searchFn||this._defaultSearchFn,i=this._ngSelect.hideSelected,r=0,o=Array.from(this._groups.keys());r<o.length;r++){var a,s=o[r],c=[],l=_createForOfIteratorHelper(this._groups.get(s));try{for(l.s();!(a=l.n()).done;){var u=a.value;i&&(u.parent&&u.parent.selected||u.selected)||n(e,this._ngSelect.searchFn?u.value:u)&&c.push(u)}}catch(d){l.e(d)}finally{l.f()}c.length>0&&function(){var e,n=_slicedToArray(c.slice(-1),1)[0];if(n.parent){var i=t._items.find((function(e){return e===n.parent}));t._filteredItems.push(i)}(e=t._filteredItems).push.apply(e,c)}()}}else this.resetFilteredItems()}},{key:"resetFilteredItems",value:function(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter((function(e){return!e.selected})):this._items)}},{key:"unmarkItem",value:function(){this._markedIndex=-1}},{key:"markNextItem",value:function(){this._stepToItem(1)}},{key:"markPreviousItem",value:function(){this._stepToItem(-1)}},{key:"markItem",value:function(e){this._markedIndex=this._filteredItems.indexOf(e)}},{key:"markSelectedOrDefault",value:function(e){if(0!==this._filteredItems.length){var t=this._getLastMarkedIndex();this._markedIndex=t>-1?t:e?this.filteredItems.findIndex((function(e){return!e.disabled})):-1}}},{key:"resolveNested",value:function(e,t){if(!oe(e))return e;if(-1===t.indexOf("."))return e[t];for(var n=t.split("."),i=e,r=0,o=n.length;r<o;++r){if(null==i)return null;i=i[n[r]]}return i}},{key:"mapItem",value:function(e,t){var n=re(e.$ngOptionLabel)?e.$ngOptionLabel:this.resolveNested(e,this._ngSelect.bindLabel),i=re(e.$ngOptionValue)?e.$ngOptionValue:e;return{index:t,label:re(n)?n.toString():"",value:i,disabled:e.disabled,htmlId:"".concat(this._ngSelect.dropdownId,"-").concat(t)}}},{key:"mapSelectedItems",value:function(){var e,t=this,n=this._ngSelect.multiple,i=_createForOfIteratorHelper(this.selectedItems);try{for(i.s();!(e=i.n()).done;){var r=e.value,o=this._ngSelect.bindValue?this.resolveNested(r.value,this._ngSelect.bindValue):r.value,a=re(o)?this.findItem(o):null;this._selectionModel.unselect(r,n),this._selectionModel.select(a||r,n,this._ngSelect.selectableGroupAsModel)}}catch(s){i.e(s)}finally{i.f()}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter((function(e){return-1===t.selectedItems.indexOf(e)})))}},{key:"_showSelected",value:function(e){if(this._filteredItems.push(e),e.parent){var t=e.parent;this._filteredItems.find((function(e){return e===t}))||this._filteredItems.push(t)}else if(e.children){var n,i=_createForOfIteratorHelper(e.children);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.selected=!1,this._filteredItems.push(r)}}catch(o){i.e(o)}finally{i.f()}}this._filteredItems=_toConsumableArray2(this._filteredItems.sort((function(e,t){return e.index-t.index})))}},{key:"_hideSelected",value:function(e){this._filteredItems=this._filteredItems.filter((function(t){return t!==e})),e.parent?e.parent.children.every((function(e){return e.selected}))&&(this._filteredItems=this._filteredItems.filter((function(t){return t!==e.parent}))):e.children&&(this._filteredItems=this.filteredItems.filter((function(t){return t.parent!==e})))}},{key:"_defaultSearchFn",value:function(e,t){return ke(t.label).toLocaleLowerCase().indexOf(e)>-1}},{key:"_getNextItemIndex",value:function(e){return e>0?this._markedIndex===this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}},{key:"_stepToItem",value:function(e){0===this._filteredItems.length||this._filteredItems.every((function(e){return e.disabled}))||(this._markedIndex=this._getNextItemIndex(e),this.markedItem.disabled&&this._stepToItem(e))}},{key:"_getLastMarkedIndex",value:function(){if(this._ngSelect.hideSelected)return-1;if(this._markedIndex>-1&&void 0===this.markedItem)return-1;var e=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&e<0?-1:Math.max(this.markedIndex,e)}},{key:"_groupBy",value:function(e,t){var n=this,i=new Map;if(0===e.length)return i;if(Array.isArray(e[0].value[t])){var r,o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=(a.value[t]||[]).map((function(e,t){return n.mapItem(e,t)}));i.set(a,s)}}catch(g){o.e(g)}finally{o.f()}return i}var c,l=ae(this._ngSelect.groupBy),u=function(e){var n=l?t(e.value):e.value[t];return re(n)?n:void 0},d=_createForOfIteratorHelper(e);try{for(d.s();!(c=d.n()).done;){var h=c.value,f=u(h),p=i.get(f);p?p.push(h):i.set(f,[h])}}catch(g){d.e(g)}finally{d.f()}return i}},{key:"_flatten",value:function(e){for(var t=this,n=ae(this._ngSelect.groupBy),i=[],r=function(){var r=a[o],s=i.length;if(void 0===r){var c=e.get(void 0)||[];return i.push.apply(i,_toConsumableArray2(c.map((function(e){return Object.assign(Object.assign({},e),{index:s++})})))),"continue"}var l=oe(r),u={label:l?"":String(r),children:void 0,parent:null,index:s++,disabled:!t._ngSelect.selectableGroup,htmlId:_e()},d=n?t._ngSelect.bindLabel:t._ngSelect.groupBy,h=t._ngSelect.groupValue||function(){return l?r.value:_defineProperty2({},d,r)},f=e.get(r).map((function(e){return e.parent=u,e.children=void 0,e.index=s++,e}));u.children=f,u.value=h(r,f.map((function(e){return e.value}))),i.push(u),i.push.apply(i,_toConsumableArray2(f))},o=0,a=Array.from(e.keys());o<a.length;o++)r();return i}},{key:"items",get:function(){return this._items}},{key:"filteredItems",get:function(){return this._filteredItems}},{key:"markedIndex",get:function(){return this._markedIndex}},{key:"selectedItems",get:function(){return this._selectionModel.value}},{key:"markedItem",get:function(){return this._filteredItems[this._markedIndex]}},{key:"noItemsToSelect",get:function(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}},{key:"maxItemsSelected",get:function(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}},{key:"lastSelectedItem",get:function(){for(var e=this.selectedItems.length-1;e>=0;e--){var t=this.selectedItems[e];if(!t.disabled)return t}return null}}]),e}(),Oe=function(){var e={Tab:9,Enter:13,Esc:27,Space:32,ArrowUp:38,ArrowDown:40,Backspace:8};return e[e.Tab]="Tab",e[e.Enter]="Enter",e[e.Esc]="Esc",e[e.Space]="Space",e[e.ArrowUp]="ArrowUp",e[e.ArrowDown]="ArrowDown",e[e.Backspace]="Backspace",e}(),Te=function(){var e=function(){function e(){_classCallCheck(this,e),this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}return _createClass(e,[{key:"calculateItems",value:function(e,t,n){var i=this._dimensions,r=i.itemHeight*t,o=Math.max(0,e)/r*t,a=Math.min(t,Math.ceil(o)+(i.itemsPerViewport+1)),s=Math.max(0,a-i.itemsPerViewport),c=Math.min(s,Math.floor(o)),l=i.itemHeight*Math.ceil(c)-i.itemHeight*Math.min(c,n);return l=isNaN(l)?0:l,c=isNaN(c)?-1:c,a=isNaN(a)?-1:a,c-=n,a+=n,{topPadding:l,scrollHeight:r,start:c=Math.max(0,c),end:a=Math.min(t,a)}}},{key:"setDimensions",value:function(e,t){var n=Math.max(1,Math.floor(t/e));this._dimensions={itemHeight:e,panelHeight:t,itemsPerViewport:n}}},{key:"getScrollTo",value:function(e,t,n){var i=this.dimensions.panelHeight,r=e+t,o=n+i;return i>=r&&n===e?null:r>o?n+r-o:e<=n?e:null}},{key:"dimensions",get:function(){return this._dimensions}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e}(),we="undefined"!=typeof requestAnimationFrame?h.a:f.a,Ae=function(){var e=function(){function e(t,n,r,o,a){_classCallCheck(this,e),this._renderer=t,this._zone=n,this._panelService=r,this._document=a,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new i.p,this.scroll=new i.p,this.scrollToEnd=new i.p,this.outsideClick=new i.p,this._destroy$=new p.a,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=o.nativeElement}return _createClass(e,[{key:"handleMousedown",value:function(e){"INPUT"!==e.target.tagName&&e.preventDefault()}},{key:"ngOnInit",value:function(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown()}},{key:"ngOnChanges",value:function(e){if(e.items){var t=e.items;this._onItemsChange(t.currentValue,t.firstChange)}}},{key:"ngOnDestroy",value:function(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}},{key:"scrollTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=this.items.indexOf(e);if(!(n<0||n>=this.itemsLength)){var i;if(this.virtualScroll){var r=this._panelService.dimensions.itemHeight;i=this._panelService.getScrollTo(n*r,r,this._lastScrollPosition)}else{var o=this._dropdown.querySelector("#"+e.htmlId);i=this._panelService.getScrollTo(o.offsetTop,o.clientHeight,t?o.offsetTop:this._lastScrollPosition)}re(i)&&(this._scrollablePanel.scrollTop=i)}}}},{key:"scrollToTag",value:function(){var e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}},{key:"adjustPosition",value:function(){var e=this._parent.getBoundingClientRect(),t=this._select.getBoundingClientRect();this._setOffset(e,t)}},{key:"_handleDropdownPosition",value:function(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),"top"===this._currentPosition?(this._renderer.addClass(this._dropdown,"ng-select-top"),this._renderer.removeClass(this._dropdown,"ng-select-bottom"),this._renderer.addClass(this._select,"ng-select-top"),this._renderer.removeClass(this._select,"ng-select-bottom")):(this._renderer.addClass(this._dropdown,"ng-select-bottom"),this._renderer.removeClass(this._dropdown,"ng-select-top"),this._renderer.addClass(this._select,"ng-select-bottom"),this._renderer.removeClass(this._select,"ng-select-top")),this.appendTo&&this._updatePosition(),this._dropdown.style.opacity="1"}},{key:"_handleScroll",value:function(){var e=this;this._zone.runOutsideAngular((function(){Object(g.a)(e.scrollElementRef.nativeElement,"scroll").pipe(Object(o.a)(e._destroy$),Object(a.a)(0,we)).subscribe((function(t){return e._onContentScrolled(t.target.scrollTop)}))}))}},{key:"_handleOutsideClick",value:function(){var e=this;this._document&&this._zone.runOutsideAngular((function(){Object(v.a)(Object(g.a)(e._document,"touchstart",{capture:!0}),Object(g.a)(e._document,"mousedown",{capture:!0})).pipe(Object(o.a)(e._destroy$)).subscribe((function(t){return e._checkToClose(t)}))}))}},{key:"_checkToClose",value:function(e){var t=this;if(!this._select.contains(e.target)&&!this._dropdown.contains(e.target)){var n=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&n&&n[0]&&this._select.contains(n[0])||this._zone.run((function(){return t.outsideClick.emit()}))}}},{key:"_onItemsChange",value:function(e,t){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(t):this._updateItems(t)}},{key:"_updateItems",value:function(e){var t=this;this.update.emit(this.items),!1!==e&&this._zone.runOutsideAngular((function(){Promise.resolve().then((function(){t._panelService.setDimensions(0,t._scrollablePanel.clientHeight),t._handleDropdownPosition(),t.scrollTo(t.markedItem,e)}))}))}},{key:"_updateItemsRange",value:function(e){var t=this;this._zone.runOutsideAngular((function(){t._measureDimensions().then((function(){e?(t._renderItemsRange(t._startOffset),t._handleDropdownPosition()):t._renderItemsRange()}))}))}},{key:"_onContentScrolled",value:function(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}},{key:"_updateVirtualHeight",value:function(e){this._updateScrollHeight&&(this._virtualPadding.style.height=e+"px",this._updateScrollHeight=!1)}},{key:"_onItemsLengthChanged",value:function(){this._updateScrollHeight=!0}},{key:"_renderItemsRange",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!t||this._lastScrollPosition!==t){var n=this._panelService.calculateItems(t=t||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(n.scrollHeight),this._contentPanel.style.transform="translateY(".concat(n.topPadding,"px)"),this._zone.run((function(){e.update.emit(e.items.slice(n.start,n.end)),e.scroll.emit({start:n.start,end:n.end})})),re(t)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=t,this._lastScrollPosition=t)}}},{key:"_measureDimensions",value:function(){var e=this;if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);var t=_slicedToArray(this.items,1)[0];return this.update.emit([t]),Promise.resolve().then((function(){var n=e._dropdown.querySelector("#"+t.htmlId).clientHeight;return e._virtualPadding.style.height=n*e.itemsLength+"px",e._panelService.setDimensions(n,e._scrollablePanel.clientHeight),e._panelService.dimensions}))}},{key:"_fireScrollToEnd",value:function(e){var t=this;this._scrollToEndFired||0===e||e+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight&&(this._zone.run((function(){return t.scrollToEnd.emit()})),this._scrollToEndFired=!0)}},{key:"_calculateCurrentPosition",value:function(e){if("auto"!==this.position)return this.position;var t=this._select.getBoundingClientRect(),n=document.documentElement.scrollTop||document.body.scrollTop;return t.top+window.pageYOffset+t.height+e.getBoundingClientRect().height>n+document.documentElement.clientHeight?"top":"bottom"}},{key:"_appendDropdown",value:function(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error("appendTo selector ".concat(this.appendTo," did not found any parent element"));this._parent.appendChild(this._dropdown)}}},{key:"_updatePosition",value:function(){var e=this._select.getBoundingClientRect(),t=this._parent.getBoundingClientRect(),n=e.left-t.left;this._setOffset(t,e),this._dropdown.style.left=n+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}},{key:"_setOffset",value:function(e,t){var n=t.height;"top"===this._currentPosition?(this._dropdown.style.bottom=e.bottom-t.bottom+n+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=t.top-e.top+n+"px",this._dropdown.style.bottom="auto")}},{key:"currentPosition",get:function(){return this._currentPosition}},{key:"itemsLength",get:function(){return this._itemsLength},set:function(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}},{key:"_startOffset",get:function(){if(this.markedItem){var e=this._panelService.dimensions,t=e.itemHeight,n=e.panelHeight,i=this.markedItem.index*t;return n>i?0:i}return 0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.I),i.Tb(i.E),i.Tb(Te),i.Tb(i.n),i.Tb(m.e,8))},e.\u0275cmp=i.Nb({type:e,selectors:[["ng-dropdown-panel"]],viewQuery:function(e,t){var n;1&e&&(i.Nc(b,!0,i.n),i.Nc(y,!0,i.n),i.Nc(_,!0,i.n)),2&e&&(i.Dc(n=i.ic())&&(t.contentElementRef=n.first),i.Dc(n=i.ic())&&(t.scrollElementRef=n.first),i.Dc(n=i.ic())&&(t.paddingElementRef=n.first))},hostBindings:function(e,t){1&e&&i.hc("mousedown",(function(e){return t.handleMousedown(e)}))},inputs:{items:"items",position:"position",virtualScroll:"virtualScroll",filterValue:"filterValue",markedItem:"markedItem",appendTo:"appendTo",bufferAmount:"bufferAmount",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[i.Fb],ngContentSelectors:O,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(e,t){1&e&&(i.rc(),i.Qc(0,k,2,4,"div",0),i.Zb(1,"div",1,2),i.Ub(3,"div",null,3),i.Zb(5,"div",null,4),i.qc(7),i.Yb(),i.Yb(),i.Qc(8,S,2,4,"div",5)),2&e&&(i.sc("ngIf",t.headerTemplate),i.Hb(3),i.Lb("total-padding",t.virtualScroll),i.Hb(2),i.Lb("scrollable-content",t.virtualScroll&&t.items.length),i.Hb(3),i.sc("ngIf",t.footerTemplate))},directives:[m.u,m.B],encapsulation:2,changeDetection:0}),e}(),Ee=function(){var e=function(){function e(t){_classCallCheck(this,e),this.elementRef=t,this.stateChange$=new p.a,this._disabled=!1}return _createClass(e,[{key:"ngOnChanges",value:function(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}},{key:"ngAfterViewChecked",value:function(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}},{key:"ngOnDestroy",value:function(){this.stateChange$.complete()}},{key:"_isDisabled",value:function(e){return null!=e&&""+e!="false"}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=this._isDisabled(e)}},{key:"label",get:function(){return(this.elementRef.nativeElement.textContent||"").trim()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.n))},e.\u0275cmp=i.Nb({type:e,selectors:[["ng-option"]],inputs:{disabled:"disabled",value:"value"},features:[i.Fb],ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(i.rc(),i.qc(0))},encapsulation:2,changeDetection:0}),e}(),Pe=function(){var e=function e(){_classCallCheck(this,e),this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Pb)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Me=new i.t("ng-select-selection-model"),xe=function(){var e=function(){function e(t,n,r,o,a,s,c){var l=this;_classCallCheck(this,e),this.classes=t,this.autoFocus=n,this._cd=s,this._console=c,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=function(e){return!0},this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new i.p,this.focusEvent=new i.p,this.changeEvent=new i.p,this.openEvent=new i.p,this.closeEvent=new i.p,this.searchEvent=new i.p,this.clearEvent=new i.p,this.addEvent=new i.p,this.removeEvent=new i.p,this.scroll=new i.p,this.scrollToEnd=new i.p,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=_e(),this.escapeHTML=!0,this.useDefaultClass=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new p.a,this._keyPress$=new p.a,this._onChange=function(e){},this._onTouched=function(){},this.clearItem=function(e){var t=l.selectedItems.find((function(t){return t.value===e}));l.unselect(t)},this.trackByOption=function(e,t){return l.trackByFn?l.trackByFn(t.value):t},this._mergeGlobalConfig(r),this.itemsList=new Se(this,o()),this.element=a.nativeElement}return _createClass(e,[{key:"ngOnInit",value:function(){this._handleKeyPresses(),this._setInputAttributes()}},{key:"ngOnChanges",value:function(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=re(e.isOpen.currentValue))}},{key:"ngAfterViewInit",value:function(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),re(this.autoFocus)&&this.focus()}},{key:"ngOnDestroy",value:function(){this._destroy$.next(),this._destroy$.complete()}},{key:"handleKeyDown",value:function(e){if(Oe[e.which]){if(!1===this.keyDownFn(e))return;this.handleKeyCode(e)}else e.key&&1===e.key.length&&this._keyPress$.next(e.key.toLocaleLowerCase())}},{key:"handleKeyCode",value:function(e){switch(e.which){case Oe.ArrowDown:this._handleArrowDown(e);break;case Oe.ArrowUp:this._handleArrowUp(e);break;case Oe.Space:this._handleSpace(e);break;case Oe.Enter:this._handleEnter(e);break;case Oe.Tab:this._handleTab(e);break;case Oe.Esc:this.close(),e.preventDefault();break;case Oe.Backspace:this._handleBackspace()}}},{key:"handleMousedown",value:function(e){var t=e.target;"INPUT"!==t.tagName&&e.preventDefault(),t.classList.contains("ng-clear-wrapper")?this.handleClearClick():t.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():t.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}},{key:"handleArrowClick",value:function(){this.isOpen?this.close():this.open()}},{key:"handleClearClick",value:function(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}},{key:"clearModel",value:function(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}},{key:"writeValue",value:function(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this._disabled=e,this._cd.markForCheck()}},{key:"toggle",value:function(){this.isOpen?this.close():this.open()}},{key:"open",value:function(){this.disabled||this.isOpen||this.itemsList.maxItemsSelected||this._manualOpen||(this._isTypeahead||this.addTag||!this.itemsList.noItemsToSelect)&&(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}},{key:"close",value:function(){this.isOpen&&!this._manualOpen&&(this.isOpen=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}},{key:"toggleItem",value:function(e){!e||e.disabled||this.disabled||(this.multiple&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}},{key:"select",value:function(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}},{key:"focus",value:function(){this.searchInput.nativeElement.focus()}},{key:"blur",value:function(){this.searchInput.nativeElement.blur()}},{key:"unselect",value:function(e){e&&(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e))}},{key:"selectTag",value:function(){var e,t=this;e=ae(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:_defineProperty2({},this.bindLabel,this.searchTerm);var n=function(e){return t._isTypeahead||!t.isOpen?t.itemsList.mapItem(e,null):t.itemsList.addItem(e)};e instanceof Promise?e.then((function(e){return t.select(n(e))})).catch((function(){})):e&&this.select(n(e))}},{key:"showClear",value:function(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}},{key:"showNoItemsFound",value:function(){var e=0===this.itemsList.filteredItems.length;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}},{key:"showTypeToSearch",value:function(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}},{key:"onCompositionStart",value:function(){this._isComposing=!0}},{key:"onCompositionEnd",value:function(e){this._isComposing=!1,this.searchWhileComposing||this.filter(e)}},{key:"filter",value:function(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map((function(e){return e.value}))}),this.open())}},{key:"onInputFocus",value:function(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}},{key:"onInputBlur",value:function(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),this.isOpen||this.disabled||this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}},{key:"onItemHover",value:function(e){e.disabled||this.itemsList.markItem(e)}},{key:"detectChanges",value:function(){this._cd.destroyed||this._cd.detectChanges()}},{key:"_setSearchTermFromItems",value:function(){var e=this.selectedItems&&this.selectedItems[0];this.searchTerm=e&&e.label||null}},{key:"_setItems",value:function(e){var t=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=re(t)?!oe(t):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&re(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}},{key:"_setItemsFromNgOptions",value:function(){var e=this;this.ngOptions.changes.pipe(Object(s.a)(this.ngOptions),Object(o.a)(this._destroy$)).subscribe((function(t){var n;e.bindLabel=e._defaultLabel,function(t){e.items=t.map((function(e){return{$ngOptionValue:e.value,$ngOptionLabel:e.elementRef.nativeElement.innerHTML,disabled:e.disabled}})),e.itemsList.setItems(e.items),e.hasValue&&e.itemsList.mapSelectedItems(),e.detectChanges()}(t),n=Object(v.a)(e.ngOptions.changes,e._destroy$),Object(v.a).apply(void 0,_toConsumableArray2(e.ngOptions.map((function(e){return e.stateChange$})))).pipe(Object(o.a)(n)).subscribe((function(t){var n=e.itemsList.findItem(t.value);n.disabled=t.disabled,n.label=t.label||n.label,e._cd.detectChanges()}))}))}},{key:"_isValidWriteValue",value:function(e){var t=this;if(!re(e)||this.multiple&&""===e||Array.isArray(e)&&0===e.length)return!1;var n=function(e){return!(!re(t.compareWith)&&oe(e)&&t.bindValue&&(t._console.warn("Setting object(".concat(JSON.stringify(e),") as your model with bindValue is not allowed unless [compareWith] is used.")),1))};return this.multiple?Array.isArray(e)?e.every((function(e){return n(e)})):(this._console.warn("Multiple select ngModel should be array."),!1):n(e)}},{key:"_handleWriteValue",value:function(e){var t=this;if(this._isValidWriteValue(e)){var n=function(e){var n=t.itemsList.findItem(e);if(n)t.itemsList.select(n);else{var i,r=oe(e),o=!r&&!t.bindValue;r||o?t.itemsList.select(t.itemsList.mapItem(e,null)):t.bindValue&&(_defineProperty2(i={},t.bindLabel,null),_defineProperty2(i,t.bindValue,e),n=i,t.itemsList.select(t.itemsList.mapItem(n,null)))}};this.multiple?e.forEach((function(e){return n(e)})):n(e)}}},{key:"_handleKeyPresses",value:function(){var e=this;this.searchable||this._keyPress$.pipe(Object(o.a)(this._destroy$),Object(c.a)((function(t){return e._pressedKeys.push(t)})),Object(l.a)(200),Object(u.a)((function(){return e._pressedKeys.length>0})),Object(d.a)((function(){return e._pressedKeys.join("")}))).subscribe((function(t){var n=e.itemsList.findByLabel(t);n&&(e.isOpen?(e.itemsList.markItem(n),e._cd.markForCheck()):e.select(n)),e._pressedKeys=[]}))}},{key:"_setInputAttributes",value:function(){for(var e=this.searchInput.nativeElement,t=Object.assign({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs),n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];e.setAttribute(r,t[r])}}},{key:"_updateNgModel",value:function(){var e,t=[],n=_createForOfIteratorHelper(this.selectedItems);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(this.bindValue){var r;r=i.children?i.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(i.value,this.bindValue),t.push(r)}else t.push(i.value)}}catch(a){n.e(a)}finally{n.f()}var o=this.selectedItems.map((function(e){return e.value}));this.multiple?(this._onChange(t),this.changeEvent.emit(o)):(this._onChange(re(t[0])?t[0]:null),this.changeEvent.emit(o[0])),this._cd.markForCheck()}},{key:"_clearSearch",value:function(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}},{key:"_changeSearch",value:function(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}},{key:"_scrollToMarked",value:function(){this.isOpen&&this.dropdownPanel&&this.dropdownPanel.scrollTo(this.itemsList.markedItem)}},{key:"_scrollToTag",value:function(){this.isOpen&&this.dropdownPanel&&this.dropdownPanel.scrollToTag()}},{key:"_onSelectionChanged",value:function(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}},{key:"_handleTab",value:function(e){(!1!==this.isOpen||this.addTag)&&(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close())}},{key:"_handleEnter",value:function(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}e.preventDefault()}},{key:"_handleSpace",value:function(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}},{key:"_handleArrowDown",value:function(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}},{key:"_handleArrowUp",value:function(e){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}},{key:"_nextItemIsTag",value:function(e){var t=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(t<0||t===this.itemsList.filteredItems.length)}},{key:"_handleBackspace",value:function(){!this.searchTerm&&this.clearable&&this.clearOnBackspace&&this.hasValue&&(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}},{key:"_mergeGlobalConfig",value:function(e){this.placeholder=this.placeholder||e.placeholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=re(this.virtualScroll)?this.virtualScroll:!!re(e.disableVirtualScroll)&&!e.disableVirtualScroll,this.openOnEnter=re(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.appearance=this.appearance||e.appearance}},{key:"items",get:function(){return this._items},set:function(e){this._itemsAreUsed=!0,this._items=e}},{key:"compareWith",get:function(){return this._compareWith},set:function(e){if(!ae(e))throw Error("`compareWith` must be a function.");this._compareWith=e}},{key:"clearSearchOnAdd",get:function(){return re(this._clearSearchOnAdd)?this._clearSearchOnAdd:this.closeOnSelect},set:function(e){this._clearSearchOnAdd=e}},{key:"disabled",get:function(){return this.readonly||this._disabled}},{key:"filtered",get:function(){return!!this.searchTerm&&this.searchable||this._isComposing}},{key:"_editableSearchTerm",get:function(){return this.editableSearchTerm&&!this.multiple}},{key:"selectedItems",get:function(){return this.itemsList.selectedItems}},{key:"selectedValues",get:function(){return this.selectedItems.map((function(e){return e.value}))}},{key:"hasValue",get:function(){return this.selectedItems.length>0}},{key:"currentPanelPosition",get:function(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}},{key:"showAddTag",get:function(){if(!this._validTerm)return!1;var e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some((function(t){return t.label.toLowerCase()===e}))&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some((function(t){return t.label.toLowerCase()===e})))&&!this.loading}},{key:"_isTypeahead",get:function(){return this.typeahead&&this.typeahead.observers.length>0}},{key:"_validTerm",get:function(){var e=this.searchTerm&&this.searchTerm.trim();return e&&e.length>=this.minTermLength}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.ec("class"),i.ec("autofocus"),i.Tb(Pe),i.Tb(Me),i.Tb(i.n),i.Tb(i.i),i.Tb(ye))},e.\u0275cmp=i.Nb({type:e,selectors:[["ng-select"]],contentQueries:function(e,t,n){var r;1&e&&(i.Mb(n,ce,!0,i.P),i.Mb(n,le,!0,i.P),i.Mb(n,ue,!0,i.P),i.Mb(n,de,!0,i.P),i.Mb(n,he,!0,i.P),i.Mb(n,fe,!0,i.P),i.Mb(n,pe,!0,i.P),i.Mb(n,ge,!0,i.P),i.Mb(n,ve,!0,i.P),i.Mb(n,me,!0,i.P),i.Mb(n,be,!0,i.P),i.Mb(n,Ee,!0)),2&e&&(i.Dc(r=i.ic())&&(t.optionTemplate=r.first),i.Dc(r=i.ic())&&(t.optgroupTemplate=r.first),i.Dc(r=i.ic())&&(t.labelTemplate=r.first),i.Dc(r=i.ic())&&(t.multiLabelTemplate=r.first),i.Dc(r=i.ic())&&(t.headerTemplate=r.first),i.Dc(r=i.ic())&&(t.footerTemplate=r.first),i.Dc(r=i.ic())&&(t.notFoundTemplate=r.first),i.Dc(r=i.ic())&&(t.typeToSearchTemplate=r.first),i.Dc(r=i.ic())&&(t.loadingTextTemplate=r.first),i.Dc(r=i.ic())&&(t.tagTemplate=r.first),i.Dc(r=i.ic())&&(t.loadingSpinnerTemplate=r.first),i.Dc(r=i.ic())&&(t.ngOptions=r))},viewQuery:function(e,t){var n;1&e&&(i.Yc(Ae,!0),i.Nc(T,!0)),2&e&&(i.Dc(n=i.ic())&&(t.dropdownPanel=n.first),i.Dc(n=i.ic())&&(t.searchInput=n.first))},hostAttrs:["role","listbox"],hostVars:20,hostBindings:function(e,t){1&e&&i.hc("keydown",(function(e){return t.handleKeyDown(e)})),2&e&&i.Lb("ng-select",t.useDefaultClass)("ng-select-single",!t.multiple)("ng-select-multiple",t.multiple)("ng-select-taggable",t.addTag)("ng-select-searchable",t.searchable)("ng-select-clearable",t.clearable)("ng-select-opened",t.isOpen)("ng-select-disabled",t.disabled)("ng-select-filtered",t.filtered)("ng-select-typeahead",t.typeahead)},inputs:{markFirst:"markFirst",dropdownPosition:"dropdownPosition",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",bufferAmount:"bufferAmount",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",bindLabel:"bindLabel",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",virtualScroll:"virtualScroll",openOnEnter:"openOnEnter",appendTo:"appendTo",bindValue:"bindValue",appearance:"appearance",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",tabIndex:"tabIndex",typeahead:"typeahead"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[i.Gb([{provide:r.s,useExisting:Object(i.Y)((function(){return e})),multi:!0},Te]),i.Fb],decls:14,vars:18,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],[1,"ng-input"],["role","combobox",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],[1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(e,t){if(1&e){var n=i.ac();i.Zb(0,"div",0),i.hc("mousedown",(function(e){return t.handleMousedown(e)})),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Sc(3),i.Yb(),i.Qc(4,M,2,2,"ng-container",3),i.Qc(5,I,1,5,void 0,3),i.Zb(6,"div",4),i.Zb(7,"input",5,6),i.hc("input",(function(){i.Hc(n);var e=i.Ec(8);return t.filter(e.value)}))("compositionstart",(function(){return t.onCompositionStart()}))("compositionend",(function(){i.Hc(n);var e=i.Ec(8);return t.onCompositionEnd(e.value)}))("focus",(function(e){return t.onInputFocus(e)}))("blur",(function(e){return t.onInputBlur(e)}))("change",(function(e){return e.stopPropagation()})),i.Yb(),i.Yb(),i.Yb(),i.Qc(9,N,4,1,"ng-container",3),i.Qc(10,j,3,1,"span",7),i.Zb(11,"span",8),i.Ub(12,"span",9),i.Yb(),i.Yb(),i.Qc(13,ee,7,19,"ng-dropdown-panel",10)}2&e&&(i.Lb("ng-appearance-outline","outline"===t.appearance)("ng-has-value",t.hasValue),i.Hb(3),i.Tc(t.placeholder),i.Hb(1),i.sc("ngIf",!t.multiLabelTemplate&&t.selectedItems.length>0),i.Hb(1),i.sc("ngIf",t.multiLabelTemplate&&t.selectedValues.length>0),i.Hb(2),i.sc("readOnly",!t.searchable||t.itemsList.maxItemsSelected)("disabled",t.disabled)("value",t.searchTerm?t.searchTerm:""),i.Ib("id",t.labelForId)("tabindex",t.tabIndex)("aria-expanded",t.isOpen)("aria-owns",t.isOpen?t.dropdownId:null)("aria-activedescendant",t.isOpen?null==t.itemsList||null==t.itemsList.markedItem?null:t.itemsList.markedItem.htmlId:null),i.Hb(2),i.sc("ngIf",t.loading),i.Hb(1),i.sc("ngIf",t.showClear()),i.Hb(3),i.sc("ngIf",t.isOpen))},directives:[m.u,m.t,m.B,se,Ae,m.r],styles:[".ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:0;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute;z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);-webkit-animation:.8s linear infinite load8;animation:.8s linear infinite load8}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes load8{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}"],encapsulation:2,changeDetection:0}),e}(),De=function(){function e(){_classCallCheck(this,e),this._selected=[]}return _createClass(e,[{key:"select",value:function(e,t,n){if(e.selected=!0,(!e.children||!t&&n)&&this._selected.push(e),t)if(e.parent){var i=e.parent.children.length,r=e.parent.children.filter((function(e){return e.selected})).length;e.parent.selected=i===r}else e.children&&(this._setChildrenSelectedState(e.children,!0),this._removeChildren(e),this._selected=n&&this._activeChildren(e)?[].concat(_toConsumableArray2(this._selected.filter((function(t){return t.parent!==e}))),[e]):[].concat(_toConsumableArray2(this._selected),_toConsumableArray2(e.children.filter((function(e){return!e.disabled})))))}},{key:"unselect",value:function(e,t){if(this._selected=this._selected.filter((function(t){return t!==e})),e.selected=!1,t)if(e.parent&&e.parent.selected){var n,i=e.parent.children;this._removeParent(e.parent),this._removeChildren(e.parent),(n=this._selected).push.apply(n,_toConsumableArray2(i.filter((function(t){return t!==e&&!t.disabled})))),e.parent.selected=!1}else e.children&&(this._setChildrenSelectedState(e.children,!1),this._removeChildren(e))}},{key:"clear",value:function(e){this._selected=e?this._selected.filter((function(e){return e.disabled})):[]}},{key:"_setChildrenSelectedState",value:function(e,t){var n,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.disabled||(r.selected=t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_removeChildren",value:function(e){this._selected=[].concat(_toConsumableArray2(this._selected.filter((function(t){return t.parent!==e}))),_toConsumableArray2(e.children.filter((function(t){return t.parent===e&&t.disabled&&t.selected}))))}},{key:"_removeParent",value:function(e){this._selected=this._selected.filter((function(t){return t!==e}))}},{key:"_activeChildren",value:function(e){return e.children.every((function(e){return!e.disabled||e.selected}))}},{key:"value",get:function(){return this._selected}}]),e}(),Ie=function(){return new De},Le=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},providers:[{provide:Me,useValue:Ie}],imports:[[m.c]]}),e}()},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("51Dv"),r=n("SeVD"),o=n("HDdC");function a(e,t,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new i.a(e,n,a);if(!s.closed)return t instanceof o.a?t.subscribe(s):Object(r.a)(t)(s)}},Zy1z:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("7o/Q");function r(){return function(e){return e.lift(new o)}}var o=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).hasPrev=!1,i}return _createClass(n,[{key:"_next",value:function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}]),n}(i.a)},aQpe:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("tyNb"),r=n("quSY"),o=n("pLZG"),a=n("lJxs"),s=n("fXoL"),c=n("TUgU"),l=n("ngAm"),u=n("deb4"),d=function(){var e=function(){function e(t,n,i,o,a){_classCallCheck(this,e),this.router=t,this.route=n,this.cmsTranslation=i,this.seoService=o,this.datalayerHome=a,this.titleSuffix="",this.isRunning=!1,this.routerNavigationSub=r.a.EMPTY,this.getDefaultTitleFromCMS()}return _createClass(e,[{key:"start",value:function(){this.isRunning||(this.startRouterNavigationHandler(),this.isRunning=!0)}},{key:"stop",value:function(){this.isRunning&&(this.routerNavigationSub.closed||this.routerNavigationSub.unsubscribe(),this.isRunning=!1)}},{key:"getDefaultTitleFromCMS",value:function(){if(!this.titleSuffix){var t;t=this.cmsTranslation.getEntry(e.TITLE_SUFFIX_CMS_ID),this.titleSuffix=t!==e.TITLE_SUFFIX_CMS_ID?t:e.FALLBACK_APP_TITLE}}},{key:"startRouterNavigationHandler",value:function(){var e=this;this.routerNavigationSub=this.router.events.pipe(Object(o.a)((function(e){return e instanceof i.c})),Object(a.a)((function(){for(var t,n,i=e.route.firstChild;i.firstChild;)i=i.firstChild;var r=!0===i.snapshot.data.manualPageView,o=!0===i.snapshot.data.hideTitleSuffix;if(i.snapshot.data.title){var a;if((a=e.cmsTranslation.getEntry(i.snapshot.data.title))!==i.snapshot.data.title)return{title:e.formatTitle(a,!o),url:e.router.url,manualPageView:r}}else if(null===(n=null===(t=i.snapshot.data.page)||void 0===t?void 0:t.fields)||void 0===n?void 0:n.title)return{title:e.formatTitle(i.snapshot.data.page.fields.title,!1),url:e.router.url,manualPageView:!1};return{title:e.formatTitle(""),url:e.router.url,manualPageView:r}}))).subscribe((function(t){e.seoService.setTitle(t.title),t.manualPageView||e.datalayerHome.pageViewEvent(t.title,t.url)}))}},{key:"formatTitle",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?t?"".concat(e," | ").concat(this.titleSuffix):e:this.titleSuffix}}]),e}();return e.FALLBACK_APP_TITLE="Viva Aerobus",e.TITLE_SUFFIX_CMS_ID="TITLE_APP_SUFFIX",e.\u0275fac=function(t){return new(t||e)(s.dc(i.g),s.dc(i.a),s.dc(c.a),s.dc(l.a),s.dc(u.a))},e.\u0275prov=s.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},aSQu:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a}));var i=function(e){return e.BEST_MATCH="BEST_MATCH",e.DEPARTURE_TIME="DEPARTURE_TIME",e.ARRIVAL_TIME="ARRIVAL_TIME",e.LOWEST_PRICE="LOWEST_PRICE",e.TRIP_DURATION="TRIP_DURATION",e.AVAILABILITY="AVAILABILITY",e.ORIGIN_AIRPORT="ORIGIN_AIRPORT",e}({}),r=function(e){return e.DIRECT_TRIP="DIRECT_TRIP",e.SPECIAL_OFFERS="SPECIAL_OFFERS",e.MORNING_FLIGHTS="MORNING_FLIGHTS",e.AFTERNOON_FLIGHTS="AFTERNOON_FLIGHTS",e.SAME_ROUTE="SAME_ROUTE",e}({}),o=[[r.SPECIAL_OFFERS],[r.DIRECT_TRIP],[r.MORNING_FLIGHTS,r.AFTERNOON_FLIGHTS],[r.SAME_ROUTE]],a={direct:r.DIRECT_TRIP,promo:r.SPECIAL_OFFERS,morning:r.MORNING_FLIGHTS,afternoon:r.AFTERNOON_FLIGHTS,"same-route":r.SAME_ROUTE}},adU4:function(e,t,n){var i=n("y1pI"),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0||(n==t.length-1?t.pop():r.call(t,n,1),--this.size,0))}},b2z7:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},b3gp:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function e(){_classCallCheck(this,e),this.adults=0,this.kids=0,this.babies=0},r=function(e){return e.ADULTS="adults",e.KIDS="kids",e.BABIES="babies",e}({})},b6Qw:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("ofXK"),o=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.document=t,this.platformId=n,this.documentIsAccessible=Object(r.L)(this.platformId)}return _createClass(e,[{key:"check",value:function(e){return!!this.documentIsAccessible&&(e=encodeURIComponent(e),this.getCookieRegExp(e).test(this.document.cookie))}},{key:"get",value:function(e){if(this.documentIsAccessible&&this.check(e)){e=encodeURIComponent(e);var t=this.getCookieRegExp(e).exec(this.document.cookie);return this.safeDecodeURIComponent(t[1])}return""}},{key:"getAll",value:function(){var e=this;if(!this.documentIsAccessible)return{};var t={},n=this.document;return n.cookie&&""!==n.cookie&&n.cookie.split(";").forEach((function(n){var i=_slicedToArray(n.split("="),2),r=i[0],o=i[1];t[e.safeDecodeURIComponent(r.replace(/^ /,""))]=e.safeDecodeURIComponent(o)})),t}},{key:"set",value:function(e,t,n,i,r,o,a){if(this.documentIsAccessible)if("number"==typeof n||n instanceof Date||i||r||o||a)this.set(e,t,{expires:n,path:i,domain:r,secure:o,sameSite:a||"Lax"});else{var s=encodeURIComponent(e)+"="+encodeURIComponent(t)+";",c=n||{};c.expires&&(s+="number"==typeof c.expires?"expires="+new Date((new Date).getTime()+1e3*c.expires*60*60*24).toUTCString()+";":"expires="+c.expires.toUTCString()+";"),c.path&&(s+="path="+c.path+";"),c.domain&&(s+="domain="+c.domain+";"),!1===c.secure&&"None"===c.sameSite&&(c.secure=!0,console.warn("[ngx-cookie-service] Cookie ".concat(e," was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130"))),c.secure&&(s+="secure;"),c.sameSite||(c.sameSite="Lax"),s+="sameSite="+c.sameSite+";",this.document.cookie=s}}},{key:"delete",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Lax";if(this.documentIsAccessible){var o=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(e,"",{expires:o,path:t,domain:n,secure:i,sameSite:r})}}},{key:"deleteAll",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Lax";if(this.documentIsAccessible){var r=this.getAll();for(var o in r)r.hasOwnProperty(o)&&this.delete(o,e,t,n,i)}}},{key:"getCookieRegExp",value:function(e){var t=e.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+t+"|;\\s*"+t+")=(.*?)(?:;|$)","g")}},{key:"safeDecodeURIComponent",value:function(e){try{return decodeURIComponent(e)}catch(t){return e}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(r.e),i.dc(i.G))},e.\u0275prov=Object(i.Pb)({factory:function(){return new e(Object(i.dc)(r.e),Object(i.dc)(i.G))},token:e,providedIn:"root"}),e}()},b80T:function(e,t,n){var i=n("UNi/"),r=n("03A+"),o=n("Z0cm"),a=n("DSRE"),s=n("wJg7"),c=n("c6wG"),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&r(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&c(e),f=n||u||d||h,p=f?i(e.length,String):[],g=p.length;for(var v in e)!t&&!l.call(e,v)||f&&("length"==v||d&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}},b8LB:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ofXK"),r=n("fXoL"),o=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Rb({type:e}),e.\u0275inj=r.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e}()},bEA1:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var i=n("9yTC");n("NDEZ");var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(i.a),o=function e(){_classCallCheck(this,e)},a=function(e){return e.EarlyMorningDeparture="EarlyMorningDeparture",e.NextDayDeparture="NextDayDeparture",e.NextDayArrival="NextDayArrival",e.MultipleCarriers="MultipleCarriers",e}({}),s=function(e){return e.CapacityLeft="CapacityLeft",e}({}),c=function(e){return e.Change="Change",e.Reaccomm="Reaccomm",e.FlyAhead="FlyAhead",e.FlyAheadCDMX="FlyAheadCDMX",e}({})},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("5+tZ"),r=n("SpAZ");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(i.a)(r.a,e)}},bJP1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"validateDay",value:function(t,n){return function(i){if(Number.isInteger(i.value)&&((null==n?void 0:n.min)||(null==n?void 0:n.max))){var r=t.getRawValue(),o=r.month,a=r.year,s=i.value;if(Number.isInteger(o)&&Number.isInteger(a)){if(n.min){var c=n.min;if(e.elementsToString(a,o,s)<e.elementsToString(c.year,c.month,c.day))return{minDate:!0}}if(n.max){var l=n.max;if(e.elementsToString(a,o,s)>e.elementsToString(l.year,l.month,l.day))return{maxDate:!0}}}}return null}}},{key:"validateMonth",value:function(t,n){return function(i){if(Number.isInteger(i.value)&&((null==n?void 0:n.min)||(null==n?void 0:n.max))){var r=t.getRawValue().year,o=i.value;if(Number.isInteger(r)){if(n.min){var a=n.min;if(e.elementsToString(r,o)<e.elementsToString(a.year,a.month))return{minDate:!0}}if(n.max){var s=n.max;if(e.elementsToString(r,o)>e.elementsToString(s.year,s.month))return{maxDate:!0}}}}return null}}},{key:"validateYear",value:function(e){return function(t){if(Number.isInteger(t.value)&&((null==e?void 0:e.min)||(null==e?void 0:e.max))){if(e.min){var n=e.min.year;if(t.value<n)return{minDate:!0}}if(e.max){var i=e.max.year;if(t.value>i)return{maxDate:!0}}}return null}}}]),e}();return e.elementsToString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.toString(10).padStart(4,"0")+t.toString(10).padStart(2,"0")+n.toString(10).padStart(2,"0")},e}()},bOdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("5+tZ");function r(e,t){return Object(i.a)(e,t,1)}},bSk5:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ofXK"),r=n("fXoL"),o=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Rb({type:e}),e.\u0275inj=r.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e}()},c2HN:function(e,t,n){"use strict";function i(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return i}))},c6wG:function(e,t,n){var i=n("dD9F"),r=n("sEf8"),o=n("mdPL"),a=o&&o.isTypedArray,s=a?r(a):i;e.exports=s},cPaJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e.ORIGIN="origin",e.DESTINATION="destination",e}({})},cbbM:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e.ENABLED="enabled",e.DISABLED="disabled",e.SOLD_OUT="sold-out",e}({})},ckWZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("fXoL"),r=n("ofXK"),o=n("PqYM"),a=n("JK/P"),s=function(e,t,n,i){return{"overlay-open":e,"overlay-close":t,expiration:n,"show-first":i}};function c(e,t){if(1&e&&i.Ub(0,"div",3),2&e){var n=i.jc();i.sc("ngClass",i.yc(1,s,n.isOpen,n.closeAnimation&&n.isOpen,"expiration-modal"===n.id,n.showFirst))}}var l=function(e,t,n,i,r){return{"modal-container-open":e,"no-full-height":t,"modal-container-close":n,expiration:i,"show-first":r}},u=function(e,t,n){return{"mini-modal":e,"md-h-auto":t,"align-items-end":n}},d=["*"],h=function(){var e=function(){function e(t,n,r,o){_classCallCheck(this,e),this.document=t,this.renderer=n,this.modalSvc=r,this.el=o,this.showFirst=!1,this.dismissable=!0,this.noAnimation=!1,this.noFullHeight=!1,this.responsiveFullHeight=!0,this.miniModal=!1,this.itemsEnd=!1,this.openEvent=new i.p,this.closeEvent=new i.p,this.closeAnimation=!1,this.element=this.el.nativeElement}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.id?(this.document.body.appendChild(this.element),this.outsideClickEvt=this.renderer.listen("document","click",(function(t){return e.closeModalOnBackdrop(t)})),this.modalSvc.add(this.id,this)):console.error("modal must have an id")}},{key:"ngOnDestroy",value:function(){this.modalSvc.remove(this.id),this.outsideClickEvt&&this.outsideClickEvt(),this.element.parentNode.removeChild(this.element)}},{key:"open",value:function(){this.isOpen=!0,this.document.body.classList.add("open-modal"),this.openEvent.emit()}},{key:"closeModalOnBackdrop",value:function(e){var t;this.dismissable&&(e.target.className.includes("modal-container modal-container-open")||(null===(t=e.target.parentElement)||void 0===t?void 0:t.className.includes("modal-container modal-container-open")))&&this.close()}},{key:"close",value:function(){var e=this;!this.noAnimation&&this.isOpen?(this.closeAnimation=!0,Object(o.a)(400).subscribe((function(){e.closeAnimation=!1,e.isOpen=!1,e.document.body.classList.remove("open-modal"),e.closeEvent.emit()}))):(this.closeAnimation=!1,this.isOpen=!1,this.document.body.classList.remove("open-modal"),this.closeEvent.emit())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(r.e),i.Tb(i.I),i.Tb(a.a),i.Tb(i.n))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-modal"]],inputs:{id:"id",showFirst:"showFirst",dismissable:"dismissable",noAnimation:"noAnimation",noFullHeight:"noFullHeight",responsiveFullHeight:"responsiveFullHeight",miniModal:"miniModal",itemsEnd:"itemsEnd"},outputs:{openEvent:"openEvent",closeEvent:"closeEvent"},ngContentSelectors:d,decls:4,vars:13,consts:[[1,"modal-container",3,"ngClass"],[1,"modal",3,"ngClass"],["class","overlay",3,"ngClass",4,"ngIf"],[1,"overlay",3,"ngClass"]],template:function(e,t){1&e&&(i.rc(),i.Zb(0,"div",0),i.Zb(1,"div",1),i.qc(2),i.Yb(),i.Yb(),i.Qc(3,c,1,6,"div",2)),2&e&&(i.sc("ngClass",i.zc(3,l,t.isOpen,t.noFullHeight||!t.responsiveFullHeight,t.closeAnimation&&t.isOpen,"expiration-modal"===t.id,t.showFirst)),i.Hb(1),i.sc("ngClass",i.xc(9,u,t.miniModal,!t.responsiveFullHeight,t.itemsEnd)),i.Hb(2),i.sc("ngIf",t.isOpen))},directives:[r.r,r.u],styles:[".overlay[_ngcontent-%COMP%]{background-color:rgba(var(--bl9-rgb),.7);opacity:1}.overlay-open[_ngcontent-%COMP%]{-webkit-animation:fadeInOverlay .5s ease 0s normal forwards;animation:fadeInOverlay .5s ease 0s normal forwards}.overlay-close[_ngcontent-%COMP%]{-webkit-animation:fadeOutOverlay .4s ease 0s normal forwards;animation:fadeOutOverlay .4s ease 0s normal forwards}.overlay.expiration[_ngcontent-%COMP%]{z-index:100}.overlay.show-first[_ngcontent-%COMP%]{z-index:19}.modal-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:15;display:none;width:100%;height:100%;overflow:hidden;outline:0;justify-content:center;align-items:center}.modal-container.show-first[_ngcontent-%COMP%]{z-index:20}.modal-container-open[_ngcontent-%COMP%]{display:flex;overflow-x:hidden;overflow-y:auto;-webkit-animation:fadeInModal .5s ease 0s normal forwards;animation:fadeInModal .5s ease 0s normal forwards;transform:translateY(0)}@media screen and (max-width:991px){.modal-container-open[_ngcontent-%COMP%]{-webkit-animation:fadeInUpBig .5s ease 0s normal forwards;animation:fadeInUpBig .5s ease 0s normal forwards}}.modal-container-close[_ngcontent-%COMP%]{display:flex;overflow:hidden;-webkit-animation:fadeOutModal .4s ease 0s normal forwards;animation:fadeOutModal .4s ease 0s normal forwards}@media screen and (max-width:991px){.modal-container-close[_ngcontent-%COMP%]{-webkit-animation:fadeOutDown .4s ease 0s normal forwards;animation:fadeOutDown .4s ease 0s normal forwards}}.modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content;padding:4.75em 0;margin:auto;display:flex;align-content:center;justify-content:center}@media screen and (max-width:720px){.modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{padding:0}.modal-container[_ngcontent-%COMP%]   .modal.md-h-auto[_ngcontent-%COMP%]{padding:30px 0}}@media screen and (max-width:575px){.modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{padding:0;width:100%;border-radius:0;min-height:100%}.modal-container[_ngcontent-%COMP%]   .modal.md-h-auto[_ngcontent-%COMP%]{padding:20px 0}}@media screen and (max-width:720px){.modal-container[_ngcontent-%COMP%]{min-height:100%}}.modal-container.expiration[_ngcontent-%COMP%]{z-index:101}@media screen and (max-width:720px){.modal[_ngcontent-%COMP%]:not(.md-h-auto){height:100%}.no-full-height[_ngcontent-%COMP%]{height:auto!important}}.mini-modal[_ngcontent-%COMP%]{padding:0!important;height:100%}@media screen and (max-width:575px){.modal[_ngcontent-%COMP%]:not(.md-h-auto){height:100%}.modal[_ngcontent-%COMP%]   .viva-card[_ngcontent-%COMP%]{border-radius:0!important}}@-webkit-keyframes fadeInUpBig{0%{opacity:0;-webkit-transform:translateY(2000px)}to{opacity:1;-webkit-transform:translateY(0)}}@keyframes fadeInUpBig{0%{opacity:0;transform:translateY(2000px)}to{opacity:1;transform:translateY(0)}}@-webkit-keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translateY(0)}to{opacity:0;-webkit-transform:translateY(20px)}}@keyframes fadeOutDown{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(20px)}}@keyframes fadeInModal{0%{opacity:0}66%{opacity:0}to{opacity:1}}@-webkit-keyframes fadeInModal{0%{opacity:0}66%{opacity:0}to{opacity:1}}@-webkit-keyframes fadeOutModal{0%{opacity:1}to{opacity:0}}@keyframes fadeOutModal{0%{opacity:1}to{opacity:0}}@keyframes fadeInOverlay{0%{opacity:0}66%{opacity:0}to{opacity:1}}@-webkit-keyframes fadeInOverlay{0%{opacity:0}66%{opacity:0}to{opacity:1}}@-webkit-keyframes fadeOutOverlay{0%{opacity:1}to{opacity:0}}@keyframes fadeOutOverlay{0%{opacity:1}to{opacity:0}}"]}),e}()},cp0P:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("HDdC"),r=n("DH7j"),o=n("lJxs"),a=n("XoHu"),s=n("Cfvw");function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var i=t[0];if(Object(r.a)(i))return l(i,null);if(Object(a.a)(i)&&Object.getPrototypeOf(i)===Object.prototype){var s=Object.keys(i);return l(s.map((function(e){return i[e]})),s)}}if("function"==typeof t[t.length-1]){var c=t.pop();return l(t=1===t.length&&Object(r.a)(t[0])?t[0]:t,null).pipe(Object(o.a)((function(e){return c.apply(void 0,_toConsumableArray2(e))})))}return l(t,null)}function l(e,t){return new i.a((function(n){var i=e.length;if(0!==i)for(var r=new Array(i),o=0,a=0,c=function(c){var l=Object(s.a)(e[c]),u=!1;n.add(l.subscribe({next:function(e){u||(u=!0,a++),r[c]=e},error:function(e){return n.error(e)},complete:function(){++o!==i&&u||(a===i&&n.next(t?t.reduce((function(e,t,n){return e[t]=r[n],e}),{}):r),n.complete())}}))},l=0;l<i;l++)c(l);else n.complete()}))}},"d/Sv":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e.ONE_WAY="one-way",e.ROUND_TRIP="round-trip",e.MULTI_CITY="multi-city",e}({})},d0zJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("ofXK"),r=n("tyNb"),o=n("o5mt"),a=n("fXoL"),s=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=a.Rb({type:e}),e.\u0275inj=a.Qb({factory:function(t){return new(t||e)},imports:[[i.c,r.k,o.a]]}),e}()},dD9F:function(e,t,n){var i=n("NykK"),r=n("shjB"),o=n("ExA7"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&r(e.length)&&!!a[i(e)]}},dTAl:function(e,t,n){var i=n("GoyQ"),r=Object.create,o=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},dc3y:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("z6cu"),r=n("lJxs"),o=n("JIr8"),a=n("AytR"),s=n("waG0"),c=n("fXoL"),l=n("tk/3"),u=n("CJ36"),d=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.localSvc=n}return _createClass(e,[{key:"getFlightStatus",value:function(e){var t=a.g.FLIGHT_STATUS_URL+e+this.getLanguageParam();return this.http.get(t).pipe(Object(r.a)((function(e){return e.data})),Object(o.a)((function(e){return Object(i.a)(e)})))}},{key:"createDates",value:function(){var e=new Array(3),t=new Date;return e[0]=(new Date).setDate(t.getDate()-1),e[1]=t,e[2]=(new Date).setDate(t.getDate()+1),e}},{key:"addFlightStatusNotification",value:function(e){return this.http.post(a.g.FLIGHT_STATUS_ADD_NOTIFICATION_URL,[e],{headers:{"X-Channel":"web","x-api-key":a.g.apiKey}})}},{key:"getSubscriptions",value:function(e){return this.http.get(a.g.FLIGHT_STATUS_SUBSCRIPTIONS_URL,{headers:{"X-Channel":"web","x-api-key":a.g.apiKey},params:{phone:e}})}},{key:"cancelSubscription",value:function(e){return this.http.post(a.g.FLIGHT_STATUS_CANCEL_SUBSCRIPTION_URL,{subscriptionId:e},{headers:{"X-Channel":"web","x-api-key":a.g.apiKey}})}},{key:"getLanguageParam",value:function(){return"&lang="+(this.localSvc.getAppLocale().includes("es")?"esp":"eng")}},{key:"generateAlert",value:function(e){var t,n,i,r,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="yellow-white";return o&&(a="red-white"),e.iconLink?r={fields:{file:{url:e.iconLink,title:null==e?void 0:e.title}}}:i=e.type===s.a.WEATHER?"fas fa-cloud-showers-heavy":"fas fa-info-circle",{code:null==e?void 0:e.code,display:"InPage",displayColor:a,displayImage:"custom-icon",message:null==e?void 0:e.message,title:null==e?void 0:e.title,type:"FlightStatus",ctaText:null===(t=e.callToAction)||void 0===t?void 0:t.text,ctaLink:null===(n=e.callToAction)||void 0===n?void 0:n.link,customIconClass:i,customImage:r}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.dc(l.b),c.dc(u.a))},e.\u0275prov=c.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},ddoJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}));var i=function(e){return e.FLIGHT_SEARCH="IBE_BOOKER_MENU_FLIGHTS",e.FLIGHT_PLUS_HOTEL="IBE_BOOKER_MENU_PACKAGES",e.HOTEL_SEARCH="IBE_BOOKER_MENU_HOTELS",e.MENU_CARS="IBE_BOOKER_MENU_CARS",e.MENU_BUSES="IBE_BOOKER_MENU_BUSES",e.MENU_RENTALS="IBE_BOOKER_MENU_RENTALS",e}({}),r="IBE_BOOKER_MENU",o="SF_HEADER_LINKS_BOOKING"},deb4:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("ofXK"),r=n("d/Sv"),o=n("wd/R"),a=n("rmK9"),s=n("fXoL"),c=n("egL7"),l=n("ChtM"),u=n("CJ36"),d=n("+EmV"),h=n("imvL"),f=function(){var e=function(){function e(t,n,i,r,o,a,s){_classCallCheck(this,e),this.document=t,this.gtmService=n,this.currency=i,this.localeService=r,this.utilsService=o,this.auth=a,this.baseHref=s,this.flowType=""}return _createClass(e,[{key:"pageViewEvent",value:function(e,t){var n,i="homepage";if(t.includes("/manage"))i="manage_my_booking";else if(t.includes("/check-in"))i="check_in";else if(t.includes("/book")){i="booking";var r=this.auth.userAccountTerms;(null==r?void 0:r.length)&&(null==r?void 0:r.find((function(e){return(null==e?void 0:e.type)===a.a.Loyalty&&!(null==e?void 0:e.promptTerms)})))&&(i="booking_doters")}if(t!==this.utilsService.previousRouteValue){var o={event:"ev_pageview",page_path:"".concat(this.baseHref).concat(t),page_referrer:null!==(n=this.utilsService.previousRouteValue)&&void 0!==n?n:"",channel:{flow_type:i,culture:this.localeService.getAppLocale()},page_title:e,detail:{currency:this.currency.selectedCurrencyCode,page:this.document.title}};this.flowType=i,this.utilsService.setPreviousRoute(t),this.gtmService.pushTag(o)}}},{key:"flowTypeHome",value:function(){var e={event:"ev_flow_type",channel:{flow_type:"homepage",culture:this.localeService.getAppLocale()},box:"Start",detail:{currency:this.currency.selectedCurrencyCode,page:this.document.title}};this.flowType="homepage",this.gtmService.pushTag(e)}},{key:"searchBoxEvent",value:function(e,t,n,i){var a="".concat(e.journeys[0].origin.code,"-").concat(e.journeys[0].destination.code),s="".concat(e.journeys[0].destination.code,"-").concat(e.journeys[0].origin.code),c=e.passengers.adults+e.passengers.babies+e.passengers.kids,l=new Date(e.journeys[0].journeyDates.startDate.format()).getTime()-Date.now(),u={event:"ev_search_flight_search",category:"search",action:"flight_search",search:{booking_window:Math.ceil(l/1e3/60/60/24),rute_list:e.tripType===r.a.ROUND_TRIP?"".concat(a,"|").concat(s):a,tab_type:"HEADER_BOOK_FLIGHTS",type:e.journeys[0].destination.transportationType,source:"home",total_passenger_count:c,searchTermOrigin:i.origin||null,searchTermDestination:i.destination||null,passenger:{adt:e.passengers.adults,chd:e.passengers.kids,inf:e.passengers.babies},promo_code:e.promoCode,view_type:t?"monthly_calendar":"list_flights",search_using_points:n,language:this.localeService.getAppLocale(),currency:this.currency.selectedCurrencyCode,trip_type:e.tripType,origin:e.journeys[0].origin.code,destination:e.journeys[0].destination.code,departure_date:o(e.journeys[0].journeyDates.startDate).format("YYYY-MM-DD"),arrival_date:e.journeys[0].journeyDates.endDate?o(e.journeys[0].journeyDates.endDate).format("YYYY-MM-DD"):"null"}};this.gtmService.pushTag(u)}},{key:"siteSearch",value:function(e){this.gtmService.pushTag({event:"site_search",detail:{module:"header",component:"search_widget",element:"search_button",action:"do_search",description:{term:e}}})}},{key:"saveVui",value:function(e){var t=e.affiliations.find((function(e){return"VUI"===e.code}));t&&localStorage.setItem("vui",t.id)}},{key:"deleteVui",value:function(){localStorage.removeItem("vui")}},{key:"loginSuccess",value:function(e,t){var n=e.affiliations.find((function(e){return"VUI"===e.code}));this.gtmService.pushTag({event:"ev_login",category:"profile",action:"login",label:"successful",login:{status:"successful",method:e.socialLogin},detail:{module:"login",component:"signin",section:["sideMenu"],element:t,action:"signIn",description:{status:"successful"}},id:{v:n.id,n:e.customerNumber,u:e.username}})}},{key:"loginFail",value:function(e,t){this.gtmService.pushTag({event:"ev_login",category:"profile",action:"login",label:"unsuccessful",login:{status:"unsuccessful",method:"NotLinked"},detail:{module:"login",component:"signin",section:["sideMenu"],element:t,action:"signIn",description:{status:"unsuccessful"}},message:[{type:"ERROR",code:e.name,message:e.message}]})}},{key:"loginIntent",value:function(){this.gtmService.pushTag({event:"ev_login",login:{status:"login_intent"}})}},{key:"signUp",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.gtmService.pushTag({event:"ev_sign_up",category:"profile",action:n?"sign_up_sidebar":"sign_up",label:e,sign_up:{status:e,method:t}})}},{key:"_boxever_flowtype",value:function(){return this.flowType}},{key:"multicitySearch",value:function(e,t,n){var i="";e.journeys.forEach((function(e,t){t&&(i+="|"),i+="".concat(e.origin.code,"-").concat(e.destination.code)}));var r=e.passengers.adults+e.passengers.babies+e.passengers.kids,a=new Date(e.journeys[0].journeyDates.startDate.format()).getTime()-Date.now(),s={event:"ev_search_multicity_search",category:"search",action:"flight_search",search:{booking_window:Math.ceil(a/1e3/60/60/24),rute_list:i,tab_type:"HEADER_BOOK_FLIGHTS",type:"Air",source:"home",total_passenger_count:r,passenger:{adt:e.passengers.adults,chd:e.passengers.kids,inf:e.passengers.babies},view_type:t?"monthly_calendar":"list_flights",search_using_points:n,language:this.localeService.getAppLocale(),currency:this.currency.selectedCurrencyCode,trip_type:e.tripType,origin:e.journeys[0].origin.code,destination:e.journeys[0].destination.code,search_from_one:e.journeys[0].origin.code,search_to_one:e.journeys[0].destination.code,search_date_one:o(e.journeys[0].journeyDates.startDate).format("YYYY-MM-DD"),search_from_two:e.journeys[e.journeys.length-1].origin.code,search_to_two:e.journeys[e.journeys.length-1].destination.code,search_date_two:e.journeys[e.journeys.length-1].journeyDates.startDate?o(e.journeys[e.journeys.length-1].journeyDates.startDate).format("YYYY-MM-DD"):"null",departure_date:o(e.journeys[0].journeyDates.startDate).format("YYYY-MM-DD"),arrival_date:e.journeys[e.journeys.length-1].journeyDates.startDate?o(e.journeys[e.journeys.length-1].journeyDates.startDate).format("YYYY-MM-DD"):"null"}};this.gtmService.pushTag(s)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.dc(i.e),s.dc(c.a),s.dc(l.a),s.dc(u.a),s.dc(d.a),s.dc(h.a),s.dc(i.a))},e.\u0275prov=s.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},djEO:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("fXoL"),r=n("lJxs"),o=n("AytR"),a=n("rmK9"),s=n("kh7C"),c=n("tk/3"),l=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.localeId=n}return _createClass(e,[{key:"postLogin",value:function(e){return this.http.post(o.g.LOGIN_URL,e).pipe(Object(r.a)((function(e){return e.data})))}},{key:"postSocialLogin",value:function(e){return this.http.post(o.g.SOCIAL_LOGIN_URL,e).pipe(Object(r.a)((function(e){return e.data})))}},{key:"getAccount",value:function(e){return this.http.get(o.g.ACCOUNT_URL,{params:Object.assign({},e&&{RetrieveFundsAmounts:"true"})}).pipe(Object(r.a)((function(e){return e.data})))}},{key:"getAccountFunds",value:function(e){return this.http.get(o.g.ACCOUNT_FUNDS_URL+""+(e?"?Type="+e:"")).pipe(Object(r.a)((function(e){return e.data})))}},{key:"accountRestore",value:function(){return this.http.post(o.g.ACCOUNT_RESTORE_URL,{}).pipe(Object(r.a)((function(e){return e.data})))}},{key:"validateToken",value:function(){return this.http.get(o.g.VALIDATE_TOKEN_URL)}},{key:"registerAccount",value:function(e){return this.http.post(o.g.ACCOUNT_REGISTER_URL,e)}},{key:"registerAccountV2",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.assign(Object.assign({},e),{language:this.localeId,loyaltyDetails:{enrollingSponsor:o.g.ENROLLING_SPONSOR_KEY,enrollmentChannel:t?a.c.WEBGUEST:a.c.WEBSITE}});return this.http.post(o.g.ACCOUNT_REGISTER_V2_URL,n)}},{key:"confirmAccount",value:function(e){return this.http.post(o.g.ACCOUNT_CONFIRM_URL,e)}},{key:"confirmAccountV2",value:function(e){return this.http.post(o.g.ACCOUNT_CONFIRM_V2_URL,e)}},{key:"updateAccountInfo",value:function(e){return this.http.post(o.g.ACCOUNT_UPDATE_URL,e)}},{key:"requestPasswordReset",value:function(e){return this.http.post(o.g.ACCOUNT_PWD_RESET_REQ_URL,e)}},{key:"requestPasswordResetV2",value:function(e){var t=Object.assign(Object.assign({},e),{language:this.localeId,loyaltyDetails:{enrollingSponsor:o.g.ENROLLING_SPONSOR_KEY,enrollmentChannel:a.c.WEBSITE}});return this.http.post(o.g.ACCOUNT_PWD_RESET_REQ_V2_URL,t)}},{key:"resetPassword",value:function(e){return this.http.post(o.g.ACCOUNT_RESET_PWD,e)}},{key:"resetPasswordV2",value:function(e){return this.http.post(o.g.ACCOUNT_RESET_PWD_V2,e)}},{key:"changePassword",value:function(e){return this.http.post(o.g.ACCOUNT_CHANGE_PWD,e)}},{key:"getCompanions",value:function(){var e=this;return this.http.get(o.g.ACCOUNT_COMPANIONS).pipe(Object(r.a)((function(t){var n;return e.processCompanionsTravelDocumentExpireDates(null===(n=t.data)||void 0===n?void 0:n.companions),t.data})))}},{key:"postCompanion",value:function(e){var t=this;return this.http.post(o.g.ACCOUNT_ADD_COMPANIONS,e).pipe(Object(r.a)((function(e){return e.data&&t.processCompanionTravelDocumentExpireDates(e.data),e.data})))}},{key:"deleteCompanion",value:function(e){return this.http.post(o.g.ACCOUNT_DELETE_COMPANIONS,{id:e}).pipe(Object(r.a)((function(e){return e.data})))}},{key:"updateCompanion",value:function(e){var t=this;return this.http.post(o.g.ACCOUNT_UPDATE_COMPANIONS,e).pipe(Object(r.a)((function(e){return e.data&&t.processCompanionTravelDocumentExpireDates(e.data),e.data})))}},{key:"acceptTerms",value:function(e){return this.http.post(o.g.ACCOUNT_ACCEPT_TERMS,{type:e})}},{key:"validateUserEmail",value:function(e){return this.http.get("".concat(o.g.ACCOUNT_VALIDATE_USER_EMAIL,"?Email=").concat(e))}},{key:"getTravelIdURL",value:function(){return this.http.post(o.g.ACCOUNT_STAFF_STANDBY,void 0,{headers:{"X-Channel":"web","x-api-key":o.g.TEST_PAYMENT_REFERENCES_API_KEY}}).pipe(Object(r.a)((function(e){return e.data})))}},{key:"processCompanionsTravelDocumentExpireDates",value:function(e){var t=this;Object(s.e)(e)&&e.forEach((function(e){t.processCompanionTravelDocumentExpireDates(e)}))}},{key:"processCompanionTravelDocumentExpireDates",value:function(e){try{if(e){var t=e.passport,n=e.visa;(null==t?void 0:t.expireDate)&&(t.expireDate=Object(s.g)(t.expireDate)),(null==n?void 0:n.expireDate)&&(n.expireDate=Object(s.g)(n.expireDate))}}catch(i){o.g.production||console.error("::processCompanionTravelDocumentExpireDates::",i)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(c.b),i.dc(i.y))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},dwco:function(e,t,n){!function(){"use strict";e.exports={polyfill:function(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style)||!0===e.__forceSmoothScrollPolyfill__){var n,i=e.HTMLElement||e.Element,r={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:i.prototype.scroll||s,scrollIntoView:i.prototype.scrollIntoView},o=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,a=(n=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?f.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):r.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?r.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):f.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},i.prototype.scroll=i.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==c(arguments[0])){var e=arguments[0].left,t=arguments[0].top;f.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},i.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},i.prototype.scrollIntoView=function(){if(!0!==c(arguments[0])){var n=h(this),i=n.getBoundingClientRect(),o=this.getBoundingClientRect();n!==t.body?(f.call(this,n,n.scrollLeft+o.left-i.left,n.scrollTop+o.top-i.top),"fixed"!==e.getComputedStyle(n).position&&e.scrollBy({left:i.left,top:i.top,behavior:"smooth"})):e.scrollBy({left:o.left,top:o.top,behavior:"smooth"})}else r.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function s(e,t){this.scrollLeft=e,this.scrollTop=t}function c(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function l(e,t){return"Y"===t?e.clientHeight+a<e.scrollHeight:"X"===t?e.clientWidth+a<e.scrollWidth:void 0}function u(t,n){var i=e.getComputedStyle(t,null)["overflow"+n];return"auto"===i||"scroll"===i}function d(e){var t=l(e,"Y")&&u(e,"Y"),n=l(e,"X")&&u(e,"X");return t||n}function h(e){for(;e!==t.body&&!1===d(e);)e=e.parentNode||e.host;return e}function f(n,i,a){var c,l,u,d,h=o();n===t.body?(c=e,l=e.scrollX||e.pageXOffset,u=e.scrollY||e.pageYOffset,d=r.scroll):(c=n,l=n.scrollLeft,u=n.scrollTop,d=s),function t(n){var i,r,a,s=(o()-n.startTime)/468;s=s>1?1:s,i=.5*(1-Math.cos(Math.PI*s)),n.method.call(n.scrollable,r=n.startX+(n.x-n.startX)*i,a=n.startY+(n.y-n.startY)*i),r===n.x&&a===n.y||e.requestAnimationFrame(t.bind(e,n))}({scrollable:c,method:d,startTime:h,startX:l,startY:u,x:i,y:a})}}}}()},e4Nc:function(e,t,n){var i=n("fGT3"),r=n("k+1r"),o=n("JHgL"),a=n("pSRY"),s=n("H8j4");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},eE5r:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("fXoL"),r=n("XNiG"),o=n("PqYM"),a=n("9gjU"),s=n("Elrx"),c=n("1AID"),l=n("AytR"),u=n("Ha0k"),d=n("Y/Zp"),h=n("BifP"),f=function(){var e=function(){function e(t,n,i,o,a){var s,l;_classCallCheck(this,e),this.locale=t,this.currency=n,this.injector=i,this.upUtils=o,this.cmsConfig=a,this.allowedCurrencies=["USD"],this.allowedLocales=["en-US"],this.$upliftPromoValue=new r.a,this.$upFPReset=new r.a,this.serviceEnabled=this.cmsConfig.getBookingFeatureValue(c.a.ShowUpliftPricingNodes),this.hoursInTheFuture=(null===(s=this.cmsConfig._cmsConfig.bookingSettings.upliftFPConfig)||void 0===s?void 0:s.hoursInTheFuture)||72,this.hoursInTheFutureAvailability=(null===(l=this.cmsConfig._cmsConfig.bookingSettings.upliftFPConfig)||void 0===l?void 0:l.hoursInTheFutureAvailability)||75}return _createClass(e,[{key:"getUpliftService",value:function(){this.upliftService||(this.upliftService=this.injector.get(u.a))}},{key:"canRunMethod",value:function(e,t){return this.serviceEnabled&&this.allowedCurrencies.includes(e)&&this.allowedLocales.includes(t)}},{key:"setUpliftPricingOnAvailability",value:function(e,t,n){var i=this;this.canRunMethod(this.currency,this.locale)&&this.injectedService&&(this.selectedJourneysAreValid(e)?this.upliftService.ready.then((function(){i.upliftService.initPayMonthly();var r=i.upUtils.buildTripInfoAvailability(e,t,n);r&&(i.tripInfo=r,i.loadTripInfo(r))})).catch((function(e){})):this.resetUpliftPricing())}},{key:"setUpliftPricingFromBasket",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&this.canRunMethod(e.basket.currencyCode,e.basket.language)&&this.injectedService&&(this.isBasketValid(e.basket)&&this.bookingJourneysAreValid(e.basketBooking)?this.upliftService.ready.then((function(){n?"checkout"!==t.upliftService._upliftInitMode&&t.upliftService.initPayMonthly():t.upliftService.initPayMonthly();var i=t.upUtils.buildTripInfo(e.basket.totalAmount.amount,e,!1);i&&(t.tripInfo=i,t.loadTripInfo(i))})).catch((function(e){})):this.resetUpliftPricing())}},{key:"resendUpliftPricing",value:function(){return!(!this.serviceEnabled||!this.tripInfo||(this.loadTripInfo(this.tripInfo),0))}},{key:"resetUpliftPricing",value:function(){this.tripInfo=void 0}},{key:"loadTripInfo",value:function(e){var t=this;e&&Object(o.a)(0).subscribe((function(){t.upliftService.Uplift.Payments.load(e)}))}},{key:"selectedJourneysAreValid",value:function(e){return!(!e||!Array.isArray(e))&&this.upUtils.areAllAvailabilityJourneysValid(e.map((function(e){return e.journey})),this.hoursInTheFutureAvailability)}},{key:"isBasketValid",value:function(e){var t;if(!e)return!1;var n=[].concat(_toConsumableArray2(a.f),_toConsumableArray2(a.e));return"Points"!==e.bookingType&&0===((null===(t=e.travel)||void 0===t?void 0:t.charges)||[]).filter((function(e){return n.includes(e.code)})).length}},{key:"bookingJourneysAreValid",value:function(e){return!(!(null==e?void 0:e.journeys)||!Array.isArray(e.journeys))&&this.upUtils.areAllBookingJourneysValid(e.journeys,this.hoursInTheFuture)}},{key:"emitUpliftPriceAmount",value:function(e){this.serviceEnabled&&this.$upliftPromoValue.next(e>0)}},{key:"emitUpFPDisplayReset",value:function(){this.$upFPReset.next()}},{key:"injectedService",get:function(){try{this.getUpliftService()}catch(e){return l.g.production||console.error("::UpPricingHelper::","Dependency Injection Error!",e),!1}return!!this.upliftService}},{key:"upliftPromoValue$",get:function(){return this.$upliftPromoValue.asObservable()}},{key:"upFPDisplayReset$",get:function(){return this.$upFPReset.asObservable()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(i.y),i.dc(s.b),i.dc(i.u),i.dc(d.a),i.dc(h.a))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},eFla:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("fXoL"),r=n("quSY"),o=n("PqYM"),a=function(e){return e.total="total",e.insurance="insurance",e.hotel_option="hotel_option",e.room_option="room_option",e.departure_option="departure_option",e.return_option="return_option",e.seat_option="seat_option",e.bag_option="bag_option",e.cruise_option="cruise_option",e.stateroom_option="stateroom_option",e.deck_option="deck_option",e.activity_option="activity_option",e.addon_option="addon_option",e.meal_option="meal_option",e.car_option="car_option",e}({}),s=function(e){return e.total="total",e.per_night="per_night",e.per_day="per_day",e.avg_per_night="avg_per_night",e.per_person="per_person",e.per_night_per_person="per_night_per_person",e.per_day_per_person="per_day_per_person",e.avg_per_night_per_person="avg_per_night_per_person",e}({}),c=n("1AID"),l=n("BifP"),u=n("imvL"),d=n("eE5r"),h=n("ofXK"),f=n("q/KQ"),p=["upFromSpan"];function g(e,t){if(1&e&&(i.Zb(0,"span",3),i.Sc(1),i.Ub(2,"img",10),i.kc(3,"cmsStaticImage"),i.Yb()),2&e){var n=i.jc(2);i.Hb(1),i.Uc(" "," with"," "),i.Hb(1),i.sc("src",i.lc(3,2,n.isLightClass?"BOOKER_LOGO_UPLIFT-LIGHT":"BOOKER_LOGO_UPLIFT-DARK"),i.Kc)}}function v(e,t){if(1&e&&(i.Zb(0,"span",11),i.Sc(1," \xa0 "),i.Yb()),2&e){var n=i.jc(2);i.sc("ngClass",n.iConfig.displayClass)}}function m(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"span",1,2),i.Zb(3,"span",3),i.Sc(4),i.Yb(),i.Zb(5,"span",4),i.Sc(6,"$"),i.Yb(),i.Ub(7,"span",5),i.Zb(8,"span",4),i.Sc(9),i.Yb(),i.Zb(10,"span",6),i.Sc(11),i.Ub(12,"em",7),i.Yb(),i.Qc(13,g,4,4,"span",8),i.Yb(),i.Qc(14,v,2,1,"span",9),i.Wb()),2&e){var n=i.jc();i.Hb(1),i.sc("ngClass",n.iConfig.displayClass),i.Ib("data-up-price-value",n.upliftPrice)("data-up-price-type",n.iConfig.priceType)("data-up-price-model",n.iConfig.priceModel)("data-up-taxes-included",n.iConfig.taxesIncluded),i.Hb(3),i.Tc(n.iConfig.fromString+" "),i.Hb(5),i.Tc(n.iConfig.unitDenominator),i.Hb(2),i.Uc(" "," ",""),i.Hb(2),i.sc("ngIf",n.iConfig.displayLogo),i.Hb(1),i.sc("ngIf",n.iConfig.forceSpacingDisplay&&!n.isOfferDisplayed)}}var b,y=((b=function(){function e(t,n,o){var a;_classCallCheck(this,e),this.cmsConfig=t,this.auth=n,this.upPricingSvc=o,this.price=0,this.priceShown=new i.p,this.iConfig=_,this.internalDisplayFlag=!0,this.showComponentFromAccountType=!0,this.accountDataSub=r.a.EMPTY,this.upFPDisplayResetSub=r.a.EMPTY,this.isLightClass=!1,this.isOfferDisplayed=!1,this.showComponentCmsFlag=this.cmsConfig.getBookingFeatureValue(c.a.ShowUpliftPricingNodes),this.allowedAccountTypes=(null===(a=this.cmsConfig._cmsConfig.bookingSettings.upliftFPConfig)||void 0===a?void 0:a.allowedAccountTypes)||[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.showComponentCmsFlag&&(this.handleOnAuthDataChange(),this.handlePricingDisplayEvent())}},{key:"ngOnChanges",value:function(e){e.config&&(this.iConfig=this.config?Object.assign(Object.assign({},_),this.config):_,this.isLightClass=this.isLight)}},{key:"ngOnDestroy",value:function(){this.accountDataSub.closed||this.accountDataSub.unsubscribe(),this.upFPDisplayResetSub.closed||this.upFPDisplayResetSub.unsubscribe(),this.disconnectMObserver()}},{key:"ngAfterViewInit",value:function(){this.showComponent&&this.upFPRef&&this.iConfig.emitPriceDisplayChanges&&this.initMObserver()}},{key:"handleOnAuthDataChange",value:function(){var e=this;this.accountDataSub=this.auth.userAccountData$.subscribe((function(t){e.showComponentFromAccountType=e.allowedAccountTypes.includes(t?t.accountType:"Anonymous")}))}},{key:"handlePricingDisplayEvent",value:function(){var e=this;this.upFPDisplayResetSub=this.upPricingSvc.upFPDisplayReset$.subscribe((function(){if(e.showComponent){var t=e.disconnectMObserver();e.internalDisplayFlag=!1,Object(o.a)(0).subscribe((function(){e.internalDisplayFlag=!0,Object(o.a)(0).subscribe((function(){t&&e.initMObserver()}))}))}}))}},{key:"initMObserver",value:function(){!this.mObserver&&this.upFPRef&&(this.mObserver=new MutationObserver(this.onAttrChange.bind(this)),this.mObserver.observe(this.upFPRef.nativeElement,{attributes:!0,attributeFilter:["style"]}))}},{key:"disconnectMObserver",value:function(){return!!this.mObserver&&(this.mObserver.disconnect(),this.mObserver=void 0,!0)}},{key:"onAttrChange",value:function(e){var t=this;e.forEach((function(e){var n,i;if("attributes"===e.type){var r=null===(i=null===(n=t.upFPRef)||void 0===n?void 0:n.nativeElement)||void 0===i?void 0:i.style.display;if(r){var o="none"!==r;t.isOfferDisplayed=o,t.priceShown.emit(o)}}}))}},{key:"upliftPrice",get:function(){return Math.floor(100*(this.price||0)).toString()}},{key:"isLight",get:function(){var e=this.iConfig.displayClass.split(" ");return e.includes("light")||e.includes("contrast")}},{key:"showComponent",get:function(){return this.showComponentCmsFlag&&this.showComponentFromAccountType&&this.internalDisplayFlag}}]),e}()).\u0275fac=function(e){return new(e||b)(i.Tb(l.a),i.Tb(u.a),i.Tb(d.a))},b.\u0275cmp=i.Nb({type:b,selectors:[["app-up-from-pricing"]],viewQuery:function(e,t){var n;1&e&&i.Yc(p,!0),2&e&&i.Dc(n=i.ic())&&(t.upFPRef=n.first)},inputs:{price:"price",config:"config"},outputs:{priceShown:"priceShown"},features:[i.Fb],decls:1,vars:1,consts:[[4,"ngIf"],[1,"cursor-pointer","vb-up-modal",2,"display","none",3,"ngClass"],["upFromSpan",""],[1,"font-weight-normal"],[1,"font-weight-bold"],["data-up-from-currency-unit-major","",1,"font-weight-bold"],["data-up-tooltip","",1,"font-weight-bold"],[1,"fas","fa-info-circle"],["class","font-weight-normal",4,"ngIf"],[3,"ngClass",4,"ngIf"],["alt","up-logo","loading","lazy",1,"display-inline-block",3,"src"],[3,"ngClass"]],template:function(e,t){1&e&&i.Qc(0,m,15,10,"ng-container",0),2&e&&i.sc("ngIf",t.showComponent)},directives:[h.u,h.r],pipes:[f.a],styles:[".vb-up-modal[_ngcontent-%COMP%]:hover   em.fas[_ngcontent-%COMP%]{color:var(--vg4)}.vb-up-modal[_ngcontent-%COMP%]:hover.light   em.fas[_ngcontent-%COMP%]{color:var(--gr25)}.vb-up-modal[_ngcontent-%COMP%]{pointer-events:auto}.vb-up-modal[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:middle;height:24px;width:auto}@media screen and (max-width:720px){.vb-up-modal[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:22px}}.small-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}@media screen and (max-width:720px){.small-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px}}.title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px}@media screen and (max-width:720px){.title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:22px}}.medium-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:22px}@media screen and (max-width:720px){.medium-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}}.up-title[_ngcontent-%COMP%]{font-family:Axiforma,Arial;font-weight:700;font-size:16px;line-height:20px;color:var(--bg6)}@media screen and (max-width:991px){.up-title[_ngcontent-%COMP%]{font-family:Axiforma,Arial;font-weight:500;font-size:14px;line-height:18px;color:var(--bg6);font-size:12px;line-height:16px}}.up-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px}@media screen and (max-width:991px){.up-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px}}.colored-bold.vb-up-modal[_ngcontent-%COMP%]:hover   em.fas[_ngcontent-%COMP%]{color:#164844}.colored-bold[_ngcontent-%COMP%]   .font-weight-bold[_ngcontent-%COMP%]{color:#34aa9f}"]}),b),_=Object.freeze({fromString:"or from",unitDenominator:"/mo",displayLogo:!1,displayClass:"small-title",priceType:a.total,priceModel:s.total,taxesIncluded:!0,forceSpacingDisplay:!1,emitPriceDisplayChanges:!1})},eIep:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("l7GE"),r=n("51Dv"),o=n("ZUHj"),a=n("lJxs"),s=n("Cfvw");function c(e,t){return"function"==typeof t?function(n){return n.pipe(c((function(n,i){return Object(s.a)(e(n,i)).pipe(Object(a.a)((function(e,r){return t(n,e,i,r)})))})))}:function(t){return t.lift(new l(e))}}var l=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.project))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).project=i,r.index=0,r}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=this.innerSubscription;i&&i.unsubscribe();var a=new r.a(this,t,n),s=this.destination;s.add(a),this.innerSubscription=Object(o.a)(this,e,void 0,void 0,a),this.innerSubscription!==a&&s.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,i,r){this.destination.next(t)}}]),n}(i.a)},eJ3O:function(e,t,n){"use strict";var i=n("Q1FS"),r=n("1pIY"),o=n("p0+S"),a=n("nzqU");function s(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}t.timer=function(e,t,n){void 0===e&&(e=0);var c=-1;return o.isNumeric(t)?c=Number(t)<1?1:Number(t):a.isScheduler(t)&&(n=t),a.isScheduler(n)||(n=r.async),new i.Observable((function(t){var i=o.isNumeric(e)?e:+e-n.now();return n.schedule(s,i,{index:0,period:c,subscriber:t})}))}},eNwd:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))}},{key:"recycleAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}]),n}(n("3N8a").a),r=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,r=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<r&&(e=n.shift()));if(this.active=!1,t){for(;++i<r&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n("IjjT").a))(i)},ebwN:function(e,t,n){var i=n("Cwc5")(n("Kz5y"),"Map");e.exports=i},egL7:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),r=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.googleTagManagerId=t,this.googleTagManagerAuth=n,this.googleTagManagerPreview=i,this.isLoaded=!1,this.browserGlobals={windowRef:function(){return window},documentRef:function(){return document}},this.gtmId=t,this.gtmAuth=n,this.gtmPreview=i}return _createClass(e,[{key:"getDataLayer",value:function(){var e=this.browserGlobals.windowRef();return e.dataLayer=e.dataLayer||[],e.dataLayer}},{key:"pushOnDataLayer",value:function(e){this.getDataLayer().push(e)}},{key:"addGtmToDom",value:function(){if(!this.isLoaded){var e=this.browserGlobals.documentRef();this.pushOnDataLayer({"gtm.start":(new Date).getTime(),event:"gtm.js"});var t=e.createElement("script");t.id="GTMscript",t.async=!0,t.src=this.applyGtmQueryParams("//www.googletagmanager.com/gtm.js"),e.head.insertBefore(t,e.head.firstChild);var n=e.createElement("iframe");n.setAttribute("src",this.applyGtmQueryParams("//www.googletagmanager.com/ns.html")),n.style.width="0",n.style.height="0",n.style.display="none",n.style.visibility="hidden";var i=e.createElement("noscript");i.id="GTMiframe",i.appendChild(n),e.body.insertBefore(i,e.body.firstChild),this.isLoaded=!0}}},{key:"pushTag",value:function(e){this.isLoaded||this.addGtmToDom(),this.pushOnDataLayer(e)}},{key:"applyGtmQueryParams",value:function(e){var t=["id="+this.gtmId];return this.gtmAuth&&t.push("gtm_auth="+this.gtmAuth),this.gtmPreview&&t.push("gtm_preview="+this.gtmPreview),-1===e.indexOf("?")&&(e+="?"),e+t.join("&")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc("googleTagManagerId"),i.dc("googleTagManagerAuth",8),i.dc("googleTagManagerPreview",8))},e.\u0275prov=Object(i.Pb)({factory:function(){return new e(Object(i.dc)("googleTagManagerId"),Object(i.dc)("googleTagManagerAuth",8),Object(i.dc)("googleTagManagerPreview",8))},token:e,providedIn:"root"}),e}()},ekgI:function(e,t,n){var i=n("YESw"),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},endd:function(e,t,n){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i},eqyj:function(e,t,n){"use strict";var i=n("xTJ+");e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},f0Wu:function(e,t,n){(e.exports=n("Dvum")).tz.load(n("2xm2"))},f0i7:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("2Vo4"),r=n("XNiG"),o=n("st0d"),a=n("fXoL"),s=function(){var e=function(){function e(){_classCallCheck(this,e),this.highestPriorityType=o.a.UNDEFINED,this.$availabilityQueryParams=new i.a(void 0),this.$editSeachNotify=new r.a}return _createClass(e,[{key:"pushBookingQueryParams",value:function(e,t){t>=this.highestPriorityType&&(this.$availabilityQueryParams.next({availabilityQueryParams:e,source:t}),this.highestPriorityType=t)}},{key:"resetPriority",value:function(){this.highestPriorityType=o.a.UNDEFINED}},{key:"emitEditSeachActive",value:function(e){this.$editSeachNotify.next(e)}},{key:"_availabilityQueryParams$",get:function(){return this.$availabilityQueryParams.asObservable()}},{key:"editSeachNotify$",get:function(){return this.$editSeachNotify.asObservable()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},fGT3:function(e,t,n){var i=n("4kuk"),r=n("Xi7e"),o=n("ebwN");e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},"fR/l":function(e,t,n){var i=n("CH3K"),r=n("Z0cm");e.exports=function(e,t,n){var o=t(e);return r(e)?o:i(o,n(e))}},fXoL:function(e,t,n){"use strict";n.d(t,"a",(function(){return Sa})),n.d(t,"b",(function(){return Zh})),n.d(t,"c",(function(){return Hh})),n.d(t,"d",(function(){return Bh})),n.d(t,"e",(function(){return Fh})),n.d(t,"f",(function(){return jf})),n.d(t,"g",(function(){return Af})),n.d(t,"h",(function(){return Pe})),n.d(t,"i",(function(){return zo})),n.d(t,"j",(function(){return nf})),n.d(t,"k",(function(){return xh})),n.d(t,"l",(function(){return Pl})),n.d(t,"m",(function(){return zh})),n.d(t,"n",(function(){return Ml})),n.d(t,"o",(function(){return Wn})),n.d(t,"p",(function(){return Bd})),n.d(t,"q",(function(){return Ih})),n.d(t,"r",(function(){return re})),n.d(t,"s",(function(){return v})),n.d(t,"t",(function(){return ie})),n.d(t,"u",(function(){return ka})),n.d(t,"v",(function(){return Dh})),n.d(t,"w",(function(){return Ql})),n.d(t,"x",(function(){return Xl})),n.d(t,"y",(function(){return Kh})),n.d(t,"z",(function(){return Nh})),n.d(t,"A",(function(){return ye})),n.d(t,"B",(function(){return Pf})),n.d(t,"C",(function(){return be})),n.d(t,"D",(function(){return kf})),n.d(t,"E",(function(){return sf})),n.d(t,"F",(function(){return m})),n.d(t,"G",(function(){return Vh})),n.d(t,"H",(function(){return Gh})),n.d(t,"I",(function(){return Ll})),n.d(t,"J",(function(){return Dl})),n.d(t,"K",(function(){return Il})),n.d(t,"L",(function(){return Nl})),n.d(t,"M",(function(){return Li})),n.d(t,"N",(function(){return y})),n.d(t,"O",(function(){return Df})),n.d(t,"P",(function(){return eu})),n.d(t,"Q",(function(){return gf})),n.d(t,"R",(function(){return jl})),n.d(t,"S",(function(){return nu})),n.d(t,"T",(function(){return Me})),n.d(t,"U",(function(){return Da})),n.d(t,"V",(function(){return Sf})),n.d(t,"W",(function(){return w})),n.d(t,"X",(function(){return ui})),n.d(t,"Y",(function(){return F})),n.d(t,"Z",(function(){return pe})),n.d(t,"ab",(function(){return li})),n.d(t,"bb",(function(){return Rf})),n.d(t,"cb",(function(){return mf})),n.d(t,"db",(function(){return Wh})),n.d(t,"eb",(function(){return ca})),n.d(t,"fb",(function(){return bu})),n.d(t,"gb",(function(){return Di})),n.d(t,"hb",(function(){return ji})),n.d(t,"ib",(function(){return pi})),n.d(t,"jb",(function(){return ei})),n.d(t,"kb",(function(){return ni})),n.d(t,"lb",(function(){return ai})),n.d(t,"mb",(function(){return ri})),n.d(t,"nb",(function(){return ii})),n.d(t,"ob",(function(){return oi})),n.d(t,"pb",(function(){return pu})),n.d(t,"qb",(function(){return Lf})),n.d(t,"rb",(function(){return gu})),n.d(t,"sb",(function(){return vu})),n.d(t,"tb",(function(){return ti})),n.d(t,"ub",(function(){return W})),n.d(t,"vb",(function(){return Ia})),n.d(t,"wb",(function(){return Cs})),n.d(t,"xb",(function(){return _s})),n.d(t,"yb",(function(){return xa})),n.d(t,"zb",(function(){return fu})),n.d(t,"Ab",(function(){return ud})),n.d(t,"Bb",(function(){return it})),n.d(t,"Cb",(function(){return N})),n.d(t,"Db",(function(){return Jn})),n.d(t,"Eb",(function(){return sl})),n.d(t,"Fb",(function(){return vl})),n.d(t,"Gb",(function(){return wl})),n.d(t,"Hb",(function(){return hr})),n.d(t,"Ib",(function(){return Ua})),n.d(t,"Jb",(function(){return ac})),n.d(t,"Kb",(function(){return Mc})),n.d(t,"Lb",(function(){return ic})),n.d(t,"Mb",(function(){return Jd})),n.d(t,"Nb",(function(){return Le})),n.d(t,"Ob",(function(){return Ye})),n.d(t,"Pb",(function(){return T})),n.d(t,"Qb",(function(){return A})),n.d(t,"Rb",(function(){return Fe})),n.d(t,"Sb",(function(){return Ge})),n.d(t,"Tb",(function(){return cs})),n.d(t,"Ub",(function(){return gs})),n.d(t,"Vb",(function(){return bs})),n.d(t,"Wb",(function(){return ms})),n.d(t,"Xb",(function(){return vs})),n.d(t,"Yb",(function(){return ps})),n.d(t,"Zb",(function(){return fs})),n.d(t,"ac",(function(){return ys})),n.d(t,"bc",(function(){return Yn})),n.d(t,"cc",(function(){return il})),n.d(t,"dc",(function(){return he})),n.d(t,"ec",(function(){return ls})),n.d(t,"fc",(function(){return sh})),n.d(t,"gc",(function(){return us})),n.d(t,"hc",(function(){return ks})),n.d(t,"ic",(function(){return nh})),n.d(t,"jc",(function(){return As})),n.d(t,"kc",(function(){return Md})),n.d(t,"lc",(function(){return xd})),n.d(t,"mc",(function(){return Dd})),n.d(t,"nc",(function(){return Id})),n.d(t,"oc",(function(){return Ld})),n.d(t,"pc",(function(){return Rd})),n.d(t,"qc",(function(){return Ds})),n.d(t,"rc",(function(){return Ps})),n.d(t,"sc",(function(){return ds})),n.d(t,"tc",(function(){return Is})),n.d(t,"uc",(function(){return pd})),n.d(t,"vc",(function(){return gd})),n.d(t,"wc",(function(){return vd})),n.d(t,"xc",(function(){return md})),n.d(t,"yc",(function(){return bd})),n.d(t,"zc",(function(){return yd})),n.d(t,"Ac",(function(){return _d})),n.d(t,"Bc",(function(){return kd})),n.d(t,"Cc",(function(){return Sd})),n.d(t,"Dc",(function(){return Qd})),n.d(t,"Ec",(function(){return ss})),n.d(t,"Fc",(function(){return kn})),n.d(t,"Gc",(function(){return Cn})),n.d(t,"Hc",(function(){return Tt})),n.d(t,"Ic",(function(){return Bi})),n.d(t,"Jc",(function(){return Ui})),n.d(t,"Kc",(function(){return Hi})),n.d(t,"Lc",(function(){return Re})),n.d(t,"Mc",(function(){return He})),n.d(t,"Nc",(function(){return Xd})),n.d(t,"Oc",(function(){return rc})),n.d(t,"Pc",(function(){return nc})),n.d(t,"Qc",(function(){return as})),n.d(t,"Rc",(function(){return ah})),n.d(t,"Sc",(function(){return yc})),n.d(t,"Tc",(function(){return _c})),n.d(t,"Uc",(function(){return Cc})),n.d(t,"Vc",(function(){return kc})),n.d(t,"Wc",(function(){return Sc})),n.d(t,"Xc",(function(){return Oc})),n.d(t,"Yc",(function(){return qd}));var i=n("XNiG"),r=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("w1tV");function c(e){return{toString:e}.toString()}var l="__annotations__",u="__parameters__",d="__prop__metadata__";function h(e,t,n,i,r){return c((function(){var o=f(t);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof a)return o.call.apply(o,[this].concat(t)),this;var s=_construct(a,t);return function(e){return r&&r.apply(void 0,[e].concat(t)),(e.hasOwnProperty(l)?e[l]:Object.defineProperty(e,l,{value:[]})[l]).push(s),i&&i(e),e}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a}))}function f(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}function p(e,t,n){return c((function(){var i=f(t);function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof r)return i.apply(this,t),this;var o=_construct(r,t);return a.annotation=o,a;function a(e,t,n){for(var i=e.hasOwnProperty(u)?e[u]:Object.defineProperty(e,u,{value:[]})[u];i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(o),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}))}function g(e,t,n,i){return c((function(){var r=f(t);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof o)return r.apply(this,t),this;var a=_construct(o,t);return function(e,n){var r=e.constructor,o=r.hasOwnProperty(d)?r[d]:Object.defineProperty(r,d,{value:{}})[d];o[n]=o.hasOwnProperty(n)&&o[n]||[],o[n].unshift(a),i&&i.apply(void 0,[e,n].concat(t))}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}))}var v=p("Inject",(function(e){return{token:e}})),m=p("Optional"),b=p("Self"),y=p("SkipSelf"),_=p("Host"),C=p("Attribute",(function(e){return{attributeName:e}})),k=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function S(e){for(var t in e)if(e[t]===S)return t;throw Error("Could not find renamed property on target object.")}function O(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function T(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}var w=T;function A(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function E(e){return P(e,e[x])||P(e,e[L])}function P(e,t){return t&&t.token===e?t:null}function M(e){return e&&(e.hasOwnProperty(D)||e.hasOwnProperty(R))?e[D]:null}var x=S({"\u0275prov":S}),D=S({"\u0275inj":S}),I=S({"\u0275provFallback":S}),L=S({ngInjectableDef:S}),R=S({ngInjectorDef:S});function N(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(N).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function j(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var B=S({__forward_ref__:S});function F(e){return e.__forward_ref__=F,e.toString=function(){return N(this())},e}function H(e){return U(e)?e():e}function U(e){return"function"==typeof e&&e.hasOwnProperty(B)&&e.__forward_ref__===F}var Y="undefined"!=typeof globalThis&&globalThis,G="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Z="undefined"!=typeof global&&global,W=Y||Z||G||V,K=function(e){return e[e.Token=0]="Token",e[e.Attribute=1]="Attribute",e[e.ChangeDetectorRef=2]="ChangeDetectorRef",e[e.Invalid=3]="Invalid",e}({});function z(){var e=W.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}var Q,X=S({"\u0275cmp":S}),q=S({"\u0275dir":S}),$=S({"\u0275pipe":S}),J=S({"\u0275mod":S}),ee=S({"\u0275loc":S}),te=S({"\u0275fac":S}),ne=S({__NG_ELEMENT_ID__:S}),ie=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=T({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),re=new ie("INJECTOR",-1),oe={},ae=/\n/gm,se=S({provide:String,useValue:S}),ce=void 0;function le(e){var t=ce;return ce=e,t}function ue(e){var t=Q;return Q=e,t}function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;if(void 0===ce)throw new Error("inject() must be called from an injection context");return null===ce?ge(e,void 0,t):ce.get(e,t&k.Optional?null:void 0,t)}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;return(Q||de)(H(e),t)}function fe(e){throw new Error("invalid")}var pe=he;function ge(e,t,n){var i=E(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&k.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(N(e),"]"))}function ve(e){for(var t=[],n=0;n<e.length;n++){var i=H(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,o=k.Default,a=0;a<i.length;a++){var s=i[a];s instanceof m||"Optional"===s.ngMetadataName||s===m?o|=k.Optional:s instanceof y||"SkipSelf"===s.ngMetadataName||s===y?o|=k.SkipSelf:s instanceof b||"Self"===s.ngMetadataName||s===b?o|=k.Self:r=s instanceof v||s===v?s.token:s}t.push(he(r,o))}else t.push(he(i))}return t}var me=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe;if(t===oe){var n=new Error("NullInjectorError: No provider for ".concat(N(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),be=function e(){_classCallCheck(this,e)},ye=function e(){_classCallCheck(this,e)};function _e(e,t){for(var n=0;n<e.length;n++)t.push(e[n])}function Ce(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),Ce(i,t)):t!==e&&t.push(i)}return t}function ke(e,t){e.forEach((function(e){return Array.isArray(e)?ke(e,t):t(e)}))}function Se(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Oe(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Te(e,t){for(var n=[],i=0;i<e;i++)n.push(t);return n}function we(e,t,n){var i=Ee(e,t);return i>=0?e[1|i]=n:function(e,t,n,i){var r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i=~i,t,n),i}function Ae(e,t){var n=Ee(e,t);if(n>=0)return e[1|n]}function Ee(e,t){return function(e,t,n){for(var i=0,r=e.length>>1;r!==i;){var o=i+(r-i>>1),a=e[o<<1];if(t===a)return o<<1;a>t?r=o:i=o+1}return~(r<<1)}(e,t)}var Pe=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),Me=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),xe={},De=[],Ie=0;function Le(e){return c((function(){var t=e.type,n=t.prototype,i={},r={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===Pe.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||De,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Me.Emulated,id:"c",styles:e.styles||De,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,a=e.features,s=e.pipes;return r.id+=Ie++,r.inputs=Ue(e.inputs,i),r.outputs=Ue(e.outputs),a&&a.forEach((function(e){return e(r)})),r.directiveDefs=o?function(){return("function"==typeof o?o():o).map(Ne)}:null,r.pipeDefs=s?function(){return("function"==typeof s?s():s).map(je)}:null,r}))}function Re(e,t,n){var i=e.\u0275cmp;i.directiveDefs=function(){return t.map(Ne)},i.pipeDefs=function(){return n.map(je)}}function Ne(e){return Ve(e)||Ze(e)}function je(e){return We(e)}var Be={};function Fe(e){var t={type:e.type,bootstrap:e.bootstrap||De,declarations:e.declarations||De,imports:e.imports||De,exports:e.exports||De,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&c((function(){Be[e.id]=e.type})),t}function He(e,t){return c((function(){var n=ze(e,!0);n.declarations=t.declarations||De,n.imports=t.imports||De,n.exports=t.exports||De}))}function Ue(e,t){if(null==e)return xe;var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,t&&(t[r]=o)}return n}var Ye=Le;function Ge(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ve(e){return e[X]||null}function Ze(e){return e[q]||null}function We(e){return e[$]||null}function Ke(e,t){return e.hasOwnProperty(te)?e[te]:null}function ze(e,t){var n=e[J]||null;if(!n&&!0===t)throw new Error("Type ".concat(N(e)," does not have '\u0275mod' property."));return n}function Qe(e){return Array.isArray(e)&&"object"==typeof e[1]}function Xe(e){return Array.isArray(e)&&!0===e[1]}function qe(e){return 0!=(8&e.flags)}function $e(e){return 2==(2&e.flags)}function Je(e){return 1==(1&e.flags)}function et(e){return null!==e.template}function tt(e){return 0!=(512&e[2])}var nt=void 0;function it(e){nt=e}function rt(){return void 0!==nt?nt:"undefined"!=typeof document?document:void 0}function ot(e){return!!e.listen}var at={createRenderer:function(e,t){return rt()}};function st(e){for(;Array.isArray(e);)e=e[0];return e}function ct(e,t){return st(t[e+20])}function lt(e,t){return st(t[e.index])}function ut(e,t){return e.data[t+20]}function dt(e,t){return e[t+20]}function ht(e,t){var n=t[e];return Qe(n)?n:n[0]}function ft(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function pt(e){return 4==(4&e[2])}function gt(e){return 128==(128&e[2])}function vt(e,t){return null===e||null==t?null:e[t]}function mt(e){e[18]=0}function bt(e,t){e[5]+=t;for(var n=e,i=e[3];null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}var yt={lFrame:Zt(null),bindingsEnabled:!0,checkNoChangesMode:!1};function _t(){return yt.bindingsEnabled}function Ct(){yt.bindingsEnabled=!0}function kt(){yt.bindingsEnabled=!1}function St(){return yt.lFrame.lView}function Ot(){return yt.lFrame.tView}function Tt(e){yt.lFrame.contextLView=e}function wt(){return yt.lFrame.previousOrParentTNode}function At(e,t){yt.lFrame.previousOrParentTNode=e,yt.lFrame.isParent=t}function Et(){return yt.lFrame.isParent}function Pt(){yt.lFrame.isParent=!1}function Mt(){return yt.checkNoChangesMode}function xt(e){yt.checkNoChangesMode=e}function Dt(){var e=yt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function It(){return yt.lFrame.bindingIndex}function Lt(e){return yt.lFrame.bindingIndex=e}function Rt(){return yt.lFrame.bindingIndex++}function Nt(e){var t=yt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function jt(e,t){var n=yt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Bt(t)}function Bt(e){yt.lFrame.currentDirectiveIndex=e}function Ft(e){var t=yt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Ht(){return yt.lFrame.currentQueryIndex}function Ut(e){yt.lFrame.currentQueryIndex=e}function Yt(e,t){var n=Vt();yt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function Gt(e,t){var n=Vt(),i=e[1];yt.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex}function Vt(){var e=yt.lFrame,t=null===e?null:e.child;return null===t?Zt(e):t}function Zt(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function Wt(){var e=yt.lFrame;return yt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var Kt=Wt;function zt(){var e=Wt();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Qt(){return yt.lFrame.selectedIndex}function Xt(e){yt.lFrame.selectedIndex=e}function qt(){var e=yt.lFrame;return ut(e.tView,e.selectedIndex)}function $t(){yt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Jt(){yt.lFrame.currentNamespace="http://www.w3.org/1998/MathML/"}function en(){yt.lFrame.currentNamespace=null}function tn(e,t){for(var n=t.directiveStart,i=t.directiveEnd;n<i;n++){var r=e.data[n];r.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,r.afterContentInit),r.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,r.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,r.afterContentChecked)),r.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,r.afterViewInit),r.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,r.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,r.afterViewChecked)),null!=r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,r.onDestroy)}}function nn(e,t,n){an(e,t,3,n)}function rn(e,t,n,i){(3&e[2])===n&&an(e,t,n,i)}function on(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function an(e,t,n,i){for(var r=null!=i?i:-1,o=0,a=void 0!==i?65535&e[18]:0;a<t.length;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=i&&o>=i)break}else t[a]<0&&(e[18]+=65536),(o<r||-1==r)&&(sn(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function sn(e,t,n,i){var r=n[i]<0,o=n[i+1],a=e[r?-n[i]:n[i]];r?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(a)):o.call(a)}var cn=function e(t,n,i){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i};function ln(e,t,n){for(var i=ot(e),r=0;r<n.length;){var o=n[r];if("number"==typeof o){if(0!==o)break;r++;var a=n[r++],s=n[r++],c=n[r++];i?e.setAttribute(t,s,c,a):t.setAttributeNS(a,s,c)}else{var l=o,u=n[++r];dn(l)?i&&e.setProperty(t,l,u):i?e.setAttribute(t,l,u):t.setAttribute(l,u),r++}}return r}function un(e){return 3===e||4===e||6===e}function dn(e){return 64===e.charCodeAt(0)}function hn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,i=0;i<t.length;i++){var r=t[i];"number"==typeof r?n=r:0===n||fn(e,n,r,null,-1===n||2===n?t[++i]:null)}return e}function fn(e,t,n,i,r){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var c=e[o];if("number"==typeof c)break;if(c===n){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}function pn(e){return-1!==e}function gn(e){return 32767&e}function vn(e){return e>>16}function mn(e,t){for(var n=vn(e),i=t;n>0;)i=i[15],n--;return i}function bn(e){return"string"==typeof e?e:null==e?"":""+e}function yn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():bn(e)}var _n=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(W);function Cn(e){return{name:"window",target:e.ownerDocument.defaultView}}function kn(e){return{name:"document",target:e.ownerDocument}}function Sn(e){return{name:"body",target:e.ownerDocument.body}}function On(e){return e instanceof Function?e():e}var Tn=!0;function wn(e){var t=Tn;return Tn=e,t}var An=0;function En(e,t){var n=Mn(e,t);if(-1!==n)return n;var i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,Pn(i.data,e),Pn(t,null),Pn(i.blueprint,null));var r=xn(e,t),o=e.injectorIndex;if(pn(r))for(var a=gn(r),s=mn(r,t),c=s[1].data,l=0;l<8;l++)t[o+l]=s[a+l]|c[a+l];return t[o+8]=r,o}function Pn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Mn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function xn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],i=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function Dn(e,t,n){!function(e,t,n){var i="string"!=typeof n?n[ne]:n.charCodeAt(0)||0;null==i&&(i=n[ne]=An++);var r=255&i,o=1<<r,a=64&r,s=32&r,c=t.data;128&r?a?s?c[e+7]|=o:c[e+6]|=o:s?c[e+5]|=o:c[e+4]|=o:a?s?c[e+3]|=o:c[e+2]|=o:s?c[e+1]|=o:c[e]|=o}(e,t,n)}function In(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.Default,r=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[ne];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){Yt(t,e);try{var a=o();if(null!=a||i&k.Optional)return a;throw new Error("No provider for ".concat(yn(n),"!"))}finally{Kt()}}else if("number"==typeof o){if(-1===o)return new Hn(e,t);var s=null,c=Mn(e,t),l=-1,u=i&k.Host?t[16][6]:null;for((-1===c||i&k.SkipSelf)&&(l=-1===c?xn(e,t):t[c+8],Fn(i,!1)?(s=t[1],c=gn(l),t=mn(l,t)):c=-1);-1!==c;){l=t[c+8];var d=t[1];if(Bn(o,c,d.data)){var h=Rn(c,t,n,s,i,u);if(h!==Ln)return h}Fn(i,t[1].data[c+8]===u)&&Bn(o,c,t)?(s=d,c=gn(l),t=mn(l,t)):c=-1}}}if(i&k.Optional&&void 0===r&&(r=null),0==(i&(k.Self|k.Host))){var f=t[9],p=ue(void 0);try{return f?f.get(n,r,i&k.Optional):ge(n,r,i&k.Optional)}finally{ue(p)}}if(i&k.Optional)return r;throw new Error("NodeInjector: NOT_FOUND [".concat(yn(n),"]"))}var Ln={};function Rn(e,t,n,i,r,o){var a=t[1],s=a.data[e+8],c=Nn(s,a,n,null==i?$e(s)&&Tn:i!=a&&3===s.type,r&k.Host&&o===s);return null!==c?jn(t,a,c,s):Ln}function Nn(e,t,n,i,r){for(var o=e.providerIndexes,a=t.data,s=65535&o,c=e.directiveStart,l=o>>16,u=r?s+l:e.directiveEnd,d=i?s:s+l;d<u;d++){var h=a[d];if(d<c&&n===h||d>=c&&h.type===n)return d}if(r){var f=a[c];if(f&&et(f)&&f.type===n)return c}return null}function jn(e,t,n,i){var r=e[n],o=t.data;if(r instanceof cn){var a=r;if(a.resolving)throw new Error("Circular dep for "+yn(o[n]));var s,c=wn(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=ue(a.injectImpl)),Yt(e,i);try{r=e[n]=a.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){var i=t.onChanges,r=t.onInit,o=t.doCheck;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i)),r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{a.injectImpl&&ue(s),wn(c),a.resolving=!1,Kt()}}return r}function Bn(e,t,n){var i=64&e,r=32&e;return!!((128&e?i?r?n[t+7]:n[t+6]:r?n[t+5]:n[t+4]:i?r?n[t+3]:n[t+2]:r?n[t+1]:n[t])&1<<e)}function Fn(e,t){return!(e&k.Self||e&k.Host&&t)}var Hn=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return In(this._tNode,this._lView,e,void 0,t)}}]),e}();function Un(e){var t=e;if(U(e))return function(){var e=Un(H(t));return e?e():null};var n=Ke(t);if(null===n){var i=M(t);n=i&&i.factory}return n||null}function Yn(e){return c((function(){var t=Object.getPrototypeOf(e.prototype).constructor,n=t[te]||Un(t);return null!==n?n:function(e){return new e}}))}function Gn(e){return e.ngDebugContext}function Vn(e){return e.ngOriginalError}function Zn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e.error.apply(e,n)}var Wn=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||Zn}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Gn(e)?Gn(e):this._findContext(Vn(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Vn(e);t&&Vn(t);)t=Vn(t);return t}}]),e}(),Kn=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),e}(),zn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Kn),Qn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Kn),Xn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Kn),qn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Kn),$n=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Kn);function Jn(e){return e instanceof Kn?e.changingThisBreaksApplicationSecurity:e}function ei(e,t){var n=ti(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===t}function ti(e){return e instanceof Kn&&e.getTypeName()||null}function ni(e){return new zn(e)}function ii(e){return new Qn(e)}function ri(e){return new Xn(e)}function oi(e){return new qn(e)}function ai(e){return new $n(e)}var si=!0,ci=!1;function li(){return ci=!0,si}function ui(){if(ci)throw new Error("Cannot enable prod mode after platform setup.");si=!1}var di=function(){function e(t){_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i),n=this.inertDocument.createElement("body"),i.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(i){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;var n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var i=t.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.removeAttribute(i)}for(var r=e.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}]),e}(),hi=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,fi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function pi(e){return(e=String(e)).match(hi)||e.match(fi)?e:(li()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function gi(e){return(e=String(e)).split(",").map((function(e){return pi(e.trim())})).join(", ")}function vi(e){var t,n={},i=_createForOfIteratorHelper(e.split(","));try{for(i.s();!(t=i.n()).done;){n[t.value]=!0}}catch(r){i.e(r)}finally{i.f()}return n}function mi(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];for(var s in a)a.hasOwnProperty(s)&&(e[s]=!0)}return e}var bi,yi=vi("area,br,col,hr,img,wbr"),_i=vi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ci=vi("rp,rt"),ki=mi(Ci,_i),Si=mi(yi,mi(_i,vi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mi(Ci,vi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ki),Oi=vi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ti=vi("srcset"),wi=mi(Oi,Ti,vi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ai=vi("script,style,template"),Ei=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!Si.hasOwnProperty(t))return this.sanitizedSomething=!0,!Ai.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n=e.attributes,i=0;i<n.length;i++){var r=n.item(i),o=r.name,a=o.toLowerCase();if(wi.hasOwnProperty(a)){var s=r.value;Oi[a]&&(s=pi(s)),Ti[a]&&(s=gi(s)),this.buf.push(" ",o,'="',xi(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();Si.hasOwnProperty(t)&&!yi.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(xi(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}]),e}(),Pi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mi=/([^\#-~ |!])/g;function xi(e){return e.replace(/&/g,"&amp;").replace(Pi,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Mi,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Di(e,t){var n=null;try{bi=bi||new di(e);var i=t?String(t):"";n=bi.getInertBodyElement(i);var r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=bi.getInertBodyElement(i)}while(i!==o);var a=new Ei,s=a.sanitizeChildren(Ii(n)||n);return li()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var c=Ii(n)||n;c.firstChild;)c.removeChild(c.firstChild)}}function Ii(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Li=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),Ri=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ni=/^url\(([^)]+)\)$/;function ji(e){if(!(e=String(e).trim()))return"";var t=e.match(Ni);return t&&pi(t[1])===t[1]||e.match(Ri)&&function(e){for(var t=!0,n=!0,i=0;i<e.length;i++){var r=e.charAt(i);"'"===r&&n?t=!t:'"'===r&&t&&(n=!n)}return t&&n}(e)?e:(li()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}function Bi(e){var t=Wi();return t?t.sanitize(Li.HTML,e)||"":ei(e,"HTML")?Jn(e):Di(rt(),bn(e))}function Fi(e){var t=Wi();return t?t.sanitize(Li.STYLE,e)||"":ei(e,"Style")?Jn(e):ji(bn(e))}function Hi(e){var t=Wi();return t?t.sanitize(Li.URL,e)||"":ei(e,"URL")?Jn(e):pi(bn(e))}function Ui(e){var t=Wi();if(t)return t.sanitize(Li.RESOURCE_URL,e)||"";if(ei(e,"ResourceURL"))return Jn(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function Yi(e){var t=Wi();if(t)return t.sanitize(Li.SCRIPT,e)||"";if(ei(e,"Script"))return Jn(e);throw new Error("unsafe value used in a script context")}function Gi(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Ui:Hi}(t,n)(e)}var Vi=function(e,t,n){if(void 0===t&&void 0===n)return Fi(e);var i=!0;return 1&(n=n||3)&&(i=Zi(e)),2&n?i?Fi(t):Jn(t):i};function Zi(e){return"background-image"===e||"backgroundImage"===e||"background"===e||"border-image"===e||"borderImage"===e||"border-image-source"===e||"borderImageSource"===e||"filter"===e||"list-style"===e||"listStyle"===e||"list-style-image"===e||"listStyleImage"===e||"clip-path"===e||"clipPath"===e}function Wi(){var e=St();return e&&e[12]}function Ki(e,t){e.__ngContext__=t}function zi(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function Qi(){throw new Error("Cannot mix multi providers and regular providers")}function Xi(e,t,n){for(var i=e.length;;){var r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){var o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}function qi(e,t,n){for(var i=0;i<e.length;){var r=e[i++];if(n&&"class"===r){if(-1!==Xi((r=e[i]).toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function $i(e){return 0===e.type&&"ng-template"!==e.tagName}function Ji(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function er(e,t,n){for(var i=4,r=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(un(e[t]))return t;return e.length}(r),a=!1,s=0;s<t.length;s++){var c=t[s];if("number"!=typeof c){if(!a)if(4&i){if(i=2|1&i,""!==c&&!Ji(e,c,n)||""===c&&1===t.length){if(tr(i))return!1;a=!0}}else{var l=8&i?c:t[++s];if(8&i&&null!==e.attrs){if(!qi(e.attrs,l,n)){if(tr(i))return!1;a=!0}continue}var u=nr(8&i?"class":c,r,$i(e),n);if(-1===u){if(tr(i))return!1;a=!0;continue}if(""!==l){var d;d=u>o?"":r[u+1].toLowerCase();var h=8&i?d:null;if(h&&-1!==Xi(h,l,0)||2&i&&l!==d){if(tr(i))return!1;a=!0}}}}else{if(!a&&!tr(i)&&!tr(c))return!1;if(a&&tr(c))continue;a=!1,i=c|1&i}}return tr(i)||a}function tr(e){return 0==(1&e)}function nr(e,t,n,i){if(null===t)return-1;var r=0;if(i||!n){for(var o=!1;r<t.length;){var a=t[r];if(a===e)return r;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++r];"string"==typeof s;)s=t[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function ir(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<t.length;i++)if(er(e,t[i],n))return!0;return!1}function rr(e,t){e:for(var n=0;n<t.length;n++){var i=t[n];if(e.length===i.length){for(var r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function or(e,t){return e?":not("+t.trim()+")":t}function ar(e){for(var t=e[0],n=1,i=2,r="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&i){var s=e[++n];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""===r||tr(a)||(t+=or(o,r),r=""),i=a,o=o||!tr(i);n++}return""!==r&&(t+=or(o,r)),t}var sr={};function cr(e){var t=e[3];return Xe(t)?t[3]:t}function lr(e){return dr(e[13])}function ur(e){return dr(e[4])}function dr(e){for(;null!==e&&!Xe(e);)e=e[4];return e}function hr(e){pr(Ot(),St(),Qt()+e,Mt())}function fr(e){pr(Ot(),St(),e,Mt())}function pr(e,t,n,i){if(!i)if(3==(3&t[2])){var r=e.preOrderCheckHooks;null!==r&&nn(t,r,n)}else{var o=e.preOrderHooks;null!==o&&rn(t,o,0,n)}Xt(n)}var gr={marker:"element"},vr={marker:"comment"};function mr(e,t){return e<<17|t<<2}function br(e){return e>>17&32767}function yr(e){return 2|e}function _r(e){return(131068&e)>>2}function Cr(e,t){return-131069&e|t<<2}function kr(e){return 1|e}function Sr(e,t){var n=e.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var r=n[i],o=n[i+1];if(-1!==o){var a=e.data[o];Ut(r),a.contentQueries(2,t[o],o)}}}function Or(e,t,n){return ot(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Tr(e,t,n,i,r,o,a,s,c,l){var u=t.blueprint.slice();return u[0]=r,u[2]=140|i,mt(u),u[3]=u[15]=e,u[8]=n,u[10]=a||e&&e[10],u[11]=s||e&&e[11],u[12]=c||e&&e[12]||null,u[9]=l||e&&e[9]||null,u[6]=o,u[16]=2==t.type?e[16]:u,u}function wr(e,t,n,i,r,o){var a=n+20,s=e.data[a]||function(e,t,n,i,r,o){var a=wt(),s=Et(),c=s?a:a&&a.parent,l=e.data[n]=Nr(0,c&&c!==t?c:null,i,n,r,o);return null===e.firstChild&&(e.firstChild=l),a&&(!s||null!=a.child||null===l.parent&&2!==a.type?s||(a.next=l):a.child=l),l}(e,t,a,i,r,o);return At(s,!0),s}function Ar(e,t,n){Gt(t,t[6]);try{var i=e.viewQuery;null!==i&&oo(1,i,n);var r=e.template;null!==r&&Mr(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Sr(e,t),e.staticViewQueries&&oo(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)eo(e,t[n])}(t,o)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),a}finally{t[2]&=-5,zt()}}function Er(e,t,n,i){var r=t[2];if(256!=(256&r)){Gt(t,t[6]);var o=Mt();try{mt(t),Lt(e.bindingStartIndex),null!==n&&Mr(e,t,n,2,i);var a=3==(3&r);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&nn(t,s,null)}else{var c=e.preOrderHooks;null!==c&&rn(t,c,0,null),on(t,0)}if(function(e){for(var t=lr(e);null!==t;t=ur(t))if(t[2])for(var n=t[9],i=0;i<n.length;i++){var r=n[i],o=r[3];0==(1024&r[2])&&bt(o,1),r[2]|=1024}}(t),function(e){for(var t=lr(e);null!==t;t=ur(t))for(var n=10;n<t.length;n++){var i=t[n],r=i[1];gt(i)&&Er(r,i,r.template,i[8])}}(t),null!==e.contentQueries&&Sr(e,t),!o)if(a){var l=e.contentCheckHooks;null!==l&&nn(t,l)}else{var u=e.contentHooks;null!==u&&rn(t,u,1),on(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var i=e.expandoStartIndex,r=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(Xt(0-a),r=i+=9+n[++o]):i+=a:(null!==a&&(jt(i,r),a(2,t[r])),r++)}}finally{Xt(-1)}}(e,t);var d=e.components;null!==d&&function(e,t){for(var n=0;n<t.length;n++)Jr(e,t[n])}(t,d);var h=e.viewQuery;if(null!==h&&oo(2,h,i),!o)if(a){var f=e.viewCheckHooks;null!==f&&nn(t,f)}else{var p=e.viewHooks;null!==p&&rn(t,p,2),on(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,bt(t[3],-1))}finally{zt()}}}function Pr(e,t,n,i){var r=t[10],o=!Mt(),a=pt(t);try{o&&!a&&r.begin&&r.begin(),a&&Ar(e,t,i),Er(e,t,n,i)}finally{o&&!a&&r.end&&r.end()}}function Mr(e,t,n,i,r){var o=Qt();try{Xt(-1),2&i&&t.length>20&&pr(e,t,0,Mt()),n(i,r)}finally{Xt(o)}}function xr(e,t,n){if(qe(t))for(var i=t.directiveEnd,r=t.directiveStart;r<i;r++){var o=e.data[r];o.contentQueries&&o.contentQueries(1,n[r],r)}}function Dr(e,t,n){_t()&&(function(e,t,n,i){var r=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||En(n,t),Ki(i,t);for(var a=n.initialInputs,s=r;s<o;s++){var c=e.data[s],l=et(c);l&&zr(t,n,c);var u=jn(t,e,s,n);Ki(u,t),null!==a&&Xr(0,s-r,u,c,0,a),l&&(ht(n.index,t)[8]=u)}}(e,t,n,lt(n,t)),128==(128&n.flags)&&function(e,t,n){var i=n.directiveStart,r=n.directiveEnd,o=e.expandoInstructions,a=e.firstCreatePass,s=n.index-20,c=yt.lFrame.currentDirectiveIndex;try{Xt(s);for(var l=i;l<r;l++){var u=e.data[l],d=t[l];Bt(l),null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs?Yr(u,d):a&&o.push(null)}}finally{Xt(-1),Bt(c)}}(e,t,n))}function Ir(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lt,i=t.localNames;if(null!==i)for(var r=t.index+1,o=0;o<i.length;o+=2){var a=i[o+1],s=-1===a?n(t,e):e[a];e[r++]=s}}function Lr(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Rr(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Rr(e,t,n,i,r,o,a,s,c,l){var u=20+i,d=u+r,h=function(e,t){for(var n=[],i=0;i<t;i++)n.push(i<e?null:sr);return n}(u,d);return h[1]={type:e,id:t,blueprint:h,template:n,queries:null,viewQuery:s,node:null,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:l,incompleteFirstPass:!1}}function Nr(e,t,n,i,r,o){return{type:n,index:i,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function jr(e,t,n){for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function Br(e,t,n,i,r,o,a,s){var c,l,u=lt(t,n),d=t.inputs;!s&&null!=d&&(c=d[i])?(ho(e,n,c,i,r),$e(t)&&function(e,t){var n=ht(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(i="class"===(l=i)?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l,r=null!=a?a(r,t.tagName||"",i):r,ot(o)?o.setProperty(u,i,r):dn(i)||(u.setProperty?u.setProperty(i,r):u[i]=r))}function Fr(e,t,n,i){var r=!1;if(_t()){var o=function(e,t,n){var i=e.directiveRegistry,r=null;if(i)for(var o=0;o<i.length;o++){var a=i[o];ir(n,a.selectors,!1)&&(r||(r=[]),Dn(En(n,t),e,a.type),et(a)?(2&n.flags&&zi(n),Vr(e,n),r.unshift(a)):r.push(a))}return r}(e,t,n),a=null===i?null:{"":-1};if(null!==o){var s=0;r=!0,Wr(n,e.data.length,o.length);for(var c=0;c<o.length;c++){var l=o[c];l.providersResolver&&l.providersResolver(l)}Gr(e,n,o.length);for(var u=!1,d=!1,h=0;h<o.length;h++){var f=o[h];n.mergedAttrs=hn(n.mergedAttrs,f.hostAttrs),Kr(e,t,f),Zr(e.data.length-1,f,a),null!==f.contentQueries&&(n.flags|=8),null===f.hostBindings&&null===f.hostAttrs&&0===f.hostVars||(n.flags|=128),!u&&(f.onChanges||f.onInit||f.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),u=!0),d||!f.onChanges&&!f.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),d=!0),Hr(e,f),s+=f.hostVars}!function(e,t){for(var n=t.directiveEnd,i=e.data,r=t.attrs,o=[],a=null,s=null,c=t.directiveStart;c<n;c++){var l=i[c],u=l.inputs,d=null===r||$i(t)?null:qr(u,r);o.push(d),a=jr(u,c,a),s=jr(l.outputs,c,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n),Ur(e,t,s)}a&&function(e,t,n){if(t)for(var i=e.localNames=[],r=0;r<t.length;r+=2){var o=n[t[r+1]];if(null==o)throw new Error("Export of name '".concat(t[r+1],"' not found!"));i.push(t[r],o)}}(n,i,a)}return n.mergedAttrs=hn(n.mergedAttrs,n.attrs),r}function Hr(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function Ur(e,t,n){for(var i=0;i<n;i++)t.push(sr),e.blueprint.push(sr),e.data.push(null)}function Yr(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Gr(e,t,n){var i=20-t.index,r=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(i,r,n)}function Vr(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Zr(e,t,n){if(n){if(t.exportAs)for(var i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;et(t)&&(n[""]=e)}}function Wr(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Kr(e,t,n){e.data.push(n);var i=n.factory||(n.factory=Ke(n.type)),r=new cn(i,et(n),null);e.blueprint.push(r),t.push(r)}function zr(e,t,n){var i=lt(t,e),r=Lr(n),o=e[10],a=to(e,Tr(e,r,null,n.onPush?64:16,i,t,o,o.createRenderer(i,n)));e[t.index]=a}function Qr(e,t,n,i,r,o){var a=lt(e,t),s=t[11];if(null==i)ot(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var c=null==r?bn(i):r(i,e.tagName||"",n);ot(s)?s.setAttribute(a,n,c,o):o?a.setAttributeNS(o,n,c):a.setAttribute(n,c)}}function Xr(e,t,n,i,r,o){var a=o[t];if(null!==a)for(var s=i.setInput,c=0;c<a.length;){var l=a[c++],u=a[c++],d=a[c++];null!==s?i.setInput(n,d,l,u):n[u]=d}}function qr(e,t){for(var n=null,i=0;i<t.length;){var r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function $r(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function Jr(e,t){var n=ht(t,e);if(gt(n)){var i=n[1];80&n[2]?Er(i,n,i.template,n[8]):n[5]>0&&function e(t){for(var n=lr(t);null!==n;n=ur(n))for(var i=10;i<n.length;i++){var r=n[i];if(1024&r[2]){var o=r[1];Er(o,r,o.template,r[8])}else r[5]>0&&e(r)}var a=t[1].components;if(null!==a)for(var s=0;s<a.length;s++){var c=ht(a[s],t);gt(c)&&c[5]>0&&e(c)}}(n)}}function eo(e,t){var n=ht(t,e),i=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n),Ar(i,n,n[8])}function to(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function no(e){for(;e;){e[2]|=64;var t=cr(e);if(tt(e)&&!t)return e;e=t}return null}function io(e,t,n){var i=t[10];i.begin&&i.begin();try{Er(e,t,e.template,n)}catch(r){throw uo(t,r),r}finally{i.end&&i.end()}}function ro(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],i=ft(n),r=i[1];Pr(r,i,r.template,n)}}(e[8])}function oo(e,t,n){Ut(0),t(e,n)}var ao=Promise.resolve(null);function so(e){return e[7]||(e[7]=[])}function co(e){return e.cleanup||(e.cleanup=[])}function lo(e,t,n){return(null===e||et(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function uo(e,t){var n=e[9],i=n?n.get(Wn,null):null;i&&i.handleError(t)}function ho(e,t,n,i,r){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],c=t[a],l=e.data[a];null!==l.setInput?l.setInput(c,r,i,s):c[s]=r}}function fo(e,t,n){var i=ct(t,e),r=e[11];ot(r)?r.setValue(i,n):i.textContent=n}function po(e,t){var n=t[3];return-1===e.index?Xe(n)?n:null:n}function go(e,t){var n=po(e,t);return n?Eo(t[11],n[7]):null}function vo(e,t,n,i,r){if(null!=i){var o,a=!1;Xe(i)?o=i:Qe(i)&&(a=!0,i=i[0]);var s=st(i);0===e&&null!==n?null==r?wo(t,n,s):To(t,n,s,r||null):1===e&&null!==n?To(t,n,s,r||null):2===e?Do(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,i,r){var o=n[7];o!==st(n)&&vo(t,e,i,o,r);for(var a=10;a<n.length;a++){var s=n[a];Lo(s[1],s,e,t,i,o)}}(t,e,o,n,r)}}function mo(e,t){return ot(t)?t.createText(e):t.createTextNode(e)}function bo(e,t,n,i){var r=go(e.node,t);r&&Lo(e,t,t[11],n?1:2,r,i)}function yo(e,t){var n=e[9],i=n.indexOf(t);1024&t[2]&&bt(t[3],-1),n.splice(i,1)}function _o(e,t){if(!(e.length<=10)){var n=10+t,i=e[n];if(i){var r=i[17];null!==r&&r!==e&&yo(r,i),t>0&&(e[n-1][4]=i[4]);var o=Oe(e,10+t);bo(i[1],i,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Co(e,t){if(!(256&t[2])){var n=t[11];ot(n)&&n.destroyNode&&Lo(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return So(e[1],e);for(;t;){var n=null;if(Qe(t))n=t[13];else{var i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)Qe(t)&&So(t[1],t),t=ko(t,e);null===t&&(t=e),Qe(t)&&So(t[1],t),n=t&&t[4]}t=n}}(t)}}function ko(e,t){var n;return Qe(e)&&(n=e[6])&&2===n.type?po(n,e):e[3]===t?null:e[3]}function So(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var i=0;i<n.length;i+=2){var r=t[n[i]];if(!(r instanceof cn)){var o=n[i+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(r[o[a]]);else o.call(r)}}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var i=t[7],r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){var o=n[r+1],a="function"==typeof o?o(t):st(t[o]),s=i[n[r+2]],c=n[r+3];"boolean"==typeof c?a.removeEventListener(n[r],s,c):c>=0?i[c]():i[-c].unsubscribe(),r+=2}else n[r].call(i[n[r+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&ot(t[11])&&t[11].destroy();var i=t[17];if(null!==i&&Xe(t[3])){i!==t[3]&&yo(i,t);var r=t[19];null!==r&&r.detachView(e)}}}function Oo(e,t,n){for(var i=t.parent;null!=i&&(4===i.type||5===i.type);)i=(t=i).parent;if(null==i){var r=n[6];return 2===r.type?go(r,n):n[0]}if(t&&5===t.type&&4&t.flags)return lt(t,n).parentNode;if(2&i.flags){var o=e.data,a=o[o[i.index].directiveStart].encapsulation;if(a!==Me.ShadowDom&&a!==Me.Native)return null}return lt(i,n)}function To(e,t,n,i){ot(e)?e.insertBefore(t,n,i):t.insertBefore(n,i,!0)}function wo(e,t,n){ot(e)?e.appendChild(t,n):t.appendChild(n)}function Ao(e,t,n,i){null!==i?To(e,t,n,i):wo(e,t,n)}function Eo(e,t){return ot(e)?e.parentNode(t):t.parentNode}function Po(e,t){if(2===e.type){var n=po(e,t);return null===n?null:xo(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?lt(e,t):null}function Mo(e,t,n,i){var r=Oo(e,i,t);if(null!=r){var o=t[11],a=Po(i.parent||t[6],t);if(Array.isArray(n))for(var s=0;s<n.length;s++)Ao(o,r,n[s],a);else Ao(o,r,n,a)}}function xo(e,t){var n=10+e+1;if(n<t.length){var i=t[n],r=i[1].firstChild;if(null!==r)return function e(t,n){if(null!==n){var i=n.type;if(3===i)return lt(n,t);if(0===i)return xo(-1,t[n.index]);if(4===i||5===i){var r=n.child;if(null!==r)return e(t,r);var o=t[n.index];return Xe(o)?xo(-1,o):st(o)}var a=t[16],s=a[6],c=cr(a),l=s.projection[n.projection];return null!=l?e(c,l):e(t,n.next)}return null}(i,r)}return t[7]}function Do(e,t,n){var i=Eo(e,t);i&&function(e,t,n,i){ot(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}function Io(e,t,n,i,r,o,a){for(;null!=n;){var s=i[n.index],c=n.type;a&&0===t&&(s&&Ki(st(s),i),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(Io(e,t,n.child,i,r,o,!1),vo(t,e,r,s,o)):1===c?No(e,t,i,n,r,o):vo(t,e,r,s,o)),n=a?n.projectionNext:n.next}}function Lo(e,t,n,i,r,o){Io(n,i,e.node.child,t,r,o,!1)}function Ro(e,t,n){No(t[11],0,t,n,Oo(e,n,t),Po(n.parent||t[6],t))}function No(e,t,n,i,r,o){var a=n[16],s=a[6].projection[i.projection];if(Array.isArray(s))for(var c=0;c<s.length;c++)vo(t,e,r,s[c],o);else Io(e,t,s,a[3],r,o,!0)}function jo(e,t,n){ot(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Bo(e,t,n){ot(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var Fo,Ho,Uo,Yo=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Co(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,i;t=this._lView[1],i=e,so(n=this._lView).push(i),t.firstCreatePass&&co(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){no(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){io(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){xt(!0);try{io(e,t,n)}finally{xt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Lo(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,i,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==i;){var a=n[i.index];if(null!==a&&r.push(st(a)),Xe(a))for(var s=10;s<a.length;s++){var c=a[s],l=c[1].firstChild;null!==l&&e(c[1],c,l,r)}var u=i.type;if(4===u||5===u)e(t,n,i.child,r);else if(1===u){var d=n[16],h=d[6].projection[i.projection];if(Array.isArray(h))r.push.apply(r,_toConsumableArray2(h));else{var f=cr(d);e(f[1],f,h,r,!0)}}i=o?i.projectionNext:i.next}return r}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}(),Go=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e))._view=e,i}return _createClass(n,[{key:"detectChanges",value:function(){ro(this._view)}},{key:"checkNoChanges",value:function(){!function(e){xt(!0);try{ro(e)}finally{xt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Yo);function Vo(e,t,n){return Fo||(Fo=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e)),new Fo(lt(t,n))}function Zo(e,t,n,i){return Ho||(Ho=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this))._declarationView=e,o._declarationTContainer=i,o.elementRef=r,o}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Tr(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var i=this._declarationView[19];return null!==i&&(n[19]=i.createEmbeddedView(t)),Ar(t,n,e),new Yo(n)}}]),n}(e)),0===n.type?new Ho(i,n,Vo(t,n,i)):null}function Wo(e,t,n,i){var r;Uo||(Uo=function(e){_inherits(i,e);var n=_createSuper(i);function i(e,t,r){var o;return _classCallCheck(this,i),(o=n.call(this))._lContainer=e,o._hostTNode=t,o._hostView=r,o}return _createClass(i,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"createEmbeddedView",value:function(e,t,n){var i=e.createEmbeddedView(t||{});return this.insert(i,n),i}},{key:"createComponent",value:function(e,t,n,i,r){var o=n||this.parentInjector;if(!r&&null==e.ngModule&&o){var a=o.get(be,null);a&&(r=a)}var s=e.create(o,i,void 0,r);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,i=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Xe(n[3])){var r=this.indexOf(e);if(-1!==r)this.detach(r);else{var o=n[3],a=new Uo(o,o[6],o[3]);a.detach(a.indexOf(e))}}var s=this._adjustIndex(t);return function(e,t,n,i){var r=10+i,o=n.length;i>0&&(n[r-1][4]=t),i<o-10?(t[4]=n[r],Se(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(i,n,this._lContainer,s),bo(i,n,!0,xo(s,this._lContainer)),e.attachToViewContainerRef(this),Se(this._lContainer[8],s,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);!function(e,t){var n=_o(e,t);n&&Co(n[1],n)}(this._lContainer,t),Oe(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=_o(this._lContainer,t);return n&&null!=Oe(this._lContainer[8],t)?new Yo(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return Vo(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new Hn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=xn(this._hostTNode,this._hostView),t=mn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var i=n.parent.injectorIndex,r=n.parent;null!=r.parent&&i==r.parent.injectorIndex;)r=r.parent;return r}for(var o=vn(e),a=t,s=t[6];o>1;)s=(a=a[15])[6],o--;return s}(e,this._hostView,this._hostTNode);return pn(e)&&null!=n?new Hn(n,t):new Hn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),i}(e));var o=i[n.index];if(Xe(o))r=o;else{var a;if(4===n.type)a=st(o);else if(a=i[11].createComment(""),tt(i)){var s=i[11],c=lt(n,i);To(s,Eo(s,c),a,function(e,t){return ot(e)?e.nextSibling(t):t.nextSibling}(s,c))}else Mo(i[1],i,a,n);i[n.index]=r=$r(o,i,a,n),to(i,r)}return new Uo(r,n,i)}function Ko(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&$e(e)){var i=ht(e.index,t);return new Yo(i,i)}return 3===e.type||0===e.type||4===e.type||5===e.type?new Yo(t[16],t):null}(wt(),St(),e)}var zo=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Qo()},e}(),Qo=Ko,Xo=Function;function qo(e){return"function"==typeof e}var $o=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Jo=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,ea=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,ta=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/,na=function(){function e(t){_classCallCheck(this,e),this._reflect=t||W.Reflect}return _createClass(e,[{key:"isReflectionEnabled",value:function(){return!0}},{key:"factory",value:function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return _construct(e,n)}}},{key:"_zipTypesAndAnnotations",value:function(e,t){var n;n=Te(void 0===e?t.length:e.length);for(var i=0;i<n.length;i++)n[i]=void 0===e?[]:e[i]&&e[i]!=Object?[e[i]]:[],t&&null!=t[i]&&(n[i]=n[i].concat(t[i]));return n}},{key:"_ownParameters",value:function(e,t){if(n=e.toString(),$o.test(n)||ta.test(n)||Jo.test(n)&&!ea.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;var i=e.ctorParameters;if(i&&i!==t.ctorParameters){var r="function"==typeof i?i():i,o=r.map((function(e){return e&&e.type})),a=r.map((function(e){return e&&ia(e.decorators)}));return this._zipTypesAndAnnotations(o,a)}var s=e.hasOwnProperty(u)&&e[u],c=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return c||s?this._zipTypesAndAnnotations(c,s):Te(e.length)}},{key:"parameters",value:function(e){if(!qo(e))return[];var t=ra(e),n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}},{key:"_ownAnnotations",value:function(e,t){if(e.annotations&&e.annotations!==t.annotations){var n=e.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return e.decorators&&e.decorators!==t.decorators?ia(e.decorators):e.hasOwnProperty(l)?e[l]:null}},{key:"annotations",value:function(e){if(!qo(e))return[];var t=ra(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}},{key:"_ownPropMetadata",value:function(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){var n=e.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(e.propDecorators&&e.propDecorators!==t.propDecorators){var i=e.propDecorators,r={};return Object.keys(i).forEach((function(e){r[e]=ia(i[e])})),r}return e.hasOwnProperty(d)?e[d]:null}},{key:"propMetadata",value:function(e){if(!qo(e))return{};var t=ra(e),n={};if(t!==Object){var i=this.propMetadata(t);Object.keys(i).forEach((function(e){n[e]=i[e]}))}var r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach((function(e){var t=[];n.hasOwnProperty(e)&&t.push.apply(t,_toConsumableArray2(n[e])),t.push.apply(t,_toConsumableArray2(r[e])),n[e]=t})),n}},{key:"ownPropMetadata",value:function(e){return qo(e)&&this._ownPropMetadata(e,ra(e))||{}}},{key:"hasLifecycleHook",value:function(e,t){return e instanceof Xo&&t in e.prototype}},{key:"guards",value:function(e){return{}}},{key:"getter",value:function(e){return new Function("o","return o."+e+";")}},{key:"setter",value:function(e){return new Function("o","v","return o."+e+" = v;")}},{key:"method",value:function(e){return new Function("o","args","if (!o.".concat(e,") throw new Error('\"").concat(e,"\" is undefined');\n        return o.").concat(e,".apply(o, args);"))}},{key:"importUri",value:function(e){return"object"==typeof e&&e.filePath?e.filePath:"./"+N(e)}},{key:"resourceUri",value:function(e){return"./"+N(e)}},{key:"resolveIdentifier",value:function(e,t,n,i){return i}},{key:"resolveEnum",value:function(e,t){return e[t]}}]),e}();function ia(e){return e?e.map((function(e){return _construct(e.type.annotationCls,_toConsumableArray2(e.args?e.args:[]))})):[]}function ra(e){var t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}var oa=null;function aa(){return oa=oa||new na}function sa(e){return t=aa().parameters(e),n=z(),t.map((function(e){return function(e,t){var n={token:null,host:!1,optional:!1,resolved:e.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function i(t){n.resolved=e.R3ResolvedDependencyType.Token,n.token=t}if(Array.isArray(t)&&t.length>0)for(var r=0;r<t.length;r++){var o=t[r];if(void 0!==o){var a=Object.getPrototypeOf(o);if(o instanceof m||"Optional"===a.ngMetadataName)n.optional=!0;else if(o instanceof y||"SkipSelf"===a.ngMetadataName)n.skipSelf=!0;else if(o instanceof b||"Self"===a.ngMetadataName)n.self=!0;else if(o instanceof _||"Host"===a.ngMetadataName)n.host=!0;else if(o instanceof v)n.token=o.token;else if(o instanceof C){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=e.R3ResolvedDependencyType.Attribute}else o===zo?(n.token=o,n.resolved=e.R3ResolvedDependencyType.ChangeDetectorRef):i(o)}}else void 0===t||Array.isArray(t)&&0===t.length?(n.token=void 0,n.resolved=K.Invalid):i(t);return n}(n,e)}));var t,n}var ca=new ie("Set Injector scope."),la={},ua={},da=[],ha=void 0;function fa(){return void 0===ha&&(ha=new me),ha}function pa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return new ga(e,n,t||fa(),i)}var ga=function(){function e(t,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&ke(n,(function(e){return r.processProvider(e,t,n)})),ke([t],(function(e){return r.processInjectorType(e,[],a)})),this.records.set(re,ba(void 0,this));var s=this.records.get(ca);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:N(t))}return _createClass(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default;this.assertNotDestroyed();var i,r=le(this);try{if(!(n&k.SkipSelf)){var o=this.records.get(e);if(void 0===o){var a=("function"==typeof(i=e)||"object"==typeof i&&i instanceof ie)&&E(e);o=a&&this.injectableDefInScope(a)?ba(va(e),la):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&k.Self?fa():this.parent).get(e,t=n&k.Optional&&t===oe?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(N(e)),r)throw s;return function(e,t,n,i){var r=e.ngTempTokenPath;throw t.__source&&r.unshift(t.__source),e.message=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var r=N(t);if(Array.isArray(t))r=t.map(N).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):N(s)))}r="{".concat(o.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(e.replace(ae,"\n  "))}("\n"+e.message,r,"R3InjectorError",i),e.ngTokenPath=r,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{le(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(N(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var i=this;if(!(e=H(e)))return!1;var r=M(e),o=null==r&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(r=M(o)),null==r)return!1;if(null!=r.imports&&!s){var c;n.push(a);try{ke(r.imports,(function(e){i.processInjectorType(e,t,n)&&(void 0===c&&(c=[]),c.push(e))}))}finally{}if(void 0!==c)for(var l=function(e){var t=c[e],n=t.ngModule,r=t.providers;ke(r,(function(e){return i.processProvider(e,n,r||da)}))},u=0;u<c.length;u++)l(u)}this.injectorDefTypes.add(a),this.records.set(a,ba(r.factory,la));var d=r.providers;if(null!=d&&!s){var h=e;ke(d,(function(e){return i.processProvider(e,h,d)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var i=_a(e=H(e))?e:H(e&&e.provide),r=function(e,t,n){return ya(e)?ba(void 0,e.useValue):ba(ma(e,t,n),la)}(e,t,n);if(_a(e)||!0!==e.multi){var o=this.records.get(i);o&&void 0!==o.multi&&Qi()}else{var a=this.records.get(i);a?void 0===a.multi&&Qi():((a=ba(void 0,la,!0)).factory=function(){return ve(a.multi)},this.records.set(i,a)),i=e,a.multi.push(e)}this.records.set(i,r)}},{key:"hydrate",value:function(e,t){var n;return t.value===ua?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(N(e)):t.value===la&&(t.value=ua,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function va(e){var t=E(e),n=null!==t?t.factory:Ke(e);if(null!==n)return n;var i=M(e);if(null!==i)return i.factory;if(e instanceof ie)throw new Error("Token ".concat(N(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=Te(t,"?");throw new Error("Can't resolve all parameters for ".concat(N(e),": (").concat(n.join(", "),")."))}var i=function(e){var t=e&&(e[x]||e[L]||e[I]&&e[I]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==i?function(){return i.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function ma(e,t,n){var i,r=void 0;if(_a(e)){var o=H(e);return Ke(o)||va(o)}if(ya(e))r=function(){return H(e.useValue)};else if((i=e)&&i.useFactory)r=function(){return e.useFactory.apply(e,_toConsumableArray2(ve(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))r=function(){return he(H(e.useExisting))};else{var a=H(e&&(e.useClass||e.provide));if(a||function(e,t,n){var i="";throw e&&t&&(i=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(N(e),"'")+i)}(t,n,e),!function(e){return!!e.deps}(e))return Ke(a)||va(a);r=function(){return _construct(a,_toConsumableArray2(ve(e.deps)))}}return r}function ba(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function ya(e){return null!==e&&"object"==typeof e&&se in e}function _a(e){return"function"==typeof e}var Ca=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,r=pa(e,t,n,i);return r._resolveInjectorDefTypes(),r}({name:n},t,e,n)},ka=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Ca(e,t,""):Ca(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=oe,e.NULL=new me,e.\u0275prov=T({token:e,providedIn:"any",factory:function(){return he(re)}}),e.__NG_ELEMENT_ID__=-1,e}(),Sa=new ie("AnalyzeForEntryComponents"),Oa=new Map,Ta=new Set;function wa(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function Aa(e){return"string"==typeof e?e:e.text()}function Ea(e,t,n){var i=n?e.styles:null,r=n?e.classes:null,o=0;if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];"number"==typeof s?o=s:1==o?r=j(r,s):2==o&&(i=j(i,s+": "+t[++a]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var Pa=null;function Ma(){if(!Pa){var e=W.Symbol;if(e&&e.iterator)Pa=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Pa=i)}}return Pa}function xa(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}var Da=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Ia(e){return!!La(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ma()in e)}function La(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ra(e,t,n){return e[t]=n}function Na(e,t){return e[t]}function ja(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ba(e,t,n,i){var r=ja(e,t,n);return ja(e,t+1,i)||r}function Fa(e,t,n,i,r){var o=Ba(e,t,n,i);return ja(e,t+2,r)||o}function Ha(e,t,n,i,r,o){var a=Ba(e,t,n,i);return Ba(e,t+2,r,o)||a}function Ua(e,t,n,i){var r=St();return ja(r,Rt(),t)&&(Ot(),Qr(qt(),r,e,t,n,i)),Ua}function Ya(e,t){for(var n=!1,i=It(),r=1;r<t.length;r+=2)n=ja(e,i++,t[r])||n;if(Lt(i),!n)return sr;for(var o=t[0],a=1;a<t.length;a+=2)o+=bn(t[a])+t[a+1];return o}function Ga(e,t,n,i){return ja(e,Rt(),n)?t+bn(n)+i:sr}function Va(e,t,n,i,r,o){var a=Ba(e,It(),n,r);return Nt(2),a?t+bn(n)+i+bn(r)+o:sr}function Za(e,t,n,i,r,o,a,s){var c=Fa(e,It(),n,r,a);return Nt(3),c?t+bn(n)+i+bn(r)+o+bn(a)+s:sr}function Wa(e,t,n,i,r,o,a,s,c,l){var u=Ha(e,It(),n,r,a,c);return Nt(4),u?t+bn(n)+i+bn(r)+o+bn(a)+s+bn(c)+l:sr}function Ka(e,t,n,i,r,o,a,s,c,l,u,d){var h=It(),f=Ha(e,h,n,r,a,c);return f=ja(e,h+4,u)||f,Nt(5),f?t+bn(n)+i+bn(r)+o+bn(a)+s+bn(c)+l+bn(u)+d:sr}function za(e,t,n,i,r,o,a,s,c,l,u,d,h,f){var p=It(),g=Ha(e,p,n,r,a,c);return g=Ba(e,p+4,u,h)||g,Nt(6),g?t+bn(n)+i+bn(r)+o+bn(a)+s+bn(c)+l+bn(u)+d+bn(h)+f:sr}function Qa(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g){var v=It(),m=Ha(e,v,n,r,a,c);return m=Fa(e,v+4,u,h,p)||m,Nt(7),m?t+bn(n)+i+bn(r)+o+bn(a)+s+bn(c)+l+bn(u)+d+bn(h)+f+bn(p)+g:sr}function Xa(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v,m){var b=It(),y=Ha(e,b,n,r,a,c);return y=Ha(e,b+4,u,h,p,v)||y,Nt(8),y?t+bn(n)+i+bn(r)+o+bn(a)+s+bn(c)+l+bn(u)+d+bn(h)+f+bn(p)+g+bn(v)+m:sr}function qa(e,t,n,i,r,o){var a=St(),s=Ga(a,t,n,i);return s!==sr&&Qr(qt(),a,e,s,r,o),qa}function $a(e,t,n,i,r,o,a,s){var c=St(),l=Va(c,t,n,i,r,o);return l!==sr&&Qr(qt(),c,e,l,a,s),$a}function Ja(e,t,n,i,r,o,a,s,c,l){var u=St(),d=Za(u,t,n,i,r,o,a,s);return d!==sr&&Qr(qt(),u,e,d,c,l),Ja}function es(e,t,n,i,r,o,a,s,c,l,u,d){var h=St(),f=Wa(h,t,n,i,r,o,a,s,c,l);return f!==sr&&Qr(qt(),h,e,f,u,d),es}function ts(e,t,n,i,r,o,a,s,c,l,u,d,h,f){var p=St(),g=Ka(p,t,n,i,r,o,a,s,c,l,u,d);return g!==sr&&Qr(qt(),p,e,g,h,f),ts}function ns(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g){var v=St(),m=za(v,t,n,i,r,o,a,s,c,l,u,d,h,f);return m!==sr&&Qr(qt(),v,e,m,p,g),ns}function is(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v,m){var b=St(),y=Qa(b,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g);return y!==sr&&Qr(qt(),b,e,y,v,m),is}function rs(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v,m,b,y){var _=St(),C=Xa(_,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v,m);return C!==sr&&Qr(qt(),_,e,C,b,y),rs}function os(e,t,n,i){var r=St(),o=Ya(r,t);return o!==sr&&Qr(qt(),r,e,o,n,i),os}function as(e,t,n,i,r,o,a,s){var c=St(),l=Ot(),u=e+20,d=l.firstCreatePass?function(e,t,n,i,r,o,a,s,c){var l=t.consts,u=wr(t,n[6],e,0,a||null,vt(l,s));Fr(t,n,u,vt(l,c)),tn(t,u);var d=u.tViews=Rr(2,-1,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l),h=Nr(0,null,2,-1,null,null);return h.injectorIndex=u.injectorIndex,d.node=h,null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(e,l,c,t,n,i,r,o,a):l.data[u];At(d,!1);var h=c[11].createComment("");Mo(l,c,h,d),Ki(h,c),to(c,c[u]=$r(h,c,h,d)),Je(d)&&Dr(l,c,d),null!=a&&Ir(c,d,s)}function ss(e){return dt(yt.lFrame.contextLView,e)}function cs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default,n=St();return null==n?he(e,t):In(wt(),n,H(e),t)}function ls(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var i=n.length,r=0;r<i;){var o=n[r];if(un(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(o===t)return n[r+1];r+=2}}return null}(wt(),e)}function us(){throw new Error("invalid")}function ds(e,t,n){var i=St();return ja(i,Rt(),t)&&Br(Ot(),qt(),i,e,t,i[11],n,!1),ds}function hs(e,t,n,i,r){var o=r?"class":"style";ho(e,n,t.inputs[o],o,i)}function fs(e,t,n,i){var r=St(),o=Ot(),a=20+e,s=r[11],c=r[a]=Or(t,s,yt.lFrame.currentNamespace),l=o.firstCreatePass?function(e,t,n,i,r,o,a){var s=t.consts,c=vt(s,o),l=wr(t,n[6],e,3,r,c);return Fr(t,n,l,vt(s,a)),null!==l.attrs&&Ea(l,l.attrs,!1),null!==l.mergedAttrs&&Ea(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(e,o,r,0,t,n,i):o.data[a];At(l,!0);var u=l.mergedAttrs;null!==u&&ln(s,c,u);var d=l.classes;null!==d&&Bo(s,c,d);var h=l.styles;null!==h&&jo(s,c,h),Mo(o,r,c,l),0===yt.lFrame.elementDepthCount&&Ki(c,r),yt.lFrame.elementDepthCount++,Je(l)&&(Dr(o,r,l),xr(o,l,r)),null!==i&&Ir(r,l)}function ps(){var e=wt();Et()?Pt():At(e=e.parent,!1);var t=e;yt.lFrame.elementDepthCount--;var n=Ot();n.firstCreatePass&&(tn(n,e),qe(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&hs(n,t,St(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&hs(n,t,St(),t.stylesWithoutHost,!1)}function gs(e,t,n,i){fs(e,t,n,i),ps()}function vs(e,t,n){var i=St(),r=Ot(),o=e+20,a=r.firstCreatePass?function(e,t,n,i,r){var o=t.consts,a=vt(o,i),s=wr(t,n[6],e,4,"ng-container",a);return null!==a&&Ea(s,a,!0),Fr(t,n,s,vt(o,r)),null!==t.queries&&t.queries.elementStart(t,s),s}(e,r,i,t,n):r.data[o];At(a,!0);var s=i[o]=i[11].createComment("");Mo(r,i,s,a),Ki(s,i),Je(a)&&(Dr(r,i,a),xr(r,a,i)),null!=n&&Ir(i,a)}function ms(){var e=wt(),t=Ot();Et()?Pt():At(e=e.parent,!1),t.firstCreatePass&&(tn(t,e),qe(e)&&t.queries.elementEnd(e))}function bs(e,t,n){vs(e,t,n),ms()}function ys(){return St()}function _s(e){return!!e&&"function"==typeof e.then}function Cs(e){return!!e&&"function"==typeof e.subscribe}function ks(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=St(),o=Ot(),a=wt();return Os(o,r,r[11],a,e,t,n,i),ks}function Ss(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=wt(),o=St(),a=Ot();return Os(a,o,lo(Ft(a.data),r,o),r,e,t,n,i),Ss}function Os(e,t,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,c=Je(i),l=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),u=so(t),d=!0;if(3===i.type){var h=lt(i,t),f=s?s(h):xe,p=f.target||h,g=u.length,v=s?function(e){return s(st(e[i.index])).target}:i.index;if(ot(n)){var m=null;if(!s&&c&&(m=function(e,t,n,i){var r=e.cleanup;if(null!=r)for(var o=0;o<r.length-1;o+=2){var a=r[o];if(a===n&&r[o+1]===i){var s=t[7],c=r[o+2];return s.length>c?s[c]:null}"string"==typeof a&&(o+=2)}return null}(e,t,r,i.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,d=!1;else{o=ws(i,t,o,!1);var b=n.listen(f.name||p,r,o);u.push(o,b),l&&l.push(r,v,g,g+1)}}else o=ws(i,t,o,!0),p.addEventListener(r,o,a),u.push(o),l&&l.push(r,v,g,a)}var y,_=i.outputs;if(d&&null!==_&&(y=_[r])){var C=y.length;if(C)for(var k=0;k<C;k+=2){var S=t[y[k]][y[k+1]].subscribe(o),O=u.length;u.push(o,S),l&&l.push(r,i.index,O,-(O+1))}}}function Ts(e,t,n){try{return!1!==t(n)}catch(i){return uo(e,i),!1}}function ws(e,t,n,i){return function r(o){if(o===Function)return n;var a=2&e.flags?ht(e.index,t):t;0==(32&t[2])&&no(a);for(var s=Ts(t,n,o),c=r.__ngNextListenerFn__;c;)s=Ts(t,c,o)&&s,c=c.__ngNextListenerFn__;return i&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function As(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(yt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,yt.lFrame.contextLView))[8]}(e)}function Es(e,t){for(var n=null,i=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),r=0;r<t.length;r++){var o=t[r];if("*"!==o){if(null===i?ir(e,o,!0):rr(i,o))return r}else n=r}return n}function Ps(e){var t=St()[16][6];if(!t.projection)for(var n=t.projection=Te(e?e.length:1,null),i=n.slice(),r=t.child;null!==r;){var o=e?Es(r,e):0;null!==o&&(i[o]?i[o].projectionNext=r:n[o]=r,i[o]=r),r=r.next}}var Ms=!1;function xs(e){Ms=e}function Ds(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=St(),r=Ot(),o=wr(r,i[6],e,1,null,n||null);null===o.projection&&(o.projection=t),Pt(),Ms||Ro(r,i,o)}function Is(e,t,n){return Ls(e,"",t,"",n),Is}function Ls(e,t,n,i,r){var o=St(),a=Ga(o,t,n,i);return a!==sr&&Br(Ot(),qt(),o,e,a,o[11],r,!1),Ls}function Rs(e,t,n,i,r,o,a){var s=St(),c=Va(s,t,n,i,r,o);return c!==sr&&Br(Ot(),qt(),s,e,c,s[11],a,!1),Rs}function Ns(e,t,n,i,r,o,a,s,c){var l=St(),u=Za(l,t,n,i,r,o,a,s);return u!==sr&&Br(Ot(),qt(),l,e,u,l[11],c,!1),Ns}function js(e,t,n,i,r,o,a,s,c,l,u){var d=St(),h=Wa(d,t,n,i,r,o,a,s,c,l);return h!==sr&&Br(Ot(),qt(),d,e,h,d[11],u,!1),js}function Bs(e,t,n,i,r,o,a,s,c,l,u,d,h){var f=St(),p=Ka(f,t,n,i,r,o,a,s,c,l,u,d);return p!==sr&&Br(Ot(),qt(),f,e,p,f[11],h,!1),Bs}function Fs(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p){var g=St(),v=za(g,t,n,i,r,o,a,s,c,l,u,d,h,f);return v!==sr&&Br(Ot(),qt(),g,e,v,g[11],p,!1),Fs}function Hs(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v){var m=St(),b=Qa(m,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g);return b!==sr&&Br(Ot(),qt(),m,e,b,m[11],v,!1),Hs}function Us(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v,m,b){var y=St(),_=Xa(y,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v,m);return _!==sr&&Br(Ot(),qt(),y,e,_,y[11],b,!1),Us}function Ys(e,t,n){var i=St(),r=Ya(i,t);return r!==sr&&Br(Ot(),qt(),i,e,r,i[11],n,!1),Ys}var Gs=[];function Vs(e,t,n,i,r){for(var o=e[n+1],a=null===t,s=i?br(o):_r(o),c=!1;0!==s&&(!1===c||a);){var l=e[s+1];Zs(e[s],t)&&(c=!0,e[s+1]=i?kr(l):yr(l)),s=i?br(l):_r(l)}c&&(e[n+1]=i?yr(o):kr(o))}function Zs(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ee(e,t)>=0}var Ws={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ks(e){return e.substring(Ws.key,Ws.keyEnd)}function zs(e){return e.substring(Ws.value,Ws.valueEnd)}function Qs(e,t){var n=Ws.textEnd;return n===t?-1:(t=Ws.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Ws.key=t,n),$s(e,t,n))}function Xs(e,t){var n=Ws.textEnd,i=Ws.key=$s(e,t,n);return n===i?-1:(i=Ws.keyEnd=function(e,t,n){for(var i;t<n&&(45===(i=e.charCodeAt(t))||95===i||(-33&i)>=65&&(-33&i)<=90);)t++;return t}(e,i,n),i=Js(e,i,n),i=Ws.value=$s(e,i,n),i=Ws.valueEnd=function(e,t,n){for(var i=-1,r=-1,o=-1,a=t,s=a;a<n;){var c=e.charCodeAt(a++);if(59===c)return s;34===c||39===c?s=a=ec(e,c,a,n):t===a-4&&85===o&&82===r&&76===i&&40===c?s=a=ec(e,41,a,n):c>32&&(s=a),o=r,r=i,i=-33&c}return s}(e,i,n),Js(e,i,n))}function qs(e){Ws.key=0,Ws.keyEnd=0,Ws.value=0,Ws.valueEnd=0,Ws.textEnd=e.length}function $s(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Js(e,t,n,i){return(t=$s(e,t,n))<n&&t++,t}function ec(e,t,n,i){for(var r=-1,o=n;o<i;){var a=e.charCodeAt(o++);if(a==t&&92!==r)return o;r=92==a&&92===r?0:a}throw new Error}function tc(e){!function(e){yt.lFrame.currentSanitizer=e}(e)}function nc(e,t,n){return cc(e,t,n,!1),nc}function ic(e,t){return cc(e,t,null,!0),ic}function rc(e){lc(pc,oc,e,!1)}function oc(e,t){for(var n=function(e){return qs(e),Xs(e,$s(e,0,Ws.textEnd))}(t);n>=0;n=Xs(t,n))pc(e,Ks(t),zs(t))}function ac(e){lc(we,sc,e,!0)}function sc(e,t){for(var n=function(e){return qs(e),Qs(e,$s(e,0,Ws.textEnd))}(t);n>=0;n=Qs(t,n))we(e,Ks(t),!0)}function cc(e,t,n,i){var r,o,a=St(),s=Ot(),c=Nt(2);(s.firstUpdatePass&&dc(s,e,c,i),t!==sr&&ja(a,c,t))&&(null==n&&(r=null===(o=yt.lFrame)?null:o.currentSanitizer)&&(n=r),gc(s,s.data[Qt()+20],a,a[11],e,a[c+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=N(Jn(e)))),e}(t,n),i,c))}function lc(e,t,n,i){var r=Ot(),o=Nt(2);r.firstUpdatePass&&dc(r,null,o,i);var a=St();if(n!==sr&&ja(a,o,n)){var s=r.data[Qt()+20];if(bc(s,i)&&!uc(r,o)){var c=i?s.classesWithoutHost:s.stylesWithoutHost;null!==c&&(n=j(c,n||"")),hs(r,s,a,n,i)}else!function(e,t,n,i,r,o,a,s){r===sr&&(r=Gs);for(var c=0,l=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;null!==u||null!==d;){var h=c<r.length?r[c+1]:void 0,f=l<o.length?o[l+1]:void 0,p=null,g=void 0;u===d?(c+=2,l+=2,h!==f&&(p=d,g=f)):null===d||null!==u&&u<d?(c+=2,p=u):(l+=2,p=d,g=f),null!==p&&gc(e,t,n,i,p,g,a,s),u=c<r.length?r[c]:null,d=l<o.length?o[l]:null}}(r,s,a,a[11],a[o+1],a[o+1]=function(e,t,n){if(null==n||""===n)return Gs;var i=[],r=Jn(n);if(Array.isArray(r))for(var o=0;o<r.length;o++)e(i,r[o],!0);else if("object"==typeof r)for(var a in r)r.hasOwnProperty(a)&&e(i,a,r[a]);else"string"==typeof r&&t(i,r);return i}(e,t,n),i,o)}}function uc(e,t){return t>=e.expandoStartIndex}function dc(e,t,n,i){var r=e.data;if(null===r[n+1]){var o=r[Qt()+20],a=uc(e,n);bc(o,i)&&null===t&&!a&&(t=!1),t=function(e,t,n,i){var r=Ft(e),o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=fc(n=hc(null,e,t,n,i),t.attrs,i),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==r)if(n=hc(r,e,t,n,i),null===o){var s=function(e,t,n){var i=n?t.classBindings:t.styleBindings;if(0!==_r(i))return e[br(i)]}(e,t,i);void 0!==s&&Array.isArray(s)&&function(e,t,n,i){e[br(n?t.classBindings:t.styleBindings)]=i}(e,t,i,s=fc(s=hc(null,e,t,s[1],i),t.attrs,i))}else o=function(e,t,n){for(var i=void 0,r=t.directiveEnd,o=1+t.directiveStylingLast;o<r;o++)i=fc(i,e[o].hostAttrs,n);return fc(i,t.attrs,n)}(e,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),n}(r,o,t,i),function(e,t,n,i,r,o){var a=o?t.classBindings:t.styleBindings,s=br(a),c=_r(a);e[i]=n;var l,u=!1;if(Array.isArray(n)){var d=n;(null===(l=d[1])||Ee(d,l)>0)&&(u=!0)}else l=n;if(r)if(0!==c){var h=br(e[s+1]);e[i+1]=mr(h,s),0!==h&&(e[h+1]=Cr(e[h+1],i)),e[s+1]=131071&e[s+1]|i<<17}else e[i+1]=mr(s,0),0!==s&&(e[s+1]=Cr(e[s+1],i)),s=i;else e[i+1]=mr(c,0),0===s?s=i:e[c+1]=Cr(e[c+1],i),c=i;u&&(e[i+1]=yr(e[i+1])),Vs(e,l,i,!0),Vs(e,l,i,!1),function(e,t,n,i,r){var o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Ee(o,t)>=0&&(n[i+1]=kr(n[i+1]))}(t,l,e,i,o),a=mr(s,c),o?t.classBindings=a:t.styleBindings=a}(r,o,t,n,a,i)}}function hc(e,t,n,i,r){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(i=fc(i,(o=t[s]).hostAttrs,r),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),i}function fc(e,t,n){var i=n?1:2,r=-1;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?r=a:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),we(e,a,!!n||t[++o]))}return void 0===e?null:e}function pc(e,t,n){Zi(t)&&(n=Fi(n)),we(e,t,n)}function gc(e,t,n,i,r,o,a,s){if(3===t.type){var c=e.data,l=c[s+1];mc(1==(1&l)?vc(c,t,n,r,_r(l),a):void 0)||(mc(o)||2==(2&l)&&(o=vc(c,null,n,r,s,a)),function(e,t,n,i,r){var o=ot(e);if(t)r?o?e.addClass(n,i):n.classList.add(i):o?e.removeClass(n,i):n.classList.remove(i);else{var a=-1==i.indexOf("-")?void 0:2;null==r?o?e.removeStyle(n,i,a):n.style.removeProperty(i):o?e.setStyle(n,i,r,a):n.style.setProperty(i,r)}}(i,a,ct(Qt(),n),r,o))}}function vc(e,t,n,i,r,o){for(var a=null===t,s=void 0;r>0;){var c=e[r],l=Array.isArray(c),u=l?c[1]:c,d=null===u,h=n[r+1];h===sr&&(h=d?Gs:void 0);var f=d?Ae(h,i):u===i?h:void 0;if(l&&!mc(f)&&(f=Ae(c,i)),mc(f)&&(s=f,a))return s;var p=e[r+1];r=a?br(p):_r(p)}if(null!==t){var g=o?t.residualClasses:t.residualStyles;null!=g&&(s=Ae(g,i))}return s}function mc(e){return void 0!==e}function bc(e,t){return 0!=(e.flags&(t?16:32))}function yc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=St(),i=Ot(),r=e+20,o=i.firstCreatePass?wr(i,n[6],e,3,null,null):i.data[r],a=n[r]=mo(t,n[11]);Mo(i,n,a,o),At(o,!1)}function _c(e){return Cc("",e,""),_c}function Cc(e,t,n){var i=St(),r=Ga(i,e,t,n);return r!==sr&&fo(i,Qt(),r),Cc}function kc(e,t,n,i,r){var o=St(),a=Va(o,e,t,n,i,r);return a!==sr&&fo(o,Qt(),a),kc}function Sc(e,t,n,i,r,o,a){var s=St(),c=Za(s,e,t,n,i,r,o,a);return c!==sr&&fo(s,Qt(),c),Sc}function Oc(e,t,n,i,r,o,a,s,c){var l=St(),u=Wa(l,e,t,n,i,r,o,a,s,c);return u!==sr&&fo(l,Qt(),u),Oc}function Tc(e,t,n,i,r,o,a,s,c,l,u){var d=St(),h=Ka(d,e,t,n,i,r,o,a,s,c,l,u);return h!==sr&&fo(d,Qt(),h),Tc}function wc(e,t,n,i,r,o,a,s,c,l,u,d,h){var f=St(),p=za(f,e,t,n,i,r,o,a,s,c,l,u,d,h);return p!==sr&&fo(f,Qt(),p),wc}function Ac(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p){var g=St(),v=Qa(g,e,t,n,i,r,o,a,s,c,l,u,d,h,f,p);return v!==sr&&fo(g,Qt(),v),Ac}function Ec(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v){var m=St(),b=Xa(m,e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v);return b!==sr&&fo(m,Qt(),b),Ec}function Pc(e){var t=St(),n=Ya(t,e);return n!==sr&&fo(t,Qt(),n),Pc}function Mc(e,t,n){lc(we,sc,Ga(St(),e,t,n),!0)}function xc(e,t,n,i,r){lc(we,sc,Va(St(),e,t,n,i,r),!0)}function Dc(e,t,n,i,r,o,a){lc(we,sc,Za(St(),e,t,n,i,r,o,a),!0)}function Ic(e,t,n,i,r,o,a,s,c){lc(we,sc,Wa(St(),e,t,n,i,r,o,a,s,c),!0)}function Lc(e,t,n,i,r,o,a,s,c,l,u){lc(we,sc,Ka(St(),e,t,n,i,r,o,a,s,c,l,u),!0)}function Rc(e,t,n,i,r,o,a,s,c,l,u,d,h){lc(we,sc,za(St(),e,t,n,i,r,o,a,s,c,l,u,d,h),!0)}function Nc(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p){lc(we,sc,Qa(St(),e,t,n,i,r,o,a,s,c,l,u,d,h,f,p),!0)}function jc(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v){lc(we,sc,Xa(St(),e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v),!0)}function Bc(e){lc(we,sc,Ya(St(),e),!0)}function Fc(e,t,n){rc(Ga(St(),e,t,n))}function Hc(e,t,n,i,r){rc(Va(St(),e,t,n,i,r))}function Uc(e,t,n,i,r,o,a){rc(Za(St(),e,t,n,i,r,o,a))}function Yc(e,t,n,i,r,o,a,s,c){rc(Wa(St(),e,t,n,i,r,o,a,s,c))}function Gc(e,t,n,i,r,o,a,s,c,l,u){rc(Ka(St(),e,t,n,i,r,o,a,s,c,l,u))}function Vc(e,t,n,i,r,o,a,s,c,l,u,d,h){rc(za(St(),e,t,n,i,r,o,a,s,c,l,u,d,h))}function Zc(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p){rc(Qa(St(),e,t,n,i,r,o,a,s,c,l,u,d,h,f,p))}function Wc(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v){rc(Xa(St(),e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v))}function Kc(e){rc(Ya(St(),e))}function zc(e,t,n,i,r){return cc(e,Ga(St(),t,n,i),r,!1),zc}function Qc(e,t,n,i,r,o,a){return cc(e,Va(St(),t,n,i,r,o),a,!1),Qc}function Xc(e,t,n,i,r,o,a,s,c){return cc(e,Za(St(),t,n,i,r,o,a,s),c,!1),Xc}function qc(e,t,n,i,r,o,a,s,c,l,u){return cc(e,Wa(St(),t,n,i,r,o,a,s,c,l),u,!1),qc}function $c(e,t,n,i,r,o,a,s,c,l,u,d,h){return cc(e,Ka(St(),t,n,i,r,o,a,s,c,l,u,d),h,!1),$c}function Jc(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p){return cc(e,za(St(),t,n,i,r,o,a,s,c,l,u,d,h,f),p,!1),Jc}function el(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v){return cc(e,Qa(St(),t,n,i,r,o,a,s,c,l,u,d,h,f,p,g),v,!1),el}function tl(e,t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v,m,b){return cc(e,Xa(St(),t,n,i,r,o,a,s,c,l,u,d,h,f,p,g,v,m),b,!1),tl}function nl(e,t,n){return cc(e,Ya(St(),t),n,!1),nl}function il(e,t,n){var i=St();return ja(i,Rt(),t)&&Br(Ot(),qt(),i,e,t,i[11],n,!0),il}function rl(e,t,n){var i=St();if(ja(i,Rt(),t)){var r=Ot(),o=qt();Br(r,o,i,e,t,lo(Ft(r.data),o,i),n,!0)}return rl}function ol(e,t){var n=ft(e)[1],i=n.data.length-1;tn(n,{directiveStart:i,directiveEnd:i+1})}function al(e){return Object.getPrototypeOf(e.prototype).constructor}function sl(e){for(var t=al(e.type),n=!0,i=[e];t;){var r=void 0;if(et(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(n){i.push(r);var o=e;o.inputs=cl(e.inputs),o.declaredInputs=cl(e.declaredInputs),o.outputs=cl(e.outputs);var a=r.hostBindings;a&&dl(e,a);var s=r.viewQuery,c=r.contentQueries;if(s&&ll(e,s),c&&ul(e,c),O(e.inputs,r.inputs),O(e.declaredInputs,r.declaredInputs),O(e.outputs,r.outputs),et(r)&&r.data.animation){var l=e.data;l.animation=(l.animation||[]).concat(r.data.animation)}o.afterContentChecked=o.afterContentChecked||r.afterContentChecked,o.afterContentInit=e.afterContentInit||r.afterContentInit,o.afterViewChecked=e.afterViewChecked||r.afterViewChecked,o.afterViewInit=e.afterViewInit||r.afterViewInit,o.doCheck=e.doCheck||r.doCheck,o.onDestroy=e.onDestroy||r.onDestroy,o.onInit=e.onInit||r.onInit}var u=r.features;if(u)for(var d=0;d<u.length;d++){var h=u[d];h&&h.ngInherit&&h(e),h===sl&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,i=e.length-1;i>=0;i--){var r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=hn(r.hostAttrs,n=hn(n,r.hostAttrs))}}(i)}function cl(e){return e===xe?{}:e===De?[]:e}function ll(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,i){t(e,i),n(e,i)}:t}function ul(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,i,r){t(e,i,r),n(e,i,r)}:t}function dl(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,i){t(e,i),n(e,i)}:t}var hl=["providersResolver"],fl=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function pl(e){var t,n=al(e.type);t=et(e)?n.\u0275cmp:n.\u0275dir;var i,r=e,o=_createForOfIteratorHelper(hl);try{for(o.s();!(i=o.n()).done;){var a=i.value;r[a]=t[a]}}catch(u){o.e(u)}finally{o.f()}if(et(t)){var s,c=_createForOfIteratorHelper(fl);try{for(c.s();!(s=c.n()).done;){var l=s.value;r[l]=t[l]}}catch(u){c.e(u)}finally{c.f()}}}var gl=function(){function e(t,n,i){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=i}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function vl(e){e.type.prototype.ngOnChanges&&(e.setInput=ml,e.onChanges=function(){var e=bl(this),t=e&&e.current;if(t){var n=e.previous;if(n===xe)e.previous=t;else for(var i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}})}function ml(e,t,n,i){var r=bl(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:xe,current:null}),o=r.current||(r.current={}),a=r.previous,s=this.declaredInputs[n],c=a[s];o[s]=new gl(c&&c.currentValue,t,a===xe),e[i]=t}function bl(e){return e.__ngSimpleChanges__||null}function yl(e,t,n,i,r){if(e=H(e),Array.isArray(e))for(var o=0;o<e.length;o++)yl(e[o],t,n,i,r);else{var a=Ot(),s=St(),c=_a(e)?e:H(e.provide),l=ma(e),u=wt(),d=65535&u.providerIndexes,h=u.directiveStart,f=u.providerIndexes>>16;if(_a(e)||!e.multi){var p=new cn(l,r,cs),g=kl(c,t,r?d:d+f,h);-1===g?(Dn(En(u,s),a,c),_l(a,e,t.length),t.push(c),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=65536),n.push(p),s.push(p)):(n[g]=p,s[g]=p)}else{var v=kl(c,t,d+f,h),m=kl(c,t,d,d+f),b=v>=0&&n[v],y=m>=0&&n[m];if(r&&!y||!r&&!b){Dn(En(u,s),a,c);var _=function(e,t,n,i,r){var o=new cn(e,n,cs);return o.multi=[],o.index=t,o.componentProviders=0,Cl(o,r,i&&!n),o}(r?Ol:Sl,n.length,r,i,l);!r&&y&&(n[m].providerFactory=_),_l(a,e,t.length,0),t.push(c),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=65536),n.push(_),s.push(_)}else _l(a,e,v>-1?v:m,Cl(n[r?m:v],l,!r&&i));!r&&i&&y&&n[m].componentProviders++}}}function _l(e,t,n,i){var r=_a(t);if(r||t.useClass){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var a=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){var s=a.indexOf(n);-1===s?a.push(n,[i,o]):a[s+1].push(i,o)}else a.push(n,o)}}}function Cl(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function kl(e,t,n,i){for(var r=n;r<i;r++)if(t[r]===e)return r;return-1}function Sl(e,t,n,i){return Tl(this.multi,[])}function Ol(e,t,n,i){var r,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=jn(n,n[1],this.providerFactory.index,i);Tl(o,r=s.slice(0,a));for(var c=a;c<s.length;c++)r.push(s[c])}else Tl(o,r=[]);return r}function Tl(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function wl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return function(e,t,n){var i=Ot();if(i.firstCreatePass){var r=et(e);yl(n,i.data,i.blueprint,r,!0),yl(t,i.data,i.blueprint,r,!1)}}(n,i?i(e):e,t)}}}vl.ngInherit=!0;var Al=function e(){_classCallCheck(this,e)},El=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(N(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),Pl=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new El,e}(),Ml=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return xl(e)},e}(),xl=function(e){return Vo(e,wt(),St())},Dl=function e(){_classCallCheck(this,e)},Il=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),Ll=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Rl()},e}(),Rl=function(){var e=St(),t=ht(wt().index,e);return function(e){var t=e[11];if(ot(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Qe(t)?t:e)},Nl=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=T({token:e,providedIn:"root",factory:function(){return null}}),e}(),jl=function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},Bl=new jl("9.1.10"),Fl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return Ia(e)}},{key:"create",value:function(e){return new Ul(e)}}]),e}(),Hl=function(e,t){return t},Ul=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Hl}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,i=0,r=null;t||n;){var o=!n||t&&t.currentIndex<Zl(n,i,r)?t:n,a=Zl(o,i,r),s=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{r||(r=[]);var c=a-i,l=s-i;if(c!=l){for(var u=0;u<c;u++){var d=u<r.length?r[u]:r[u]=0,h=d+u;l<=h&&h<c&&(r[u]=d+1)}r[o.previousIndex]=l-c}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Ia(e))throw new Error("Error trying to diff '".concat(N(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,i,r,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)i=e[s],r=this._trackByFn(s,i),null!==o&&xa(o.trackById,r)?(a&&(o=this._verifyReinsertion(o,i,r,s)),xa(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,r,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var i,r=e[Ma()]();!(i=r.next()).done;)t(i.value)}(e,(function(e){r=t._trackByFn(n,e),null!==o&&xa(o.trackById,r)?(a&&(o=t._verifyReinsertion(o,e,r,n)),xa(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,r,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,i){var r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(xa(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(xa(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):e=this._addAfter(new Yl(t,n),r,i),e}},{key:"_verifyReinsertion",value:function(e,t,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Vl),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),Yl=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Gl=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&xa(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Vl=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Gl,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function Zl(e,t,n){var i=e.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+t+r}var Wl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||La(e)}},{key:"create",value:function(){return new Kl}}]),e}(),Kl=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||La(e)))throw new Error("Error trying to diff '".concat(N(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,i){if(n&&n.key===i)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var r=t._getOrCreateRecordForKey(i,e);n=t._insertBeforeOrAppend(n,r)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new zl(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){xa(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),zl=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Ql=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new y,new m]]}}}]),e}();return e.\u0275prov=T({token:e,providedIn:"root",factory:function(){return new e([new Fl])}}),e}(),Xl=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new y,new m]]}}}]),e}();return e.\u0275prov=T({token:e,providedIn:"root",factory:function(){return new e([new Wl])}}),e}(),ql=[new Wl],$l=new Ql([new Fl]),Jl=new Xl(ql),eu=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return tu(e,Ml)},e}(),tu=function(e,t){return Zo(e,t,wt(),St())},nu=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return iu(e,Ml)},e}(),iu=function(e,t){return Wo(e,t,wt(),St())},ru={},ou=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).ngModule=e,i}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=Ve(e);return new cu(t,this.ngModule)}}]),n}(Pl);function au(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var su=new ie("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return _n}}),cu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).componentDef=e,r.ngModule=i,r.componentType=e.type,r.selector=e.selectors.map(ar).join(","),r.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],r.isBoundToModule=!!i,r}return _createClass(n,[{key:"create",value:function(e,t,n,i){var r,o,a=(i=i||this.ngModule)?function(e,t){return{get:function(n,i,r){var o=e.get(n,ru,r);return o!==ru||i===ru?o:t.get(n,i,r)}}}(e,i.injector):e,s=a.get(Dl,at),c=a.get(Nl,null),l=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=n?function(e,t,n){if(ot(e))return e.selectRootElement(t,n===Me.ShadowDom);var i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(l,n,this.componentDef.encapsulation):Or(u,s.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(u)),h=this.componentDef.onPush?576:528,f="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:_n,clean:ao,playerHandler:null,flags:0},g=Rr(0,-1,null,1,0,null,null,null,null,null),v=Tr(null,g,p,h,null,null,s,l,c,a);Gt(v,null);try{var m=function(e,t,n,i,r,o){var a=n[1];n[20]=e;var s=wr(a,null,0,3,null,null),c=s.mergedAttrs=t.hostAttrs;null!==c&&(Ea(s,c,!0),null!==e&&(ln(r,e,c),null!==s.classes&&Bo(r,e,s.classes),null!==s.styles&&jo(r,e,s.styles)));var l=i.createRenderer(e,t),u=Tr(n,Lr(t),null,t.onPush?64:16,n[20],s,i,l,void 0);return a.firstCreatePass&&(Dn(En(s,n),a,t.type),Vr(a,s),Wr(s,n.length,1)),to(n,u),n[20]=u}(d,this.componentDef,v,s,l);if(d)if(n)ln(l,d,["ng-version",Bl.full]);else{var b=function(e){for(var t=[],n=[],i=1,r=2;i<e.length;){var o=e[i];if("string"==typeof o)2===r?""!==o&&t.push(o,e[++i]):8===r&&n.push(o);else{if(!tr(r))break;r=o}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),y=b.attrs,_=b.classes;y&&ln(l,d,y),_&&_.length>0&&Bo(l,d,_.join(" "))}if(o=ut(g,0),void 0!==t)for(var C=o.projection=[],k=0;k<this.ngContentSelectors.length;k++){var S=t[k];C.push(null!=S?Array.from(S):null)}r=function(e,t,n,i,r){var o=n[1],a=function(e,t,n){var i=wt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Gr(e,i,1),Kr(e,t,n));var r=jn(t,e,t.length-1,i);Ki(r,t);var o=lt(i,t);return o&&Ki(o,t),r}(o,n,t);i.components.push(a),e[8]=a,r&&r.forEach((function(e){return e(a,t)})),t.contentQueries&&t.contentQueries(1,a,n.length-1);var s=wt();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){Xt(s.index-20);var c=n[1];Hr(c,t),Ur(c,n,t.hostVars),Yr(t,a)}return a}(m,this.componentDef,v,p,[ol]),Ar(g,v,null)}finally{zt()}var O=new lu(this.componentType,r,Vo(Ml,o,v),v,o);return n&&!f||(g.node.child=o),O}},{key:"inputs",get:function(){return au(this.componentDef.inputs)}},{key:"outputs",get:function(){return au(this.componentDef.outputs)}}]),n}(Al),lu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a){var s,c,l,u;return _classCallCheck(this,n),(s=t.call(this)).location=r,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=i,s.hostView=s.changeDetectorRef=new Go(o),c=o[1],l=o,null==(u=c.node)&&(c.node=u=Nr(0,null,2,-1,null,null)),l[6]=u,s.componentType=e,s}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new Hn(this._tNode,this._rootLView)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),uu=void 0,du=["en",[["a","p"],["AM","PM"],uu],[["AM","PM"],uu,uu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],uu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],uu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",uu,"{1} 'at' {0}",uu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],hu={};function fu(e,t,n){"string"!=typeof t&&(n=t,t=e[bu.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),hu[t]=e,n&&(hu[t][bu.ExtraData]=n)}function pu(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=mu(t);if(n)return n;var i=t.split("-")[0];if(n=mu(i))return n;if("en"===i)return du;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function gu(e){return pu(e)[bu.CurrencyCode]||null}function vu(e){return pu(e)[bu.PluralCase]}function mu(e){return e in hu||(hu[e]=W.ng&&W.ng.common&&W.ng.common.locales&&W.ng.common.locales[e]),hu[e]}var bu=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),yu=["zero","one","two","few","many"],_u=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Cu=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ku=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,Su=/\ufffd(\d+):?\d*\ufffd/gi,Ou=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Tu=/\[(\ufffd.+?\ufffd?)\]/,wu=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Au=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Eu=/{([A-Z0-9_]+)}/g,Pu=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Mu=/\/\*/,xu=/\d+\:(\d+)/;function Du(e){if(!e)return[];var t,n=0,i=[],r=[],o=/[{}]/g;for(o.lastIndex=0;t=o.exec(e);){var a=t.index;if("}"==t[0]){if(i.pop(),0==i.length){var s=e.substring(n,a);_u.test(s)?r.push(Iu(s)):r.push(s),n=a+1}}else{if(0==i.length){var c=e.substring(n,a);r.push(c),n=a+1}i.push("{")}}var l=e.substring(n);return r.push(l),r}function Iu(e){for(var t=[],n=[],i=1,r=0,o=Du(e=e.replace(_u,(function(e,t,n){return i="select"===n?0:1,r=parseInt(t.substr(1),10),""}))),a=0;a<o.length;){var s=o[a++].trim();1===i&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&t.push(s);var c=Du(o[a++]);t.length>n.length&&n.push(c)}return{type:i,mainBinding:r,cases:t,values:n}}function Lu(e){for(var t,n,i="",r=0,o=!1;null!==(t=Cu.exec(e));)o?t[0]==="\ufffd/*".concat(n,"\ufffd")&&(r=t.index,o=!1):(i+=e.substring(r,t.index+t[0].length),n=t[1],o=!0);return i+=e.substr(r)}function Ru(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=[null,null],o=e.split(Su),a=0,s=0;s<o.length;s++){var c=o[s];if(1&s){var l=parseInt(c,10);r.push(-1-l),a|=Fu(l)}else""!==c&&r.push(c)}return r.push(t<<2|(n?1:0)),n&&r.push(n,i),r[0]=a,r[1]=r.length-2,r}function Nu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n|=Fu(e.mainBinding);for(var i=0;i<e.values.length;i++)for(var r=e.values[i],o=0;o<r.length;o++){var a=r[o];if("string"==typeof a)for(;t=Su.exec(a);)n|=Fu(parseInt(t[1],10));else n=Nu(a,n)}return n}var ju=[],Bu=-1;function Fu(e){return 1<<Math.min(e,31)}var Hu,Uu=[];function Yu(e,t,n){var i=Ot();ju[++Bu]=e,xs(!0),i.firstCreatePass&&null===i.data[e+20]&&function(e,t,n,i,r){var o=t.blueprint.length-20;Hu=0;var a=wt(),s=Et()?a:a&&a.parent,c=s&&s!==e[6]?s.index-20:n,l=0;Uu[l]=c;var u=[];if(n>0&&a!==s){var d=a.index-20;Et()||(d=~d),u.push(d<<3|0)}var h,f=[],p=[];if(""===i&&Zu(r))u.push(i,Gu(o),c<<17|1);else for(var g=function(e,t){if(Zu(t))return Lu(e);var n=e.indexOf(":".concat(t,"\ufffd"))+2+t.toString().length,i=e.search(new RegExp("\ufffd\\/\\*\\d+:".concat(t,"\ufffd")));return Lu(e.substring(n,i))}(i,r),v=(h=g,h.replace(sd," ")).split(ku),m=0;m<v.length;m++){var b=v[m];if(1&m)if("/"===b.charAt(0)){if("#"===b.charAt(1)){var y=parseInt(b.substr(2),10);c=Uu[--l],u.push(y<<3|5)}}else{var _=parseInt(b.substr(1),10),C="#"===b.charAt(0);u.push((C?_:~_)<<3|0,c<<17|1),C&&(Uu[++l]=c=_)}else for(var k=Du(b),S=0;S<k.length;S++)if(1&S){var O=k[S];if("object"!=typeof O)throw new Error('Unable to parse ICU expression in "'.concat(g,'" message.'));var T=Gu(o);u.push(vr,"",T,c<<17|1);var w=Nu(O);rd(p,O,T,T);var A=p.length-1;f.push(Fu(O.mainBinding),3,-1-O.mainBinding,T<<2|2,A,w,2,T<<2|3,A)}else if(""!==k[S]){var E=k[S],P=E.match(Su),M=Gu(o);u.push(P?"":E,M,c<<17|1),P&&_e(Ru(E,M),f)}}Hu>0&&function(e,t,n){if(n>0&&e.firstCreatePass){for(var i=0;i<n;i++)e.blueprint.push(null),e.data.push(null),t.push(null);e.expandoInstructions?e.expandoInstructions.push(n):e.expandoStartIndex+=n}}(t,e,Hu),t.data[n+20]={vars:Hu,create:u,update:f,icus:p.length?p:null}}(St(),i,e,t,n)}function Gu(e){return e+Hu++}function Vu(e,t,n,i,r){var o=t.next;i||(i=n),i===n&&t!==n.child?(t.next=n.child,n.child=t):i!==n&&t!==i.next?(t.next=i.next,i.next=t):t.next=null,n!==r[6]&&(t.parent=n);for(var a=t.next;a;)a.next===t&&(a.next=o),a=a.next;if(1===t.type)return Ro(e,r,t),t;Mo(e,r,lt(t,r),t);var s=r[t.index];return 0!==t.type&&Xe(s)&&Mo(e,r,s[7],t),t}function Zu(e){return void 0===e}function Wu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if(Tu.test(e)){var i={},r=[0];n=n.replace(wu,(function(e,t,n){var o=t||n,a=i[o]||[];if(a.length||(o.split("|").forEach((function(e){var t=e.match(xu),n=t?parseInt(t[1],10):0,i=Mu.test(e);a.push([n,i,e])})),i[o]=a),!a.length)throw new Error("i18n postprocess: unmatched placeholder - "+o);for(var s=r[r.length-1],c=0,l=0;l<a.length;l++)if(a[l][0]===s){c=l;break}var u=_slicedToArray(a[c],3),d=u[0],h=u[1],f=u[2];return h?r.pop():s!==d&&r.push(d),a.splice(c,1),f}))}return Object.keys(t).length?n=(n=(n=n.replace(Au,(function(e,n,i,r,o,a){return t.hasOwnProperty(i)?"".concat(n).concat(t[i]).concat(a):e}))).replace(Eu,(function(e,n){return t.hasOwnProperty(n)?t[n]:e}))).replace(Pu,(function(e,n){if(t.hasOwnProperty(n)){var i=t[n];if(!i.length)throw new Error("i18n postprocess: unmatched ICU - ".concat(e," with key: ").concat(n));return i.shift()}return e})):n}function Ku(){var e=St();!function(e,t){for(var n=ju[Bu--],i=e.data[n+20],r=wt(),o=Qu(n,i.create,e,t),a=n+1;a<=r.index-20;){-1===o.indexOf(a)&&Xu(e,t,a,!0);var s=ut(e,a);!s||0!==s.type&&3!==s.type&&4!==s.type||null===s.localNames||(a+=s.localNames.length>>1),a++}}(Ot(),e),xs(!1)}function zu(e,t,n,i,r,o){var a=wt();t[n+20]=r;var s=wr(e,t[6],n,i,o,null);return a&&a.next===s&&(a.next=null),s}function Qu(e,t,n,i){for(var r=i[11],o=null,a=null,s=[],c=0;c<t.length;c++){var l=t[c];if("string"==typeof l){var u=mo(l,r),d=t[++c];a=o,o=zu(n,i,d,3,u,null),s.push(d),Pt()}else if("number"==typeof l)switch(7&l){case 1:var h=l>>>17;a=Vu(n,o,h===e?i[6]:ut(n,h),a,i);break;case 0:var f=l>=0,p=(f?l:~l)>>>3;s.push(p),a=o,(o=ut(n,p))&&At(o,f);break;case 5:a=o=ut(n,l>>>3),At(o,!1);break;case 4:var g=t[++c],v=t[++c];Qr(ut(n,l>>>3),i,g,v,null,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(l,'"'))}else switch(l){case vr:var m=t[++c],b=t[++c],y=r.createComment(m);a=o,o=zu(n,i,b,5,y,null),s.push(b),Ki(y,i),o.activeCaseIndex=null,Pt();break;case gr:var _=t[++c],C=t[++c];a=o,o=zu(n,i,C,3,r.createElement(_),_),s.push(C);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(l,'"'))}}return Pt(),s}function Xu(e,t,n,i){var r=ut(e,n),o=ct(n,t);o&&Do(t[11],o);var a=dt(t,n);if(Xe(a)){var s=a;0!==r.type&&Do(t[11],s[7])}i&&(r.flags|=64)}function qu(e,t,n){Yu(e,t,n),Ku()}function $u(e,t){!function(e,t,n,i){for(var r=wt().index-20,o=[],a=0;a<i.length;a+=2)for(var s=i[a],c=i[a+1].split(Ou),l=0;l<c.length;l++){var u=c[l];if(1&l)throw new Error("ICU expressions are not yet supported in attributes");if(""!==u)if(u.match(Su))t.firstCreatePass&&null===t.data[n+20]&&_e(Ru(u,r,s),o);else{var d=ut(t,r);3===d.type&&Qr(d,e,s,u,null,null);var h=null!==d.inputs&&d.inputs[s];h&&ho(t,e,h,s,u)}}t.firstCreatePass&&null===t.data[n+20]&&(t.data[n+20]=o)}(St(),Ot(),e,t)}var Ju=0,ed=0;function td(e){return ja(St(),Rt(),e)&&(Ju|=1<<ed),ed++,td}function nd(e){if(ed){var t,n=Ot(),i=n.data[e+20],r=null;Array.isArray(i)?t=i:(t=i.update,r=i.icus);var o=It()-ed-1,a=St();!function e(t,n,i,r,o,a){for(var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=!1,l=0;l<t.length;l++){var u=t[l],d=t[++l];if(s||u&r)for(var h="",f=l+1;f<=l+d;f++){var p=t[f];if("string"==typeof p)h+=p;else if("number"==typeof p)if(p<0)h+=bn(a[i-p]);else{var g=p>>>2,v=void 0,m=void 0;switch(3&p){case 1:var b=t[++f],y=t[++f];Br(o,ut(o,g),a,b,h,a[11],y,!1);break;case 0:fo(a,g,h);break;case 2:if(v=n[t[++f]],null!==(m=ut(o,g)).activeCaseIndex)for(var _=v.remove[m.activeCaseIndex],C=0;C<_.length;C++){var k=_[C];switch(7&k){case 3:Xu(o,a,k>>>3,!1);break;case 6:var S=ut(o,_[C+1]>>>3).activeCaseIndex;null!==S&&_e(n[k>>>3].remove[S],_)}}var O=id(v,h);m.activeCaseIndex=-1!==O?O:null,O>-1&&(Qu(-1,v.create[O],o,a),c=!0);break;case 3:v=n[t[++f]],null!==(m=ut(o,g)).activeCaseIndex&&e(v.update[m.activeCaseIndex],n,i,r,o,a,c)}}}l+=d}}(t,r,o,Ju,n,a),Ju=0,ed=0}}function id(e,t){var n,i,r,o=e.cases.indexOf(t);if(-1===o)switch(e.type){case 1:var a=(n=t,i=vu(cd)(parseInt(n,10)),void 0!==(r=yu[i])?r:"other");-1===(o=e.cases.indexOf(a))&&"other"!==a&&(o=e.cases.indexOf("other"));break;case 0:o=e.cases.indexOf("other")}return o}function rd(e,t,n,i){for(var r=[],o=[],a=[],s=[],c=[],l=0;l<t.values.length;l++){for(var u=t.values[l],d=[],h=0;h<u.length;h++){var f=u[h];if("string"!=typeof f){var p=d.push(f)-1;u[h]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}var g=od(u.join(""),n,d,e,i);r.push(g.create),o.push(g.remove),a.push(g.update),s.push(g.vars),c.push(g.childIcus)}e.push({type:t.type,vars:s,childIcus:c,cases:t.cases,create:r,remove:o,update:a}),Hu+=Math.max.apply(Math,s)}function od(e,t,n,i,r){var o=new di(rt()).getInertBodyElement(e);if(!o)throw new Error("Unable to generate inert body element");var a={vars:0,childIcus:[],create:[],remove:[],update:[]};return function e(t,n,i,r,o,a){if(t){for(var s=[];t;){var c=t.nextSibling,l=a+ ++n.vars;switch(t.nodeType){case Node.ELEMENT_NODE:var u=t,d=u.tagName.toLowerCase();if(Si.hasOwnProperty(d)){n.create.push(gr,d,l,i<<17|1);for(var h=u.attributes,f=0;f<h.length;f++){var p=h.item(f),g=p.name.toLowerCase();p.value.match(Su)?wi.hasOwnProperty(g)&&_e(Oi[g]?Ru(p.value,l,p.name,pi):Ti[g]?Ru(p.value,l,p.name,gi):Ru(p.value,l,p.name),n.update):n.create.push(l<<3|4,p.name,p.value)}e(t.firstChild,n,l,r,o,a),n.remove.push(l<<3|3)}else n.vars--;break;case Node.TEXT_NODE:var v=t.textContent||"",m=v.match(Su);n.create.push(m?"":v,l,i<<17|1),n.remove.push(l<<3|3),m&&_e(Ru(v,l),n.update);break;case Node.COMMENT_NODE:var b=ad.exec(t.textContent||"");if(b){var y=parseInt(b[1],10);n.create.push(vr,"",l,i<<17|1),s.push([r[y],l])}else n.vars--;break;default:n.vars--}t=c}for(var _=0;_<s.length;_++){var C=s[_][0],k=s[_][1];rd(o,C,k,a+n.vars);var S=o.length-1;n.vars+=Math.max.apply(Math,_toConsumableArray2(o[S].vars)),n.childIcus.push(S);var O=Nu(C);n.update.push(Fu(C.mainBinding),3,-1-C.mainBinding,k<<2|2,S,O,2,k<<2|3,S),n.remove.push(S<<3|6,k<<3|3)}}}((Ii(o)||o).firstChild,a,t,n,i,r),a}var ad=/\ufffd(\d+)\ufffd/,sd=/\uE500/g,cd="en-US";function ld(e){var t;null==(t=e)&&function(e,t,n,i){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&(cd=e.toLowerCase().replace(/_/g,"-"))}function ud(e,t,n,i){return c((function(){var r,o=e,a=o.prototype?Object.getPrototypeOf(o.prototype):null,s=a&&a.constructor;null!==t&&(void 0===o.decorators||s&&s.decorators===o.decorators?o.decorators=t:(r=o.decorators).push.apply(r,_toConsumableArray2(t))),null!==n&&(o.ctorParameters=n),null!==i&&(o.propDecorators=void 0===o.propDecorators||s&&s.propDecorators===o.propDecorators?i:Object.assign(Object.assign({},o.propDecorators),i))}))}var dd=new Map,hd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;_classCallCheck(this,n),(r=t.call(this))._parent=i,r._bootstrapComponents=[],r.injector=_assertThisInitialized(r),r.destroyCbs=[],r.componentFactoryResolver=new ou(_assertThisInitialized(r));var o=ze(e),a=e[ee]||null;return a&&ld(a),r._bootstrapComponents=On(o.bootstrap),r._r3Injector=pa(e,i,[{provide:be,useValue:_assertThisInitialized(r)},{provide:Pl,useValue:r.componentFactoryResolver}],N(e)),r._r3Injector._resolveInjectorDefTypes(),r.instance=r.get(e),r}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ka.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default;return e===ka||e===be||e===re?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(be),fd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).moduleType=e,null!==ze(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(N(t)," vs ").concat(N(t.name)))})(n,dd.get(n),t),dd.set(n,t)}var i=t.\u0275mod.imports;i instanceof Function&&(i=i()),i&&i.forEach((function(t){return e(t)}))}(e),i}return _createClass(n,[{key:"create",value:function(e){return new hd(this.moduleType,e)}}]),n}(ye);function pd(e,t,n){var i=Dt()+e,r=St();return r[i]===sr?Ra(r,i,n?t.call(n):t()):Na(r,i)}function gd(e,t,n,i){return Td(St(),Dt(),e,t,n,i)}function vd(e,t,n,i,r){return wd(St(),Dt(),e,t,n,i,r)}function md(e,t,n,i,r,o){return Ad(St(),Dt(),e,t,n,i,r,o)}function bd(e,t,n,i,r,o,a){return Ed(St(),Dt(),e,t,n,i,r,o,a)}function yd(e,t,n,i,r,o,a,s){var c=Dt()+e,l=St(),u=Ha(l,c,n,i,r,o);return ja(l,c+4,a)||u?Ra(l,c+5,s?t.call(s,n,i,r,o,a):t(n,i,r,o,a)):Na(l,c+5)}function _d(e,t,n,i,r,o,a,s,c){var l=Dt()+e,u=St(),d=Ha(u,l,n,i,r,o);return Ba(u,l+4,a,s)||d?Ra(u,l+6,c?t.call(c,n,i,r,o,a,s):t(n,i,r,o,a,s)):Na(u,l+6)}function Cd(e,t,n,i,r,o,a,s,c,l){var u=Dt()+e,d=St(),h=Ha(d,u,n,i,r,o);return Fa(d,u+4,a,s,c)||h?Ra(d,u+7,l?t.call(l,n,i,r,o,a,s,c):t(n,i,r,o,a,s,c)):Na(d,u+7)}function kd(e,t,n,i,r,o,a,s,c,l,u){var d=Dt()+e,h=St(),f=Ha(h,d,n,i,r,o);return Ha(h,d+4,a,s,c,l)||f?Ra(h,d+8,u?t.call(u,n,i,r,o,a,s,c,l):t(n,i,r,o,a,s,c,l)):Na(h,d+8)}function Sd(e,t,n,i){return Pd(St(),Dt(),e,t,n,i)}function Od(e,t){var n=e[t];return n===sr?void 0:n}function Td(e,t,n,i,r,o){var a=t+n;return ja(e,a,r)?Ra(e,a+1,o?i.call(o,r):i(r)):Od(e,a+1)}function wd(e,t,n,i,r,o,a){var s=t+n;return Ba(e,s,r,o)?Ra(e,s+2,a?i.call(a,r,o):i(r,o)):Od(e,s+2)}function Ad(e,t,n,i,r,o,a,s){var c=t+n;return Fa(e,c,r,o,a)?Ra(e,c+3,s?i.call(s,r,o,a):i(r,o,a)):Od(e,c+3)}function Ed(e,t,n,i,r,o,a,s,c){var l=t+n;return Ha(e,l,r,o,a,s)?Ra(e,l+4,c?i.call(c,r,o,a,s):i(r,o,a,s)):Od(e,l+4)}function Pd(e,t,n,i,r,o){for(var a=t+n,s=!1,c=0;c<r.length;c++)ja(e,a++,r[c])&&(s=!0);return s?Ra(e,a,i.apply(o,r)):Od(e,a)}function Md(e,t){var n,i=Ot(),r=e+20;i.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var i=t[n];if(e===i.name)return i}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(r,n.onDestroy)):n=i.data[r];var o=n.factory||(n.factory=Ke(n.type)),a=ue(cs),s=wn(!1),c=o();return wn(s),ue(a),function(e,t,n,i){var r=n+20;r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=i}(i,St(),e,c),c}function xd(e,t,n){var i=St(),r=dt(i,e);return jd(i,Nd(i,e)?Td(i,Dt(),t,r.transform,n,r):r.transform(n))}function Dd(e,t,n,i){var r=St(),o=dt(r,e);return jd(r,Nd(r,e)?wd(r,Dt(),t,o.transform,n,i,o):o.transform(n,i))}function Id(e,t,n,i,r){var o=St(),a=dt(o,e);return jd(o,Nd(o,e)?Ad(o,Dt(),t,a.transform,n,i,r,a):a.transform(n,i,r))}function Ld(e,t,n,i,r,o){var a=St(),s=dt(a,e);return jd(a,Nd(a,e)?Ed(a,Dt(),t,s.transform,n,i,r,o,s):s.transform(n,i,r,o))}function Rd(e,t,n){var i=St(),r=dt(i,e);return jd(i,Nd(i,e)?Pd(i,Dt(),t,r.transform,n,r):r.transform.apply(r,n))}function Nd(e,t){return e[1].data[t+20].pure}function jd(e,t){return Da.isWrapped(t)&&(t=Da.unwrap(t),e[It()]=sr),t}var Bd=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=i,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,i){var o,a=function(e){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(a=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),i&&(s=this.__isAsync?function(){setTimeout((function(){return i()}))}:function(){i()}));var c=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,a,s);return e instanceof r.a&&e.add(c),c}}]),n}(i.a);function Fd(){return this._results[Ma()]()}var Hd=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new Bd,this.length=0;var t=Ma(),n=e.prototype;n[t]||(n[t]=Fd)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=Ce(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Ud=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),Yd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[],o=0;o<i;o++){var a=n.getByIndex(o);r.push(this.queries[a.indexInDeclarationView].clone())}return new e(r)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==oh(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Gd=function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=i,this.read=r},Vd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,i=0;i<this.length;i++){var r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),e}(),Zd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,i=0;i<n.length;i++)this.matchTNodeWithReadOption(e,t,Wd(t,n[i]));else{var r=this.metadata.predicate;r===eu?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Nn(t,e,r,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===Ml||i===nu||i===eu&&0===t.type)this.addMatch(t.index,-2);else{var r=Nn(t,e,i,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function Wd(e,t){var n=e.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function Kd(e,t,n,i){return-1===n?function(e,t){return 3===e.type||4===e.type?Vo(Ml,e,t):0===e.type?Zo(eu,Ml,e,t):null}(t,e):-2===n?function(e,t,n){return n===Ml?Vo(Ml,t,e):n===eu?Zo(eu,Ml,t,e):n===nu?Wo(nu,Ml,t,e):void 0}(e,t,i):jn(e,e[1],n,t)}function zd(e,t,n,i){var r=t[19].queries[i];if(null===r.matches){for(var o=e.data,a=n.matches,s=[],c=0;c<a.length;c+=2){var l=a[c];s.push(l<0?null:Kd(t,o[l],a[c+1],n.metadata.read))}r.matches=s}return r.matches}function Qd(e){var t=St(),n=Ot(),i=Ht();Ut(i+1);var r=oh(n,i);if(e.dirty&&pt(t)===r.metadata.isStatic){if(null===r.matches)e.reset([]);else{var o=r.crossesNgTemplate?function e(t,n,i,r){var o=t.queries.getByIndex(i),a=o.matches;if(null!==a)for(var s=zd(t,n,o,i),c=0;c<a.length;c+=2){var l=a[c];if(l>0)r.push(s[c/2]);else{for(var u=a[c+1],d=n[-l],h=10;h<d.length;h++){var f=d[h];f[17]===f[3]&&e(f[1],f,u,r)}if(null!==d[9])for(var p=d[9],g=0;g<p.length;g++){var v=p[g];e(v[1],v,u,r)}}}return r}(n,t,i,[]):zd(n,t,r,i);e.reset(o),e.notifyOnChanges()}return!0}return!1}function Xd(e,t,n){$d(Ot(),St(),e,t,n,!0)}function qd(e,t,n){$d(Ot(),St(),e,t,n,!1)}function $d(e,t,n,i,r,o){e.firstCreatePass&&(rh(e,new Gd(n,i,o,r),-1),o&&(e.staticViewQueries=!0)),ih(e,t)}function Jd(e,t,n,i){th(Ot(),St(),t,n,i,!1,wt(),e)}function eh(e,t,n,i){th(Ot(),St(),t,n,i,!0,wt(),e)}function th(e,t,n,i,r,o,a,s){e.firstCreatePass&&(rh(e,new Gd(n,i,o,r),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,s),o&&(e.staticContentQueries=!0)),ih(e,t)}function nh(){return e=St(),t=Ht(),e[19].queries[t].queryList;var e,t}function ih(e,t){var n=new Hd;!function(e,t,n,i){var r=so(t);r.push(n),e.firstCreatePass&&co(e).push(i,r.length-1)}(e,t,n,n.destroy),null===t[19]&&(t[19]=new Yd),t[19].queries.push(new Ud(n))}function rh(e,t,n){null===e.queries&&(e.queries=new Vd),e.queries.track(new Zd(t,n))}function oh(e,t){return e.queries.getByIndex(t)}function ah(e,t){return Zo(eu,Ml,e,t)}function sh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.Default,t=Ko(!0);if(null!=t||e&k.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}var ch={"\u0275\u0275attribute":Ua,"\u0275\u0275attributeInterpolate1":qa,"\u0275\u0275attributeInterpolate2":$a,"\u0275\u0275attributeInterpolate3":Ja,"\u0275\u0275attributeInterpolate4":es,"\u0275\u0275attributeInterpolate5":ts,"\u0275\u0275attributeInterpolate6":ns,"\u0275\u0275attributeInterpolate7":is,"\u0275\u0275attributeInterpolate8":rs,"\u0275\u0275attributeInterpolateV":os,"\u0275\u0275defineComponent":Le,"\u0275\u0275defineDirective":Ye,"\u0275\u0275defineInjectable":T,"\u0275\u0275defineInjector":A,"\u0275\u0275defineNgModule":Fe,"\u0275\u0275definePipe":Ge,"\u0275\u0275directiveInject":cs,"\u0275\u0275getFactoryOf":Un,"\u0275\u0275getInheritedFactory":Yn,"\u0275\u0275inject":he,"\u0275\u0275injectAttribute":ls,"\u0275\u0275invalidFactory":us,"\u0275\u0275invalidFactoryDep":fe,"\u0275\u0275injectPipeChangeDetectorRef":sh,"\u0275\u0275templateRefExtractor":ah,"\u0275\u0275NgOnChangesFeature":vl,"\u0275\u0275ProvidersFeature":wl,"\u0275\u0275CopyDefinitionFeature":pl,"\u0275\u0275InheritDefinitionFeature":sl,"\u0275\u0275nextContext":As,"\u0275\u0275namespaceHTML":en,"\u0275\u0275namespaceMathML":Jt,"\u0275\u0275namespaceSVG":$t,"\u0275\u0275enableBindings":Ct,"\u0275\u0275disableBindings":kt,"\u0275\u0275elementStart":fs,"\u0275\u0275elementEnd":ps,"\u0275\u0275element":gs,"\u0275\u0275elementContainerStart":vs,"\u0275\u0275elementContainerEnd":ms,"\u0275\u0275elementContainer":bs,"\u0275\u0275pureFunction0":pd,"\u0275\u0275pureFunction1":gd,"\u0275\u0275pureFunction2":vd,"\u0275\u0275pureFunction3":md,"\u0275\u0275pureFunction4":bd,"\u0275\u0275pureFunction5":yd,"\u0275\u0275pureFunction6":_d,"\u0275\u0275pureFunction7":Cd,"\u0275\u0275pureFunction8":kd,"\u0275\u0275pureFunctionV":Sd,"\u0275\u0275getCurrentView":ys,"\u0275\u0275restoreView":Tt,"\u0275\u0275listener":ks,"\u0275\u0275projection":Ds,"\u0275\u0275updateSyntheticHostBinding":rl,"\u0275\u0275componentHostSyntheticListener":Ss,"\u0275\u0275pipeBind1":xd,"\u0275\u0275pipeBind2":Dd,"\u0275\u0275pipeBind3":Id,"\u0275\u0275pipeBind4":Ld,"\u0275\u0275pipeBindV":Rd,"\u0275\u0275projectionDef":Ps,"\u0275\u0275hostProperty":il,"\u0275\u0275property":ds,"\u0275\u0275propertyInterpolate":Is,"\u0275\u0275propertyInterpolate1":Ls,"\u0275\u0275propertyInterpolate2":Rs,"\u0275\u0275propertyInterpolate3":Ns,"\u0275\u0275propertyInterpolate4":js,"\u0275\u0275propertyInterpolate5":Bs,"\u0275\u0275propertyInterpolate6":Fs,"\u0275\u0275propertyInterpolate7":Hs,"\u0275\u0275propertyInterpolate8":Us,"\u0275\u0275propertyInterpolateV":Ys,"\u0275\u0275pipe":Md,"\u0275\u0275queryRefresh":Qd,"\u0275\u0275viewQuery":qd,"\u0275\u0275staticViewQuery":Xd,"\u0275\u0275staticContentQuery":eh,"\u0275\u0275loadQuery":nh,"\u0275\u0275contentQuery":Jd,"\u0275\u0275reference":ss,"\u0275\u0275classMap":ac,"\u0275\u0275classMapInterpolate1":Mc,"\u0275\u0275classMapInterpolate2":xc,"\u0275\u0275classMapInterpolate3":Dc,"\u0275\u0275classMapInterpolate4":Ic,"\u0275\u0275classMapInterpolate5":Lc,"\u0275\u0275classMapInterpolate6":Rc,"\u0275\u0275classMapInterpolate7":Nc,"\u0275\u0275classMapInterpolate8":jc,"\u0275\u0275classMapInterpolateV":Bc,"\u0275\u0275styleMap":rc,"\u0275\u0275styleMapInterpolate1":Fc,"\u0275\u0275styleMapInterpolate2":Hc,"\u0275\u0275styleMapInterpolate3":Uc,"\u0275\u0275styleMapInterpolate4":Yc,"\u0275\u0275styleMapInterpolate5":Gc,"\u0275\u0275styleMapInterpolate6":Vc,"\u0275\u0275styleMapInterpolate7":Zc,"\u0275\u0275styleMapInterpolate8":Wc,"\u0275\u0275styleMapInterpolateV":Kc,"\u0275\u0275styleProp":nc,"\u0275\u0275stylePropInterpolate1":zc,"\u0275\u0275stylePropInterpolate2":Qc,"\u0275\u0275stylePropInterpolate3":Xc,"\u0275\u0275stylePropInterpolate4":qc,"\u0275\u0275stylePropInterpolate5":$c,"\u0275\u0275stylePropInterpolate6":Jc,"\u0275\u0275stylePropInterpolate7":el,"\u0275\u0275stylePropInterpolate8":tl,"\u0275\u0275stylePropInterpolateV":nl,"\u0275\u0275styleSanitizer":tc,"\u0275\u0275classProp":ic,"\u0275\u0275select":fr,"\u0275\u0275advance":hr,"\u0275\u0275template":as,"\u0275\u0275text":yc,"\u0275\u0275textInterpolate":_c,"\u0275\u0275textInterpolate1":Cc,"\u0275\u0275textInterpolate2":kc,"\u0275\u0275textInterpolate3":Sc,"\u0275\u0275textInterpolate4":Oc,"\u0275\u0275textInterpolate5":Tc,"\u0275\u0275textInterpolate6":wc,"\u0275\u0275textInterpolate7":Ac,"\u0275\u0275textInterpolate8":Ec,"\u0275\u0275textInterpolateV":Pc,"\u0275\u0275i18n":qu,"\u0275\u0275i18nAttributes":$u,"\u0275\u0275i18nExp":td,"\u0275\u0275i18nStart":Yu,"\u0275\u0275i18nEnd":Ku,"\u0275\u0275i18nApply":nd,"\u0275\u0275i18nPostprocess":Wu,"\u0275\u0275resolveWindow":Cn,"\u0275\u0275resolveDocument":kn,"\u0275\u0275resolveBody":Sn,"\u0275\u0275setComponentScope":Re,"\u0275\u0275setNgModuleScope":He,"\u0275\u0275sanitizeHtml":Bi,"\u0275\u0275sanitizeStyle":Fi,"\u0275\u0275defaultStyleSanitizer":Vi,"\u0275\u0275sanitizeResourceUrl":Ui,"\u0275\u0275sanitizeScript":Yi,"\u0275\u0275sanitizeUrl":Hi,"\u0275\u0275sanitizeUrlOrResourceUrl":Gi},lh=[],uh=[],dh=!1;function hh(e){return Array.isArray(e)?e.every(hh):!!H(e)}function fh(e,t){var n=Ce(t.declarations||lh),i=gh(e);n.forEach((function(t){t.hasOwnProperty(X)?ph(Ve(t),i):t.hasOwnProperty(q)||t.hasOwnProperty($)||(t.ngSelectorScope=e)}))}function ph(e,t){e.directiveDefs=function(){return Array.from(t.compilation.directives).map((function(e){return e.hasOwnProperty(X)?Ve(e):Ze(e)})).filter((function(e){return!!e}))},e.pipeDefs=function(){return Array.from(t.compilation.pipes).map((function(e){return We(e)}))},e.schemas=t.schemas,e.tView=null}function gh(e){if(!mh(e))throw new Error(e.name+" does not have a module def (\u0275mod property)");var t=ze(e);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;var n={schemas:t.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return On(t.imports).forEach((function(e){var t=e;if(!mh(t))throw new Error("Importing ".concat(t.name," which does not have a \u0275mod property"));var i=gh(t);i.exported.directives.forEach((function(e){return n.compilation.directives.add(e)})),i.exported.pipes.forEach((function(e){return n.compilation.pipes.add(e)}))})),On(t.declarations).forEach((function(e){We(e)?n.compilation.pipes.add(e):n.compilation.directives.add(e)})),On(t.exports).forEach((function(e){var t=e;if(mh(t)){var i=gh(t);i.exported.directives.forEach((function(e){n.compilation.directives.add(e),n.exported.directives.add(e)})),i.exported.pipes.forEach((function(e){n.compilation.pipes.add(e),n.exported.pipes.add(e)}))}else We(t)?n.exported.pipes.add(t):n.exported.directives.add(t)})),t.transitiveCompileScopes=n,n}function vh(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function mh(e){return!!ze(e)}function bh(e,t){var n=null;_h(e,t||{}),Object.defineProperty(e,q,{get:function(){if(null===n){var i=yh(e,t||{});n=z().compileDirective(ch,i.sourceMapUrl,i.metadata)}return n},configurable:!1})}function yh(e,t){var n=e&&e.name,i="ng:///".concat(n,"/\u0275dir.js"),r=z(),o=kh(e,t);return o.typeSourceSpan=r.createParseSourceSpan("Directive",n,i),o.usesInheritance&&Sh(e),{metadata:o,sourceMapUrl:i}}function _h(e,t){var n=null;Object.defineProperty(e,te,{get:function(){if(null===n){var i=yh(e,t),r=z();n=r.compileFactory(ch,"ng:///".concat(e.name,"/\u0275fac.js"),Object.assign(Object.assign({},i.metadata),{injectFn:"directiveInject",target:r.R3FactoryTarget.Directive}))}return n},configurable:!1})}function Ch(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function kh(e,t){var n,i=aa(),r=i.ownPropMetadata(e);return{name:e.name,type:e,typeArgumentCount:0,selector:void 0!==t.selector?t.selector:null,deps:sa(e),host:t.host||xe,propMetadata:r,inputs:t.inputs||De,outputs:t.outputs||De,queries:Oh(e,r,Th),lifecycle:{usesOnChanges:i.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!Ch(e),exportAs:(n=t.exportAs,void 0===n?null:Eh(n)),providers:t.providers||null,viewQueries:Oh(e,r,wh)}}function Sh(e){for(var t=Object.prototype,n=Object.getPrototypeOf(e.prototype).constructor;n&&n!==t;)Ze(n)||Ve(n)||!Mh(n)||bh(n,null),n=Object.getPrototypeOf(n)}function Oh(e,t,n){var i=[],r=function(r){if(t.hasOwnProperty(r)){var o=t[r];o.forEach((function(t){if(n(t)){if(!t.selector)throw new Error("Can't construct a query for the property \"".concat(r,'" of "').concat(yn(e),"\" since the query selector wasn't defined."));if(o.some(Ah))throw new Error("Cannot combine @Input decorators with query decorators");i.push(function(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?Eh(n):H(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static};var n}(r,t))}}))}};for(var o in t)r(o);return i}function Th(e){var t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function wh(e){var t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function Ah(e){return"Input"===e.ngMetadataName}function Eh(e){return e.split(",").map((function(e){return e.trim()}))}var Ph=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Mh(e){var t=aa();if(Ph.some((function(n){return t.hasLifecycleHook(e,n)})))return!0;var n=t.propMetadata(e);for(var i in n)for(var r=n[i],o=0;o<r.length;o++){var a=r[o],s=a.ngMetadataName;if(Ah(a)||Th(a)||wh(a)||"Output"===s||"HostBinding"===s||"HostListener"===s)return!0}return!1}var xh=h("Component",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({changeDetection:Pe.Default},e)}),h("Directive",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),void 0,void 0,(function(e,t){return Rh(e,t)})),void 0,(function(e,t){return Lh(e,t)})),Dh=g("Input",(function(e){return{bindingPropertyName:e}})),Ih=g("HostBinding",(function(e){return{hostPropertyName:e}})),Lh=function(e,t){var n=null;!function(e,t){wa(t)&&(Oa.set(e,t),Ta.add(e))}(e,t),_h(e,t),Object.defineProperty(e,X,{get:function(){if(null===n){var i=z();if(wa(t)){var r=["Component '".concat(e.name,"' is not resolved:")];throw t.templateUrl&&r.push(" - templateUrl: "+t.templateUrl),t.styleUrls&&t.styleUrls.length&&r.push(" - styleUrls: "+JSON.stringify(t.styleUrls)),r.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(r.join("\n"))}var o=t.preserveWhitespaces;void 0===o&&(o=!1);var a=t.encapsulation;void 0===a&&(a=Me.Emulated);var s=t.templateUrl||"ng:///".concat(e.name,"/template.html"),c=Object.assign(Object.assign({},kh(e,t)),{typeSourceSpan:i.createParseSourceSpan("Component",e.name,s),template:t.template||"",preserveWhitespaces:o,styles:t.styles||De,animations:t.animations,directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:a,interpolation:t.interpolation,viewProviders:t.viewProviders||null});if(c.usesInheritance&&Sh(e),n=i.compileComponent(ch,s,c),function(){if(!dh){dh=!0;try{for(var e=uh.length-1;e>=0;e--){var t=uh[e],n=t.moduleType,i=t.ngModule;i.declarations&&i.declarations.every(hh)&&(uh.splice(e,1),fh(n,i))}}finally{dh=!1}}}(),void 0!==e.ngSelectorScope){var l=gh(e.ngSelectorScope);ph(n,l)}}return n},configurable:!1})},Rh=bh,Nh=h("NgModule",(function(e){return e}),void 0,void 0,(function(e,t){return jh(e,t)})),jh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=Ce(t.declarations||lh),i=null;Object.defineProperty(e,J,{configurable:!0,get:function(){return null===i&&((i=z().compileNgModule(ch,"ng:///".concat(e.name,"/\u0275mod.js"),{type:e,bootstrap:Ce(t.bootstrap||lh).map(H),declarations:n.map(H),imports:Ce(t.imports||lh).map(H).map(vh),exports:Ce(t.exports||lh).map(H).map(vh),schemas:t.schemas?Ce(t.schemas):null,id:t.id||null})).schemas||(i.schemas=[])),i}});var r=null;Object.defineProperty(e,D,{get:function(){if(null===r){var n={name:e.name,type:e,deps:sa(e),providers:t.providers||lh,imports:[(t.imports||lh).map(H),(t.exports||lh).map(H)]};r=z().compileInjector(ch,"ng:///".concat(e.name,"/\u0275inj.js"),n)}return r},configurable:!1})}(e,t),function(e,t){uh.push({moduleType:e,ngModule:t})}(e,t)},Bh=new ie("Application Initializer"),Fh=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();_s(r)&&t.push(r)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(he(Bh,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e}(),Hh=new ie("AppId"),Uh={provide:Hh,useFactory:function(){return"".concat(Yh()).concat(Yh()).concat(Yh())},deps:[]};function Yh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Gh=new ie("Platform Initializer"),Vh=new ie("Platform ID"),Zh=new ie("appBootstrapListener"),Wh=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e}(),Kh=new ie("LocaleId"),zh=new ie("DefaultCurrencyCode"),Qh=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},Xh=function(e){return new fd(e)},qh=Xh,$h=function(e){return Promise.resolve(Xh(e))},Jh=function(e){var t=Xh(e),n=On(ze(e).declarations).reduce((function(e,t){var n=Ve(t);return n&&e.push(new cu(n)),e}),[]);return new Qh(t,n)},ef=Jh,tf=function(e){return Promise.resolve(Jh(e))},nf=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=qh,this.compileModuleAsync=$h,this.compileModuleAndAllComponentsSync=ef,this.compileModuleAndAllComponentsAsync=tf}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e}(),rf=new ie("compilerOptions"),of=Promise.resolve(0);function af(e){"undefined"==typeof Zone?of.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var sf=function(){function e(t){var n,i,r=t.enableLongStackTrace,o=void 0!==r&&r,a=t.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bd(!1),this.onMicrotaskEmpty=new Bd(!1),this.onStable=new Bd(!1),this.onError=new Bd(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=W.requestAnimationFrame,t=W.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,i=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(W,(function(){e.lastRequestAnimationFrameId=-1,df(e),uf(e)})),df(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:i},onInvokeTask:function(e,t,r,o,a,s){try{return hf(n),e.invokeTask(r,o,a,s)}finally{i&&"eventTask"===o.type&&i(),ff(n)}},onInvoke:function(e,t,i,r,o,a,s){try{return hf(n),e.invoke(i,r,o,a,s)}finally{ff(n)}},onHasTask:function(e,t,i,r){e.hasTask(i,r),t===i&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,df(n),uf(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:function(e,t,i,r){return e.handleError(i,r),n.runOutsideAngular((function(){return n.onError.emit(r)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,i){var r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,e,lf,cf,cf);try{return r.runTask(o,t,n)}finally{r.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function cf(){}var lf={};function uf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function df(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function hf(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ff(e){e._nesting--,uf(e)}var pf=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bd,this.onMicrotaskEmpty=new Bd,this.onStable=new Bd,this.onError=new Bd}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,i){return e.apply(t,n)}}]),e}(),gf=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){sf.assertNotInAngularZone(),af((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())af((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var i=this,r=-1;t&&t>0&&(r=setTimeout((function(){i._callbacks=i._callbacks.filter((function(e){return e.timeoutId!==r})),e(i._didWork,i.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(he(sf))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e}(),vf=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,yf.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return yf.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e}();function mf(e){yf=e}var bf,yf=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),_f=function(e,t,n){var i=e.get(rf,[]).concat(t),r=new fd(n);if(0===Oa.size)return Promise.resolve(r);var o,a,s=(o=i.map((function(e){return e.providers})),a=[],o.forEach((function(e){return e&&a.push.apply(a,_toConsumableArray2(e))})),a);if(0===s.length)return Promise.resolve(r);var c=z(),l=ka.create({providers:s}).get(c.ResourceLoader);return function(e){var t=[],n=new Map;function i(e){var t=n.get(e);if(!t){var i=function(e){return Promise.resolve(l.get(e))}(e);n.set(e,t=i.then(Aa))}return t}return Oa.forEach((function(e,n){var r=[];e.templateUrl&&r.push(i(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,a=e.styles||(e.styles=[]),s=e.styles.length;o&&o.forEach((function(t,n){a.push(""),r.push(i(t).then((function(i){a[s+n]=i,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var c=Promise.all(r).then((function(){return function(e){Ta.delete(e)}(n)}));t.push(c)})),Oa=new Map,Promise.all(t).then((function(){}))}().then((function(){return r}))},Cf=new ie("AllowMultipleToken"),kf=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function Sf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: "+t,r=new ie(i);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Of();if(!o||o.injector.get(Cf,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{var a=n.concat(t).concat({provide:r,useValue:!0},{provide:ca,useValue:"platform"});!function(e){if(bf&&!bf.destroyed&&!bf.injector.get(Cf,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");bf=e.get(Tf);var t=e.get(Gh,null);t&&t.forEach((function(e){return e()}))}(ka.create({providers:a,name:i}))}return function(e){var t=Of();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function Of(){return bf&&!bf.destroyed?bf:null}var Tf=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,i,r=this,o=(n=t?t.ngZone:void 0,i=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new pf:("zone.js"===n?void 0:n)||new sf({enableLongStackTrace:li(),shouldCoalesceEventChangeDetection:i})),a=[{provide:sf,useValue:o}];return o.run((function(){var t=ka.create({providers:a,parent:r.injector,name:e.moduleType.name}),n=e.create(t),i=n.injector.get(Wn,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Ef(r._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){i.handleError(e)}})})),function(e,t,i){try{var o=((a=n.injector.get(Fh)).runInitializers(),a.donePromise.then((function(){return ld(n.injector.get(Kh,"en-US")||"en-US"),r._moduleDoBootstrap(n),n})));return _s(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var a}(i,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=wf({},n);return _f(this.injector,i,e).then((function(e){return t.bootstrapModuleFactory(e,i)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Af);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(N(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(he(ka))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e}();function wf(e,t){return Array.isArray(t)?t.reduce(wf,e):Object.assign(Object.assign({},e),t)}var Af=function(){var e=function(){function e(t,n,i,r,c,l){var u=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=c,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=li(),this._zone.onMicrotaskEmpty.subscribe({next:function(){u._zone.run((function(){u.tick()}))}});var d=new o.a((function(e){u._stable=u._zone.isStable&&!u._zone.hasPendingMacrotasks&&!u._zone.hasPendingMicrotasks,u._zone.runOutsideAngular((function(){e.next(u._stable),e.complete()}))})),h=new o.a((function(e){var t;u._zone.runOutsideAngular((function(){t=u._zone.onStable.subscribe((function(){sf.assertNotInAngularZone(),af((function(){u._stable||u._zone.hasPendingMacrotasks||u._zone.hasPendingMicrotasks||(u._stable=!0,e.next(!0))}))}))}));var n=u._zone.onUnstable.subscribe((function(){sf.assertInAngularZone(),u._stable&&(u._stable=!1,u._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(d,h.pipe(Object(s.a)()))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Al?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var r=n.isBoundToModule?void 0:this._injector.get(be),o=n.create(ka.NULL,[],t||n.selector,r);o.onDestroy((function(){i._unloadComponent(o)}));var a=o.injector.get(gf,null);return a&&o.injector.get(vf).registerApplication(o.location.nativeElement,a),this._loadComponent(o),li()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;){t.value.detectChanges()}}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var i,r=_createForOfIteratorHelper(this._views);try{for(r.s();!(i=r.n()).done;){i.value.checkNoChanges()}}catch(o){r.e(o)}finally{r.f()}}}catch(a){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Ef(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Zh,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),Ef(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(he(sf),he(Wh),he(ka),he(Wn),he(Pl),he(Fh))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e}();function Ef(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Pf=function e(){_classCallCheck(this,e)},Mf=function e(){_classCallCheck(this,e)},xf={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Df=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||xf}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,i=_slicedToArray(e.split("#"),2),r=i[0],o=i[1];return void 0===o&&(o="default"),n("zn8P")(r).then((function(e){return e[o]})).then((function(e){return If(e,r,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),i=t[0],r=t[1],o="NgFactory";return void 0===r&&(r="default",o=""),n("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then((function(e){return e[r+o]})).then((function(e){return If(e,i,r)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(he(nf),he(Mf,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e}();function If(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Lf=function(e){return null},Rf=Sf(null,"core",[{provide:Vh,useValue:"unknown"},{provide:Tf,deps:[ka]},{provide:vf,deps:[]},{provide:Wh,deps:[]}]),Nf=[{provide:Af,useClass:Af,deps:[sf,Wh,ka,Wn,Pl,Fh]},{provide:su,deps:[sf],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:Fh,useClass:Fh,deps:[[new m,Bh]]},{provide:nf,useClass:nf,deps:[]},Uh,{provide:Ql,useFactory:function(){return $l},deps:[]},{provide:Xl,useFactory:function(){return Jl},deps:[]},{provide:Kh,useFactory:function(e){return ld(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new v(Kh),new m,new y]]},{provide:zh,useValue:"USD"}],jf=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275mod=Fe({type:e}),e.\u0275inj=A({factory:function(t){return new(t||e)(he(Af))},providers:Nf}),e}()},ffpz:function(e,t,n){"use strict";t.Scheduler=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},fmRc:function(e,t,n){var i=n("Xi7e"),r=n("77Zs"),o=n("L8xA"),a=n("gCq4"),s=n("VaNO"),c=n("0Cz8");function l(e){var t=this.__data__=new i(e);this.size=t.size}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,e.exports=l},g7np:function(e,t,n){"use strict";var i=n("2SVd"),r=n("5oMp");e.exports=function(e,t){return e&&!i(t)?r(e,t):t}},gAzV:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i,r=n("ofXK"),o=n("fXoL"),a=new o.t("mid-init.config"),s=n("bJP1"),c=((i=function(){function e(t,n){_classCallCheck(this,e),this.localeId=t,this.config=n,this.initDateElements(this.config)}return _createClass(e,[{key:"initDateElements",value:function(e){var t=e||{},n=t.minYear,i=t.maxYear;Number.isInteger(n)||(n=1900),Number.isInteger(i)||(i=n+200),n>i&&(console.warn("::MultiInputDate::","Calculated year ranges are invalid: minYear (".concat(n,") is greater than maxYear (").concat(i,")! Falling back to default range values: minYear 1900, maxYear (2100).")),n=1900,i=2100),this.defaultMin={day:1,month:0,year:n},this.defaultMax={day:31,month:11,year:i}}},{key:"buildDayOptions",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dayStringReplace,i=Number.isInteger(e)?e:1,r=Number.isInteger(t)?t:1970,o=this.getDaysInMonth(i,r),a=[],s=1;s<=o;s++)a.push({value:s,display:n(s)});return a}},{key:"buildMonthOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.monthStringReplace;return Object(r.K)(this.localeId||"en-US",r.h.Standalone,r.H.Abbreviated).map((function(t,n){return{value:n,display:e(t)}}))}},{key:"buildYearOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1900,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2100;if(e>t)throw Error("::MultiInputDate::buildYearOptions: min value is greater than max value!");for(var n=[],i=t;i>=e;i--)n.push({value:i,display:String(i)});return n}},{key:"generateDateElement",value:function(e){var t=this.getDateFromValue(e);if(t&&!Number.isNaN(t.valueOf()))return{day:t.getDate(),month:t.getMonth(),year:t.getFullYear()}}},{key:"getDateFromValue",value:function(e){var t;if(e instanceof Date)Number.isNaN(e.valueOf())||(t=e);else if(e&&"string"==typeof e)try{var n=new Date(e);Number.isNaN(n.valueOf())||(t=n)}catch(_){}return t}},{key:"validateControlValue",value:function(e,t,n){var i=this.getDateFromValue(e);if(i){if(Number.isNaN(i.valueOf()))return _defineProperty2({},this.getKeyValue(n,"invalid"),!0);var r=this.generateDateElement(i),o=r.day,a=r.month,c=r.year;if(t.min){var l=t.min;if(s.a.elementsToString(c,a,o)<s.a.elementsToString(l.year,l.month,l.day))return _defineProperty2({},this.getKeyValue(n,"minDate"),new Date(l.year,l.month,l.day))}if(t.max){var u=t.max;if(s.a.elementsToString(c,a,o)>s.a.elementsToString(u.year,u.month,u.day))return _defineProperty2({},this.getKeyValue(n,"maxDate"),new Date(u.year,u.month,u.day))}}return null}},{key:"areDateRangesValid",value:function(e,t){return this.isDateElementValid(e)&&this.isDateElementValid(t)&&s.a.elementsToString(e.year,e.month,e.day)<=s.a.elementsToString(t.year,t.month,t.day)}},{key:"getKeyValue",value:function(e,t){return(e||{})[t]||t||void 0}},{key:"getDaysInMonth",value:function(e,t){return new Date(t,e,0).getDate()}},{key:"monthStringReplace",value:function(e){return e&&"string"==typeof e?null==e?void 0:e.toUpperCase().replace(".",""):e}},{key:"dayStringReplace",value:function(e){return Number.isInteger(e)?String(e).padStart(2,"0"):"-"}},{key:"isDateElementValid",value:function(e){return!!e&&Number.isInteger(e.day)&&Number.isInteger(e.month)&&Number.isInteger(e.year)&&!Number.isNaN(new Date(e.year,e.day,e.month).valueOf())}}]),e}()).\u0275fac=function(e){return new(e||i)(o.dc(o.y,8),o.dc(a,8))},i.\u0275prov=o.Pb({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},gCq4:function(e,t){e.exports=function(e){return this.__data__.get(e)}},gFfm:function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},gH2X:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("fXoL"),r=n("ofXK"),o=n("1AID"),a=n("RbsG"),s=n("tyNb"),c=n("CPX7"),l=n("BifP"),u=function(){var e=function(){function e(t,n,r,a,s){var c;_classCallCheck(this,e),this.document=t,this.router=n,this.basket=r,this.cmsConfig=a,this.locale=s,this.showModal$=new i.p,this.cmsBookingGuestFee=!1,this.availableGuestFeeRoutes=["/book/passenger","/book/seats","/book/extras","/book/review"],this.cmsBookingGuestFee=this.cmsConfig.getBookingFeatureValue(o.a.BookingGuestFee)||!1,this.cmsGuestFeeConfig=(null===(c=this.cmsConfig._cmsConfig.bookingSettings)||void 0===c?void 0:c.guestFeeConfig)||null}return _createClass(e,[{key:"openModal",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.showModal$.emit({open:!0,animation:e}),this.document.body.classList.add("open-modal")}},{key:"closeModal",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.showModal$.emit({open:!1,animation:e}),this.document.body.classList.remove("open-modal")}},{key:"showNewAccountSidebar",value:function(){var e,t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.k.Anonymous;return this.isGuestFeeSidebarActive&&(null===(e=this.cmsGuestFeeConfig)||void 0===e?void 0:e.locales.includes(this.locale))&&(null===(n=null===(t=this.cmsGuestFeeConfig)||void 0===t?void 0:t.agentTypes)||void 0===n?void 0:n.includes(i))&&this.availableGuestFeeRoutes.includes(this.router.url)&&this.isBookingValidForGuestFee}},{key:"isBookingValidForGuestFee",get:function(){var e,t,n,i,r;return(null===(e=this.basket)||void 0===e?void 0:e._basketBooking)&&!(null===(r=null===(i=null===(n=null===(t=this.basket)||void 0===t?void 0:t._basketBooking)||void 0===n?void 0:n.services)||void 0===i?void 0:i.services)||void 0===r?void 0:r.find((function(e){return"VivaFan"===e.code})))}},{key:"isGuestFeeSidebarActive",get:function(){return this.cmsBookingGuestFee}},{key:"isGuestFeeActive",get:function(){var e;return this.isGuestFeeSidebarActive&&(null===(e=this.cmsGuestFeeConfig)||void 0===e?void 0:e.locales.includes(this.locale))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(r.e),i.dc(s.g),i.dc(c.a),i.dc(l.a),i.dc(i.y))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("2fFW"),r=n("NJ4a"),o={closed:!0,next:function(e){},error:function(e){if(i.a.useDeprecatedSynchronousErrorHandling)throw e;Object(r.a)(e)},complete:function(){}}},gVin:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),r=n("AytR"),o=n("fXoL"),a=n("wtyH"),s=function(){var e=function(){function e(t){_classCallCheck(this,e),this.servicesSvc=t,this.prevCodeValue="",this.serviceName=""}return _createClass(e,[{key:"transform",value:function(e,t){return e||"string"==typeof e?(this.prevCodeValue===e||(this.prevCodeValue=e,this.serviceName=e,this.getBasketName(e,t)),this.serviceName):this.serviceName}},{key:"getBasketName",value:function(e,t){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.servicesSvc.ready.toPromise();case 2:(i=this.servicesSvc.getService(e))&&(i.basketName||i.name)?this.serviceName=i.basketName||i.name:(r.g.production||console.warn("::BasketNamePipe::","No service found for code: "+e),this.serviceName=t||e);case 4:case"end":return n.stop()}}),n,this)})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Tb(a.a))},e.\u0275pipe=o.Sb({name:"basketName",type:e,pure:!1}),e}()},"h/S9":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return s}));var i=function e(){_classCallCheck(this,e)},r=function e(){_classCallCheck(this,e),this.tij2TjxSwitch=!1,this.checkInPassengers=[],this.checkInNextView="",this.bookingSeats=null,this.checkInPaidCharges=null,this.passengerChanges=null,this.availabilityJourneyKeys=[],this.originalJourneyKeys=[],this.availabilitySearchType=null,this.bfHotelsOfferAvailable=!1,this.Boxever={trackingId:"",browserId:""},this.preSelectedServices=[],this.recommendedServices=[],this.calledGuestFee=!1,this.iropActionApplied=null,this.allowIropAccess=!1,this.iropBlackoutPeriods=[],this.reasonForTravel=null,this.carbonOffsetModalShowed=!1,this.otpDetail="",this.originalFare=null,this.iropAvailabilityParams={itineraryCode:"",passengers:""}},o=function(e){return e.Active="Active",e.Passive="Passive",e.Expired="Expired",e}({}),a=function(e){return e.None="None",e.NonStop="NonStop",e.Through="Through",e.Direct="Direct",e.Connect="Connect",e.All="All",e}({}),s=function(e){return e.Transfer="transfer",e.CarryOn="carryOn",e.CheckedBaggage="checkedBaggage",e.Other="other",e.Recommended="recommended",e}({})},h2JM:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return Nt}));var r=n("mrSG"),o=n("fXoL"),a=n("RJ73"),s=n("3Pt+"),c=n("Kj3r"),l=n("quSY"),u=n("cPaJ"),d=n("rdGu"),h=n("AytR"),f=n("EcEN"),p=n("d/Sv"),g=n("1AID"),v=n("kh7C"),m=n("G/yK"),b=n("BifP"),y=n("lALM"),_=n("/XB6"),C=n("JK/P"),k=n("B8vn"),S=n("y4gz"),O=n("tyNb"),T=n("ofXK"),w=n("mGSR"),A=n("ckWZ"),E=n("K6W5"),P=n("ZOsW"),M=n("VXoX"),x=n("q/KQ"),D=n("ib+v");function I(e,t){1&e&&(o.Xb(0),o.Zb(1,"div",23),o.Sc(2),o.kc(3,"cmsTranslate"),o.Yb(),o.Zb(4,"div",24),o.Sc(5),o.kc(6,"cmsTranslate"),o.Yb(),o.Wb()),2&e&&(o.Hb(2),o.Tc(o.lc(3,2,"BOOKER_SUBTITLE_DESTINATION-CITY")),o.Hb(3),o.Tc(o.lc(6,4,"GLOBAL_LABEL_ORIGIN-PLACEHOLDER")))}function L(e,t){if(1&e&&(o.Xb(0),o.Zb(1,"div",23),o.Sc(2),o.kc(3,"cmsTranslate"),o.Yb(),o.Zb(4,"div",24),o.Sc(5),o.Yb(),o.Wb()),2&e){var n=o.jc();o.Hb(2),o.Tc(o.lc(3,2,"BOOKER_SUBTITLE_DESTINATIONS")),o.Hb(3),o.Tc(null==n.selectedOrigin?null:n.selectedOrigin.name)}}function R(e,t){if(1&e){var n=o.ac();o.Zb(0,"app-tablist-bar",25),o.hc("activeTabChange",(function(e){return o.Hc(n),o.jc().changeTab(e)})),o.Yb()}if(2&e){var i=o.jc();o.sc("tabOptions",i.tabOptions)("activeTab",i.activeTab.tab)("theme","light")}}function N(e,t){1&e&&(o.Xb(0),o.Sc(1),o.kc(2,"cmsTranslate"),o.Wb()),2&e&&(o.Hb(1),o.Uc(" ",o.lc(2,1,"BOOKER_LABEL_INTERNATIONAL-DESTINATIONS")," "))}function j(e,t){if(1&e&&(o.Xb(0),o.Sc(1),o.Wb()),2&e){var n=o.jc().item;o.Hb(1),o.Uc(" ",n.name," ")}}function B(e,t){if(1&e&&(o.Qc(0,N,3,3,"ng-container",5),o.Qc(1,j,2,1,"ng-container",5)),2&e){var n=t.item;o.sc("ngIf","AA"===n.code),o.Hb(1),o.sc("ngIf","AA"!==n.code)}}function F(e,t){1&e&&(o.Xb(0),o.Sc(1),o.kc(2,"cmsTranslate"),o.Wb()),2&e&&(o.Hb(1),o.Uc(" ",o.lc(2,1,"BOOKER_LABEL_ALL-DESTINATIONS")," "))}function H(e,t){if(1&e&&(o.Xb(0),o.Sc(1),o.Wb()),2&e){var n=o.jc().item;o.Hb(1),o.Uc(" ",n.name," ")}}var U=function(e){return{regex:"%%count%%",newValue:e}},Y=function(e){return[e]};function G(e,t){if(1&e&&(o.Zb(0,"span",29),o.Zb(1,"div",30),o.Zb(2,"div",31),o.Zb(3,"span",32),o.Qc(4,F,3,3,"ng-container",5),o.Qc(5,H,2,1,"ng-container",5),o.Yb(),o.Zb(6,"span",33),o.Sc(7),o.kc(8,"cmsRegexReplace"),o.kc(9,"cmsTranslate"),o.Yb(),o.Yb(),o.Yb(),o.Yb()),2&e){var n=t.item;o.Hb(4),o.sc("ngIf","AA"===n.code),o.Hb(1),o.sc("ngIf","AA"!==n.code),o.Hb(2),o.Uc(" ",o.mc(8,3,o.lc(9,6,"BOOKER_LABEL_DESTINATIONS-COUNT"),o.vc(10,Y,o.vc(8,U,n.amount.toString())))," ")}}function V(e,t){if(1&e){var n=o.ac();o.Zb(0,"ng-select",26),o.hc("ngModelChange",(function(e){return o.Hc(n),o.jc().selectedInternationalCountryCode=e}))("ngModelChange",(function(e){return o.Hc(n),o.jc().onInternationalSelection(e)})),o.kc(1,"cmsTranslate"),o.Qc(2,B,2,2,"ng-template",27),o.Qc(3,G,10,12,"ng-template",28),o.Yb()}if(2&e){var i=o.jc();o.sc("items",i.internationalOptions)("bindValue","code")("searchable",!1)("clearable",!1)("placeholder",o.lc(1,6,"BOOKER_LABEL_INTERNATIONAL-DESTINATIONS"))("ngModel",i.selectedInternationalCountryCode)}}function Z(e,t){1&e&&o.Vb(0)}function W(e,t){if(1&e&&(o.Xb(0),o.Qc(1,Z,1,0,"ng-container",34),o.Wb()),2&e){o.jc();var n=o.Ec(32);o.Hb(1),o.sc("ngTemplateOutlet",n)}}function K(e,t){1&e&&o.Vb(0)}var z=function(e){return{station:e}};function Q(e,t){if(1&e&&(o.Xb(0),o.Qc(1,K,1,0,"ng-container",37),o.Wb()),2&e){var n=t.$implicit;o.jc(2);var i=o.Ec(30);o.Hb(1),o.sc("ngTemplateOutlet",i)("ngTemplateOutletContext",o.vc(2,z,n))}}function X(e,t){if(1&e&&(o.Zb(0,"div",35),o.Qc(1,Q,2,4,"ng-container",36),o.Yb()),2&e){var n=t.$implicit;o.Hb(1),o.sc("ngForOf",n)}}function q(e,t){1&e&&o.Vb(0)}function $(e,t){if(1&e&&(o.Xb(0),o.Qc(1,q,1,0,"ng-container",37),o.Wb()),2&e){var n=t.$implicit;o.jc(2);var i=o.Ec(30);o.Hb(1),o.sc("ngTemplateOutlet",i)("ngTemplateOutletContext",o.vc(2,z,n))}}function J(e,t){if(1&e&&(o.Zb(0,"div",38),o.Qc(1,$,2,4,"ng-container",36),o.Yb()),2&e){var n=t.$implicit;o.Hb(1),o.sc("ngForOf",n)}}var ee=function(e){return{active:e}};function te(e,t){if(1&e&&(o.Xb(0),o.Ub(1,"div",44),o.Wb()),2&e){var n=t.index,i=o.jc(2);o.Hb(1),o.sc("ngClass",o.vc(1,ee,i.pageNo===n))}}var ne=function(){return[]};function ie(e,t){if(1&e){var n=o.ac();o.Zb(0,"div",39),o.Qc(1,te,2,3,"ng-container",36),o.Zb(2,"div",40),o.Zb(3,"button",41),o.hc("click",(function(){return o.Hc(n),o.jc().previousPage()})),o.Ub(4,"i",42),o.Yb(),o.Zb(5,"button",41),o.hc("click",(function(){return o.Hc(n),o.jc().nextPage()})),o.Ub(6,"i",43),o.Yb(),o.Yb(),o.Yb()}if(2&e){var i=o.jc();o.Hb(1),o.sc("ngForOf",o.uc(3,ne).constructor(i.pageTotal)),o.Hb(2),o.sc("disabled",!i.canGoBack),o.Hb(2),o.sc("disabled",!i.canGoNext)}}function re(e,t){1&e&&o.Ub(0,"em",17)}function oe(e,t){1&e&&(o.Ub(0,"img",51),o.kc(1,"cmsStaticImage")),2&e&&o.sc("src",o.lc(1,1,"BOOKER-ICON-INTERLINE"),o.Kc)}function ae(e,t){if(1&e&&(o.Zb(0,"span",52),o.Sc(1),o.Yb()),2&e){var n=o.jc().station;o.Hb(1),o.Uc(" ",n.code," ")}}var se=function(e){return{extended:e}};function ce(e,t){if(1&e){var n=o.ac();o.Zb(0,"button",45),o.hc("click",(function(){o.Hc(n);var e=t.station;return o.jc().onStationSelect(e)})),o.Zb(1,"span",46),o.Sc(2),o.Yb(),o.Zb(3,"div",47),o.Qc(4,re,1,0,"em",48),o.Qc(5,oe,2,3,"img",49),o.Qc(6,ae,2,1,"span",50),o.Yb(),o.Yb()}if(2&e){var i=t.station,r=o.jc();o.Hb(1),o.sc("title",i.name)("ngClass",o.vc(6,se,r.isMaacStation(i))),o.Hb(1),o.Uc(" ",i.name," "),o.Hb(2),o.sc("ngIf",!r.isOriginSelection&&r.stationIsConnecting(i)),o.Hb(1),o.sc("ngIf",r.altOperatorList[null==i?null:i.code]),o.Hb(1),o.sc("ngIf",!r.isMaacStation(i))}}function le(e,t){if(1&e){var n=o.ac();o.Zb(0,"div",53),o.Zb(1,"label",54),o.Zb(2,"input",55),o.hc("ngModelChange",(function(e){return o.Hc(n),o.jc().partnerToggleValue=e}))("ngModelChange",(function(e){return o.Hc(n),o.jc().partnerToggleChange(e)})),o.Yb(),o.Ub(3,"span",56),o.Zb(4,"label",57),o.Sc(5),o.kc(6,"cmsTranslate"),o.Yb(),o.Yb(),o.Yb()}if(2&e){var i=o.jc();o.Hb(2),o.sc("ngModel",i.partnerToggleValue),o.Hb(3),o.Uc(" ",o.lc(6,2,"BOOKER_LABEL_SHOW-VIVA-DESTINATIONS")," ")}}var ue,de=function(e){return{"has-partner-toggle":e}},he=((ue=function(){function e(t,n){_classCallCheck(this,e),this.utils=t,this.operatingCarrierSrv=n,this.id="station-selector-modal",this.closeModal=new o.p,this.stationSelect=new o.p,this.stations=[],this.stationType=u.a.DESTINATION,this.ITEMS_PER_COL=7,this.NATIONAL_COUNTRY_CODE="MX",this.ALL_COUNTRIES_CODE="AA",this.colsPerPage=3,this.pageNo=0,this.pageTotal=1,this.activeTab={tab:-1,view:fe.MEXICO},this.tabOptions=[],this.nationalStationCols=[],this.internationalStationsCols=[],this.internationalStationsMap=new Map,this.internationalOptions=[],this.altOperatorList={},this.partnerToggleValue=!1,this.stationTabView=fe}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){this.init(),this.changesRequireTabReset(e)&&(0===this.tabOptions.length&&this.internationalStationsMap.size>0?this.onInternationalSelection(this.ALL_COUNTRIES_CODE):this.changeTab(0))}},{key:"init",value:function(){var e,t=this,n=this.stations.filter((function(e){return e.countryCode===t.NATIONAL_COUNTRY_CODE}));this.internationalStationsMap=new Map;var i=this.stations.filter((function(e){return e.countryCode!==t.NATIONAL_COUNTRY_CODE}));if(Object(v.e)(i)){this.internationalStationsMap.set(this.ALL_COUNTRIES_CODE,i);var r,o=_createForOfIteratorHelper(i);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=(null!=a?a:{}).countryCode;a&&s&&(this.internationalStationsMap.has(s)?this.internationalStationsMap.get(s).push(a):this.internationalStationsMap.set(s,[a]))}}catch(h){o.e(h)}finally{o.f()}}this.internationalOptions=[];var c,l=_createForOfIteratorHelper(null===(e=Array.from(this.internationalStationsMap.keys()))||void 0===e?void 0:e.sort());try{for(l.s();!(c=l.n()).done;){var u=c.value,d=this.internationalStationsMap.get(u);Object(v.e)(d)&&this.internationalOptions.push({code:u,name:u===this.ALL_COUNTRIES_CODE?"All destinations":d[0].countryName,amount:d.length})}}catch(h){l.e(h)}finally{l.f()}this.tabOptions=[],n.length>0&&this.tabOptions.push(pe[fe.MEXICO]),this.nationalStationCols=this.utils.simpleArrayToMultidimensionalArray(n,this.ITEMS_PER_COL),this.setStationAltOperatorFlag()}},{key:"nextPage",value:function(){this.canGoNext&&this.pageNo++}},{key:"previousPage",value:function(){this.canGoBack&&this.pageNo--}},{key:"changeTab",value:function(e){var t,n;this.onInternationalSelection(void 0),this.activeTab.tab=e,this.activeTab.view=null===(n=null===(t=this.tabOptions[e])||void 0===t?void 0:t.data)||void 0===n?void 0:n.tabView,this.pageTotal=this.getPageTotal(this.activeTab.view),this.pageNo=0}},{key:"onInternationalSelection",value:function(e){this.partnerToggleValue=!1,this.selectedInternationalCountryCode=e,e&&this.setInternationalStationCols(e)}},{key:"partnerToggleChange",value:function(e){this.partnerToggleValue=e;var t=this.selectedInternationalCountryCode;t&&this.setInternationalStationCols(t,this.partnerToggleValue)}},{key:"setInternationalStationCols",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.internationalStationsMap.get(e);Object(v.e)(i)&&(n&&(i=i.filter((function(e){return!t.altOperatorList[e.code]}))),this.internationalStationsCols=this.utils.simpleArrayToMultidimensionalArray(i,this.ITEMS_PER_COL),this.activeTab.tab=-1,this.activeTab.view=fe.INTERNATIONAL,this.pageTotal=this.getPageTotal(this.activeTab.view),this.pageNo=0)}},{key:"onCloseModal",value:function(){this.closeModal.emit()}},{key:"onStationSelect",value:function(e){this.stationSelect.emit({station:e,type:this.stationType})}},{key:"stationIsConnecting",value:function(e){return e instanceof a.b&&e.travelType===a.h.CONNECTING}},{key:"setStationAltOperatorFlag",value:function(){var e=this;this.altOperatorList={},this.stations.forEach((function(t){e.altOperatorList[null==t?void 0:t.code]=!!e.operatingCarrierSrv.getExternalOperatorInStation(null==t?void 0:t.code)}))}},{key:"getPageTotal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe.MEXICO,t=this.getStationCols(e);return Math.ceil(t.length/this.colsPerPage)}},{key:"isMaacStation",value:function(e){return!!(null==e?void 0:e.maac)}},{key:"getStationCols",value:function(e){switch(e){case fe.INTERNATIONAL:return this.internationalStationsCols;case fe.MEXICO:default:return this.nationalStationCols}}},{key:"changesRequireTabReset",value:function(e){return Object.keys(e||{}).some((function(e){return["stations","stationType"].includes(e)}))}},{key:"canGoNext",get:function(){return this.pageNo+1<this.pageTotal}},{key:"canGoBack",get:function(){return this.pageNo>0}},{key:"isOriginSelection",get:function(){return this.stationType===u.a.ORIGIN}},{key:"currentStationCols",get:function(){return this.getStationCols(this.activeTab.view)}},{key:"showPartnerToggle",get:function(){return this.activeTab.view!==fe.MEXICO}}]),e}()).\u0275fac=function(e){return new(e||ue)(o.Tb(v.a),o.Tb(w.a))},ue.\u0275cmp=o.Nb({type:ue,selectors:[["app-station-selector"]],inputs:{id:"id",stations:"stations",selectedOrigin:"selectedOrigin",stationType:"stationType"},outputs:{closeModal:"closeModal",stationSelect:"stationSelect"},features:[o.Fb],decls:33,vars:28,consts:[[3,"id"],[1,"viva-card","white","border-0","modal-container"],[1,"modal-header","light","w-100"],[1,"modal-close","green",3,"click"],[1,"fas","fa-times"],[4,"ngIf"],[1,"modal-body","w-100",3,"ngClass"],[1,"tablist-container","bottom-border"],[3,"tabOptions","activeTab","theme","activeTabChange",4,"ngIf"],["class","select-station-selector",3,"items","bindValue","searchable","clearable","placeholder","ngModel","ngModelChange",4,"ngIf"],[1,"w-100","stations",3,"ngClass"],[1,"w-100","stations-container"],["class","stations-col d-lg-flex flex-column d-none",4,"ngFor","ngForOf"],["class","stations-col d-lg-none flex-column d-flex",4,"ngFor","ngForOf"],[1,"modal-footer","w-100","d-flex","flex-row","align-items-center","justify-content-between"],[1,"d-flex","flex-row","align-items-center","symbology"],[1,"small-text","mr-30"],[1,"fas","fa-random","mr-5","icon-connecting"],[1,"small-text","mr-30","d-flex","align-items-center"],["height","13","loading","lazy","alt","",1,"mr-1",3,"src"],["class","d-none d-lg-flex flex-row align-items-center",4,"ngIf"],["stationButton",""],["partnerToggle",""],[1,"subheader","pb-5"],[1,"h3"],[3,"tabOptions","activeTab","theme","activeTabChange"],[1,"select-station-selector",3,"items","bindValue","searchable","clearable","placeholder","ngModel","ngModelChange"],["ng-label-tmp",""],["ng-option-tmp",""],[1,"ng-option-label"],[1,"d-inline-block","w-100"],[1,"d-flex","justify-content-between","align-items-center"],[1,"medium-title","dark","country-selector-name"],[1,"pl-10","small-title","opacity-4"],[4,"ngTemplateOutlet"],[1,"stations-col","d-lg-flex","flex-column","d-none"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"stations-col","d-lg-none","flex-column","d-flex"],[1,"d-none","d-lg-flex","flex-row","align-items-center"],[1,"paginator-control"],[1,"viva-btn",3,"disabled","click"],[1,"fas","fa-chevron-left"],[1,"fas","fa-chevron-right"],[1,"round-paginator",3,"ngClass"],[1,"viva-btn","tertiary","height-auto","station-row","d-flex","flex-row","align-items-center","justify-content-between",3,"click"],[1,"medium-title","station-title",3,"title","ngClass"],[1,"station-code","d-flex","ml-10"],["class","fas fa-random mr-5 icon-connecting",4,"ngIf"],["height","15","loading","lazy","alt","",3,"src",4,"ngIf"],["class","small-title opacity-5 text-right",4,"ngIf"],["height","15","loading","lazy","alt","",3,"src"],[1,"small-title","opacity-5","text-right"],[1,"partner-toggle","d-flex","align-items-center","justify-content-end"],[1,"toggle-container"],["type","checkbox","id","partner-station-toggle","name","partner-station-toggle",3,"ngModel","ngModelChange"],[1,"toggle"],["for","partner-station-toggle",1,"font-weight-bold","regular-text","dark","pl-20"]],template:function(e,t){1&e&&(o.Zb(0,"app-modal",0),o.Zb(1,"div",1),o.Zb(2,"div",2),o.Zb(3,"button",3),o.hc("click",(function(){return t.onCloseModal()})),o.Ub(4,"i",4),o.Yb(),o.Qc(5,I,7,6,"ng-container",5),o.Qc(6,L,6,4,"ng-container",5),o.Yb(),o.Zb(7,"div",6),o.Zb(8,"div",7),o.Qc(9,R,1,3,"app-tablist-bar",8),o.Qc(10,V,4,8,"ng-select",9),o.Yb(),o.Qc(11,W,2,1,"ng-container",5),o.Zb(12,"div",10),o.Zb(13,"div",11),o.Qc(14,X,2,1,"div",12),o.kc(15,"slice"),o.Qc(16,J,2,1,"div",13),o.Yb(),o.Yb(),o.Yb(),o.Zb(17,"div",14),o.Zb(18,"div",15),o.Zb(19,"span",16),o.Ub(20,"i",17),o.Sc(21),o.kc(22,"cmsTranslate"),o.Yb(),o.Zb(23,"span",18),o.Ub(24,"img",19),o.kc(25,"cmsStaticImage"),o.Sc(26),o.kc(27,"cmsTranslate"),o.Yb(),o.Yb(),o.Qc(28,ie,7,4,"div",20),o.Yb(),o.Yb(),o.Yb(),o.Qc(29,ce,7,8,"ng-template",null,21,o.Rc),o.Qc(31,le,7,4,"ng-template",null,22,o.Rc)),2&e&&(o.sc("id",t.id),o.Hb(5),o.sc("ngIf",t.isOriginSelection),o.Hb(1),o.sc("ngIf",!t.isOriginSelection),o.Hb(1),o.sc("ngClass",o.vc(24,de,t.showPartnerToggle)),o.Hb(2),o.sc("ngIf",t.tabOptions.length>0),o.Hb(1),o.sc("ngIf",t.internationalOptions.length>0),o.Hb(1),o.sc("ngIf",t.showPartnerToggle),o.Hb(1),o.sc("ngClass",o.vc(26,de,t.showPartnerToggle)),o.Hb(2),o.sc("ngForOf",o.nc(15,14,t.currentStationCols,t.pageNo*t.colsPerPage,t.colsPerPage*(t.pageNo+1))),o.Hb(2),o.sc("ngForOf",t.currentStationCols),o.Hb(5),o.Uc(" ",o.lc(22,18,"BOOKER_LABEL_CONNECTING-FLIGHTS")," "),o.Hb(3),o.sc("src",o.lc(25,20,"BOOKER-ICON-INTERLINE"),o.Kc),o.Hb(2),o.Uc(" ",o.lc(27,22,"BOOKER_LABEL_PARTNERSHIP-FLIGHTS")," "),o.Hb(2),o.sc("ngIf",t.pageTotal>1))},directives:[A.a,T.u,T.r,T.t,E.a,P.a,s.u,s.x,P.e,P.c,T.B,s.b],pipes:[T.F,M.a,x.a,D.a],styles:['.modal-container[_ngcontent-%COMP%]{position:relative;width:100%}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]{border-radius:0;min-height:-webkit-fill-available;height:100%;width:100%;position:fixed;top:0}}.modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background-color:var(--bg4);padding:40px 50px}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:30px 20px 20px}}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:30px 50px;min-width:930px}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:20px 0;height:calc(100% - 150px);overflow:hidden;min-width:auto}}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tablist-container[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-start;width:100%}@media screen and (max-width:575px){.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tablist-container[_ngcontent-%COMP%]{justify-content:space-between}}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .bottom-border[_ngcontent-%COMP%]{border-bottom:1px solid var(--gr60)}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .stations[_ngcontent-%COMP%]{height:250px;margin-top:40px}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .stations[_ngcontent-%COMP%]{margin-top:20px;padding:0 20px;height:calc(100% - 70px);overflow-y:auto;overflow-x:hidden}}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .stations[_ngcontent-%COMP%]   .stations-container[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-columns:repeat(3,1fr);grid-column-gap:60px}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .stations[_ngcontent-%COMP%]   .stations-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:auto}}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .stations-col[_ngcontent-%COMP%]{position:relative}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .stations-col[_ngcontent-%COMP%]:not(:first-child):after{position:absolute;content:"";left:-29px;bottom:0;width:1px;height:100%;background-color:var(--gr15)}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .stations-col[_ngcontent-%COMP%]   .station-row[_ngcontent-%COMP%]{margin-top:20px}}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .stations-col[_ngcontent-%COMP%]   .station-row[_ngcontent-%COMP%]:not(:first-child){margin-top:17px}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .stations-col[_ngcontent-%COMP%]   .station-row[_ngcontent-%COMP%]:not(:first-child){margin-top:20px}}.modal-container[_ngcontent-%COMP%]   .modal-body.has-partner-toggle[_ngcontent-%COMP%]{padding-bottom:0}.modal-container[_ngcontent-%COMP%]   .modal-body.has-partner-toggle[_ngcontent-%COMP%]   .stations[_ngcontent-%COMP%]{margin-top:5px}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]   .modal-body.has-partner-toggle[_ngcontent-%COMP%]   .stations[_ngcontent-%COMP%]{margin-top:0;height:calc(100% - 130px)}}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:20px 50px}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:14px}}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .symbology[_ngcontent-%COMP%]{min-height:20px;border:none}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .round-paginator[_ngcontent-%COMP%]{width:14px;height:14px;margin:0 7px;border-radius:50%;background-color:var(--gr20);transition:background-color .3s cubic-bezier(.165,.84,.44,1)}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .round-paginator.active[_ngcontent-%COMP%]{background-color:var(--bg4)}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .paginator-control[_ngcontent-%COMP%]{margin-left:33px}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .paginator-control[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:0;background-color:transparent;width:20px;height:20px}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .paginator-control[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:var(--bg6);font-size:12px;pointer-events:none}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .paginator-control[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{background-color:var(--gr20)}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .paginator-control[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover > i[_ngcontent-%COMP%]{color:var(--bg2)}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .paginator-control[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:disabled > i[_ngcontent-%COMP%]{color:var(--gr20)}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .paginator-control[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:disabled:hover{background-color:transparent}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .paginator-control[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:not(:last-child){margin-right:16px}.icon-connecting[_ngcontent-%COMP%]{color:var(--bg2);font-size:13px}.station-title[_ngcontent-%COMP%]{text-align:left;width:150px;white-space:nowrap;word-wrap:none;overflow:hidden;text-overflow:ellipsis}@media screen and (max-width:991px){.station-title[_ngcontent-%COMP%]{font-size:14px;width:auto;color:var(--bg4)}}.station-title.extended[_ngcontent-%COMP%]{width:190px}.station-code[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:35px}.country-selector-name[_ngcontent-%COMP%]{font-weight:700;text-wrap:nowrap;overflow:hidden;text-overflow:ellipsis}.partner-toggle[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px}@media screen and (max-width:991px){.partner-toggle[_ngcontent-%COMP%]{padding-top:15px;padding-right:15px;padding-left:15px}}.partner-toggle[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked ~ .toggle[_ngcontent-%COMP%]{background-color:var(--lg4);border-color:var(--lg4)}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tablist-container[_ngcontent-%COMP%]{width:auto;margin:0 15px}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tablist-container[_ngcontent-%COMP%]     .booker-tablist-list{padding:0}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tablist-container[_ngcontent-%COMP%]     .booker-tablist-item{text-align:center}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tablist-container[_ngcontent-%COMP%]     .booker-tablist-link{padding-left:35px;padding-right:35px}}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tablist-container[_ngcontent-%COMP%]     .booker-tablist-link:after{background-color:transparent}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tablist-container[_ngcontent-%COMP%]     .booker-tablist-link.active:after, .modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tablist-container[_ngcontent-%COMP%]     .booker-tablist-link:hover:after{background-color:var(--vg4)}']}),ue),fe=function(e){return e[e.MEXICO=0]="MEXICO",e[e.USA=1]="USA",e[e.INTERNATIONAL=2]="INTERNATIONAL",e}({}),pe=(_defineProperty2(i={},fe.MEXICO,{title:"LOWFARE_LABEL_COUNTRY-MEX",data:{tabView:fe.MEXICO}}),_defineProperty2(i,fe.USA,{title:"GLOBAL_LABEL_USA",data:{tabView:fe.USA}}),_defineProperty2(i,fe.INTERNATIONAL,{title:"BOOKER_LABEL_INTERNATIONAL-DESTINATIONS",data:{tabView:fe.INTERNATIONAL}}),i),ge=n("VXQe"),ve=n("wd/R");function me(e,t){if(1&e&&(o.Xb(0),o.Sc(1),o.kc(2,"date"),o.Wb()),2&e){var n=o.jc(3);o.Hb(1),o.Uc(" "," - "+o.mc(2,1,n.station.endDate,"d MMM")," ")}}function be(e,t){if(1&e&&(o.Zb(0,"span",8),o.Sc(1),o.kc(2,"date"),o.Qc(3,me,3,4,"ng-container",9),o.Yb()),2&e){var n=o.jc(2);o.Hb(1),o.Uc(" ",o.mc(2,2,n.station.startDate,"d MMM")," "),o.Hb(2),o.sc("ngIf",n.station.endDate)}}function ye(e,t){if(1&e&&(o.Zb(0,"div",1),o.Zb(1,"div",2),o.Ub(2,"i",3),o.Zb(3,"div",4),o.Zb(4,"div",5),o.Zb(5,"span",6),o.Sc(6),o.Yb(),o.Qc(7,be,4,5,"span",7),o.Yb(),o.Yb(),o.Yb(),o.Yb()),2&e){var n=o.jc();o.Hb(6),o.Vc(" ",n.station.origin.name||n.station.origin.code," - ",n.station.destination.name||n.station.destination.code," "),o.Hb(1),o.sc("ngIf",n.showDate)}}var _e,Ce=((_e=function(){function e(){_classCallCheck(this,e),this.currentDate=new Date,this.showDate=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){this.showDate=!1,this.station&&ve(this.station.startDate).isSameOrAfter(ve(this.currentDate),"D")&&(this.showDate=!0)}}]),e}()).\u0275fac=function(e){return new(e||_e)},_e.\u0275cmp=o.Nb({type:_e,selectors:[["app-station-saved-item"]],inputs:{station:"station"},features:[o.Fb],decls:1,vars:1,consts:[["class","station-item main-container",4,"ngIf"],[1,"station-item","main-container"],[1,"inner-container"],[1,"station-icon","fas","fa-history"],[1,"sub-container"],[1,"left-inner-container"],[1,"title"],["class","small-title opacity-50",4,"ngIf"],[1,"small-title","opacity-50"],[4,"ngIf"]],template:function(e,t){1&e&&o.Qc(0,ye,8,3,"div",0),2&e&&o.sc("ngIf",t.station)},directives:[T.u],pipes:[T.f],styles:[".station-item.main-container[_ngcontent-%COMP%]{margin:5px 0;min-height:45px;width:100%;overflow:hidden;cursor:pointer}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%]{margin:5px 20px;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{text-align:center;flex:0 0 20px;color:var(--bg4);font-size:15px;margin-top:5px;margin-right:10px}.station-item[_ngcontent-%COMP%]:hover{background-color:var(--sih)}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .left-inner-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-start}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .left-inner-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bg6)}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .right-inner-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-end}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .result-history[_ngcontent-%COMP%]{justify-content:flex-start}.station-item[_ngcontent-%COMP%]   .station-badge.badge-destination[_ngcontent-%COMP%]{background-color:var(--bg4)}.station-item[_ngcontent-%COMP%]   .station-badge.badge-connection[_ngcontent-%COMP%]{background-color:var(--vg4)}.station-item[_ngcontent-%COMP%]   .station-icon[_ngcontent-%COMP%]{font-size:15px!important}.station-item[_ngcontent-%COMP%]   .opacity-50[_ngcontent-%COMP%]{opacity:.5}.station-item[_ngcontent-%COMP%]   .support-box[_ngcontent-%COMP%]{font-size:10px;color:var(--bg4);background-color:var(--sc-g);height:15px;border-radius:3px}.station-item[_ngcontent-%COMP%]   .support-box.mex[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.nlu[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.tlc[_ngcontent-%COMP%]{color:var(--wh1)}.station-item[_ngcontent-%COMP%]   .support-box.mex[_ngcontent-%COMP%]{background-color:var(--gr60)}.station-item[_ngcontent-%COMP%]   .support-box.nlu[_ngcontent-%COMP%]{background-color:var(--lg4)}.station-item[_ngcontent-%COMP%]   .support-box.tlc[_ngcontent-%COMP%]{background-color:var(--bg4)}.station-item[_ngcontent-%COMP%]   .support-box.cun[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.tuy[_ngcontent-%COMP%]{font-weight:100}.station-item[_ngcontent-%COMP%]   .support-box.cun[_ngcontent-%COMP%]{background-color:var(--wh1);color:var(--gr60);border:1px solid var(--gr60)}.station-item[_ngcontent-%COMP%]   .support-box.tuy[_ngcontent-%COMP%]{background-color:var(--wh1);color:var(--lg4);border:1px solid var(--lg4)}.station-item[_ngcontent-%COMP%]   .support-box.tjx[_ngcontent-%COMP%]{background-color:#fff3f9;color:#3f2b56}@media screen and (max-width:720px){.station-item[_ngcontent-%COMP%]   .support-box[_ngcontent-%COMP%]{height:13px;margin:4px 0 2px}}"]}),_e);function ke(e,t){if(1&e&&(o.Zb(0,"div",11),o.Sc(1),o.Yb()),2&e){var n=o.jc(2);o.sc("ngClass",n.station.code.toLowerCase()),o.Hb(1),o.Uc(" ",n.station.supportText," ")}}function Se(e,t){1&e&&(o.Ub(0,"img",12),o.kc(1,"cmsStaticImage")),2&e&&o.sc("src",o.lc(1,1,"BOOKER-ICON-INTERLINE"),o.Kc)}function Oe(e,t){if(1&e&&(o.Zb(0,"div",1),o.Zb(1,"div",2),o.Ub(2,"i"),o.Zb(3,"div",3),o.Zb(4,"div",4),o.Zb(5,"div",5),o.Zb(6,"span"),o.Sc(7),o.Yb(),o.Qc(8,ke,2,2,"div",6),o.Yb(),o.Zb(9,"span",7),o.Sc(10),o.Yb(),o.Yb(),o.Zb(11,"div",8),o.Zb(12,"div",9),o.Qc(13,Se,2,3,"img",10),o.Zb(14,"span",7),o.Sc(15),o.Yb(),o.Yb(),o.Yb(),o.Yb(),o.Yb(),o.Yb()),2&e){var n=o.jc();o.Hb(2),o.Kb("station-icon fas ",n.iconType,""),o.Hb(5),o.Tc(n.station.name),o.Hb(1),o.sc("ngIf",(null==n.station?null:n.station.supportText)&&n.station.productType!==n.productType.MAAC),o.Hb(2),o.Uc(" ",n.station.countryName," "),o.Hb(3),o.sc("ngIf",n.operatedByFlag),o.Hb(2),o.Uc(" ",null!=n.station&&n.station.maac?n.areaCodes:n.station.code," ")}}var Te,we=((Te=function(){function e(t,n){_classCallCheck(this,e),this.flightStationsService=t,this.operatingCarrierSrv=n,this.isDefaultStation=!1,this.iconType="",this.areaCodes="",this.stationType=a.i,this.productType=a.e,this.operatedByFlag=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){var e;this.iconType=this.getStationType(this.station),this.operatedByFlag=!!this.operatingCarrierSrv.getExternalOperatorInStation(null===(e=this.station)||void 0===e?void 0:e.code)}},{key:"getStationType",value:function(e){if(!e||!e.type)return"fa-map-marker-question";if(e.productType===a.e.MAAC&&e.maac)return this.areaCodes=this.flightStationsService.getAreaCodes(e.code),"fa-map-marker-alt";if(this.isDefaultStation)return"fa-map-marker-alt";switch(e.type){case this.stationType.AIRPORT:return"fa-plane fa-rotate-270";case this.stationType.BUS_STATION:return"fa-bus";default:return"fa-map-marker-question"}}}]),e}()).\u0275fac=function(e){return new(e||Te)(o.Tb(m.a),o.Tb(w.a))},Te.\u0275cmp=o.Nb({type:Te,selectors:[["app-station-item"]],inputs:{station:"station",isDefaultStation:"isDefaultStation"},features:[o.Fb],decls:1,vars:1,consts:[["class","station-item main-container",4,"ngIf"],[1,"station-item","main-container"],[1,"inner-container"],[1,"sub-container"],[1,"left-inner-container"],[1,"d-flex","flex-md-row","flex-column","title","align-items-md-center","align-items-start","pb-1"],["class","support-box d-flex justify-content-center align-items-center px-5 ml-md-1 ml-0",3,"ngClass",4,"ngIf"],[1,"small-title","opacity-50"],[1,"right-inner-container"],[1,"d-flex","pb-1"],["height","15","loading","lazy","alt","","class","pr-1",3,"src",4,"ngIf"],[1,"support-box","d-flex","justify-content-center","align-items-center","px-5","ml-md-1","ml-0",3,"ngClass"],["height","15","loading","lazy","alt","",1,"pr-1",3,"src"]],template:function(e,t){1&e&&o.Qc(0,Oe,16,8,"div",0),2&e&&o.sc("ngIf",t.station)},directives:[T.u,T.r],pipes:[x.a],styles:[".station-item.main-container[_ngcontent-%COMP%]{margin:5px 0;min-height:45px;width:100%;overflow:hidden;cursor:pointer}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%]{margin:5px 20px;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{text-align:center;flex:0 0 20px;color:var(--bg4);font-size:15px;margin-top:5px;margin-right:10px}.station-item[_ngcontent-%COMP%]:hover{background-color:var(--sih)}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .left-inner-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-start}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .left-inner-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bg6)}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .right-inner-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-end}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .result-history[_ngcontent-%COMP%]{justify-content:flex-start}.station-item[_ngcontent-%COMP%]   .station-badge.badge-destination[_ngcontent-%COMP%]{background-color:var(--bg4)}.station-item[_ngcontent-%COMP%]   .station-badge.badge-connection[_ngcontent-%COMP%]{background-color:var(--vg4)}.station-item[_ngcontent-%COMP%]   .station-icon[_ngcontent-%COMP%]{font-size:15px!important}.station-item[_ngcontent-%COMP%]   .opacity-50[_ngcontent-%COMP%]{opacity:.5}.station-item[_ngcontent-%COMP%]   .support-box[_ngcontent-%COMP%]{font-size:10px;color:var(--bg4);background-color:var(--sc-g);height:15px;border-radius:3px}.station-item[_ngcontent-%COMP%]   .support-box.mex[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.nlu[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.tlc[_ngcontent-%COMP%]{color:var(--wh1)}.station-item[_ngcontent-%COMP%]   .support-box.mex[_ngcontent-%COMP%]{background-color:var(--gr60)}.station-item[_ngcontent-%COMP%]   .support-box.nlu[_ngcontent-%COMP%]{background-color:var(--lg4)}.station-item[_ngcontent-%COMP%]   .support-box.tlc[_ngcontent-%COMP%]{background-color:var(--bg4)}.station-item[_ngcontent-%COMP%]   .support-box.cun[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.tuy[_ngcontent-%COMP%]{font-weight:100}.station-item[_ngcontent-%COMP%]   .support-box.cun[_ngcontent-%COMP%]{background-color:var(--wh1);color:var(--gr60);border:1px solid var(--gr60)}.station-item[_ngcontent-%COMP%]   .support-box.tuy[_ngcontent-%COMP%]{background-color:var(--wh1);color:var(--lg4);border:1px solid var(--lg4)}.station-item[_ngcontent-%COMP%]   .support-box.tjx[_ngcontent-%COMP%]{background-color:#fff3f9;color:#3f2b56}@media screen and (max-width:720px){.station-item[_ngcontent-%COMP%]   .support-box[_ngcontent-%COMP%]{height:13px;margin:4px 0 2px}}"]}),Te);function Ae(e,t){if(1&e&&(o.Zb(0,"div",10),o.Sc(1),o.Yb()),2&e){var n=o.jc(2);o.sc("ngClass",n.station.stationCode.toLowerCase()),o.Hb(1),o.Uc(" ",n.station.supportText," ")}}function Ee(e,t){if(1&e&&(o.Zb(0,"span",7),o.Sc(1),o.Yb()),2&e){var n=o.jc(2);o.Hb(1),o.Uc(" ",n.station.stationCode," ")}}function Pe(e,t){if(1&e&&(o.Zb(0,"div",1),o.Zb(1,"div",2),o.Ub(2,"i"),o.Zb(3,"div",3),o.Zb(4,"div",4),o.Zb(5,"div",5),o.Zb(6,"span"),o.Sc(7),o.Yb(),o.Qc(8,Ae,2,2,"div",6),o.Yb(),o.Zb(9,"span",7),o.Sc(10),o.Yb(),o.Yb(),o.Zb(11,"div",8),o.Qc(12,Ee,2,1,"span",9),o.Yb(),o.Yb(),o.Yb(),o.Yb()),2&e){var n=o.jc();o.Hb(2),o.Kb("station-icon fas ",n.iconType,""),o.Hb(5),o.Tc(n.station.stationName),o.Hb(1),o.sc("ngIf",(null==n.station?null:n.station.supportText)&&!n.isMaacStation),o.Hb(2),o.Uc(" ",n.station.countryName," "),o.Hb(2),o.sc("ngIf",!n.isMaacStation)}}var Me,xe=((Me=function(){function e(){_classCallCheck(this,e),this.iconType="fa-plane fa-rotate-270",this.isMaacStation=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.validateMaacStation()}},{key:"validateMaacStation",value:function(){var e;(null===(e=this.station)||void 0===e?void 0:e.stationCode)&&(this.isMaacStation=this.station.stationCode.startsWith("@"),this.isMaacStation&&(this.iconType="fa-map-marker-alt"))}}]),e}()).\u0275fac=function(e){return new(e||Me)},Me.\u0275cmp=o.Nb({type:Me,selectors:[["app-station-cms-item"]],inputs:{station:"station"},decls:1,vars:1,consts:[["class","station-item main-container",4,"ngIf"],[1,"station-item","main-container"],[1,"inner-container"],[1,"sub-container"],[1,"left-inner-container"],[1,"d-flex","flex-md-row","flex-column","title","align-items-md-center","align-items-start"],["class","support-box d-flex justify-content-center align-items-center px-5 ml-md-1 ml-0",3,"ngClass",4,"ngIf"],[1,"small-title","opacity-50"],[1,"right-inner-container"],["class","small-title opacity-50",4,"ngIf"],[1,"support-box","d-flex","justify-content-center","align-items-center","px-5","ml-md-1","ml-0",3,"ngClass"]],template:function(e,t){1&e&&o.Qc(0,Pe,13,7,"div",0),2&e&&o.sc("ngIf",t.station)},directives:[T.u,T.r],styles:[".station-item.main-container[_ngcontent-%COMP%]{margin:5px 0;min-height:45px;width:100%;overflow:hidden;cursor:pointer}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%]{margin:5px 20px;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{text-align:center;flex:0 0 20px;color:var(--bg4);font-size:15px;margin-top:5px;margin-right:10px}.station-item[_ngcontent-%COMP%]:hover{background-color:var(--sih)}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .left-inner-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-start}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .left-inner-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bg6)}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .right-inner-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-end}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .result-history[_ngcontent-%COMP%]{justify-content:flex-start}.station-item[_ngcontent-%COMP%]   .station-badge.badge-destination[_ngcontent-%COMP%]{background-color:var(--bg4)}.station-item[_ngcontent-%COMP%]   .station-badge.badge-connection[_ngcontent-%COMP%]{background-color:var(--vg4)}.station-item[_ngcontent-%COMP%]   .station-icon[_ngcontent-%COMP%]{font-size:15px!important}.station-item[_ngcontent-%COMP%]   .opacity-50[_ngcontent-%COMP%]{opacity:.5}.station-item[_ngcontent-%COMP%]   .support-box[_ngcontent-%COMP%]{font-size:10px;color:var(--bg4);background-color:var(--sc-g);height:15px;border-radius:3px}.station-item[_ngcontent-%COMP%]   .support-box.mex[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.nlu[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.tlc[_ngcontent-%COMP%]{color:var(--wh1)}.station-item[_ngcontent-%COMP%]   .support-box.mex[_ngcontent-%COMP%]{background-color:var(--gr60)}.station-item[_ngcontent-%COMP%]   .support-box.nlu[_ngcontent-%COMP%]{background-color:var(--lg4)}.station-item[_ngcontent-%COMP%]   .support-box.tlc[_ngcontent-%COMP%]{background-color:var(--bg4)}.station-item[_ngcontent-%COMP%]   .support-box.cun[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.tuy[_ngcontent-%COMP%]{font-weight:100}.station-item[_ngcontent-%COMP%]   .support-box.cun[_ngcontent-%COMP%]{background-color:var(--wh1);color:var(--gr60);border:1px solid var(--gr60)}.station-item[_ngcontent-%COMP%]   .support-box.tuy[_ngcontent-%COMP%]{background-color:var(--wh1);color:var(--lg4);border:1px solid var(--lg4)}.station-item[_ngcontent-%COMP%]   .support-box.tjx[_ngcontent-%COMP%]{background-color:#fff3f9;color:#3f2b56}@media screen and (max-width:720px){.station-item[_ngcontent-%COMP%]   .support-box[_ngcontent-%COMP%]{height:13px;margin:4px 0 2px}}"]}),Me);function De(e,t){if(1&e&&(o.Zb(0,"div",14),o.Sc(1),o.Yb()),2&e){var n=o.jc(2);o.sc("ngClass",n.station.code.toLowerCase()),o.Hb(1),o.Uc(" ",n.station.supportText," ")}}function Ie(e,t){1&e&&(o.Ub(0,"img",15),o.kc(1,"cmsStaticImage")),2&e&&o.sc("src",o.lc(1,1,"BOOKER-ICON-INTERLINE"),o.Kc)}function Le(e,t){if(1&e&&(o.Zb(0,"div",16),o.Zb(1,"label"),o.Sc(2),o.kc(3,"cmsTranslate"),o.Yb(),o.Yb()),2&e){var n=o.jc(2);o.Hb(2),o.Vc(" ",o.lc(3,2,"GLOBAL_LABEL_CONNECTION")," ",n.station.connectingStations.length>0?" - "+n.station.connectingStations[0]:""," ")}}function Re(e,t){1&e&&(o.Zb(0,"div",17),o.Zb(1,"label"),o.Sc(2),o.kc(3,"cmsTranslate"),o.Yb(),o.Yb()),2&e&&(o.Hb(2),o.Tc(o.lc(3,1,"BOOKER_LABEL_NON-STOP")))}function Ne(e,t){1&e&&(o.Zb(0,"div",17),o.Zb(1,"label"),o.Sc(2),o.kc(3,"cmsTranslate"),o.Yb(),o.Yb()),2&e&&(o.Hb(2),o.Tc(o.lc(3,1,"GLOBAL_LABEL_NON-STOP")))}function je(e,t){if(1&e&&(o.Zb(0,"div",1),o.Zb(1,"div",2),o.Ub(2,"i"),o.Zb(3,"div",3),o.Zb(4,"div",4),o.Zb(5,"div",5),o.Zb(6,"span"),o.Sc(7),o.Yb(),o.Qc(8,De,2,2,"div",6),o.Yb(),o.Zb(9,"span",7),o.Sc(10),o.Yb(),o.Yb(),o.Zb(11,"div",8),o.Zb(12,"div",9),o.Qc(13,Ie,2,3,"img",10),o.Zb(14,"span",7),o.Sc(15),o.Yb(),o.Yb(),o.Xb(16,11),o.Qc(17,Le,4,4,"div",12),o.Qc(18,Re,4,3,"div",13),o.Qc(19,Ne,4,3,"div",13),o.Wb(),o.Yb(),o.Yb(),o.Yb(),o.Yb()),2&e){var n=o.jc();o.Hb(2),o.Kb("station-icon fas ",n.iconType,""),o.Hb(5),o.Tc(n.station.name),o.Hb(1),o.sc("ngIf",(null==n.station?null:n.station.supportText)&&n.station.productType!==n.productType.MAAC),o.Hb(2),o.Uc(" ",n.station.countryName," "),o.Hb(3),o.sc("ngIf",n.operatedByFlag),o.Hb(2),o.Uc(" ",null!=n.station&&n.station.maac?n.areaCodes:n.station.code," "),o.Hb(1),o.sc("ngSwitch",n.station.travelType),o.Hb(1),o.sc("ngSwitchCase",n.travelType.CONNECTING),o.Hb(1),o.sc("ngSwitchCase",n.travelType.DIRECT),o.Hb(1),o.sc("ngSwitchCase",n.travelType.NONSTOP)}}var Be,Fe=((Be=function(){function e(t){_classCallCheck(this,e),this.operatingCarrierSrv=t,this.iconType="",this.areaCodes="",this.stationType=a.g,this.travelType=a.h,this.productType=a.e,this.operatedByFlag=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){var e;this.iconType=this.getStationType(this.station),this.operatedByFlag=!!this.operatingCarrierSrv.getExternalOperatorInStation(null===(e=this.station)||void 0===e?void 0:e.code)}},{key:"getStationType",value:function(e){if(e.productType===a.e.MAAC&&e.maac)return this.areaCodes=e.maac.areaCodes.toString().replace(/,/g,", "),"fa-map-marker-alt";if(!e||!e.transportationType)return"fa-map-marker-question";switch(e.transportationType){case this.stationType.AIR:return"fa-plane fa-rotate-270";case this.stationType.BUS:return"fa-bus";default:return"fa-map-marker-question"}}}]),e}()).\u0275fac=function(e){return new(e||Be)(o.Tb(w.a))},Be.\u0275cmp=o.Nb({type:Be,selectors:[["app-station-destination-item"]],inputs:{station:"station"},features:[o.Fb],decls:1,vars:1,consts:[["class","station-item main-container",4,"ngIf"],[1,"station-item","main-container"],[1,"inner-container"],[1,"sub-container"],[1,"left-inner-container"],[1,"d-flex","flex-md-row","flex-column","title","align-items-md-center","align-items-start","pb-1"],["class","support-box d-flex justify-content-center align-items-center px-5 ml-md-1 ml-0",3,"ngClass",4,"ngIf"],[1,"small-title","opacity-50"],[1,"right-inner-container"],[1,"d-flex","pb-1"],["height","15","loading","lazy","alt","","class","pr-1",3,"src",4,"ngIf"],[3,"ngSwitch"],["class","viva-badge small station-badge badge-connection",4,"ngSwitchCase"],["class","viva-badge small station-badge badge-destination",4,"ngSwitchCase"],[1,"support-box","d-flex","justify-content-center","align-items-center","px-5","ml-md-1","ml-0",3,"ngClass"],["height","15","loading","lazy","alt","",1,"pr-1",3,"src"],[1,"viva-badge","small","station-badge","badge-connection"],[1,"viva-badge","small","station-badge","badge-destination"]],template:function(e,t){1&e&&o.Qc(0,je,20,12,"div",0),2&e&&o.sc("ngIf",t.station)},directives:[T.u,T.y,T.z,T.r],pipes:[x.a,M.a],styles:[".station-item.main-container[_ngcontent-%COMP%]{margin:5px 0;min-height:45px;width:100%;overflow:hidden;cursor:pointer}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%]{margin:5px 20px;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{text-align:center;flex:0 0 20px;color:var(--bg4);font-size:15px;margin-top:5px;margin-right:10px}.station-item[_ngcontent-%COMP%]:hover{background-color:var(--sih)}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .left-inner-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-start}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .left-inner-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bg6)}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .right-inner-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-end}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .result-history[_ngcontent-%COMP%]{justify-content:flex-start}.station-item[_ngcontent-%COMP%]   .station-badge.badge-destination[_ngcontent-%COMP%]{background-color:var(--bg4)}.station-item[_ngcontent-%COMP%]   .station-badge.badge-connection[_ngcontent-%COMP%]{background-color:var(--vg4)}.station-item[_ngcontent-%COMP%]   .station-icon[_ngcontent-%COMP%]{font-size:15px!important}.station-item[_ngcontent-%COMP%]   .opacity-50[_ngcontent-%COMP%]{opacity:.5}.station-item[_ngcontent-%COMP%]   .support-box[_ngcontent-%COMP%]{font-size:10px;color:var(--bg4);background-color:var(--sc-g);height:15px;border-radius:3px}.station-item[_ngcontent-%COMP%]   .support-box.mex[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.nlu[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.tlc[_ngcontent-%COMP%]{color:var(--wh1)}.station-item[_ngcontent-%COMP%]   .support-box.mex[_ngcontent-%COMP%]{background-color:var(--gr60)}.station-item[_ngcontent-%COMP%]   .support-box.nlu[_ngcontent-%COMP%]{background-color:var(--lg4)}.station-item[_ngcontent-%COMP%]   .support-box.tlc[_ngcontent-%COMP%]{background-color:var(--bg4)}.station-item[_ngcontent-%COMP%]   .support-box.cun[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.tuy[_ngcontent-%COMP%]{font-weight:100}.station-item[_ngcontent-%COMP%]   .support-box.cun[_ngcontent-%COMP%]{background-color:var(--wh1);color:var(--gr60);border:1px solid var(--gr60)}.station-item[_ngcontent-%COMP%]   .support-box.tuy[_ngcontent-%COMP%]{background-color:var(--wh1);color:var(--lg4);border:1px solid var(--lg4)}.station-item[_ngcontent-%COMP%]   .support-box.tjx[_ngcontent-%COMP%]{background-color:#fff3f9;color:#3f2b56}@media screen and (max-width:720px){.station-item[_ngcontent-%COMP%]   .support-box[_ngcontent-%COMP%]{height:13px;margin:4px 0 2px}}"]}),Be);function He(e,t){1&e&&(o.Zb(0,"span",7),o.Sc(1),o.kc(2,"cmsTranslate"),o.Yb()),2&e&&(o.Hb(1),o.Uc(" ",o.lc(2,1,"GLOBAL_LABEL_DESTINATION-NOTFOUND")," "))}function Ue(e,t){1&e&&(o.Zb(0,"span",7),o.Sc(1),o.kc(2,"cmsTranslate"),o.Yb()),2&e&&(o.Hb(1),o.Uc(" ",o.lc(2,1,"GLOBAL_LABEL_DESTINATION-NOTFOUND")," "))}function Ye(e,t){1&e&&o.Vb(0)}function Ge(e,t){if(1&e&&(o.Xb(0),o.Zb(1,"div",3),o.Xb(2,4),o.Qc(3,He,3,3,"span",5),o.Qc(4,Ue,3,3,"span",5),o.Wb(),o.Yb(),o.Qc(5,Ye,1,0,"ng-container",6),o.Wb()),2&e){var n=o.jc(),i=o.Ec(5);o.Hb(2),o.sc("ngSwitch",n.resultsType),o.Hb(1),o.sc("ngSwitchCase",n.stationResultsType.ORIGIN),o.Hb(1),o.sc("ngSwitchCase",n.stationResultsType.DESTINATION),o.Hb(1),o.sc("ngTemplateOutlet",i)}}function Ve(e,t){if(1&e){var n=o.ac();o.Xb(0),o.Zb(1,"div",9),o.Zb(2,"span",10),o.Sc(3),o.kc(4,"cmsTranslate"),o.Yb(),o.Yb(),o.Zb(5,"div",11),o.Zb(6,"app-station-saved-item",12),o.hc("click",(function(){o.Hc(n);var e=o.jc(2);return e.onSavedStationSearchSelect(e.savedSearch)})),o.Yb(),o.Yb(),o.Wb()}if(2&e){var i=o.jc(2);o.Hb(3),o.Uc(" ",o.lc(4,2,"GLOBAL_LABEL_RECENTSEARCHES")," "),o.Hb(3),o.sc("station",i.savedSearch)}}function Ze(e,t){1&e&&(o.Zb(0,"span",10),o.Sc(1),o.kc(2,"cmsTranslate"),o.Yb()),2&e&&(o.Hb(1),o.Uc(" ",o.lc(2,1,"GLOBAL_LABEL_POPULARDESTINATIONS")," "))}function We(e,t){1&e&&(o.Zb(0,"span",10),o.Sc(1),o.kc(2,"cmsTranslate"),o.Yb()),2&e&&(o.Hb(1),o.Uc(" ",o.lc(2,1,"GLOBAL_LABEL_POPULARDESTINATIONS")," "))}function Ke(e,t){if(1&e){var n=o.ac();o.Xb(0),o.Zb(1,"app-station-item",16),o.hc("click",(function(){o.Hc(n);var e=o.jc(3);return e.onStationSelect(e.defaultStation)})),o.Yb(),o.Wb()}if(2&e){var i=o.jc(3);o.Hb(1),o.sc("station",i.defaultStation)("isDefaultStation",!0)}}function ze(e,t){if(1&e){var n=o.ac();o.Zb(0,"app-station-cms-item",12),o.hc("click",(function(){o.Hc(n);var e=o.jc().$implicit;return o.jc(3).onRecommendedStationSelect(e)})),o.Yb()}if(2&e){var i=o.jc().$implicit;o.sc("station",i)}}function Qe(e,t){if(1&e&&(o.Xb(0),o.Qc(1,ze,1,1,"app-station-cms-item",17),o.Wb()),2&e){var n=t.$implicit,i=o.jc(3);o.Hb(1),o.sc("ngIf",i.isNotDefaultStation(n))}}function Xe(e,t){if(1&e&&(o.Xb(0),o.Zb(1,"div",9),o.Xb(2,4),o.Qc(3,Ze,3,3,"span",13),o.Qc(4,We,3,3,"span",13),o.Wb(),o.Yb(),o.Zb(5,"div",14),o.Qc(6,Ke,2,2,"ng-container",1),o.Qc(7,Qe,2,1,"ng-container",15),o.Yb(),o.Wb()),2&e){var n=o.jc(2);o.Hb(2),o.sc("ngSwitch",n.resultsType),o.Hb(1),o.sc("ngSwitchCase",n.stationResultsType.ORIGIN),o.Hb(1),o.sc("ngSwitchCase",n.stationResultsType.DESTINATION),o.Hb(2),o.sc("ngIf",n.defaultStation),o.Hb(1),o.sc("ngForOf",n.popularStations)}}function qe(e,t){1&e&&(o.Zb(0,"div"),o.Zb(1,"span",18),o.Sc(2),o.kc(3,"cmsTranslate"),o.Yb(),o.Yb()),2&e&&(o.Hb(2),o.Tc(o.lc(3,1,"BOOKER_LABEL_ENTER-DESTINATION-PLACEHOLDER")))}function $e(e,t){1&e&&o.Vb(0)}function Je(e,t){if(1&e&&(o.Xb(0),o.Zb(1,"div",8),o.Qc(2,Ve,7,4,"ng-container",1),o.Qc(3,Xe,8,5,"ng-container",1),o.Qc(4,qe,4,3,"div",1),o.Yb(),o.Qc(5,$e,1,0,"ng-container",6),o.Wb()),2&e){var n=o.jc(),i=o.Ec(5);o.Hb(2),o.sc("ngIf",!!n.savedSearch),o.Hb(1),o.sc("ngIf",n.hasPopularStations||n.defaultStation),o.Hb(1),o.sc("ngIf",!n.savedSearch&&!n.hasPopularStations),o.Hb(1),o.sc("ngTemplateOutlet",i)}}function et(e,t){if(1&e){var n=o.ac();o.Zb(0,"app-station-item",12),o.hc("click",(function(){o.Hc(n);var e=t.$implicit;return o.jc(3).onStationSelect(e)})),o.Yb()}2&e&&o.sc("station",t.$implicit)}function tt(e,t){if(1&e&&(o.Xb(0),o.Qc(1,et,1,1,"app-station-item",20),o.Wb()),2&e){var n=o.jc(2);o.Hb(1),o.sc("ngForOf",n.stations)}}function nt(e,t){if(1&e){var n=o.ac();o.Zb(0,"app-station-destination-item",12),o.hc("click",(function(){o.Hc(n);var e=t.$implicit;return o.jc(3).onStationSelect(e)})),o.Yb()}2&e&&o.sc("station",t.$implicit)}function it(e,t){if(1&e&&(o.Xb(0),o.Qc(1,nt,1,1,"app-station-destination-item",20),o.Wb()),2&e){var n=o.jc(2);o.Hb(1),o.sc("ngForOf",n.stationDestinations)}}function rt(e,t){if(1&e&&(o.Xb(0),o.Zb(1,"div",8),o.Zb(2,"div",9),o.Zb(3,"span",10),o.Sc(4),o.kc(5,"cmsTranslate"),o.Yb(),o.Yb(),o.Zb(6,"div",14),o.Xb(7,4),o.Qc(8,tt,2,1,"ng-container",19),o.Qc(9,it,2,1,"ng-container",19),o.Wb(),o.Yb(),o.Yb(),o.Wb()),2&e){var n=o.jc();o.Hb(4),o.Uc(" ",o.lc(5,4,"GLOBAL_LABEL_RESULTS")," "),o.Hb(3),o.sc("ngSwitch",n.resultsType),o.Hb(1),o.sc("ngSwitchCase",n.stationResultsType.ORIGIN),o.Hb(1),o.sc("ngSwitchCase",n.stationResultsType.DESTINATION)}}function ot(e,t){1&e&&(o.Xb(0),o.Zb(1,"span",24),o.Sc(2),o.kc(3,"cmsTranslate"),o.Yb(),o.Wb()),2&e&&(o.Hb(2),o.Uc(" ",o.lc(3,1,"GLOBAL_ACTION_FLIGHTDESTINATIONS")," "))}function at(e,t){1&e&&(o.Xb(0),o.Zb(1,"span",24),o.Sc(2),o.kc(3,"cmsTranslate"),o.Yb(),o.Wb()),2&e&&(o.Hb(2),o.Uc(" ",o.lc(3,1,"GLOBAL_ACTION_FLIGHTDESTINATIONS")," "))}function st(e,t){if(1&e){var n=o.ac();o.Zb(0,"div",22),o.Zb(1,"a",23),o.hc("click",(function(){return o.Hc(n),o.jc(2).emitShowStationSelector()})),o.Xb(2,4),o.Qc(3,ot,4,3,"ng-container",19),o.Qc(4,at,4,3,"ng-container",19),o.Wb(),o.Yb(),o.Yb()}if(2&e){var i=o.jc(2);o.Hb(2),o.sc("ngSwitch",i.resultsType),o.Hb(1),o.sc("ngSwitchCase",i.stationResultsType.ORIGIN),o.Hb(1),o.sc("ngSwitchCase",i.stationResultsType.DESTINATION)}}function ct(e,t){if(1&e&&o.Qc(0,st,5,3,"div",21),2&e){var n=o.jc();o.sc("ngIf",!n.onlySameCountry&&!n.forceDisableFooter)}}var lt,ut=function(e){return{"d-none":e}},dt=((lt=function(){function e(t,n,i){_classCallCheck(this,e),this.element=t,this.document=n,this.genericOverlayService=i,this.caller=void 0,this.searching=!1,this.resultsType=void 0,this.stations=[],this.stationDestinations=[],this.defaultStation=void 0,this.popularStations=[],this.savedSearch=void 0,this.onlySameCountry=!1,this.forceDisableFooter=!1,this.selectedStation=new o.p,this.recommendedStation=new o.p,this.selectedSavedSearch=new o.p,this.showStationSelectorModal=new o.p,this.outsideClickClose=new o.p,this.stationResultsType=u.a,this.isOpen=!1}return _createClass(e,[{key:"clickOutSide",value:function(e){this.element.nativeElement.contains(e)||this.caller&&this.caller.contains(e)||this.close(),e.classList.contains("generic-overlay")&&this.close()}},{key:"ngOnInit",value:function(){}},{key:"open",value:function(){this.isOpen=!0,this.document.body.clientWidth<800&&this.genericOverlayService.showOverlay()}},{key:"close",value:function(){this.isOpen&&this.outsideClickClose.emit(this.resultsType),this.isOpen=!1,this.document.body.clientWidth<800&&(this.document.body.style.overflow="auto",this.genericOverlayService.hideOverlay())}},{key:"onStationSelect",value:function(e){this.selectedStation.emit({station:e,type:this.resultsType})}},{key:"onRecommendedStationSelect",value:function(e){this.recommendedStation.emit({station:e,type:this.resultsType})}},{key:"onSavedStationSearchSelect",value:function(e){this.selectedSavedSearch.emit(e)}},{key:"isNotDefaultStation",value:function(e){return!(this.defaultStation&&e.stationCode===this.defaultStation.code)}},{key:"emitShowStationSelector",value:function(){this.showStationSelectorModal.emit(this.resultsType)}},{key:"hasStationResults",get:function(){return this.stations&&this.stations.length>0||this.stationDestinations&&this.stationDestinations.length>0}},{key:"hasPopularStations",get:function(){return this.popularStations&&this.popularStations.length>0}}]),e}()).\u0275fac=function(e){return new(e||lt)(o.Tb(o.n),o.Tb(T.e),o.Tb(ge.a))},lt.\u0275cmp=o.Nb({type:lt,selectors:[["app-station-results"]],hostBindings:function(e,t){1&e&&o.hc("click",(function(e){return t.clickOutSide(e.target)}),!1,o.Fc)},inputs:{caller:"caller",searching:"searching",resultsType:"resultsType",stations:"stations",stationDestinations:"stationDestinations",defaultStation:"defaultStation",popularStations:"popularStations",savedSearch:"savedSearch",onlySameCountry:"onlySameCountry",forceDisableFooter:"forceDisableFooter"},outputs:{selectedStation:"selectedStation",recommendedStation:"recommendedStation",selectedSavedSearch:"selectedSavedSearch",showStationSelectorModal:"showStationSelectorModal",outsideClickClose:"outsideClickClose"},decls:6,vars:6,consts:[["tabindex","-1",1,"station-results","main-container",3,"ngClass"],[4,"ngIf"],["flightsLink",""],[1,"no-results"],[3,"ngSwitch"],["class","title",4,"ngSwitchCase"],[4,"ngTemplateOutlet"],[1,"title"],[1,"results-section"],[1,"section-header"],[1,"medium-title"],[1,"results-container","mb-10"],[3,"station","click"],["class","medium-title",4,"ngSwitchCase"],[1,"results-container"],[4,"ngFor","ngForOf"],[3,"station","isDefaultStation","click"],[3,"station","click",4,"ngIf"],[1,"medium-title","mx-20"],[4,"ngSwitchCase"],[3,"station","click",4,"ngFor","ngForOf"],["class","section-footer",4,"ngIf"],[1,"section-footer"],[1,"viva-btn","tertiary","height-auto","px-5","py-10",3,"click"],[1,"text-left","link-color"]],template:function(e,t){1&e&&(o.Zb(0,"div",0),o.Qc(1,Ge,6,4,"ng-container",1),o.Qc(2,Je,6,4,"ng-container",1),o.Qc(3,rt,10,6,"ng-container",1),o.Yb(),o.Qc(4,ct,1,1,"ng-template",null,2,o.Rc)),2&e&&(o.sc("ngClass",o.vc(4,ut,!t.isOpen)),o.Hb(1),o.sc("ngIf",t.searching&&!t.hasStationResults),o.Hb(1),o.sc("ngIf",!t.searching),o.Hb(1),o.sc("ngIf",t.searching&&t.hasStationResults))},directives:[T.r,T.u,T.y,T.z,T.B,Ce,T.t,we,xe,Fe],pipes:[M.a],styles:['.station-results.main-container[_ngcontent-%COMP%]{overflow:hidden;z-index:10000;width:100%;position:absolute;left:0;top:calc(100% + 2px);border:1px solid var(--gr25);border-radius:5px;background-color:var(--wh1);box-shadow:0 1px 5px 0 rgba(95,95,95,.07),0 0 50px 0 hsla(0,0%,55.3%,.07)}.station-results.main-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{padding:20px;opacity:.5;background-color:var(--gr20);text-align:center}.station-results.main-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--gr60)}.station-results.main-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%] + .section-footer[_ngcontent-%COMP%]{margin-top:0}.station-results.main-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%] + .section-footer[_ngcontent-%COMP%]:before{content:unset}.station-results.main-container[_ngcontent-%COMP%]   .results-section[_ngcontent-%COMP%]{margin:20px 0}.station-results.main-container[_ngcontent-%COMP%]   .results-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{position:relative;text-align:left;margin:0 20px 20px}.station-results.main-container[_ngcontent-%COMP%]   .results-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.8}.station-results.main-container[_ngcontent-%COMP%]   .results-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:-10px;width:100%;height:1px;background-color:var(--gr20)}.station-results.main-container[_ngcontent-%COMP%]   .results-section[_ngcontent-%COMP%]:not(:only-child){margin-bottom:0}.station-results.main-container[_ngcontent-%COMP%]   .results-section[_ngcontent-%COMP%]   .results-container[_ngcontent-%COMP%]{max-height:280px;overflow-y:auto}.station-results.main-container[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%]{position:relative;box-sizing:content-box;margin:10px 20px 5px}.station-results.main-container[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:block;margin-right:0;margin-left:auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}@media screen and (max-width:800px){.station-results.main-container[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{-webkit-appearance:none}}.station-results.main-container[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .link-color[_ngcontent-%COMP%]{color:var(--bg6)}.station-results.main-container[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:1px;background-color:var(--gr20)}']}),lt),ht=["resultsOrigin"],ft=["resultsDest"];function pt(e,t){if(1&e&&(o.Zb(0,"span",25),o.Sc(1),o.Yb()),2&e){var n=o.jc(2);o.Hb(1),o.Tc(n.selectedOrigin.code)}}function gt(e,t){if(1&e){var n=o.ac();o.Zb(0,"div",22),o.hc("focus",(function(){o.Hc(n);var e=o.jc();return e.onOverlayClick(!0,e.stationResultsType.ORIGIN)})),o.Zb(1,"span",23),o.Sc(2),o.Yb(),o.Qc(3,pt,2,1,"span",24),o.Yb()}if(2&e){var i=o.jc();o.Hb(2),o.Tc(i.selectedOrigin.name),o.Hb(1),o.sc("ngIf",!i.selectedOrigin.maac)}}function vt(e,t){1&e&&o.Ub(0,"i",26)}function mt(e,t){1&e&&o.Vb(0)}function bt(e,t){if(1&e&&(o.Zb(0,"div",27),o.Zb(1,"div",28),o.Qc(2,mt,1,0,"ng-container",29),o.Yb(),o.Yb()),2&e){o.jc();var n=o.Ec(27);o.Hb(2),o.sc("ngTemplateOutlet",n)}}function yt(e,t){if(1&e&&(o.Zb(0,"span",25),o.Sc(1),o.Yb()),2&e){var n=o.jc(2);o.Hb(1),o.Tc(n.selectedDestination.code)}}function _t(e,t){if(1&e){var n=o.ac();o.Zb(0,"div",22),o.hc("focus",(function(){o.Hc(n);var e=o.jc();return e.onOverlayClick(!0,e.stationResultsType.DESTINATION)})),o.Zb(1,"span",23),o.Sc(2),o.Yb(),o.Qc(3,yt,2,1,"span",24),o.Yb()}if(2&e){var i=o.jc();o.Hb(2),o.Tc(i.selectedDestination.name),o.Hb(1),o.sc("ngIf",!i.selectedDestination.maac)}}function Ct(e,t){1&e&&o.Ub(0,"i",30)}function kt(e,t){1&e&&o.Vb(0)}function St(e,t){if(1&e&&(o.Zb(0,"div",31),o.Zb(1,"div",28),o.Qc(2,kt,1,0,"ng-container",29),o.Yb(),o.Yb()),2&e){o.jc();var n=o.Ec(25);o.Hb(2),o.sc("ngTemplateOutlet",n)}}function Ot(e,t){1&e&&o.Vb(0)}function Tt(e,t){1&e&&o.Vb(0)}function wt(e,t){if(1&e&&(o.Zb(0,"div",32),o.Zb(1,"div",28),o.Qc(2,Ot,1,0,"ng-container",29),o.Qc(3,Tt,1,0,"ng-container",29),o.Yb(),o.Yb()),2&e){o.jc();var n=o.Ec(27),i=o.Ec(25);o.Hb(2),o.sc("ngTemplateOutlet",n),o.Hb(1),o.sc("ngTemplateOutlet",i)}}function At(e,t){1&e&&o.Ub(0,"i",33)}function Et(e,t){if(1&e){var n=o.ac();o.Zb(0,"label",34),o.Zb(1,"app-station-results",35,36),o.hc("selectedSavedSearch",(function(e){return o.Hc(n),o.jc().onSavedSearchSelect(e)}))("selectedStation",(function(e){return o.Hc(n),o.jc().onStationSelect(e)}))("recommendedStation",(function(e){return o.Hc(n),o.jc().onRecommendationSelect(e)}))("showStationSelectorModal",(function(e){return o.Hc(n),o.jc().doShowStationSelectorModal(e)}))("outsideClickClose",(function(e){return o.Hc(n),o.jc().onModalClose(e)})),o.Yb(),o.Yb()}if(2&e){var i=o.jc(),r=o.Ec(12);o.Hb(1),o.sc("caller",r)("searching",i.destinationSearching||!(null==i.allowedDestinationStations||!i.allowedDestinationStations.length))("stationDestinations",i.destinationStations)("popularStations",i.destCMSStations)("savedSearch",i.onlySameCountry?null:i.savedSearch)("resultsType",i.stationResultsType.DESTINATION)("forceDisableFooter",!(null==i.allowedDestinationStations||!i.allowedDestinationStations.length))("onlySameCountry",i.onlySameCountry)}}function Pt(e,t){if(1&e){var n=o.ac();o.Zb(0,"label",37),o.Zb(1,"app-station-results",38,39),o.hc("selectedSavedSearch",(function(e){return o.Hc(n),o.jc().onSavedSearchSelect(e)}))("selectedStation",(function(e){return o.Hc(n),o.jc().onStationSelect(e)}))("recommendedStation",(function(e){return o.Hc(n),o.jc().onRecommendationSelect(e)}))("showStationSelectorModal",(function(e){return o.Hc(n),o.jc().doShowStationSelectorModal(e)}))("outsideClickClose",(function(e){return o.Hc(n),o.jc().onModalClose(e)})),o.Yb(),o.Yb()}if(2&e){var i=o.jc(),r=o.Ec(3);o.Hb(1),o.sc("caller",r)("searching",i.originSearching||!(null==i.allowedOriginStations||!i.allowedOriginStations.length))("stations",i.originStations)("defaultStation",i.onlySameCountry?null:i.defaultStation)("popularStations",i.originCMSStations)("savedSearch",i.onlySameCountry?null:i.savedSearch)("resultsType",i.stationResultsType.ORIGIN)("forceDisableFooter",!(null==i.allowedOriginStations||!i.allowedOriginStations.length))("onlySameCountry",i.onlySameCountry)}}var Mt,xt=function(e,t,n){return{active:e,"anticipate-breakpoint":t,"gray-border":n}},Dt=function(e){return{"mobile-border":e}},It=function(e){return{"d-none":e}},Lt=function(e,t){return{"fa-long-arrow-right":e,"fa-exchange-alt":t}},Rt=function(e){return{"d-block":e}},Nt=((Mt=function(){function e(t,n,i,r,a,s,c,d,h,v){_classCallCheck(this,e),this.fb=t,this.flightStations=n,this.renderer=i,this.config=r,this.geolocation=a,this.stationSearchHistory=s,this.modalSvc=c,this.datalayerFlightStatus=d,this.datalayerUxHome=h,this.route=v,this.useMaacStation=!1,this.customInputIds={origin:"originInput",destination:"destInput"},this.activeForBookingStationsOnly=!0,this.activeDirectStationsOnly=!1,this.grayBorder=!1,this.borderClass=!1,this.showLastFlightStatusSearch=!1,this.showLastFlightSearch=!0,this.useFlightStatusDatalayer=!1,this.flightType=p.a.ONE_WAY,this.includeMaacStations=!1,this.onlySameCountry=!1,this.allowedOriginStations=[],this.allowedDestinationStations=[],this.allowSetParamsFromUrl=!1,this.selectedStationsChanged=new o.p,this.savedSearchSelected=new o.p,this.searchTerms=new o.p,this.focusOrigin=!1,this.focusDestination=!1,this.originSearching=!1,this.originCMSStations=[],this.defaultStation=void 0,this.destinationSearching=!1,this.destCMSStations=[],this.stations=[],this.originStations=[],this.showOriginInput=!0,this.destinationStations=[],this.showDestinationInput=!0,this.selectedOrigin=void 0,this.selectedDestination=void 0,this.originInputSubscription=l.a.EMPTY,this.destinationInputSubscription=l.a.EMPTY,this.stationResultsType=u.a,this.locationSubscription=l.a.EMPTY,this.isLoading=!0,this.showStationSelectorModal=!1,this.stationSelectorStations=[],this.stationSelectorType=void 0,this.isMobile=!1,this.setLastDestinationAsOrigin=!1,this.inputSearchTerms={origin:null,destination:null},this.stationSelectorId="ssm-"+Object(f.v4)(),this.useMaacStation=this.config.getBookingFeatureValue(g.a.UseMaacStationsAsDefault)||!1}return _createClass(e,[{key:"onResize",value:function(e){this.isMobile=e.target.innerWidth<=800}},{key:"ngOnInit",value:function(){var e,t,n=this;this.selectedStations&&this.onlySameCountry&&this.flightStations._stations.length&&(this.destinationCountry=(null===(e=this.flightStations._stations.find((function(e){var t;return e.code===(null===(t=n.selectedStations)||void 0===t?void 0:t.selectedDestinationCode)})))||void 0===e?void 0:e.countryCode)||null,this.originCountry=(null===(t=this.flightStations._stations.find((function(e){var t;return e.code===(null===(t=n.selectedStations)||void 0===t?void 0:t.selectedOriginCode)})))||void 0===t?void 0:t.countryCode)||null),this.allowSetParamsFromUrl&&this.getSearchParamsFromUrl(),this.initialize(),this.formGroup=this.generateForm(),this.originInputSubscription=this.formGroup.get("origin").valueChanges.pipe(Object(c.a)(300)).subscribe((function(e){return n.searchOriginStations(e)})),this.destinationInputSubscription=this.formGroup.get("destination").valueChanges.pipe(Object(c.a)(300)).subscribe((function(e){return n.searchDestinationStations(e)})),this.windowSize()}},{key:"ngOnDestroy",value:function(){this.originInputSubscription.unsubscribe(),this.destinationInputSubscription.unsubscribe(),this.locationSubscription===l.a.EMPTY||this.locationSubscription.closed||this.locationSubscription.unsubscribe()}},{key:"ngOnChanges",value:function(e){e.selectedStations&&e.selectedStations.currentValue!==e.selectedStations.previousValue&&this.setStationsFromChange(),(e.forceMaxDate||e.forceMinDate)&&this.getLastBookerSearch(),e.prevJourney&&e.prevJourney.isFirstChange()&&e.selectedStations&&e.selectedStations.previousValue&&!e.selectedStations.previousValue.selectedOriginCode&&(this.setLastDestinationAsOrigin=!0)}},{key:"onStationChange",value:function(){this.selectedStationsChanged.emit({selectedOrigin:this.selectedOrigin,selectedDestination:this.selectedDestination})}},{key:"getSearchParamsFromUrl",value:function(){this.itineraryCodes=[];var e=this.route.snapshot.queryParamMap;if(e.has("itineraryCode")){var t=new RegExp("^[a-zA-Z]{3}$"),n=e.get("itineraryCode").split("_").filter((function(e){return t.test(e)}));Object(v.d)(n,2)&&(this.itineraryCodes=n.map((function(e){return e.toUpperCase()})))}}},{key:"initialize",value:function(){var e=this;this.flightStations.ready.then((function(){e.setOriginCMSStations();var t=e.activeForBookingStationsOnly?e.flightStations._bookingStations:e.flightStations._stations;e.includeMaacStations&&(t=[].concat(_toConsumableArray2(e.flightStations._maacStations),_toConsumableArray2(t))),e.stations=t.sort((function(t,n){return e.sortStationResultsByName(t,n)})),e.stations.length>0&&(e.selectedStations||e.setOriginStationOnInit(),e.getLastBookerSearch()),e.allowedOriginStations.length&&(e.originStations=e.stations.filter((function(t){return e.allowedOriginStations.includes(t.code)})))}))}},{key:"setComponentAsReady",value:function(){this.formGroup.get("origin").enable(),this.isLoading=!1}},{key:"generateForm",value:function(){return this.fb.group({origin:[{value:"",disabled:!0},[s.I.minLength(1)]],destination:[{value:"",disabled:!0},[s.I.minLength(1)]]})}},{key:"setOriginStationOnInit",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.setOriginFromParams()||this.setUserOriginStation(),e.t0){e.next=5;break}return e.next=4,this.getStationFromGeo(!0);case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=9;break}this.setDestinationFromParams(),this.setDestinationStationFromGeo(),this.setComponentAsReady(),e.next=10;break;case 9:this.setOriginStationFromCMSConfig(),this.setComponentAsReady();case 10:case"end":return e.stop()}}),e,this)})))}},{key:"setUserOriginStation",value:function(){return!1}},{key:"setOriginFromParams",value:function(){if(Object(v.e)(this.itineraryCodes)){var e=this.flightStations.getStation(this.itineraryCodes[0]);return e?(this.setOriginStation(e,!0),this.setComponentAsReady()):Object(v.e)(this.flightStations._stations)&&(this.setOriginStation(this.flightStations._stations[0],!0),this.setComponentAsReady()),!0}return!1}},{key:"setDestinationFromParams",value:function(){if(Object(v.e)(this.itineraryCodes)){var e=this.flightStations.getDestinationStationFromOrigin(this.selectedOrigin,this.itineraryCodes[1]);return e&&this.setDestinationStation(e),!0}return!1}},{key:"getStationFromGeo",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.geolocation._isReady;case 2:return n=this.geolocation._location,t.abrupt("return",n.type!==d.b.IP_LOCATION_ERROR&&n.type!==d.b.NO_LOCATION&&(this.locationSubscription.closed||this.locationSubscription.unsubscribe(),this.locationSubscription=this.geolocation.locationChanged.subscribe((function(t){var n=i.flightStations.getClosestStation(t.coords.latitude,t.coords.longitude);n&&(i.includeMaacStations&&i.useMaacStation&&(n=i.flightStations.getMaacStationByAreaCode(n.code)||n),e&&i.setOriginStation(n,!0),i.defaultStation=n)})),!0));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"setDestinationStationFromGeo",value:function(){}},{key:"setOriginStationFromCMSConfig",value:function(){var e,t=null===(e=this.config._cmsConfig)||void 0===e?void 0:e.defaultOriginStation,n=this.flightStations.getStation(t.fields.stationCode);n?(this.setOriginStation(n,!0),this.setComponentAsReady()):Array.isArray(this.flightStations)&&this.flightStations.length>0&&(this.setOriginStation(this.flightStations[0],!0),this.setComponentAsReady())}},{key:"setOriginCMSStations",value:function(){var e,t=this,n=null===(e=this.config._cmsConfig)||void 0===e?void 0:e.preferredOrigins;if(n){var i=n.map((function(e){return e.fields}));if(!this.includeMaacStations){var r=this.flightStations._maacStations.map((function(e){return e.code}));i=i.filter((function(e){return!r.includes(e.stationCode)}))}this.originCMSStations=this.activeForBookingStationsOnly?i.filter((function(e){return!1!==e.activeForBooking})):i,this.onlySameCountry&&this.originCountry&&(this.originCMSStations=this.originCMSStations.filter((function(e){return e.countryCode===t.originCountry})))}}},{key:"setDestinationCMSStations",value:function(){var e,t=this,n=this.flightStations.getCMSStation(this.selectedOrigin.code),i=n?n.preferredDestinations.map((function(e){return e.fields})):[];if(this.destCMSStations=this.activeForBookingStationsOnly?i.filter((function(e){return!1!==e.activeForBooking})):i,!this.destCMSStations.length){var r=(null===(e=this.config._cmsConfig.globalSettings)||void 0===e?void 0:e.defaultDestinations)||[];r&&Array.isArray(r)&&r.length&&r.forEach((function(e){var i=t.flightStations.getCMSStation(e);i&&i.stationCode!==n.stationCode&&(t.activeForBookingStationsOnly&&i.activeForBooking||!t.activeForBookingStationsOnly)&&t.destCMSStations.push(i)}))}if(!this.includeMaacStations){var o=this.flightStations._maacStations.map((function(e){return e.code}));this.destCMSStations=this.destCMSStations.filter((function(e){return!o.includes(e.stationCode)}))}this.onlySameCountry&&this.destinationCountry&&(this.destCMSStations=this.destCMSStations.filter((function(e){return e.countryCode===t.destinationCountry})))}},{key:"getLastBookerSearch",value:function(){this.getLastUserSearch()||this.getLastAnonSearch()}},{key:"getLastUserSearch",value:function(){return!1}},{key:"checkValidSavedSearch",value:function(){var e;if(this.forceMinDate&&this.savedSearch&&(this.forceMinDate.isSameOrBefore(this.savedSearch.startDate,"D")||(this.savedSearch=Object.assign(Object.assign({},this.savedSearch),{endDate:void 0,startDate:void 0}))),this.forceMaxDate&&this.savedSearch){var t=this.savedSearch.startDate;(null===(e=this.savedSearch)||void 0===e?void 0:e.endDate)&&(t=this.savedSearch.endDate),this.forceMaxDate.isAfter(t,"D")||(this.savedSearch=Object.assign(Object.assign({},this.savedSearch),{endDate:void 0,startDate:void 0}))}}},{key:"getLastAnonSearch",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stationSearchHistory.ready;case 2:if(!((t=this.showLastFlightStatusSearch?this.stationSearchHistory._lastFlightStatusSearch:this.stationSearchHistory._flightSearches)&&t.length>0&&this.showLastFlightSearch)){e.next=20;break}if(n=t[0],e.prev=5,n.startDate=new Date(Date.parse(n.startDate)).toISOString(),n.endDate&&(n.endDate=new Date(Date.parse(n.endDate)).toISOString()),(i=this.flightStations.getStation(n.origin.code))&&(n.origin.name=i.name),(r=this.flightStations.getStation(n.destination.code))&&(n.destination.name=r.name),this.includeMaacStations){e.next=14;break}if(!(o=this.flightStations._maacStations.map((function(e){return e.code}))).includes(n.origin.code)&&!o.includes(n.destination.code)){e.next=14;break}return e.abrupt("return",void(this.savedSearch=void 0));case 14:this.savedSearch=n,this.checkValidSavedSearch(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),h.g.production||console.error("Error while trying to fetch last booking search: ",e.t0),this.savedSearch=void 0;case 20:case"end":return e.stop()}}),e,this,[[5,17]])})))}},{key:"setStationsFromChange",value:function(){var e=this;this.selectedStations&&this.selectedStations.selectedOriginCode&&this.flightStations.ready.then((function(){var t=e.flightStations.getStation(e.selectedStations.selectedOriginCode);if(t&&(e.setOriginStation(t,!0),e.selectedStations.selectedDestinationCode)){var n=e.flightStations.getDestinationStationFromOrigin(e.selectedOrigin,e.selectedStations.selectedDestinationCode);n&&e.setDestinationStation(n)}e.isLoading&&(e.setComponentAsReady(),e.getStationFromGeo(!1))}))}},{key:"searchOriginStations",value:function(e){var t=this;if(this.showOriginInput&&e&&e.trim()){var n=e.trim();this.originSearching=!0,this.inputSearchTerms.origin=n,this.inputSearchTerms.destination&&(this.inputSearchTerms.destination=null),this.originStations=this.stations.filter((function(e){return t.stationSearch(e,n)})).sort((function(e,n){return t.sortStationResultsByWeight(e,n)})).sort((function(e,n){return t.sortMaacStationResults(e,n)})),this.onlySameCountry&&this.originCountry&&(this.originStations=this.originStations.filter((function(e){return e.countryCode===t.originCountry}))),this.allowedOriginStations.length&&(this.originStations=this.originStations.filter((function(e){return t.allowedOriginStations.includes(e.code)})))}else e||(this.inputSearchTerms.origin=null),this.originSearching=!1;this.searchTerms.emit(this.inputSearchTerms)}},{key:"searchDestinationStations",value:function(e){var t=this;if(this.showDestinationInput&&this.selectedOrigin&&e&&e.trim()){var n=e.trim();this.destinationSearching=!0,this.inputSearchTerms.destination=n;var i=this.activeForBookingStationsOnly?this.selectedOrigin.destinations.filter((function(e){return e.activeForBooking})):this.selectedOrigin.destinations;this.includeMaacStations&&(i=[].concat(_toConsumableArray2(this.flightStations.getDestinationMaacStationsFromOrigin(this.selectedOrigin)),_toConsumableArray2(i))),this.allowedDestinationStations.length&&(i=i.filter((function(e){return t.allowedDestinationStations.includes(e.code)}))),this.destinationStations=i.filter((function(e){return!t.activeDirectStationsOnly||e.travelType===a.h.DIRECT})).filter((function(e){return t.stationSearch(e,n)})).sort((function(e,n){return t.sortStationResultsByName(e,n)})).sort((function(e,n){return t.sortDestinationStationsByTravelType(e,n)})).sort((function(e,n){return t.sortStationResultsByWeight(e,n)})).sort((function(e,n){return t.sortMaacStationResults(e,n)})),this.onlySameCountry&&this.destinationCountry&&(this.destinationStations=this.destinationStations.filter((function(e){return e.countryCode===t.destinationCountry})))}else e||(this.inputSearchTerms.destination=null),this.destinationSearching=!1;this.searchTerms.emit(this.inputSearchTerms)}},{key:"onFocus",value:function(e){e===this.stationResultsType.ORIGIN&&(this.focusOrigin||(this.formGroup.get("origin").patchValue(""),this.originSearching=!1),this.focusOrigin=!0,this.originResultsPopup.open()),e===this.stationResultsType.DESTINATION&&(this.focusDestination||(this.formGroup.get("destination").patchValue(""),this.destinationSearching=!1),this.focusDestination=!0,this.destResultsPopup.open())}},{key:"triggerInputFocusOut",value:function(e){e&&e!==u.a.ORIGIN||(this.focusOrigin=!1,this.selectedOrigin?(this.formGroup.get("origin").patchValue(this.selectedOrigin.name),this.toggleInput(!1,u.a.ORIGIN)):this.formGroup.get("origin").patchValue("")),e&&e!==u.a.DESTINATION||(this.focusDestination=!1,this.selectedDestination?(this.formGroup.get("destination").patchValue(this.selectedDestination.name),this.toggleInput(!1,u.a.DESTINATION)):this.formGroup.get("destination").patchValue(""))}},{key:"onTabOrEnterPress",value:function(e,t){"Tab"!==e.code&&"Enter"!==e.code||(e.shiftKey||(this.selectFirstResultOfSearch(t),"Enter"===e.code&&this.inputEnterKeyBlur(t)),this.closePopup(t))}},{key:"inputEnterKeyBlur",value:function(e){var t;switch(e){case u.a.ORIGIN:t=this.renderer.selectRootElement("#"+this.customInputIds.origin);break;case u.a.DESTINATION:t=this.renderer.selectRootElement("#"+this.customInputIds.destination)}t&&t.blur()}},{key:"selectFirstResultOfSearch",value:function(e){e===u.a.ORIGIN&&this.originSearching&&this.originStations.length>0&&(this.setOriginStation(this.originStations[0],!0),this.useFlightStatusDatalayer||this.datalayerUxHome.selectedLocationEvent(e,"Search",this.originStations[0].type,"",this.originStations[0].code,"",this.inputSearchTerms)),e===u.a.DESTINATION&&this.destinationSearching&&this.destinationStations.length>0&&(this.setDestinationStation(this.destinationStations[0]),this.useFlightStatusDatalayer||this.datalayerUxHome.selectedLocationEvent(e,"Search",this.selectedOrigin.type,this.destinationStations[0].travelType,this.selectedOrigin.code,this.destinationStations[0].code,this.inputSearchTerms))}},{key:"onOverlayClick",value:function(e,t){this.toggleInput(e,t),t===u.a.ORIGIN&&this.closePopup(u.a.DESTINATION),t===u.a.DESTINATION&&this.closePopup(u.a.ORIGIN)}},{key:"toggleInput",value:function(e,t){var n=this;t===u.a.ORIGIN&&(this.showOriginInput=e,e&&setTimeout((function(){n.renderer.selectRootElement("#"+n.customInputIds.origin).focus()}),0)),t===u.a.DESTINATION&&(this.showDestinationInput=e,e&&setTimeout((function(){n.renderer.selectRootElement("#"+n.customInputIds.destination).focus()}),0))}},{key:"onStationSelect",value:function(e){e&&e.station&&(e.station instanceof a.a&&(this.useFlightStatusDatalayer||this.datalayerUxHome.selectedLocationEvent(e.type,"Search",e.station.type,"",e.station.code,"",this.inputSearchTerms),this.setOriginStation(e.station,!0)),e.station instanceof a.b&&(this.useFlightStatusDatalayer||this.datalayerUxHome.selectedLocationEvent(e.type,"Search",this.selectedOrigin.type,e.station.travelType,this.selectedOrigin.code,e.station.code,this.inputSearchTerms),this.setDestinationStation(e.station))),e.type&&this.closePopup(e.type),this.toggleStationSelectorModal(!1)}},{key:"onRecommendationSelect",value:function(e){var t=this;if(e.type){if(e.type===u.a.ORIGIN&&this.getStationFromCode(e.station.stationCode).then((function(n){t.useFlightStatusDatalayer||t.datalayerUxHome.selectedLocationEvent(e.type,"Search",n.type,"",n.code,"",t.inputSearchTerms),t.setOriginStation(n,!0)})),e.type===u.a.DESTINATION){var n=e.station.stationCode;this.flightStations.ready.then((function(){var i=t.flightStations.getDestinationStationFromOrigin(t.selectedOrigin,n);i?(t.setDestinationStation(i),t.useFlightStatusDatalayer||t.datalayerUxHome.selectedLocationEvent(e.type,"Search",t.selectedOrigin.type,t.flightType,t.selectedOrigin.code,t.selectedDestination.code,t.inputSearchTerms)):alert("ERROR: Estaci\xf3n destino inv\xe1lida para el origen "+t.selectedOrigin.name+"!")}))}this.closePopup(e.type)}}},{key:"onSavedSearchSelect",value:function(e){this.savedSearchSelected.emit(e),this.useFlightStatusDatalayer||this.datalayerUxHome.selectedLocationEvent("origin-destination","Recent Searches",e.stationType,e.travelType,e.origin.code,e.destination.code,this.inputSearchTerms),this.closePopup(u.a.ORIGIN),this.closePopup(u.a.DESTINATION)}},{key:"setOriginStation",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.selectedOrigin||this.selectedOrigin.code!==e.code){var r;if(this.selectedOrigin=e,this.prevJourney&&this.setLastDestinationAsOrigin&&(this.prevJourney.destination&&(r=this.flightStations.getStation(this.prevJourney.destination.code)),this.setLastDestinationAsOrigin=!1,this.selectedOrigin=r,!this.selectedOrigin))return void this.clearFields();this.formGroup.get("origin").patchValue(this.selectedOrigin.name),this.toggleInput(!1,u.a.ORIGIN),i&&(null===(t=this.selectedOrigin)||void 0===t?void 0:t.destinations)&&(this.destinationStations=this.activeForBookingStationsOnly?this.selectedOrigin.destinations.filter((function(e){return e.activeForBooking})):this.selectedOrigin.destinations,this.onlySameCountry&&this.destinationCountry&&(this.destinationStations=this.destinationStations.filter((function(e){return e.countryCode===n.destinationCountry}))),this.allowedDestinationStations.length&&(this.destinationStations=this.destinationStations.filter((function(e){return n.allowedDestinationStations.includes(e.code)}))),this.selectedDestination=void 0,this.formGroup.get("destination").enable(),this.formGroup.get("destination").patchValue(""),this.setDestinationCMSStations(),this.showDestinationInput=!0),this.onStationChange()}}},{key:"setDestinationStation",value:function(e){e.code!==this.selectedOrigin.code&&(this.selectedDestination=e,this.formGroup.get("destination").patchValue(this.selectedDestination.name),this.toggleInput(!1,u.a.DESTINATION),this.onStationChange())}},{key:"getStationFromCode",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.flightStations.ready;case 2:return t.abrupt("return",this.flightStations.getStation(e));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"closePopup",value:function(e){switch(e){case u.a.ORIGIN:this.originResultsPopup.close();break;case u.a.DESTINATION:this.destResultsPopup.close();break;default:console.warn("[FlightInputComponent::closePopup] Unsupported type: ",e)}}},{key:"clearFields",value:function(){this.selectedOrigin=void 0,this.selectedDestination=void 0,this.formGroup.reset(),this.formGroup.get("destination").disable(),this.showOriginInput=!0,this.showDestinationInput=!0,this.onStationChange()}},{key:"switchStations",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.selectedOrigin||!this.selectedDestination){e.next=7;break}return e.next=3,this.flightStations.ready;case 3:t=this.selectedOrigin.code,n=this.flightStations.getStation(this.selectedDestination.code),this.setOriginStation(n),(i=this.flightStations.getDestinationStationFromOrigin(this.selectedOrigin,t))&&this.setDestinationStation(i),this.useFlightStatusDatalayer?this.datalayerFlightStatus.flipOriginDestination():this.datalayerUxHome.flipOriginDestination();case 7:case"end":return e.stop()}}),e,this)})))}},{key:"stationSearch",value:function(e,t){var n=this;if(t&&t.trim()){var i=this.formatStringForSearch(t);if(e&&e.activeForBooking){if(e.name&&this.formatStringForSearch(e.name).includes(i))return e.sortWeight=a.f.NAME,!0;if(e.code&&this.formatStringForSearch(e.code).includes(i))return e.sortWeight=a.f.CODE,!0;if(e.aliases&&e.aliases.find((function(e){return n.formatStringForSearch(e).includes(i)})))return e.sortWeight=a.f.ALIAS,!0;if(e.countryName&&this.formatStringForSearch(e.countryName).includes(i))return e.sortWeight=a.f.COUNTRY,!0}}return!1}},{key:"formatStringForSearch",value:function(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}},{key:"sortStationResultsByWeight",value:function(e,t){return e.sortWeight>t.sortWeight?1:e.sortWeight<t.sortWeight?-1:0}},{key:"sortMaacStationResults",value:function(e,t){return t.maac&&!e.maac?1:e.maac&&!t.maac?-1:0}},{key:"sortStationResultsByName",value:function(e,t){var n=e.name.toLowerCase(),i=t.name.toLowerCase();return n>i?1:n<i?-1:0}},{key:"sortDestinationStationsByTravelType",value:function(e,t){var n=this.getTravelTypeWeightMapping(e),i=this.getTravelTypeWeightMapping(t);return n>i?1:n<i?-1:0}},{key:"getTravelTypeWeightMapping",value:function(e){if(e&&e.travelType)switch(e.travelType){case a.h.NONSTOP:return 1;case a.h.DIRECT:return 2;case a.h.CONNECTING:return 3;case a.h.OTHER:return 4;default:return 5}return 10}},{key:"doShowStationSelectorModal",value:function(e){switch(this.stationSelectorType=e,e){case u.a.ORIGIN:this.stationSelectorStations=this.stations||[];break;case u.a.DESTINATION:if(this.selectedOrigin){var t=this.selectedOrigin.destinations||[];this.stationSelectorStations=this.activeForBookingStationsOnly?t.filter((function(e){return e.activeForBooking})):t}else this.stationSelectorStations=[];break;default:this.stationSelectorStations=[]}Array.isArray(this.stationSelectorStations)&&this.stationSelectorStations.length>0&&(this.toggleStationSelectorModal(!0),this.closePopup(e))}},{key:"toggleStationSelectorModal",value:function(e){e?this.modalSvc.open(this.stationSelectorId):this.modalSvc.close(this.stationSelectorId)}},{key:"onModalClose",value:function(e){this.triggerInputFocusOut(e)}},{key:"windowSize",value:function(){this.isMobile=window.innerWidth<=800}},{key:"isSwitchStationDisabled",get:function(){var e,t;return!(this.selectedOrigin&&this.selectedDestination)||this.onlySameCountry&&(null===(e=this.selectedOrigin)||void 0===e?void 0:e.countryCode)!==(null===(t=this.selectedDestination)||void 0===t?void 0:t.countryCode)||!!this.allowedOriginStations.length||!!this.allowedDestinationStations.length}}]),e}()).\u0275fac=function(e){return new(e||Mt)(o.Tb(s.h),o.Tb(m.a),o.Tb(o.I),o.Tb(b.a),o.Tb(y.a),o.Tb(_.a),o.Tb(C.a),o.Tb(k.a),o.Tb(S.a),o.Tb(O.a))},Mt.\u0275cmp=o.Nb({type:Mt,selectors:[["app-flight-input"]],viewQuery:function(e,t){var n;1&e&&(o.Yc(ht,!0),o.Yc(ft,!0)),2&e&&(o.Dc(n=o.ic())&&(t.originResultsPopup=n.first),o.Dc(n=o.ic())&&(t.destResultsPopup=n.first))},hostBindings:function(e,t){1&e&&o.hc("resize",(function(e){return t.onResize(e)}),!1,o.Gc)},inputs:{customInputIds:"customInputIds",selectedStations:"selectedStations",activeForBookingStationsOnly:"activeForBookingStationsOnly",activeDirectStationsOnly:"activeDirectStationsOnly",grayBorder:"grayBorder",borderClass:"borderClass",showLastFlightStatusSearch:"showLastFlightStatusSearch",showLastFlightSearch:"showLastFlightSearch",useFlightStatusDatalayer:"useFlightStatusDatalayer",forceMinDate:"forceMinDate",forceMaxDate:"forceMaxDate",prevJourney:"prevJourney",flightType:"flightType",includeMaacStations:"includeMaacStations",onlySameCountry:"onlySameCountry",allowedOriginStations:"allowedOriginStations",allowedDestinationStations:"allowedDestinationStations",allowSetParamsFromUrl:"allowSetParamsFromUrl",anticipateBreakpoint:"anticipateBreakpoint"},outputs:{selectedStationsChanged:"selectedStationsChanged",savedSearchSelected:"savedSearchSelected",searchTerms:"searchTerms"},features:[o.Fb],decls:28,vars:47,consts:[["autocomplete","off",3,"formGroup"],[1,"flight-input","main-container",3,"ngClass"],[1,"input-section",3,"ngClass"],["originContainer",""],["tabindex","0","class","station-input-overlay",3,"focus",4,"ngIf"],["formControlName","origin","type","text",1,"h4","station-input",3,"id","placeholder","ngClass","focus","keydown"],["class","fas fa-plane-departure input-icon",4,"ngIf","ngIfElse"],["class","container origin",4,"ngIf"],[1,"flight-switch-button","d-flex","align-items-center","justify-content-center",3,"disabled","click"],[1,"fas","flight-button",3,"ngClass"],[1,"input-section","secondary-section",3,"ngClass"],["destContainer",""],["formControlName","destination","type","text",1,"h4","station-input",3,"id","placeholder","ngClass","focus","keydown"],["class","fas fa-plane-arrival input-icon",4,"ngIf","ngIfElse"],["class","container destination",4,"ngIf"],[1,"clear-button",3,"ngClass","click"],[1,"fas","fa-times"],["class","container",4,"ngIf"],["spinnerIcon",""],[3,"id","stations","stationType","selectedOrigin","closeModal","stationSelect"],["destInput",""],["originInput",""],["tabindex","0",1,"station-input-overlay",3,"focus"],[1,"h4","station-name"],["class","medium-title station-code",4,"ngIf"],[1,"medium-title","station-code"],[1,"fas","fa-plane-departure","input-icon"],[1,"container","origin"],[1,"row","no-gutter","no-mb-20"],[4,"ngTemplateOutlet"],[1,"fas","fa-plane-arrival","input-icon"],[1,"container","destination"],[1,"container"],[1,"fas","fa-spinner","fa-pulse","loading-icon"],["for","destInput",1,"d-block","col-lg-6","popup-anchor"],[3,"caller","searching","stationDestinations","popularStations","savedSearch","resultsType","forceDisableFooter","onlySameCountry","selectedSavedSearch","selectedStation","recommendedStation","showStationSelectorModal","outsideClickClose"],["resultsDest",""],["for","originInput",1,"d-block","col-lg-6","popup-anchor"],[3,"caller","searching","stations","defaultStation","popularStations","savedSearch","resultsType","forceDisableFooter","onlySameCountry","selectedSavedSearch","selectedStation","recommendedStation","showStationSelectorModal","outsideClickClose"],["resultsOrigin",""]],template:function(e,t){if(1&e&&(o.Zb(0,"form",0),o.Zb(1,"div",1),o.Zb(2,"div",2,3),o.Qc(4,gt,4,2,"div",4),o.Zb(5,"input",5),o.hc("focus",(function(){return t.onFocus(t.stationResultsType.ORIGIN)}))("keydown",(function(e){return t.onTabOrEnterPress(e,t.stationResultsType.ORIGIN)})),o.kc(6,"cmsTranslate"),o.Yb(),o.Qc(7,vt,1,0,"i",6),o.Yb(),o.Qc(8,bt,3,1,"div",7),o.Zb(9,"button",8),o.hc("click",(function(){return t.switchStations()})),o.Ub(10,"i",9),o.Yb(),o.Zb(11,"div",10,11),o.Qc(13,_t,4,2,"div",4),o.Zb(14,"input",12),o.hc("focus",(function(){return t.onFocus(t.stationResultsType.DESTINATION)}))("keydown",(function(e){return t.onTabOrEnterPress(e,t.stationResultsType.DESTINATION)})),o.kc(15,"cmsTranslate"),o.Yb(),o.Qc(16,Ct,1,0,"i",13),o.Yb(),o.Qc(17,St,3,1,"div",14),o.Zb(18,"button",15),o.hc("click",(function(){return t.clearFields()})),o.Ub(19,"i",16),o.Yb(),o.Yb(),o.Yb(),o.Qc(20,wt,4,2,"div",17),o.Qc(21,At,1,0,"ng-template",null,18,o.Rc),o.Zb(23,"app-station-selector",19),o.hc("closeModal",(function(){return t.toggleStationSelectorModal(!1)}))("stationSelect",(function(e){return t.onStationSelect(e)})),o.Yb(),o.Qc(24,Et,3,8,"ng-template",null,20,o.Rc),o.Qc(26,Pt,3,9,"ng-template",null,21,o.Rc)),2&e){var n=o.Ec(22);o.sc("formGroup",t.formGroup),o.Hb(1),o.sc("ngClass",o.xc(30,xt,t.focusOrigin||t.focusDestination,t.anticipateBreakpoint,t.grayBorder)),o.Hb(1),o.sc("ngClass",o.vc(34,Dt,t.borderClass)),o.Hb(2),o.sc("ngIf",!t.showOriginInput&&t.selectedOrigin),o.Hb(1),o.sc("id",(null==t.customInputIds?null:t.customInputIds.origin)||"originInput")("placeholder",o.lc(6,26,"GLOBAL_LABEL_ORIGIN-PLACEHOLDER"))("ngClass",o.vc(36,It,!t.showOriginInput)),o.Hb(2),o.sc("ngIf",!t.isLoading)("ngIfElse",n),o.Hb(1),o.sc("ngIf",t.isMobile),o.Hb(1),o.sc("disabled",t.isSwitchStationDisabled),o.Hb(1),o.sc("ngClass",o.wc(38,Lt,t.isSwitchStationDisabled,!t.isSwitchStationDisabled)),o.Hb(1),o.sc("ngClass",o.vc(41,Dt,t.borderClass)),o.Hb(2),o.sc("ngIf",!t.showDestinationInput&&t.selectedDestination),o.Hb(1),o.sc("id",(null==t.customInputIds?null:t.customInputIds.destination)||"destInput")("placeholder",o.lc(15,28,"GLOBAL_LABEL_DESTINATION-PLACEHOLDER"))("ngClass",o.vc(43,It,!t.showDestinationInput)),o.Hb(2),o.sc("ngIf",!t.isLoading)("ngIfElse",n),o.Hb(1),o.sc("ngIf",t.isMobile),o.Hb(1),o.sc("ngClass",o.vc(45,Rt,t.selectedOrigin||t.selectedDestination)),o.Hb(2),o.sc("ngIf",!t.isMobile),o.Hb(3),o.sc("id",t.stationSelectorId)("stations",t.stationSelectorStations)("stationType",t.stationSelectorType)("selectedOrigin",t.selectedOrigin)}},directives:[s.K,s.v,s.m,T.r,T.u,s.d,s.u,s.k,he,T.B,dt],pipes:[M.a],styles:['.flight-input.main-container[_ngcontent-%COMP%]{background:var(--wh1);width:100%;height:60px;display:flex;justify-content:space-between;border-radius:10px;overflow:hidden;box-sizing:border-box;border:2px solid var(--wh1);position:relative}.flight-input.main-container.gray-border[_ngcontent-%COMP%]{border:1px solid var(--gr20)}@media screen and (max-width:800px){.flight-input.main-container[_ngcontent-%COMP%]{overflow:initial}}.flight-input.main-container.active[_ngcontent-%COMP%]{border-color:var(--vg4)}.flight-input[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%;height:100%;display:block;position:relative;background:var(--wh1)}.flight-input[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]:first-child{border-right:1px solid var(--gr20)}.flight-input[_ngcontent-%COMP%]   .input-section.secondary-section[_ngcontent-%COMP%]{flex:0 0 48%;max-width:48%}.flight-input[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]:after{content:"";position:absolute;top:13px;left:60px;height:30px;width:1px;background-color:var(--gr20);pointer-events:none}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]{color:var(--bg6);width:-webkit-fill-available;width:-moz-available;width:stretch;height:auto;position:relative;padding:16px 30px 15px 70px;border:none;caret-color:var(--vg4);box-sizing:border-box;background-color:var(--wh1)}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:focus{outline:none}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:focus ~ .input-icon[_ngcontent-%COMP%]{color:var(--vg4)}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:focus::-moz-placeholder{opacity:0}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:focus::-ms-input-placeholder{opacity:0}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:focus::placeholder{opacity:0}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:disabled ~ .input-icon[_ngcontent-%COMP%]{color:var(--gr40)}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:disabled::-moz-placeholder{color:var(--gr40)}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:disabled::-ms-input-placeholder{color:var(--gr40)}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:disabled::placeholder{color:var(--gr40)}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]::-moz-placeholder{font-family:Lato,Arial;font-size:16px;letter-spacing:0;line-height:21px;color:var(--bg6);margin:0;opacity:1;font-weight:400;color:var(--gr60)}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]::-ms-input-placeholder{font-family:Lato,Arial;font-size:16px;letter-spacing:0;line-height:21px;color:var(--bg6);margin:0;opacity:1;font-weight:400;color:var(--gr60)}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]::placeholder{font-family:Lato,Arial;font-size:16px;letter-spacing:0;line-height:21px;color:var(--bg6);margin:0;opacity:1;font-weight:400;color:var(--gr60)}.flight-input[_ngcontent-%COMP%]   .station-input-overlay[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;cursor:text;width:100%;height:60px;position:relative;padding:12px 30px 18px 70px;border:none;box-sizing:border-box;background-color:var(--wh1)}.flight-input[_ngcontent-%COMP%]   .station-input-overlay[_ngcontent-%COMP%]   .station-name[_ngcontent-%COMP%]{display:inline-block;box-sizing:content-box;max-width:calc(100% - 40px);color:var(--bg6);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.flight-input[_ngcontent-%COMP%]   .station-input-overlay[_ngcontent-%COMP%]   .station-code[_ngcontent-%COMP%]{display:inline-block;opacity:.8;margin-left:5px;margin-bottom:-5px}.flight-input[_ngcontent-%COMP%]   .loading-icon[_ngcontent-%COMP%]{color:var(--gr60);top:calc(50% - 7px)}.flight-input[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%], .flight-input[_ngcontent-%COMP%]   .loading-icon[_ngcontent-%COMP%]{font-size:15px;line-height:1;vertical-align:middle;position:absolute;left:20px;z-index:1;pointer-events:none}.flight-input[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{color:var(--bg4);top:50%;margin-right:10px;transform:translateY(-50%)}.flight-input[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]   .flight-button[_ngcontent-%COMP%]{position:static;margin-right:0;transform:none}.flight-input[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]   .flight-button[_ngcontent-%COMP%]:after{content:none}.flight-input[_ngcontent-%COMP%]   .flight-switch-button[_ngcontent-%COMP%]{cursor:pointer;border-radius:50%;border:1px solid rgba(var(--bg4-rgb),.5);height:40px;width:40px;position:absolute;top:50%;left:50%;background:var(--wh1);transform:translate(-50%,-50%);z-index:1}.flight-input[_ngcontent-%COMP%]   .flight-switch-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:15px;line-height:1;color:var(--bg4);vertical-align:middle}.flight-input[_ngcontent-%COMP%]   .flight-switch-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--vg4)}.flight-input[_ngcontent-%COMP%]   .flight-switch-button[_ngcontent-%COMP%]:disabled{border-color:rgba(var(--gr40-rgb),.5);cursor:not-allowed}.flight-input[_ngcontent-%COMP%]   .flight-switch-button[_ngcontent-%COMP%]:disabled   i.fas[_ngcontent-%COMP%]{color:var(--gr40)}.flight-input[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]{display:none;cursor:pointer;height:20px;width:20px;background:transparent;border:none;position:absolute;top:50%;right:20px;transform:translateY(-50%);z-index:1}.flight-input[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--gr60)}.flight-input[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bl9)}.flight-input[_ngcontent-%COMP%]   .popup-anchor[_ngcontent-%COMP%]{position:relative;width:100%}@media screen and (max-width:1024px){.flight-input.anticipate-breakpoint[_ngcontent-%COMP%]{border-radius:10px}.flight-input.anticipate-breakpoint.main-container[_ngcontent-%COMP%]{height:auto;flex-wrap:wrap;background:transparent;border:none}.flight-input.anticipate-breakpoint[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]{max-width:100%;width:100%;height:unset;flex:unset;margin:5px 0;border-radius:10px}.flight-input.anticipate-breakpoint[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]:first-child{border-right:unset}.flight-input.anticipate-breakpoint[_ngcontent-%COMP%]   .input-section.secondary-section[_ngcontent-%COMP%]{max-width:unset;flex:unset;border-radius:10px}.flight-input.anticipate-breakpoint[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%], .flight-input.anticipate-breakpoint[_ngcontent-%COMP%]   .station-input-overlay[_ngcontent-%COMP%]{border-radius:10px}.flight-input.anticipate-breakpoint[_ngcontent-%COMP%]   .flight-switch-button[_ngcontent-%COMP%]{left:unset;right:0}.flight-input.anticipate-breakpoint[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]{display:none!important}}@media screen and (max-width:720px){.mobile-border[_ngcontent-%COMP%]{border:1px solid var(--gr20)!important}}@media screen and (max-width:800px){.flight-input[_ngcontent-%COMP%]{border-radius:10px}.flight-input.main-container[_ngcontent-%COMP%]{height:auto;flex-wrap:wrap;background:transparent;border:none}.flight-input[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]{max-width:100%;width:100%;height:unset;flex:unset;margin:5px 0;border-radius:10px}.flight-input[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]:first-child{border-right:unset}.flight-input[_ngcontent-%COMP%]   .input-section.secondary-section[_ngcontent-%COMP%]{max-width:unset;flex:unset;border-radius:10px}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%], .flight-input[_ngcontent-%COMP%]   .station-input-overlay[_ngcontent-%COMP%]{border-radius:10px}.flight-input[_ngcontent-%COMP%]   .flight-switch-button[_ngcontent-%COMP%]{left:unset;right:0}.flight-input[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]{display:none!important}}']}),Mt)},h3XU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ofXK"),r=n("fXoL"),o=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Rb({type:e}),e.\u0275inj=r.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e}()},hypo:function(e,t,n){var i=n("O0oS");e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},hzby:function(e,t,n){"use strict";n.d(t,"a",(function(){return Tt})),n.d(t,"b",(function(){return dt})),n.d(t,"c",(function(){return pt})),n.d(t,"d",(function(){return Oe}));var i=n("fXoL"),r=n("pLZG"),o=n("lJxs"),a=n("IzEk"),s=n("1G5W"),c=n("/uUt"),l=n("U9ZV"),u=n("WyaX"),d=n("R0Ic"),h=n("quSY"),f=n("2Vo4"),p=n("itXk"),g=n("XNiG"),v=n("qgXg"),m=n("HDdC"),b=n("pxpQ"),y=n("Kqap"),_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),o=t.call(this,e),i.pipe(Object(b.b)(v.a)).pipe(Object(y.a)((function(e,t){return t?r(e,t):e}),e)).subscribe((function(e){return o.next(e)})),o}return n}(f.a),C=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this))._dispatcher=e,o._reducer=i,o.source=r,o}return _createClass(n,[{key:"select",value:function(e){return this.source.pipe(Object(o.a)(e)).pipe(Object(c.a)())}},{key:"lift",value:function(e){var t=new n(this._dispatcher,this._reducer,this);return t.operator=e,t}},{key:"dispatch",value:function(e){this._dispatcher.next(e)}},{key:"next",value:function(e){this._dispatcher.next(e)}},{key:"error",value:function(e){this._dispatcher.error(e)}},{key:"complete",value:function(){}}]),n}(m.a),k=n("3XJ7"),S=n("3Pt+"),O=n("lUod"),T=n("ofXK");function w(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var A,E,P,M,x=n("PqYM"),D=["*"],I=((M=function e(){_classCallCheck(this,e),this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}).\u0275fac=function(e){return new(e||M)},M.\u0275prov=Object(i.Pb)({factory:function(){return new M},token:M,providedIn:"root"}),M),L=((P=function(){function e(t){_classCallCheck(this,e),Object.assign(this,t)}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=u.a[this.placement]),this.classMap[this.placement]=!0),this.classMap["tooltip-"+this.placement]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}},{key:"_bsVersions",get:function(){return Object(O.b)()}}]),e}()).\u0275fac=function(e){return new(e||P)(i.Tb(I))},P.\u0275cmp=i.Nb({type:P,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:7,hostBindings:function(e,t){2&e&&(i.Ib("id",t.id),i.Jb("tooltip in tooltip-"+t.placement+" bs-tooltip-"+t.placement+" "+t.placement+" "+t.containerClass),i.Lb("show",!t._bsVersions.isBs3)("bs3",t._bsVersions.isBs3))},ngContentSelectors:D,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(e,t){1&e&&(i.rc(),i.Ub(0,"div",0),i.Zb(1,"div",1),i.qc(2),i.Yb())},styles:[".tooltip[_nghost-%COMP%] {\n      display: block;\n      pointer-events: none;\n    }\n    .bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%] {\n      margin-left: -2px;\n    }\n    .bs3.tooltip.bottom[_nghost-%COMP%] {\n      margin-top: 0px;\n    }\n    .bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{\n      margin: 0px;\n    }\n    .bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      margin: .3rem 0;\n    }"],changeDetection:0}),P),R=0,N=((E=function(){function e(t,n,r,o,a,s){_classCallCheck(this,e),this._elementRef=o,this._renderer=a,this._positionService=s,this.tooltipId=R++,this.adaptivePosition=!0,this.tooltipChange=new i.p,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new i.p,this._tooltip=n.createLoader(this._elementRef,t,this._renderer).provide({provide:I,useValue:r}),Object.assign(this,r),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._tooltip.listen({triggers:this.triggers,show:function(){return e.show()}}),this.tooltipChange.subscribe((function(t){t||e._tooltip.hide()})),this.onShown.subscribe((function(){e.setAriaDescribedBy()})),this.onHidden.subscribe((function(){e.setAriaDescribedBy()}))}},{key:"setAriaDescribedBy",value:function(){this._ariaDescribedby=this.isOpen?"tooltip-"+this.tooltipId:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}},{key:"toggle",value:function(){if(this.isOpen)return this.hide();this.show()}},{key:"show",value:function(){var e=this;if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),!(this.isOpen||this.isDisabled||this._delayTimeoutId)&&this.tooltip){var t=function(){e._delayTimeoutId&&(e._delayTimeoutId=void 0),e._tooltip.attach(L).to(e.container).position({attachment:e.placement}).show({content:e.tooltip,placement:e.placement,containerClass:e.containerClass,id:"tooltip-"+e.tooltipId})},n=function(){e._tooltipCancelShowFn&&e._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=Object(x.a)(this.delay).subscribe((function(){t(),n()})),this.triggers&&Object(O.e)(this.triggers).forEach((function(t){t.close&&(e._tooltipCancelShowFn=e._renderer.listen(e._elementRef.nativeElement,t.close,(function(){var t;null===(t=e._delaySubscription)||void 0===t||t.unsubscribe(),n()})))}))):t()}}},{key:"hide",value:function(){var e,t=this;this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&((null===(e=this._tooltip.instance)||void 0===e?void 0:e.classMap)&&(this._tooltip.instance.classMap.in=!1),setTimeout((function(){t._tooltip.hide()}),this.tooltipFadeDuration))}},{key:"ngOnDestroy",value:function(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}},{key:"isOpen",get:function(){return this._tooltip.isShown},set:function(e){e?this.show():this.hide()}},{key:"htmlContent",set:function(e){Object(O.i)("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=e}},{key:"_placement",set:function(e){Object(O.i)("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=e}},{key:"_isOpen",set:function(e){Object(O.i)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=e},get:function(){return Object(O.i)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}},{key:"_enable",set:function(e){Object(O.i)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!e},get:function(){return Object(O.i)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}},{key:"_appendToBody",set:function(e){Object(O.i)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=e?"body":this.container},get:function(){return Object(O.i)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}},{key:"_popupClass",set:function(e){Object(O.i)("tooltipClass deprecated")}},{key:"_tooltipContext",set:function(e){Object(O.i)("tooltipContext deprecated")}},{key:"_tooltipPopupDelay",set:function(e){Object(O.i)("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=e}},{key:"_tooltipTrigger",get:function(){return Object(O.i)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers},set:function(e){Object(O.i)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(e||"").toString()}}]),e}()).\u0275fac=function(e){return new(e||E)(i.Tb(i.S),i.Tb(k.a),i.Tb(I),i.Tb(i.n),i.Tb(i.I),i.Tb(u.b))},E.\u0275dir=i.Ob({type:E,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",placement:"placement",triggers:"triggers",containerClass:"containerClass",isDisabled:"isDisabled",delay:"delay",tooltipAnimation:"tooltipAnimation",tooltipFadeDuration:"tooltipFadeDuration",isOpen:"isOpen",htmlContent:["tooltipHtml","htmlContent"],tooltip:"tooltip",_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],container:"container",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"],boundariesElement:"boundariesElement"},outputs:{tooltipChange:"tooltipChange",tooltipStateChanged:"tooltipStateChanged",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-tooltip"]}),function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);o>3&&a&&Object.defineProperty(t,n,a)}([Object(O.a)(),w("design:type",Object)],E.prototype,"tooltip",void 0),E),j=((A=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[k.a,u.b]}}}]),e}()).\u0275mod=i.Rb({type:A}),A.\u0275inj=i.Qb({factory:function(e){return new(e||A)},imports:[[T.c]]}),A);function B(e,t){if(1&e){var n=i.ac();i.Zb(0,"bs-days-calendar-view",9),i.hc("onNavigate",(function(e){return i.Hc(n),i.jc(3).navigateTo(e)}))("onViewMode",(function(e){return i.Hc(n),i.jc(3).setViewMode(e)}))("onHover",(function(e){return i.Hc(n),i.jc(3).dayHoverHandler(e)}))("onHoverWeek",(function(e){return i.Hc(n),i.jc(3).weekHoverHandler(e)}))("onSelect",(function(e){return i.Hc(n),i.jc(3).daySelectHandler(e)})),i.kc(1,"async"),i.Yb()}if(2&e){var r=t.$implicit,o=i.jc(3);i.Lb("bs-datepicker-multiple",o.multipleCalendars),i.sc("calendar",r)("options",i.lc(1,4,o.options$))}}function F(e,t){if(1&e&&(i.Zb(0,"div",7),i.Qc(1,B,2,6,"bs-days-calendar-view",8),i.kc(2,"async"),i.Yb()),2&e){var n=i.jc(2);i.Hb(1),i.sc("ngForOf",i.lc(2,1,n.daysCalendar$))}}function H(e,t){if(1&e){var n=i.ac();i.Zb(0,"bs-month-calendar-view",11),i.hc("onNavigate",(function(e){return i.Hc(n),i.jc(3).navigateTo(e)}))("onViewMode",(function(e){return i.Hc(n),i.jc(3).setViewMode(e)}))("onHover",(function(e){return i.Hc(n),i.jc(3).monthHoverHandler(e)}))("onSelect",(function(e){return i.Hc(n),i.jc(3).monthSelectHandler(e)})),i.Yb()}if(2&e){var r=t.$implicit,o=i.jc(3);i.Lb("bs-datepicker-multiple",o.multipleCalendars),i.sc("calendar",r)}}function U(e,t){if(1&e&&(i.Zb(0,"div",7),i.Qc(1,H,1,3,"bs-month-calendar-view",10),i.kc(2,"async"),i.Yb()),2&e){var n=i.jc(2);i.Hb(1),i.sc("ngForOf",i.lc(2,1,n.monthsCalendar))}}function Y(e,t){if(1&e){var n=i.ac();i.Zb(0,"bs-years-calendar-view",11),i.hc("onNavigate",(function(e){return i.Hc(n),i.jc(3).navigateTo(e)}))("onViewMode",(function(e){return i.Hc(n),i.jc(3).setViewMode(e)}))("onHover",(function(e){return i.Hc(n),i.jc(3).yearHoverHandler(e)}))("onSelect",(function(e){return i.Hc(n),i.jc(3).yearSelectHandler(e)})),i.Yb()}if(2&e){var r=t.$implicit,o=i.jc(3);i.Lb("bs-datepicker-multiple",o.multipleCalendars),i.sc("calendar",r)}}function G(e,t){if(1&e&&(i.Zb(0,"div",7),i.Qc(1,Y,1,3,"bs-years-calendar-view",10),i.kc(2,"async"),i.Yb()),2&e){var n=i.jc(2);i.Hb(1),i.sc("ngForOf",i.lc(2,1,n.yearsCalendar))}}function V(e,t){1&e&&(i.Zb(0,"div",12),i.Zb(1,"button",13),i.Sc(2,"Apply"),i.Yb(),i.Zb(3,"button",14),i.Sc(4,"Cancel"),i.Yb(),i.Yb())}function Z(e,t){if(1&e){var n=i.ac();i.Zb(0,"div",17),i.Zb(1,"button",18),i.hc("click",(function(){return i.Hc(n),i.jc(3).setToday()})),i.Sc(2),i.Yb(),i.Yb()}if(2&e){var r=i.jc(3);i.Lb("today-left","left"===r.todayPos)("today-right","right"===r.todayPos)("today-center","center"===r.todayPos),i.Hb(2),i.Tc(r.todayBtnLbl)}}function W(e,t){if(1&e){var n=i.ac();i.Zb(0,"div",19),i.Zb(1,"button",18),i.hc("click",(function(){return i.Hc(n),i.jc(3).clearDate()})),i.Sc(2),i.Yb(),i.Yb()}if(2&e){var r=i.jc(3);i.Lb("clear-left","left"===r.clearPos)("clear-right","right"===r.clearPos)("clear-center","center"===r.clearPos),i.Hb(2),i.Tc(r.clearBtnLbl)}}function K(e,t){if(1&e&&(i.Zb(0,"div",12),i.Qc(1,Z,3,7,"div",15),i.Qc(2,W,3,7,"div",16),i.Yb()),2&e){var n=i.jc(2);i.Hb(1),i.sc("ngIf",n.showTodayBtn),i.Hb(1),i.sc("ngIf",n.showClearBtn)}}function z(e,t){if(1&e){var n=i.ac();i.Zb(0,"div",20),i.Zb(1,"bs-custom-date-view",21),i.hc("onSelect",(function(e){return i.Hc(n),i.jc(2).setRangeOnCalendar(e)})),i.Yb(),i.Yb()}if(2&e){var r=i.jc(2);i.Hb(1),i.sc("selectedRange",r.chosenRange)("ranges",r.customRanges)("customRangeLabel",r.customRangeBtnLbl)}}function Q(e,t){if(1&e){var n=i.ac();i.Zb(0,"div",1),i.Zb(1,"div",2),i.hc("@datepickerAnimation.done",(function(){return i.Hc(n),i.jc().positionServiceEnable()})),i.Zb(2,"div",3),i.kc(3,"async"),i.Qc(4,F,3,3,"div",4),i.Qc(5,U,3,3,"div",4),i.Qc(6,G,3,3,"div",4),i.Yb(),i.Qc(7,V,5,0,"div",5),i.Qc(8,K,3,2,"div",5),i.Yb(),i.Qc(9,z,2,3,"div",6),i.Yb()}if(2&e){var r=i.jc();i.sc("ngClass",r.containerClass),i.Hb(1),i.sc("@datepickerAnimation",r.animationState),i.Hb(1),i.sc("ngSwitch",i.lc(3,9,r.viewMode)),i.Hb(2),i.sc("ngSwitchCase","day"),i.Hb(1),i.sc("ngSwitchCase","month"),i.Hb(1),i.sc("ngSwitchCase","year"),i.Hb(1),i.sc("ngIf",!1),i.Hb(1),i.sc("ngIf",r.showTodayBtn||r.showClearBtn),i.Hb(1),i.sc("ngIf",r.customRanges&&r.customRanges.length>0)}}function X(e,t){1&e&&i.Ub(0,"bs-current-date",4)}function q(e,t){1&e&&i.Ub(0,"bs-timepicker")}var $=[[["bs-datepicker-navigation-view"]],"*"],J=["bs-datepicker-navigation-view","*"];function ee(e,t){if(1&e){var n=i.ac();i.Zb(0,"button",2),i.hc("click",(function(){i.Hc(n);var e=t.$implicit;return i.jc().selectFromRanges(e)})),i.Sc(1),i.Yb()}if(2&e){var r=t.$implicit,o=i.jc();i.Lb("selected",r.value===o.selectedRange),i.Hb(1),i.Uc(" ",r.label," ")}}var te=["bsDatepickerDayDecorator",""];function ne(e,t){if(1&e){var n=i.ac();i.Xb(0),i.Sc(1," \u200b "),i.Zb(2,"button",2),i.hc("click",(function(){return i.Hc(n),i.jc().view("month")})),i.Zb(3,"span"),i.Sc(4),i.Yb(),i.Yb(),i.Wb()}if(2&e){var r=i.jc();i.Hb(4),i.Tc(r.calendar.monthTitle)}}function ie(e,t){1&e&&i.Ub(0,"th")}function re(e,t){if(1&e&&(i.Zb(0,"th",5),i.Sc(1),i.Yb()),2&e){var n=t.index,r=i.jc();i.Hb(1),i.Uc("",r.calendar.weekdays[n]," ")}}function oe(e,t){if(1&e){var n=i.ac();i.Zb(0,"span",11),i.hc("click",(function(){i.Hc(n);var e=i.jc(2).$implicit;return i.jc().selectWeek(e)})),i.Sc(1),i.Yb()}if(2&e){var r=i.jc(2).index,o=i.jc();i.Hb(1),i.Tc(o.calendar.weekNumbers[r])}}function ae(e,t){if(1&e){var n=i.ac();i.Zb(0,"span",12),i.hc("click",(function(){i.Hc(n);var e=i.jc(2).$implicit;return i.jc().selectWeek(e)}))("mouseenter",(function(){i.Hc(n);var e=i.jc(2).$implicit;return i.jc().weekHoverHandler(e,!0)}))("mouseleave",(function(){i.Hc(n);var e=i.jc(2).$implicit;return i.jc().weekHoverHandler(e,!1)})),i.Sc(1),i.Yb()}if(2&e){var r=i.jc(2).index,o=i.jc();i.Hb(1),i.Tc(o.calendar.weekNumbers[r])}}function se(e,t){if(1&e&&(i.Zb(0,"td",8),i.Qc(1,oe,2,1,"span",9),i.Qc(2,ae,2,1,"span",10),i.Yb()),2&e){var n=i.jc(2);i.Lb("active-week",n.isWeekHovered),i.Hb(1),i.sc("ngIf",n.isiOS),i.Hb(1),i.sc("ngIf",!n.isiOS)}}function ce(e,t){if(1&e){var n=i.ac();i.Zb(0,"span",17),i.hc("click",(function(){i.Hc(n);var e=i.jc().$implicit;return i.jc(2).selectDay(e)}))("mouseenter",(function(){i.Hc(n);var e=i.jc().$implicit;return i.jc(2).hoverDay(e,!0)}))("mouseleave",(function(){i.Hc(n);var e=i.jc().$implicit;return i.jc(2).hoverDay(e,!1)})),i.Sc(1),i.Yb()}if(2&e){var r=i.jc().$implicit;i.tc("tooltip",r.tooltipText),i.sc("day",r),i.Hb(1),i.Uc("",r.label," 3")}}function le(e,t){if(1&e){var n=i.ac();i.Zb(0,"span",18),i.hc("click",(function(){i.Hc(n);var e=i.jc().$implicit;return i.jc(2).selectDay(e)}))("mouseenter",(function(){i.Hc(n);var e=i.jc().$implicit;return i.jc(2).hoverDay(e,!0)}))("mouseleave",(function(){i.Hc(n);var e=i.jc().$implicit;return i.jc(2).hoverDay(e,!1)})),i.Sc(1),i.Yb()}if(2&e){var r=i.jc().$implicit;i.sc("day",r),i.Hb(1),i.Uc("",r.label," 2")}}function ue(e,t){if(1&e){var n=i.ac();i.Zb(0,"span",19),i.hc("click",(function(){i.Hc(n);var e=i.jc().$implicit;return i.jc(2).selectDay(e)})),i.Sc(1),i.Yb()}if(2&e){var r=i.jc().$implicit;i.sc("day",r),i.Hb(1),i.Uc("",r.label," 1")}}function de(e,t){if(1&e&&(i.Zb(0,"td",13),i.Qc(1,ce,2,3,"span",14),i.Qc(2,le,2,2,"span",15),i.Qc(3,ue,2,2,"span",16),i.Yb()),2&e){var n=i.jc(2);i.Hb(1),i.sc("ngIf",!n.isiOS&&n.isShowTooltip),i.Hb(1),i.sc("ngIf",!n.isiOS&&!n.isShowTooltip),i.Hb(1),i.sc("ngIf",n.isiOS)}}function he(e,t){if(1&e&&(i.Zb(0,"tr"),i.Qc(1,se,3,4,"td",6),i.Qc(2,de,4,3,"td",7),i.Yb()),2&e){var n=t.$implicit,r=i.jc();i.Hb(1),i.sc("ngIf",r.options&&r.options.showWeekNumbers),i.Hb(1),i.sc("ngForOf",n.days)}}function fe(e,t){if(1&e){var n=i.ac();i.Zb(0,"td",4),i.hc("click",(function(){i.Hc(n);var e=t.$implicit;return i.jc(2).viewMonth(e)}))("mouseenter",(function(){i.Hc(n);var e=t.$implicit;return i.jc(2).hoverMonth(e,!0)}))("mouseleave",(function(){i.Hc(n);var e=t.$implicit;return i.jc(2).hoverMonth(e,!1)})),i.Zb(1,"span"),i.Sc(2),i.Yb(),i.Yb()}if(2&e){var r=t.$implicit;i.Lb("disabled",r.isDisabled)("is-highlighted",r.isHovered),i.Hb(1),i.Lb("selected",r.isSelected),i.Hb(1),i.Tc(r.label)}}function pe(e,t){if(1&e&&(i.Zb(0,"tr"),i.Qc(1,fe,3,7,"td",3),i.Yb()),2&e){var n=t.$implicit;i.Hb(1),i.sc("ngForOf",n)}}function ge(e,t){if(1&e){var n=i.ac();i.Zb(0,"td",4),i.hc("click",(function(){i.Hc(n);var e=t.$implicit;return i.jc(2).viewYear(e)}))("mouseenter",(function(){i.Hc(n);var e=t.$implicit;return i.jc(2).hoverYear(e,!0)}))("mouseleave",(function(){i.Hc(n);var e=t.$implicit;return i.jc(2).hoverYear(e,!1)})),i.Zb(1,"span"),i.Sc(2),i.Yb(),i.Yb()}if(2&e){var r=t.$implicit;i.Lb("disabled",r.isDisabled)("is-highlighted",r.isHovered),i.Hb(1),i.Lb("selected",r.isSelected),i.Hb(1),i.Tc(r.label)}}function ve(e,t){if(1&e&&(i.Zb(0,"tr"),i.Qc(1,ge,3,7,"td",3),i.Yb()),2&e){var n=t.$implicit;i.Hb(1),i.sc("ngForOf",n)}}var me,be,ye,_e,Ce=((me=function e(){_classCallCheck(this,e),this.adaptivePosition=!1,this.useUtc=!1,this.isAnimated=!1,this.startView="day",this.returnFocusToInput=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w",this.showTodayButton=!1,this.showClearButton=!1,this.todayPosition="center",this.clearPosition="right",this.todayButtonLabel="Today",this.clearButtonLabel="Clear",this.customRangeButtonLabel="Custom Range"}).\u0275fac=function(e){return new(e||me)},me.\u0275prov=Object(i.Pb)({factory:function(){return new me},token:me,providedIn:"root"}),me),ke=Object(d.n)("datepickerAnimation",[Object(d.k)("animated-down",Object(d.l)({height:"*",overflow:"hidden"})),Object(d.m)("* => animated-down",[Object(d.l)({height:0,overflow:"hidden"}),Object(d.e)("220ms cubic-bezier(0, 0, 0.2, 1)")]),Object(d.k)("animated-up",Object(d.l)({height:"*",overflow:"hidden"})),Object(d.m)("* => animated-up",[Object(d.l)({height:"*",overflow:"hidden"}),Object(d.e)("220ms cubic-bezier(0, 0, 0.2, 1)")]),Object(d.m)("* => unanimated",Object(d.e)("0s"))]),Se=((_e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"calculate",value:function(){return{type:e.CALCULATE}}},{key:"format",value:function(){return{type:e.FORMAT}}},{key:"flag",value:function(){return{type:e.FLAG}}},{key:"select",value:function(t){return{type:e.SELECT,payload:t}}},{key:"changeViewMode",value:function(t){return{type:e.CHANGE_VIEWMODE,payload:t}}},{key:"navigateTo",value:function(t){return{type:e.NAVIGATE_TO,payload:t}}},{key:"navigateStep",value:function(t){return{type:e.NAVIGATE_OFFSET,payload:t}}},{key:"setOptions",value:function(t){return{type:e.SET_OPTIONS,payload:t}}},{key:"selectRange",value:function(t){return{type:e.SELECT_RANGE,payload:t}}},{key:"hoverDay",value:function(t){return{type:e.HOVER,payload:t.isHovered?t.cell.date:null}}},{key:"minDate",value:function(t){return{type:e.SET_MIN_DATE,payload:t}}},{key:"maxDate",value:function(t){return{type:e.SET_MAX_DATE,payload:t}}},{key:"daysDisabled",value:function(t){return{type:e.SET_DAYSDISABLED,payload:t}}},{key:"datesDisabled",value:function(t){return{type:e.SET_DATESDISABLED,payload:t}}},{key:"datesEnabled",value:function(t){return{type:e.SET_DATESENABLED,payload:t}}},{key:"isDisabled",value:function(t){return{type:e.SET_IS_DISABLED,payload:t}}},{key:"setDateCustomClasses",value:function(t){return{type:e.SET_DATE_CUSTOM_CLASSES,payload:t}}},{key:"setDateTooltipTexts",value:function(t){return{type:e.SET_DATE_TOOLTIP_TEXTS,payload:t}}},{key:"setLocale",value:function(t){return{type:e.SET_LOCALE,payload:t}}}]),e}()).\u0275fac=function(e){return new(e||_e)},_e.\u0275prov=i.Pb({token:_e,factory:_e.\u0275fac}),_e.CALCULATE="[datepicker] calculate dates matrix",_e.FORMAT="[datepicker] format datepicker values",_e.FLAG="[datepicker] set flags",_e.SELECT="[datepicker] select date",_e.NAVIGATE_OFFSET="[datepicker] shift view date",_e.NAVIGATE_TO="[datepicker] change view date",_e.SET_OPTIONS="[datepicker] update render options",_e.HOVER="[datepicker] hover date",_e.CHANGE_VIEWMODE="[datepicker] switch view mode",_e.SET_MIN_DATE="[datepicker] set min date",_e.SET_MAX_DATE="[datepicker] set max date",_e.SET_DAYSDISABLED="[datepicker] set days disabled",_e.SET_DATESDISABLED="[datepicker] set dates disabled",_e.SET_DATESENABLED="[datepicker] set dates enabled",_e.SET_IS_DISABLED="[datepicker] set is disabled",_e.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes",_e.SET_DATE_TOOLTIP_TEXTS="[datepicker] set date tooltip texts",_e.SET_LOCALE="[datepicker] set datepicker locale",_e.SELECT_RANGE="[daterangepicker] select dates range",_e),Oe=((ye=function(){function e(){_classCallCheck(this,e),this._defaultLocale="en",this._locale=new f.a(this._defaultLocale),this._localeChange=this._locale.asObservable()}return _createClass(e,[{key:"use",value:function(e){e!==this.currentLocale&&this._locale.next(e)}},{key:"locale",get:function(){return this._locale}},{key:"localeChange",get:function(){return this._localeChange}},{key:"currentLocale",get:function(){return this._locale.getValue()}}]),e}()).\u0275fac=function(e){return new(e||ye)},ye.\u0275prov=i.Pb({token:ye,factory:ye.\u0275fac}),ye),Te=((be=function(){function e(t,n){_classCallCheck(this,e),this._actions=t,this._localeService=n,this._subs=[]}return _createClass(e,[{key:"init",value:function(e){return this._store=e,this}},{key:"setValue",value:function(e){var t;null===(t=this._store)||void 0===t||t.dispatch(this._actions.select(e))}},{key:"setRangeValue",value:function(e){var t;null===(t=this._store)||void 0===t||t.dispatch(this._actions.selectRange(e))}},{key:"setMinDate",value:function(e){var t;return null===(t=this._store)||void 0===t||t.dispatch(this._actions.minDate(e)),this}},{key:"setMaxDate",value:function(e){var t;return null===(t=this._store)||void 0===t||t.dispatch(this._actions.maxDate(e)),this}},{key:"setDaysDisabled",value:function(e){var t;return null===(t=this._store)||void 0===t||t.dispatch(this._actions.daysDisabled(e)),this}},{key:"setDatesDisabled",value:function(e){var t;return null===(t=this._store)||void 0===t||t.dispatch(this._actions.datesDisabled(e)),this}},{key:"setDatesEnabled",value:function(e){var t;return null===(t=this._store)||void 0===t||t.dispatch(this._actions.datesEnabled(e)),this}},{key:"setDisabled",value:function(e){var t;return null===(t=this._store)||void 0===t||t.dispatch(this._actions.isDisabled(e)),this}},{key:"setDateCustomClasses",value:function(e){var t;return null===(t=this._store)||void 0===t||t.dispatch(this._actions.setDateCustomClasses(e)),this}},{key:"setDateTooltipTexts",value:function(e){var t;return null===(t=this._store)||void 0===t||t.dispatch(this._actions.setDateTooltipTexts(e)),this}},{key:"setOptions",value:function(e){var t,n=Object.assign({locale:this._localeService.currentLocale},e);return null===(t=this._store)||void 0===t||t.dispatch(this._actions.setOptions(n)),this}},{key:"setBindings",value:function(e){return this._store?(e.daysCalendar$=this._store.select((function(e){return e.flaggedMonths})).pipe(Object(r.a)((function(e){return!!e}))),e.monthsCalendar=this._store.select((function(e){return e.flaggedMonthsCalendar})).pipe(Object(r.a)((function(e){return!!e}))),e.yearsCalendar=this._store.select((function(e){return e.yearsCalendarFlagged})).pipe(Object(r.a)((function(e){return!!e}))),e.viewMode=this._store.select((function(e){var t;return null===(t=e.view)||void 0===t?void 0:t.mode})),e.options$=Object(p.a)([this._store.select((function(e){return e.showWeekNumbers})),this._store.select((function(e){return e.displayMonths}))]).pipe(Object(o.a)((function(e){return{showWeekNumbers:e[0],displayMonths:e[1]}}))),this):this}},{key:"setEventHandlers",value:function(e){var t=this;return e.setViewMode=function(e){var n;null===(n=t._store)||void 0===n||n.dispatch(t._actions.changeViewMode(e))},e.navigateTo=function(e){var n;null===(n=t._store)||void 0===n||n.dispatch(t._actions.navigateStep(e.step))},e.dayHoverHandler=function(e){var n,i=e.cell;i.isOtherMonth||i.isDisabled||(null===(n=t._store)||void 0===n||n.dispatch(t._actions.hoverDay(e)),i.isHovered=e.isHovered)},e.monthHoverHandler=function(e){e.cell.isHovered=e.isHovered},e.yearHoverHandler=function(e){e.cell.isHovered=e.isHovered},this}},{key:"registerDatepickerSideEffects",value:function(){var e=this;return this._store?(this._subs.push(this._store.select((function(e){return e.view})).subscribe((function(){var t;null===(t=e._store)||void 0===t||t.dispatch(e._actions.calculate())}))),this._subs.push(this._store.select((function(e){return e.monthsModel})).pipe(Object(r.a)((function(e){return!!e}))).subscribe((function(){var t;return null===(t=e._store)||void 0===t?void 0:t.dispatch(e._actions.format())}))),this._subs.push(this._store.select((function(e){return e.formattedMonths})).pipe(Object(r.a)((function(e){return!!e}))).subscribe((function(){var t;return null===(t=e._store)||void 0===t?void 0:t.dispatch(e._actions.flag())}))),this._subs.push(this._store.select((function(e){return e.selectedDate})).pipe(Object(r.a)((function(e){return!!e}))).subscribe((function(){var t;return null===(t=e._store)||void 0===t?void 0:t.dispatch(e._actions.flag())}))),this._subs.push(this._store.select((function(e){return e.selectedRange})).pipe(Object(r.a)((function(e){return!!e}))).subscribe((function(){var t;return null===(t=e._store)||void 0===t?void 0:t.dispatch(e._actions.flag())}))),this._subs.push(this._store.select((function(e){return e.monthsCalendar})).subscribe((function(){var t;return null===(t=e._store)||void 0===t?void 0:t.dispatch(e._actions.flag())}))),this._subs.push(this._store.select((function(e){return e.yearsCalendarModel})).pipe(Object(r.a)((function(e){return!!e}))).subscribe((function(){var t;return null===(t=e._store)||void 0===t?void 0:t.dispatch(e._actions.flag())}))),this._subs.push(this._store.select((function(e){return e.hoveredDate})).pipe(Object(r.a)((function(e){return!!e}))).subscribe((function(){var t;return null===(t=e._store)||void 0===t?void 0:t.dispatch(e._actions.flag())}))),this._subs.push(this._store.select((function(e){return e.dateCustomClasses})).pipe(Object(r.a)((function(e){return!!e}))).subscribe((function(){var t;return null===(t=e._store)||void 0===t?void 0:t.dispatch(e._actions.flag())}))),this._subs.push(this._store.select((function(e){return e.dateTooltipTexts})).pipe(Object(r.a)((function(e){return!!e}))).subscribe((function(){var t;return null===(t=e._store)||void 0===t?void 0:t.dispatch(e._actions.flag())}))),this._subs.push(this._localeService.localeChange.subscribe((function(t){var n;return null===(n=e._store)||void 0===n?void 0:n.dispatch(e._actions.setLocale(t))}))),this):this}},{key:"destroy",value:function(){var e,t=_createForOfIteratorHelper(this._subs);try{for(t.s();!(e=t.n()).done;)e.value.unsubscribe()}catch(n){t.e(n)}finally{t.f()}}}]),e}()).\u0275fac=function(e){return new(e||be)(i.dc(Se),i.dc(Oe))},be.\u0275prov=i.Pb({token:be,factory:be.\u0275fac}),be),we={date:new Date,mode:"day"},Ae=Object.assign(new Ce,{locale:"en",view:we,selectedRange:[],monthViewOptions:{width:7,height:6}});function Ee(e,t,n){var i=t&&Object(l.m)(Object(l.b)(e,"month"),t,"day"),r=n&&Object(l.k)(Object(l.y)(e,"month"),n,"day");return i||r||!1}function Pe(e,t,n){var i=t&&Object(l.m)(Object(l.b)(e,"year"),t,"day"),r=n&&Object(l.k)(Object(l.y)(e,"year"),n,"day");return i||r||!1}function Me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e&&e.yearsCalendarModel&&e.yearsCalendarModel[t];return(null==n?void 0:n.years[0])&&n.years[0][0]&&n.years[0][0].date}function xe(e,t){return e&&t&&(e.length||e[0].value)?(e.forEach((function(n){return n&&n.value?n.value instanceof Date?e:n.value instanceof Array&&n.value.length?(n.value=De(n.value,t),e):e:e})),e):e}function De(e,t){return e instanceof Array?e.map((function(e){return e?(Object(l.k)(e,t,"date")&&(e=t),e):e})):e}function Ie(e,t){for(var n=e.initialDate,i=new Array(e.height),r=0;r<e.height;r++){i[r]=new Array(e.width);for(var o=0;o<e.width;o++)i[r][o]=t(n),n=Object(l.x)(n,e.shift)}return i}function Le(e,t){var n=Object(l.g)(e),i=function(e,t){if(Object(l.q)(e,t.firstDayOfWeek))return e;var n=function(e,t){var n=Number(t);if(isNaN(n))return 0;if(0===n)return e;var i=e-n%7;return i<0?i+7:i}(Object(l.f)(e),t.firstDayOfWeek);return Object(l.x)(e,{day:-n})}(n,t);return{daysMatrix:Ie({width:t.width||0,height:t.height||0,initialDate:i,shift:{day:1}},(function(e){return e})),month:n}}function Re(e){var t=Object(l.i)(e),n=t.weekdaysShort(),i=t.firstDayOfWeek();return[].concat(_toConsumableArray2(n.slice(i)),_toConsumableArray2(n.slice(0,i)))}function Ne(e,t){return!t||e>=t}var je={month:1};function Be(e,t){return{months:Ie({width:3,height:4,initialDate:Object(l.y)(e,"year"),shift:je},(function(e){return{date:e,label:Object(l.e)(e,t.monthLabel,t.locale)}})),monthTitle:"",yearTitle:Object(l.e)(e,t.yearTitle,t.locale),hideRightArrow:!1,hideLeftArrow:!1,disableRightArrow:!1,disableLeftArrow:!1}}var Fe=-1*(Math.floor(8)-1),He={year:1};function Ue(e,t,n){var i=Ie({width:4,height:4,initialDate:function(e,t){return t&&e.getFullYear()>=t.getFullYear()&&e.getFullYear()<t.getFullYear()+16?t:Object(l.x)(e,{year:Fe})}(e,n),shift:He},(function(e){return{date:e,label:Object(l.e)(e,t.yearLabel,t.locale)}}));return{years:i,monthTitle:"",yearTitle:function(e,t){return"".concat(Object(l.e)(e[0][0].date,t.yearTitle,t.locale)," - ").concat(Object(l.e)(e[3][3].date,t.yearTitle,t.locale))}(i,t),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}function Ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se.CALCULATE:return function(e){if(!e.view)return e;var t;t=e.displayOneMonthRange&&Ze(e.view.date,e.minDate,e.maxDate)?1:e.displayMonths||1;var n=e.view.date;if("day"===e.view.mode&&e.monthViewOptions){e.showPreviousMonth&&e.selectedRange&&0===e.selectedRange.length&&(n=Object(l.x)(n,{month:-1})),e.monthViewOptions.firstDayOfWeek=Object(l.i)(e.locale).firstDayOfWeek();for(var i=new Array(t),r=0;r<t;r++)i[r]=Le(n,e.monthViewOptions),n=Object(l.x)(n,{month:1});if(e.preventChangeToNextMonth&&e.flaggedMonths&&e.hoveredDate){var o=Le(e.view.date,e.monthViewOptions);e.flaggedMonths.length&&e.flaggedMonths[1].month.getMonth()===o.month.getMonth()&&(i=e.flaggedMonths.map((function(t){return e.monthViewOptions?Le(t.month,e.monthViewOptions):null})).filter((function(e){return null!==e})))}return Object.assign({},e,{monthsModel:i})}if("month"===e.view.mode){for(var a=new Array(t),s=0;s<t;s++)a[s]=Be(n,Ge(e)),n=Object(l.x)(n,{year:1});return Object.assign({},e,{monthsCalendar:a})}if("year"===e.view.mode){for(var c=new Array(t),u=0;u<t;u++)c[u]=Ue(n,Ge(e),"year"===e.minMode?Me(e,u):void 0),n=Object(l.x)(n,{year:16});return Object.assign({},e,{yearsCalendarModel:c})}return e}(e);case Se.FORMAT:return function(e){if(!e.view)return e;if("day"===e.view.mode&&e.monthsModel){var t=e.monthsModel.map((function(t,n){return function(e,t,n){return{month:e.month,monthTitle:Object(l.e)(e.month,t.monthTitle,t.locale),yearTitle:Object(l.e)(e.month,t.yearTitle,t.locale),weekNumbers:(i=e.daysMatrix,r=t.weekNumbers,o=t.locale,i.map((function(e){return e[0]?Object(l.e)(e[0],r,o):""}))),weekdays:Re(t.locale),weeks:e.daysMatrix.map((function(e,i){return{days:e.map((function(e,r){return{date:e,label:Object(l.e)(e,t.dayLabel,t.locale),monthIndex:n,weekIndex:i,dayIndex:r}}))}})),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1};var i,r,o}(t,Ge(e),n)}));return Object.assign({},e,{formattedMonths:t})}var n=e.displayMonths||1,i=e.view.date;if("month"===e.view.mode){for(var r=new Array(n),o=0;o<n;o++)r[o]=Be(i,Ge(e)),i=Object(l.x)(i,{year:1});return Object.assign({},e,{monthsCalendar:r})}if("year"===e.view.mode){for(var a=new Array(n),s=0;s<n;s++)a[s]=Ue(i,Ge(e)),i=Object(l.x)(i,{year:16});return Object.assign({},e,{yearsCalendarModel:a})}return e}(e);case Se.FLAG:return function(e){if(!e.view)return e;var t=Ze(e.view.date,e.minDate,e.maxDate)?1:e.displayMonths;if(e.formattedMonths&&"day"===e.view.mode){var n=e.formattedMonths.map((function(n,i){return function(e,t){return e.weeks.forEach((function(n){n.days.forEach((function(i,r){var o,a,s=!Object(l.t)(i.date,e.month),c=!s&&Object(l.s)(i.date,t.hoveredDate),u=!s&&t.selectedRange&&Object(l.s)(i.date,t.selectedRange[0]),d=!s&&t.selectedRange&&Object(l.s)(i.date,t.selectedRange[1]),h=!s&&Object(l.s)(i.date,t.selectedDate)||u||d,f=!s&&t.selectedRange&&function(e,t,n){return!!(e&&t&&t[0])&&(t[1]?e>t[0]&&e<=t[1]:!!n&&e>t[0]&&e<=n)}(i.date,t.selectedRange,t.hoveredDate),p=t.isDisabled||Object(l.m)(i.date,t.minDate,"day")||Object(l.k)(i.date,t.maxDate,"day")||Object(l.p)(i.date,t.daysDisabled)||(o=i.date,!!((a=t.datesDisabled)&&Object(l.l)(a)&&a.length)&&a.some((function(e){return Object(l.r)(o,e,"date")})))||function(e,t){return!!(t&&Object(l.l)(t)&&t.length)&&!t.some((function(t){return Object(l.r)(e,t,"date")}))}(i.date,t.datesEnabled),g=new Date,v=!s&&Object(l.s)(i.date,g),m=t.dateCustomClasses&&t.dateCustomClasses.map((function(e){return Object(l.s)(i.date,e.date)?e.classes:[]})).reduce((function(e,t){return e.concat(t)}),[]).join(" ")||"",b=t.dateTooltipTexts&&t.dateTooltipTexts.map((function(e){return Object(l.s)(i.date,e.date)?e.tooltipText:""})).reduce((function(e,t){return e.push(t),e}),[]).join(" ")||"",y=Object.assign({},i,{isOtherMonth:s,isHovered:c,isSelected:h,isSelectionStart:u,isSelectionEnd:d,isInRange:f,isDisabled:p,isToday:v,customClasses:m,tooltipText:b});i.isOtherMonth===y.isOtherMonth&&i.isHovered===y.isHovered&&i.isSelected===y.isSelected&&i.isSelectionStart===y.isSelectionStart&&i.isSelectionEnd===y.isSelectionEnd&&i.isDisabled===y.isDisabled&&i.isInRange===y.isInRange&&i.customClasses===y.customClasses&&i.tooltipText===y.tooltipText||(n.days[r]=y)}))})),e.hideLeftArrow=t.isDisabled||!!t.monthIndex&&t.monthIndex>0&&t.monthIndex!==t.displayMonths,e.hideRightArrow=t.isDisabled||(!!t.monthIndex||0===t.monthIndex)&&!!t.displayMonths&&t.monthIndex<t.displayMonths&&t.monthIndex+1!==t.displayMonths,e.disableLeftArrow=Ee(Object(l.x)(e.month,{month:-1}),t.minDate,t.maxDate),e.disableRightArrow=Ee(Object(l.x)(e.month,{month:1}),t.minDate,t.maxDate),e}(n,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,daysDisabled:e.daysDisabled,datesDisabled:e.datesDisabled,datesEnabled:e.datesEnabled,hoveredDate:e.hoveredDate,selectedDate:e.selectedDate,selectedRange:e.selectedRange,displayMonths:t,dateCustomClasses:e.dateCustomClasses,dateTooltipTexts:e.dateTooltipTexts,monthIndex:i})}));return Object.assign({},e,{flaggedMonths:n})}if("month"===e.view.mode&&e.monthsCalendar){var i=e.monthsCalendar.map((function(n,i){return o={isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,hoveredMonth:e.hoveredMonth,selectedDate:e.selectedDate,selectedRange:e.selectedRange,displayMonths:t,monthIndex:i},(r=n).months.forEach((function(e,t){e.forEach((function(e,n){var i,a=Object(l.t)(e.date,o.hoveredMonth),s=o.isDisabled||Ee(e.date,o.minDate,o.maxDate);!o.selectedDate&&o.selectedRange?(i=Object(l.t)(e.date,o.selectedRange[0]))||(i=Object(l.t)(e.date,o.selectedRange[1])):i=Object(l.t)(e.date,o.selectedDate);var c=Object.assign(e,{isHovered:a,isDisabled:s,isSelected:i});e.isHovered===c.isHovered&&e.isDisabled===c.isDisabled&&e.isSelected===c.isSelected||(r.months[t][n]=c)}))})),r.hideLeftArrow=!!o.monthIndex&&o.monthIndex>0&&o.monthIndex!==o.displayMonths,r.hideRightArrow=(!!o.monthIndex||0===o.monthIndex)&&(!!o.displayMonths||0===o.displayMonths)&&o.monthIndex<o.displayMonths&&o.monthIndex+1!==o.displayMonths,r.disableLeftArrow=Pe(Object(l.x)(r.months[0][0].date,{year:-1}),o.minDate,o.maxDate),r.disableRightArrow=Pe(Object(l.x)(r.months[0][0].date,{year:1}),o.minDate,o.maxDate),r;var r,o}));return Object.assign({},e,{flaggedMonthsCalendar:i})}if("year"===e.view.mode&&e.yearsCalendarModel){var r=e.yearsCalendarModel.map((function(n,i){return function(e,t){e.years.forEach((function(n,i){n.forEach((function(n,r){var o,a=Object(l.u)(n.date,t.hoveredYear),s=t.isDisabled||Pe(n.date,t.minDate,t.maxDate);!t.selectedDate&&t.selectedRange?(o=Object(l.u)(n.date,t.selectedRange[0]))||(o=Object(l.u)(n.date,t.selectedRange[1])):o=Object(l.u)(n.date,t.selectedDate);var c=Object.assign(n,{isHovered:a,isDisabled:s,isSelected:o});n.isHovered===c.isHovered&&n.isDisabled===c.isDisabled&&n.isSelected===c.isSelected||(e.years[i][r]=c)}))})),e.hideLeftArrow=!!t.yearIndex&&t.yearIndex>0&&t.yearIndex!==t.displayMonths,e.hideRightArrow=!!t.yearIndex&&!!t.displayMonths&&t.yearIndex<t.displayMonths&&t.yearIndex+1!==t.displayMonths,e.disableLeftArrow=Pe(Object(l.x)(e.years[0][0].date,{year:-1}),t.minDate,t.maxDate);var n=e.years.length-1,i=e.years[n].length-1;return e.disableRightArrow=Pe(Object(l.x)(e.years[n][i].date,{year:1}),t.minDate,t.maxDate),e}(n,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,hoveredYear:e.hoveredYear,selectedDate:e.selectedDate,selectedRange:e.selectedRange,displayMonths:t,yearIndex:i})}));return Object.assign({},e,{yearsCalendarFlagged:r})}return e}(e);case Se.NAVIGATE_OFFSET:return function(e,t){if(!e.view)return e;var n=function(e,t){if(e.view){if("year"===e.view.mode&&"year"===e.minMode){var n=Me(e,0);if(n){var i=Object(l.x)(n,{year:-Fe});return Object(l.x)(i,t.payload)}}return Object(l.x)(Object(l.y)(e.view.date,"month"),t.payload)}}(e,t);return n?Object.assign({},e,{view:{mode:e.view.mode,date:n}}):e}(e,t);case Se.NAVIGATE_TO:var n=t.payload;if(!e.view||!n.unit)return e;var i,r=Object(l.w)(e.view.date,n.unit);return Ne(n.viewMode,e.minMode)?i={view:{date:r,mode:n.viewMode}}:i={selectedDate:r,view:{date:r,mode:e.view.mode}},Object.assign({},e,i);case Se.CHANGE_VIEWMODE:return Ne(t.payload,e.minMode)&&e.view?Object.assign({},e,{view:{date:e.view.date,mode:t.payload}}):e;case Se.HOVER:return Object.assign({},e,{hoveredDate:t.payload});case Se.SELECT:if(!e.view)return e;var o={selectedDate:t.payload,view:e.view},a=e.view.mode,s=Ve(t.payload||e.view.date,e.minDate,e.maxDate);return o.view={mode:a,date:s},Object.assign({},e,o);case Se.SET_OPTIONS:if(!e.view)return e;var c=t.payload,u=c.minMode?c.minMode:e.view.mode,d=Ve(Object(l.o)(c.value)&&c.value||Object(l.l)(c.value)&&Object(l.o)(c.value[0])&&c.value[0]||e.view.date,c.minDate,c.maxDate);return c.view={mode:u,date:d},c.value&&(Object(l.l)(c.value)&&(c.selectedRange=c.value),c.value instanceof Date&&(c.selectedDate=c.value)),Object.assign({},e,c);case Se.SELECT_RANGE:if(!e.view)return e;var h={selectedRange:t.payload,view:e.view},f=e.view.mode,p=Ve(t.payload&&t.payload[0]||e.view.date,e.minDate,e.maxDate);return h.view={mode:f,date:p},Object.assign({},e,h);case Se.SET_MIN_DATE:return Object.assign({},e,{minDate:t.payload});case Se.SET_MAX_DATE:return Object.assign({},e,{maxDate:t.payload});case Se.SET_IS_DISABLED:return Object.assign({},e,{isDisabled:t.payload});case Se.SET_DATE_CUSTOM_CLASSES:return Object.assign({},e,{dateCustomClasses:t.payload});case Se.SET_DATE_TOOLTIP_TEXTS:return Object.assign({},e,{dateTooltipTexts:t.payload});default:return e}}function Ge(e){return{locale:e.locale,monthTitle:e.monthTitle,yearTitle:e.yearTitle,dayLabel:e.dayLabel,monthLabel:e.monthLabel,yearLabel:e.yearLabel,weekNumbers:e.weekNumbers}}function Ve(e,t,n){var i=Array.isArray(e)?e[0]:e;return t&&Object(l.k)(t,i,"day")?t:n&&Object(l.m)(n,i,"day")?n:i}function Ze(e,t,n){return!(!n||!Object(l.r)(n,e,"day"))||t&&n&&t.getMonth()===n.getMonth()}var We,Ke,ze,Qe,Xe,qe,$e,Je,et,tt,nt,it,rt,ot,at,st=((ze=function(e){_inherits(n,e);var t=_createSuper(n);function n(){_classCallCheck(this,n);var e=new f.a({type:"[datepicker] dispatcher init"});return t.call(this,e,Ye,new _(Ae,e,Ye))}return n}(C)).\u0275fac=function(e){return new(e||ze)},ze.\u0275prov=i.Pb({token:ze,factory:ze.\u0275fac}),ze),ct=((Ke=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o,a,s,c,l){var u;return _classCallCheck(this,n),(u=t.call(this))._config=r,u._store=o,u._element=a,u._actions=s,u._positionService=l,u.valueChange=new i.p,u.animationState="void",u._rangeStack=[],u.chosenRange=[],u._subs=[],u._effects=c,u.customRanges=u._config.ranges||[],u.customRangeBtnLbl=u._config.customRangeButtonLabel,e.setStyle(a.nativeElement,"display","block"),e.setStyle(a.nativeElement,"position","absolute"),u}return _createClass(n,[{key:"ngOnInit",value:function(){var e,t,n=this;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition}},allowedPositions:["top","bottom"]}),null===(e=this._positionService.event$)||void 0===e||e.pipe(Object(a.a)(1)).subscribe((function(){n._positionService.disable(),n.animationState=n._config.isAnimated?n.isTopPosition?"animated-up":"animated-down":"unanimated"})),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,null===(t=this._effects)||void 0===t||t.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select((function(e){return e.selectedRange})).subscribe((function(e){n.valueChange.emit(e),n.chosenRange=e||[]})))}},{key:"positionServiceEnable",value:function(){this._positionService.enable()}},{key:"daySelectHandler",value:function(e){e&&((this.isOtherMonthsActive?e.isDisabled:e.isOtherMonth||e.isDisabled)||this.rangesProcessing(e))}},{key:"monthSelectHandler",value:function(e){if(e&&!e.isDisabled)if(e.isSelected=!0,"month"===this._config.minMode)this.rangesProcessing(e);else{if(e.isDisabled)return;this._store.dispatch(this._actions.navigateTo({unit:{month:Object(l.j)(e.date),year:Object(l.h)(e.date)},viewMode:"day"}))}}},{key:"yearSelectHandler",value:function(e){if(e&&!e.isDisabled)if(e.isSelected=!0,"year"===this._config.minMode)this.rangesProcessing(e);else{if(e.isDisabled)return;this._store.dispatch(this._actions.navigateTo({unit:{year:Object(l.h)(e.date)},viewMode:"month"}))}}},{key:"rangesProcessing",value:function(e){1===this._rangeStack.length&&(this._rangeStack=e.date>=this._rangeStack[0]?[this._rangeStack[0],e.date]:[e.date]),this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(e.date),0===this._rangeStack.length&&(this._rangeStack=[e.date],this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(e.date)),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[])}},{key:"ngOnDestroy",value:function(){var e,t,n=_createForOfIteratorHelper(this._subs);try{for(n.s();!(t=n.n()).done;)t.value.unsubscribe()}catch(i){n.e(i)}finally{n.f()}null===(e=this._effects)||void 0===e||e.destroy()}},{key:"setRangeOnCalendar",value:function(e){e&&(this._rangeStack=e.value instanceof Date?[e.value]:e.value),this._store.dispatch(this._actions.selectRange(this._rangeStack))}},{key:"setMaxDateRangeOnCalendar",value:function(e){var t,n=new Date(e);if(this._config.maxDate){var i=this._config.maxDate.getTime(),r=e.getTime()+864e5*(this._config.maxDateRange||0);n=r>i?new Date(this._config.maxDate):new Date(r)}else n.setDate(e.getDate()+(this._config.maxDateRange||0));null===(t=this._effects)||void 0===t||t.setMaxDate(n)}},{key:"value",set:function(e){var t;null===(t=this._effects)||void 0===t||t.setRangeValue(e)}},{key:"isTopPosition",get:function(){return this._element.nativeElement.classList.contains("top")}}]),n}(function(){function e(){_classCallCheck(this,e),this.containerClass="",this.customRanges=[],this.chosenRange=[],this._daysCalendarSub=new h.a}return _createClass(e,[{key:"setViewMode",value:function(e){}},{key:"navigateTo",value:function(e){}},{key:"dayHoverHandler",value:function(e){}},{key:"weekHoverHandler",value:function(e){}},{key:"monthHoverHandler",value:function(e){}},{key:"yearHoverHandler",value:function(e){}},{key:"daySelectHandler",value:function(e){}},{key:"monthSelectHandler",value:function(e){}},{key:"yearSelectHandler",value:function(e){}},{key:"setRangeOnCalendar",value:function(e){}},{key:"setToday",value:function(){}},{key:"clearDate",value:function(){}},{key:"_stopPropagation",value:function(e){e.stopPropagation()}},{key:"minDate",set:function(e){var t;null===(t=this._effects)||void 0===t||t.setMinDate(e)}},{key:"maxDate",set:function(e){var t;null===(t=this._effects)||void 0===t||t.setMaxDate(e)}},{key:"daysDisabled",set:function(e){var t;null===(t=this._effects)||void 0===t||t.setDaysDisabled(e)}},{key:"datesDisabled",set:function(e){var t;null===(t=this._effects)||void 0===t||t.setDatesDisabled(e)}},{key:"datesEnabled",set:function(e){var t;null===(t=this._effects)||void 0===t||t.setDatesEnabled(e)}},{key:"isDisabled",set:function(e){var t;null===(t=this._effects)||void 0===t||t.setDisabled(e)}},{key:"dateCustomClasses",set:function(e){var t;null===(t=this._effects)||void 0===t||t.setDateCustomClasses(e)}},{key:"dateTooltipTexts",set:function(e){var t;null===(t=this._effects)||void 0===t||t.setDateTooltipTexts(e)}},{key:"daysCalendar$",set:function(e){var t=this;this._daysCalendar$=e,this._daysCalendarSub.unsubscribe(),this._daysCalendarSub.add(this._daysCalendar$.subscribe((function(e){t.multipleCalendars=!!e&&e.length>1})))},get:function(){return this._daysCalendar$}}]),e}())).\u0275fac=function(e){return new(e||Ke)(i.Tb(i.I),i.Tb(Ce),i.Tb(st),i.Tb(i.n),i.Tb(Se),i.Tb(Te),i.Tb(u.b))},Ke.\u0275cmp=i.Nb({type:Ke,selectors:[["bs-daterangepicker-container"]],hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(e,t){1&e&&i.hc("click",(function(e){return t._stopPropagation(e)}))},features:[i.Gb([st,Te]),i.Eb],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(e,t){1&e&&(i.Qc(0,Q,10,11,"div",0),i.kc(1,"async")),2&e&&i.sc("ngIf",i.lc(1,1,t.viewMode))},directives:function(){return[T.u,T.r,T.y,T.z,T.t,Ct,kt,Ot,mt]},pipes:function(){return[T.b]},encapsulation:2,data:{animation:[ke]}}),Ke),lt=((We=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).displayMonths=2,e}return n}(Ce)).\u0275fac=function(e){return ut(e||We)},We.\u0275prov=Object(i.Pb)({factory:function(){return new We},token:We,providedIn:"root"}),We),ut=i.bc(lt),dt=((Qe=function(){function e(t,n,r,o,a){_classCallCheck(this,e),this._config=t,this._elementRef=n,this._renderer=r,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new g.a,this.isDisabled=!1,this.bsValueChange=new i.p,this._subs=[],this._rangeInputFormat$=new g.a,this._datepicker=a.createLoader(n,o,r),Object.assign(this,t),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new f.a(this.isOpen)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.isDestroy$=new g.a,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:function(){return e.show()}}),this.setConfig()}},{key:"ngOnChanges",value:function(e){var t;this._datepickerRef&&this._datepickerRef.instance&&(e.minDate&&(this._datepickerRef.instance.minDate=this.minDate),e.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),e.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),e.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),e.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),e.isDisabled&&((null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement)&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),e.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses))}},{key:"ngAfterViewInit",value:function(){var e=this;this.isOpen$.pipe(Object(r.a)((function(t){return t!==e.isOpen})),Object(s.a)(this.isDestroy$)).subscribe((function(){return e.toggle()}))}},{key:"show",value:function(){var e=this;this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:Ce,useValue:this._config}).attach(ct).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this._subs.push(this.bsValueChange.subscribe((function(t){e._datepickerRef&&(e._datepickerRef.instance.value=t)}))),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.pipe(Object(r.a)((function(e){return e&&e[0]&&!!e[1]}))).subscribe((function(t){e.bsValue=t,e.hide()}))))}},{key:"setConfig",value:function(){var e,t;this._config=Object.assign({},this._config,this.bsConfig,{value:(e=this._bsValue,t=this.maxDate||this.bsConfig&&this.bsConfig.maxDate,e&&t?e instanceof Array&&!e.length||e instanceof Date?e:De(e,t):e),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:xe(this.bsConfig&&this.bsConfig.ranges,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange})}},{key:"hide",value:function(){this.isOpen&&this._datepicker.hide();var e,t=_createForOfIteratorHelper(this._subs);try{for(t.s();!(e=t.n()).done;)e.value.unsubscribe()}catch(n){t.e(n)}finally{t.f()}this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}},{key:"toggle",value:function(){if(this.isOpen)return this.hide();this.show()}},{key:"ngOnDestroy",value:function(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(),this.isDestroy$.complete())}},{key:"isOpen",get:function(){return this._datepicker.isShown},set:function(e){this.isOpen$.next(e)}},{key:"bsValue",set:function(e){this._bsValue!==e&&(this._bsValue=e,this.bsValueChange.emit(e))}},{key:"bsConfig",set:function(e){this._bsConfig=e,this.setConfig(),this._rangeInputFormat$.next(e&&e.rangeInputFormat)},get:function(){return this._bsConfig}},{key:"rangeInputFormat$",get:function(){return this._rangeInputFormat$}}]),e}()).\u0275fac=function(e){return new(e||Qe)(i.Tb(lt),i.Tb(i.n),i.Tb(i.I),i.Tb(i.S),i.Tb(k.a))},Qe.\u0275dir=i.Ob({type:Qe,selectors:[["","bsDaterangepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isDisabled:"isDisabled",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{bsValueChange:"bsValueChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bsDaterangepicker"],features:[i.Fb]}),Qe),ht={provide:S.s,useExisting:Object(i.Y)((function(){return pt})),multi:!0},ft={provide:S.r,useExisting:Object(i.Y)((function(){return pt})),multi:!0},pt=((et=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this._picker=t,this._localeService=n,this._renderer=i,this._elRef=r,this.changeDetection=o,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new h.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e,t=this;this._picker._bsValue&&(e=this._picker._bsValue,t._setInputValue(e),t._value!==e&&(t._value=e,t._onChange(e),t._onTouched()),t.changeDetection.markForCheck()),this._subs.add(this._picker.bsValueChange.subscribe((function(e){t._setInputValue(e),t._value!==e&&(t._value=e,t._onChange(e),t._onTouched()),t.changeDetection.markForCheck()}))),this._subs.add(this._localeService.localeChange.subscribe((function(){t._setInputValue(t._value)}))),this._subs.add(this._picker.rangeInputFormat$.pipe(Object(c.a)()).subscribe((function(){t._setInputValue(t._value)})))}},{key:"ngOnDestroy",value:function(){this._subs.unsubscribe()}},{key:"onKeydownEvent",value:function(e){13!==e.keyCode&&"Enter"!==e.code||this.hide()}},{key:"_setInputValue",value:function(e){var t="";if(e){var n=e[0]?Object(l.e)(e[0],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"",i=e[1]?Object(l.e)(e[1],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"";t=n&&i?n+this._picker._config.rangeSeparator+i:""}this._renderer.setProperty(this._elRef.nativeElement,"value",t)}},{key:"onChange",value:function(e){this.writeValue(e.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}},{key:"validate",value:function(e){var t=e.value,n=[];if(null==t||!Object(l.l)(t))return null;t=t.slice().sort((function(e,t){return e.getTime()-t.getTime()}));var i=Object(l.o)(t[0]),r=Object(l.o)(t[1]);return i?r?(this._picker&&this._picker.minDate&&Object(l.m)(t[0],this._picker.minDate,"date")&&(t[0]=this._picker.minDate,n.push({bsDate:{minDate:this._picker.minDate}})),this._picker&&this._picker.maxDate&&Object(l.k)(t[1],this._picker.maxDate,"date")&&(t[1]=this._picker.maxDate,n.push({bsDate:{maxDate:this._picker.maxDate}})),n.length>0?(this.writeValue(t),n):null):{bsDate:{invalid:t[1]}}:{bsDate:{invalid:t[0]}}}},{key:"registerOnValidatorChange",value:function(e){this._validatorChange=e}},{key:"writeValue",value:function(e){var t=this;if(e){var n=this._localeService.currentLocale;if(!Object(l.i)(n))throw new Error('Locale "'.concat(n,'" is not defined, please add it with "defineLocale(...)"'));var i=[];if("string"==typeof e){var r=this._picker._config.rangeSeparator.trim();i=e.split(r.length>0?r:this._picker._config.rangeSeparator).map((function(e){return e.trim()}))}Array.isArray(e)&&(i=e),this._value=i.map((function(e){return t._picker._config.useUtc?Object(l.z)(Object(l.v)(e,t._picker._config.rangeInputFormat,t._localeService.currentLocale)):Object(l.v)(e,t._picker._config.rangeInputFormat,t._localeService.currentLocale)})).map((function(e){return isNaN(e.valueOf())?void 0:e}))}else this._value=void 0;this._picker.bsValue=this._value}},{key:"setDisabledState",value:function(e){this._picker.isDisabled=e,e?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"onBlur",value:function(){this._onTouched()}},{key:"hide",value:function(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}]),e}()).\u0275fac=function(e){return new(e||et)(i.Tb(dt,1),i.Tb(Oe),i.Tb(i.I),i.Tb(i.n),i.Tb(i.i))},et.\u0275dir=i.Ob({type:et,selectors:[["input","bsDaterangepicker",""]],hostBindings:function(e,t){1&e&&i.hc("change",(function(e){return t.onChange(e)}))("keyup.esc",(function(){return t.hide()}))("keydown",(function(e){return t.onKeydownEvent(e)}))("blur",(function(){return t.onBlur()}))},features:[i.Gb([ht,ft])]}),et),gt=((Je=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Je)},Je.\u0275cmp=i.Nb({type:Je,selectors:[["bs-calendar-layout"]],ngContentSelectors:J,decls:6,vars:2,consts:[["title","hey there",4,"ngIf"],[1,"bs-datepicker-head"],[1,"bs-datepicker-body"],[4,"ngIf"],["title","hey there"]],template:function(e,t){1&e&&(i.rc($),i.Qc(0,X,1,0,"bs-current-date",0),i.Zb(1,"div",1),i.qc(2),i.Yb(),i.Zb(3,"div",2),i.qc(4,1),i.Yb(),i.Qc(5,q,1,0,"bs-timepicker",3)),2&e&&(i.sc("ngIf",!1),i.Hb(5),i.sc("ngIf",!1))},directives:function(){return[T.u,vt,St]},encapsulation:2}),Je),vt=(($e=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||$e)},$e.\u0275cmp=i.Nb({type:$e,selectors:[["bs-current-date"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"current-timedate"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"span"),i.Sc(2),i.Yb(),i.Yb()),2&e&&(i.Hb(2),i.Tc(t.title))},encapsulation:2}),$e),mt=((qe=function(){function e(){_classCallCheck(this,e),this.onSelect=new i.p}return _createClass(e,[{key:"selectFromRanges",value:function(e){this.onSelect.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||qe)},qe.\u0275cmp=i.Nb({type:qe,selectors:[["bs-custom-date-view"]],inputs:{ranges:"ranges",selectedRange:"selectedRange",customRangeLabel:"customRangeLabel"},outputs:{onSelect:"onSelect"},decls:2,vars:1,consts:[[1,"bs-datepicker-predefined-btns"],["type","button","class","btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn",3,"click"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Qc(1,ee,2,3,"button",1),i.Yb()),2&e&&(i.Hb(1),i.sc("ngForOf",t.ranges))},directives:[T.t],encapsulation:2,changeDetection:0}),qe),bt=((Xe=function(){function e(t,n,i){_classCallCheck(this,e),this._config=t,this._elRef=n,this._renderer=i,this.day={date:new Date,label:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e,t,n,i=this;(null===(e=this.day)||void 0===e?void 0:e.isToday)&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof(null===(t=this.day)||void 0===t?void 0:t.customClasses)&&(null===(n=this.day)||void 0===n||n.customClasses.split(" ").filter((function(e){return e})).forEach((function(e){i._renderer.addClass(i._elRef.nativeElement,e)})))}}]),e}()).\u0275fac=function(e){return new(e||Xe)(i.Tb(Ce),i.Tb(i.n),i.Tb(i.I))},Xe.\u0275cmp=i.Nb({type:Xe,selectors:[["","bsDatepickerDayDecorator",""]],hostVars:16,hostBindings:function(e,t){2&e&&i.Lb("disabled",t.day.isDisabled)("is-highlighted",t.day.isHovered)("is-other-month",t.day.isOtherMonth)("is-active-other-month",t.day.isOtherMonthHovered)("in-range",t.day.isInRange)("select-start",t.day.isSelectionStart)("select-end",t.day.isSelectionEnd)("selected",t.day.isSelected)},inputs:{day:"day"},attrs:te,decls:1,vars:1,template:function(e,t){1&e&&i.Sc(0),2&e&&i.Tc(t.day&&t.day.label||"")},encapsulation:2,changeDetection:0}),Xe),yt=function(e){return e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e}({}),_t=((at=function(){function e(){_classCallCheck(this,e),this.onNavigate=new i.p,this.onViewMode=new i.p}return _createClass(e,[{key:"navTo",value:function(e){this.onNavigate.emit(e?yt.DOWN:yt.UP)}},{key:"view",value:function(e){this.onViewMode.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||at)},at.\u0275cmp=i.Nb({type:at,selectors:[["bs-datepicker-navigation-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode"},decls:12,vars:8,consts:[["type","button",1,"previous",3,"disabled","click"],[4,"ngIf"],["type","button",1,"current",3,"click"],["type","button",1,"next",3,"disabled","click"]],template:function(e,t){1&e&&(i.Zb(0,"button",0),i.hc("click",(function(){return t.navTo(!0)})),i.Zb(1,"span"),i.Sc(2,"\u2039"),i.Yb(),i.Yb(),i.Qc(3,ne,5,1,"ng-container",1),i.Sc(4," \u200b "),i.Zb(5,"button",2),i.hc("click",(function(){return t.view("year")})),i.Zb(6,"span"),i.Sc(7),i.Yb(),i.Yb(),i.Sc(8," \u200b "),i.Zb(9,"button",3),i.hc("click",(function(){return t.navTo(!1)})),i.Zb(10,"span"),i.Sc(11,"\u203a"),i.Yb(),i.Yb()),2&e&&(i.Pc("visibility",t.calendar.hideLeftArrow?"hidden":"visible"),i.sc("disabled",t.calendar.disableLeftArrow),i.Hb(3),i.sc("ngIf",t.calendar&&t.calendar.monthTitle),i.Hb(4),i.Tc(t.calendar.yearTitle),i.Hb(2),i.Pc("visibility",t.calendar.hideRightArrow?"hidden":"visible"),i.sc("disabled",t.calendar.disableRightArrow))},directives:[T.u],encapsulation:2,changeDetection:0}),at),Ct=((ot=function(){function e(t){_classCallCheck(this,e),this._config=t,this.onNavigate=new i.p,this.onViewMode=new i.p,this.onSelect=new i.p,this.onHover=new i.p,this.onHoverWeek=new i.p,this.isiOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._config.dateTooltipTexts&&this._config.dateTooltipTexts.length>0&&(this.isShowTooltip=!0)}return _createClass(e,[{key:"navigateTo",value:function(e){this.onNavigate.emit({step:{month:yt.DOWN===e?-1:1}})}},{key:"changeViewMode",value:function(e){this.onViewMode.emit(e)}},{key:"selectDay",value:function(e){this.onSelect.emit(e)}},{key:"selectWeek",value:function(e){var t=this;if((this._config.selectWeek||this._config.selectWeekDateRange)&&0!==e.days.length)if(this._config.selectWeek&&e.days[0]&&!e.days[0].isDisabled&&this._config.selectFromOtherMonth)this.onSelect.emit(e.days[0]);else{var n=e.days.find((function(e){return(t._config.selectFromOtherMonth||!e.isOtherMonth)&&!e.isDisabled}));if(this.onSelect.emit(n),this._config.selectWeekDateRange){var i=e.days.slice(0).reverse().find((function(e){return(t._config.selectFromOtherMonth||!e.isOtherMonth)&&!e.isDisabled}));this.onSelect.emit(i)}}}},{key:"weekHoverHandler",value:function(e,t){var n=this;(this._config.selectWeek||this._config.selectWeekDateRange)&&e.days.find((function(e){return(n._config.selectFromOtherMonth||!e.isOtherMonth)&&!e.isDisabled}))&&(e.isHovered=t,this.isWeekHovered=t,this.onHoverWeek.emit(e))}},{key:"hoverDay",value:function(e,t){this._config.selectFromOtherMonth&&e.isOtherMonth&&(e.isOtherMonthHovered=t),this._config.dateTooltipTexts&&(e.tooltipText="",this._config.dateTooltipTexts.forEach((function(t){Object(l.s)(t.date,e.date)&&(e.tooltipText=t.tooltipText)}))),this.onHover.emit({cell:e,isHovered:t})}}]),e}()).\u0275fac=function(e){return new(e||ot)(i.Tb(Ce))},ot.\u0275cmp=i.Nb({type:ot,selectors:[["bs-days-calendar-view"]],inputs:{calendar:"calendar",options:"options"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"},decls:9,vars:4,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"days","weeks"],[4,"ngIf"],["aria-label","weekday",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["aria-label","weekday"],["class","week",3,"active-week",4,"ngIf"],["role","gridcell",4,"ngFor","ngForOf"],[1,"week"],[3,"click",4,"ngIf"],[3,"click","mouseenter","mouseleave",4,"ngIf"],[3,"click"],[3,"click","mouseenter","mouseleave"],["role","gridcell"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click"]],template:function(e,t){1&e&&(i.Zb(0,"bs-calendar-layout"),i.Zb(1,"bs-datepicker-navigation-view",0),i.hc("onNavigate",(function(e){return t.navigateTo(e)}))("onViewMode",(function(e){return t.changeViewMode(e)})),i.Yb(),i.Zb(2,"table",1),i.Zb(3,"thead"),i.Zb(4,"tr"),i.Qc(5,ie,1,0,"th",2),i.Qc(6,re,2,1,"th",3),i.Yb(),i.Yb(),i.Zb(7,"tbody"),i.Qc(8,he,3,2,"tr",4),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(1),i.sc("calendar",t.calendar),i.Hb(4),i.sc("ngIf",t.options&&t.options.showWeekNumbers),i.Hb(1),i.sc("ngForOf",t.calendar.weekdays),i.Hb(2),i.sc("ngForOf",t.calendar.weeks))},directives:[gt,_t,T.u,T.t,bt,N],encapsulation:2}),ot),kt=((rt=function(){function e(){_classCallCheck(this,e),this.onNavigate=new i.p,this.onViewMode=new i.p,this.onSelect=new i.p,this.onHover=new i.p}return _createClass(e,[{key:"navigateTo",value:function(e){this.onNavigate.emit({step:{year:yt.DOWN===e?-1:1}})}},{key:"viewMonth",value:function(e){this.onSelect.emit(e)}},{key:"hoverMonth",value:function(e,t){this.onHover.emit({cell:e,isHovered:t})}},{key:"changeViewMode",value:function(e){this.onViewMode.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||rt)},rt.\u0275cmp=i.Nb({type:rt,selectors:[["bs-month-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"months"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(e,t){1&e&&(i.Zb(0,"bs-calendar-layout"),i.Zb(1,"bs-datepicker-navigation-view",0),i.hc("onNavigate",(function(e){return t.navigateTo(e)}))("onViewMode",(function(e){return t.changeViewMode(e)})),i.Yb(),i.Zb(2,"table",1),i.Zb(3,"tbody"),i.Qc(4,pe,2,1,"tr",2),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(1),i.sc("calendar",t.calendar),i.Hb(3),i.sc("ngForOf",null==t.calendar?null:t.calendar.months))},directives:[gt,_t,T.t],encapsulation:2}),rt),St=((it=function e(){_classCallCheck(this,e),this.ampm="ok",this.hours=0,this.minutes=0}).\u0275fac=function(e){return new(e||it)},it.\u0275cmp=i.Nb({type:it,selectors:[["bs-timepicker"]],decls:16,vars:3,consts:[[1,"bs-timepicker-container"],[1,"bs-timepicker-controls"],["type","button",1,"bs-decrease"],["type","text","placeholder","00",3,"value"],["type","button",1,"bs-increase"],["type","button",1,"switch-time-format"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==","alt",""]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"button",2),i.Sc(3,"-"),i.Yb(),i.Ub(4,"input",3),i.Zb(5,"button",4),i.Sc(6,"+"),i.Yb(),i.Yb(),i.Zb(7,"div",1),i.Zb(8,"button",2),i.Sc(9,"-"),i.Yb(),i.Ub(10,"input",3),i.Zb(11,"button",4),i.Sc(12,"+"),i.Yb(),i.Yb(),i.Zb(13,"button",5),i.Sc(14),i.Ub(15,"img",6),i.Yb(),i.Yb()),2&e&&(i.Hb(4),i.sc("value",t.hours),i.Hb(6),i.sc("value",t.minutes),i.Hb(4),i.Uc("",t.ampm," "))},encapsulation:2}),it),Ot=((nt=function(){function e(){_classCallCheck(this,e),this.onNavigate=new i.p,this.onViewMode=new i.p,this.onSelect=new i.p,this.onHover=new i.p}return _createClass(e,[{key:"navigateTo",value:function(e){this.onNavigate.emit({step:{year:16*(yt.DOWN===e?-1:1)}})}},{key:"viewYear",value:function(e){this.onSelect.emit(e)}},{key:"hoverYear",value:function(e,t){this.onHover.emit({cell:e,isHovered:t})}},{key:"changeViewMode",value:function(e){this.onViewMode.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||nt)},nt.\u0275cmp=i.Nb({type:nt,selectors:[["bs-years-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"years"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(e,t){1&e&&(i.Zb(0,"bs-calendar-layout"),i.Zb(1,"bs-datepicker-navigation-view",0),i.hc("onNavigate",(function(e){return t.navigateTo(e)}))("onViewMode",(function(e){return t.changeViewMode(e)})),i.Yb(),i.Zb(2,"table",1),i.Zb(3,"tbody"),i.Qc(4,ve,2,1,"tr",2),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(1),i.sc("calendar",t.calendar),i.Hb(3),i.sc("ngForOf",null==t.calendar?null:t.calendar.years))},directives:[gt,_t,T.t],encapsulation:2}),nt),Tt=((tt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[k.a,u.b,st,Se,Te,Oe]}}}]),e}()).\u0275mod=i.Rb({type:tt}),tt.\u0275inj=i.Qb({factory:function(e){return new(e||tt)},imports:[[T.c,j]]}),tt)},"iU+o":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("9Fhk"),r=n("fXoL"),o=n("MPf+"),a=function(){var e=function(){function e(t){_classCallCheck(this,e),this.webPCompat=t}return _createClass(e,[{key:"transform",value:function(e,t){if(!e||!t||e===i.b||e===i.a)return e||i.b;var n=e,r=this.webPCompat.hasFullWebPFeatureSet;return Object.keys(t).forEach((function(e,i){switch(n+=i>0?"&":"?",e){case"format":n+="webp"!==t[e]||r?"fm="+t[e]:"fm=jpg";break;case"fully":n+="fl="+t[e];break;case"width":n+="w="+t[e];break;case"height":n+="h="+t[e];break;case"fit":n+="fit="+t[e];break;case"focus":n+="f="+t[e];break;case"radius":n+="r="+t[e];break;case"quality":n+="q="+t[e];break;case"background":n+="bg="+t[e]}})),n}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Tb(o.a))},e.\u0275pipe=r.Sb({name:"cmsImage",type:e,pure:!0}),e}()},iWk1:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("ofXK"),r=n("fXoL"),o=n("XNiG"),a=n("rmK9"),s=n("RbsG"),c=n("PxKc"),l=n("1AID"),u=n("imvL"),d=n("BifP"),h=n("kh7C"),f=function(){var e=function(){function e(t,n,i,a){_classCallCheck(this,e),this.platformId=t,this.auth=n,this.cmsConfig=i,this.utilsSvc=a,this.showDotersTerms$=new r.p,this.dotersToogleActive$=new r.p,this.dotersCardBarInx$=new r.p,this.termsAccepted$=new o.a,this.dotersOtpStep=0,this.cmsDoters=!1,this.showDotersEarn=!1,this.showDotersEarnInMMB=!1,this.$autoDotersPayment=new o.a,this.cmsDoters=this.cmsConfig.getSectionFeatureValue(l.b.GLOBAL,l.a.Doters),this.showDotersEarn=this.cmsConfig.getBookingFeatureValue(l.a.ShowDotersEarnGlobal)||!1,this.showDotersEarnInMMB=this.cmsConfig.getBookingFeatureValue(l.a.ShowDotersEarnInMMB)||!1}return _createClass(e,[{key:"dotersSidebar",value:function(e){this.showDotersTerms$.emit(e)}},{key:"dotersToogle",value:function(e){this.dotersToogleActive$.emit(e)}},{key:"dotersCardBarIndex",value:function(e){this.dotersCardBarInx$.emit(e)}},{key:"emitAcceptedTerms",value:function(){this.termsAccepted$.next()}},{key:"emitAutoDotersPayment",value:function(){this.$autoDotersPayment.next()}},{key:"resetDotersValues",value:function(){this.otpSuccess=!1,this.dotersOtpStep=0,this.dotersMissingAmount=void 0,this.dotersRedemptionPoints=void 0}},{key:"showEarnDotersComponents",value:function(e,t){var n,r,o=this;if(!this.showDotersEarn||t&&(!this.showDotersEarnInMMB&&(null===(n=t.basket)||void 0===n?void 0:n.flowType)!==c.b.Booking||t.basketBooking.journeys.find((function(e){return o.utilsSvc.hasAlternativeProviderInSegments(e.segments,"operatingCarrier")}))))return!1;if(e&&this.cmsDoters&&Object(i.L)(this.platformId)&&this.auth.getDotersAffiliation(e)&&e.accountType!==s.k.Agency&&e.accountType!==s.k.Enterprise&&e.accountType!==s.k.Staff&&!sessionStorage.getItem("loginReferral")){var l=null===(r=null==e?void 0:e.terms)||void 0===r?void 0:r.find((function(e){return e.type===a.a.Loyalty}));if(l&&!(null==l?void 0:l.promptTerms))return!0}return!1}},{key:"_dotersRedemptionPoints",set:function(e){"number"==typeof e&&(this.dotersRedemptionPoints=e)},get:function(){return this.dotersRedemptionPoints}},{key:"_dotersMissingAmount",set:function(e){"number"==typeof e&&(this.dotersMissingAmount=e)},get:function(){return this.dotersMissingAmount}},{key:"autoDotersPayment$",get:function(){return this.$autoDotersPayment.asObservable()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.dc(r.G),r.dc(u.a),r.dc(d.a),r.dc(h.a))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},iYuL:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(n("wd/R"))},"ib+v":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),r=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){if(!e||(null==t?void 0:t.length)<1)return e||"";var n=e;return t.forEach((function(e){n=n.replace(new RegExp(e.regex,"g"),e.newValue)})),n}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Sb({name:"cmsRegexReplace",type:e,pure:!0}),e}()},im7C:function(e,t){var n=1e3,i=6e4,r=60*i,o=24*r;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var s,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*i;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===c&&!1===isNaN(e))return t.long?a(s=e,o,"day")||a(s,r,"hour")||a(s,i,"minute")||a(s,n,"second")||s+" ms":function(e){return e>=o?Math.round(e/o)+"d":e>=r?Math.round(e/r)+"h":e>=i?Math.round(e/i)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},imvL:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var i,r,o=n("mrSG"),a=n("WSM3"),s=n("ofXK"),c=n("fXoL"),l=n("tyNb"),u=n("wd/R"),d=n("2Vo4"),h=n("quSY"),f=n("z6cu"),p=n("l5mm"),g=n("pLZG"),v=n("IzEk"),m=n("AytR"),b=n("rmK9"),y=n("RRjW"),C=n("h/S9"),k=n("ATtC"),S=n.n(k),O=n("RbsG"),T=n("LRne"),w=((i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"persistData",value:function(t,n){var i;if(t){var r={res:t,email:n,tokenExpirationDate:this.generateTokenExpirationDate(t.tokenExpirationTime)},o=btoa(JSON.stringify(r));return null===(i=localStorage||{})||void 0===i||i.setItem(e.tokenName,o),r}console.warn("::QuickLoginResponseHandler::","Payload was not given to function. Did not persist data to Storage!")}},{key:"clearPersistedData",value:function(){var t;null===(t=localStorage||{})||void 0===t||t.removeItem(e.tokenName)}},{key:"loadData",value:function(){var t,n=null===(t=localStorage||{})||void 0===t?void 0:t.getItem(e.tokenName);if(n)return JSON.parse(atob(n));throw new Error("No payload data was found!")}},{key:"getResponse",value:function(e){if(e){var t=e.res,n=e.email,i=e.tokenExpirationDate,r=this.getRemainingDuration(i);if(!r)return Object(f.a)({status:400,error:{detail:"Token is expired or invalid!"}});var o={authToken:t.authToken,tokenExpirationTime:r,accountType:O.k.Customer,userDetails:{firstName:t.firstName,lastName:t.lastName,customerNumber:t.customerNumber,gender:void 0,email:n},notifications:t.notifications,activeFeatures:t.activeFeatures};return Object(T.a)(o)}return Object(f.a)({status:400,error:{detail:"Token is invalid!"}})}},{key:"generateTokenExpirationDate",value:function(e){var t=u.duration(e);if(t.isValid())return u().add(t).subtract(5,"seconds").toISOString();console.warn("::QuickLoginResponseHandler::","Session duration could not be set!")}},{key:"getRemainingDuration",value:function(e){var t=u(e).diff(u(),"seconds");if("number"==typeof t&&t>0){var n=u.duration(t,"seconds");return u.utc(n.as("milliseconds")).format("HH:mm:ss")}}}],[{key:"hasTokenData",get:function(){var t;return!!(null===(t=localStorage||{})||void 0===t?void 0:t.getItem(e.tokenName))}}]),e}()).tokenName=m.g.cacheKeys.LOGIN_TOKEN+"-ql-data",i),A=n("djEO"),E=n("VHOi"),P=n("CPX7"),M=n("CJ36"),x=n("ChtM"),D=n("XwP0"),I=n("FE/U"),L=n("SXaI"),R=((r=function(){function e(t,n,i,r,o,s,c,l,u,f,p){_classCallCheck(this,e),this.platformId=t,this.document=n,this.account=i,this.router=r,this.token=o,this.basket=s,this.localeSvc=c,this.currencySvc=l,this.datalayerLoginSvc=u,this.srcChannel=f,this.ssoSvc=p,this.$referralLogin=new d.a(void 0),this.$userDetails=new d.a(void 0),this.$userAccountData=new d.a(void 0),this.$syncing=new d.a(!0),this.userDataSub=h.a.EMPTY,this.userDetailsSub=h.a.EMPTY,this.tokenValidityIntervalSub=h.a.EMPTY,this.threadIsRefreshing=!1,this.tokenSecondsToRefresh=300,this.validityIntervalPolling=5,this.newAccountCodes=["NEW_ACCOUNT_CREATED","IncompleteProfile"],this.vivaFanAffiliationCodes=a.i,this.dotersAffiliationCodes=a.d,this.smileAndFlyAffiliationCodes=a.f,this.debugAffiliationCodes=a.c,this.incompleteDataToken=m.g.cacheKeys.INCOMPLETE_PROFILE,this.intervalSubscribtion=h.a.EMPTY,this.loadPersistedTokenData(),this.addLSEventListener(),this.addBeforeUnloadListener(),this.loadTokenFromURL()}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.removeLSEventListener(),this.stopTokenHandler()}},{key:"doLogin",value:function(e,t,n,i,r){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function o(){var s,c,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return s=Object.assign(Object.assign(Object.assign({username:e,password:t,rememberMe:n},r&&{domain:r}),this.basketIsValid&&{basketId:this.basket.basketId}),{accountType:i}),o.prev=1,this.$syncing.next(!0),o.next=5,this.account.postLogin(s).toPromise();case 5:return c=o.sent,o.abrupt("return",(this.setTokenAndUserDetails(c),this.$syncing.next(!1),this.getUserData(this.shouldGetAccountFunds(i),a,"system"),this.validateIfNewAccount(c),this.datalayerLoginSvc.loginIntent(),!0));case 9:if(o.prev=9,o.t0=o.catch(1),this.$syncing.next(!1),400===o.t0.status&&this.datalayerLoginSvc.loginFail(o.t0,"system"),401!==o.t0.status&&400!==o.t0.status){o.next=15;break}if((null==(l=o.t0.error)?void 0:l.code)!==y.b.ACCOUNT_CREDENTIALS_INVALID){o.next=15;break}return o.abrupt("return",!1);case 15:throw o.t0;case 16:case"end":return o.stop()}}),o,this,[[1,9]])})))}},{key:"doExternalLogin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.router.navigate([this.router.url.split("?")[0].split("#")[0]],{replaceUrl:!0,queryParams:{activation_code:void 0,sub:void 0,expires_in:void 0,token_type:void 0,state:void 0},queryParamsHandling:"merge"}),n.prev=1,this.$syncing.next(!0),i={username:e.sub,providerType:"SAC"===e.token_type?b.d.SsoAuthCode:b.d.SsoAccessToken,token:e.activation_code,basketId:null},n.next=6,this.ssoSvc.doLoginExternal(i).toPromise();case 6:return r=n.sent,n.abrupt("return",(this.setTokenAndUserDetails(r),this.$syncing.next(!1),this.getUserData(this.shouldGetAccountFunds(r.accountType),t,"system"),this.validateIfNewAccount(r),!0));case 10:if(n.prev=10,n.t0=n.catch(1),this.$syncing.next(!1),400===n.t0.status&&this.datalayerLoginSvc.loginFail(n.t0,"system"),401!==n.t0.status&&400!==n.t0.status){n.next=16;break}if((null==(o=n.t0.error)?void 0:o.code)!==y.b.ACCOUNT_CREDENTIALS_INVALID){n.next=16;break}return n.abrupt("return",!1);case 16:throw n.t0;case 17:case"end":return n.stop()}}),n,this,[[1,10]])})))}},{key:"doSocialLogin",value:function(e,t){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=Object.assign(Object.assign({},e),this.basketIsValid&&{basketId:this.basket.basketId}),n.prev=1,this.$syncing.next(!0),n.next=5,this.account.postSocialLogin(i).toPromise();case 5:return r=n.sent,n.abrupt("return",(this.setTokenAndUserDetails(r),this.$syncing.next(!1),this.getUserData(this.shouldGetAccountFunds(null),!0,t),this.validateIfNewAccount(r),this.datalayerLoginSvc.loginIntent(),!0));case 9:throw n.prev=9,n.t0=n.catch(1),400===n.t0.status&&this.datalayerLoginSvc.loginFail(n.t0,t),this.$syncing.next(!1),n.t0;case 12:case"end":return n.stop()}}),n,this,[[1,9]])})))}},{key:"doQuickLoginFromRegistration",value:function(e,t){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,null==e?void 0:e.authToken){n.next=3;break}throw new Error("Response has no authToken detected. Cannot login!");case 3:return this.$syncing.next(!0),i=new w,r=i.persistData(e,t),n.next=8,i.getResponse(r).toPromise();case 8:o=n.sent,this.setTokenAndUserDetails(o),this.$syncing.next(!1),this.getUserData(!1,!0,"system"),n.next=15;break;case 12:throw n.prev=12,n.t0=n.catch(0),this.$syncing.next(!1),m.g.production||console.error("Error",n.t0),n.t0;case 15:case"end":return n.stop()}}),n,this,[[0,12]])})))}},{key:"doLogout",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(s.L)(this.platformId)&&localStorage.getItem("viva-user-esid")&&this.ssoSvc.doLogoutExternal().toPromise().catch((function(e){m.g.production||console.error("doLogoutExternal",e)})).finally((function(){e.ssoSvc.deleteSessionIdExternal()})),this.closeIntervalSubscription(),this.doQuickLoginLogout(),this.token.clearToken(),this.deleteAuthTokenExpiration(),this.basket.clearBasket(),this.stopHandlers(),this._userAccountType=void 0,this._userDetails=void 0,this._userAccountData=void 0,this.fundsData=void 0,this.$syncing.next(!1),t&&this.router.navigate([""]),this.removeContactData(),this.datalayerLoginSvc.deleteVui(),this.datalayerLoginSvc.logout("successful")}},{key:"doQuickLoginLogout",value:function(){this.isQuickLogin&&this.clearQuickLoginAuthData()}},{key:"getUpdatedAccountData",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isLoggedIn?this.getUserData(t?this.shouldGetAccountFunds(null===(e=this.userAccountData)||void 0===e?void 0:e.accountType):t):m.g.production||console.warn("::AUTH:getUpdatedAccountData::","Tried to sync logged-in user data for anonymous session!")}},{key:"shouldGetAccountFunds",value:function(e){switch(e){case O.k.Agency:case O.k.Enterprise:return!1;default:return!0}}},{key:"_bf_authenticated",value:function(){return!!this.authToken}},{key:"persistToken",value:function(e){this.token.authToken=e}},{key:"loadPersistedTokenData",value:function(){var e=this;this.authToken?(this.$syncing.next(!0),this.userDetailsSub.closed||this.userDetailsSub.unsubscribe(),this.userDetailsSub=this.apiUserDetails.subscribe((function(t){e.setTokenAndUserDetails(t),e.$syncing.next(!1),e.getUserData(e.shouldGetAccountFunds(null==t?void 0:t.accountType)),e.datalayerLoginSvc.loginIntent()}),(function(t){e.datalayerLoginSvc.loginIntent(),e.onSessionError(t,"::LoadSessionDetailsError::"),e.$syncing.value&&e.$syncing.next(!1)}))):this.$syncing.next(!1)}},{key:"onSessionError",value:function(e,t){m.g.production||console.error(t,e),401!==e.status&&400!==e.status||(this.doLogout(),this.setMutexInnerFlag(!1))}},{key:"getUserData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;this.userDataSub.closed||this.userDataSub.unsubscribe(),this.userDataSub=this.getApiUserAccountData(e).subscribe((function(r){var o;e?t.fundsData=r.funds:t.fundsData&&(r.funds=t.fundsData),t._userAccountData=r,t.saveContactData(r.contactDetails),t.datalayerLoginSvc.saveVui(r),t.datalayerLoginSvc.loginSuccess(r,i),n&&(null===(o=t.userAccountData.basket)||void 0===o?void 0:o.basketId)&&t.userAccountData.basket.status!==C.d.Expired&&t.basket.syncBasketInfo(t.userAccountData.basket.basketId)}),(function(e){t.onSessionError(e,"::GetUserData::")}))}},{key:"sessionTokenRestore",value:function(){var e,t=new w;try{e=t.loadData()}catch(_){Object(f.a)({status:400,error:{detail:"Token parse error!"}})}return t.getResponse(e)}},{key:"getApiUserAccountData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.account.getAccount(e)}},{key:"setTokenAndUserDetails",value:function(e){this.persistToken(e.authToken),this.ssoSvc.saveSessionIdExternal(null==e?void 0:e.sessionIdExternal),this.validateToken(),this._userAccountType=e.accountType,this._userDetails=e.userDetails,this.setTokenExpirationData(e.tokenExpirationTime),this.initTokenHandler()}},{key:"saveContactData",value:function(e){var t,n,i;return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Object(s.L)(this.platformId)||!(null===(t=null==e?void 0:e.emailAddress)||void 0===t?void 0:t.email)){r.next=19;break}return r.prev=1,r.next=4,this.encodeData(null===(n=null==e?void 0:e.emailAddress)||void 0===n?void 0:n.email);case 4:if(o=r.sent,a=null===(i=null==e?void 0:e.phoneNumbers.find((function(e){return(null==e?void 0:e.type)===b.h.Home&&!!(null==e?void 0:e.number)})))||void 0===i?void 0:i.number,r.t0=a,!r.t0){r.next=13;break}return r.t1=o,r.next=11,this.encodeData(a);case 11:r.t2=r.sent,o=r.t1+="."+r.t2;case 13:localStorage.setItem("vb-hash-udata",o),r.next=19;break;case 16:r.prev=16,r.t3=r.catch(1),m.g.production||console.error("saveHashData",r.t3);case 19:case"end":return r.stop()}}),r,this,[[1,16]])})))}},{key:"encodeData",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(new TextEncoder).encode(e),t.next=3,crypto.subtle.digest("SHA-256",n);case 3:return i=t.sent,t.abrupt("return",Array.from(new Uint8Array(i)).map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 5:case"end":return t.stop()}}),t)})))}},{key:"removeContactData",value:function(){Object(s.L)(this.platformId)&&localStorage.removeItem("vb-hash-udata")}},{key:"validateIfNewAccount",value:function(e){var t=this;if(Array.isArray(null==e?void 0:e.notifications)&&e.notifications.find((function(e){return t.newAccountCodes.includes(e.code)})))return this.router.navigate(["register","complete-registration"]),void localStorage.setItem(this.incompleteDataToken,"true");this.router.url.includes("/register")&&this.router.navigate([""])}},{key:"basketIsValid",value:function(){return this.basket.basketId&&this.basket._basket.status===C.d.Active&&!this.basket._basket.user}},{key:"addLSEventListener",value:function(){Object(s.L)(this.platformId)&&(this.listenerFn=this.handleLocalStorageEvent.bind(this),window.addEventListener("storage",this.listenerFn))}},{key:"removeLSEventListener",value:function(){Object(s.L)(this.platformId)&&this.listenerFn&&window.removeEventListener("storage",this.listenerFn)}},{key:"handleLocalStorageEvent",value:function(e){e.storageArea===localStorage&&e.key===this.token.userTokenName&&(e.newValue?this.isLoggedIn||this.loadPersistedTokenData():this.doLogout())}},{key:"addBeforeUnloadListener",value:function(){Object(s.L)(this.platformId)&&(this.beforeUnloadFn=this.beforeSvcUnload.bind(this),window.addEventListener("beforeunload",this.beforeUnloadFn))}},{key:"stopHandlers",value:function(){this.stopTokenHandler(),this.userDetailsSub.closed||this.userDetailsSub.unsubscribe(),this._userAccountType=void 0,this._userDetails=void 0,this.userDataSub.closed||this.userDataSub.unsubscribe()}},{key:"initTokenHandler",value:function(){if(Object(s.L)(this.platformId)){this.stopTokenHandler();var e=this.tokenValidityHandlerFn.bind(this);this.tokenValidityIntervalSub=Object(p.a)(1e3*this.validityIntervalPolling).subscribe((function(){e()}))}}},{key:"stopTokenHandler",value:function(){this.tokenValidityIntervalSub.closed||this.tokenValidityIntervalSub.unsubscribe()}},{key:"tokenValidityHandler",value:function(){var e=this;if(this.isLoggedIn){if(this.tokenRemainingTimeInSeconds<this.tokenSecondsToRefresh){var t=new S.a;t.lock(m.g.cacheKeys.MUTEX_REFRESH_TOKEN).then((function(){return e.token.isRefreshingToken||(e.setMutexInnerFlag(!0),e.apiUserDetails.subscribe((function(t){e.token.authToken=t.authToken,e.setTokenExpirationData(t.tokenExpirationTime),e.setMutexInnerFlag(!1)}),(function(t){e.setMutexInnerFlag(!1),e.onSessionError(t,"::TokenRefreshError::")}))),t.release(m.g.cacheKeys.MUTEX_REFRESH_TOKEN)}))}}else this.stopTokenHandler()}},{key:"sessionTokenValidityHandler",value:function(){this.isLoggedIn?this.tokenRemainingTimeInSeconds<0&&this.onSessionError({status:400,description:"Session has expired!"},"::SessionTokenError::"):this.stopTokenHandler()}},{key:"setMutexInnerFlag",value:function(e){this.token.setRefreshingToken(e),this.threadIsRefreshing=e}},{key:"beforeSvcUnload",value:function(){Object(s.L)(this.platformId)&&(this.threadIsRefreshing&&this.setMutexInnerFlag(!1),this.beforeUnloadFn&&window.removeEventListener("beforeunload",this.beforeUnloadFn))}},{key:"getVivaFanAffiliation",value:function(e){var t=this,n=e||this.userAccountData;if(n)return n.affiliations.find((function(e){return t.vivaFanAffiliationCodes.includes(e.code)}))}},{key:"getDotersAffiliation",value:function(e){var t=this,n=e||this.userAccountData;if(Object(s.L)(this.platformId)&&n&&n.accountType!==O.k.Agency&&n.accountType!==O.k.Enterprise&&n.accountType!==O.k.Staff&&!sessionStorage.getItem("loginReferral"))return n.affiliations.find((function(e){return t.dotersAffiliationCodes.includes(e.code)&&u().add(1,"days").isBefore(u(e.endDate))}))}},{key:"getActiveSmileAndFlyAffiliation",value:function(e){var t=this,n=e||this.userAccountData;if(n)return n.affiliations.find((function(e){return t.smileAndFlyAffiliationCodes.includes(e.code)&&"AC"===e.level}))}},{key:"getDebugAffiliation",value:function(e){var t=this,n=e||this.userAccountData;if(n)return n.affiliations.find((function(e){return t.debugAffiliationCodes.includes(e.code)&&"DEB"===e.level}))}},{key:"loadUserLocaleSettings",value:function(){var e=!1,t=!1;this.userAccountData.preferences.language&&(e=this.localeSvc.changeLocaleData(this.userAccountData.preferences.language)),this.userAccountData.preferences.currencyCode&&(t=this.currencySvc.changeAppCurrency(this.userAccountData.preferences.currencyCode)),(e||t)&&Object(s.L)(this.platformId)&&(e?(sessionStorage.setItem("viva-lang","true"),this.localeSvc.reloadAppWithLocale(this.userAccountData.preferences.language)):this.document.location.reload())}},{key:"setTokenExpirationData",value:function(e){var t=u.duration(e);if(t.isValid()){var n=u().add(t);n.isValid()&&(this.authTokenExpiration=n.toISOString())}}},{key:"deleteAuthTokenExpiration",value:function(){Object(s.L)(this.platformId)&&(localStorage.removeItem(m.g.cacheKeys.LOGIN_TOKEN+"-expires"),localStorage.removeItem(m.g.cacheKeys.STAFF_TOKEN),localStorage.removeItem(m.g.cacheKeys.INCOMPLETE_PROFILE))}},{key:"loadTokenFromURL",value:function(){var e=this;this.router.events.pipe(Object(g.a)((function(e){return e instanceof l.c})),Object(v.a)(1)).toPromise().then((function(t){if(t instanceof l.c){var n=e.router.routerState.snapshot.root.queryParams;n.authToken&&(e.persistToken(n.authToken),e.loadPersistedTokenData()),n.fromChannel&&e.srcChannel.setChannelValue(n.fromChannel),(n.authToken||n.fromChannel)&&e.router.navigate([e.router.url.split("?")[0].split("#")[0]],{queryParams:{authToken:void 0,fromChannel:void 0},queryParamsHandling:"merge"}),n.displayHotel&&"true"===n.displayHotel&&Object(s.L)(e.platformId)&&sessionStorage.setItem("vb-display-hotel-in-booking","true"),e.ssoSvc.hasAllParams(n)&&e.ssoSvc.checkState(null==n?void 0:n.state)&&e.doExternalLogin(n)}}))}},{key:"clearQuickLoginAuthData",value:function(){(new w).clearPersistedData()}},{key:"validateToken",value:function(){var e=this;Object(s.L)(this.platformId)&&localStorage.getItem("viva-user-esid")&&(this.intervalSubscribtion=Object(p.a)(6e4).subscribe((function(){return Object(o.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.account.validateToken().toPromise();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.onSessionError(e.t0,"::validateTokenError::");case 8:case"end":return e.stop()}}),e,this,[[0,5]])})))})))}},{key:"closeIntervalSubscription",value:function(){this.intervalSubscribtion.closed||this.intervalSubscribtion.unsubscribe()}},{key:"isLoggedIn",get:function(){return!!this.authToken&&!!this.userDetails}},{key:"apiUserDetails",get:function(){return this.isQuickLogin?this.sessionTokenRestore():this.account.accountRestore()}},{key:"authToken",get:function(){return this.token.authToken}},{key:"_userDetails",set:function(e){this.userDetails=e,this.$userDetails.next(this.userDetails)}},{key:"_userAccountType",set:function(e){this.userAccountType=e}},{key:"authenticatedAccountType",get:function(){return this.userAccountType?this.userAccountType:this.referralLogin?O.k.Agency:O.k.Anonymous}},{key:"userAccountTerms",get:function(){var e;return this.userAccountData?null===(e=this.userAccountData)||void 0===e?void 0:e.terms:[]}},{key:"_referralLogin",set:function(e){this.referralLogin=e,this.$referralLogin.next(this.referralLogin)}},{key:"_userAccountData",set:function(e){this.userAccountData=e,this.$userAccountData.next(this.userAccountData)}},{key:"userAccountData$",get:function(){return this.$userAccountData.asObservable()}},{key:"userDetails$",get:function(){return this.$userDetails.asObservable()}},{key:"referralLogin$",get:function(){return this.$referralLogin.asObservable()}},{key:"authSyncing$",get:function(){return this.$syncing.asObservable()}},{key:"onSyncDone",get:function(){return this.authSyncing$.pipe(Object(g.a)((function(e){return!1===e})))}},{key:"onSyncDonePromise",get:function(){return this.onSyncDone.pipe(Object(v.a)(1)).toPromise()}},{key:"tokenValidityHandlerFn",get:function(){return this.isQuickLogin?this.sessionTokenValidityHandler:this.tokenValidityHandler}},{key:"authTokenExpiration",set:function(e){Object(s.L)(this.platformId)&&localStorage.setItem(m.g.cacheKeys.LOGIN_TOKEN+"-expires",e)},get:function(){return Object(s.L)(this.platformId)?localStorage.getItem(m.g.cacheKeys.LOGIN_TOKEN+"-expires"):null}},{key:"tokenRemainingTimeInSeconds",get:function(){var e=this.authTokenExpiration;if(e){var t=u(e);if(t.isValid())return t.diff(u(),"seconds")}return-1}},{key:"isQuickLogin",get:function(){return this.token.authToken&&w.hasTokenData}}]),e}()).\u0275fac=function(e){return new(e||r)(c.dc(c.G),c.dc(s.e),c.dc(A.a),c.dc(l.g),c.dc(E.a),c.dc(P.a),c.dc(M.a),c.dc(x.a),c.dc(D.a),c.dc(I.b),c.dc(L.a))},r.\u0275prov=c.Pb({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},itXk:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("z+Ro"),r=n("DH7j"),o=n("l7GE"),a=n("ZUHj"),s=n("yCtX"),c={};function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=null,a=null;return Object(i.a)(t[t.length-1])&&(a=t.pop()),"function"==typeof t[t.length-1]&&(o=t.pop()),1===t.length&&Object(r.a)(t[0])&&(t=t[0]),Object(s.a)(t,a).lift(new u(o))}var u=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new d(e,this.resultSelector))}}]),e}(),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).resultSelector=i,r.active=0,r.values=[],r.observables=[],r}return _createClass(n,[{key:"_next",value:function(e){this.values.push(c),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var i=e[n];this.add(Object(a.a)(this,i,i,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,i,r){var o=this.values,a=this.toRespond?o[n]===c?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(o.a)},iyif:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n("R0Ic");Object(i.f)([Object(i.l)({opacity:"0",transition:"opacity 0.8s"}),Object(i.e)("800ms",Object(i.l)({opacity:1}))]);var r=Object(i.f)([Object(i.l)({opacity:0}),Object(i.e)("501ms",Object(i.l)({opacity:1}))]),o=Object(i.f)([Object(i.l)({opacity:1}),Object(i.e)("301ms",Object(i.l)({opacity:0}))])},jRmn:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i,r=n("fXoL"),o=n("ofXK"),a=n("9yTC"),s=n("b6Qw"),c=n("BifP"),l=n("5KMX"),u=((i=function(){function e(t,n,i,r){_classCallCheck(this,e),this.document=t,this.cookiesSvc=n,this.cmsConfig=i,this.sanitizer=r}return _createClass(e,[{key:"saveReferral",value:function(e){var t=this.cmsConfig._cmsConfig.globalSettings.sessionTime.metasearchSession.find((function(t){return t.metasearchCode===e}));this.cookiesSvc.set("metasearchReferral",e,{expires:t&&t.sessionInHours?t.sessionInHours/24:1})}},{key:"saveKayakClickId",value:function(e){var t=this,n=this.cmsConfig._cmsConfig.globalSettings.sessionTime.metasearchSession.find((function(e){return e.metasearchCode===t.cookiesSvc.get("metasearchReferral")}));this.cookiesSvc.set("metasearchId",e,{expires:n&&n.sessionInHours?n.sessionInHours/24:1})}},{key:"getCookie",value:function(){return this.cookiesSvc.get("metasearchReferral")?this.cookiesSvc.get("metasearchReferral"):""}},{key:"showPixel",value:function(e,t){var n=this,i=this.cmsConfig._cmsConfig.globalSettings.sessionTime.metasearchSession.find((function(e){return e.metasearchCode===n.cookiesSvc.get("metasearchReferral")}));if(null==i?void 0:i.triggerPixel){var r=e.basket.travel.passengers.filter((function(e){return e.passengerTypeCode===a.g.ADULT})),o=e.basket.travel.passengers.filter((function(e){return e.passengerTypeCode===a.g.CHILD})),s=e.basket.travel.passengers.filter((function(e){return e.passengerTypeCode===a.g.BABY}));switch(this.cookiesSvc.get("metasearchReferral")){case d.GoogleFlight:this.showGoogleFlights(e,r,o,s,t);break;case d.KayakMx:this.showKayakMX(e,t);break;case d.KayakUs:this.showKayakUS(e,t);break;case d.SkyScanner:this.showSkyScanner(e);break;case d.SkyScannerIntl:this.showSkyScannerIntl(e);break;case d.Viajala:this.showViajala(e)}}}},{key:"showGoogleFlights",value:function(e,t,n,i,o){var a=o.createElement("div"),s=this.sanitizer.sanitize(r.M.HTML,function(e,t,n,i){var r,o,a,s,c,l;return'\n  <div style="display:inline;">\n  <img height="1" width="1" style="border-style:none;" alt="" src="https://www.googletraveladservices.com/travel/flights/clk/pagead/conversion/268/?label=GFS&guid=ON&script=0&ord='.concat(e.basket.basketId,"&data=gfs_partner_id%3D268%3Bgfs_trip_type%3D").concat(e.basketBooking.journeys[0].travelType,"%3Bgfs_origin%3D").concat(e.basketBooking.journeys[0].origin.code,"%3Bgfs_destination%3D").concat(e.basketBooking.journeys[0].destination.code,"%3Bgfs_departure_date%3D").concat(e.basketBooking.journeys[0].departureDate.scheduled,"%3Bgfs_return_date%3D").concat(1===e.basketBooking.journeys.length?e.basketBooking.journeys[0].departureDate.scheduled:e.basketBooking.journeys[1].departureDate.scheduled,"%3Bgfs_total_price%3D").concat(e.basketBooking.totalAmount.amount,"%3Bgfs_currency%3D").concat(e.basketBooking.currencyCode,"%3Bgfs_passengers_total%3D").concat(e.basketBooking.passengers.length,"%3Bgfs_passengers_adult%3D").concat(t.length,"%3Bgfs_passengers_child%3D").concat(n.length,"%3Bgfs_passengers_infant_in_seat%3D0%3Bgfs_passengers_infant_in_lap%3D").concat(i.length,"%3Bgfs_passengers_senior%3D0%3Bgfs_cabins%3DEconomy%3Bgfs_fare_products%3D").concat((null===(a=null===(o=null===(r=e.basketBooking.journeys)||void 0===r?void 0:r[0])||void 0===o?void 0:o.fare)||void 0===a?void 0:a.bundleTypeName)?null===(l=null===(c=null===(s=e.basketBooking.journeys)||void 0===s?void 0:s[0])||void 0===c?void 0:c.fare)||void 0===l?void 0:l.bundleType:e.basketBooking.journeys[0].fare.fareType,"%3Bgfs_booking_codes%3D").concat(e.basketBooking.journeys[0].fare.fareCode,"%3Bgfs_flights%3D").concat(e.basketBooking.journeys[0].segments[0].flightNumber,'%3B"></img>\n  </div>')}(e,t,n,i),{ALLOWED_ATTR:["src","style","width","height","alt"]});o.setProperty(a,"innerHTML",s),o.appendChild(this.document.getElementById("pixelReferral"),a),this.cookiesSvc.delete("metasearchReferral")}},{key:"showKayakMX",value:function(e,t){var n=this,i=t.createElement("div"),o=this.sanitizer.sanitize(r.M.HTML,function(e,t){return'\n      <div id="kayak-confirmation" style="display:none;">\n      <img src="https://www.kayak.com/s/kayakpixel/confirm/VB?kayakclickid='.concat(n.cookiesSvc.get("metasearchId"),"&price=").concat(e.basketBooking.totalAmount.amount,"&currency=").concat(e.basketBooking.currencyCode,"&confirmation=").concat(e.basket.travel.pnr,"&rand=").concat(Math.ceil(1e4*Math.random()),'"/>\n      </div>')}(e),{ALLOWED_ATTR:["id","style","src"]});t.setProperty(i,"innerHTML",o),t.appendChild(this.document.getElementById("pixelReferral"),i),this.cookiesSvc.delete("metasearchReferral"),this.cookiesSvc.delete("metasearchId")}},{key:"showKayakUS",value:function(e,t){var n=this,i=t.createElement("div"),o=this.sanitizer.sanitize(r.M.HTML,function(e,t){return'\n      <div id="kayak-confirmation" style="display:none;">\n      <img src="https://www.kayak.com/s/kayakpixel/confirm/VB?kayakclickid='.concat(n.cookiesSvc.get("metasearchId"),"&price=").concat(e.basketBooking.totalAmount.amount,"&currency=").concat(e.basketBooking.currencyCode,"&confirmation=").concat(e.basket.travel.pnr,"&rand=").concat(Math.ceil(1e4*Math.random()),'"/>\n      </div>')}(e),{ALLOWED_ATTR:["id","style","src"]});t.setProperty(i,"innerHTML",o),t.appendChild(this.document.getElementById("pixelReferral"),i),this.cookiesSvc.delete("metasearchReferral"),this.cookiesSvc.delete("metasearchId")}},{key:"showSkyScanner",value:function(e){var t=this.document.createElement("script");t.text=function(e){return"\n    (function(s,k,y,t,a,g){s['SkyscannerAnalyticsTag']=t;s[t]=s[t]||function(){ (s[t].buffer=s[t].buffer||[]).push(arguments)};s[t].u=y;var l=k.createElement(\"script\"); l.src=y+\"/tag.js\";l.async=1;var h=k.getElementsByTagName(\"head\")[0];h.appendChild(l); })(window, document, 'https://analytics.skyscanner.net', 'sat');\n    sat('init', 'SAT-709135-1');\n    sat('send', 'conversion', {\n      bookingReference: '".concat(e.basket.travel.pnr,"'\n    });")}(e),t.type="text/javascript",t.async=!1,this.document.getElementById("pixelReferral").append(t),this.cookiesSvc.delete("metasearchReferral")}},{key:"showSkyScannerIntl",value:function(e){var t=this.document.createElement("script");t.text=function(e){return"\n    (function(s,k,y,t,a,g){s['SkyscannerAnalyticsTag']=t;s[t]=s[t]||function(){ (s[t].buffer=s[t].buffer||[]).push(arguments)};s[t].u=y;var l=k.createElement(\"script\"); l.src=y+\"/tag.js\";l.async=1;var h=k.getElementsByTagName(\"head\")[0];h.appendChild(l); })(window, document, 'https://analytics.skyscanner.net', 'sat');\n    sat('init', 'SAT-709135-1');\n    sat('send', 'conversion', {\n      bookingReference: '".concat(e.basket.travel.pnr,"'\n    });")}(e),t.type="text/javascript",t.async=!1,this.document.getElementById("pixelReferral").append(t),this.cookiesSvc.delete("metasearchReferral")}},{key:"showViajala",value:function(e){var t=this.document.createElement("script"),n=this.document.createElement("script");t.text=function(e){return"\n      var vjlValue = Math.round(".concat(e.basketBooking.totalAmount.amount,");\n      console.log(\"vjl \"+vjlValue);\n      var viajala_conversion_params = {\n        supplier: 'vivaaerobus',\n        origin: '").concat(e.basketBooking.journeys[0].origin.code,"',\n        destination: '").concat(e.basketBooking.journeys[0].destination.code,"',\n        grossBooking: vjlValue,\n        currency: '").concat(e.basketBooking.currencyCode,"'\n      };\n    ")}(e),t.type="text/javascript",n.type="text/javascript",n.src="//cdn.viajala.com/tracking/conversion.js",t.async=!1;var i=this.document.createElement("div");i.append(t),i.append(n),this.document.getElementById("pixelReferral").appendChild(i),this.cookiesSvc.delete("metasearchReferral")}}]),e}()).\u0275fac=function(e){return new(e||i)(r.dc(o.e),r.dc(s.a),r.dc(c.a),r.dc(l.d))},i.\u0275prov=r.Pb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),d=function(e){return e.GoogleFlight="GoogleFlight",e.KayakMx="KayakMx",e.KayakUs="KayakUs",e.SkyScanner="SkyScanner",e.SkyScannerIntl="SkyScannerIntl",e.Viajala="Viajala",e}({})},jZKg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("HDdC"),r=n("quSY");function o(e,t){return new i.a((function(n){var i=new r.a,o=0;return i.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||i.add(this.schedule())):n.complete()}))),i}))}},"jfS+":function(e,t,n){"use strict";var i=n("endd");function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},jhN1:function(e,t,n){"use strict";n.d(t,"a",(function(){return G})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return P})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return Z})),n.d(t,"g",(function(){return K})),n.d(t,"h",(function(){return Q})),n.d(t,"i",(function(){return z})),n.d(t,"j",(function(){return U})),n.d(t,"k",(function(){return C}));var i,r=n("ofXK"),o=n("fXoL"),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=s||(s=document.querySelector("base"))?s.getAttribute("href"):null;return null==n?null:(t=n,i||(i=document.createElement("a")),i.setAttribute("href",t),"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname)}},{key:"resetBaseElement",value:function(){s=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Object(r.R)(document.cookie,e)}}],[{key:"makeCurrent",value:function(){Object(r.S)(new n)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(r.O)),s=null,c=new o.t("TRANSITION_ID"),l=[{provide:o.d,useFactory:function(e,t,n){return function(){n.get(o.e).donePromise.then((function(){var n=Object(r.Q)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[c,r.e,o.u],multi:!0}],u=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){o.ub.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},o.ub.getAllAngularTestabilities=function(){return e.getAllTestabilities()},o.ub.getAllAngularRootElements=function(){return e.getAllRootElements()},o.ub.frameworkStabilizers||(o.ub.frameworkStabilizers=[]),o.ub.frameworkStabilizers.push((function(e){var t=o.ub.getAllAngularTestabilities(),n=t.length,i=!1,r=function(t){i=i||t,0==--n&&e(i)};t.forEach((function(e){e.whenStable(r)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var i=e.getTestability(t);return null!=i?i:n?Object(r.Q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){Object(o.cb)(new e)}}]),e}(),d=new o.t("EventManagerPlugins"),h=function(){var e=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=i})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(e))return this._eventNameToPlugin.set(e,r),r}throw new Error("No event manager plugin found for event "+e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.dc(d),o.dc(o.E))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e}(),f=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var i=Object(r.Q)().getGlobalEventTarget(this._doc,e);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(t));return this.addEventListener(i,t,n)}}]),e}(),p=function(){var e=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e}(),g=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._doc=e,i._hostNodes=new Set,i._styleNodes=new Set,i._hostNodes.add(e.head),i}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var i=n._doc.createElement("style");i.textContent=e,n._styleNodes.add(t.appendChild(i))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return Object(r.Q)().remove(e)}))}}]),n}(p);return e.\u0275fac=function(t){return new(t||e)(o.dc(r.e))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e}(),v={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},m=/%COMP%/g;function b(e,t,n){for(var i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?b(e,r,n):(r=r.replace(m,e),n.push(r))}return n}function y(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var _,C=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new k(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case o.T.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new S(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case o.T.Native:case o.T.ShadowDom:return new O(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=b(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.dc(h),o.dc(g),o.dc(o.c))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e}(),k=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(v[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,i){if(i){t=i+":"+t;var r=v[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var i=v[n];i?e.removeAttributeNS(i,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,i){i&o.K.DashCase?e.style.setProperty(t,n,i&o.K.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&o.K.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,y(n)):this.eventManager.addEventListener(e,t,y(n))}}]),e}(),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).component=r;var s,c=b(o+"-"+r.id,r.styles,[]);return i.addStyles(c),a.contentAttr="_ngcontent-%COMP%".replace(m,o+"-"+r.id),a.hostAttr=(s=o+"-"+r.id,"_nghost-%COMP%".replace(m,s)),a}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var i=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}(k),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,a){var s;_classCallCheck(this,n),(s=t.call(this,e)).sharedStylesHost=i,s.hostEl=r,s.component=a,s.shadowRoot=a.encapsulation===o.T.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var c=b(a.id,a.styles,[]),l=0;l<c.length;l++){var u=document.createElement("style");u.textContent=c[l],s.shadowRoot.appendChild(u)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,i){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,i)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(k),T=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var i=this;return e.addEventListener(t,n,!1),function(){return i.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(f);return e.\u0275fac=function(t){return new(t||e)(o.dc(r.e))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e}(),w={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},A=new o.t("HammerGestureConfig"),E=new o.t("HammerLoader"),P=function(){var e=function(){function e(){_classCallCheck(this,e),this.events=[],this.overrides={}}return _createClass(e,[{key:"buildHammer",value:function(e){var t=new Hammer(e,this.options);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e}(),M=[{provide:d,useClass:(_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,e))._config=i,a.console=r,a.loader=o,a}return _createClass(n,[{key:"supports",value:function(e){return!(!w.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(e,'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.')),1))}},{key:"addEventListener",value:function(e,t,n){var i=this,r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then((function(){if(!window.Hammer)return i.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=i.addEventListener(e,t,n))})).catch((function(){i.console.warn('The "'.concat(t,'" event cannot be bound because the custom Hammer.JS loader failed.')),a=function(){}})),function(){a()}}return r.runOutsideAngular((function(){var o=i._config.buildHammer(e),a=function(e){r.runGuarded((function(){n(e)}))};return o.on(t,a),function(){o.off(t,a),"function"==typeof o.destroy&&o.destroy()}}))}},{key:"isCustomEvent",value:function(e){return this._config.events.indexOf(e)>-1}}]),n}(f),_.\u0275fac=function(e){return new(e||_)(o.dc(r.e),o.dc(A),o.dc(o.db),o.dc(E,8))},_.\u0275prov=o.Pb({token:_,factory:_.\u0275fac}),_),multi:!0,deps:[r.e,A,o.db,[new o.F,E]]},{provide:A,useClass:P,deps:[]}],x=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)},providers:M}),e}(),D=["alt","control","meta","shift"],I={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},L={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},R={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},N=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,i){var o=n.parseEventName(t),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Object(r.Q)().onAndCancel(e,o.domEventName,a)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),i=t.shift();if(0===t.length||"keydown"!==i&&"keyup"!==i)return null;var r=n._normalizeKey(t.pop()),o="";if(D.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=r,0!=t.length||0===r.length)return null;var a={};return a.domEventName=i,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&L.hasOwnProperty(t)&&(t=L[t]))}return I[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),D.forEach((function(i){i!=n&&(0,R[i])(e)&&(t+=i+".")})),t+=n}},{key:"eventCallback",value:function(e,t,i){return function(r){n.getEventFullKey(r)===e&&i.runGuarded((function(){return t(r)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(f);return e.\u0275fac=function(t){return new(t||e)(o.dc(r.e))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e}(),j=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(o.Pb)({factory:function(){return Object(o.dc)(F)},token:e,providedIn:"root"}),e}();function B(e){return new F(e.get(r.e))}var F=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._doc=e,i}return _createClass(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case o.M.NONE:return t;case o.M.HTML:return Object(o.jb)(t,"HTML")?Object(o.Db)(t):Object(o.gb)(this._doc,String(t));case o.M.STYLE:return Object(o.jb)(t,"Style")?Object(o.Db)(t):Object(o.hb)(t);case o.M.SCRIPT:if(Object(o.jb)(t,"Script"))return Object(o.Db)(t);throw new Error("unsafe value used in a script context");case o.M.URL:return Object(o.tb)(t),Object(o.jb)(t,"URL")?Object(o.Db)(t):Object(o.ib)(String(t));case o.M.RESOURCE_URL:if(Object(o.jb)(t,"ResourceURL"))return Object(o.Db)(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return Object(o.kb)(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return Object(o.nb)(e)}},{key:"bypassSecurityTrustScript",value:function(e){return Object(o.mb)(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return Object(o.ob)(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return Object(o.lb)(e)}}]),n}(j);return e.\u0275fac=function(t){return new(t||e)(o.dc(r.e))},e.\u0275prov=Object(o.Pb)({factory:function(){return B(Object(o.dc)(o.r))},token:e,providedIn:"root"}),e}(),H=[{provide:o.G,useValue:r.P},{provide:o.H,useValue:function(){a.makeCurrent(),u.init()},multi:!0},{provide:r.e,useFactory:function(){return Object(o.Bb)(document),document},deps:[]}],U=Object(o.V)(o.bb,"browser",H),Y=[[],{provide:o.eb,useValue:"root"},{provide:o.o,useFactory:function(){return new o.o},deps:[]},{provide:d,useClass:T,multi:!0,deps:[r.e,o.E,o.G]},{provide:d,useClass:N,multi:!0,deps:[r.e]},[],{provide:C,useClass:C,deps:[h,g,o.c]},{provide:o.J,useExisting:C},{provide:p,useExisting:g},{provide:g,useClass:g,deps:[r.e]},{provide:o.Q,useClass:o.Q,deps:[o.E]},{provide:h,useClass:h,deps:[d,o.E]},[]],G=function(){var e=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:o.c,useValue:t.appId},{provide:c,useExisting:o.c},l]}}}]),e}();return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)(o.dc(e,12))},providers:Y,imports:[r.c,o.f]}),e}();function V(){return new Z(Object(o.dc)(r.e))}var Z=function(){var e=function(){function e(t){_classCallCheck(this,e),this._doc=t,this._dom=Object(r.Q)()}return _createClass(e,[{key:"addTag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?this._getOrCreateElement(e,t):null}},{key:"addTags",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?e.reduce((function(e,i){return i&&e.push(t._getOrCreateElement(i,n)),e}),[]):[]}},{key:"getTag",value:function(e){return e&&this._doc.querySelector("meta[".concat(e,"]"))||null}},{key:"getTags",value:function(e){if(!e)return[];var t=this._doc.querySelectorAll("meta[".concat(e,"]"));return t?[].slice.call(t):[]}},{key:"updateTag",value:function(e,t){if(!e)return null;t=t||this._parseSelector(e);var n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)}},{key:"removeTag",value:function(e){this.removeTagElement(this.getTag(e))}},{key:"removeTagElement",value:function(e){e&&this._dom.remove(e)}},{key:"_getOrCreateElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t){var n=this._parseSelector(e),i=this.getTag(n);if(i&&this._containsAttributes(e,i))return i}var r=this._dom.createElement("meta");return this._setMetaElementAttributes(e,r),this._doc.getElementsByTagName("head")[0].appendChild(r),r}},{key:"_setMetaElementAttributes",value:function(e,t){return Object.keys(e).forEach((function(n){return t.setAttribute(n,e[n])})),t}},{key:"_parseSelector",value:function(e){var t=e.name?"name":"property";return"".concat(t,'="').concat(e[t],'"')}},{key:"_containsAttributes",value:function(e,t){return Object.keys(e).every((function(n){return t.getAttribute(n)===e[n]}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.dc(r.e))},e.\u0275prov=Object(o.Pb)({factory:V,token:e,providedIn:"root"}),e}();function W(){return new K(Object(o.dc)(r.e))}var K=function(){var e=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"getTitle",value:function(){return this._doc.title}},{key:"setTitle",value:function(e){this._doc.title=e||""}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.dc(r.e))},e.\u0275prov=Object(o.Pb)({factory:W,token:e,providedIn:"root"}),e}();function z(e){return e}"undefined"!=typeof window&&window;var Q=function(){var e=function(){function e(){_classCallCheck(this,e),this.store={},this.onSerializeCallbacks={}}return _createClass(e,[{key:"get",value:function(e,t){return void 0!==this.store[e]?this.store[e]:t}},{key:"set",value:function(e,t){this.store[e]=t}},{key:"remove",value:function(e){delete this.store[e]}},{key:"hasKey",value:function(e){return this.store.hasOwnProperty(e)}},{key:"onSerialize",value:function(e,t){this.onSerializeCallbacks[e]=t}},{key:"toJson",value:function(){for(var e in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(e))try{this.store[e]=this.onSerializeCallbacks[e]()}catch(t){console.warn("Exception in onSerialize callback: ",t)}return JSON.stringify(this.store)}}],[{key:"init",value:function(t){var n=new e;return n.store=t,n}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e}()},jtHE:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("XNiG"),r=n("qgXg"),o=n("quSY"),a=n("pxpQ"),s=n("9ppp"),c=n("Ylt2"),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=i<1?1:i,e._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new u(this._getNow(),e)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,l=i.length;if(this.closed)throw new s.a;if(this.isStopped||this.hasError?t=o.a.EMPTY:(this.observers.push(e),t=new c.a(this,e)),r&&e.add(e=new a.a(e,r)),n)for(var u=0;u<l&&!e.closed;u++)e.next(i[u]);else for(var d=0;d<l&&!e.closed;d++)e.next(i[d].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||r.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(e-i[o].time<n);)o++;return r>t&&(o=Math.max(o,r-t)),o>0&&i.splice(0,o),i}}]),n}(i.a),u=function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n}},juv8:function(e,t,n){var i=n("MrPd"),r=n("hypo");e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=o?o(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),a?r(n,l,u):i(n,l,u)}return n}},"k+1r":function(e,t,n){var i=n("QkVE");e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i="function"==typeof Symbol&&Symbol.observable||"@@observable"},kWhM:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("d/Sv"),r=n("wd/R"),o=n("RJ73"),a=n("fXoL"),s=n("ChtM"),c=n("CJ36"),l=n("BifP"),u=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.currencySvc=t,this.locale=n,this.csmConfig=i}return _createClass(e,[{key:"isValidForm",value:function(e){var t=void 0!==e.tripType&&void 0!==e.passengers,n=!0;if(e.journeys&&e.journeys.length>0){var i,r=_createForOfIteratorHelper(e.journeys);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(!this.isValidJourney(e.tripType,o)){n=!1;break}}}catch(a){r.e(a)}finally{r.f()}}else n=!1;return t&&n}},{key:"isValidJourney",value:function(e,t){var n=void 0!==t&&void 0!==t.origin&&void 0!==t.destination;return e===i.a.ROUND_TRIP?n&&void 0!==t.journeyDates&&r.isMoment(t.journeyDates.startDate)&&r.isMoment(t.journeyDates.endDate):n&&void 0!==t.journeyDates&&r.isMoment(t.journeyDates.startDate)}},{key:"createFlightAvailabilityJourneyArray",value:function(e){var t,n,r,o,a,s,c,l,u=[];if(e.tripType!==i.a.ROUND_TRIP)u=e.journeys.map((function(e){var t,n,i,r;return{origin:{code:(null===(n=null===(t=e.origin)||void 0===t?void 0:t.maac)||void 0===n?void 0:n.searchCode)?e.origin.maac.searchCode:e.origin.code},destination:{code:(null===(r=null===(i=e.destination)||void 0===i?void 0:i.maac)||void 0===r?void 0:r.searchCode)?e.destination.maac.searchCode:e.destination.code},date:e.journeyDates.startDate}}));else{var d=e.journeys[0];u=[{origin:{code:(null===(n=null===(t=d.origin)||void 0===t?void 0:t.maac)||void 0===n?void 0:n.searchCode)?d.origin.maac.searchCode:d.origin.code},destination:{code:(null===(o=null===(r=d.destination)||void 0===r?void 0:r.maac)||void 0===o?void 0:o.searchCode)?d.destination.maac.searchCode:d.destination.code},date:d.journeyDates.startDate},{origin:{code:(null===(s=null===(a=d.destination)||void 0===a?void 0:a.maac)||void 0===s?void 0:s.searchCode)?d.destination.maac.searchCode:d.destination.code},destination:{code:(null===(l=null===(c=d.origin)||void 0===c?void 0:c.maac)||void 0===l?void 0:l.searchCode)?d.origin.maac.searchCode:d.origin.code},date:d.journeyDates.endDate}]}return u}},{key:"createFlightSearchParams",value:function(e){var t=this,n="";this.createFlightAvailabilityJourneyArray(e).forEach((function(e,i){0!==i&&(n+="."),n+=t.journeyToString(e)}));var i="";i+="A"+e.passengers.adults,e.passengers.kids>0&&(i+="_C"+e.passengers.kids),e.passengers.babies>0&&(i+="_I"+e.passengers.babies);var r={itineraryCode:n,passengers:i};return e.promoCode&&(r.promoCode=e.promoCode),e.journeys.some((function(e){return!!e.origin.maac||!!e.destination.maac}))&&(r.alternateStations=this.createAlternateStationsParameter(e)),r}},{key:"journeyToString",value:function(e){if(e){var t="".concat(e.origin.code,"_").concat(e.destination.code,"_");return t+="string"==typeof e.date?r(e.date).format("YYYYMMDD"):e.date.format("YYYYMMDD")}return""}},{key:"createStationSearchObject",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{startDate:e.journeys[n].journeyDates.startDate.toISOString(),endDate:(null===(t=e.journeys[n].journeyDates.endDate)||void 0===t?void 0:t.toISOString())||void 0,origin:{code:e.journeys[n].origin.code},destination:{code:e.journeys[n].destination.code},passengers:e.passengers,stationType:o.i.AIRPORT,travelType:e.tripType}}},{key:"createVivaRedirectLink",value:function(e){var t,n,i,o,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=((null===(i=null===(n=null===(t=this.csmConfig._cmsConfig)||void 0===t?void 0:t.globalSettings)||void 0===n?void 0:n.webRedirects)||void 0===i?void 0:i.originURL)||"https://www.vivaaerobus.com")+"/Booking/PostCriteria?";c+="DepartureCity="+e.journeys[s].origin.code,c+="&ArrivalCity="+e.journeys[s].destination.code,c+=e.journeys[s].journeyDates.startDate?"&DepartureDate="+r(e.journeys[s].journeyDates.startDate).format("MM/DD/YYYY"):"",c+=e.journeys[s].journeyDates.endDate?"&ReturnDate="+r(e.journeys[s].journeyDates.endDate).format("MM/DD/YYYY"):"",c+=a?"&CalendarSearch=True":"",c+=e.passengers.adults?"&Adults="+e.passengers.adults:"",c+=e.passengers.kids?"&Children="+e.passengers.kids:"",c+=e.passengers.babies?"&Infants="+e.passengers.babies:"";var l=this.currencySvc._selectedCurrency;c+="MXN"===l.code||"USD"===l.code?"&Currency="+l.code:"";var u=null===(o=this.locale.getAppLocale())||void 0===o?void 0:o.split("-")[0];return c+="es"===u||"en"===u?"&Lang="+u:"",c+=e.promoCode?"&PromoCode="+e.promoCode:"",c+="&utm_campaign=colombia-searches",c+="&utm_medium=website",c+="&utm_source=homepage-pwa"}},{key:"createAlternateStationsParameter",value:function(e){var t,n,r,o,a=[];if(e.tripType===i.a.ROUND_TRIP){var s=e.journeys[0];a.push(Number(!!(null===(t=s.origin)||void 0===t?void 0:t.maac)),Number(!!(null===(n=s.destination)||void 0===n?void 0:n.maac)),Number(!!(null===(r=s.destination)||void 0===r?void 0:r.maac)),Number(!!(null===(o=s.origin)||void 0===o?void 0:o.maac)))}else e.journeys.forEach((function(e){var t,n;a.push(Number(!!(null===(t=e.origin)||void 0===t?void 0:t.maac)),Number(!!(null===(n=e.destination)||void 0===n?void 0:n.maac)))}));return a.join("")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.dc(s.a),a.dc(c.a),a.dc(l.a))},e.\u0275prov=a.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},kekF:function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},kh7C:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"f",(function(){return w})),n.d(t,"d",(function(){return A})),n.d(t,"e",(function(){return E})),n.d(t,"c",(function(){return P})),n.d(t,"g",(function(){return M}));var i,r=n("ofXK"),o=n("fXoL"),a=n("tyNb"),s=n("wd/R"),c=n("PqYM"),l=n("pLZG"),u=n("l7GE"),d=n("ZUHj"),h=function(){function e(t){_classCallCheck(this,e),this.closingNotifier=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new f(e,this.closingNotifier))}}]),e}(),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).buffer=[],r.add(Object(d.a)(_assertThisInitialized(r),i)),r}return _createClass(n,[{key:"_next",value:function(e){this.buffer.push(e)}},{key:"notifyNext",value:function(e,t,n,i,r){var o=this.buffer;this.buffer=[],this.destination.next(o)}}]),n}(u.a),p=n("Kj3r"),g=n("lJxs"),v=n("RbsG"),m=n("WSM3"),b=n("PxKc"),y=n("9yTC"),_=n("1AID"),C=n("/M7d"),k=n("BifP"),S=((i=function(){function e(t,n,i,r,o){var s=this;_classCallCheck(this,e),this.document=t,this.locale=n,this.platformId=i,this.router=r,this.cmsConfig=o,this.currentUrl=this.router.url,r.events.subscribe((function(e){e instanceof a.c&&(s.previousUrl=s.currentUrl,s.currentUrl=e.url)}))}return _createClass(e,[{key:"simpleArrayToMultidimensionalArray",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=[],r=[],o=_createForOfIteratorHelper(e.entries());try{for(o.s();!(t=o.n()).done;){var a=_slicedToArray(t.value,2),s=a[0],c=a[1];r.length<n&&s!==e.length-1?r.push(c):(r.length===n&&(i.push(r),r=[]),r.push(c),s===e.length-1&&i.push(r))}}catch(l){o.e(l)}finally{o.f()}return i}},{key:"getDistance",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"M";if(e===n&&t===i)return 0;var o=Math.PI*e/180,a=Math.PI*n/180,s=Math.PI*(t-i)/180,c=Math.sin(o)*Math.sin(a)+Math.cos(o)*Math.cos(a)*Math.cos(s);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,"K"===r&&(c*=1.609344),"N"===r&&(c*=.8684),c}},{key:"hasAllRequiredQueryParams",value:function(e,t){if(e&&t&&Array.isArray(t)){var n,i=!1,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(!e.has(o)){i=!0;break}}}catch(a){r.e(a)}finally{r.f()}return!i}return!1}},{key:"isInsideSegment",value:function(e,t){return!!e.find((function(e){return e.path===t}))}},{key:"getParamsFromUrlSearch",value:function(e){var t=e||this.document.location.search;if(!(t&&t.length>0))return{};var n,i={},r=_createForOfIteratorHelper((t=t.substring(1)).split("&"));try{for(r.s();!(n=r.n()).done;){var o=n.value.split("=");i[o[0]]=o[1]}}catch(a){r.e(a)}finally{r.f()}return i}},{key:"getRouteAggregattedData",value:function(e){return e.events.pipe(Object(l.a)((function(e){return e instanceof a.b})),(t=e.events.pipe(Object(l.a)((function(e){return e instanceof a.c})),Object(p.a)(0)),function(e){return e.lift(new h(t))}),Object(g.a)((function(e){return e.reduce((function(e,t){return Object.assign(Object.assign({},e),t.snapshot.data)}),{})})));var t}},{key:"scrollToError",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;Object(r.L)(this.platformId)&&Object(c.a)(n).subscribe((function(){window.scroll({top:t.getTopOffset(e)-100,left:0,behavior:"smooth"})}))}},{key:"getTopOffset",value:function(e){return e.getBoundingClientRect().top+window.scrollY-50}},{key:"isAffiliationValid",value:function(e){return!(!e||!e.endDate)&&(m.f.includes(e.code)?"AC"===e.level:s().isSameOrBefore(s(e.endDate),"day"))}},{key:"resolveNumberPhone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"e164Number";return e[t]}},{key:"getDepartureDateRanges",value:function(e){if(Array.isArray(e)&&e.length){var t=e.map((function(e){return s(e.departureDate)}));return{first:s.min(t).format("YYYY-MM-DDThh:mm:ss"),last:s.max(t).format("YYYY-MM-DDThh:mm:ss")}}var n=s().format("YYYY-MM-DDThh:mm:ss");return{first:n,last:n}}},{key:"hasAlternativeProviderInBooking",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"operatingCarrier";return null==e?void 0:e.some((function(e){return t.hasAlternativeProviderInSegments(e.segments,n)}))}},{key:"allAlternativeProviderInBooking",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"operatingCarrier";return null==e?void 0:e.every((function(e){return t.hasAlternativeProviderInSegments(e.segments,n)}))}},{key:"hasAlternativeProviderInSegments",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"operatingCarrier";return null==e?void 0:e.some((function(e){return"VB"!==(null==e?void 0:e[t])}))}},{key:"getAlternativeProvider",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"operatingCarrier",n=e.find((function(e){return"VB"!==(null==e?void 0:e[t])}));if(n)return null==n?void 0:n[t]}},{key:"countAltProviders",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"operatingCarrier";return this.allAlternativeProviderInBooking(e,t)?"all":this.hasAlternativeProviderInBooking(e,t)?"one":"none"}},{key:"hasCO",value:function(e){return null==e?void 0:e.some((function(e){return"CO"===e.destination.countryCode||"CO"===e.origin.countryCode}))}},{key:"checkBookingAvailability",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,o=!1;if(o=(null==e?void 0:e.rules)&&Array.isArray(e.rules)&&e.rules.length?null===(n=e.rules.find((function(e){return e.type===t})))||void 0===n?void 0:n.isEnabled:i,r&&!o){var a=r!==b.b.CheckIn?["manage","trip-details"]:["check-in"],s={pnr:e.pnr,lastName:e.passengers[0].lastName};r===b.b.Manage&&(s.bookingRule=t),this.router.navigate(a,{queryParams:s})}return o}},{key:"checkJourneyAvailability",value:function(e,t){var n;return Array.isArray(e)&&(null===(n=e.find((function(e){return e.type===t})))||void 0===n?void 0:n.isEnabled)}},{key:"hasLoginRequired",value:function(e,t){if(e.rules&&Array.isArray(e.rules)&&e.rules.length){var n=e.rules.find((function(e){return e.type===t}));if(n&&n.details&&Array.isArray(n.details)&&n.details.length){var i=n.details.find((function(e){return Object.values(v.n).includes(e.code)}));if(i)return i}}}},{key:"isActionRequired",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.rules&&Array.isArray(e.rules)&&e.rules.length){var i=e.rules.find((function(e){return e.type===t}));if(i&&i.details&&Array.isArray(i.details)&&i.details.length){var r=i.details.find((function(e){return"DisabledForIropEvent"===e.code}));return r&&n?r:this.hasLoginRequired(e,t)}}}},{key:"getBookingNotifications",value:function(e){var t=new Map,n=function(e,t){t.forEach((function(t){e.has(t.code)||e.set(t.code,t)}))};return e&&(n(t,e.notifications||[]),Array.isArray(e.journeys)&&e.journeys.length&&e.journeys.forEach((function(e){n(t,e.notifications||[]),Array.isArray(e.segments)&&e.segments.length&&e.segments.forEach((function(e){n(t,e.notifications||[]),Array.isArray(e.legs)&&e.legs.length&&e.legs.forEach((function(e){n(t,e.notifications||[])}))}))}))),Array.from(t.values())}},{key:"bookingSegmentToAvailabilitySegment",value:function(e){if(e)return Object.assign(Object.assign({},e),{departureDate:e.departureDate.scheduled,arrivalDate:e.arrivalDate.scheduled,serviceAvailability:[],legs:this.bookingLegsToAvailabilityLegs(e.legs||[])})}},{key:"bookingLegsToAvailabilityLegs",value:function(e){return e&&Array.isArray(e)?e.map((function(e){return Object.assign(Object.assign({},e),{departureDate:e.departureDate.scheduled,arrivalDate:e.arrivalDate.scheduled})})):[]}},{key:"getCanceledJourney",value:function(e){return e.find((function(e){return null==e?void 0:e.segments.some((function(e){return null==e?void 0:e.legs.some((function(e){return e.status===v.h.Canceled}))}))}))}},{key:"getPreviousUrl",value:function(){return this.previousUrl}},{key:"getPassengerKeysWithVivaFanDiscount",value:function(e){var t=e.journeys[0].key;return e.charges.filter((function(e){return"FlightFanDiscount"===e.code&&e.journeyKey===t})).map((function(e){return e.passengerKey}))}},{key:"getAllowedVivafanCompanions",value:function(e){if(e&&Array.isArray(e)&&e.length){var t=e.find((function(e){return m.i.includes(e.code)}));if(t&&this.isAffiliationValid(t)&&t.id)return parseInt(t.id.split("_")[1],10)||0}return 0}},{key:"isDotersAffiliationValid",value:function(e){if(Object(r.L)(this.platformId)&&e&&e.accountType!==v.k.Agency&&e.accountType!==v.k.Enterprise&&e.accountType!==v.k.Staff&&!sessionStorage.getItem("loginReferral"))return e.affiliations.find((function(e){return m.d.includes(e.code)&&s().add(1,"days").isBefore(s(e.endDate))}))}},{key:"isThereAnAffiliationValid",value:function(e,t){var n;if(Array.isArray(e)&&t)switch(t){case"vivafan":n=e.find((function(e){return m.i.includes(null==e?void 0:e.code)}));break;case"doters":n=e.find((function(e){return m.d.includes(null==e?void 0:e.code)&&s().add(1,"days").isBefore(s(e.endDate))}));break;case"staff":n=e.find((function(e){return m.g.includes(null==e?void 0:e.code)}));break;case"smile&fly":n=e.find((function(e){return m.f.includes(null==e?void 0:e.code)}))}return n&&this.isAffiliationValid(n)}},{key:"matchBundles",value:function(e){switch(e){case y.e.VIVA_ZERO:return y.d.VIVA_ZERO;case y.e.VIVA_LIGHT:return y.d.VIVA_LIGHT;case y.e.VIVA_BASIC:return y.d.VIVA_BASIC;case y.e.VIVA_SMART:return y.d.VIVA_SMART}return null}},{key:"matchFares",value:function(e){switch(e){case y.d.VIVA_ZERO:return y.e.VIVA_ZERO;case y.d.VIVA_LIGHT:return y.e.VIVA_LIGHT;case y.d.VIVA_BASIC:return y.e.VIVA_BASIC;case y.d.VIVA_SMART:return y.e.VIVA_SMART;default:return null}}},{key:"getFareFromBooking",value:function(e){var t,n,i,r,o,a,s,c,l;return e&&(null===(i=null===(n=null===(t=e.journeys)||void 0===t?void 0:t[0])||void 0===n?void 0:n.fare)||void 0===i?void 0:i.fareType)?(null===(o=null===(r=e.journeys[0])||void 0===r?void 0:r.fare)||void 0===o?void 0:o.bundleTypeName)?this.matchFares(null===(s=null===(a=e.journeys[0])||void 0===a?void 0:a.fare)||void 0===s?void 0:s.bundleType):null===(l=null===(c=e.journeys[0])||void 0===c?void 0:c.fare)||void 0===l?void 0:l.fareType:null}},{key:"getFareFromBasket",value:function(e){return e&&(null==e?void 0:e.fareType)?(null==e?void 0:e.bundleType)&&"None"!==(null==e?void 0:e.bundleType)?this.matchFares(null==e?void 0:e.bundleType):null==e?void 0:e.fareType:null}},{key:"getStaffAffiliationTier",value:function(e){return e.find((function(e){return m.h.includes(null==e?void 0:e.level)}))}},{key:"generateAndAddVBIDChargesToBooking",value:function(e){var t,n;if(e&&Array.isArray(e.charges)){var i=((null===(t=null==e?void 0:e.services)||void 0===t?void 0:t.services)||[]).find((function(e){return"ExternalSSR"===e.code}));if(i){var r,o=_createForOfIteratorHelper(null===(n=i.options||[])||void 0===n?void 0:n.filter((function(e){return"VBID"===e.ssrCode})).map((function(e){return{journeyKey:e.journeyKey,segmentKey:e.segmentKey,passengerKey:e.passengerKey,groupCode:"CheckedBaggage",groupName:"Checked Baggage",originalAmount:{amount:e.price.amount,pointAmount:e.price.pointAmount},amount:{amount:e.price.amount,pointAmount:e.price.pointAmount},code:e.ssrCode,name:e.name,isIncluded:0===e.price.amount,details:{}}})));try{for(o.s();!(r=o.n()).done;){var a=r.value;e.charges.push(a)}}catch(s){o.e(s)}finally{o.f()}}}}},{key:"getDoterLevelText",value:function(e){switch(e){case m.e.GREEN:return"BOOKER_LABEL_DOTERS-GREEN";case m.e.SILVER:return"BOOKER_LABEL_DOTERS-SILVER";case m.e.GOLD:return"BOOKER_LABEL_DOTERS-GOLD";default:return"BOOKER_LABEL_DOTERS-GREEN"}}},{key:"showCobrandInBooking",value:function(e){var t,n,i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!(!Object(r.L)(this.platformId)||"es-MX"!==this.locale||(null===(t=null==e?void 0:e.basket)||void 0===t?void 0:t.flowType)!==b.b.Booking||!(null===(i=null===(n=null==e?void 0:e.basketBooking)||void 0===n?void 0:n.rules.find((function(e){return(null==e?void 0:e.type)===v.g.HSBCCobrandBenefits})))||void 0===i?void 0:i.isEnabled))&&(!!a||this.cmsConfig.getBookingFeatureValue(o?_.a.DisplayCobrandLabelForDoters:_.a.DisplayCobrandLabel)||!1)}},{key:"getOldDates",value:function(e,t){return e!==C.g.ScheduleChange&&e!==C.g.MajorTimeChange&&e!==C.g.TimeChange||!t?null:{oldDepartureDate:null==t?void 0:t.departureDate,oldArrivalDate:null==t?void 0:t.arrivalDate}}},{key:"bookingJourneyToAvailabilityJourney",value:function(e){var t=this;if(e){var n=[];return e.segments&&Array.isArray(e.segments)&&e.segments.forEach((function(e){n.push(t.bookingSegmentToAvailabilitySegment(e))})),Object.assign(Object.assign({},e),{departureDate:e.departureDate.scheduled,arrivalDate:e.arrivalDate.scheduled,lowestFareKey:e.fare.key,isSoldout:!0,fares:[],segments:n,rules:null==e?void 0:e.rules})}}},{key:"getNearestJourney",value:function(e){var t;return E(null==e?void 0:e.journeys)&&e.journeys.filter((function(e){var t;return s(null===(t=null==e?void 0:e.departureDate)||void 0===t?void 0:t.scheduledUtc).isAfter()})).forEach((function(e,n){var i,r,o;n?t&&(s(null===(i=null==e?void 0:e.departureDate)||void 0===i?void 0:i.scheduledUtc).isBefore(null===(r=null==t?void 0:t.departureDate)||void 0===r?void 0:r.scheduledUtc)||s(null===(o=null==t?void 0:t.departureDate)||void 0===o?void 0:o.scheduledUtc).isBefore())&&(t=e):t=e})),t}},{key:"getCustomerText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?"BOOKER_LABEL_DOTERS-CUSTOMER-ID":"BOOKER_LABEL_CUSTOMER-ID"}},{key:"isChrome",get:function(){return!!Object(r.L)(this.platformId)&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}}],[{key:"getFieldErrors",value:function(e,t){if(t){if(e&&e.get(t).invalid&&e.get(t).touched)return Object.keys(e.get(t).errors)}else if(e&&e.invalid&&e.touched)return Object.keys(e.errors);return null}},{key:"getDateFromString",value:function(e){if(e){var t=s(e);if(t.isValid())return t.toDate()}}},{key:"trimStr",value:function(e,t){if("string"!=typeof e)return"";for(var n=0,i=e.length;n<i&&e[n]===t;)++n;for(;i>n&&e[i-1]===t;)--i;return n>0||i<e.length?e.substring(n,i):e}}]),e}()).\u0275fac=function(e){return new(e||i)(o.dc(r.e),o.dc(o.y),o.dc(o.G),o.dc(a.g),o.dc(k.a))},i.\u0275prov=o.Pb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),O=/^(\d{4}\-\d{2}\-\d{2}).*?/;function T(e){if(e&&"string"==typeof e){var t=e.charAt(0).toLowerCase();return e.substring(0,0)+t+e.substring(1)}return e}function w(e){return e.then((function(e){return e.default||e}))}function A(e,t){return Array.isArray(e)&&e.length>=t}function E(e){return A(e,1)}function P(e){var t=e||{},n=t.origin,i=t.destination;return[null==n?void 0:n.code,null==i?void 0:i.code].includes("TJX")}function M(e){var t,n;return"string"==typeof e&&null!==(n=null===(t=O.exec(e))||void 0===t?void 0:t[1])&&void 0!==n?n:e}},kiQV:function(e){e.exports=JSON.parse('{"a":"1.39.0"}')},kpjh:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ofXK"),r=n("fXoL"),o=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Rb({type:e}),e.\u0275inj=r.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e}()},l5ey:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("ofXK"),r=n("fXoL"),o=n("tyNb"),a=n("quSY"),s=n("pLZG"),c=n("AytR"),l=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.router=t,this.route=n,this.platformId=i,this.UTM_LS_NAME="vb_utm",this.UTM_SUPPORT_FIELDS=["utm_id","utm_source","utm_medium","utm_campaign","utm_term","utm_content"],this.routerSubscription=a.a.EMPTY}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.routerSubscription.closed||this.routerSubscription.unsubscribe()}},{key:"init",value:function(){var e=this;this.routerSubscription.closed?this.routerSubscription=this.router.events.pipe(Object(s.a)((function(e){return e instanceof o.c}))).subscribe((function(t){if(t instanceof o.c){var n=e.route.snapshot.queryParamMap;if(e.hasAnyValidKeys(n)){var i=e.buildUtmObject(n);e.saveUtmFieldData(i)}}})):c.g.production||console.error("::DatalayerUtmService::","Cannot run init() more than once!")}},{key:"saveUtmFieldData",value:function(e){Object(i.L)(this.platformId)&&localStorage.setItem(this.UTM_LS_NAME,JSON.stringify(e))}},{key:"clearUtmFieldData",value:function(){Object(i.L)(this.platformId)&&localStorage.removeItem(this.UTM_LS_NAME)}},{key:"hasAnyValidKeys",value:function(e){var t,n=_createForOfIteratorHelper(this.UTM_SUPPORT_FIELDS);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(e.get(i))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"buildUtmObject",value:function(e){var t,n={},i=_createForOfIteratorHelper(this.UTM_SUPPORT_FIELDS);try{for(i.s();!(t=i.n()).done;){var r=t.value,o=e.get(r)||null;n[r]=o}}catch(a){i.e(a)}finally{i.f()}return n}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.dc(o.g),r.dc(o.a),r.dc(r.G))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},l5mm:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("HDdC"),r=n("D0XW"),o=n("Y7HM");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;return(!Object(o.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=r.a),new i.a((function(n){return n.add(t.schedule(s,e,{subscriber:n,counter:0,period:e})),n}))}function s(e){var t=e.subscriber,n=e.counter,i=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,i,r){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(n("7o/Q").a)},lALM:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("mrSG"),r=n("fXoL"),o=n("jtHE"),a=n("rdGu"),s=n("ofXK"),c=n("AytR"),l=n("tS1D"),u=n("lJxs"),d=n("tk/3"),h=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.platformId=t,this.http=n,this.$isReady=new o.a(1),this.$locationChanged=new o.a(1),this.location=new a.c,this.initialize()}return _createClass(e,[{key:"getClientPublicIpAndLocationHeaders",value:function(){return this.http.get(c.g.IP_SERVICE_URL,{observe:"response",responseType:"text"}).pipe(Object(l.a)(3500),Object(u.a)((function(e){return e.headers}))).toPromise()}},{key:"getCoordsFromGeolocation",value:function(){Object(s.L)(this.platformId)&&(navigator.geolocation?navigator.geolocation.getCurrentPosition(this.onGeolocationSuccess.bind(this),this.onGeolocationError.bind(this)):(c.g.production||console.warn("[GeolocationService] Geolocation is not supported by this browser."),this.$locationChanged.complete()))}},{key:"onGeolocationSuccess",value:function(e){this.location.type=a.b.GEO_LOCATION,this.location.coords={latitude:e.coords.latitude,longitude:e.coords.longitude},this.$locationChanged.next(this.location),this.$locationChanged.complete()}},{key:"onGeolocationError",value:function(e){c.g.production||console.warn("[Geolocation] Error obtaining geolocation: ",e),this.$locationChanged.complete()}},{key:"initialize",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getClientPublicIpAndLocationHeaders();case 3:t=e.sent,this.setGeolocationDetailsFromHeaders(t),this.getCoordsFromGeolocation(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setLocationErrorDetails();case 10:return e.prev=10,this.$locationChanged.next(this.location),this.setReady(),e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[0,7,10,13]])})))}},{key:"setGeolocationDetailsFromHeaders",value:function(e){var t=e.get("Client-IP");if(!t)throw Error("::setGeolocationDetailsFromHeaders:: No IP returned from response headers!");this.location.ip=t,this.location.details=new a.a,this.location.coords={latitude:Number.parseFloat(e.get("Geo-lat")||"0"),longitude:Number.parseFloat(e.get("Geo-long")||"0")},this.location.details.countryCode=e.get("Geo-country")||"",this.location.details.countryName="",this.location.details.regionCode=e.get("Geo-city")||"",this.location.details.regionName="",this.location.details.city="",this.location.details.zipCode="",this.location.details.timeZone="",this.location.details.metroCode=0,this.location.type=a.b.IP_LOCATION}},{key:"setLocationErrorDetails",value:function(){this.location.details=new a.a,this.location.type=a.b.IP_LOCATION_ERROR,this.location.coords={latitude:0,longitude:0},this.location.details.countryCode="",this.location.details.countryName="",this.location.details.regionCode="",this.location.details.regionName="",this.location.details.city="",this.location.details.zipCode="",this.location.details.timeZone="",this.location.details.metroCode=0}},{key:"setReady",value:function(){this.$isReady.next(),this.$isReady.complete()}},{key:"_isReady",get:function(){return this.$isReady.asObservable().toPromise()}},{key:"locationChanged",get:function(){return this.$locationChanged.asObservable()}},{key:"_location",get:function(){return this.location}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.dc(r.G),r.dc(d.b))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("7o/Q");function r(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=i,o.count=0,o.thisArg=r||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(i.a)},lLeZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("fXoL"),r=n("rmK9"),o=n("AytR"),a=n("JK/P"),s=n("djEO"),c=n("TuWc"),l=n("ckWZ"),u=n("ofXK"),d=n("VXoX"),h=n("D731"),f=["termsContainer"],p=function(e){return{loading:e}},g=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.modalSvc=t,this.accountApi=n,this.datalayerUxProfile=r,this.id="viva-cash-terms-modal",this.showFirst=!1,this.termsAccepted=new i.p,this.isLoading=!1,this.canAccept=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"closeModal",value:function(){this.modalSvc.close(this.id)}},{key:"onTermsAccept",value:function(){var e=this;this.isLoading=!0,this.accountApi.acceptTerms(r.a.VivaCash).subscribe((function(t){e.isLoading=!1,e.datalayerUxProfile.vivaCashTerms(),e.termsAccepted.emit(),e.closeModal()}),(function(t){o.g.production||console.error("::AcceptVivaCashToS::",t),e.isLoading=!1}))}},{key:"onTermsScroll",value:function(e){var t=e.target;t.scrollTop+t.offsetHeight>=t.scrollHeight-5&&(this.canAccept=!0)}},{key:"onModalClose",value:function(){this.termsContainer&&(this.termsContainer.nativeElement.scrollTop=0)}},{key:"onModalOpen",value:function(){this.datalayerUxProfile.vivaCashToggle(),this.canAccept=!1}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(a.a),i.Tb(s.a),i.Tb(c.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-viva-cash-terms-modal"]],viewQuery:function(e,t){var n;1&e&&i.Yc(f,!0),2&e&&i.Dc(n=i.ic())&&(t.termsContainer=n.first)},inputs:{id:"id",showFirst:"showFirst"},outputs:{termsAccepted:"termsAccepted"},decls:30,vars:26,consts:[[3,"id","dismissable","showFirst","closeEvent","openEvent"],[1,"viva-card","white","border-0","modal-size-sm","p-md-40","p-20","d-flex","flex-column","justify-content-between"],[1,"position-relative","flex-fill","d-md-block","d-flex","flex-column"],[1,"w-100","text-center","pb-10"],[1,"pt-md-10","pt-0","pb-10","h4","text-truncate"],[1,"terms-subtitle"],[1,"terms-container","py-5","flex-fill",3,"scroll"],["termsContainer",""],[1,"title","pb-10"],[1,"small-text",3,"innerHTML"],[1,"pt-10"],[1,"my-10"],[1,"d-flex","flex-md-row","flex-column-reverse","justify-content-md-end","justify-content-start","align-items-center","pt-10","pb-md-0","pb-20"],[1,"viva-btn","tertiary",3,"disabled","click"],[1,"content"],[1,"mx-5","px-5"],[1,"line"],[1,"viva-btn","primary","ml-md-40","ml-0","mb-md-0","mb-20","btn-240","btn-md-100",3,"ngClass","disabled","click"]],template:function(e,t){1&e&&(i.Zb(0,"app-modal",0),i.hc("closeEvent",(function(){return t.onModalClose()}))("openEvent",(function(){return t.onModalOpen()})),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"div",3),i.Zb(4,"div",4),i.Sc(5),i.kc(6,"cmsTranslate"),i.Yb(),i.Zb(7,"div",5),i.Sc(8),i.kc(9,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(10,"div",6,7),i.hc("scroll",(function(e){return t.onTermsScroll(e)})),i.Zb(12,"div",8),i.Sc(13),i.kc(14,"cmsTranslate"),i.Yb(),i.Ub(15,"div",9),i.kc(16,"cmsTranslateRichText"),i.Yb(),i.Yb(),i.Zb(17,"div",10),i.Ub(18,"hr",11),i.Zb(19,"div",12),i.Zb(20,"button",13),i.hc("click",(function(){return t.closeModal()})),i.Zb(21,"div",14),i.Zb(22,"span",15),i.Sc(23),i.kc(24,"cmsTranslate"),i.Yb(),i.Yb(),i.Ub(25,"div",16),i.Yb(),i.Zb(26,"button",17),i.hc("click",(function(){return t.onTermsAccept()})),i.Zb(27,"span"),i.Sc(28),i.kc(29,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.sc("id",t.id)("dismissable",!1)("showFirst",t.showFirst),i.Hb(5),i.Uc(" ",i.lc(6,12,"PROFILE_LABEL_JOIN-VIVACASH")," "),i.Hb(3),i.Uc(" ",i.lc(9,14,"PROFILE_LABEL_DISCLAIMER-VIVACASH")," "),i.Hb(5),i.Uc(" ",i.lc(14,16,"GLOBAL_LABEL_TERMS-CONDITIONS")," "),i.Hb(2),i.sc("innerHTML",i.lc(16,18,"PROFILE_LABEL_VIVACASH-TYC"),i.Ic),i.Hb(5),i.sc("disabled",t.isLoading),i.Hb(3),i.Uc(" ",i.lc(24,20,"GLOBAL_ACTION_CANCEL")," "),i.Hb(3),i.sc("ngClass",i.vc(24,p,t.isLoading))("disabled",t.isLoading||!t.canAccept),i.Hb(2),i.Uc(" ",i.lc(29,22,"GLOBAL_ACTION_ACCEPT")," "))},directives:[l.a,u.r],pipes:[d.a,h.a],styles:[".terms-subtitle[_ngcontent-%COMP%]{height:42px;overflow-y:auto}.terms-container[_ngcontent-%COMP%]{overflow-y:auto;height:200px}"]}),e}()},lSCD:function(e,t,n){var i=n("NykK"),r=n("GoyQ");e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},lUod:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return _}));var i=n("fXoL"),r=function(){function e(t,n){_classCallCheck(this,e),this.open=t,this.close=n||t}return _createClass(e,[{key:"isManual",value:function(){return"manual"===this.open||"manual"===this.close}}]),e}(),o={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=(e||"").trim();if(0===n.length)return[];var i=n.split(/\s+/).map((function(e){return e.split(":")})).map((function(e){var n=t[e[0]]||e;return new r(n[0],n[1])})),a=i.filter((function(e){return e.isManual()}));if(a.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===a.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}function s(e,t){var n=a(t.triggers),i=t.target;if(1===n.length&&n[0].isManual())return Function.prototype;var r=[],o=[],s=function(){o.forEach((function(e){return r.push(e())})),o.length=0};return n.forEach((function(n){var a=n.open===n.close,c=a?t.toggle:t.show;if(!a&&n.close&&t.hide){var l=e.listen(i,n.close,t.hide);o.push((function(){return l}))}c&&r.push(e.listen(i,n.open,(function(){return c(s)})))})),function(){r.forEach((function(e){return e()}))}}function c(e,t){return t.outsideClick?e.listen("document","click",(function(e){t.target&&t.target.contains(e.target)||t.targets&&t.targets.some((function(t){return t.contains(e.target)}))||t.hide&&t.hide()})):Function.prototype}function l(e,t){return t.outsideEsc?e.listen("document","keyup.esc",(function(e){t.target&&t.target.contains(e.target)||t.targets&&t.targets.some((function(t){return t.contains(e.target)}))||t.hide&&t.hide()})):Function.prototype}var u,d="undefined"!=typeof window&&window||{};function h(){if(void 0===d.document)return"bs4";var e=d.document.createElement("span");e.innerText="testing bs version",e.classList.add("d-none"),e.classList.add("visually-hidden"),d.document.head.appendChild(e);var t=e.getBoundingClientRect(),n=d.getComputedStyle(e).overflow;return d.document.head.removeChild(e),!t||t&&0!==t.top?"bs3":n&&"hidden"===n?"bs5":"bs4"}function f(e){u=e}function p(){return void 0===d||(void 0===d.__theme?(u||(u=h()),"bs3"===u):"bs3"===d.__theme)}function g(){return!p()&&(u||(u=h()),"bs4"===u)}function v(){return{isBs3:p(),isBs4:g(),isBs5:!p()&&!g()&&(u||(u=h()),"bs5"===u)}}function m(){return function(e,t){var n=" __".concat(t,"Value");Object.defineProperty(e,t,{get:function(){return this[n]},set:function(e){var i=this[n];this[n]=e,i!==e&&this[t+"Change"]&&this[t+"Change"].emit(e)}})}}var b={},y="undefined"==typeof console||!("warn"in console);function _(e){!Object(i.ab)()||y||e in b||(b[e]=!0,console.warn(e))}},lW9w:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var i,r,o=n("ofXK"),a=n("tyNb"),s=n("pLZG"),c=n("AytR"),l=n("LRne"),u=n("tk/3"),d=function(e){return e.NO_MATCH="NO-MATCH",e.SUCCESS="SUCCESS",e}({}),h=function(e){return e.VIVATRANSFER="ShuttleCUN",e.VIVAPLAY="InflightEntertainment",e.PAQUETEBEBE="BabyPackage",e}({}),f=function(e){return e.ANCILLARIES_EXTRAS="ancillaries-extras",e}({}),p=n("kh7C"),g=n("1AID"),v=n("fXoL"),m=n("CJ36"),b=n("CPX7"),y=((i=function(){function e(t){_classCallCheck(this,e),this.document=t}return _createClass(e,[{key:"getURL",value:function(){return this.document.location.href}},{key:"initDYObjIfUndefined",value:function(){!this.DY&&window&&(window.DY={})}},{key:"DY",get:function(){var e;return(null!==(e=window)&&void 0!==e?e:{}).DY}},{key:"recommendationContext",set:function(e){this.DY.recommendationContext=e}}]),e}()).\u0275fac=function(e){return new(e||i)(v.dc(o.e))},i.\u0275prov=v.Pb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),_=n("BifP"),C=((r=function(){function e(t,n,i,r,o,a,s){_classCallCheck(this,e),this.document=t,this.router=n,this.localeService=i,this.basketSvc=r,this.http=o,this.dycontext=a,this.cmsConfig=s,this.isDYEnabled=this.cmsConfig.getSectionFeatureValue(g.b.GLOBAL,g.a.DYIntegration),this.isDYEnabled=!0}return _createClass(e,[{key:"init",value:function(){var e=this;this.isDYEnabled?(function(e){var t=e.createElement("script");t.type="text/javascript",t.text='window.DY = window.DY || {}; \n DY.recommendationContext = { type: "HOMEPAGE" }; \n DY.userActiveConsent = { accepted: true };';var n=e.createElement("link");n.rel="preconnect",n.href=c.g.dinamicYield.scripts.CDN;var i=e.createElement("link");i.rel="preconnect",i.href=c.g.dinamicYield.scripts.ST;var r=e.createElement("link");r.rel="preconnect",r.href=c.g.dinamicYield.scripts.RCOM;var o=e.createElement("link");o.rel="dns-prefetch",o.href=c.g.dinamicYield.scripts.CDN;var a=e.createElement("link");a.rel="dns-prefetch",a.href=c.g.dinamicYield.scripts.ST;var s=e.createElement("link");s.rel="dns-prefetch",s.href=c.g.dinamicYield.scripts.RCOM;var l=e.createElement("script");l.type="text/javascript",l.src=c.g.dinamicYield.scripts.API_DYNAMIC;var u=e.createElement("script");u.type="text/javascript",u.src=c.g.dinamicYield.scripts.API_STATIC;var d=e.getElementsByTagName("head")[0];e.head.insertBefore(u,d.firstChild),e.head.insertBefore(l,d.firstChild),e.head.insertBefore(s,d.firstChild),e.head.insertBefore(a,d.firstChild),e.head.insertBefore(o,d.firstChild),e.head.insertBefore(r,d.firstChild),e.head.insertBefore(i,d.firstChild),e.head.insertBefore(n,d.firstChild),e.head.insertBefore(t,d.firstChild)}(this.document),this.updateDYCxt(),this.basketSubscription=this.basketSvc.basket$.subscribe((function(t){e.basket=t,e.page&&"REVIEW"===e.page.split("-").reverse()[0]&&e.updateDYCxtCart()}))):this.onDYDisabled()}},{key:"onDYDisabled",value:function(){c.g.production||console.warn("[VIVAAEROBUS DY] -> Dynamic Yield integration is disabled.")}},{key:"ngOnDestroy",value:function(){this.cookieModalSubscritption.unsubscribe(),this.basketSubscription.unsubscribe()}},{key:"getSKUS",value:function(){var e,t,n=null!==(e=this.basketSvc._basket)&&void 0!==e?e:this.basket;return Object(p.e)(null===(t=null==n?void 0:n.travel)||void 0===t?void 0:t.journeys)?n.travel.journeys.map((function(e){return e.journeyKey})):[]}},{key:"updateDYCxtCart",value:function(){this.dycontext.recommendationContext={type:"CART",data:this.getSKUS(),lng:this.localeService.getAppLocale()}}},{key:"updateDYCxt",value:function(){var e=this;this.router.events.pipe(Object(s.a)((function(e){return e instanceof a.c}))).subscribe((function(){if(""!==e.router.url){if(e.page="","/"!==e.router.url){var t=e.router.url.substring(e.router.url.indexOf("/")).split("?");if(t[0]){var n=t[0].split("/").filter((function(e){return""!==e})).map((function(e){return e.toUpperCase()}));e.page=n.length?n[0]+"-"+n[1]:n[0]}}else e.page="HOMEPAGE";switch(e.dycontext.initDYObjIfUndefined(),e.page.split("-").reverse()[0]){case"HOMEPAGE":e.dycontext.recommendationContext={type:e.page,data:[],lng:e.localeService.getAppLocale()};break;case"REVIEW":e.updateDYCxtCart();break;default:e.dycontext.recommendationContext={type:"OTHER",data:[e.page],lng:e.localeService.getAppLocale()}}}}))}},{key:"handledServiceRecomend",value:function(e,t){var n,i,r,o,a=this;return void 0!==t&&Object(p.e)(null===(n=null==t?void 0:t.choices)||void 0===n?void 0:n[0].variations)&&t.choices[0].type!==d.NO_MATCH&&(null===(i=t.choices[0].variations[0])||void 0===i?void 0:i.payload.data.type)!==d.NO_MATCH?(this.sortingGroupByDY=null===(r=t.choices[0].variations[0])||void 0===r?void 0:r.payload.data,e.sortingGroups.forEach((function(e){e.services=a.handleSortingDY(e.type,e.services)})),(null===(o=this.sortingGroupByDY)||void 0===o?void 0:o.data.services[0].code)===h.VIVATRANSFER?e.transportServices=this.handleActiveTransportDY(e.transportServices):e.services=this.handleActiveServiceDY(e.services),e):e}},{key:"handleSortingDY",value:function(e,t){var n,i=t,r=null===(n=this.sortingGroupByDY)||void 0===n?void 0:n.data.sortingGroups.find((function(t){return t.type===e}));return r&&r.services.forEach((function(e){(i=t.filter((function(t){return t!==e}))).unshift(e)})),i}},{key:"handleActiveServiceDY",value:function(e){var t,n;return 0===(null===(t=this.sortingGroupByDY)||void 0===t?void 0:t.data.services.length)||null===(n=this.sortingGroupByDY)||void 0===n||n.data.services.forEach((function(t){e.forEach((function(e){t.code===e.code&&e.options.forEach((function(e){return e.preSelected=t.preSelected}))}))})),e}},{key:"handleActiveTransportDY",value:function(e){var t,n=this;return 0===(null===(t=this.sortingGroupByDY)||void 0===t?void 0:t.data.services.length)||e.forEach((function(e){var t,i;e.code===(null===(t=n.sortingGroupByDY)||void 0===t?void 0:t.data.services[0].code)&&(e.pickupLocations[0].preSelected=null===(i=n.sortingGroupByDY)||void 0===i?void 0:i.data.services[0].preSelected)})),e}},{key:"getOrderByDY",value:function(){if(!this.isDYEnabled)return Object(l.a)(void 0);var e={headers:(new u.d).set("dy-api-key",c.g.dinamicYield.clientKey)},t={user:{active_consent_accepted:this.dycontext.DY.userActiveConsent.accepted,dyid:this.dycontext.DY.dyid},session:{dy:this.dycontext.DY.jsession},context:{page:{type:this.dycontext.DY.recommendationContext.type,data:this.dycontext.DY.recommendationContext.data,location:this.dycontext.getURL(),locale:this.dycontext.DY.recommendationContext.lng}},selector:{names:[f.ANCILLARIES_EXTRAS]},options:{isImplicitPageview:!1,returnAnalyticsMetadata:!1,isImplicitImpressionMode:!0,isImplicitClientData:!1}};return this.http.post(""+c.g.dinamicYield.DY_CHOOSE_VARIANT,t,e)}}]),e}()).\u0275fac=function(e){return new(e||r)(v.dc(o.e),v.dc(a.g),v.dc(m.a),v.dc(b.a),v.dc(u.b),v.dc(y),v.dc(_.a))},r.\u0275prov=v.Pb({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},ljhN:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},mCNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n("SpAZ");function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t)}function o(e){return 0===e.length?i.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},mGSR:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("mrSG"),r=n("jtHE"),o=n("kh7C"),a=n("fXoL"),s=n("LYOT"),c=n("G/yK"),l=n("BifP"),u=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.contentful=t,this.flightStations=n,this.cmsConfig=i,this.carrierJsonData=[],this.$serviceReady=new r.a(1),this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;return new Promise((function(t,n){try{e.carrierJsonData.length?(t(),e.$serviceReady.closed||(e.$serviceReady.next(),e.$serviceReady.complete())):e.getCarrierJsonData().then((function(){t(),e.$serviceReady.closed||(e.$serviceReady.next(),e.$serviceReady.complete())}))}catch(i){n(i)}}))}},{key:"getCarrierJsonData",value:function(){var e,t,n,r,a;return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.contentful.getEntries({content_type:"jsonObject",select:"sys.id,fields","fields.title":"OperatingCarrier"});case 2:(s=i.sent)&&(null===(e=null==s?void 0:s.items)||void 0===e?void 0:e.length)&&(null===(t=null==s?void 0:s.items[0])||void 0===t?void 0:t.fields)&&Object(o.e)(null===(r=null===(n=null==s?void 0:s.items[0])||void 0===n?void 0:n.fields)||void 0===r?void 0:r.json)&&(this.carrierJsonData=null===(a=null==s?void 0:s.items[0])||void 0===a?void 0:a.fields.json);case 4:case"end":return i.stop()}}),i,this)})))}},{key:"getCarrierDataByCode",value:function(e){var t;return(null===(t=this.carrierJsonData)||void 0===t?void 0:t.find((function(t){return(null==t?void 0:t.code)===e})))||null}},{key:"routesHaveExternalOperator",value:function(e){var t,n,i=this,r=null==e?void 0:e.find((function(e){var t,n;return!!i.getExternalOperatorInStation(null===(t=null==e?void 0:e.destination)||void 0===t?void 0:t.code)||!!i.getExternalOperatorInStation(null===(n=null==e?void 0:e.origin)||void 0===n?void 0:n.code)}));return r?this.getExternalOperatorInStation(null===(t=null==r?void 0:r.destination)||void 0===t?void 0:t.code)||this.getExternalOperatorInStation(null===(n=null==r?void 0:r.origin)||void 0===n?void 0:n.code):null}},{key:"getExternalOperatorInStation",value:function(e){var t,n,i;return(null===(i=null===(n=null===(t=this.flightStations._stations)||void 0===t?void 0:t.find((function(t){var n;return(null==t?void 0:t.code)===e&&(null===(n=t.operatedBy)||void 0===n?void 0:n.find((function(e){return"VB"!==e})))})))||void 0===n?void 0:n.operatedBy)||void 0===i?void 0:i.find((function(e){return"VB"!==e})))||null}},{key:"getInterlineCarrierRecord",value:function(e,t){var n,i=this.getInterlineProvider(t);return i?(null===(n=null==e?void 0:e.recordCodes)||void 0===n?void 0:n.find((function(e){var t;return null===(t=null==i?void 0:i.recordSystemCodes)||void 0===t?void 0:t.includes(null==e?void 0:e.bookingSystemCode)})))||{recordCode:null,owningSystemCode:null,bookingSystemCode:null}:null}},{key:"getInterlineProvider",value:function(e){var t,n=(null===(t=this.cmsConfig._cmsConfig.globalSettings)||void 0===t?void 0:t.interlineOperatingCarriers)||[];return(null==n?void 0:n.find((function(t){return t.carrierCode===e})))||null}},{key:"ready",get:function(){return this.$serviceReady.asObservable().toPromise()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.dc(s.a),a.dc(c.a),a.dc(l.a))},e.\u0275prov=a.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},mI2T:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ofXK"),r=n("fXoL"),o=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Rb({type:e}),e.\u0275inj=r.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e}()},mTTR:function(e,t,n){var i=n("b80T"),r=n("QcOe"),o=n("MMmD");e.exports=function(e){return o(e)?i(e,!0):r(e)}},mbIT:function(e,t,n){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},mdPL:function(e,t,n){(function(e){var i=n("WFqU"),r=t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r&&i.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n("2pl3")(e))},mlxB:function(e,t,n){"use strict";function i(e){return e instanceof Date&&!isNaN(+e)}n.d(t,"a",(function(){return i}))},mrSG:function(e,t,n){"use strict";function i(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(t){o(t)}}function s(e){try{c(i.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))}n.d(t,"a",(function(){return i}))},n3uD:function(e,t,n){"use strict";var i=!1;t.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}}},n6bG:function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.d(t,"a",(function(){return i}))},nLfN:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));var i,r=n("fXoL"),o=n("ofXK");try{i="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(h){i=!1}var a,s,c=function(){var e=function e(t){_classCallCheck(this,e),this._platformId=t,this.isBrowser=this._platformId?Object(o.L)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!i)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT};return e.\u0275fac=function(t){return new(t||e)(r.dc(r.G))},e.\u0275prov=r.Pb({factory:function(){return new e(r.dc(r.G))},token:e,providedIn:"root"}),e}(),l=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Rb({type:e}),e.\u0275inj=r.Qb({factory:function(t){return new(t||e)}}),e}();function u(){if(null==s){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return s=!1;if("scrollBehavior"in document.documentElement.style)s=!0;else{var e=Element.prototype.scrollTo;s=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return s}function d(){if("object"!=typeof document||!document)return 0;if(null==a){var e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";var n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",e.appendChild(n),document.body.appendChild(e),a=0,0===e.scrollLeft&&(e.scrollLeft=1,a=0===e.scrollLeft?1:2),e.parentNode.removeChild(e)}return a}},nYR2:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("7o/Q"),r=n("quSY");function o(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.callback))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).add(new r.a(i)),o}return n}(i.a)},ngAm:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("XNiG"),r=n("ofXK"),o=n("fXoL"),a=n("jhN1"),s=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.doc=t,this.meta=n,this.title=r,this.jsonLD=new i.a}return _createClass(e,[{key:"getJsonLD",value:function(){return this.jsonLD}},{key:"setJsonLD",value:function(e){this.jsonLD.next(e||{})}},{key:"setMetaTags",value:function(e){var t=this;e&&(this.removeMetaTags(e),Object.keys(e).forEach((function(n){t.meta.addTag({name:n,content:e[n]})})))}},{key:"setTitle",value:function(e){this.title.setTitle(e||"")}},{key:"removeMetaTags",value:function(e){var t=this;e&&Object.keys(e).forEach((function(e){t.meta.getTags("name='".concat(e,"'")).forEach((function(e){t.meta.removeTagElement(e)}))}))}},{key:"setOpenGraphMetaTags",value:function(e){var t=this;e&&(this.removeOpenGraphMetaTags(e),Object.keys(e).forEach((function(n){t.meta.addTag({property:n,content:e[n]})})))}},{key:"removeOpenGraphMetaTags",value:function(e){var t=this;e&&Object.keys(e).forEach((function(e){t.meta.getTags("property='".concat(e,"'")).forEach((function(e){t.meta.removeTagElement(e)}))}))}},{key:"setHrefLinkTag",value:function(e){var t=this;this.removeHrefLinkTags(),e&&Object.keys(e).forEach((function(n){var i=t.doc.createElement("link");i.setAttribute("rel","alternate"),i.setAttribute("hreflang",n),i.setAttribute("href",e[n]),t.doc.head.appendChild(i)}))}},{key:"removeHrefLinkTags",value:function(){var e=this.doc.head.querySelectorAll("link[rel=alternate]");Array.prototype.forEach.call(e,(function(e){e.parentNode.removeChild(e)}))}},{key:"setCanonicalTag",value:function(e){if(this.removeCanonicalTag(),e){var t=this.doc.createElement("link");t.setAttribute("rel","canonical"),t.setAttribute("href",e),this.doc.head.appendChild(t)}}},{key:"removeCanonicalTag",value:function(){var e=this.doc.head.querySelectorAll("link[rel=canonical]");Array.prototype.forEach.call(e,(function(e){e.parentNode.removeChild(e)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.dc(r.e),o.dc(a.f),o.dc(a.g))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}}},nmnc:function(e,t,n){var i=n("Kz5y");e.exports=i.Symbol},nmq7:function(e,t,n){"use strict";var i=n("0jNN"),r=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(e,t,n){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(i),s=a?i.slice(0,a.index):i,c=[];if(s){if(!n.plainObjects&&r.call(Object.prototype,s)&&!n.allowPrototypes)return;c.push(s)}for(var l=0;null!==(a=o.exec(i))&&l<n.depth;){if(l+=1,!n.plainObjects&&r.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+i.slice(a.index)+"]"),function(e,t,n){for(var i=t,r=e.length-1;r>=0;--r){var o,a=e[r];if("[]"===a)o=(o=[]).concat(i);else{o=n.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(s,10);!isNaN(c)&&a!==s&&String(c)===s&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(o=[])[c]=i:o[s]=i}i=o}return i}(c,t,n)}};e.exports=function(e,t){var n=t?i.assign({},t):{};if(null!=n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||i.isRegExp(n.delimiter)?n.delimiter:o.delimiter,n.depth="number"==typeof n.depth?n.depth:o.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:o.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:o.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:o.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:o.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:o.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:o.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:o.strictNullHandling,""===e||null==e)return n.plainObjects?Object.create(null):{};for(var s="string"==typeof e?function(e,t){for(var n={},i=(t.ignoreQueryPrefix?e.replace(/^\?/,""):e).split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),a=0;a<i.length;++a){var s,c,l=i[a],u=l.indexOf("]="),d=-1===u?l.indexOf("="):u+1;-1===d?(s=t.decoder(l,o.decoder),c=t.strictNullHandling?null:""):(s=t.decoder(l.slice(0,d),o.decoder),c=t.decoder(l.slice(d+1),o.decoder)),n[s]=r.call(n,s)?[].concat(n[s]).concat(c):c}return n}(e,n):e,c=n.plainObjects?Object.create(null):{},l=Object.keys(s),u=0;u<l.length;++u){var d=l[u],h=a(d,s[d],n);c=i.merge(c,h,n)}return i.compact(c)}},nnIW:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return l}));var i=function(){function e(t,n){_classCallCheck(this,e),this.groupCode=t,this.groupName=n,this.amount={amount:0,pointAmount:0},this.originalAmount={amount:0,pointAmount:0},this.options=[]}return _createClass(e,[{key:"addCharge",value:function(e){var t,n,i,r,o,a;if(e){if(this.options.push(e),l(e))return;this.amount.amount+=(null===(t=e.amount)||void 0===t?void 0:t.amount)||0,this.amount.pointAmount+=(null===(n=e.amount)||void 0===n?void 0:n.pointAmount)||0,this.originalAmount.amount+=(null===(i=e.amount)||void 0===i?void 0:i.amount)>0&&(null===(r=e.amount)||void 0===r?void 0:r.amount)||0,this.originalAmount.pointAmount+=(null===(o=e.amount)||void 0===o?void 0:o.pointAmount)>0&&(null===(a=e.amount)||void 0===a?void 0:a.pointAmount)||0}}}]),e}(),r=function(e){return e[e.ADD=0]="ADD",e[e.DELETE=1]="DELETE",e}({}),o=function(e){return e.FlightFare="FlightFare",e.Seats="Seats",e.CarryOnBaggage="CarryOnBaggage",e.CheckedBaggage="CheckedBaggage",e.SpecialBaggage="SpecialBaggage",e.FlightServices="FlightServices",e.TUA="TUA",e}({}),a=["BreakdownViva","BreakdownAirport","BreakdownGovernment"],s=["VAAE","VAAF","VAAG","VAAJ"],c=["VAAK"];function l(e){return"GuestFee"===(null==e?void 0:e.code)&&(null==e?void 0:e.amount.amount)!==(null==e?void 0:e.originalAmount.amount)}},nzqU:function(e,t,n){"use strict";t.isScheduler=function(e){return e&&"function"==typeof e.schedule}},o5mt:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ofXK"),r=n("fXoL"),o=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Rb({type:e}),e.\u0275inj=r.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e}()},oB13:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i,r=n("XNiG"),o=n("HDdC"),a=(n("7o/Q"),n("quSY")),s=n("x+ZX"),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).source=e,r.subjectFactory=i,r._refCount=0,r._isComplete=!1,r}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.a).add(this.source.subscribe(new u(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.a.EMPTY)),e}},{key:"refCount",value:function(){return Object(s.a)()(this)}}]),n}(o.a),l={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(i=c.prototype)._subscribe},_isComplete:{value:i._isComplete,writable:!0},getSubject:{value:i.getSubject},connect:{value:i.connect},refCount:{value:i.refCount}},u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).connectable=i,r}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(r.b);function d(e,t){return function(n){var i;if(i="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new h(i,t));var r=Object.create(n,l);return r.source=n,r.subjectFactory=i,r}}var h=function(){function e(t,n){_classCallCheck(this,e),this.subjectFactory=t,this.selector=n}return _createClass(e,[{key:"call",value:function(e,t){var n=this.selector,i=this.subjectFactory(),r=n(i).subscribe(e);return r.add(t.subscribe(i)),r}}]),e}()},"oCl/":function(e,t,n){var i=n("CH3K"),r=n("LcsW"),o=n("MvSz"),a=n("0ycA");e.exports=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,o(e)),e=r(e);return t}:a},oTAK:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("mrSG"),r=n("jtHE"),o=n("AytR"),a=n("9Fhk"),s=n("fXoL"),c=n("LYOT"),l=function(){var e=function(){function e(t){_classCallCheck(this,e),this.contentful=t,this.$isReady=new r.a(1),this.avatarsMap=new Map,this.avatarsArray=[],this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;this.getAvatarImages().then((function(){e.setReady()}))}},{key:"getAvatarImages",value:function(){var e;return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.contentful.getEntry("3wAMvrl32B3Fm29G1r2f44");case 3:n=t.sent,i=(null===(e=null==n?void 0:n.fields)||void 0===e?void 0:e.mediaItems)||[],this.avatarsArray=i.filter((function(e){var t,n,i;return!!(null===(t=null==e?void 0:e.fields)||void 0===t?void 0:t.title)&&!!(null===(i=null===(n=e.fields)||void 0===n?void 0:n.file)||void 0===i?void 0:i.url)})).map((function(e){return{id:e.fields.title,url:e.fields.file.url}})),this.avatarsArray.forEach((function(e){r.avatarsMap.set(e.id,e)})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),o.g.production||console.error("::AvatarServiceInit::",t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})))}},{key:"setReady",value:function(){this.$isReady.next(),this.$isReady.complete()}},{key:"getAvatar",value:function(e){return this.avatarsMap.get(e)}},{key:"getAvatarSrc",value:function(e){var t=this.getAvatar(e);if(null==t?void 0:t.url)return t.url}},{key:"getAvatarUrl",value:function(e){var t=this.getAvatarSrc(e);return t?"url('".concat(t,"')"):a.c}},{key:"ready",get:function(){return this.$isReady.asObservable().toPromise()}},{key:"avatars",get:function(){return this.avatarsArray}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.dc(c.a))},e.\u0275prov=s.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},ofXK:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return Ie})),n.d(t,"c",(function(){return qe})),n.d(t,"d",(function(){return Ke})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return Be})),n.d(t,"g",(function(){return Ze})),n.d(t,"h",(function(){return P})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return He})),n.d(t,"k",(function(){return Ue})),n.d(t,"l",(function(){return Ye})),n.d(t,"m",(function(){return Ge})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return S})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return Le})),n.d(t,"r",(function(){return fe})),n.d(t,"s",(function(){return pe})),n.d(t,"t",(function(){return ve})),n.d(t,"u",(function(){return be})),n.d(t,"v",(function(){return Te})),n.d(t,"w",(function(){return we})),n.d(t,"x",(function(){return Ae})),n.d(t,"y",(function(){return ke})),n.d(t,"z",(function(){return Se})),n.d(t,"A",(function(){return Oe})),n.d(t,"B",(function(){return Ee})),n.d(t,"C",(function(){return C})),n.d(t,"D",(function(){return We})),n.d(t,"E",(function(){return l})),n.d(t,"F",(function(){return Xe})),n.d(t,"G",(function(){return Ne})),n.d(t,"H",(function(){return M})),n.d(t,"I",(function(){return je})),n.d(t,"J",(function(){return tt})),n.d(t,"K",(function(){return I})),n.d(t,"L",(function(){return Je})),n.d(t,"M",(function(){return et})),n.d(t,"N",(function(){return de})),n.d(t,"O",(function(){return s})),n.d(t,"P",(function(){return $e})),n.d(t,"Q",(function(){return o})),n.d(t,"R",(function(){return he})),n.d(t,"S",(function(){return a}));var i=n("fXoL"),r=null;function o(){return r}function a(e){r||(r=e)}var s=function e(){_classCallCheck(this,e)},c=new i.t("DocumentToken"),l=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Pb)({factory:u,token:e,providedIn:"platform"}),e}();function u(){return Object(i.dc)(h)}var d=new i.t("Location Initialized"),h=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._doc=e,i._init(),i}return _createClass(n,[{key:"_init",value:function(){this.location=o().getLocation(),this._history=o().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return o().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){f()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){f()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(l);return e.\u0275fac=function(t){return new(t||e)(i.dc(c))},e.\u0275prov=Object(i.Pb)({factory:p,token:e,providedIn:"platform"}),e}();function f(){return!!window.history.pushState}function p(){return new h(Object(i.dc)(c))}function g(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function v(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function m(e){return e&&"?"!==e[0]?"?"+e:e}var b=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Pb)({factory:y,token:e,providedIn:"root"}),e}();function y(e){var t=Object(i.dc)(c).location;return new C(Object(i.dc)(l),t&&t.origin||"")}var _=new i.t("appBaseHref"),C=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;if(_classCallCheck(this,n),(r=t.call(this))._platformLocation=e,null==i&&(i=r._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=i,_possibleConstructorReturn(r)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return g(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+m(i));this._platformLocation.pushState(e,t,r)}},{key:"replaceState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+m(i));this._platformLocation.replaceState(e,t,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(b);return e.\u0275fac=function(t){return new(t||e)(i.dc(l),i.dc(_,8))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e}(),k=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this))._platformLocation=e,r._baseHref="",null!=i&&(r._baseHref=i),r}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=g(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+m(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}},{key:"replaceState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+m(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(b);return e.\u0275fac=function(t){return new(t||e)(i.dc(l),i.dc(_,8))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e}(),S=function(){var e=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._subject=new i.p,this._urlChangeListeners=[],this._platformStrategy=t;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=v(T(o)),this._platformStrategy.onPopState((function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+m(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,T(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+m(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+m(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(b),i.dc(l))},e.normalizeQueryParams=m,e.joinWithSlash=g,e.stripTrailingSlash=v,e.\u0275prov=Object(i.Pb)({factory:O,token:e,providedIn:"root"}),e}();function O(){return new S(Object(i.dc)(b),Object(i.dc)(l))}function T(e){return e.replace(/\/index.html$/,"")}var w={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},A=function(){var e={Decimal:0,Percent:1,Currency:2,Scientific:3};return e[e.Decimal]="Decimal",e[e.Percent]="Percent",e[e.Currency]="Currency",e[e.Scientific]="Scientific",e}(),E=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),P=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),M=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),x=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),D=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function I(e,t,n){var r=Object(i.pb)(e),o=U([r[i.fb.MonthsFormat],r[i.fb.MonthsStandalone]],t);return U(o,n)}function L(e,t){return U(Object(i.pb)(e)[i.fb.DateFormat],t)}function R(e,t){return U(Object(i.pb)(e)[i.fb.TimeFormat],t)}function N(e,t){return U(Object(i.pb)(e)[i.fb.DateTimeFormat],t)}function j(e,t){var n=Object(i.pb)(e),r=n[i.fb.NumberSymbols][t];if(void 0===r){if(t===D.CurrencyDecimal)return n[i.fb.NumberSymbols][D.Decimal];if(t===D.CurrencyGroup)return n[i.fb.NumberSymbols][D.Group]}return r}function B(e,t){return Object(i.pb)(e)[i.fb.NumberFormats][t]}var F=i.sb;function H(e){if(!e[i.fb.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[i.fb.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function U(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function Y(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var G=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,V={},Z=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,W=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),K=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),z=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function Q(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,o="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,o=n));for(var a=String(e);a.length<t;)a="0"+a;return i&&(a=a.substr(a.length-t)),o+a}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s,c=function(e,t){switch(e){case K.FullYear:return t.getFullYear();case K.Month:return t.getMonth();case K.Date:return t.getDate();case K.Hours:return t.getHours();case K.Minutes:return t.getMinutes();case K.Seconds:return t.getSeconds();case K.FractionalSeconds:return t.getMilliseconds();case K.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,o);if((n>0||c>-n)&&(c+=n),e===K.Hours)0===c&&-12===n&&(c=12);else if(e===K.FractionalSeconds)return s=t,X(c,3).substr(0,s);var l=j(a,D.MinusSign);return X(c,t,l,i,r)}}function $(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(o,a){return function(e,t,n,r,o,a){switch(n){case z.Months:return I(t,o,r)[e.getMonth()];case z.Days:return function(e,t,n){var r=Object(i.pb)(e),o=U([r[i.fb.DaysFormat],r[i.fb.DaysStandalone]],t);return U(o,n)}(t,o,r)[e.getDay()];case z.DayPeriods:var s=e.getHours(),c=e.getMinutes();if(a){var l,u=function(e){var t=Object(i.pb)(e);return H(t),(t[i.fb.ExtraData][2]||[]).map((function(e){return"string"==typeof e?Y(e):[Y(e[0]),Y(e[1])]}))}(t),d=function(e,t,n){var r=Object(i.pb)(e);H(r);var o=U([r[i.fb.ExtraData][0],r[i.fb.ExtraData][1]],t)||[];return U(o,n)||[]}(t,o,r);if(u.forEach((function(e,t){if(Array.isArray(e)){var n=e[0],i=n.hours,r=n.minutes,o=e[1],a=o.hours,u=o.minutes;s>=i&&c>=r&&(s<a||s===a&&c<u)&&(l=d[t])}else{var h=e.hours,f=e.minutes;h===s&&f===c&&(l=d[t])}})),l)return l}return function(e,t,n){var r=Object(i.pb)(e),o=U([r[i.fb.DayPeriodsFormat],r[i.fb.DayPeriodsStandalone]],t);return U(o,n)}(t,o,r)[s<12?0:1];case z.Eras:return function(e,t){return U(Object(i.pb)(e)[i.fb.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(o,a,e,t,n,r)}}function J(e){return function(t,n,i){var r=-1*i,o=j(n,D.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case W.Short:return(r>=0?"+":"")+X(a,2,o)+X(Math.abs(r%60),2,o);case W.ShortGMT:return"GMT"+(r>=0?"+":"")+X(a,1,o);case W.Long:return"GMT"+(r>=0?"+":"")+X(a,2,o)+":"+X(Math.abs(r%60),2,o);case W.Extended:return 0===i?"Z":(r>=0?"+":"")+X(a,2,o)+":"+X(Math.abs(r%60),2,o);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){var r,o,a,s;if(t){var c=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,l=n.getDate();r=1+Math.floor((l+c)/7)}else{var u=(o=n.getFullYear(),a=new Date(o,0,1).getDay(),new Date(o,0,1+(a<=4?4:11)-a)),d=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-u.getTime();r=1+Math.round(d/6048e5)}return X(r,e,j(i,D.MinusSign))}}var te={};function ne(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ie(e){return e instanceof Date&&!isNaN(e.valueOf())}var re=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function oe(e,t,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",c=!1;if(isFinite(e)){var l=function(e){var t,n,i,r,o,a=Math.abs(e)+"",s=0;for((n=a.indexOf("."))>-1&&(a=a.replace(".","")),(i=a.search(/e/i))>0?(n<0&&(n=i),n+=+a.slice(i+1),a=a.substring(0,i)):n<0&&(n=a.length),i=0;"0"===a.charAt(i);i++);if(i===(o=a.length))t=[0],n=1;else{for(o--;"0"===a.charAt(o);)o--;for(n-=i,t=[],r=0;i<=o;i++,r++)t[r]=Number(a.charAt(i))}return n>22&&(t=t.splice(0,21),s=n-1,n=1),{digits:t,exponent:s,integerLen:n}}(e);a&&(l=function(e){if(0===e.digits[0])return e;var t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(l));var u=t.minInt,d=t.minFrac,h=t.maxFrac;if(o){var f=o.match(re);if(null===f)throw new Error(o+" is not a valid digit info");var p=f[1],g=f[3],v=f[5];null!=p&&(u=se(p)),null!=g&&(d=se(g)),null!=v?h=se(v):null!=g&&d>h&&(h=d)}!function(e,t,n){if(t>n)throw new Error("The minimum number of digits after fraction (".concat(t,") is higher than the maximum (").concat(n,")."));var i=e.digits,r=i.length-e.integerLen,o=Math.min(Math.max(t,r),n),a=o+e.integerLen,s=i[a];if(a>0){i.splice(Math.max(e.integerLen,a));for(var c=a;c<i.length;c++)i[c]=0}else{r=Math.max(0,r),e.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(var l=1;l<a;l++)i[l]=0}if(s>=5)if(a-1<0){for(var u=0;u>a;u--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);var d=0!==o,h=t+e.integerLen,f=i.reduceRight((function(e,t,n,i){return i[n]=(t+=e)<10?t:t-10,d&&(0===i[n]&&n>=h?i.pop():d=!1),t>=10?1:0}),0);f&&(i.unshift(f),e.integerLen++)}(l,d,h);var m=l.digits,b=l.integerLen,y=l.exponent,_=[];for(c=m.every((function(e){return!e}));b<u;b++)m.unshift(0);for(;b<0;b++)m.unshift(0);b>0?_=m.splice(b,m.length):(_=m,m=[0]);var C=[];for(m.length>=t.lgSize&&C.unshift(m.splice(-t.lgSize,m.length).join(""));m.length>t.gSize;)C.unshift(m.splice(-t.gSize,m.length).join(""));m.length&&C.unshift(m.join("")),s=C.join(j(n,i)),_.length&&(s+=j(n,r)+_.join("")),y&&(s+=j(n,D.Exponential)+"+"+y)}else s=j(n,D.Infinity);return s=e<0&&!c?t.negPre+s+t.negSuf:t.posPre+s+t.posSuf}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(";"),r=i[0],o=i[1],a=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],s=a[0],c=a[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var l=0;l<c.length;l++){var u=c.charAt(l);"0"===u?n.minFrac=n.maxFrac=l+1:"#"===u?n.maxFrac=l+1:n.posSuf+=u}var d=s.split(",");if(n.gSize=d[1]?d[1].length:0,n.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,o){var h=r.length-n.posPre.length-n.posSuf.length,f=o.indexOf("#");n.negPre=o.substr(0,f).replace(/'/g,""),n.negSuf=o.substr(f+h).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function se(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var ce=function e(){_classCallCheck(this,e)};function le(e,t,n,i){var r="="+e;if(t.indexOf(r)>-1)return r;if(r=n.getPluralCategory(e,i),t.indexOf(r)>-1)return r;if(t.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'.concat(e,'"'))}var ue=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).locale=e,i}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(F(t||this.locale)(e)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}]),n}(ce);return e.\u0275fac=function(t){return new(t||e)(i.dc(i.y))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e}();function de(e,t,n){return Object(i.zb)(e,t,n)}function he(e,t){t=encodeURIComponent(t);var n,i=_createForOfIteratorHelper(e.split(";"));try{for(i.s();!(n=i.n()).done;){var r=n.value,o=r.indexOf("="),a=_slicedToArray(-1==o?[r,""]:[r.slice(0,o),r.slice(o+1)],2),s=a[0],c=a[1];if(s.trim()===t)return decodeURIComponent(c)}}catch(l){i.e(l)}finally{i.f()}return null}var fe=function(){var e=function(){function e(t,n,i,r){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=i,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(i.Cb)(e.item));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}},{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(i.vb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.w),i.Tb(i.x),i.Tb(i.n),i.Tb(i.I))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),pe=function(){var e=function(){function e(t){_classCallCheck(this,e),this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=t.get(i.C);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var r=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(i.l)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(r,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}},{key:"ngOnDestroy",value:function(){this._moduleRef&&this._moduleRef.destroy()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.S))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[i.Fb]}),e}(),ge=function(){function e(t,n,i,r){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),ve=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,i,r){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new ge(null,t._ngForOf,-1,-1),null===r?void 0:r),a=new me(e,o);n.push(a)}else if(null==r)t._viewContainer.remove(null===i?void 0:i);else if(null!==i){var s=t._viewContainer.get(i);t._viewContainer.move(s,r);var c=new me(e,s);n.push(c)}}));for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var r=0,o=this._viewContainer.length;r<o;r++){var a=this._viewContainer.get(r);a.context.index=r,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){Object(i.ab)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.S),i.Tb(i.P),i.Tb(i.w))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),me=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},be=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new ye,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){_e("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){_e("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.S),i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),ye=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function _e(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Object(i.Cb)(t),"'."))}var Ce=function(){function e(t,n){_classCallCheck(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return _createClass(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),ke=function(){var e=function(){function e(){_classCallCheck(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(e,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}},{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Ob({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e}(),Se=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.ngSwitch=i,i._addCase(),this._view=new Ce(t,n)}return _createClass(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.S),i.Tb(i.P),i.Tb(ke,1))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e}(),Oe=function(){var e=function e(t,n,i){_classCallCheck(this,e),i._addDefault(new Ce(t,n))};return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.S),i.Tb(i.P),i.Tb(ke,1))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngSwitchDefault",""]]}),e}(),Te=function(){var e=function(){function e(t){_classCallCheck(this,e),this._localization=t,this._caseViews={}}return _createClass(e,[{key:"addCase",value:function(e,t){this._caseViews[e]=t}},{key:"_updateView",value:function(){this._clearViews();var e=Object.keys(this._caseViews),t=le(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}},{key:"_clearViews",value:function(){this._activeView&&this._activeView.destroy()}},{key:"_activateView",value:function(e){e&&(this._activeView=e,this._activeView.create())}},{key:"ngPlural",set:function(e){this._switchValue=e,this._updateView()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(ce))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),e}(),we=function(){var e=function e(t,n,i,r){_classCallCheck(this,e),this.value=t;var o=!isNaN(Number(t));r.addCase(o?"="+t:t,new Ce(i,n))};return e.\u0275fac=function(t){return new(t||e)(i.ec("ngPluralCase"),i.Tb(i.P),i.Tb(i.S),i.Tb(Te,1))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngPluralCase",""]]}),e}(),Ae=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this._ngEl=t,this._differs=n,this._renderer=i,this._ngStyle=null,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}},{key:"_setStyle",value:function(e,t){var n=_slicedToArray(e.split("."),2),i=n[0],r=n[1];null!=(t=null!=t&&r?"".concat(t).concat(r):t)?this._renderer.setStyle(this._ngEl.nativeElement,i,t):this._renderer.removeStyle(this._ngEl.nativeElement,i)}},{key:"_applyChanges",value:function(e){var t=this;e.forEachRemovedItem((function(e){return t._setStyle(e.key,null)})),e.forEachAddedItem((function(e){return t._setStyle(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._setStyle(e.key,e.currentValue)}))}},{key:"ngStyle",set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.n),i.Tb(i.x),i.Tb(i.I))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e}(),Ee=function(){var e=function(){function e(t){_classCallCheck(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var i,r=_createForOfIteratorHelper(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(-1===t.indexOf(o))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];this._viewRef.context[i]=this.ngTemplateOutletContext[i]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.S))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.Fb]}),e}();function Pe(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Object(i.Cb)(e),"'"))}var Me=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),xe=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.then(t,(function(e){throw e}))}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),De=new Me,Ie=function(){var e=function(){function e(t){_classCallCheck(this,e),this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Object(i.yb)(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,i.U.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(function(n){return t._updateLatestValue(e,n)}))}},{key:"_selectStrategy",value:function(t){if(Object(i.xb)(t))return xe;if(Object(i.wb)(t))return De;throw Pe(e,t)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.fc())},e.\u0275pipe=i.Sb({name:"async",type:e,pure:!1}),e}(),Le=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t){if(!t)return t;if("string"!=typeof t)throw Pe(e,t);return t.toLowerCase()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Sb({name:"lowercase",type:e,pure:!0}),e}(),Re=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,Ne=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t){if(!t)return t;if("string"!=typeof t)throw Pe(e,t);return t.replace(Re,(function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Sb({name:"titlecase",type:e,pure:!0}),e}(),je=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t){if(!t)return t;if("string"!=typeof t)throw Pe(e,t);return t.toUpperCase()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Sb({name:"uppercase",type:e,pure:!0}),e}(),Be=function(){var e=function(){function e(t){_classCallCheck(this,e),this.locale=t}return _createClass(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return function(e,t,n,r){var o=function(e){if(ie(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var i=_slicedToArray(e.split("-").map((function(e){return+e})),3),r=i[0],o=i[1],a=i[2];return new Date(r,o-1,a)}if(t=e.match(G))return function(e){var t=new Date(0),n=0,i=0,r=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var a=Number(e[4]||0)-n,s=Number(e[5]||0)-i,c=Number(e[6]||0),l=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,a,s,c,l),t}(t)}var s=new Date(e);if(!ie(s))throw new Error('Unable to convert "'.concat(e,'" into a date'));return s}(e);t=function e(t,n){var r=function(e){return Object(i.pb)(e)[i.fb.LocaleId]}(t);if(V[r]=V[r]||{},V[r][n])return V[r][n];var o="";switch(n){case"shortDate":o=L(t,x.Short);break;case"mediumDate":o=L(t,x.Medium);break;case"longDate":o=L(t,x.Long);break;case"fullDate":o=L(t,x.Full);break;case"shortTime":o=R(t,x.Short);break;case"mediumTime":o=R(t,x.Medium);break;case"longTime":o=R(t,x.Long);break;case"fullTime":o=R(t,x.Full);break;case"short":var a=e(t,"shortTime"),s=e(t,"shortDate");o=Q(N(t,x.Short),[a,s]);break;case"medium":var c=e(t,"mediumTime"),l=e(t,"mediumDate");o=Q(N(t,x.Medium),[c,l]);break;case"long":var u=e(t,"longTime"),d=e(t,"longDate");o=Q(N(t,x.Long),[u,d]);break;case"full":var h=e(t,"fullTime"),f=e(t,"fullDate");o=Q(N(t,x.Full),[h,f])}return o&&(V[r][n]=o),o}(n,t)||t;for(var a,s=[];t;){if(!(a=Z.exec(t))){s.push(t);break}var c=(s=s.concat(a.slice(1))).pop();if(!c)break;t=c}var l=o.getTimezoneOffset();r&&(l=ne(r,l),o=function(e,t,n){var i=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(ne(t,i)-i))}(o,r));var u="";return s.forEach((function(e){var t=function(e){if(te[e])return te[e];var t;switch(e){case"G":case"GG":case"GGG":t=$(z.Eras,M.Abbreviated);break;case"GGGG":t=$(z.Eras,M.Wide);break;case"GGGGG":t=$(z.Eras,M.Narrow);break;case"y":t=q(K.FullYear,1,0,!1,!0);break;case"yy":t=q(K.FullYear,2,0,!0,!0);break;case"yyy":t=q(K.FullYear,3,0,!1,!0);break;case"yyyy":t=q(K.FullYear,4,0,!1,!0);break;case"M":case"L":t=q(K.Month,1,1);break;case"MM":case"LL":t=q(K.Month,2,1);break;case"MMM":t=$(z.Months,M.Abbreviated);break;case"MMMM":t=$(z.Months,M.Wide);break;case"MMMMM":t=$(z.Months,M.Narrow);break;case"LLL":t=$(z.Months,M.Abbreviated,P.Standalone);break;case"LLLL":t=$(z.Months,M.Wide,P.Standalone);break;case"LLLLL":t=$(z.Months,M.Narrow,P.Standalone);break;case"w":t=ee(1);break;case"ww":t=ee(2);break;case"W":t=ee(1,!0);break;case"d":t=q(K.Date,1);break;case"dd":t=q(K.Date,2);break;case"E":case"EE":case"EEE":t=$(z.Days,M.Abbreviated);break;case"EEEE":t=$(z.Days,M.Wide);break;case"EEEEE":t=$(z.Days,M.Narrow);break;case"EEEEEE":t=$(z.Days,M.Short);break;case"a":case"aa":case"aaa":t=$(z.DayPeriods,M.Abbreviated);break;case"aaaa":t=$(z.DayPeriods,M.Wide);break;case"aaaaa":t=$(z.DayPeriods,M.Narrow);break;case"b":case"bb":case"bbb":t=$(z.DayPeriods,M.Abbreviated,P.Standalone,!0);break;case"bbbb":t=$(z.DayPeriods,M.Wide,P.Standalone,!0);break;case"bbbbb":t=$(z.DayPeriods,M.Narrow,P.Standalone,!0);break;case"B":case"BB":case"BBB":t=$(z.DayPeriods,M.Abbreviated,P.Format,!0);break;case"BBBB":t=$(z.DayPeriods,M.Wide,P.Format,!0);break;case"BBBBB":t=$(z.DayPeriods,M.Narrow,P.Format,!0);break;case"h":t=q(K.Hours,1,-12);break;case"hh":t=q(K.Hours,2,-12);break;case"H":t=q(K.Hours,1);break;case"HH":t=q(K.Hours,2);break;case"m":t=q(K.Minutes,1);break;case"mm":t=q(K.Minutes,2);break;case"s":t=q(K.Seconds,1);break;case"ss":t=q(K.Seconds,2);break;case"S":t=q(K.FractionalSeconds,1);break;case"SS":t=q(K.FractionalSeconds,2);break;case"SSS":t=q(K.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=J(W.Short);break;case"ZZZZZ":t=J(W.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=J(W.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=J(W.Long);break;default:return null}return te[e]=t,t}(e);u+=t?t(o,n,l):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),u}(t,n,o||this.locale,r)}catch(a){throw Pe(e,a.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.y))},e.\u0275pipe=i.Sb({name:"date",type:e,pure:!0}),e}(),Fe=/#/g,He=function(){var e=function(){function e(t){_classCallCheck(this,e),this._localization=t}return _createClass(e,[{key:"transform",value:function(t,n,i){if(null==t)return"";if("object"!=typeof n||null===n)throw Pe(e,n);return n[le(t,Object.keys(n),this._localization,i)].replace(Fe,t.toString())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(ce))},e.\u0275pipe=i.Sb({name:"i18nPlural",type:e,pure:!0}),e}(),Ue=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t,n){if(null==t)return"";if("object"!=typeof n||"string"!=typeof t)throw Pe(e,n);return n.hasOwnProperty(t)?n[t]:n.hasOwnProperty("other")?n.other:""}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Sb({name:"i18nSelect",type:e,pure:!0}),e}(),Ye=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return JSON.stringify(e,null,2)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Sb({name:"json",type:e,pure:!1}),e}(),Ge=function(){var e=function(){function e(t){_classCallCheck(this,e),this.differs=t,this.keyValues=[]}return _createClass(e,[{key:"transform",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ve;if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());var i=this.differ.diff(e);return i&&(this.keyValues=[],i.forEachItem((function(e){t.keyValues.push({key:e.key,value:e.currentValue})})),this.keyValues.sort(n)),this.keyValues}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.x))},e.\u0275pipe=i.Sb({name:"keyvalue",type:e,pure:!1}),e}();function Ve(e,t){var n=e.key,i=t.key;if(n===i)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(null===n)return 1;if(null===i)return-1;if("string"==typeof n&&"string"==typeof i)return n<i?-1:1;if("number"==typeof n&&"number"==typeof i)return n-i;if("boolean"==typeof n&&"boolean"==typeof i)return n<i?-1:1;var r=String(n),o=String(i);return r==o?0:r<o?-1:1}var Ze=function(){var e=function(){function e(t){_classCallCheck(this,e),this._locale=t}return _createClass(e,[{key:"transform",value:function(t,n,i){if(ze(t))return null;i=i||this._locale;try{return function(e,t,n){return oe(e,ae(B(t,A.Decimal),j(t,D.MinusSign)),t,D.Group,D.Decimal,n)}(Qe(t),i,n)}catch(r){throw Pe(e,r.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.y))},e.\u0275pipe=i.Sb({name:"number",type:e,pure:!0}),e}(),We=function(){var e=function(){function e(t){_classCallCheck(this,e),this._locale=t}return _createClass(e,[{key:"transform",value:function(t,n,i){if(ze(t))return null;i=i||this._locale;try{return function(e,t,n){return oe(e,ae(B(t,A.Percent),j(t,D.MinusSign)),t,D.Group,D.Decimal,n,!0).replace(new RegExp("%","g"),j(t,D.PercentSign))}(Qe(t),i,n)}catch(r){throw Pe(e,r.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.y))},e.\u0275pipe=i.Sb({name:"percent",type:e,pure:!0}),e}(),Ke=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";_classCallCheck(this,e),this._locale=t,this._defaultCurrencyCode=n}return _createClass(e,[{key:"transform",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"symbol",o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(ze(t))return null;a=a||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");var s=n||this._defaultCurrencyCode;"code"!==r&&(s="symbol"===r||"symbol-narrow"===r?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",r=function(e){return Object(i.pb)(e)[i.fb.Currencies]}(n)[e]||w[e]||[],o=r[1];return"narrow"===t&&"string"==typeof o?o:r[0]||e}(s,"symbol"===r?"wide":"narrow",a):r);try{return function(e,t,n,i,r){var o=ae(B(t,A.Currency),j(t,D.MinusSign));return o.minFrac=function(e){var t,n=w[e];return n&&(t=n[2]),"number"==typeof t?t:2}(i),o.maxFrac=o.minFrac,oe(e,o,t,D.CurrencyGroup,D.CurrencyDecimal,r).replace("\xa4",n).replace("\xa4","").trim()}(Qe(t),a,s,n,o)}catch(c){throw Pe(e,c.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.y),i.Tb(i.m))},e.\u0275pipe=i.Sb({name:"currency",type:e,pure:!0}),e}();function ze(e){return null==e||""===e||e!=e}function Qe(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(e+" is not a number");return e}var Xe=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t,n,i){if(null==t)return t;if(!this.supports(t))throw Pe(e,t);return t.slice(n,i)}},{key:"supports",value:function(e){return"string"==typeof e||Array.isArray(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Sb({name:"slice",type:e,pure:!1}),e}(),qe=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},providers:[{provide:ce,useClass:ue}]}),e}(),$e="browser";function Je(e){return e===$e}function et(e){return"server"===e}var tt=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=Object(i.Pb)({token:e,providedIn:"root",factory:function(){return new nt(Object(i.dc)(c),window,Object(i.dc)(i.o))}}),e}(),nt=function(){function e(t,n,i){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=i,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(i){this.errorHandler.handleError(i)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}()},ofgY:function(e,t,n){"use strict";n.d(t,"o",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"n",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"m",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"h",(function(){return C})),n.d(t,"p",(function(){return k}));var i=n("wd/R"),r=n("3Pt+"),o=function(e){return e.CHD="Child",e.MISS="Miss",e.MR="Mr",e.MS="Ms",e.MRS="Mrs",e.MASTER="Master",e}({}),a=function(e){return e.GLOBAL_LABEL_GENDER_XX="XX",e.GLOBAL_LABEL_GENDER_MALE="Male",e.GLOBAL_LABEL_GENDER_FEMALE="Female",e}({}),s=function(e){return e.CHD="CHD",e.ADT="ADT",e.INFT="INFT",e}({}),c=function(e){return e["GLOBAL_LABEL_PHONE-TYPE-MAIN"]="home",e["GLOBAL_LABEL_PHONE-TYPE-WORK"]="work",e["GLOBAL_LABEL_PHONE-TYPE-MOBILE"]="mobile",e}({}),l=function(e){return e["GLOBAL_LABEL_PHONE-TYPE-HOME"]="home",e["GLOBAL_LABEL_PHONE-TYPE-WORK"]="work",e["GLOBAL_LABEL_PHONE-TYPE-MOBILE"]="mobile",e}({}),u=function(e){return e.BOOKER_LABEL_LEISURE="leisure",e.BOOKER_LABEL_BUSINESS="business",e}({}),d=function(){function e(t){_classCallCheck(this,e),this.passengerKey=t.passengerKey,this.prefillSources=t.prefillSources,this.fieldGroupRules=t.fieldGroupRules.map((function(e){return new f(e)})),this.fieldRules=t.fieldRules.map((function(e){return new g(e)})),this.notifications=t.notifications}return _createClass(e,[{key:"getFieldValidationFormControl",value:function(e,t,n,i,o){var a=i||[],s=this.fieldRules.find((function(t){return t.name===e}));if(!s)return n?new r.i(t,[r.I.required].concat(_toConsumableArray2(a))):null;var c=s.getFormControlParams(t),l=new r.i(c.value,[].concat(_toConsumableArray2(c.validators),_toConsumableArray2(a)));return(c.blocked||o)&&l.disable({onlySelf:!0}),l}},{key:"getGroup",value:function(e){return this.fieldGroupRules.find((function(t){return t.name===e}))||null}},{key:"hasField",value:function(e){return!!this.fieldRules.find((function(t){return t.name===e}))}},{key:"hasGroup",value:function(e){return!!this.fieldGroupRules.find((function(t){return t.name===e}))}}]),e}(),h=function(e){return e.Anonymous="Anonymous",e.RelatedAccount="RelatedAccount",e.CurrentAccount="CurrentAccount",e}({}),f=function(){function e(t){_classCallCheck(this,e),this.name=t.name,this.inputValidationType=t.inputValidationType,this.fieldRules=t.fieldRules.map((function(e){return new g(e)})),this.criteria=null==t?void 0:t.criteria}return _createClass(e,[{key:"getFieldValidationFormControl",value:function(e,t,n,i){var o=i||[],a=this.fieldRules.find((function(t){return t.name===e}));if(!a)return new r.i(t,n?[r.I.required].concat(_toConsumableArray2(o)):o);var s=a.getFormControlParams(t,n),c=new r.i(s.value,[].concat(_toConsumableArray2(s.validators),_toConsumableArray2(o)));return s.blocked&&c.disable({onlySelf:!0}),c}}]),e}(),p=function(e){return e.IsBlocked="IsBlocked",e.IsOptional="IsOptional",e.IsRequired="IsRequired",e.IsConditionallyRequired="IsConditionallyRequired",e}({}),g=function(){function e(t){_classCallCheck(this,e),this.name=t.name,this.inputValidationType=t.inputValidationType,this.defaultValue=t.defaultValue}return _createClass(e,[{key:"getFormControlParams",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{validators:this.inputValidationType===p.IsRequired&&t?[r.I.required]:[],value:e||this.defaultValue,blocked:this.inputValidationType===p.IsBlocked}}}]),e}(),v=function(e){return e.Equals="Equals",e.IsNot="IsNot",e}({}),m=function(){function e(t){_classCallCheck(this,e),this.contactType=t.contactType,this.notifications=t.notifications,this.fieldGroupRules=t.fieldGroupRules.map((function(e){return new f(e)})),this.fieldRules=t.fieldRules.map((function(e){return new g(e)})),this.notifications=t.notifications,this.inputValidationType=t.inputValidationType}return _createClass(e,[{key:"getFieldValidationFormControl",value:function(e,t,n,i){var o=i||[],a=this.fieldRules.find((function(t){return t.name===e}));if(!a)return new r.i(t,n?[r.I.required].concat(_toConsumableArray2(o)):o);var s=a.getFormControlParams(t,n),c=new r.i(s.value,[].concat(_toConsumableArray2(s.validators),_toConsumableArray2(o)));return s.blocked&&c.disable({onlySelf:!0}),c}},{key:"getGroup",value:function(e){return this.fieldGroupRules.find((function(t){return t.name===e}))||null}}]),e}(),b=function(e){return e.Primary="Primary",e.Other="Other",e.Destination="Destination",e.Home="Home",e.Business="Business",e.Emergency="Emergency",e}({}),y=2,_=18,C=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];switch(_classCallCheck(this,e),t){case s.ADT:this.min=i(r).subtract(150,"y").format("YYYY-MM-DD"),this.max=i(r).subtract(_,"y").format("YYYY-MM-DD");break;case s.CHD:this.min=i(r).subtract(_,"y").add(1,"d").format("YYYY-MM-DD"),this.max=i(n).subtract(o?14:y,"y").format("YYYY-MM-DD");break;case s.INFT:this.min=i(r).subtract(y,"y").format("YYYY-MM-DD"),this.max=i().format("YYYY-MM-DD")}};function k(e){var t=i(e);return t.isValid()?t.format("YYYY-MM-DD"):e}},"otv/":function(e,t,n){var i=n("nmnc"),r=i?i.prototype:void 0,o=r?r.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},"p//D":function(e,t,n){"use strict";t.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),t.$$rxSubscriber=t.rxSubscriber},"p0+S":function(e,t,n){"use strict";var i=n("mbIT");t.isNumeric=function(e){return!i.isArray(e)&&e-parseFloat(e)+1>=0}},pLZG:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("7o/Q");function r(e,t){return function(n){return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=i,o.thisArg=r,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(i.a)},pSRY:function(e,t,n){var i=n("QkVE");e.exports=function(e){return i(this,e).has(e)}},pWoz:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("fXoL"),r=n("3Pt+"),o=n("itXk"),a=n("eJ3O"),s=n("vkgz"),c=n("Kj3r"),l=n("bJP1"),u=n("gAzV"),d=n("ofXK"),h=n("ZOsW"),f=n("VXoX"),p=function(e){return{"float-label":e}};function g(e,t){if(1&e&&(i.Zb(0,"div",7),i.Zb(1,"div",8),i.Zb(2,"span",9),i.Sc(3),i.Yb(),i.Yb(),i.Yb()),2&e){var n=i.jc(2);i.sc("ngClass",i.vc(2,p,n.floatLabel)),i.Hb(3),i.Uc(" ",n.label," ")}}var v=function(e,t){return{name:e,id:t}};function m(e,t){if(1&e){var n=i.ac();i.Xb(0),i.Qc(1,g,4,4,"div",2),i.Zb(2,"div",3),i.Zb(3,"div",4),i.Zb(4,"div",5),i.Zb(5,"ng-select",6),i.hc("close",(function(){return i.Hc(n),i.jc().onTouched()})),i.kc(6,"cmsTranslate"),i.Yb(),i.Zb(7,"label"),i.Sc(8),i.kc(9,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(10,"div",4),i.Zb(11,"div",5),i.Zb(12,"ng-select",6),i.hc("close",(function(){return i.Hc(n),i.jc().onTouched()})),i.kc(13,"cmsTranslate"),i.Yb(),i.Zb(14,"label"),i.Sc(15),i.kc(16,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(17,"div",4),i.Zb(18,"div",5),i.Zb(19,"ng-select",6),i.hc("close",(function(){return i.Hc(n),i.jc().onTouched()})),i.kc(20,"cmsTranslate"),i.Yb(),i.Zb(21,"label"),i.Sc(22),i.kc(23,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Wb()}if(2&e){var r=i.jc();i.Hb(1),i.sc("ngIf",!!r.label),i.Hb(4),i.sc("inputAttrs",i.wc(43,v,r.name+"-day",r.id+"-day"))("searchable",r.searchable)("clearable",!1)("placeholder",i.lc(6,31,"GLOBAL_LABEL_DAY"))("formControl",r.dayControl)("items",r.dayOptions)("bindLabel","display")("bindValue","value")("required",r.required),i.Hb(3),i.Tc(i.lc(9,33,"GLOBAL_LABEL_DAY")),i.Hb(4),i.sc("inputAttrs",i.wc(46,v,r.name+"-month",r.id+"-month"))("searchable",r.searchable)("clearable",!1)("placeholder",i.lc(13,35,"GLOBAL_LABEL_MONTH"))("formControl",r.monthControl)("items",r.monthOptions)("bindLabel","display")("bindValue","value")("required",r.required),i.Hb(3),i.Tc(i.lc(16,37,"GLOBAL_LABEL_MONTH")),i.Hb(4),i.sc("inputAttrs",i.wc(49,v,r.name+"-year",r.id+"-year"))("searchable",r.searchable)("clearable",!1)("placeholder",i.lc(20,39,"GLOBAL_LABEL_YEAR"))("formControl",r.yearControl)("items",r.yearOptions)("bindLabel","display")("bindValue","value")("required",r.required),i.Hb(3),i.Tc(i.lc(23,41,"GLOBAL_LABEL_YEAR"))}}function b(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",10),i.Ub(2,"input",11),i.kc(3,"uppercase"),i.kc(4,"date"),i.Zb(5,"label"),i.Sc(6),i.Yb(),i.Zb(7,"div",12),i.Ub(8,"em",13),i.Yb(),i.Yb(),i.Wb()),2&e){var n=i.jc(),r=null,o=null==(r=i.lc(3,5,i.mc(4,7,n._dateValue,"dd/MMM/yyyy")))?null:r.replace(".","");i.Hb(2),i.sc("name",n.name+"-disabled")("id",n.id+"-disabled")("placeholder",n.label)("value",o),i.Hb(4),i.Tc(n.label)}}var y=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.fb=t,this.injector=n,this.midSvc=r,this.label="",this.floatLabel=!0,this.required=!1,this.isTouched=!1,this.searchable=!1,this.forceErrorState=!1,this.midChange=new i.p,this.disabled=!1,this.dayOptions=[],this.monthOptions=[],this.yearOptions=[],this.subscriptions=[],this._onChange=function(e){},this._onTouched=function(){},this.instanceId=e.globalInstanceCounter++,this.initIdentifiers(),this.minDateElmt=this.midSvc.defaultMin,this.maxDateElmt=this.midSvc.defaultMax,this.buildDateSelectOptions(),this.fg=this.fb.group({day:void 0,month:void 0,year:void 0}),this.setValidators()}return _createClass(e,[{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"ngOnInit",value:function(){this.setComponentControl(),this.startInternalSubscriptions()}},{key:"ngOnChanges",value:function(e){var t=!1;e.isTouched&&!e.isTouched.firstChange&&"boolean"==typeof this.isTouched&&this.isTouched!==this.fg.touched&&(this.isTouched?this.fg.markAllAsTouched():this.fg.markAsUntouched()),(e.maxDate||e.minDate)&&(e.maxDate&&(this.maxDateElmt=this.midSvc.generateDateElement(this.maxDate)||this.midSvc.defaultMax),e.minDate&&(this.minDateElmt=this.midSvc.generateDateElement(this.minDate)||this.midSvc.defaultMin),this.midSvc.areDateRangesValid(this.minDateElmt,this.maxDateElmt)||(console.warn("::MultiInputDate::","Provided Date ranges are invalid: minDate is greater than maxDate! Falling back to default range values."),this.minDateElmt=this.midSvc.defaultMin,this.maxDateElmt=this.midSvc.defaultMax),this.yearOptions=this.buildYearOptions(),this.setValidators(),t=!0,this.updateFieldsValueAndValidity()),e.id&&!this.id&&(this.id=this.defaultIdentifier),e.name&&!this.name&&(this.name=this.defaultIdentifier),e.forceErrorState&&!t&&this.updateFieldsValueAndValidity()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){e&&!e.closed&&e.unsubscribe()}))}},{key:"ngAfterViewInit",value:function(){var e=this;this.forceErrorState&&Object(a.timer)(0).subscribe((function(){e.updateFieldsValueAndValidity()}))}},{key:"initIdentifiers",value:function(){this.id=this.defaultIdentifier,this.name=this.defaultIdentifier}},{key:"setValidators",value:function(){var e={min:this.minDateElmt,max:this.maxDateElmt};this.dayControl.setValidators([l.a.validateDay(this.fg,e)]),this.monthControl.setValidators([l.a.validateMonth(this.fg,e)]),this.yearControl.setValidators([l.a.validateYear(e)])}},{key:"updateFieldsValueAndValidity",value:function(){this.yearControl.updateValueAndValidity(),this.monthControl.updateValueAndValidity(),this.dayControl.updateValueAndValidity(),this.forceErrorState&&(this.yearControl.setErrors(Object.assign(Object.assign({},this.yearControl.errors),{midCustom:!0})),this.monthControl.setErrors(Object.assign(Object.assign({},this.monthControl.errors),{midCustom:!0})),this.dayControl.setErrors(Object.assign(Object.assign({},this.dayControl.errors),{midCustom:!0})))}},{key:"setComponentControl",value:function(){var e=this.injector.get(r.t);switch(e.constructor){case r.x:var t=e.control,n=e.update;this.control=t;var i=this.control.valueChanges.pipe(Object(s.a)((function(e){return n.emit(e)}))).subscribe();this.subscriptions.push(i);break;case r.k:this.control=this.injector.get(r.m).getControl(e);break;default:this.control=e.form}}},{key:"startInternalSubscriptions",value:function(){this.subscriptions.push(this.formChanges),this.subscriptions.push(this.dayOptionsUpdate)}},{key:"buildDateSelectOptions",value:function(){this.dayOptions=this.midSvc.buildDayOptions(),this.monthOptions=this.midSvc.buildMonthOptions(),this.yearOptions=this.buildYearOptions()}},{key:"buildYearOptions",value:function(){var e,t;return this.midSvc.buildYearOptions(null===(e=this.minDateElmt)||void 0===e?void 0:e.year,null===(t=this.maxDateElmt)||void 0===t?void 0:t.year)}},{key:"validate",value:function(e){var t=e.value;return this.midSvc.validateControlValue(t,{min:this.minDateElmt,max:this.maxDateElmt},this.customErrorMapping)}},{key:"writeValue",value:function(e){var t=this.midSvc.getDateFromValue(e),n=t?t.getDate():null,i=t?t.getMonth():null,r=t?t.getFullYear():null;this.fg.setValue({year:r,month:i,day:n}),this.control.touched?this.fg.markAllAsTouched():this.fg.markAsUntouched()}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"onTouched",value:function(){this.fg.markAllAsTouched(),this.updateFieldsValueAndValidity(),this._onTouched()}},{key:"dayControl",get:function(){return this.fg.get("day")}},{key:"monthControl",get:function(){return this.fg.get("month")}},{key:"yearControl",get:function(){return this.fg.get("year")}},{key:"defaultIdentifier",get:function(){return"multi-input-date-"+this.instanceId}},{key:"formChanges",get:function(){var e=this;return this.fg.valueChanges.pipe(Object(c.a)(0)).subscribe((function(t){var n,i=t.day,r=t.month,o=t.year,a=null;Number.isInteger(i)&&Number.isInteger(r)&&Number.isInteger(o)&&(a=new Date(o,r,i),Number.isNaN(a.valueOf())&&(a=null)),(null===(n=e.prevValue)||void 0===n?void 0:n.valueOf())!==(null==a?void 0:a.valueOf())&&(e._onChange(a),e.midChange.emit(a)),e.prevValue=a,e.fg.touched&&e._onTouched()}))}},{key:"dayOptionsUpdate",get:function(){var e=this;return Object(o.a)([this.monthControl.valueChanges,this.yearControl.valueChanges]).pipe(Object(c.a)(0)).subscribe((function(t){var n,i,r=_slicedToArray(t,2),o=r[0],a=r[1];e.dayOptions=e.midSvc.buildDayOptions(o+1,a);var s=e.dayControl.value;Number.isInteger(s)&&!e.dayOptions.find((function(e){return e.value===s}))&&e.dayControl.patchValue((null===(i=null===(n=e.dayOptions.slice(-1))||void 0===n?void 0:n[0])||void 0===i?void 0:i.value)||null)}))}},{key:"_dateValue",get:function(){var e=this.fg.getRawValue(),t=e.day,n=e.month,i=e.year;if(Number.isInteger(t)&&Number.isInteger(n)&&Number.isInteger(i))return new Date(i,n,t).toISOString()}}]),e}();return e.globalInstanceCounter=0,e.\u0275fac=function(t){return new(t||e)(i.Tb(r.h),i.Tb(i.u),i.Tb(u.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["vb-multi-input-date"]],inputs:{label:"label",floatLabel:"floatLabel",required:"required",isTouched:"isTouched",minDate:"minDate",maxDate:"maxDate",id:"id",name:"name",searchable:"searchable",customErrorMapping:"customErrorMapping",forceErrorState:"forceErrorState"},outputs:{midChange:"midChange"},features:[i.Gb([{provide:r.s,useExisting:Object(i.Y)((function(){return e})),multi:!0},{provide:r.r,useExisting:e,multi:!0}]),i.Fb],decls:3,vars:3,consts:[[1,"w-100","container-fluid","px-0","position-relative",3,"id"],[4,"ngIf"],["class","row pb-5",3,"ngClass",4,"ngIf"],[1,"row"],[1,"col-4"],[1,"viva-input-field","no-icon","viva-select","w-100"],[1,"mdi-options",3,"inputAttrs","searchable","clearable","placeholder","formControl","items","bindLabel","bindValue","required","close"],[1,"row","pb-5",3,"ngClass"],[1,"col-12"],[1,"small-title","opacity-8"],[1,"viva-input-field","no-icon","w-100"],["type","text","disabled","",3,"name","id","placeholder","value"],[1,"lock"],[1,"fas","fa-lock-alt"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Qc(1,m,24,52,"ng-container",1),i.Qc(2,b,9,10,"ng-container",1),i.Yb()),2&e&&(i.sc("id",t.id),i.Hb(1),i.sc("ngIf",!t.disabled),i.Hb(1),i.sc("ngIf",t.disabled))},directives:[d.u,h.a,r.u,r.j,r.F,d.r],pipes:[f.a,d.I,d.f],styles:[".col-4[_ngcontent-%COMP%]:not(:first-child){padding-left:4px!important}.col-4[_ngcontent-%COMP%]:not(:last-child){padding-right:4px!important}.float-label[_ngcontent-%COMP%]{position:absolute;left:0;top:-29px}"]}),e}()},pshJ:function(e,t,n){"use strict";t.isFunction=function(e){return"function"==typeof e}},pxpQ:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var i=n("7o/Q"),r=n("WMd4");function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new a(e,t))}}var a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.scheduler,this.delay))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(r=t.call(this,e)).scheduler=i,r.delay=o,r}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new c(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(r.a.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(r.a.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(r.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(i.a),c=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n}},"q/KQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i,r,o=n("mrSG"),a=n("9Fhk"),s=n("fXoL"),c=n("jtHE"),l=n("AytR"),u=n("LYOT"),d=((r=function(){function e(t){_classCallCheck(this,e),this.contentful=t,this.$isReady=new c.a(1),this.staticImagesMap=new Map,this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;this.getStaticImages().then((function(){e.setReady()}))}},{key:"getStaticImages",value:function(){var e;return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.contentful.getEntry("61ElFIOdjbrL6qWYGc7Qng");case 3:n=t.sent,((null===(e=null==n?void 0:n.fields)||void 0===e?void 0:e.mediaItems)||[]).filter((function(e){var t,n,i;return!!(null===(t=null==e?void 0:e.fields)||void 0===t?void 0:t.title)&&!!(null===(i=null===(n=e.fields)||void 0===n?void 0:n.file)||void 0===i?void 0:i.url)})).map((function(e){return{id:e.fields.title.toUpperCase(),url:e.fields.file.url}})).forEach((function(e){i.staticImagesMap.set(e.id,e.url)})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),l.g.production||console.error("::CMSStaticImagesServiceInit::",t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"setReady",value:function(){this.$isReady.next(),this.$isReady.complete()}},{key:"getStaticImageEntry",value:function(e){var t=this.staticImagesMap.get(e);return l.g.production||t||console.warn("::CMSStaticImages::","Image with ID: "+e+" not found!"),this.staticImagesMap.get(e)}},{key:"ready",get:function(){return this.$isReady.asObservable().toPromise()}}]),e}()).\u0275fac=function(e){return new(e||r)(s.dc(u.a))},r.\u0275prov=s.Pb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),h=((i=function(){function e(t){_classCallCheck(this,e),this.staticImgSvc=t,this.prevCodeValue="",this.imgUrl=a.b}return _createClass(e,[{key:"transform",value:function(e){return e||"string"==typeof e?(this.prevCodeValue===e||(this.prevCodeValue=e,this.imgUrl=a.b,this.getImgUrl(e)),this.imgUrl):this.imgUrl}},{key:"getImgUrl",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.staticImgSvc.ready;case 2:this.imgUrl=this.staticImgSvc.getStaticImageEntry(e)||a.b;case 3:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||i)(s.Tb(d))},i.\u0275pipe=s.Sb({name:"cmsStaticImage",type:i,pure:!1}),i)},qNo2:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ofXK"),r=n("fXoL"),o=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Rb({type:e}),e.\u0275inj=r.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e}()},qZTm:function(e,t,n){var i=n("fR/l"),r=n("MvSz"),o=n("7GkX");e.exports=function(e){return i(e,o,r)}},qcmc:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("mrSG"),r=n("jtHE"),o=n("AytR"),a=n("fXoL"),s=n("LYOT"),c=function(){var e=function(){function e(t){_classCallCheck(this,e),this.contentfulService=t,this.ctaMap=new Map,this.$serviceReady=new r.a(1),this.load()}return _createClass(e,[{key:"load",value:function(){var e=this;return new Promise((function(t,n){try{e.ctaMap.size?(t(),e.$serviceReady.closed||(e.$serviceReady.next(),e.$serviceReady.complete())):Promise.all([e.getCtas(),e.getMaintenanceCtas()]).then((function(){t(),e.$serviceReady.closed||(e.$serviceReady.next(),e.$serviceReady.complete())}))}catch(i){n(i)}}))}},{key:"getCtas",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contentfulService.getEntries({include:3,select:"sys.id,fields","sys.id":"58YjacSDovjaMTTm3iWGgB"});case 2:t=e.sent.items.map((function(e){return e.fields}))[0],this.addCtasToMap(t.items);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"addCtasToMap",value:function(e){if(e&&e.length&&Array.isArray(e)){var t=new Map;e.forEach((function(e){t.set(e.fields.entryName,e.fields)})),this.ctaMap=t}}},{key:"getCta",value:function(e){var t=this.ctaMap.get(e);return t||o.g.production||console.warn("CMSStatcisCtas: Code for '"+e+"' was not found."),t||void 0}},{key:"getMaintenanceCtas",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contentfulService.getEntries({include:3,content_type:"itemsGroup","fields.code":"ERROR_CTA"});case 2:(null==(t=e.sent.items.map((function(e){return e.fields}))[0])?void 0:t.items)&&(null==t?void 0:t.items.length)&&Array.isArray(null==t?void 0:t.items)&&(this.maintenanceCtas=null==t?void 0:t.items.map((function(e){return null==e?void 0:e.fields})));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getMaintenanceCtasList",value:function(){return this.maintenanceCtas&&this.maintenanceCtas.length||o.g.production||console.warn("CMSStatcisCtas: CTAs for Maintenance Page were not found."),this.maintenanceCtas||[]}},{key:"ready",get:function(){return this.$serviceReady.asObservable().toPromise()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.dc(s.a))},e.\u0275prov=a.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},qgXg:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,i):e.flush(this)}}]),n}(n("3N8a").a),r=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(n("IjjT").a))(i)},qo0r:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var i=n("3Pt+"),r=n("tyNb"),o=n("RRjW"),a=n("PxKc"),s=n("rNvz"),c=n("AytR"),l=n("fXoL"),u=n("FonL"),d=n("GEJx"),h=n("uHNT"),f=n("Wdig"),p=n("ofXK"),g=n("KC5F"),v=n("Q+ex"),m=n("9O1C"),b=n("VXoX"),y=n("4nN9");function _(e,t){if(1&e&&(l.Zb(0,"div",23),l.Ub(1,"app-flight-alert",24),l.Yb()),2&e){var n=l.jc();l.Hb(1),l.sc("alertData",n.alertData)("noClose",!0)("noMargin",!0)}}function C(e,t){if(1&e&&(l.Zb(0,"small",25),l.Sc(1),l.kc(2,"cmsTranslate"),l.Ub(3,"br"),l.Yb()),2&e){var n=t.$implicit,i=l.jc();l.Hb(1),l.Uc(" ",l.lc(2,1,i.errorCodes.pnr[n]),"")}}function k(e,t){if(1&e&&(l.Zb(0,"small",25),l.Sc(1),l.kc(2,"cmsTranslate"),l.Ub(3,"br"),l.Yb()),2&e){var n=t.$implicit,i=l.jc();l.Hb(1),l.Uc(" ",l.lc(2,1,i.errorCodes.lastName[n]),"")}}function S(e,t){1&e&&l.Vb(0)}function O(e,t){if(1&e&&(l.Zb(0,"div",26),l.Qc(1,S,1,0,"ng-container",27),l.Yb()),2&e){l.jc();var n=l.Ec(40);l.Hb(1),l.sc("ngTemplateOutlet",n)}}function T(e,t){if(1&e){var n=l.ac();l.Zb(0,"div",30),l.Zb(1,"button",31),l.hc("click",(function(){return l.Hc(n),l.jc(3).onLoginIntent()})),l.Zb(2,"span",32),l.Sc(3),l.kc(4,"cmsTranslate"),l.Yb(),l.Yb(),l.Yb()}2&e&&(l.Hb(3),l.Tc(l.lc(4,1,"HEADER_MANAGE_ACTION_USERACCOUNT")))}function w(e,t){if(1&e&&(l.Zb(0,"div",6),l.Qc(1,T,5,3,"div",29),l.Yb()),2&e){var n=l.jc(2);l.sc("ngClass",n.hasReservation?"col-xl-12":"col-xl-6"),l.Hb(1),l.sc("ngIf",!n.landingPage)}}function A(e,t){1&e&&l.Vb(0)}function E(e,t){if(1&e&&(l.Zb(0,"div",5),l.Qc(1,w,2,2,"div",28),l.Qc(2,A,1,0,"ng-container",27),l.Yb()),2&e){var n=l.jc(),i=l.Ec(36);l.Hb(1),l.sc("ngIf",!n.isLoggedIn),l.Hb(1),l.sc("ngTemplateOutlet",i)}}function P(e,t){1&e&&l.Ub(0,"div",35)}function M(e,t){1&e&&l.Vb(0)}function x(e,t){if(1&e&&(l.Zb(0,"div",33),l.Qc(1,P,1,0,"div",34),l.Qc(2,M,1,0,"ng-container",27),l.Yb()),2&e){var n=l.jc(),i=l.Ec(38);l.Hb(1),l.sc("ngIf",!(n.hasReservation||n.isLoggedIn)),l.Hb(1),l.sc("ngTemplateOutlet",i)}}var D=function(e,t){return{loading:e,"mb-1":t}};function I(e,t){if(1&e&&(l.Zb(0,"div",6),l.Zb(1,"button",36),l.Zb(2,"span",37),l.Sc(3),l.kc(4,"cmsTranslate"),l.Yb(),l.Yb(),l.Yb()),2&e){var n=l.jc();l.sc("ngClass",n.hasReservation?"col-xl-12":n.oneLineStyle?"col-xl-12 mt-10 mt-lg-0":"col-xl-6"),l.Hb(1),l.sc("disabled",n.isLoading)("ngClass",l.wc(6,D,n.isLoading,n.landingPage)),l.Hb(2),l.Uc(" ",l.lc(4,4,"GLOBAL_ACTION_SEARCH")," ")}}function L(e,t){if(1&e&&(l.Zb(0,"app-call-to-action",40),l.Zb(1,"span",41),l.Sc(2),l.Yb(),l.Yb()),2&e){var n=t.ngIf;l.sc("callToAction",n),l.Hb(2),l.Tc(n.text)}}function R(e,t){if(1&e&&(l.Zb(0,"div",38),l.Qc(1,L,3,2,"app-call-to-action",39),l.kc(2,"cmsStaticCtas"),l.Yb()),2&e){var n=l.jc();l.sc("ngClass",n.hasReservation?"col-xl-12":n.oneLineStyle?"col-xl-12 mt-10":"col-xl-6"),l.Hb(1),l.sc("ngIf",l.lc(2,2,"GLOBAL_ACTION_CANTFINDRESERVATION"))}}function N(e,t){1&e&&l.Vb(0)}function j(e,t){1&e&&l.Vb(0)}function B(e,t){if(1&e&&(l.Zb(0,"div",1),l.Qc(1,N,1,0,"ng-container",27),l.Qc(2,j,1,0,"ng-container",27),l.Yb()),2&e){l.jc();var n=l.Ec(36),i=l.Ec(38);l.Hb(1),l.sc("ngTemplateOutlet",n),l.Hb(1),l.sc("ngTemplateOutlet",i)}}var F=function(e){return{"mb-xl-0 mb-10":e}},H=function(){var e=function(){function e(t,n,i,r,o,a,s,c){_classCallCheck(this,e),this.loginSb=t,this.fb=n,this.bookingApi=i,this.alertsSvc=r,this.router=o,this.route=a,this.datalayerCheckout=s,this.redirectMmbCheckInSvc=c,this.landingPage=!1,this.oneLineStyle=!1,this.isLoading=!1,this.errorCodes={pnr:{required:"BOOKER_ERROR_FIELD-REQUIRED",pattern:"ERROR_PNR_PATTERN",minlength:"ERROR_PNR_MIN",maxlength:"ERROR_PNR_MAX"},lastName:{required:"BOOKER_ERROR_FIELD-REQUIRED",pattern:"BOOKER_ERROR_NAME-PATTERN",minlength:"BOOKER_ERROR_MINIMUM-LASTNAME",maxlength:"ERROR_MAXIMUM_LASTNAME32"}},this.createFormGroup(),this.prefillFromQueryParams()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onLoginIntent",value:function(){this.loginSb.openModal()}},{key:"createFormGroup",value:function(){this.formGroup=this.fb.group({pnr:this.fb.control("",[i.I.required,i.I.pattern("^[a-zA-Z0-9]+"),i.I.minLength(6),i.I.maxLength(6)]),lastName:this.fb.control("",[i.I.required,i.I.pattern("^[a-zA-Z\xf1\xd1\xe1\xc1\xe9\xc9\xed\xcd\xf3\xd3\xfa\xda '-]+"),i.I.minLength(1),i.I.maxLength(32)])})}},{key:"onReservationSearchExt",value:function(){var e=this;this.formGroup.markAllAsTouched(),!this.isLoading&&this.formGroup.valid&&(this.setDisplayAlert(void 0),this.isLoading=!0,this.bookingApi.getFullBooking(this.formGroup.get("pnr").value.toUpperCase(),this.formGroup.get("lastName").value).subscribe((function(t){var n;if(t.data&&e.hasValidData(t.data)){if(e.redirectMmbCheckInSvc.checkRedirectTo(s.b.MMB_Landing,t.data,!1))return;var i=e.getBookingParams(t.data),l=e.route.snapshot.queryParamMap,u=["manage","trip-details"];switch(e.flowType){case a.b.CheckIn:u=["check-in"];break;case a.b.Irop:u=["irop","help-center"]}if(e.landingPage&&l.has("redirect")){u=[];var d=e.router.parseUrl(l.get("redirect")),h=null===(n=d.root.children[r.f])||void 0===n?void 0:n.segments;h.length&&h.forEach((function(e){u.push(e.path)})),d.queryParams.pnr=i.pnr,d.queryParams.lastName=i.lastName,e.router.navigate(u,{queryParams:d.queryParams})}else e.landingPage||e.datalayerCheckout.clickSearchReservation(e.formGroup.get("pnr").value.toUpperCase(),!0),e.router.navigate(u,{queryParams:{pnr:i.pnr,lastName:i.lastName}})}else c.g.production||console.error("::BookingSearch::","Booking doesn't have the necessary data to generate external link!"),e.alertsSvc.ready.then((function(){e.setDisplayAlert(e.alertsSvc.getAlert(o.b.INVALID_BOOKING_PARAMS))})),e.isLoading=!1}),(function(t){var n;e.landingPage||e.datalayerCheckout.clickSearchReservation(e.formGroup.get("pnr").value.toUpperCase(),!1),(null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.code)===o.b.INVALID_BOOKING_PARAMS&&e.alertsSvc.ready.then((function(){e.setDisplayAlert(e.alertsSvc.getAlert(o.b.INVALID_BOOKING_PARAMS))})),e.isLoading=!1})))}},{key:"hasValidData",value:function(e){var t,n=null===(t=e.passengers)||void 0===t?void 0:t[0];return!!e.pnr&&!!(null==n?void 0:n.lastName)}},{key:"getBookingParams",value:function(e){var t,n=null===(t=e.passengers)||void 0===t?void 0:t[0];return{pnr:e.pnr,lastName:n.lastName}}},{key:"getFieldErrors",value:function(e){return this.formGroup.get(e).invalid&&this.formGroup.get(e).touched?Object.keys(this.formGroup.get(e).errors):null}},{key:"setDisplayAlert",value:function(e){this.alertData=e}},{key:"prefillFromQueryParams",value:function(){var e=this.route.snapshot.queryParamMap;e.has("pnr")&&this.formGroup.get("pnr").patchValue(e.get("pnr"))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Tb(u.a),l.Tb(i.h),l.Tb(d.a),l.Tb(h.a),l.Tb(r.g),l.Tb(r.a),l.Tb(f.a),l.Tb(s.a))},e.\u0275cmp=l.Nb({type:e,selectors:[["app-reservation-search-form"]],inputs:{isLoggedIn:"isLoggedIn",hasReservation:"hasReservation",landingPage:"landingPage",flowType:"flowType",oneLineStyle:"oneLineStyle"},decls:41,vars:27,consts:[[1,"container-fluid","px-0","reservation-form",3,"formGroup","submit"],[1,"row"],[1,"col-xl-12"],[1,"form-title"],["class","pb-20",4,"ngIf"],[1,"row","mb-20"],[3,"ngClass"],[1,"viva-input-field",3,"ngClass"],["id","pnr","name","pnr","type","text","formControlName","pnr","required","","maxlength","8","appNoSpecialCharacters","",1,"text-uppercase",3,"placeholder"],[1,"fas","fa-sticky-note"],[1,"divider"],[1,"valid"],[1,"fas","fa-check"],["class","viva-input-field-error",4,"ngFor","ngForOf"],[1,"viva-input-field"],["id","last-name","name","last-name","formControlName","lastName","type","text","required","",3,"placeholder"],[1,"fas","fa-user"],["class","col-lg-4",4,"ngIf"],["class","row mb-20",4,"ngIf"],["class","row help-link-margin",4,"ngIf"],["searchBtn",""],["helpLink",""],["searchColumn",""],[1,"pb-20"],[3,"alertData","noClose","noMargin"],[1,"viva-input-field-error"],[1,"col-lg-4"],[4,"ngTemplateOutlet"],[3,"ngClass",4,"ngIf"],["class","d-flex flex-row justify-content-center align-items-center",4,"ngIf"],[1,"d-flex","flex-row","justify-content-center","align-items-center"],["type","button",1,"viva-btn","normal","mx-10","login-button",3,"click"],[1,"title"],[1,"row","help-link-margin"],["class","col-xl-6",4,"ngIf"],[1,"col-xl-6"],["type","submit",1,"viva-btn","big","light","w-100",3,"disabled","ngClass"],[1,"content","justify-content-center"],[1,"help-link",3,"ngClass"],["ctaClass","text-link",3,"callToAction",4,"ngIf"],["ctaClass","text-link",3,"callToAction"],[1,"regular-text"]],template:function(e,t){1&e&&(l.Zb(0,"form",0),l.hc("submit",(function(){return t.onReservationSearchExt()})),l.Zb(1,"div",1),l.Zb(2,"div",2),l.Zb(3,"h4",3),l.Sc(4),l.kc(5,"cmsTranslate"),l.Yb(),l.Qc(6,_,2,3,"div",4),l.Yb(),l.Yb(),l.Zb(7,"div",5),l.Zb(8,"div",6),l.Zb(9,"div",7),l.Ub(10,"input",8),l.kc(11,"cmsTranslate"),l.Ub(12,"i",9),l.Zb(13,"label"),l.Sc(14),l.kc(15,"cmsTranslate"),l.Yb(),l.Ub(16,"div",10),l.Zb(17,"div",11),l.Ub(18,"i",12),l.Yb(),l.Yb(),l.Qc(19,C,4,3,"small",13),l.Yb(),l.Zb(20,"div",6),l.Zb(21,"div",14),l.Ub(22,"input",15),l.kc(23,"cmsTranslate"),l.Ub(24,"i",16),l.Zb(25,"label"),l.Sc(26),l.kc(27,"cmsTranslate"),l.Yb(),l.Ub(28,"div",10),l.Zb(29,"div",11),l.Ub(30,"i",12),l.Yb(),l.Yb(),l.Qc(31,k,4,3,"small",13),l.Yb(),l.Qc(32,O,2,1,"div",17),l.Yb(),l.Qc(33,E,3,2,"div",18),l.Qc(34,x,3,2,"div",19),l.Yb(),l.Qc(35,I,5,9,"ng-template",null,20,l.Rc),l.Qc(37,R,3,4,"ng-template",null,21,l.Rc),l.Qc(39,B,3,2,"ng-template",null,22,l.Rc)),2&e&&(l.sc("formGroup",t.formGroup),l.Hb(4),l.Uc(" ",l.lc(5,15,"HEADER_MANAGE_FINDBOOKING-TITLE")," "),l.Hb(2),l.sc("ngIf",t.alertData),l.Hb(2),l.sc("ngClass",t.hasReservation?"col-xl-12 mb-10":t.oneLineStyle?"col-lg-4":"col-xl-6"),l.Hb(1),l.sc("ngClass",l.vc(25,F,t.landingPage)),l.Hb(1),l.sc("placeholder",l.lc(11,17,"GLOBAL_LABEL_RESERVATIONCODE-PLACEHOLDER")),l.Hb(4),l.Uc("",l.lc(15,19,"GLOBAL_LABEL_RESERVATIONCODE")," "),l.Hb(5),l.sc("ngForOf",t.getFieldErrors("pnr")),l.Hb(1),l.sc("ngClass",t.hasReservation?"col-xl-12":t.oneLineStyle?"col-lg-4":"col-xl-6"),l.Hb(2),l.tc("placeholder",l.lc(23,21,"GLOBAL_LABEL_LASTNAMES-PLACEHOLDERS")),l.Hb(4),l.Tc(l.lc(27,23,"GLOBAL_LABEL_LASTNAME-RESERVATION")),l.Hb(5),l.sc("ngForOf",t.getFieldErrors("lastName")),l.Hb(1),l.sc("ngIf",t.oneLineStyle),l.Hb(1),l.sc("ngIf",!t.oneLineStyle),l.Hb(1),l.sc("ngIf",!t.oneLineStyle))},directives:[i.K,i.v,i.m,p.u,p.r,i.d,i.u,i.k,i.F,i.p,g.a,p.t,v.a,p.B,m.a],pipes:[b.a,y.a],styles:[".reservation-form[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:22px;line-height:24px}.reservation-form[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{height:54px}.reservation-form[_ngcontent-%COMP%]   .help-link[_ngcontent-%COMP%]{height:19px;text-align:center}.reservation-form[_ngcontent-%COMP%]   .help-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;line-height:21px;letter-spacing:normal}.reservation-form[_ngcontent-%COMP%]   .help-link-margin[_ngcontent-%COMP%]{margin-top:-12px}"]}),e}()},quSY:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i,r,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),c=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),l=((r=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,i=this._unsubscribe,r=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var l=0;l<n.length;++l)n[l].remove(this);if(Object(s.a)(i))try{i.call(this)}catch(p){t=p instanceof c?u(p.errors):[p]}if(Object(o.a)(r))for(var d=-1,h=r.length;++d<h;){var f=r[d];if(Object(a.a)(f))try{f.unsubscribe()}catch(p){t=t||[],p instanceof c?t=t.concat(u(p.errors)):t.push(p)}}if(t)throw new c(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=((i=new r).closed=!0,i),r);function u(e){return e.reduce((function(e,t){return e.concat(t instanceof c?t.errors:t)}),[])}},r8Ls:function(e,t,n){"use strict";try{self["workbox:window:5.1.4"]&&_()}catch(i){}},rNvz:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return m}));var i=n("ofXK"),r=n("fXoL"),o=n("tyNb"),a=n("pLZG"),s=n("IzEk"),c=n("AytR"),l=n("RbsG"),u=n("BifP"),d=n("kh7C"),h=n("CJ36"),f=n("FonL"),p=n("imvL"),g=n("JK/P"),v=function(){var e=function(){function e(t,n,r,l,u,d,h,f,p,g){var v,b,y=this;_classCallCheck(this,e),this.cmsConfig=t,this.router=n,this.utilsSvc=r,this.locale=l,this.route=u,this.platformId=d,this.document=h,this.loginSvc=f,this.authSvc=p,this.modalSvc=g,this.redirectDictionary={es:(v={},_defineProperty2(v,m.CheckIn_Landing,"/mx/mi-vuelo/pase-de-abordar"),_defineProperty2(v,m.CheckIn_Confirmation,"/mx/mi-vuelo/detalles-de-mi-reservacion"),_defineProperty2(v,m.MMB_Landing,"/mx/mi-vuelo/detalles-de-mi-reservacion"),_defineProperty2(v,m.MMB_Seats,"/mx/mi-vuelo/seleccione-sus-asientos"),_defineProperty2(v,m.MMB_Baggage,"/mx/mi-vuelo/add-baggage"),_defineProperty2(v,m.MMB_Extras,"/mx/mi-vuelo/equipaje-adicional"),_defineProperty2(v,m.MMB_Confirmation,"/mx/mi-vuelo/detalles-de-mi-reservacion"),_defineProperty2(v,m.MMB_ChangeName,"/mx/mi-vuelo/cambiar-nombres"),_defineProperty2(v,m.MMB_PayBooking,"/mx/mi-vuelo/pagar-mi-reservacion"),_defineProperty2(v,m.MMB_AddPassengerDetails,"/mx/mi-vuelo/editar-informacion-del-pasajero"),_defineProperty2(v,m.MMB_ChangeFlight,"/mx/mi-vuelo/cambios-a-mi-reservacion"),_defineProperty2(v,m.MMB_VivaBusTicket,"/mx/mi-vuelo/vivabus"),v),en:(b={},_defineProperty2(b,m.CheckIn_Landing,"/en/my-flight/print-boarding-pass"),_defineProperty2(b,m.CheckIn_Confirmation,"/en/my-flight/my-booking"),_defineProperty2(b,m.MMB_Landing,"/en/my-flight/my-booking"),_defineProperty2(b,m.MMB_Seats,"/en/my-flight/select-seats"),_defineProperty2(b,m.MMB_Baggage,"/en/my-flight/add-baggage"),_defineProperty2(b,m.MMB_Extras,"/en/my-flight/add-extras"),_defineProperty2(b,m.MMB_Confirmation,"/en/my-flight/my-booking"),_defineProperty2(b,m.MMB_ChangeName,"/en/my-flight/change-my-name"),_defineProperty2(b,m.MMB_PayBooking,"/en/my-flight/pay-booking"),_defineProperty2(b,m.MMB_AddPassengerDetails,"/en/my-flight/edit-passenger-info"),_defineProperty2(b,m.MMB_ChangeFlight,"/en/my-flight/change-my-name"),_defineProperty2(b,m.MMB_VivaBusTicket,"/mx/mi-vuelo/vivabus"),b)},this.IGNORE_REDIRECT_MMB_CKN=c.g.cacheKeys.IGNORE_REDIRECT_MMB_CKN,this.router.events.pipe(Object(a.a)((function(e){return e instanceof o.c})),Object(s.a)(1)).toPromise().then((function(e){y.route.snapshot.queryParamMap.has("bypass")&&Object(i.L)(y.platformId)&&!sessionStorage.getItem(y.IGNORE_REDIRECT_MMB_CKN)&&sessionStorage.setItem(y.IGNORE_REDIRECT_MMB_CKN,"true")}))}return _createClass(e,[{key:"checkRedirectTo",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(sessionStorage.getItem(this.IGNORE_REDIRECT_MMB_CKN))return!1;var i={locator:void 0,email:void 0},r=!1;if(t&&(i.locator=t.pnr,i.email=encodeURIComponent(t.contacts[0].email),r=this.resolveRedirectFromRule(t)),this.cmsConfig._cmsConfig.globalSettings.mmbCheckInRedirectFlags[this.getGlobalSection(e)]||this.cmsConfig._cmsConfig.globalSettings.mmbCheckInRedirectFlags[e]||r){var o=this.resolveURL(e,i);return n?this.router.navigate(["redirect"],{state:{toUrl:o}}):this.document.location.href=o,!0}return!1}},{key:"resolveRedirectFromRule",value:function(e){var t,n=e.rules.find((function(e){return e.type===l.g.DisplayBusTicket}));return!!n&&!(null==n?void 0:n.isEnabled)&&!!(null===(t=null==n?void 0:n.details)||void 0===t?void 0:t.find((function(e){return"UnableToAccessPWA"===e.code})))}},{key:"getGlobalSection",value:function(e){return e.toString().includes("mmb")?"mmbGlobal":"cknGlobal"}},{key:"resolveURL",value:function(e,t){var n=this.locale.getAppLocale().split("-")[0],i=c.b+(this.redirectDictionary[n][e]||this.redirectDictionary.es[m.MMB_Landing]);return t&&t.email&&t.locator?i+"?locator=".concat(t.locator,"&email=").concat(t.email):i}},{key:"resolveRedirectSource",value:function(e){var t,n=null===(t=this.router.parseUrl(e).root.children[o.f])||void 0===t?void 0:t.segments;if(this.utilsSvc.isInsideSegment(n,"check-in"))return this.utilsSvc.isInsideSegment(n,"confirmation")?m.CheckIn_Confirmation:m.CheckIn_Landing;if(this.utilsSvc.isInsideSegment(n,"manage")){if(this.utilsSvc.isInsideSegment(n,"seats"))return m.MMB_Seats;if(this.utilsSvc.isInsideSegment(n,"baggage"))return m.MMB_Baggage;if(this.utilsSvc.isInsideSegment(n,"extras"))return m.MMB_Extras;if(this.utilsSvc.isInsideSegment(n,"review"))return m.MMB_PayBooking;if(this.utilsSvc.isInsideSegment(n,"confirmation"))return m.MMB_Confirmation;if(this.utilsSvc.isInsideSegment(n,"passengers"))return m.MMB_ChangeName;if(this.utilsSvc.isInsideSegment(n,"journeys")||this.utilsSvc.isInsideSegment(n,"options"))return m.MMB_ChangeFlight}return m.MMB_Landing}},{key:"checkLoginRequiredRule",value:function(e,t){var n=this;if(e){if(this.authSvc.isLoggedIn)return this.modalSvc.open("change-user-modal"),!0;var i=null;switch(e.code){case l.n.LoginRequiredAgency:i="Agency";break;case l.n.LoginRequiredEnterprise:i="Enterprise";break;case l.n.LoginRequiredStaff:i="Staff"}return this.router.navigate([],{relativeTo:this.route,queryParams:{loginType:i,bookingRule:t},queryParamsHandling:"merge",skipLocationChange:!0}).finally((function(){n.loginSvc.openModal()})),!0}return!1}},{key:"checkRequiredActionRule",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!e&&("DisabledForIropEvent"===(null==e?void 0:e.code)&&n?(this.modalSvc.open("irop-incidence-modal"),!0):this.checkLoginRequiredRule(e,t))}},{key:"showIropIncidenceModal",value:function(e){this.utilsSvc.checkBookingAvailability(e,l.g.NoIropRedirect,!0)||this.utilsSvc.checkBookingAvailability(e,l.g.KeepFlightSelected,!1)||this.modalSvc.open("irop-incidence-modal")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.dc(u.a),r.dc(o.g),r.dc(d.a),r.dc(h.a),r.dc(o.a),r.dc(r.G),r.dc(i.e),r.dc(f.a),r.dc(p.a),r.dc(g.a))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),m=function(e){return e.CheckIn_Landing="cknLanding",e.CheckIn_Confirmation="cknConfirmation",e.MMB_Landing="mmbLanding",e.MMB_Seats="mmbSeats",e.MMB_Baggage="mmbBaggage",e.MMB_Extras="mmbExtras",e.MMB_Confirmation="mmbConfirmation",e.MMB_ChangeName="mmbChangeName",e.MMB_PayBooking="mmbPayBooking",e.MMB_AddPassengerDetails="mmbAddPassengerDetails",e.MMB_ChangeFlight="mmbChangeFlight",e.MMB_VivaBusTicket="mmbVivaBusTicket",e}({})},rOEr:function(e,t,n){var i;function r(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(i||r);e.diff=o,e.prev=i,e.curr=r,i=r;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,i){if("%%"===n)return n;c++;var r=t.formatters[i];return"function"==typeof r&&(n=r.call(e,a[c]),a.splice(c,1),c--),n})),t.formatArgs.call(e,a);var l=n.log||t.log||console.log.bind(console);l.apply(e,a)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length,r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n("im7C"),t.names=[],t.skips=[],t.formatters={}},rRMn:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("egL7"),o=function(){var e=function(){function e(t){_classCallCheck(this,e),this.gtmService=t}return _createClass(e,[{key:"clickEditFlightOptions",value:function(){this.gtmService.pushTag({event:"ev_ux_flight_options",category:"flight_options",action:"click_edit_flight_options"})}},{key:"clickToggleView",value:function(){this.gtmService.pushTag({event:"ev_ux_flight_options",category:"flight_options",action:"click_toggle_view",label:"calendar"})}},{key:"flightCalendarView",value:function(){this.gtmService.pushTag({event:"ev_ux_shopping_calendar_view",category:"ux_shopping",action:"click_calendar_view"})}},{key:"clickMoreDatesCarrousel",value:function(e){var t={event:"ev_ux_flight_options",category:window.location.href.includes("/manage")?"ux_flight_options_mmb":"flight_options",action:"click_more_dates_carrousel",label:e};this.gtmService.pushTag(t)}},{key:"clickSortOptions",value:function(){var e={event:"ev_ux_flight_options",category:window.location.href.includes("/manage")?"ux_flight_options_mmb":"flight_options",action:"click_sort_options"};this.gtmService.pushTag(e)}},{key:"selectSortOptions",value:function(e){var t={event:"ev_ux_flight_options",category:window.location.href.includes("/manage")?"ux_flight_options_mmb":"flight_options",action:"select_sort_options",label:e};this.gtmService.pushTag(t)}},{key:"clickFilterOptions",value:function(){var e={event:"ev_ux_flight_options",category:window.location.href.includes("/manage")?"ux_flight_options_mmb":"flight_options",action:"click_filter_options"};this.gtmService.pushTag(e)}},{key:"selectFilterOptions",value:function(e){var t={event:"ev_ux_flight_options",category:window.location.href.includes("/manage")?"ux_flight_options_mmb":"flight_options",action:"select_filter_options",label:e};this.gtmService.pushTag(t)}},{key:"clickVivaFanPriceToggle",value:function(e){var t={event:"ev_ux_flight_options",category:window.location.href.includes("/manage")?"ux_flight_options_mmb":"flight_options",action:"click_viva_fan_price_toggle",label:e?"on":"off"};this.gtmService.pushTag(t)}},{key:"clickFlightDetailToggle",value:function(e){var t={event:"ev_ux_flight_options",category:window.location.href.includes("/manage")?"ux_flight_options_mmb":"flight_options",action:"click_flight_detail_toggle",label:e?"on":"off"};this.gtmService.pushTag(t)}},{key:"clickModalityComparison",value:function(){var e={event:"ev_ux_flight_options",category:window.location.href.includes("/manage")?"ux_flight_options_mmb":"flight_options",action:"click_modality_comparison"};this.gtmService.pushTag(e)}},{key:"clickShareFlights",value:function(){var e={event:"ev_ux_flight_options",category:window.location.href.includes("/manage")?"ux_flight_options_mmb":"flight_options",action:"click_share_flights"};this.gtmService.pushTag(e)}},{key:"selectWhatsappNotifications",value:function(){this.gtmService.pushTag({event:"ev_ux_book_passenger",category:"book_passenger",action:"select_whatsapp_notifications"})}},{key:"selectReceiveOffers",value:function(){this.gtmService.pushTag({event:"ev_ux_book_passenger",category:"book_passenger",action:"select_receive_offers"})}},{key:"selectEmailSuggestions",value:function(){this.gtmService.pushTag({event:"ev_ux_book_passenger",category:"book_passenger",action:"select_email_suggestions"})}},{key:"clickNoSeatSelection",value:function(){this.gtmService.pushTag({event:"ev_ux_seat_selection",category:"seat_selection",action:"click_no_seat_selection"})}},{key:"clickPopupSeatSelection",value:function(){this.gtmService.pushTag({event:"ev_ux_seat_selection",category:"seat_selection",action:"click_popup_seat_selection"})}},{key:"clickPopupNoSeatSelection",value:function(){this.gtmService.pushTag({event:"ev_ux_seat_selection",category:"seat_selection",action:"click_popup_no_seat_selection"})}},{key:"selectDiffCabinToggle",value:function(e){this.gtmService.pushTag({event:"ev_ux_extras",category:"extras",action:"select_diff_cabin_toggle",label:e?"on":"off"})}},{key:"selectDiffCheckinToggle",value:function(){this.gtmService.pushTag({event:"ev_ux_extras",category:"extras",action:"select_special_baggage"})}},{key:"specialBaggageToggle",value:function(e){this.gtmService.pushTag({event:"ev_ux_extras",category:"extras",action:"select_diff_checkin_baggage_toggle",label:e?"on":"off"})}},{key:"clickMoreInfo",value:function(e){this.gtmService.pushTag({event:"ev_ux_extras",category:"extras",action:"click_more_info",label:e})}},{key:"clickTuaPayLater",value:function(){this.gtmService.pushTag({event:"ev_ux_payment_review",category:"payment_review",action:"click_tua_pay_later"})}},{key:"clickTuaPrepay",value:function(){this.gtmService.pushTag({event:"ev_ux_payment_review",category:"payment_review",action:"click_tua_prepay"})}},{key:"clickMoreInfoTua",value:function(e){this.gtmService.pushTag({event:"ev_ux_payment_review",category:"payment_review",action:"click_more_info",label:e})}},{key:"clickPayBankPointsToggle",value:function(e){this.gtmService.pushTag({event:"ev_ux_payment_review",category:"payment_review",action:"click_pay_bank_points_toggle",label:e?"off":"on"})}},{key:"clickPayVivacashPointsToggle",value:function(e){this.gtmService.pushTag({event:"ev_ux_payment_review",category:"payment_review",action:"click_pay_vivacash_points_toggle",label:e?"on":"off"})}},{key:"printConfirmation",value:function(){this.gtmService.pushTag({event:"ev_ux_confirmation",category:"confirmation",action:"print_confirmation"})}},{key:"shareConfirmation",value:function(){this.gtmService.pushTag({event:"ev_ux_confirmation",category:"confirmation",action:"share_confirmation"})}},{key:"gtmContinueWOHotel",value:function(e){this.gtmService.pushTag({event:"ux_hotels",category:"ux_booking",action:"click_continue_WOhotel",label:e})}},{key:"gtmUXHotelDetail",value:function(e){this.gtmService.pushTag({event:"ux_hotels",category:"ux_booking",action:"hotel_detail",label:e})}},{key:"dotersToggle",value:function(e){this.gtmService.pushTag({event:"ux_booking",category:"Doters",action:"click_toggle_doters",label:e?"on":"off"})}},{key:"cardInput",value:function(e,t,n,i,r){this.gtmService.pushTag({event:"ev_card_input",category:"payment",action:"card_input",label:e?"valid":"invalid",payment_type:"CardPayment",payment_amount:t,payment_currency_code:n,payment_detail:i,card_bin:r})}},{key:"viewLoginModal",value:function(){this.gtmService.pushTag({event:"ev_ux",category:"profile",action:"modal_login_passengers",label:"view_modal"})}},{key:"clickLoginModal",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.gtmService.pushTag({event:"ev_ux",category:"profile",action:"modal_login_passengers",label:e?"click_login":"click_continue_guest",detail:t?"on":"off"})}},{key:"viewGuestCardModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.gtmService.pushTag({event:"ev_ux",category:"profile",action:"card_guest_fee",label:e?"view_with_login":"view_as_guest"})}},{key:"clickGuestCardModal",value:function(){this.gtmService.pushTag({event:"ev_ux",category:"profile",action:"card_guest_fee",label:"click_login"})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(r.a))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},rd4S:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("wd/R"),r=n("LRne"),o=n("Kj3r"),a=n("lJxs"),s=n("JIr8"),c=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,l=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"requiredControlNotEmpty",value:function(e){return function(t){return e.value&&!t.value?{required:!0}:null}}},{key:"dateVal",value:function(e,t){return function(n){if(n.value){var r=i(n.value);if("min"===t){if(r.isBefore(e))return{minDate:!0}}else if(r.isAfter(e))return{maxDate:!0}}return null}}},{key:"minDate",value:function(t){return e.dateVal(t,"min")}},{key:"maxDate",value:function(t){return e.dateVal(t,"max")}},{key:"validateEmailAccount",value:function(e,t){return function(n){return n.value?(e.disable(),t.validateUserEmail(n.value).pipe(Object(o.a)(300),Object(a.a)((function(t){return e.enable(),t.data.isUsernameAvailable?null:{isUsernameAvailable:!0}})),Object(s.a)((function(){return e.enable(),null})))):Object(r.a)(null)}}},{key:"email",value:function(e){return e.value?c.test(e.value)?null:{email:!0}:null}}]),e}()},rdGu:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=function e(){_classCallCheck(this,e),this.ip="0.0.0.0",this.type=o.NO_LOCATION},r=function e(){_classCallCheck(this,e)},o=function(e){return e.NO_LOCATION="NO_LOCATION",e.IP_LOCATION="IP_LOCATION",e.IP_LOCATION_ERROR="IP_LOCATION_ERROR",e.GEO_LOCATION="GEO_LOCATION",e}({})},rmK9:function(e,t,n){"use strict";var i;n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d}));var r=function(e){return e.XX="XX",e.Male="Male",e.Female="Female",e}({}),o=(_defineProperty2(i={},r.XX,"GLOBAL_LABEL_GENDER_XX"),_defineProperty2(i,r.Male,"GLOBAL_LABEL_GENDER_MALE"),_defineProperty2(i,r.Female,"GLOBAL_LABEL_GENDER_FEMALE"),i),a=function(e){return e.PersonalDetails="PersonalDetails",e.ContactDetails="ContactDetails",e.TravelDocuments="TravelDocuments",e.ChangePassword="ChangePassword",e.Trips="Trips",e.Companions="Companions",e.StoredPayments="StoredPayments",e.FaceId="FaceId",e.VivaFan="VivaFan",e.VivaCash="VivaCash",e.UpcomingTrip="UpcomingTrip",e.RecentBasket="RecentBasket",e.Reports="Reports",e.Doters="Doters",e.MyIdTravel="MyIdTravel",e.VivaGift="VivaGift",e}({}),s=function(e){return e.Profile="Profile",e.VivaCash="VivaCash",e.Loyalty="Loyalty",e}({}),c=function(e){return e.Other="Other",e.Home="Home",e.Work="Work",e.Mobile="Mobile",e.Fax="Fax",e}({}),l=function(e){return e.Google="Google",e.Facebook="Facebook",e}({}),u=function(e){return e.WEBSITE="WEBSITE",e.CSC="CSC",e.MOBILE="MOBILE",e.POS="POS",e.WIFI="WIFI",e.MIGRATED="MIGRATED",e.WEBGUEST="WEBGUEST",e}({}),d=function(e){return e.SsoAuthCode="SsoAuthCode",e.SsoAccessToken="SsoAccessToken",e}({})},s6QE:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("mrSG"),r=n("pLZG"),o=n("IzEk"),a=n("AytR"),s=n("fXoL"),c=n("BifP"),l=n("tyNb"),u=n("imvL"),d=n("ofXK"),h=n("kh7C"),f=function(){var e=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.csmConfig=t,this.router=n,this.auth=i,this.location=r,this.utilsSvc=o,this.maintenanceMode=this.csmConfig._cmsConfig.globalSettings.maintenanceMode}return _createClass(e,[{key:"canLoad",value:function(){var e=this;return new Promise((function(t,n){if(e.maintenanceMode.site&&!e.skipMaintenanceMode)return e.resolveByAcount(t,n);t(!0)}))}},{key:"checkPath",value:function(e,t){return!!(t||this.maintenanceMode)[{manage:"manage",book:"booking",profile:"profile","check-in":"check-in","flight-status":"flight-status",irop:"manage"}[e]]}},{key:"canActivate",value:function(e,t){var n=this;return new Promise((function(i,r){return!n.checkPath(e.url[0].path)||n.skipMaintenanceMode?i(!0):n.resolveByAcount(i,r,e,t)}))}},{key:"resolveByAcount",value:function(e,t,n,s){var c=this;this.auth.onSyncDonePromise.then((function(){return Object(i.a)(c,void 0,void 0,regeneratorRuntime.mark((function t(){var i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.auth.isLoggedIn?this.auth.userAccountData$.pipe(Object(r.a)((function(e){return!!e})),Object(o.a)(1)).subscribe((function(t){if(t.affiliations){var r=i.auth.getDebugAffiliation(t);if(i.utilsSvc.isAffiliationValid(r))return e(!0);e(i.navigateKeepingDeeplink(n,s))}})):e(this.navigateKeepingDeeplink(n,s));case 1:case"end":return t.stop()}}),t,this)})))})).catch((function(e){a.g.production||console.error(e),t(c.navigateKeepingDeeplink(n,s))}))}},{key:"navigateKeepingDeeplink",value:function(e,t){var n=this;if(!e&&!t)return this.router.navigate(["/maintenance"],{skipLocationChange:!0}),!1;for(var i=e.firstChild;i.firstChild;)i=i.firstChild;var r=Object.assign(Object.assign({},i.data),{from:t.url,path:e.url[0].path});return this.router.navigate(["maintenance","inline"],{state:r,skipLocationChange:!0}).then((function(){n.location.replaceState(t.url,"",r)})),!1}},{key:"skipMaintenanceMode",get:function(){return a.g.appVersion.includes("dev")||a.g.appVersion.includes("local")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.dc(c.a),s.dc(l.g),s.dc(u.a),s.dc(d.o),s.dc(h.a))},e.\u0275prov=s.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},sEf8:function(e,t){e.exports=function(e){return function(t){return e(t)}}},shjB:function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},st0d:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e[e.UNDEFINED=0]="UNDEFINED",e[e.BASKET_INFO=1]="BASKET_INFO",e[e.URL_QUERY_PARAMS=2]="URL_QUERY_PARAMS",e}({})},sxOR:function(e,t,n){"use strict";var i=String.prototype.replace,r=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return i.call(e,r,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},t487:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("mrSG"),r=n("fXoL"),o=n("tk/3"),a=n("AytR"),s=n("UXun"),c=n("vkgz"),l=n("lJxs"),u=n("tS1D"),d=n("ofXK"),h=n("WGbO"),f=function(){var e=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.http=t,this.document=n,this.platformId=i,this.datalayerChannelSvc=r,this.locale=o,this.customerId=a.g.cludo.customerId,this.apiHost=a.g.cludo.apiHost,this.spanishId=a.g.cludo.spanishId,this.englishId=a.g.cludo.englishId,this.typeDevice="unknown",this.quickLinks$=this.getQuickLinks(this.locale).pipe(Object(s.a)(1))}return _createClass(e,[{key:"getSearchResult",value:function(e,t){var n=this,r=this.getEngineId(t),a=this.getSiteKeyAuthorizationHeader(this.customerId,r),s=(new o.e).set("query",e);this.idgtm=this.datalayerChannelSvc.id,this.typeDevice=this.datalayerChannelSvc.variant;var l={headers:new o.d({Authorization:a,"Content-Type":"application/x-www-form-urlencoded"})};return this.http.post("".concat(this.apiHost).concat(this.customerId,"/").concat(r,"/search"),s.toString(),l).pipe(Object(c.a)((function(r){return Object(i.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={sw:e,rc:r.TotalDocument,fquery:r.FixedQuery,rt:r.ResponseTime,qid:r.QueryId,sid:this.idgtm.d,qsid:this.idgtm.s,dt:this.typeDevice},n.next=3,this.postQueryLog(i,t);case 3:case"end":return n.stop()}}),n,this)})))})))}},{key:"getAutocompleteArray",value:function(e,t){var n=this.getEngineId(t),i=this.getSiteKeyAuthorizationHeader(this.customerId,n),r=(new o.e).set("query",e),a={headers:new o.d({Authorization:i,"Content-Type":"application/x-www-form-urlencoded"})};return this.http.post("".concat(this.apiHost).concat(this.customerId,"/").concat(n,"/autocomplete"),r.toString(),a)}},{key:"postQueryLog",value:function(e,t){var n=this.getEngineId(t);Object(d.L)(this.platformId)&&(e.brl=t,e.sz=window.screen.width+"x"+window.screen.height,e.ua=window.navigator.userAgent,e.refurl=window.location.href,e.refpt=this.document.title,e.hn=window.location.host,e.sid=this.idgtm.d,e.qsid=this.idgtm.s,e.dt=this.typeDevice);var i={headers:new o.d({"Content-Type":"application/json"})};return this.http.post("".concat(this.apiHost).concat(this.customerId,"/").concat(n,"/search/pushstat/querylog"),e,i).toPromise().then((function(e){return!0})).catch((function(e){return!1}))}},{key:"postClickLog",value:function(e,t){var n=this.getEngineId(t);Object(d.L)(this.platformId)&&(e.brl=t,e.ls="searchresult",e.sz=window.screen.width+"x"+window.screen.height,e.ua=window.navigator.userAgent,e.refurl=window.location.href,e.refpt=this.document.title,e.hn=window.location.host,e.sid=this.idgtm.d,e.qsid=this.idgtm.s,e.dt=this.typeDevice);var i={headers:new o.d({"Content-Type":"application/json"})};return this.http.post("".concat(this.apiHost).concat(this.customerId,"/").concat(n,"/search/pushstat/clicklog"),e,i).toPromise().then((function(e){return!0})).catch((function(e){return!1}))}},{key:"getQuickLinks",value:function(e){var t=this.getEngineId(e),n={headers:new o.d({"Content-Type":"application/json"})};return this.http.get("".concat(this.apiHost).concat(this.customerId,"/").concat(t,"/websites/publicsettings"),n).pipe(Object(l.a)((function(e){return e.quicklinks||[]})))}},{key:"getQuickLinkFromQuery",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,this.quickLinks$.pipe(Object(u.a)(5e3)).toPromise();case 4:n=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a.g.production||console.error("::CludoService:: QuickLinks Fetch Error:",t.t0),n=[];case 10:if(!e||!Array.isArray(n)){t.next=14;break}if(!(i=n.find((function(t){return(t.terms||[]).filter((function(e){return!!e.name})).map((function(e){return e.name.toLowerCase()})).includes(e.toLowerCase())})))||!i.url){t.next=14;break}return t.abrupt("return",i);case 14:case"end":return t.stop()}}),t,this,[[1,7]])})))}},{key:"getSiteKeyAuthorizationHeader",value:function(e,t){return"SiteKey "+btoa("".concat(e,":").concat(t,":SearchKey"))}},{key:"getEngineId",value:function(e){return e&&e.toLowerCase().includes("en")?this.englishId:this.spanishId}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.dc(o.b),r.dc(d.e),r.dc(r.G),r.dc(h.a),r.dc(r.y))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},tAZD:function(e,t,n){var i,r,o;!function(a){if("object"==typeof e.exports){var s=a(0,t);void 0!==s&&(e.exports=s)}else r=[n,t],void 0===(o="function"==typeof(i=a)?i.apply(t,r):i)||(e.exports=o)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;t.default=["en",[["a","p"],["AM","PM"],n],[["AM","PM"],n,n],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],n,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],n,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",n,"{1} 'at' {0}",n],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}]}))},tMB7:function(e,t,n){var i=n("y1pI");e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},tQ2B:function(e,t,n){"use strict";var i=n("xTJ+"),r=n("Rn+g"),o=n("MLWZ"),a=n("g7np"),s=n("w0Vi"),c=n("OTTw"),l=n("LYNF");e.exports=function(e){return new Promise((function(t,u){var d=e.data,h=e.headers;i.isFormData(d)&&delete h["Content-Type"];var f=new XMLHttpRequest;e.auth&&(h.Authorization="Basic "+btoa((e.auth.username||"")+":"+(e.auth.password||"")));var p=a(e.baseURL,e.url);if(f.open(e.method.toUpperCase(),o(p,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?s(f.getAllResponseHeaders()):null;r(t,u,{data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}},f.onabort=function(){f&&(u(l("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){u(l("Network Error",e,null,f)),f=null},f.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),u(l(t,e,"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var g=n("eqyj"),v=(e.withCredentials||c(p))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;v&&(h[e.xsrfHeaderName]=v)}if("setRequestHeader"in f&&i.forEach(h,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete h[t]:f.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),e.responseType)try{f.responseType=e.responseType}catch(m){if("json"!==e.responseType)throw m}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),u(e),f=null)})),void 0===d&&(d=null),f.send(d)}))}},tS1D:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("D0XW"),r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),o=n("mlxB"),a=n("l7GE"),s=n("ZUHj"),c=function(){function e(t,n,i,r){_classCallCheck(this,e),this.waitFor=t,this.absoluteTimeout=n,this.withObservable=i,this.scheduler=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e)).absoluteTimeout=i,s.waitFor=r,s.withObservable=o,s.scheduler=a,s.action=null,s.scheduleTimeout(),s}return _createClass(n,[{key:"scheduleTimeout",value:function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(n.dispatchTimeout,this.waitFor,this))}},{key:"_next",value:function(e){this.absoluteTimeout||this.scheduleTimeout(),_get(_getPrototypeOf(n.prototype),"_next",this).call(this,e)}},{key:"_unsubscribe",value:function(){this.action=null,this.scheduler=null,this.withObservable=null}}],[{key:"dispatchTimeout",value:function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Object(s.a)(e,t))}}]),n}(a.a),u=n("z6cu");function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return function(i){var r=Object(o.a)(e),a=r?+e-n.now():Math.abs(e);return i.lift(new c(a,r,t,n))}}(e,Object(u.a)(new r),t)}},tadb:function(e,t,n){var i=n("Cwc5")(n("Kz5y"),"DataView");e.exports=i},tbfe:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}(n("wd/R"))},tiZS:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n("h/S9");var i=function(e){return e.Merge="Merge",e.Replace="Replace",e.Delete="Delete",e.AddToArray="AddToArray",e}({})},"tk/3":function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return U})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return S}));var i=n("fXoL"),r=n("LRne"),o=n("HDdC"),a=n("bOdf"),s=n("pLZG"),c=n("lJxs"),l=n("ofXK"),u=function e(){_classCallCheck(this,e)},d=function e(){_classCallCheck(this,e)},h=function(){function e(t){var n=this;_classCallCheck(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var i=e.slice(0,t),r=i.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(i,r),n.headers.has(r)?n.headers.get(r).push(o):n.headers.set(r,[o])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var i=t[e],r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(r,i),n.maybeSetNormalizedName(e,r))}))}:this.headers=new Map}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var i=("a"===e.op?this.headers.get(t):void 0)||[];i.push.apply(i,_toConsumableArray2(n)),this.headers.set(t,i);break;case"d":var r=e.value;if(r){var o=this.headers.get(t);if(!o)return;0===(o=o.filter((function(e){return-1===r.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),f=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encodeKey",value:function(e){return p(e)}},{key:"encodeValue",value:function(e){return p(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function p(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var g=function(){function e(){var t,n,i,r=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,e),this.updates=null,this.cloneFrom=null,this.encoder=o.encoder||new f,o.fromString){if(o.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(t=o.fromString,n=this.encoder,i=new Map,t.length>0&&t.split("&").forEach((function(e){var t=e.indexOf("="),r=_slicedToArray(-1==t?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,t)),n.decodeValue(e.slice(t+1))],2),o=r[0],a=r[1],s=i.get(o)||[];s.push(a),i.set(o,s)})),i)}else o.fromObject?(this.map=new Map,Object.keys(o.fromObject).forEach((function(e){var t=o.fromObject[e];r.map.set(e,Array.isArray(t)?t:[t])}))):this.map=null}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).filter((function(e){return""!==e})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var i=e.map.get(t.param)||[],r=i.indexOf(t.value);-1!==r&&i.splice(r,1),i.length>0?e.map.set(t.param,i):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function v(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function m(e){return"undefined"!=typeof Blob&&e instanceof Blob}function b(e){return"undefined"!=typeof FormData&&e instanceof FormData}var y=function(){function e(t,n,i,r){var o;if(_classCallCheck(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new h),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new g,this.urlWithParams=n}return _createClass(e,[{key:"serializeBody",value:function(){return null===this.body?null:v(this.body)||m(this.body)||b(this.body)||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||b(this.body)?null:m(this.body)?this.body.type||null:v(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,c=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),c)),t.setParams&&(l=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),l)),new e(n,i,o,{params:l,headers:c,reportProgress:s,responseType:r,withCredentials:a})}}]),e}(),_=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}(),C=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,e),this.headers=t.headers||new h,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},k=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,i)).type=_.ResponseHeader,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(C),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,i)).type=_.Response,e.body=void 0!==i.body?i.body:null,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(C),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),i.error=e.error||null,i}return n}(C);function T(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var w=function(){var e=function(){function e(t){_classCallCheck(this,e),this.handler=t}return _createClass(e,[{key:"request",value:function(e,t){var n,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof y)n=e;else{var l=void 0;l=o.headers instanceof h?o.headers:new h(o.headers);var u=void 0;o.params&&(u=o.params instanceof g?o.params:new g({fromObject:o.params})),n=new y(e,t,void 0!==o.body?o.body:null,{headers:l,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}var d=Object(r.a)(n).pipe(Object(a.a)((function(e){return i.handler.handle(e)})));if(e instanceof y||"events"===o.observe)return d;var f=d.pipe(Object(s.a)((function(e){return e instanceof S})));switch(o.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return f.pipe(Object(c.a)((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return f.pipe(Object(c.a)((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return f.pipe(Object(c.a)((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return f.pipe(Object(c.a)((function(e){return e.body})))}case"response":return f;default:throw new Error("Unreachable: unhandled observe type ".concat(o.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new g).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,T(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,T(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,T(n,t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(u))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e}(),A=function(){function e(t,n){_classCallCheck(this,e),this.next=t,this.interceptor=n}return _createClass(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),E=new i.t("HTTP_INTERCEPTORS"),P=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e}(),M=/^\)\]\}',?\n/,x=function e(){_classCallCheck(this,e)},D=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e}(),I=function(){var e=function(){function e(t){_classCallCheck(this,e),this.xhrFactory=t}return _createClass(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new o.a((function(n){var i=t.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((function(e,t){return i.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var r=e.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(e.responseType){var o=e.responseType.toLowerCase();i.responseType="json"!==o?o:"text"}var a=e.serializeBody(),s=null,c=function(){if(null!==s)return s;var t=1223===i.status?204:i.status,n=i.statusText||"OK",r=new h(i.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||e.url;return s=new k({headers:r,status:t,statusText:n,url:o})},l=function(){var t=c(),r=t.headers,o=t.status,a=t.statusText,s=t.url,l=null;204!==o&&(l=void 0===i.response?i.responseText:i.response),0===o&&(o=l?200:0);var u=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof l){var d=l;l=l.replace(M,"");try{l=""!==l?JSON.parse(l):null}catch(h){l=d,u&&(u=!1,l={error:h,text:l})}}u?(n.next(new S({body:l,headers:r,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new O({error:l,headers:r,status:o,statusText:a,url:s||void 0}))},u=function(e){var t=c().url,r=new O({error:e,status:i.status||0,statusText:i.statusText||"Unknown Error",url:t||void 0});n.error(r)},d=!1,f=function(t){d||(n.next(c()),d=!0);var r={type:_.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(r.total=t.total),"text"===e.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},p=function(e){var t={type:_.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return i.addEventListener("load",l),i.addEventListener("error",u),e.reportProgress&&(i.addEventListener("progress",f),null!==a&&i.upload&&i.upload.addEventListener("progress",p)),i.send(a),n.next({type:_.Sent}),function(){i.removeEventListener("error",u),i.removeEventListener("load",l),e.reportProgress&&(i.removeEventListener("progress",f),null!==a&&i.upload&&i.upload.removeEventListener("progress",p)),i.abort()}}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(x))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e}(),L=new i.t("XSRF_COOKIE_NAME"),R=new i.t("XSRF_HEADER_NAME"),N=function e(){_classCallCheck(this,e)},j=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.doc=t,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(l.R)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(l.e),i.dc(i.G),i.dc(L))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e}(),B=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.tokenService=t,this.headerName=n}return _createClass(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(N),i.dc(R))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e}(),F=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(E,[]);this.chain=t.reduceRight((function(e,t){return new A(e,t)}),this.backend)}return this.chain.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(d),i.dc(i.u))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e}(),H=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:B,useClass:P}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:L,useValue:t.cookieName}:[],t.headerName?{provide:R,useValue:t.headerName}:[]]}}}]),e}();return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},providers:[B,{provide:E,useExisting:B,multi:!0},{provide:N,useClass:j},{provide:L,useValue:"XSRF-TOKEN"},{provide:R,useValue:"X-XSRF-TOKEN"}]}),e}(),U=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},providers:[w,{provide:u,useClass:F},I,{provide:d,useExisting:I},D,{provide:x,useExisting:D}],imports:[[H.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}()},tpaT:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n("fXoL"),r=n("wd/R"),o=n("ofXK"),a=n("hzby"),s=n("pLZG"),c=n("quSY"),l=n("PqYM"),u=n("VXoX"),d=["Symbology"];function h(e,t){1&e&&i.Ub(0,"i",18)}function f(e,t){1&e&&i.Ub(0,"i",19)}function p(e,t){if(1&e&&(i.Zb(0,"span"),i.Sc(1),i.kc(2,"titlecase"),i.Yb()),2&e){var n=i.jc();i.Hb(1),i.Uc(" ",i.lc(2,1,n.chosenDate.startDate.format("ddd, D MMM"))," ")}}function g(e,t){if(1&e&&(i.Zb(0,"span"),i.Sc(1),i.kc(2,"titlecase"),i.Yb()),2&e){var n=i.jc(2);i.Hb(1),i.Uc(" ",i.lc(2,1,n.chosenDate.endDate.format("ddd, D MMM"))," ")}}function v(e,t){if(1&e&&(i.Zb(0,"div",7),i.Zb(1,"label",8),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Zb(4,"p",9),i.Qc(5,g,3,3,"span",10),i.Yb(),i.Yb()),2&e){var n=i.jc(),r=i.Ec(20);i.Hb(2),i.Tc(i.lc(3,3,"GLOBAL_LABEL_RETURN")),i.Hb(3),i.sc("ngIf",!!n.chosenDate.endDate)("ngIfElse",r)}}function m(e,t){1&e&&(i.Zb(0,"span"),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e&&(i.Hb(1),i.Tc(i.lc(2,1,"BOOKER_LABEL_SELECT-DATE")))}function b(e,t){1&e&&(i.Zb(0,"div",20),i.Zb(1,"div",21,22),i.Zb(3,"div",23),i.Zb(4,"div",24),i.Sc(5,"#"),i.Yb(),i.Zb(6,"div",25),i.Sc(7),i.kc(8,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(9,"div",23),i.Zb(10,"div",26),i.Sc(11,"#"),i.Yb(),i.Zb(12,"div",25),i.Sc(13),i.kc(14,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(15,"div",27),i.Zb(16,"div",28),i.Sc(17,"#"),i.Yb(),i.Zb(18,"div",25),i.Sc(19),i.kc(20,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(7),i.Tc(i.lc(8,3,"BOOKER_SHOW_NON-STOP")),i.Hb(6),i.Tc(i.lc(14,5,"BOOKER_LABEL_ONLY-CONNECTING-FLIGHTS")),i.Hb(6),i.Tc(i.lc(20,7,"BOOKER_LABEL_WITHOUT-AVAILABILITY")))}var y=function(e,t,n){return{active:e,disabled:t,simple:n}},_=function(e,t,n){return{round:e,"w-50":t,active:n}},C=function(e,t){return{round:e,active:t}},k=function(e){return{active:e}},S=function(){return{showWeekNumbers:!1,containerClass:"viva-theme",customTodayClass:"today",preventChangeToNextMonth:!0}},O=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.document=t,this.element=n,this.isRoundTrip=!0,this.displayCalendar=!0,this.showToLeft=!1,this.showSymbology=!0,this.departureBookingDates=[],this.returnBookingDates=[],this.selectedDates={startDate:null,endDate:null},this.isLoading=!1,this.selectedDatesChange=new i.p,this.isOpened=new i.p(!1),this.minDate=r().toDate(),this.maxDate=r().add(60,"days").toDate(),this.chosenDate={startDate:null,endDate:null},this.bookingDates=[],this.isMobile=!1,this.startDateChangeSubscription=c.a.EMPTY,this.keepPreviousDatesSelected=!1}return _createClass(e,[{key:"clickOutSide",value:function(e){var t;if(this.showCalendar){var n=this.document.querySelector(".bs-datepicker.viva-theme .bs-datepicker-container");this.element.nativeElement.contains(e)||!n||n.contains(e)||(null===(t=this.datepicker)||void 0===t||t.hide(),this.closeDatepicker())}}},{key:"ngOnInit",value:function(){window.innerWidth<=720&&(this.isMobile=!0)}},{key:"ngOnDestroy",value:function(){this.unsubscribeStartDateChange()}},{key:"ngOnChanges",value:function(e){var t,n,i,r=this;if(e.isRoundTrip&&this.clearChosenDates(),e.departureBookingDates&&(this.setAvailableDates(),this.updateMinMaxDates()),e.forceMinDate||e.forceMaxDate){var o=this.selectedDates||{},a=o.startDate,s=o.endDate;(this.isDateInvalidOnMinMaxValues(a,e)||this.isDateInvalidOnMinMaxValues(s,e))&&this.clearChosenDates(),this.updateMinMaxDates()}if(e.returnBookingDates&&this.updateMinMaxDates(),e.selectedDates&&(null===(t=null==e?void 0:e.selectedDates)||void 0===t?void 0:t.currentValue)){var c=e.selectedDates.currentValue.startDate,u=e.selectedDates.currentValue.endDate;this.isRoundTrip||(u=null),this.chosenDate.startDate=c||null,this.chosenDate.endDate=u||null,this.rangeValue=[c.toDate(),null==u?void 0:u.toDate()],this.keepPreviousDatesSelected=!1}this.keepPreviousDatesSelected&&this.chosenDate&&this.validateDateRange(this.chosenDate)||!1===(null===(n=e.isLoading)||void 0===n?void 0:n.currentValue)&&!0===(null===(i=e.isLoading)||void 0===i?void 0:i.previousValue)&&!this.selectedDates&&this.displayCalendar&&Object(l.a)(200).subscribe((function(){r.clearChosenDates(),r.openDatepicker()}))}},{key:"change",value:function(e){if(e.length&&(null==e?void 0:e.some((function(e){return!!e})))){this.chosenDate.startDate=r(e[0]),this.isRoundTrip&&(this.chosenDate.endDate=r(e[1]));var t=this.chosenDate,n=t.startDate,i=t.endDate;return this.selectedDatesChange.emit({startDate:n,endDate:i}),void this.setAvailableDates()}this.selectedDatesChange.emit(void 0)}},{key:"setAvailableDates",value:function(){var e,t=this,n=[];this.chosenDate.startDate&&!this.chosenDate.endDate&&(null===(e=this.returnBookingDates)||void 0===e?void 0:e.length)&&this.isRoundTrip?this.returnBookingDates.forEach((function(e){var t=e.date.toDate();n.push({date:t,classes:e.availableDirectFlights?["direct"]:["connection"]})})):this.departureBookingDates.forEach((function(e){var i=e.date.toDate(),r=e.availableDirectFlights?["direct"]:["connection"];t.isRoundTrip||r.push("one-way"),n.push({date:i,classes:r})})),this.dateCustomClasses=n}},{key:"openDatepicker",value:function(){this.isLoading||(this.datepicker.show(),this.isOpened.emit(!0))}},{key:"closeDatepicker",value:function(){this.isOpened.emit(!1)}},{key:"clearChosenDates",value:function(e){this.keepPreviousDatesSelected=!1,e?this.keepPreviousDatesSelected=!0:(this.chosenDate.startDate=void 0,this.chosenDate.endDate=void 0,this.rangeValue=[])}},{key:"updateMinMaxDates",value:function(){var e,t,n=r(null===(e=this.dateCustomClasses[0])||void 0===e?void 0:e.date),i=r(null===(t=this.dateCustomClasses[this.dateCustomClasses.length-1])||void 0===t?void 0:t.date);this.forceMinDate&&(n=this.forceMinDate),this.forceMaxDate&&(i=this.forceMaxDate),this.minDate=n.clone().toDate(),this.maxDate=i.clone().toDate()}},{key:"insertSymbology",value:function(){this.document.querySelector(".bs-datepicker.viva-theme .bs-datepicker-container").append(this.symbology.nativeElement)}},{key:"onDatepickerShown",value:function(){var e=this;!0===this.showSymbology&&this.insertSymbology(),this.startDateChangeSubscription=this.datepicker._datepicker.instance.valueChange.pipe(Object(s.a)((function(e){return e&&e[0]&&!e[1]}))).subscribe((function(t){var n=_slicedToArray(t,1)[0];e.choosingEndDate&&e.chosenDate.startDate.isSameOrBefore(n)?e.rangeValue=[e.chosenDate.startDate.toDate(),n]:(e.chosenDate.startDate=r(n),e.chosenDate.endDate=void 0,e.isRoundTrip?e.setAvailableDates():(e.rangeValue=[e.chosenDate.startDate.toDate(),void 0],e.datepicker.hide(),e.selectedDatesChange.emit(e.chosenDate)),e.unsubscribeStartDateChange())}))}},{key:"unsubscribeStartDateChange",value:function(){this.startDateChangeSubscription.closed&&this.startDateChangeSubscription.unsubscribe()}},{key:"validateDateRange",value:function(e){return this.isRoundTrip?!!this.departureBookingDates.find((function(t){return t.date.isSame(e.startDate,"D")}))&&!!this.returnBookingDates.find((function(t){return t.date.isSame(e.endDate,"D")})):!!this.departureBookingDates.find((function(t){return t.date.isSame(e.startDate,"D")}))}},{key:"chooseEndDate",value:function(e){this.chosenDate.startDate&&(this.chosenDate.endDate=void 0,this.rangeValue=[this.chosenDate.startDate.toDate()],this.openDatepicker(),e.preventDefault())}},{key:"isDateInvalidOnMinMaxValues",value:function(e,t){var n,i,r=null===(n=null==t?void 0:t.forceMinDate)||void 0===n?void 0:n.currentValue,o=null===(i=null==t?void 0:t.forceMaxDate)||void 0===i?void 0:i.currentValue;return!!e&&(!!r&&r.isAfter(e,"D")||!!o&&o.isBefore(e,"D"))}},{key:"showCalendar",get:function(){var e;return(null===(e=this.datepicker)||void 0===e?void 0:e.isOpen)||!1}},{key:"choosingEndDate",get:function(){return this.isRoundTrip&&this.showCalendar&&!!this.chosenDate.startDate&&!this.chosenDate.endDate}},{key:"choosingStartDate",get:function(){return this.isRoundTrip&&this.showCalendar&&(!this.chosenDate.startDate||!!this.chosenDate.endDate)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(o.e),i.Tb(i.n))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-booker-calendar"]],viewQuery:function(e,t){var n;1&e&&(i.Yc(a.b,!0),i.Yc(d,!0)),2&e&&(i.Dc(n=i.ic())&&(t.datepicker=n.first),i.Dc(n=i.ic())&&(t.symbology=n.first))},hostBindings:function(e,t){1&e&&i.hc("mousedown",(function(e){return t.clickOutSide(e.target)}),!1,i.Fc)},inputs:{isRoundTrip:"isRoundTrip",displayCalendar:"displayCalendar",showToLeft:"showToLeft",showSymbology:"showSymbology",forceMinDate:"forceMinDate",forceMaxDate:"forceMaxDate",departureBookingDates:"departureBookingDates",returnBookingDates:"returnBookingDates",selectedDates:"selectedDates",isLoading:"isLoading"},outputs:{selectedDatesChange:"selectedDatesChange",isOpened:"isOpened"},features:[i.Fb],decls:22,vars:32,consts:[[1,"position-relative"],[1,"calendar-input","w-100","d-flex","flex-row","justify-content-start","align-items-center","p-0",3,"ngClass","click"],[1,"d-flex","flex-row","justify-content-between","w-100","h-100","align-items-center"],[1,"calendar-input-container","date-outbound","h-100","d-flex","flex-row","justify-content-start","align-items-center",3,"ngClass"],[1,"calendar-icon"],["class","fas fa-spinner fa-pulse",4,"ngIf"],["class","far fa-calendar-day",4,"ngIf"],[1,"calendar-input-date","h-100","d-flex","flex-column","justify-content-center"],[1,"label","small-title"],[1,"text","title"],[4,"ngIf","ngIfElse"],[1,"calendar-input-container","date-return","h-100","d-flex","flex-row","justify-content-start","align-items-center",3,"ngClass","click"],["class","calendar-input-date h-100 d-flex flex-column justify-content-center",4,"ngIf"],[1,"fas","fa-caret-down","arrow-icon",3,"ngClass"],["type","text","bsDaterangepicker","","autocomplete","off",1,"date-range-picker","w-100","p-0","m-0",3,"bsConfig","minDate","maxDate","dateCustomClasses","bsValue","bsValueChange","onHidden","onShown"],["dp","bsDaterangepicker"],["ChooseDate",""],["hidden","",4,"ngIf"],[1,"fas","fa-spinner","fa-pulse"],[1,"far","fa-calendar-day"],["hidden",""],[1,"px-20","py-10","d-flex","w-100","justify-content-center","symbology"],["Symbology",""],[1,"d-flex","align-items-center","mr-4"],[1,"small-title","mr-5","non-stop"],[1,"small-text","gray"],[1,"small-title","mr-5","connection-flights","position-relative"],[1,"d-flex","align-items-center"],[1,"small-title","mr-5","without-availability"]],template:function(e,t){if(1&e&&(i.Zb(0,"div",0),i.Zb(1,"button",1),i.hc("click",(function(){return t.openDatepicker()})),i.Zb(2,"div",2),i.Zb(3,"div",3),i.Zb(4,"span",4),i.Qc(5,h,1,0,"i",5),i.Qc(6,f,1,0,"i",6),i.Yb(),i.Zb(7,"div",7),i.Zb(8,"label",8),i.Sc(9),i.kc(10,"cmsTranslate"),i.Yb(),i.Zb(11,"p",9),i.Qc(12,p,3,3,"span",10),i.Yb(),i.Yb(),i.Yb(),i.Zb(13,"div",11),i.hc("click",(function(e){return t.chooseEndDate(e)})),i.Qc(14,v,6,5,"div",12),i.Ub(15,"i",13),i.Yb(),i.Yb(),i.Yb(),i.Zb(16,"div"),i.Zb(17,"input",14,15),i.hc("bsValueChange",(function(e){return t.change(e)}))("onHidden",(function(){return t.closeDatepicker()}))("onShown",(function(){return t.onDatepickerShown()})),i.Yb(),i.Yb(),i.Yb(),i.Qc(19,m,3,3,"ng-template",null,16,i.Rc),i.Qc(21,b,21,9,"div",17)),2&e){var n=i.Ec(20);i.Hb(1),i.sc("ngClass",i.xc(18,y,t.showCalendar,t.isLoading,!t.isRoundTrip)),i.Hb(2),i.sc("ngClass",i.xc(22,_,t.isRoundTrip,t.isRoundTrip,t.choosingStartDate)),i.Hb(2),i.sc("ngIf",t.isLoading),i.Hb(1),i.sc("ngIf",!t.isLoading),i.Hb(3),i.Tc(i.lc(10,16,"GLOBAL_LABEL_OUTBOUND")),i.Hb(3),i.sc("ngIf",!!t.chosenDate.startDate)("ngIfElse",n),i.Hb(1),i.sc("ngClass",i.wc(26,C,t.isRoundTrip,t.choosingEndDate)),i.Hb(1),i.sc("ngIf",t.isRoundTrip),i.Hb(1),i.sc("ngClass",i.vc(29,k,t.showCalendar)),i.Hb(2),i.sc("bsConfig",i.uc(31,S))("minDate",t.minDate)("maxDate",t.maxDate)("dateCustomClasses",t.dateCustomClasses)("bsValue",t.rangeValue),i.Hb(4),i.sc("ngIf",t.showSymbology)}},directives:[o.r,o.u,a.c,a.b],pipes:[u.a,o.G],styles:['@charset "UTF-8";.calendar-input{background:var(--wh1);height:60px;border-radius:10px;box-sizing:border-box;border:0;position:relative;z-index:1;text-align:initial}.calendar-input.simple{outline:none;border:2px solid transparent}.calendar-input.simple.active,.calendar-input.simple:focus{border:2px solid var(--vg4)}.calendar-input.active .calendar-icon,.calendar-input:focus .calendar-icon{color:var(--vg4)}.calendar-input .calendar-icon{color:var(--bg4);position:absolute;z-index:1;left:20px}.calendar-input .calendar-icon:after{content:"";position:absolute;top:0;left:0;margin-top:-7px;margin-left:38px;height:30px;width:1px;background-color:var(--gr20)}.calendar-input .round .calendar-icon{left:22px}.calendar-input-container.round{outline:none;border:2px solid transparent}.calendar-input-container.date-outbound .calendar-input-date{padding-left:69px}.calendar-input-container.date-outbound.active{border:2px solid var(--vg4);border-radius:10px 0 0 10px}.calendar-input-container.date-return{width:auto}.calendar-input-container.date-return.round{width:50%;border-left:1px solid var(--gr20);padding-left:20px}.calendar-input-container.date-return.active{border:2px solid var(--vg4);border-radius:0 10px 10px 0;padding-left:19px}.calendar-input-date{min-width:50%}.calendar-input-date .label{line-height:unset;color:rgba(var(--bg6-rgb),.5);pointer-events:none}.calendar-input-date .text{text-transform:capitalize;margin:4px 0 0;min-height:18px;color:var(--bg6)}.calendar-input .arrow-icon{font-size:18px;position:absolute;right:20px;color:var(--bg4)}.calendar-input .arrow-icon.active{color:var(--vg4);transform:rotate(180deg)}.calendar-input .round .arrow-icon{right:22px}.calendar-input.disabled{cursor:not-allowed}.date-range-picker{visibility:hidden;height:0;border:none;position:absolute;right:0;left:0}.viva-theme .bs-datepicker-container{padding:0}.viva-theme .bs-datepicker-container .bs-datepicker-multiple+.bs-datepicker-multiple{margin-left:0}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:first-child .bs-datepicker-head>bs-datepicker-navigation-view,.viva-theme .bs-datepicker-container bs-days-calendar-view:first-child .bs-datepicker-head>bs-datepicker-navigation-view{display:flex;justify-content:flex-end}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:first-child .bs-datepicker-head button.previous,.viva-theme .bs-datepicker-container bs-days-calendar-view:first-child .bs-datepicker-head button.previous{position:relative;align-self:flex-start;margin-right:auto}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:first-child .bs-datepicker-head button.previous>span,.viva-theme .bs-datepicker-container bs-days-calendar-view:first-child .bs-datepicker-head button.previous>span{display:none}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:first-child .bs-datepicker-head button.previous:before,.viva-theme .bs-datepicker-container bs-days-calendar-view:first-child .bs-datepicker-head button.previous:before{position:absolute;content:"\uf060";display:inline-block;font-family:Font Awesome\\ 5 Pro;font-weight:700;top:50%;left:50%;transform:translate(-50%,-50%)}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:first-child .bs-datepicker-head button.previous:disabled,.viva-theme .bs-datepicker-container bs-days-calendar-view:first-child .bs-datepicker-head button.previous:disabled{visibility:hidden!important}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:first-child .bs-datepicker-head button.next,.viva-theme .bs-datepicker-container bs-days-calendar-view:first-child .bs-datepicker-head button.next{display:none}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:first-child .bs-datepicker-head button:nth-child(2),.viva-theme .bs-datepicker-container bs-days-calendar-view:first-child .bs-datepicker-head button:nth-child(2){padding:0 5px 0 0}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:first-child .bs-datepicker-head button:nth-child(3),.viva-theme .bs-datepicker-container bs-days-calendar-view:first-child .bs-datepicker-head button:nth-child(3){padding:0 10px 0 0}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:nth-child(2) .bs-datepicker-head>bs-datepicker-navigation-view,.viva-theme .bs-datepicker-container bs-days-calendar-view:nth-child(2) .bs-datepicker-head>bs-datepicker-navigation-view{display:flex;justify-content:flex-start}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:nth-child(2) .bs-datepicker-head button.previous,.viva-theme .bs-datepicker-container bs-days-calendar-view:nth-child(2) .bs-datepicker-head button.previous{display:none}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:nth-child(2) .bs-datepicker-head button.next,.viva-theme .bs-datepicker-container bs-days-calendar-view:nth-child(2) .bs-datepicker-head button.next{position:relative;align-self:flex-end;margin-left:auto}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:nth-child(2) .bs-datepicker-head button.next>span,.viva-theme .bs-datepicker-container bs-days-calendar-view:nth-child(2) .bs-datepicker-head button.next>span{display:none}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:nth-child(2) .bs-datepicker-head button.next:before,.viva-theme .bs-datepicker-container bs-days-calendar-view:nth-child(2) .bs-datepicker-head button.next:before{position:absolute;content:"\uf061";display:inline-block;font-family:Font Awesome\\ 5 Pro;font-weight:700;top:50%;left:50%;transform:translate(-50%,-50%)}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:nth-child(2) .bs-datepicker-head button.next:disabled,.viva-theme .bs-datepicker-container bs-days-calendar-view:nth-child(2) .bs-datepicker-head button.next:disabled{visibility:hidden!important}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:nth-child(2) .bs-datepicker-head button:nth-child(2),.viva-theme .bs-datepicker-container bs-days-calendar-view:nth-child(2) .bs-datepicker-head button:nth-child(2){padding:0 5px 0 10px}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:nth-child(2) .bs-datepicker-head button:nth-child(3),.viva-theme .bs-datepicker-container bs-days-calendar-view:nth-child(2) .bs-datepicker-head button:nth-child(3){padding:0}.viva-theme.bs-datepicker{box-shadow:none;transition:unset;border:1px solid var(--gr25);border-radius:5px}.viva-theme.bs-datepicker.today{font-weight:700}.viva-theme.bs-datepicker.today:after{content:"";position:absolute;top:0;left:50%;transform:translateX(-50%);height:30px;width:30px;border:1px solid var(--bg2);border-radius:50%}.viva-theme.bs-datepicker.flightConnect{color:var(--bg6)}.viva-theme.bs-datepicker.flightConnect:before{content:"\u2022";position:absolute;top:-7px;left:50%;font-family:Axiforma;color:var(--gr40);transform:translateX(-50%)}.viva-theme.bs-datepicker.flightConnect.end-date:before,.viva-theme.bs-datepicker.flightConnect.start-date:before{color:var(--wh1)}@media screen and (max-width:768px){.viva-theme.bs-datepicker .bs-media-container{flex-direction:row}}.viva-theme .bs-datepicker-head{min-width:auto}.viva-theme .bs-datepicker-head button{color:var(--bg4)}.viva-theme .bs-datepicker-head button.current{font-family:Axiforma,Arial;font-weight:700;font-size:16px;pointer-events:none;cursor:auto;text-transform:capitalize;transition:none}.viva-theme .bs-datepicker-body{border:none;padding:0 10px;min-width:auto;width:240px}.viva-theme .bs-datepicker-body table{border-top:1px solid var(--gr20);width:210px;max-width:210px;margin:auto}.viva-theme .bs-datepicker-body table thead{border-collapse:collapse;height:33px;background:var(--wh2)}.viva-theme .bs-datepicker-body table tbody td{width:30px;max-width:30px}.viva-theme .bs-datepicker-body table th{font-family:Axiforma,Arial;font-size:0;text-transform:capitalize;color:var(--gr60);width:30px;max-width:30px}.viva-theme .bs-datepicker-body table th:first-letter{font-size:14px}.viva-theme .bs-datepicker-body table .in-range:not(.select-start):before{top:0;bottom:0;right:0;left:0;background-color:var(--gr15)!important}.viva-theme .bs-datepicker-body table .in-range:not(.select-start).one-way:before{background-color:transparent!important}.viva-theme .bs-datepicker-body table.days span{width:30px;height:30px;line-height:30px;font-family:Axiforma,Arial;font-size:12px;position:relative}.viva-theme .bs-datepicker-body table.days span:not(.selected){border-radius:0}.viva-theme .bs-datepicker-body table.days span.in-range:not(.one-way){font-weight:700}.viva-theme .bs-datepicker-body table.days span:not(.connection,.direct){color:#ccc;cursor:not-allowed!important;pointer-events:none}.viva-theme .bs-datepicker-body table.days span.connection:not(.disabled){color:var(--bg6)}.viva-theme .bs-datepicker-body table.days span.connection:not(.disabled):after{content:"\u2022";position:absolute;top:-10px;left:50%;color:var(--gr40);transform:translateX(-50%)}.viva-theme .bs-datepicker-body table.days span.connection:not(.disabled).select-end:after,.viva-theme .bs-datepicker-body table.days span.connection:not(.disabled).select-start:after{color:var(--wh1)}.viva-theme .bs-datepicker-body table.days span.direct:not(.disabled){color:var(--bg2)}.viva-theme .bs-datepicker-body table.days span.today{position:relative}.viva-theme .bs-datepicker-body table.days span.today:before{content:"";position:absolute;top:0;bottom:0;left:50%;transform:translateX(-50%);height:30px;width:30px;border:1px solid var(--bg2);border-radius:50%;z-index:2;box-sizing:border-box}.viva-theme .bs-datepicker-body table.days span.select-start{background-color:var(--vg4);border-radius:2px 0 0 2px}.viva-theme .bs-datepicker-body table.days span.select-end:not(.one-way){background-color:var(--bg4);border-radius:0 2px 2px 0}.viva-theme .bs-datepicker-body table.days span.selected{color:var(--wh1)!important}.symbology{border-top:1px solid var(--gr20)}.symbology>.d-flex .gray{color:var(--gr60)}.symbology>.d-flex .non-stop{color:var(--bg2)}.symbology>.d-flex .connection-flights{color:var(--bg6)}.symbology>.d-flex .connection-flights:before{content:"\u2022";position:absolute;top:-10px;left:50%;color:var(--gr40);transform:translateX(-50%)}.symbology>.d-flex .without-availability{color:var(--gr20)}'],encapsulation:2}),e}()},tyNb:function(e,t,n){"use strict";n.d(t,"a",(function(){return Qe})),n.d(t,"b",(function(){return ne})),n.d(t,"c",(function(){return G})),n.d(t,"d",(function(){return Z})),n.d(t,"e",(function(){return Y})),n.d(t,"f",(function(){return oe})),n.d(t,"g",(function(){return an})),n.d(t,"h",(function(){return sn})),n.d(t,"i",(function(){return pn})),n.d(t,"j",(function(){return cn})),n.d(t,"k",(function(){return En})),n.d(t,"l",(function(){return mn})),n.d(t,"m",(function(){return re}));var i=n("ofXK"),r=n("fXoL"),o=n("LRne"),a=n("Cfvw"),s=n("2Vo4"),c=n("HDdC"),l=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),u=n("itXk"),d=n("NXyV"),h=n("XNiG"),f=n("EY2u"),p=n("lJxs"),g=n("0EUg"),v=n("pLZG"),m=n("BFxc"),b=n("7o/Q");function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;return function(t){return t.lift(new _(e))}}var _=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new C(e,this.errorFactory))}}]),e}(),C=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).errorFactory=i,r.hasValue=!1,r}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(b.a);function k(){return new l}var S=n("xbPD"),O=n("SpAZ");function T(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?Object(v.a)((function(t,n){return e(t,n,i)})):O.a,Object(m.a)(1),n?Object(S.a)(t):y((function(){return new l})))}}var w=n("JIr8"),A=n("IzEk");function E(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?Object(v.a)((function(t,n){return e(t,n,i)})):O.a,Object(A.a)(1),n?Object(S.a)(t):y((function(){return new l})))}}var P,M=n("5+tZ"),x=function(){function e(t,n,i){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new D(e,this.predicate,this.thisArg,this.source))}}]),e}(),D=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).predicate=i,a.thisArg=r,a.source=o,a.index=0,a.thisArg=r||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(b.a),I=n("eIep"),L=n("JX91"),R=n("Kqap"),N=n("bOdf"),j=n("128B"),B=n("vkgz"),F=n("nYR2"),H=n("bHdf"),U=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},Y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(r=t.call(this,e,i)).navigationTrigger=o,r.restoredState=a,r}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(U),G=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e,i)).urlAfterRedirects=r,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(U),V=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e,i)).reason=r,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(U),Z=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e,i)).error=r,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(U),W=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).urlAfterRedirects=r,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(U),K=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).urlAfterRedirects=r,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(U),z=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,i)).urlAfterRedirects=r,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(U),Q=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).urlAfterRedirects=r,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(U),X=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).urlAfterRedirects=r,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(U),q=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),$=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),J=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ee=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),te=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ne=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ie=function(){function e(t,n,i){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=i}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),re=((P=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||P)},P.\u0275cmp=r.Nb({type:P,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r.Ub(0,"router-outlet")},directives:function(){return[mn]},encapsulation:2}),P),oe="primary",ae=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function se(e){return new ae(e)}function ce(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function le(e,t,n){var i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;for(var r={},o=0;o<i.length;o++){var a=i[o],s=e[o];if(a.startsWith(":"))r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}var ue=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function de(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var i=e[n];he(i,fe(t,i))}}function he(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==oe)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&de(e.children,t)}function fe(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function pe(e){var t=e.children&&e.children.map(pe),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=re),n}function ge(e,t){var n,i=Object.keys(e),r=Object.keys(t);if(!i||!r||i.length!=r.length)return!1;for(var o=0;o<i.length;o++)if(!ve(e[n=i[o]],t[n]))return!1;return!0}function ve(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function me(e){return Array.prototype.concat.apply([],e)}function be(e){return e.length>0?e[e.length-1]:null}function ye(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function _e(e){return Object(r.wb)(e)?e:Object(r.xb)(e)?Object(a.a)(Promise.resolve(e)):Object(o.a)(e)}function Ce(e,t,n){return n?function(e,t){return ge(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Te(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return ve(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,i,r){if(n.segments.length>r.length)return!!Te(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!Te(n.segments,r))return!1;for(var o in i.children){if(!n.children[o])return!1;if(!e(n.children[o],i.children[o]))return!1}return!0}var a=r.slice(0,n.segments.length),s=r.slice(n.segments.length);return!!Te(n.segments,a)&&!!n.children[oe]&&t(n.children[oe],i,s)}(t,n,n.segments)}(e.root,t.root)}var ke=function(){function e(t,n,i){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=i}return _createClass(e,[{key:"toString",value:function(){return Pe.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=se(this.queryParams)),this._queryParamMap}}]),e}(),Se=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,ye(n,(function(e,t){return e.parent=i}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Me(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),Oe=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"toString",value:function(){return Ne(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=se(this.parameters)),this._parameterMap}}]),e}();function Te(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function we(e,t){var n=[];return ye(e.children,(function(e,i){i===oe&&(n=n.concat(t(e,i)))})),ye(e.children,(function(e,i){i!==oe&&(n=n.concat(t(e,i)))})),n}var Ae=function e(){_classCallCheck(this,e)},Ee=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new Ue(e);return new ke(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+function e(t,n){if(!t.hasChildren())return Me(t);if(n){var i=t.children[oe]?e(t.children[oe],!1):"",r=[];return ye(t.children,(function(t,n){n!==oe&&r.push("".concat(n,":").concat(e(t,!1)))})),r.length>0?"".concat(i,"(").concat(r.join("//"),")"):i}var o=we(t,(function(n,i){return i===oe?[e(t.children[oe],!1)]:["".concat(i,":").concat(e(n,!1))]}));return"".concat(Me(t),"/(").concat(o.join("//"),")")}(e.root,!0)).concat((t=e.queryParams,n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(De(e),"=").concat(De(t))})).join("&"):"".concat(De(e),"=").concat(De(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var t,n}}]),e}(),Pe=new Ee;function Me(e){return e.segments.map((function(e){return Ne(e)})).join("/")}function xe(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function De(e){return xe(e).replace(/%3B/gi,";")}function Ie(e){return xe(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Le(e){return decodeURIComponent(e)}function Re(e){return Le(e.replace(/\+/g,"%20"))}function Ne(e){return"".concat(Ie(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(Ie(e),"=").concat(Ie(t[e]))})).join("")));var t}var je=/^[^\/()?;=#]+/;function Be(e){var t=e.match(je);return t?t[0]:""}var Fe=/^[^=?&#]+/,He=/^[^?&#]+/,Ue=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[oe]=new Se(e,t)),n}},{key:"parseSegment",value:function(){var e=Be(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Oe(Le(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Be(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var i=Be(this.remaining);i&&(n=i,this.capture(n))}e[Le(t)]=Le(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(Fe);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var i=function(e){var t=e.match(He);return t?t[0]:""}(this.remaining);i&&(n=i,this.capture(n))}var r=Re(t),o=Re(n);if(e.hasOwnProperty(r)){var a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(o)}else e[r]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Be(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=oe);var o=this.parseChildren();t[r]=1===Object.keys(o).length?o[oe]:new Se([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Ye=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Ge(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=Ge(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Ve(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return Ve(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function Ge(e,t){if(e===t.value)return t;var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;){var r=Ge(e,n.value);if(r)return r}}catch(o){i.e(o)}finally{i.f()}return null}function Ve(e,t){if(e===t.value)return[t];var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;){var r=Ve(e,n.value);if(r.length)return r.unshift(t),r}}catch(o){i.e(o)}finally{i.f()}return[]}var Ze=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function We(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var Ke=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).snapshot=i,Je(_assertThisInitialized(r),e),r}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Ye);function ze(e,t){var n=function(e,t){var n=new qe([],{},{},"",{},oe,t,null,e.root,-1,{});return new $e("",new Ze(n,[]))}(e,t),i=new s.a([new Oe("",{})]),r=new s.a({}),o=new s.a({}),a=new s.a({}),c=new s.a(""),l=new Qe(i,r,a,c,o,oe,t,n.root);return l.snapshot=n.root,new Ke(new Ze(l,[]),n)}var Qe=function(){function e(t,n,i,r,o,a,s,c){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=c}return _createClass(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(p.a)((function(e){return se(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(p.a)((function(e){return se(e)})))),this._queryParamMap}}]),e}();function Xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,i=0;if("always"!==t)for(i=n.length-1;i>=1;){var r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(i))}var qe=function(){function e(t,n,i,r,o,a,s,c,l,u,d){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=u,this._resolve=d}return _createClass(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=se(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=se(this.queryParams)),this._queryParamMap}}]),e}(),$e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,i)).url=e,Je(_assertThisInitialized(r),i),r}return _createClass(n,[{key:"toString",value:function(){return et(this._root)}}]),n}(Ye);function Je(e,t){t.value._routerState=e,t.children.forEach((function(t){return Je(e,t)}))}function et(e){var t=e.children.length>0?" { ".concat(e.children.map(et).join(", ")," } "):"";return"".concat(e.value).concat(t)}function tt(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ge(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),ge(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!ge(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),ge(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function nt(e,t){var n,i;return ge(e.params,t.params)&&Te(n=e.url,i=t.url)&&n.every((function(e,t){return ge(e.parameters,i[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||nt(e.parent,t.parent))}function it(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function rt(e,t,n,i,r){var o={};return i&&ye(i,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return""+e})):""+e})),new ke(n.root===e?t:function e(t,n,i){var r={};return ye(t.children,(function(t,o){r[o]=t===n?i:e(t,n,i)})),new Se(t.segments,r)}(n.root,e,t),o,r)}var ot=function(){function e(t,n,i){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&it(i[0]))throw new Error("Root segment cannot have matrix parameters");var r=i.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(r&&r!==be(i))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),at=function e(t,n,i){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=i};function st(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[oe]:""+e}function ct(e,t,n){if(e||(e=new Se([],{})),0===e.segments.length&&e.hasChildren())return lt(e,t,n);var i=function(e,t,n){for(var i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};r<e.segments.length;){if(i>=n.length)return o;var a=e.segments[r],s=st(n[i]),c=i<n.length-1?n[i+1]:null;if(r>0&&void 0===s)break;if(s&&c&&"object"==typeof c&&void 0===c.outlets){if(!ft(s,c,a))return o;i+=2}else{if(!ft(s,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){var o=new Se(e.segments.slice(0,i.pathIndex),{});return o.children[oe]=new Se(e.segments.slice(i.pathIndex),e.children),lt(o,0,r)}return i.match&&0===r.length?new Se(e.segments,{}):i.match&&!e.hasChildren()?ut(e,t,n):i.match?lt(e,0,r):ut(e,t,n)}function lt(e,t,n){if(0===n.length)return new Se(e.segments,{});var i=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?_defineProperty2({},oe,e):e[0].outlets}(n),r={};return ye(i,(function(n,i){null!==n&&(r[i]=ct(e.children[i],t,n))})),ye(e.children,(function(e,t){void 0===i[t]&&(r[t]=e)})),new Se(e.segments,r)}function ut(e,t,n){for(var i=e.segments.slice(0,t),r=0;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){var o=dt(n[r].outlets);return new Se(i,o)}if(0===r&&it(n[0]))i.push(new Oe(e.segments[t].path,n[0])),r++;else{var a=st(n[r]),s=r<n.length-1?n[r+1]:null;a&&s&&it(s)?(i.push(new Oe(a,ht(s))),r+=2):(i.push(new Oe(a,{})),r++)}}return new Se(i,{})}function dt(e){var t={};return ye(e,(function(e,n){null!==e&&(t[n]=ut(new Se([],{}),0,e))})),t}function ht(e){var t={};return ye(e,(function(e,n){return t[n]=""+e})),t}function ft(e,t,n){return e==n.path&&ge(t,n.parameters)}var pt=function(){function e(t,n,i,r){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),tt(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var i=this,r=We(t);e.children.forEach((function(e){var t=e.value.outlet;i.deactivateRoutes(e,r[t],n),delete r[t]})),ye(r,(function(e,t){i.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var i=e.value,r=t?t.value:null;if(i===r)if(i.component){var o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:r})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,i=t.getContext(e.value.outlet);if(i){var r=We(e),o=e.value.component?i.children:t;ye(r,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var i=this,r=We(t);e.children.forEach((function(e){i.activateRoutes(e,r[e.value.outlet],n),i.forwardEvent(new ne(e.value.snapshot))})),e.children.length&&this.forwardEvent(new ee(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var i=e.value,r=t?t.value:null;if(tt(i),i===r)if(i.component){var o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(i.component){var a=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),gt(s.route)}else{var c=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),l=c?c.module.componentFactoryResolver:null;a.attachRef=null,a.route=i,a.resolver=l,a.outlet&&a.outlet.activateWith(i,l),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function gt(e){tt(e.value),e.children.forEach(gt)}function vt(e){return"function"==typeof e}function mt(e){return e instanceof ke}var bt=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},yt=function e(t){_classCallCheck(this,e),this.urlTree=t};function _t(e){return new c.a((function(t){return t.error(new bt(e))}))}function Ct(e){return new c.a((function(t){return t.error(new yt(e))}))}function kt(e){return new c.a((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var St=function(){function e(t,n,i,o,a){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=i,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(r.C)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,oe).pipe(Object(p.a)((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Object(w.a)((function(t){if(t instanceof yt)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof bt)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,oe).pipe(Object(p.a)((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(Object(w.a)((function(e){if(e instanceof bt)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var i=e.segments.length>0?new Se([],_defineProperty2({},oe,e)):e;return new ke(i,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(p.a)((function(e){return new Se([],e)}))):this.expandSegment(e,n,t,n.segments,i,!0)}},{key:"expandChildren",value:function(e,t,n){var i=this;return function(n,r){if(0===Object.keys(n).length)return Object(o.a)({});var a=[],s=[],c={};return ye(n,(function(n,r){var o,l,u=(o=r,l=n,i.expandSegmentGroup(e,t,l,o)).pipe(Object(p.a)((function(e){return c[r]=e})));r===oe?a.push(u):s.push(u)})),o.a.apply(null,a.concat(s)).pipe(Object(g.a)(),T(),Object(p.a)((function(){return c})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,i,r,a){var s=this;return Object(o.a).apply(void 0,_toConsumableArray2(n)).pipe(Object(p.a)((function(c){return s.expandSegmentAgainstRoute(e,t,n,c,i,r,a).pipe(Object(w.a)((function(e){if(e instanceof bt)return Object(o.a)(null);throw e})))})),Object(g.a)(),E((function(e){return!!e})),Object(w.a)((function(e,n){if(e instanceof l||"EmptyError"===e.name){if(s.noLeftoversInUrl(t,i,r))return Object(o.a)(new Se([],{}));throw new bt(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,i,r,o,a){return At(i)!==o?_t(t):void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,r):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,o):_t(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,i){var r=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ct(o):this.lineralizeSegments(n,o).pipe(Object(M.a)((function(n){var o=new Se(n,{});return r.expandSegment(e,o,t,n,i,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,r,o){var a=this,s=Ot(t,i,r),c=s.matched,l=s.consumedSegments,u=s.lastChild,d=s.positionalParamSegments;if(!c)return _t(t);var h=this.applyRedirectCommands(l,i.redirectTo,d);return i.redirectTo.startsWith("/")?Ct(h):this.lineralizeSegments(i,h).pipe(Object(M.a)((function(i){return a.expandSegment(e,t,n,i.concat(r.slice(u)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,i){var r=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(p.a)((function(e){return n._loadedConfig=e,new Se(i,{})}))):Object(o.a)(new Se(i,{}));var a=Ot(t,n,i),s=a.matched,c=a.consumedSegments,l=a.lastChild;if(!s)return _t(t);var u=i.slice(l);return this.getChildConfig(e,n,i).pipe(Object(M.a)((function(e){var n=e.module,i=e.routes,a=function(e,t,n,i){return n.length>0&&function(e,t,n){return n.some((function(n){return wt(e,t,n)&&At(n)!==oe}))}(e,n,i)?{segmentGroup:Tt(new Se(t,function(e,t){var n={};n[oe]=t;var i,r=_createForOfIteratorHelper(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;""===o.path&&At(o)!==oe&&(n[At(o)]=new Se([],{}))}}catch(a){r.e(a)}finally{r.f()}return n}(i,new Se(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return wt(e,t,n)}))}(e,n,i)?{segmentGroup:Tt(new Se(e.segments,function(e,t,n,i){var r,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(r=a.n()).done;){var s=r.value;wt(e,t,s)&&!i[At(s)]&&(o[At(s)]=new Se([],{}))}}catch(c){a.e(c)}finally{a.f()}return Object.assign(Object.assign({},i),o)}(e,n,i,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,c,u,i),s=a.segmentGroup,l=a.slicedSegments;return 0===l.length&&s.hasChildren()?r.expandChildren(n,i,s).pipe(Object(p.a)((function(e){return new Se(c,e)}))):0===i.length&&0===l.length?Object(o.a)(new Se(c,{})):r.expandSegment(n,s,i,l,oe,!0).pipe(Object(p.a)((function(e){return new Se(c.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var i=this;return t.children?Object(o.a)(new ue(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(o.a)(t._loadedConfig):function(e,t,n){var i,r=t.canLoad;return r&&0!==r.length?Object(a.a)(r).pipe(Object(p.a)((function(i){var r,o=e.get(i);if(function(e){return e&&vt(e.canLoad)}(o))r=o.canLoad(t,n);else{if(!vt(o))throw new Error("Invalid CanLoad guard");r=o(t,n)}return _e(r)}))).pipe(Object(g.a)(),(i=function(e){return!0===e},function(e){return e.lift(new x(i,void 0,e))})):Object(o.a)(!0)}(e.injector,t,n).pipe(Object(M.a)((function(n){return n?i.configLoader.load(e.injector,t).pipe(Object(p.a)((function(e){return t._loadedConfig=e,e}))):function(e){return new c.a((function(t){return t.error(ce("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Object(o.a)(new ue([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],i=t.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(o.a)(n);if(i.numberOfChildren>1||!i.children[oe])return kt(e.redirectTo);i=i.children[oe]}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,i){var r=this.createSegmentGroup(e,t.root,n,i);return new ke(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return ye(e,(function(e,i){if("string"==typeof e&&e.startsWith(":")){var r=e.substring(1);n[i]=t[r]}else n[i]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,i){var r=this,o=this.createSegments(e,t.segments,n,i),a={};return ye(t.children,(function(t,o){a[o]=r.createSegmentGroup(e,t,n,i)})),new Se(o,a)}},{key:"createSegments",value:function(e,t,n,i){var r=this;return t.map((function(t){return t.path.startsWith(":")?r.findPosParam(e,t,i):r.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var i=n[t.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return i}},{key:"findOrReturn",value:function(e,t){var n,i=0,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(i),o;i++}}catch(a){r.e(a)}finally{r.f()}return e}}]),e}();function Ot(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=(t.matcher||le)(n,e,t);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Tt(e){if(1===e.numberOfChildren&&e.children[oe]){var t=e.children[oe];return new Se(e.segments.concat(t.segments),t.children)}return e}function wt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function At(e){return e.outlet||oe}var Et=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},Pt=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function Mt(e,t,n){var i=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function xt(e,t,n){var i=We(e),r=e.value;ye(i,(function(e,i){xt(e,r.component?t?t.children.getContext(i):null:t,n)})),n.canDeactivateChecks.push(new Pt(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}var Dt=Symbol("INITIAL_VALUE");function It(){return Object(I.a)((function(e){return Object(u.a).apply(void 0,_toConsumableArray2(e.map((function(e){return e.pipe(Object(A.a)(1),Object(L.a)(Dt))})))).pipe(Object(R.a)((function(e,t){var n=!1;return t.reduce((function(e,i,r){if(e!==Dt)return e;if(i===Dt&&(n=!0),!n){if(!1===i)return i;if(r===t.length-1||mt(i))return i}return e}),e)}),Dt),Object(v.a)((function(e){return e!==Dt})),Object(p.a)((function(e){return mt(e)?e:!0===e})),Object(A.a)(1))}))}function Lt(e,t){return null!==e&&t&&t(new te(e)),Object(o.a)(!0)}function Rt(e,t){return null!==e&&t&&t(new J(e)),Object(o.a)(!0)}function Nt(e,t,n){var i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Object(o.a)(!0);var r=i.map((function(i){return Object(d.a)((function(){var r,o=Mt(i,t,n);if(function(e){return e&&vt(e.canActivate)}(o))r=_e(o.canActivate(t,e));else{if(!vt(o))throw new Error("Invalid CanActivate guard");r=_e(o(t,e))}return r.pipe(E())}))}));return Object(o.a)(r).pipe(It())}function jt(e,t,n){var i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Object(d.a)((function(){var r=t.guards.map((function(r){var o,a=Mt(r,t.node,n);if(function(e){return e&&vt(e.canActivateChild)}(a))o=_e(a.canActivateChild(i,e));else{if(!vt(a))throw new Error("Invalid CanActivateChild guard");o=_e(a(i,e))}return o.pipe(E())}));return Object(o.a)(r).pipe(It())}))}));return Object(o.a)(r).pipe(It())}var Bt=function e(){_classCallCheck(this,e)},Ft=function(){function e(t,n,i,r,o,a){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(e,[{key:"recognize",value:function(){try{var e=Yt(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,oe),n=new qe([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},oe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ze(n,t),r=new $e(this.url,i);return this.inheritParamsAndData(r._root),Object(o.a)(r)}catch(a){return new c.a((function(e){return e.error(a)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,i=Xe(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,i=this,r=we(t,(function(t,n){return i.processSegmentGroup(e,t,n)}));return n={},r.forEach((function(e){var t=n[e.value.outlet];if(t){var i=t.url.map((function(e){return e.toString()})).join("/"),r=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(i,"' and '").concat(r,"'."))}n[e.value.outlet]=e.value})),r.sort((function(e,t){return e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet)})),r}},{key:"processSegment",value:function(e,t,n,i){var r,o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;try{return this.processSegmentAgainstRoute(a,t,n,i)}catch(s){if(!(s instanceof Bt))throw s}}}catch(c){o.e(c)}finally{o.f()}if(this.noLeftoversInUrl(t,n,i))return[];throw new Bt}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,i){if(e.redirectTo)throw new Bt;if((e.outlet||oe)!==i)throw new Bt;var r,o=[],a=[];if("**"===e.path){var s=n.length>0?be(n).parameters:{};r=new qe(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Zt(e),i,e.component,e,Ht(t),Ut(t)+n.length,Wt(e))}else{var c=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Bt;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(t.matcher||le)(n,e,t);if(!i)throw new Bt;var r={};ye(i.posParams,(function(e,t){r[t]=e.path}));var o=i.consumed.length>0?Object.assign(Object.assign({},r),i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o}}(t,e,n);o=c.consumedSegments,a=n.slice(c.lastChild),r=new qe(o,c.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Zt(e),i,e.component,e,Ht(t),Ut(t)+o.length,Wt(e))}var l=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),u=Yt(t,o,a,l,this.relativeLinkResolution),d=u.segmentGroup,h=u.slicedSegments;if(0===h.length&&d.hasChildren()){var f=this.processChildren(l,d);return[new Ze(r,f)]}if(0===l.length&&0===h.length)return[new Ze(r,[])];var p=this.processSegment(l,d,h,oe);return[new Ze(r,p)]}}]),e}();function Ht(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Ut(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Yt(e,t,n,i,r){if(n.length>0&&function(e,t,n){return n.some((function(n){return Gt(e,t,n)&&Vt(n)!==oe}))}(e,n,i)){var o=new Se(t,function(e,t,n,i){var r={};r[oe]=i,i._sourceSegment=e,i._segmentIndexShift=t.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&Vt(s)!==oe){var c=new Se([],{});c._sourceSegment=e,c._segmentIndexShift=t.length,r[Vt(s)]=c}}}catch(l){a.e(l)}finally{a.f()}return r}(e,t,i,new Se(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return Gt(e,t,n)}))}(e,n,i)){var a=new Se(e.segments,function(e,t,n,i,r,o){var a,s={},c=_createForOfIteratorHelper(i);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(Gt(e,n,l)&&!r[Vt(l)]){var u=new Se([],{});u._sourceSegment=e,u._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[Vt(l)]=u}}}catch(d){c.e(d)}finally{c.f()}return Object.assign(Object.assign({},r),s)}(e,t,n,i,e.children,r));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new Se(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Gt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Vt(e){return e.outlet||oe}function Zt(e){return e.data||{}}function Wt(e){return e.resolve||{}}function Kt(e,t,n,i){var r=Mt(e,t,i);return _e(r.resolve?r.resolve(t,n):r(t,n))}function zt(e){return function(t){return t.pipe(Object(I.a)((function(t){var n=e(t);return n?Object(a.a)(n).pipe(Object(p.a)((function(){return t}))):Object(a.a)([t])})))}}var Qt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),Xt=new r.t("ROUTES"),qt=function(){function e(t,n,i,r){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(p.a)((function(i){n.onLoadEndListener&&n.onLoadEndListener(t);var r=i.create(e);return new ue(me(r.injector.get(Xt)).map(pe),r)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Object(a.a)(this.loader.load(e)):_e(e()).pipe(Object(M.a)((function(e){return e instanceof r.A?Object(o.a)(e):Object(a.a)(t.compiler.compileModuleAsync(e))})))}}]),e}(),$t=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function Jt(e){throw e}function en(e,t,n){return t.parse("/")}function tn(e,t){return Object(o.a)(null)}var nn,rn,on,an=((on=function(){function e(t,n,i,o,a,c,l,u){var d=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new h.a,this.errorHandler=Jt,this.malformedUriErrorHandler=en,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:tn,afterPreactivation:tn},this.urlHandlingStrategy=new $t,this.routeReuseStrategy=new Qt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(r.C),this.console=a.get(r.db);var f=a.get(r.E);this.isNgZoneEnabled=f instanceof r.E,this.resetConfig(u),this.currentUrlTree=new ke(new Se([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qt(c,l,(function(e){return d.triggerEvent(new q(e))}),(function(e){return d.triggerEvent(new $(e))})),this.routerState=ze(this.currentUrlTree,this.rootComponentType),this.transitions=new s.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Object(v.a)((function(e){return 0!==e.id})),Object(p.a)((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),Object(I.a)((function(e){var i,r,c,l=!1,u=!1;return Object(o.a)(e).pipe(Object(B.a)((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Object(I.a)((function(e){var i,r,a,s,c=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||c)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(o.a)(e).pipe(Object(I.a)((function(e){var i=t.transitions.getValue();return n.next(new Y(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),i!==t.transitions.getValue()?f.a:[e]})),Object(I.a)((function(e){return Promise.resolve(e)})),(i=t.ngModule.injector,r=t.configLoader,a=t.urlSerializer,s=t.config,function(e){return e.pipe(Object(I.a)((function(e){return function(e,t,n,i,r){return new St(e,t,n,i,r).apply()}(i,r,a,e.extractedUrl,s).pipe(Object(p.a)((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),Object(B.a)((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,i,r,o){return function(i){return i.pipe(Object(M.a)((function(i){return function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Ft(e,t,n,i,r,o).recognize()}(e,n,i.urlAfterRedirects,(a=i.urlAfterRedirects,t.serializeUrl(a)),r,o).pipe(Object(p.a)((function(e){return Object.assign(Object.assign({},i),{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Object(B.a)((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Object(B.a)((function(e){var i=new W(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(i)})));if(c&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var l=e.id,u=e.extractedUrl,d=e.source,h=e.restoredState,g=e.extras,v=new Y(l,t.serializeUrl(u),d,h);n.next(v);var m=ze(u,t.rootComponentType).snapshot;return Object(o.a)(Object.assign(Object.assign({},e),{targetSnapshot:m,urlAfterRedirects:u,extras:Object.assign(Object.assign({},g),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),f.a})),zt((function(e){var n=e.targetSnapshot,i=e.id,r=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,c=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!c})})),Object(B.a)((function(e){var n=new K(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Object(p.a)((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,i=e.currentSnapshot,r=t.rootContexts,o=n._root,function e(t,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=We(n);return t.children.forEach((function(t){!function(t,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,s=n?n.value:null,c=i?i.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Te(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Te(e.url,t.url)||!ge(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nt(e,t)||!ge(e.queryParams,t.queryParams);case"paramsChange":default:return!nt(e,t)}}(s,a,a.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Et(r)):(a.data=s.data,a._resolvedData=s._resolvedData),e(t,n,a.component?c?c.children:null:i,r,o),l&&o.canDeactivateChecks.push(new Pt(c&&c.outlet&&c.outlet.component||null,s))}else s&&xt(n,c,o),o.canActivateChecks.push(new Et(r)),e(t,null,a.component?c?c.children:null:i,r,o)}(t,a[t.value.outlet],i,r.concat([t.value]),o),delete a[t.value.outlet]})),ye(a,(function(e,t){return xt(e,i.getContext(t),o)})),o}(o,i?i._root:null,r,[o.value]))});var n,i,r,o})),function(e,t){return function(n){return n.pipe(Object(M.a)((function(n){var i=n.targetSnapshot,r=n.currentSnapshot,s=n.guards,c=s.canActivateChecks,l=s.canDeactivateChecks;return 0===l.length&&0===c.length?Object(o.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return Object(a.a)(e).pipe(Object(M.a)((function(e){return function(e,t,n,i,r){var a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||0===a.length)return Object(o.a)(!0);var s=a.map((function(o){var a,s=Mt(o,t,r);if(function(e){return e&&vt(e.canDeactivate)}(s))a=_e(s.canDeactivate(e,t,n,i));else{if(!vt(s))throw new Error("Invalid CanDeactivate guard");a=_e(s(e,t,n,i))}return a.pipe(E())}));return Object(o.a)(s).pipe(It())}(e.component,e.route,n,t,i)})),E((function(e){return!0!==e}),!0))}(l,i,r,e).pipe(Object(M.a)((function(n){return n&&"boolean"==typeof n?function(e,t,n,i){return Object(a.a)(t).pipe(Object(N.a)((function(t){return Object(a.a)([Rt(t.route.parent,i),Lt(t.route,i),jt(e,t.path,n),Nt(e,t.route,n)]).pipe(Object(g.a)(),E((function(e){return!0!==e}),!0))})),E((function(e){return!0!==e}),!0))}(i,c,e,t):Object(o.a)(n)})),Object(p.a)((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Object(B.a)((function(e){if(mt(e.guardsResult)){var n=ce('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Object(B.a)((function(e){var n=new z(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),Object(v.a)((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var i=new V(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(i),e.resolve(!1),!1}return!0})),zt((function(e){if(e.guards.canActivateChecks.length)return Object(o.a)(e).pipe(Object(B.a)((function(e){var n=new Q(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,i=t.ngModule.injector,function(e){return e.pipe(Object(M.a)((function(e){var t=e.targetSnapshot,r=e.guards.canActivateChecks;return r.length?Object(a.a)(r).pipe(Object(N.a)((function(e){return function(e,t,n,i){return function(e,t,n,i){var r=Object.keys(e);if(0===r.length)return Object(o.a)({});if(1===r.length){var s=r[0];return Kt(e[s],t,n,i).pipe(Object(p.a)((function(e){return _defineProperty2({},s,e)})))}var c={};return Object(a.a)(r).pipe(Object(M.a)((function(r){return Kt(e[r],t,n,i).pipe(Object(p.a)((function(e){return c[r]=e,e})))}))).pipe(T(),Object(p.a)((function(){return c})))}(e._resolve,e,t,i).pipe(Object(p.a)((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Xe(e,n).resolve),null})))}(e.route,t,n,i)})),Object(j.a)((function(e,t){return e})),Object(p.a)((function(t){return e}))):Object(o.a)(e)})))}),Object(B.a)((function(e){var n=new X(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,i})),zt((function(e){var n=e.targetSnapshot,i=e.id,r=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,c=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!c})})),Object(p.a)((function(e){var n=function(e,t,n){var i=function e(t,n,i){if(i&&t.shouldReuseRoute(n.value,i.value.snapshot)){var r=i.value;r._futureSnapshot=n.value;var o=function(t,n,i){return n.children.map((function(n){var r,o=_createForOfIteratorHelper(i.children);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(t.shouldReuseRoute(a.value.snapshot,n.value))return e(t,n,a)}}catch(s){o.e(s)}finally{o.f()}return e(t,n)}))}(t,n,i);return new Ze(r,o)}var a=t.retrieve(n.value);if(a){var c=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var i=0;i<t.children.length;++i)e(t.children[i],n.children[i])}(n,c),c}var l,u=new Qe(new s.a((l=n.value).url),new s.a(l.params),new s.a(l.queryParams),new s.a(l.fragment),new s.a(l.data),l.outlet,l.component,l),d=n.children.map((function(n){return e(t,n)}));return new Ze(u,d)}(e,t._root,n?n._root:void 0);return new Ke(i,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})})),Object(B.a)((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(i=t.rootContexts,r=t.routeReuseStrategy,c=function(e){return t.triggerEvent(e)},Object(p.a)((function(e){return new pt(r,e.targetRouterState,e.currentRouterState,c).activate(i),e}))),Object(B.a)({next:function(){l=!0},complete:function(){l=!0}}),Object(F.a)((function(){if(!l&&!u){t.resetUrlToCurrentUrlTree();var i=new V(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(i),e.resolve(!1)}t.currentNavigation=null})),Object(w.a)((function(i){if(u=!0,(s=i)&&s.ngNavigationCancelingError){var r=mt(i.url);r||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new V(e.id,t.serializeUrl(e.extractedUrl),i.message);n.next(o),r?setTimeout((function(){var n=t.urlHandlingStrategy.merge(i.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new Z(e.id,t.serializeUrl(e.extractedUrl),i);n.next(a);try{e.resolve(t.errorHandler(i))}catch(c){e.reject(c)}}var s;return f.a})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),i="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,i,r,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){de(e),this.config=e.map(pe),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,i=t.queryParams,o=t.fragment,a=t.preserveQueryParams,s=t.queryParamsHandling,c=t.preserveFragment;Object(r.ab)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,u=c?this.currentUrlTree.fragment:o,d=null;if(s)switch(s){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}else d=a?this.currentUrlTree.queryParams:i||null;return null!==d&&(d=this.removeEmptyProps(d)),function(e,t,n,i,r){if(0===n.length)return rt(t.root,t.root,t,i,r);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new ot(!0,0,e);var t=0,n=!1,i=e.reduce((function(e,i,r){if("object"==typeof i&&null!=i){if(i.outlets){var o={};return ye(i.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray2(e),[{outlets:o}])}if(i.segmentPath)return[].concat(_toConsumableArray2(e),[i.segmentPath])}return"string"!=typeof i?[].concat(_toConsumableArray2(e),[i]):0===r?(i.split("/").forEach((function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))})),e):[].concat(_toConsumableArray2(e),[i])}),[]);return new ot(n,t,i)}(n);if(o.toRoot())return rt(t.root,new Se([],{}),t,i,r);var a=function(e,t,n){if(e.isAbsolute)return new at(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new at(n.snapshot._urlSegment,!0,0);var i=it(e.commands[0])?0:1;return function(e,t,n){for(var i=e,r=t,o=n;o>r;){if(o-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new at(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(o,t,e),s=a.processChildren?lt(a.segmentGroup,a.index,o.commands):ct(a.segmentGroup,a.index,o.commands);return rt(a.segmentGroup,s,t,i,r)}(l,this.currentUrlTree,e,d,u)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.ab)()&&this.isNgZoneEnabled&&!r.E.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=mt(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(mt(e))return Ce(this.currentUrlTree,e,t);var n=this.parseUrl(e);return Ce(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var i=e[n];return null!=i&&(t[n]=i),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new G(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,i,r){var o,a,s,c=this.getTransition();if(c&&"imperative"!==t&&"imperative"===c.source&&c.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(c&&"hashchange"==t&&"popstate"===c.source&&c.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(c&&"popstate"==t&&"hashchange"===c.source&&c.rawUrl.toString()===e.toString())return Promise.resolve(!0);r?(o=r.resolve,a=r.reject,s=r.promise):s=new Promise((function(e,t){o=e,a=t}));var l=++this.navigationId;return this.setTransition({id:l,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,i){var r=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(r)||t?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}()).\u0275fac=function(e){r.gc()},on.\u0275dir=r.Ob({type:on}),on),sn=((rn=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],null==i&&r.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(e,[{key:"onClick",value:function(){var e={skipLocationChange:ln(this.skipLocationChange),replaceUrl:ln(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(r.ab)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ln(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ln(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||rn)(r.Tb(an),r.Tb(Qe),r.ec("tabindex"),r.Tb(r.I),r.Tb(r.n))},rn.\u0275dir=r.Ob({type:rn,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&r.hc("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),rn),cn=((nn=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=i,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof G&&r.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,i){if(0!==e||t||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var r={skipLocationChange:ln(this.skipLocationChange),replaceUrl:ln(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(r.ab)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ln(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ln(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||nn)(r.Tb(an),r.Tb(Qe),r.Tb(i.p))},nn.\u0275dir=r.Ob({type:nn,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&r.hc("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(r.cc("href",t.href,r.Kc),r.Ib("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.Fb]}),nn);function ln(e){return""===e||!!e}var un,dn,hn,fn,pn=((un=function(){function e(t,n,i,r,o){var a=this;_classCallCheck(this,e),this.router=t,this.element=n,this.renderer=i,this.link=r,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe((function(e){e instanceof G&&a.update()}))}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.links.changes.subscribe((function(t){return e.update()})),this.linksWithHrefs.changes.subscribe((function(t){return e.update()})),this.update()}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.classes.forEach((function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter((function(e){return!!e}))}}]),e}()).\u0275fac=function(e){return new(e||un)(r.Tb(an),r.Tb(r.n),r.Tb(r.I),r.Tb(sn,8),r.Tb(cn,8))},un.\u0275dir=r.Ob({type:un,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var i;1&e&&(r.Mb(n,sn,!0),r.Mb(n,cn,!0)),2&e&&(r.Dc(i=r.ic())&&(t.links=i),r.Dc(i=r.ic())&&(t.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.Fb]}),un),gn=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new vn,this.attachRef=null},vn=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new gn,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),mn=((dn=function(){function e(t,n,i,o,a){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.p,this.deactivateEvents=new r.p,this.name=o||oe,t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new bn(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}()).\u0275fac=function(e){return new(e||dn)(r.Tb(vn),r.Tb(r.S),r.Tb(r.l),r.ec("name"),r.Tb(r.i))},dn.\u0275dir=r.Ob({type:dn,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),dn),bn=function(){function e(t,n,i){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=i}return _createClass(e,[{key:"get",value:function(e,t){return e===Qe?this.route:e===vn?this.childContexts:this.parent.get(e,t)}}]),e}(),yn=function e(){_classCallCheck(this,e)},_n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return Object(o.a)(null)}}]),e}(),Cn=((fn=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=new qt(n,i,(function(e){return t.triggerEvent(new q(e))}),(function(e){return t.triggerEvent(new $(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Object(v.a)((function(e){return e instanceof G})),Object(N.a)((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(r.C);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,i=[],r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(e,o)):o.children&&i.push(this.processRoutes(e,o.children))}}catch(c){r.e(c)}finally{r.f()}return Object(a.a)(i).pipe(Object(H.a)(),Object(p.a)((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(Object(M.a)((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}()).\u0275fac=function(e){return new(e||fn)(r.dc(an),r.dc(r.B),r.dc(r.j),r.dc(r.u),r.dc(yn))},fn.\u0275prov=r.Pb({token:fn,factory:fn.\u0275fac}),fn),kn=((hn=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Y?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof G&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof ie&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new ie(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){r.gc()},hn.\u0275dir=r.Ob({type:hn}),hn),Sn=new r.t("ROUTER_CONFIGURATION"),On=new r.t("ROUTER_FORROOT_GUARD"),Tn=[i.o,{provide:Ae,useClass:Ee},{provide:an,useFactory:function(e,t,n,r,o,a,s){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=new an(null,e,t,n,r,o,a,me(s));if(l&&(d.urlHandlingStrategy=l),u&&(d.routeReuseStrategy=u),c.errorHandler&&(d.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(d.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){var h=Object(i.Q)();d.events.subscribe((function(e){h.logGroup("Router Event: "+e.constructor.name),h.log(e.toString()),h.log(e),h.logGroupEnd()}))}return c.onSameUrlNavigation&&(d.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(d.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(d.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(d.relativeLinkResolution=c.relativeLinkResolution),d},deps:[Ae,vn,i.o,r.u,r.B,r.j,Xt,Sn,[function(){return function e(){_classCallCheck(this,e)}}(),new r.F],[function(){return function e(){_classCallCheck(this,e)}}(),new r.F]]},vn,{provide:Qe,useFactory:function(e){return e.routerState.root},deps:[an]},{provide:r.B,useClass:r.O},Cn,_n,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(Object(w.a)((function(){return Object(o.a)(null)})))}}]),e}(),{provide:Sn,useValue:{enableTracing:!1}}];function wn(){return new r.D("Router",an)}var An,En=((An=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Tn,Dn(t),{provide:On,useFactory:xn,deps:[[an,new r.F,new r.N]]},{provide:Sn,useValue:n||{}},{provide:i.p,useFactory:Mn,deps:[i.E,[new r.s(i.a),new r.F],Sn]},{provide:kn,useFactory:Pn,deps:[an,i.J,Sn]},{provide:yn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:_n},{provide:r.D,multi:!0,useFactory:wn},[Ln,{provide:r.d,multi:!0,useFactory:Rn,deps:[Ln]},{provide:jn,useFactory:Nn,deps:[Ln]},{provide:r.b,multi:!0,useExisting:jn}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[Dn(t)]}}}]),e}()).\u0275mod=r.Rb({type:An}),An.\u0275inj=r.Qb({factory:function(e){return new(e||An)(r.dc(On,8),r.dc(an,8))}}),An);function Pn(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new kn(e,t,n)}function Mn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new i.i(e,t):new i.C(e,t)}function xn(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Dn(e){return[{provide:r.a,multi:!0,useValue:e},{provide:Xt,multi:!0,useValue:e}]}var In,Ln=((In=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new h.a}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(i.n,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),i=e.injector.get(an),r=e.injector.get(Sn);if(e.isLegacyDisabled(r)||e.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)i.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(r.initialNavigation,"'"));i.hooks.afterPreactivation=function(){return e.initNavigation?Object(o.a)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},i.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Sn),n=this.injector.get(Cn),i=this.injector.get(kn),o=this.injector.get(an),a=this.injector.get(r.g);e===a.components[0]&&(this.isLegacyEnabled(t)?o.initialNavigation():this.isLegacyDisabled(t)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}()).\u0275fac=function(e){return new(e||In)(r.dc(r.u))},In.\u0275prov=r.Pb({token:In,factory:In.\u0275fac}),In);function Rn(e){return e.appInitializer.bind(e)}function Nn(e){return e.bootstrapListener.bind(e)}var jn=new r.t("Router Initializer")},u8Dt:function(e,t,n){var i=n("YESw"),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},uHNT:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("mrSG"),r=n("fXoL"),o=n("y6l0"),a=n("AytR"),s=n("jtHE"),c=n("LYOT"),l=function(){var e=function(){function e(t){_classCallCheck(this,e),this.contentfulService=t,this.COPY_LIMIT=1e3,this.flightAlertsMap=new Map,this.alertsBySectionMap=new Map,this.updateFlightAlerts$=new r.p,this.removeFlightAlert$=new r.p,this.$serviceReady=new s.a(1),this.load()}return _createClass(e,[{key:"load",value:function(){var e=this;return new Promise((function(t,n){try{e.flightAlertsMap.size?(t(),e.$serviceReady.closed||(e.$serviceReady.next(),e.$serviceReady.complete())):e.getFlightAlerts().then((function(){t(),e.$serviceReady.closed||(e.$serviceReady.next(),e.$serviceReady.complete())}))}catch(i){n(i)}}))}},{key:"getFlightAlerts",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contentfulService.getEntries({content_type:"messages","fields.display[nin]":"".concat(o.c.FAREBADGE,",").concat(o.c.FAREICON),"fields.type[nin]":"FlightStatus",include:5,limit:this.COPY_LIMIT});case 2:t=e.sent.items.map((function(e){return e.fields})),this.addFlightAlertsToMap(t);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"addFlightAlertsToMap",value:function(e){var t=this;e&&e.length&&e.forEach((function(e){return t.addAlert(t.standardizeAlertKeys(e))}))}},{key:"standardizeAlertKeys",value:function(e){return Object.assign(Object.assign({},e),{display:e.display?e.display.toLowerCase().replace(" ","-"):null,displayColor:e.displayColor?e.displayColor.toLowerCase().replace(" ","-"):null,displayImage:e.displayImage?e.displayImage.toLowerCase().replace(" ","-"):null})}},{key:"addAlert",value:function(e){if(e&&e.code&&e.display&&e.displayColor&&e.displayImage){if("inpage"===e.display&&e.section){var t=this.alertsBySectionMap.get(e.section)||[];t.push(e),this.alertsBySectionMap.set(e.section,t)}this.flightAlertsMap.set(e.code,e)}}},{key:"getAlert",value:function(e){var t=this.flightAlertsMap.get(e);return t||a.g.production||console.warn('CMSFlightsAlerts: Code for "'+e+'" was not found.'),t||void 0}},{key:"addCurrentAlert",value:function(e){var t=this;e&&e.length&&e.forEach((function(e){var n=t.getAlert(e.code);n&&t.updateFlightAlerts$.emit({alert:n})}))}},{key:"addCurrentAlertRegex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.code){var n=this.getAlert(e.code);n&&this.updateFlightAlerts$.emit({alert:n,regexReplaceValues:t})}}},{key:"removeCurrentAlert",value:function(e){if(e){var t=this.getAlert(e.code);t&&this.removeFlightAlert$.emit(t)}}},{key:"getAlertBySection",value:function(e){return this.alertsBySectionMap.get(e)||[]}},{key:"ready",get:function(){return this.$serviceReady.asObservable().toPromise()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.dc(c.a))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},uQub:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("ofXK"),o=function(){var e=function(){function e(t){_classCallCheck(this,e),this.document=t,this.showModal$=new i.p}return _createClass(e,[{key:"openModal",value:function(){this.showModal$.emit(!0),this.document.body.classList.add("open-modal")}},{key:"closeModal",value:function(){this.showModal$.emit(!1),this.document.body.classList.remove("open-modal")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.dc(r.e))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},uYuu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function e(){_classCallCheck(this,e)},r=function(e){return e[e.FLIGHT_RESULTS=0]="FLIGHT_RESULTS",e[e.FLIGHT_RESULTS_FLEX=1]="FLIGHT_RESULTS_FLEX",e[e.SELECTED_SECTION=2]="SELECTED_SECTION",e[e.IROP_SELECTION=3]="IROP_SELECTION",e}({})},ur0o:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("ofXK"),r=n("h3XU"),o=n("o5mt"),a=n("fXoL"),s=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=a.Rb({type:e}),e.\u0275inj=a.Qb({factory:function(t){return new(t||e)},imports:[[i.c,r.a,o.a]]}),e}()},vDqi:function(e,t,n){e.exports=n("zuR4")},vbKG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e,t){return e(t={exports:{}},t.exports),t.exports}var o=function(e){return e&&e.Math==Math&&e},a=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof i&&i)||Function("return this")(),s=function(e){try{return!!e()}catch(t){return!0}},c=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),l={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,d={f:u&&!l.call({1:2},1)?function(e){var t=u(this,e);return!!t&&t.enumerable}:l},h=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},f={}.toString,p="".split,g=s((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==function(e){return f.call(e).slice(8,-1)}(e)?p.call(e,""):Object(e)}:Object,v=function(e){return g(function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}(e))},m=function(e){return"object"==typeof e?null!==e:"function"==typeof e},b=function(e,t){if(!m(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!m(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!m(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!m(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},y={}.hasOwnProperty,_=function(e,t){return y.call(e,t)},C=a.document,k=m(C)&&m(C.createElement),S=function(e){return k?C.createElement(e):{}},O=!c&&!s((function(){return 7!=Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a})),T=Object.getOwnPropertyDescriptor,w={f:c?T:function(e,t){if(e=v(e),t=b(t,!0),O)try{return T(e,t)}catch(n){}if(_(e,t))return h(!d.f.call(e,t),e[t])}},A=function(e){if(!m(e))throw TypeError(String(e)+" is not an object");return e},E=Object.defineProperty,P={f:c?E:function(e,t,n){if(A(e),t=b(t,!0),A(n),O)try{return E(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},M=c?function(e,t,n){return P.f(e,t,h(1,n))}:function(e,t,n){return e[t]=n,e},x=function(e,t){try{M(a,e,t)}catch(n){a[e]=t}return t},D=a["__core-js_shared__"]||x("__core-js_shared__",{}),I=Function.toString;"function"!=typeof D.inspectSource&&(D.inspectSource=function(e){return I.call(e)});var L,R,N,j=D.inspectSource,B=a.WeakMap,F="function"==typeof B&&/native code/.test(j(B)),H=r((function(e){(e.exports=function(e,t){return D[e]||(D[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})})),U=0,Y=Math.random(),G=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++U+Y).toString(36)},V=H("keys"),Z=function(e){return V[e]||(V[e]=G(e))},W={};if(F){var K=new(0,a.WeakMap),z=K.get,Q=K.has,X=K.set;L=function(e,t){return X.call(K,e,t),t},R=function(e){return z.call(K,e)||{}},N=function(e){return Q.call(K,e)}}else{var q=Z("state");W[q]=!0,L=function(e,t){return M(e,q,t),t},R=function(e){return _(e,q)?e[q]:{}},N=function(e){return _(e,q)}}var $={set:L,get:R,has:N,enforce:function(e){return N(e)?R(e):L(e,{})},getterFor:function(e){return function(t){var n;if(!m(t)||(n=R(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},J=r((function(e){var t=$.get,n=$.enforce,i=String(String).split("String");(e.exports=function(e,t,r,o){var s=!!o&&!!o.unsafe,c=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof r&&("string"!=typeof t||_(r,"name")||M(r,"name",t),n(r).source=i.join("string"==typeof t?t:"")),e!==a?(s?!l&&e[t]&&(c=!0):delete e[t],c?e[t]=r:M(e,t,r)):c?e[t]=r:x(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||j(this)}))})),ee=a,te=function(e){return"function"==typeof e?e:void 0},ne=function(e,t){return arguments.length<2?te(ee[e])||te(a[e]):ee[e]&&ee[e][t]||a[e]&&a[e][t]},ie=Math.ceil,re=Math.floor,oe=function(e){return isNaN(e=+e)?0:(e>0?re:ie)(e)},ae=Math.min,se=Math.max,ce=Math.min,le=function(e){return function(t,n,i){var r,o,a=v(t),s=(r=a.length)>0?ae(oe(r),9007199254740991):0,c=function(e,t){var n=oe(e);return n<0?se(n+t,0):ce(n,t)}(i,s);if(e&&n!=n){for(;s>c;)if((o=a[c++])!=o)return!0}else for(;s>c;c++)if((e||c in a)&&a[c]===n)return e||c||0;return!e&&-1}},ue={includes:le(!0),indexOf:le(!1)},de=ue.indexOf,he=function(e,t){var n,i=v(e),r=0,o=[];for(n in i)!_(W,n)&&_(i,n)&&o.push(n);for(;t.length>r;)_(i,n=t[r++])&&(~de(o,n)||o.push(n));return o},fe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],pe=fe.concat("length","prototype"),ge={f:Object.getOwnPropertyNames||function(e){return he(e,pe)}},ve={f:Object.getOwnPropertySymbols},me=ne("Reflect","ownKeys")||function(e){var t=ge.f(A(e)),n=ve.f;return n?t.concat(n(e)):t},be=function(e,t){for(var n=me(t),i=P.f,r=w.f,o=0;o<n.length;o++){var a=n[o];_(e,a)||i(e,a,r(t,a))}},ye=/#|\.prototype\./,_e=function(e,t){var n=ke[Ce(e)];return n==Oe||n!=Se&&("function"==typeof t?s(t):!!t)},Ce=_e.normalize=function(e){return String(e).replace(ye,".").toLowerCase()},ke=_e.data={},Se=_e.NATIVE="N",Oe=_e.POLYFILL="P",Te=_e,we=w.f,Ae=function(e,t){var n,i,r,o,s,c=e.target,l=e.global,u=e.stat;if(n=l?a:u?a[c]||x(c,{}):(a[c]||{}).prototype)for(i in t){if(o=t[i],r=e.noTargetGet?(s=we(n,i))&&s.value:n[i],!Te(l?i:c+(u?".":"#")+i,e.forced)&&void 0!==r){if(typeof o==typeof r)continue;be(o,r)}(e.sham||r&&r.sham)&&M(o,"sham",!0),J(n,i,o,e)}},Ee=Object.keys||function(e){return he(e,fe)},Pe=d.f,Me=function(e){return function(t){for(var n,i=v(t),r=Ee(i),o=r.length,a=0,s=[];o>a;)n=r[a++],c&&!Pe.call(i,n)||s.push(e?[n,i[n]]:i[n]);return s}},xe=(Me(!0),Me(!1));Ae({target:"Object",stat:!0},{values:function(e){return xe(e)}});var De,Ie=!!Object.getOwnPropertySymbols&&!s((function(){return!String(Symbol())})),Le=Ie&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Re=H("wks"),Ne=a.Symbol,je=Le?Ne:Ne&&Ne.withoutSetter||G,Be=c?Object.defineProperties:function(e,t){A(e);for(var n,i=Ee(t),r=i.length,o=0;r>o;)P.f(e,n=i[o++],t[n]);return e},Fe=ne("document","documentElement"),He=Z("IE_PROTO"),Ue=function(){},Ye=function(e){return"<script>"+e+"<\/script>"},Ge=function(){try{De=document.domain&&new ActiveXObject("htmlfile")}catch(i){}var e,t;Ge=De?function(e){e.write(Ye("")),e.close();var t=e.parentWindow.Object;return e=null,t}(De):((t=S("iframe")).style.display="none",Fe.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Ye("document.F=Object")),e.close(),e.F);for(var n=fe.length;n--;)delete Ge.prototype[fe[n]];return Ge()};W[He]=!0;var Ve,Ze=Object.create||function(e,t){var n;return null!==e?(Ue.prototype=A(e),n=new Ue,Ue.prototype=null,n[He]=e):n=Ge(),void 0===t?n:Be(n,t)},We=(_(Re,Ve="unscopables")||(Re[Ve]=Ie&&_(Ne,Ve)?Ne[Ve]:je("Symbol."+Ve)),Re[Ve]),Ke=Array.prototype;null==Ke[We]&&P.f(Ke,We,{configurable:!0,value:Ze(null)});var ze,Qe=Object.defineProperty,Xe={},qe=function(e){throw e},$e=ue.includes;Ae({target:"Array",proto:!0,forced:!function(e,t){if(_(Xe,"indexOf"))return Xe.indexOf;t||(t={});var n=[].indexOf,i=!!_(t,"ACCESSORS")&&t.ACCESSORS,r=_(t,0)?t[0]:qe,o=_(t,1)?t[1]:void 0;return Xe.indexOf=!!n&&!s((function(){if(i&&!c)return!0;var e={length:-1};i?Qe(e,1,{enumerable:!0,get:qe}):e[1]=1,n.call(e,r,o)}))}(0,{ACCESSORS:!0,1:0})},{includes:function(e){return $e(this,e,arguments.length>1?arguments[1]:void 0)}}),Ke[We].includes=!0,ze=Function.call,a.Array.prototype.includes,function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function")}(ze);var Je,et,tt,nt=((tt={}).DOCUMENT="document",tt.PARAGRAPH="paragraph",tt.HEADING_1="heading-1",tt.HEADING_2="heading-2",tt.HEADING_3="heading-3",tt.HEADING_4="heading-4",tt.HEADING_5="heading-5",tt.HEADING_6="heading-6",tt.OL_LIST="ordered-list",tt.UL_LIST="unordered-list",tt.LIST_ITEM="list-item",tt.HR="hr",tt.QUOTE="blockquote",tt.EMBEDDED_ENTRY="embedded-entry-block",tt.EMBEDDED_ASSET="embedded-asset-block",tt),it=((et={}).HYPERLINK="hyperlink",et.ENTRY_HYPERLINK="entry-hyperlink",et.ASSET_HYPERLINK="asset-hyperlink",et.EMBEDDED_ENTRY="embedded-entry-inline",et),rt=[nt.PARAGRAPH,nt.HEADING_1,nt.HEADING_2,nt.HEADING_3,nt.HEADING_4,nt.HEADING_5,nt.HEADING_6,nt.OL_LIST,nt.UL_LIST,nt.HR,nt.QUOTE,nt.EMBEDDED_ENTRY,nt.EMBEDDED_ASSET],ot=[nt.HR,nt.EMBEDDED_ENTRY,nt.EMBEDDED_ASSET],at=((Je={})[nt.OL_LIST]=[nt.LIST_ITEM],Je[nt.UL_LIST]=[nt.LIST_ITEM],Je[nt.LIST_ITEM]=rt.slice(),Je[nt.QUOTE]=[nt.PARAGRAPH],Je),st={nodeType:nt.DOCUMENT,data:{},content:[{nodeType:nt.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]},ct=Object.freeze({isInline:function(e){return Object.values(it).includes(e.nodeType)},isBlock:function(e){return Object.values(nt).includes(e.nodeType)},isText:function(e){return"text"===e.nodeType}});t.BLOCKS=nt,t.CONTAINERS=at,t.EMPTY_DOCUMENT=st,t.INLINES=it,t.MARKS={BOLD:"bold",ITALIC:"italic",UNDERLINE:"underline",CODE:"code"},t.TOP_LEVEL_BLOCKS=rt,t.VOID_BLOCKS=ot,t.helpers=ct},vkgz:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("7o/Q");function r(){}var o=n("n6bG");function a(e,t,n){return function(i){return i.lift(new s(e,t,n))}}var s=function(){function e(t,n,i){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,s){var c;return _classCallCheck(this,n),(c=t.call(this,e))._tapNext=r,c._tapError=r,c._tapComplete=r,c._tapError=a||r,c._tapComplete=s||r,Object(o.a)(i)?(c._context=_assertThisInitialized(c),c._tapNext=i):i&&(c._context=i,c._tapNext=i.next||r,c._tapError=i.error||r,c._tapComplete=i.complete||r),c}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(i.a)},vxfF:function(e,t,n){"use strict";n.d(t,"a",(function(){return U})),n.d(t,"b",(function(){return q})),n.d(t,"c",(function(){return W})),n.d(t,"d",(function(){return J}));var i=n("fXoL");function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}var o=n("XNiG"),a=n("LRne"),s=n("HDdC"),c=n("xgIS"),l=n("eNwd"),u=n("7Hc7"),d=n("quSY");function h(e){return!!e&&(e instanceof s.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var f,p,g=n("/uUt"),v=n("3UWI"),m=n("pLZG"),b=n("1G5W"),y=n("JX91"),_=n("Zy1z"),C=n("eIep"),k=n("UXun"),S=n("nLfN"),O=n("ofXK"),T=new i.t("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.Z)(O.e)}}),w=((p=function(){function e(t){if(_classCallCheck(this,e),this.value="ltr",this.change=new i.p,t){var n=t.documentElement?t.documentElement.dir:null,r=(t.body?t.body.dir:null)||n;this.value="ltr"===r||"rtl"===r?r:"ltr"}}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),e}()).\u0275fac=function(e){return new(e||p)(i.dc(T,8))},p.\u0275prov=i.Pb({factory:function(){return new p(i.dc(T,8))},token:p,providedIn:"root"}),p),A=((f=function e(){_classCallCheck(this,e)}).\u0275mod=i.Rb({type:f}),f.\u0275inj=i.Qb({factory:function(e){return new(e||f)}}),f),E=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._data=e,i}return _createClass(n,[{key:"connect",value:function(){return h(this._data)?this._data:Object(a.a)(this._data)}},{key:"disconnect",value:function(){}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),P=function(){function e(){_classCallCheck(this,e),this.viewCacheSize=20,this._viewCache=[]}return _createClass(e,[{key:"applyChanges",value:function(e,t,n,i,r){var o=this;e.forEachOperation((function(e,a,s){var c,l;null==e.previousIndex?l=(c=o._insertView((function(){return n(e,a,s)}),s,t,i(e)))?1:0:null==s?(o._detachAndCacheView(a,t),l=3):(c=o._moveView(a,s,t,i(e)),l=2),r&&r({context:null==c?void 0:c.context,operation:l,record:e})}))}},{key:"detach",value:function(){var e,t=_createForOfIteratorHelper(this._viewCache);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}this._viewCache=[]}},{key:"_insertView",value:function(e,t,n,i){var r=this._insertViewFromCache(t,n);if(!r){var o=e();return n.createEmbeddedView(o.templateRef,o.context,o.index)}r.context.$implicit=i}},{key:"_detachAndCacheView",value:function(e,t){var n=t.detach(e);this._maybeCacheView(n,t)}},{key:"_moveView",value:function(e,t,n,i){var r=n.get(e);return n.move(r,t),r.context.$implicit=i,r}},{key:"_maybeCacheView",value:function(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{var n=t.indexOf(e);-1===n?e.destroy():t.remove(n)}}},{key:"_insertViewFromCache",value:function(e,t){var n=this._viewCache.pop();return n&&t.insert(n,e),n||null}}]),e}(),M=new i.t("_ViewRepeater"),x=["contentWrapper"],D=["*"],I=new i.t("VIRTUAL_SCROLL_STRATEGY"),L=function(){function e(t,n,i){_classCallCheck(this,e),this._scrolledIndexChange=new o.a,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Object(g.a)()),this._viewport=null,this._itemSize=t,this._minBufferPx=n,this._maxBufferPx=i}return _createClass(e,[{key:"attach",value:function(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"detach",value:function(){this._scrolledIndexChange.complete(),this._viewport=null}},{key:"updateItemAndBufferSize",value:function(e,t,n){this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentScrolled",value:function(){this._updateRenderedRange()}},{key:"onDataLengthChanged",value:function(){this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentRendered",value:function(){}},{key:"onRenderedOffsetChanged",value:function(){}},{key:"scrollToIndex",value:function(e,t){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,t)}},{key:"_updateTotalContentSize",value:function(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}},{key:"_updateRenderedRange",value:function(){if(this._viewport){var e=this._viewport.getRenderedRange(),t={start:e.start,end:e.end},n=this._viewport.getViewportSize(),i=this._viewport.getDataLength(),r=this._viewport.measureScrollOffset(),o=this._itemSize>0?r/this._itemSize:0;if(t.end>i){var a=Math.ceil(n/this._itemSize),s=Math.max(0,Math.min(o,i-a));o!=s&&(o=s,r=s*this._itemSize,t.start=Math.floor(o)),t.end=Math.max(0,Math.min(i,t.start+a))}var c=r-t.start*this._itemSize;if(c<this._minBufferPx&&0!=t.start){var l=Math.ceil((this._maxBufferPx-c)/this._itemSize);t.start=Math.max(0,t.start-l),t.end=Math.min(i,Math.ceil(o+(n+this._minBufferPx)/this._itemSize))}else{var u=t.end*this._itemSize-(r+n);if(u<this._minBufferPx&&t.end!=i){var d=Math.ceil((this._maxBufferPx-u)/this._itemSize);d>0&&(t.end=Math.min(i,t.end+d),t.start=Math.max(0,Math.floor(o-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(t),this._viewport.setRenderedContentOffset(this._itemSize*t.start),this._scrolledIndexChange.next(Math.floor(o))}}}]),e}();function R(e){return e._scrollStrategy}var N,j,B,F,H,U=((F=function(){function e(){_classCallCheck(this,e),this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new L(this.itemSize,this.minBufferPx,this.maxBufferPx)}return _createClass(e,[{key:"ngOnChanges",value:function(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}},{key:"itemSize",get:function(){return this._itemSize},set:function(e){this._itemSize=r(e)}},{key:"minBufferPx",get:function(){return this._minBufferPx},set:function(e){this._minBufferPx=r(e)}},{key:"maxBufferPx",get:function(){return this._maxBufferPx},set:function(e){this._maxBufferPx=r(e)}}]),e}()).\u0275fac=function(e){return new(e||F)},F.\u0275dir=i.Ob({type:F,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[i.Gb([{provide:I,useFactory:R,deps:[Object(i.Y)((function(){return F}))]}]),i.Fb]}),F),Y=((B=function(){function e(t,n,i){_classCallCheck(this,e),this._ngZone=t,this._platform=n,this._scrolled=new o.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}return _createClass(e,[{key:"register",value:function(e){var t=this;this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe((function(){return t._scrolled.next(e)})))}},{key:"deregister",value:function(e){var t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}},{key:"scrolled",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new s.a((function(n){e._globalSubscription||e._addGlobalListener();var i=t>0?e._scrolled.pipe(Object(v.a)(t)).subscribe(n):e._scrolled.subscribe(n);return e._scrolledCount++,function(){i.unsubscribe(),e._scrolledCount--,e._scrolledCount||e._removeGlobalListener()}})):Object(a.a)()}},{key:"ngOnDestroy",value:function(){var e=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(t,n){return e.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(e,t){var n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Object(m.a)((function(e){return!e||n.indexOf(e)>-1})))}},{key:"getAncestorScrollContainers",value:function(e){var t=this,n=[];return this.scrollContainers.forEach((function(i,r){t._scrollableContainsElement(r,e)&&n.push(r)})),n}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_scrollableContainsElement",value:function(e,t){var n,r=(n=t)instanceof i.n?n.nativeElement:n,o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var e=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){var t=e._getWindow();return Object(c.a)(t.document,"scroll").subscribe((function(){return e._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),e}()).\u0275fac=function(e){return new(e||B)(i.dc(i.E),i.dc(S.a),i.dc(O.e,8))},B.\u0275prov=i.Pb({factory:function(){return new B(i.dc(i.E),i.dc(S.a),i.dc(O.e,8))},token:B,providedIn:"root"}),B),G=((j=function(){function e(t,n,i,r){var a=this;_classCallCheck(this,e),this.elementRef=t,this.scrollDispatcher=n,this.ngZone=i,this.dir=r,this._destroyed=new o.a,this._elementScrolled=new s.a((function(e){return a.ngZone.runOutsideAngular((function(){return Object(c.a)(a.elementRef.nativeElement,"scroll").pipe(Object(b.a)(a._destroyed)).subscribe(e)}))}))}return _createClass(e,[{key:"ngOnInit",value:function(){this.scrollDispatcher.register(this)}},{key:"ngOnDestroy",value:function(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}},{key:"elementScrolled",value:function(){return this._elementScrolled}},{key:"getElementRef",value:function(){return this.elementRef}},{key:"scrollTo",value:function(e){var t=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=n?e.end:e.start),null==e.right&&(e.right=n?e.start:e.end),null!=e.bottom&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),n&&0!=Object(S.c)()?(null!=e.left&&(e.right=t.scrollWidth-t.clientWidth-e.left),2==Object(S.c)()?e.left=e.right:1==Object(S.c)()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}},{key:"_applyScrollToOptions",value:function(e){var t=this.elementRef.nativeElement;Object(S.d)()?t.scrollTo(e):(null!=e.top&&(t.scrollTop=e.top),null!=e.left&&(t.scrollLeft=e.left))}},{key:"measureScrollOffset",value:function(e){var t=this.elementRef.nativeElement;if("top"==e)return t.scrollTop;if("bottom"==e)return t.scrollHeight-t.clientHeight-t.scrollTop;var n=this.dir&&"rtl"==this.dir.value;return"start"==e?e=n?"right":"left":"end"==e&&(e=n?"left":"right"),n&&2==Object(S.c)()?"left"==e?t.scrollWidth-t.clientWidth-t.scrollLeft:t.scrollLeft:n&&1==Object(S.c)()?"left"==e?t.scrollLeft+t.scrollWidth-t.clientWidth:-t.scrollLeft:"left"==e?t.scrollLeft:t.scrollWidth-t.clientWidth-t.scrollLeft}}]),e}()).\u0275fac=function(e){return new(e||j)(i.Tb(i.n),i.Tb(Y),i.Tb(i.E),i.Tb(w,8))},j.\u0275dir=i.Ob({type:j,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),j),V=((N=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this._platform=t,this._change=new o.a,this._changeListener=function(e){r._change.next(e)},this._document=i,n.runOutsideAngular((function(){if(t.isBrowser){var e=r._getWindow();e.addEventListener("resize",r._changeListener),e.addEventListener("orientationchange",r._changeListener)}r.change().subscribe((function(){return r._viewportSize=null}))}))}return _createClass(e,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}},{key:"getViewportRect",value:function(){var e=this.getViewportScrollPosition(),t=this.getViewportSize(),n=t.width,i=t.height;return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var e=this._document,t=this._getWindow(),n=e.documentElement,i=n.getBoundingClientRect();return{top:-i.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-i.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return e>0?this._change.pipe(Object(v.a)(e)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}]),e}()).\u0275fac=function(e){return new(e||N)(i.dc(S.a),i.dc(i.E),i.dc(O.e,8))},N.\u0275prov=i.Pb({factory:function(){return new N(i.dc(S.a),i.dc(i.E),i.dc(O.e,8))},token:N,providedIn:"root"}),N),Z="undefined"!=typeof requestAnimationFrame?l.a:u.a,W=((H=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,a,c,l,u){var h;return _classCallCheck(this,n),(h=t.call(this,e,l,r,c)).elementRef=e,h._changeDetectorRef=i,h._scrollStrategy=a,h._detachedSubject=new o.a,h._renderedRangeSubject=new o.a,h._orientation="vertical",h._appendOnly=!1,h.scrolledIndexChange=new s.a((function(e){return h._scrollStrategy.scrolledIndexChange.subscribe((function(t){return Promise.resolve().then((function(){return h.ngZone.run((function(){return e.next(t)}))}))}))})),h.renderedRangeStream=h._renderedRangeSubject,h._totalContentSize=0,h._totalContentWidth="",h._totalContentHeight="",h._renderedRange={start:0,end:0},h._dataLength=0,h._viewportSize=0,h._renderedContentOffset=0,h._renderedContentOffsetNeedsRewrite=!1,h._isChangeDetectionPending=!1,h._runAfterChangeDetection=[],h._viewportChanges=d.a.EMPTY,h._viewportChanges=u.change().subscribe((function(){h.checkViewportSize()})),h}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"ngOnInit",this).call(this),this.ngZone.runOutsideAngular((function(){return Promise.resolve().then((function(){e._measureViewportSize(),e._scrollStrategy.attach(e),e.elementScrolled().pipe(Object(y.a)(null),Object(v.a)(0,Z)).subscribe((function(){return e._scrollStrategy.onContentScrolled()})),e._markChangeDetectionNeeded()}))}))}},{key:"ngOnDestroy",value:function(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this)}},{key:"attach",value:function(e){var t=this;this.ngZone.runOutsideAngular((function(){t._forOf=e,t._forOf.dataStream.pipe(Object(b.a)(t._detachedSubject)).subscribe((function(e){var n=e.length;n!==t._dataLength&&(t._dataLength=n,t._scrollStrategy.onDataLengthChanged()),t._doChangeDetection()}))}))}},{key:"detach",value:function(){this._forOf=null,this._detachedSubject.next()}},{key:"getDataLength",value:function(){return this._dataLength}},{key:"getViewportSize",value:function(){return this._viewportSize}},{key:"getRenderedRange",value:function(){return this._renderedRange}},{key:"setTotalContentSize",value:function(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}},{key:"setRenderedRange",value:function(e){var t,n,i=this;((t=this._renderedRange).start!=(n=e).start||t.end!=n.end)&&(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded((function(){return i._scrollStrategy.onContentRendered()})))}},{key:"getOffsetToRenderedContentStart",value:function(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}},{key:"setRenderedContentOffset",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"to-start",i="horizontal"==this.orientation,r=i?"X":"Y",o="translate".concat(r,"(").concat(Number((i&&this.dir&&"rtl"==this.dir.value?-1:1)*e),"px)");this._renderedContentOffset=e,"to-end"===n&&(o+=" translate".concat(r,"(-100%)"),this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=o&&(this._renderedContentTransform=o,this._markChangeDetectionNeeded((function(){t._renderedContentOffsetNeedsRewrite?(t._renderedContentOffset-=t.measureRenderedContentSize(),t._renderedContentOffsetNeedsRewrite=!1,t.setRenderedContentOffset(t._renderedContentOffset)):t._scrollStrategy.onRenderedOffsetChanged()})))}},{key:"scrollToOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",n={behavior:t};"horizontal"===this.orientation?n.start=e:n.top=e,this.scrollTo(n)}},{key:"scrollToIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";this._scrollStrategy.scrollToIndex(e,t)}},{key:"measureScrollOffset",value:function(e){return _get(_getPrototypeOf(n.prototype),"measureScrollOffset",this).call(this,e||("horizontal"===this.orientation?"start":"top"))}},{key:"measureRenderedContentSize",value:function(){var e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}},{key:"measureRangeSize",value:function(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}},{key:"checkViewportSize",value:function(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}},{key:"_measureViewportSize",value:function(){var e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}},{key:"_markChangeDetectionNeeded",value:function(e){var t=this;e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular((function(){return Promise.resolve().then((function(){t._doChangeDetection()}))})))}},{key:"_doChangeDetection",value:function(){var e=this;this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run((function(){return e._changeDetectorRef.markForCheck()}));var t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];var n,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;)(0,n.value)()}catch(r){i.e(r)}finally{i.f()}}},{key:"_calculateSpacerSize",value:function(){this._totalContentHeight="horizontal"===this.orientation?"":this._totalContentSize+"px",this._totalContentWidth="horizontal"===this.orientation?this._totalContentSize+"px":""}},{key:"orientation",get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}},{key:"appendOnly",get:function(){return this._appendOnly},set:function(e){this._appendOnly=function(e){return null!=e&&""+e!="false"}(e)}}]),n}(G)).\u0275fac=function(e){return new(e||H)(i.Tb(i.n),i.Tb(i.i),i.Tb(i.E),i.Tb(I,8),i.Tb(w,8),i.Tb(Y),i.Tb(V))},H.\u0275cmp=i.Nb({type:H,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,t){var n;1&e&&i.Nc(x,!0),2&e&&i.Dc(n=i.ic())&&(t._contentWrapper=n.first)},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,t){2&e&&i.Lb("cdk-virtual-scroll-orientation-horizontal","horizontal"===t.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==t.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[i.Gb([{provide:G,useExisting:H}]),i.Eb],ngContentSelectors:D,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,t){1&e&&(i.rc(),i.Zb(0,"div",0,1),i.qc(2),i.Yb(),i.Ub(3,"div",2)),2&e&&(i.Hb(3),i.Pc("width",t._totalContentWidth)("height",t._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),H);function K(e,t,n){if(!n.getBoundingClientRect)return 0;var i=n.getBoundingClientRect();return"horizontal"===e?"start"===t?i.left:i.right:"start"===t?i.top:i.bottom}var z,Q,X,q=((X=function(){function e(t,n,i,r,a,s){var c=this;_classCallCheck(this,e),this._viewContainerRef=t,this._template=n,this._differs=i,this._viewRepeater=r,this._viewport=a,this.viewChange=new o.a,this._dataSourceChanges=new o.a,this.dataStream=this._dataSourceChanges.pipe(Object(y.a)(null),Object(_.a)(),Object(C.a)((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return c._changeDataSource(n,i)})),Object(k.a)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new o.a,this.dataStream.subscribe((function(e){c._data=e,c._onRenderedDataChange()})),this._viewport.renderedRangeStream.pipe(Object(b.a)(this._destroyed)).subscribe((function(e){c._renderedRange=e,s.run((function(){return c.viewChange.next(c._renderedRange)})),c._onRenderedDataChange()})),this._viewport.attach(this)}return _createClass(e,[{key:"measureRangeSize",value:function(e,t){if(e.start>=e.end)return 0;for(var n,i,r=e.start-this._renderedRange.start,o=e.end-e.start,a=0;a<o;a++){var s=this._viewContainerRef.get(a+r);if(s&&s.rootNodes.length){n=i=s.rootNodes[0];break}}for(var c=o-1;c>-1;c--){var l=this._viewContainerRef.get(c+r);if(l&&l.rootNodes.length){i=l.rootNodes[l.rootNodes.length-1];break}}return n&&i?K(t,"end",i)-K(t,"start",n):0}},{key:"ngDoCheck",value:function(){if(this._differ&&this._needsUpdate){var e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}},{key:"ngOnDestroy",value:function(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}},{key:"_onRenderedDataChange",value:function(){var e=this;this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((function(t,n){return e.cdkVirtualForTrackBy?e.cdkVirtualForTrackBy(t,n):n}))),this._needsUpdate=!0)}},{key:"_changeDataSource",value:function(e,t){return e&&e.disconnect(this),this._needsUpdate=!0,t?t.connect(this):Object(a.a)()}},{key:"_updateContext",value:function(){for(var e=this._data.length,t=this._viewContainerRef.length;t--;){var n=this._viewContainerRef.get(t);n.context.index=this._renderedRange.start+t,n.context.count=e,this._updateComputedContextProperties(n.context),n.detectChanges()}}},{key:"_applyChanges",value:function(e){var t=this;this._viewRepeater.applyChanges(e,this._viewContainerRef,(function(e,n,i){return t._getEmbeddedViewArgs(e,i)}),(function(e){return e.item})),e.forEachIdentityChange((function(e){t._viewContainerRef.get(e.currentIndex).context.$implicit=e.item}));for(var n=this._data.length,i=this._viewContainerRef.length;i--;){var r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=n,this._updateComputedContextProperties(r.context)}}},{key:"_updateComputedContextProperties",value:function(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}},{key:"_getEmbeddedViewArgs",value:function(e,t){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:t}}},{key:"cdkVirtualForOf",get:function(){return this._cdkVirtualForOf},set:function(e){this._cdkVirtualForOf=e,function(e){return e&&"function"==typeof e.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new E(h(e)?e:Array.from(e||[])))}},{key:"cdkVirtualForTrackBy",get:function(){return this._cdkVirtualForTrackBy},set:function(e){var t=this;this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?function(n,i){return e(n+(t._renderedRange?t._renderedRange.start:0),i)}:void 0}},{key:"cdkVirtualForTemplate",set:function(e){e&&(this._needsUpdate=!0,this._template=e)}},{key:"cdkVirtualForTemplateCacheSize",get:function(){return this._viewRepeater.viewCacheSize},set:function(e){this._viewRepeater.viewCacheSize=r(e)}}]),e}()).\u0275fac=function(e){return new(e||X)(i.Tb(i.S),i.Tb(i.P),i.Tb(i.w),i.Tb(M),i.Tb(W,4),i.Tb(i.E))},X.\u0275dir=i.Ob({type:X,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[i.Gb([{provide:M,useClass:P}])]}),X),$=((Q=function e(){_classCallCheck(this,e)}).\u0275mod=i.Rb({type:Q}),Q.\u0275inj=i.Qb({factory:function(e){return new(e||Q)}}),Q),J=((z=function e(){_classCallCheck(this,e)}).\u0275mod=i.Rb({type:z}),z.\u0275inj=i.Qb({factory:function(e){return new(e||z)},imports:[[A,S.b,$],A,$]}),z)},"w/wX":function(e,t,n){var i=n("QqLw"),r=n("ExA7");e.exports=function(e){return r(e)&&"[object Set]"==i(e)}},w0Vi:function(e,t,n){"use strict";var i=n("xTJ+"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(i.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(a[t]&&r.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},w1tV:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("oB13"),r=n("x+ZX"),o=n("XNiG");function a(){return new o.a}function s(){return function(e){return Object(r.a)()(Object(i.a)(a)(e))}}},wJg7:function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},wMS7:function(e,t,n){e.exports=function(){"use strict";var e=Object.hasOwnProperty,t=Object.setPrototypeOf,n=Object.isFrozen,i=Object.getPrototypeOf,r=Object.getOwnPropertyDescriptor,o=Object.freeze,a=Object.seal,s=Object.create,c="undefined"!=typeof Reflect&&Reflect,l=c.apply,u=c.construct;l||(l=function(e,t,n){return e.apply(t,n)}),o||(o=function(e){return e}),a||(a=function(e){return e}),u||(u=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var d,h=S(Array.prototype.forEach),f=S(Array.prototype.pop),p=S(Array.prototype.push),g=S(String.prototype.toLowerCase),v=S(String.prototype.match),m=S(String.prototype.replace),b=S(String.prototype.indexOf),y=S(String.prototype.trim),C=S(RegExp.prototype.test),k=(d=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(d,t)});function S(e){return function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return l(e,t,i)}}function O(e,i){t&&t(e,null);for(var r=i.length;r--;){var o=i[r];if("string"==typeof o){var a=g(o);a!==o&&(n(i)||(i[r]=a),o=a)}e[o]=!0}return e}function T(t){var n=s(null),i=void 0;for(i in t)l(e,t,[i])&&(n[i]=t[i]);return n}function w(e,t){for(;null!==e;){var n=r(e,t);if(n){if(n.get)return S(n.get);if("function"==typeof n.value)return S(n.value)}e=i(e)}return null}var A=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),P=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),M=o(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),x=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),D=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),I=o(["#text"]),L=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),R=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),N=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),j=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),B=a(/\{\{[\s\S]*|[\s\S]*\}\}/gm),F=a(/<%[\s\S]*|[\s\S]*%>/gm),H=a(/^data-[\-\w.\u00B7-\uFFFF]/),U=a(/^aria-[\-\w]+$/),Y=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),G=a(/^(?:\w+script|data):/i),V=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function W(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var K=function(){return"undefined"==typeof window?null:window},z=function(e,t){if("object"!==(void 0===e?"undefined":Z(e))||"function"!=typeof e.createPolicy)return null;var n=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=t.currentScript.getAttribute("data-tt-policy-suffix"));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(e){return e}})}catch(_){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K(),n=function(t){return e(t)};if(n.version="2.2.6",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var i=t.document,r=t.document,a=t.DocumentFragment,s=t.HTMLTemplateElement,c=t.Node,l=t.Element,u=t.NodeFilter,d=t.NamedNodeMap,S=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,Q=t.Text,X=t.Comment,q=t.DOMParser,$=t.trustedTypes,J=l.prototype,ee=w(J,"cloneNode"),te=w(J,"nextSibling"),ne=w(J,"childNodes"),ie=w(J,"parentNode");if("function"==typeof s){var re=r.createElement("template");re.content&&re.content.ownerDocument&&(r=re.content.ownerDocument)}var oe=z($,i),ae=oe&&Be?oe.createHTML(""):"",se=r,ce=se.implementation,le=se.createNodeIterator,ue=se.getElementsByTagName,de=se.createDocumentFragment,he=i.importNode,fe={};try{fe=T(r).documentMode?r.documentMode:{}}catch(_){}var pe={};n.isSupported=ce&&void 0!==ce.createHTMLDocument&&9!==fe;var ge=B,ve=F,me=H,be=U,ye=G,_e=V,Ce=Y,ke=null,Se=O({},[].concat(W(A),W(E),W(P),W(x),W(I))),Oe=null,Te=O({},[].concat(W(L),W(R),W(N),W(j))),we=null,Ae=null,Ee=!0,Pe=!0,Me=!1,xe=!1,De=!1,Ie=!1,Le=!1,Re=!1,Ne=!1,je=!0,Be=!1,Fe=!0,He=!0,Ue=!1,Ye={},Ge=O({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ve=null,Ze=O({},["audio","video","img","source","image","track"]),We=null,Ke=O({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),ze=null,Qe=r.createElement("form"),Xe=function(e){ze&&ze===e||(e&&"object"===(void 0===e?"undefined":Z(e))||(e={}),e=T(e),ke="ALLOWED_TAGS"in e?O({},e.ALLOWED_TAGS):Se,Oe="ALLOWED_ATTR"in e?O({},e.ALLOWED_ATTR):Te,We="ADD_URI_SAFE_ATTR"in e?O(T(Ke),e.ADD_URI_SAFE_ATTR):Ke,Ve="ADD_DATA_URI_TAGS"in e?O(T(Ze),e.ADD_DATA_URI_TAGS):Ze,we="FORBID_TAGS"in e?O({},e.FORBID_TAGS):{},Ae="FORBID_ATTR"in e?O({},e.FORBID_ATTR):{},Ee=!1!==e.ALLOW_ARIA_ATTR,Pe=!1!==e.ALLOW_DATA_ATTR,Me=e.ALLOW_UNKNOWN_PROTOCOLS||!1,De=e.WHOLE_DOCUMENT||!1,Re=e.RETURN_DOM||!1,je=!1!==e.RETURN_DOM_IMPORT,Be=e.RETURN_TRUSTED_TYPE||!1,Le=e.FORCE_BODY||!1,Fe=!1!==e.SANITIZE_DOM,He=!1!==e.KEEP_CONTENT,Ue=e.IN_PLACE||!1,Ce=e.ALLOWED_URI_REGEXP||Ce,(xe=e.SAFE_FOR_TEMPLATES||!1)&&(Pe=!1),(Ne=e.RETURN_DOM_FRAGMENT||!1)&&(Re=!0),(Ye="USE_PROFILES"in e&&e.USE_PROFILES)&&(ke=O({},[].concat(W(I))),Oe=[],!0===Ye.html&&(O(ke,A),O(Oe,L)),!0===Ye.svg&&(O(ke,E),O(Oe,R),O(Oe,j)),!0===Ye.svgFilters&&(O(ke,P),O(Oe,R),O(Oe,j)),!0===Ye.mathMl&&(O(ke,x),O(Oe,N),O(Oe,j))),e.ADD_TAGS&&(ke===Se&&(ke=T(ke)),O(ke,e.ADD_TAGS)),e.ADD_ATTR&&(Oe===Te&&(Oe=T(Oe)),O(Oe,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&O(We,e.ADD_URI_SAFE_ATTR),He&&(ke["#text"]=!0),De&&O(ke,["html","head","body"]),ke.table&&(O(ke,["tbody"]),delete we.tbody),o&&o(e),ze=e)},qe=O({},["mi","mo","mn","ms","mtext"]),$e=O({},["foreignobject","desc","title","annotation-xml"]),Je=O({},E);O(Je,P),O(Je,M);var et=O({},x);O(et,D);var tt="http://www.w3.org/1998/Math/MathML",nt="http://www.w3.org/2000/svg",it="http://www.w3.org/1999/xhtml",rt=function(e){var t=ie(e);t&&t.tagName||(t={namespaceURI:it,tagName:"template"});var n=g(e.tagName),i=g(t.tagName);if(e.namespaceURI===nt)return t.namespaceURI===it?"svg"===n:t.namespaceURI===tt?"svg"===n&&("annotation-xml"===i||qe[i]):Boolean(Je[n]);if(e.namespaceURI===tt)return t.namespaceURI===it?"math"===n:t.namespaceURI===nt?"math"===n&&$e[i]:Boolean(et[n]);if(e.namespaceURI===it){if(t.namespaceURI===nt&&!$e[i])return!1;if(t.namespaceURI===tt&&!qe[i])return!1;var r=O({},["title","style","font","a","script"]);return!et[n]&&(r[n]||!Je[n])}return!1},ot=function(e){p(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(_){try{e.outerHTML=ae}catch(_){e.remove()}}},at=function(e,t){try{p(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(_){p(n.removed,{attribute:null,from:t})}t.removeAttribute(e)},st=function(e){var t=void 0,n=void 0;if(Le)e="<remove></remove>"+e;else{var i=v(e,/^[\r\n\t ]+/);n=i&&i[0]}var o=oe?oe.createHTML(e):e;try{t=(new q).parseFromString(o,"text/html")}catch(_){}if(!t||!t.documentElement){var a=(t=ce.createHTMLDocument("")).body;a.parentNode.removeChild(a.parentNode.firstElementChild),a.outerHTML=o}return e&&n&&t.body.insertBefore(r.createTextNode(n),t.body.childNodes[0]||null),ue.call(t,De?"html":"body")[0]},ct=function(e){return le.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,(function(){return u.FILTER_ACCEPT}),!1)},lt=function(e){return!(e instanceof Q||e instanceof X||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof S&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI&&"function"==typeof e.insertBefore)},ut=function(e){return"object"===(void 0===c?"undefined":Z(c))?e instanceof c:e&&"object"===(void 0===e?"undefined":Z(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},dt=function(e,t,i){pe[e]&&h(pe[e],(function(e){e.call(n,t,i,ze)}))},ht=function(e){var t=void 0;if(dt("beforeSanitizeElements",e,null),lt(e))return ot(e),!0;if(v(e.nodeName,/[\u0080-\uFFFF]/))return ot(e),!0;var i=g(e.nodeName);if(dt("uponSanitizeElement",e,{tagName:i,allowedTags:ke}),!ut(e.firstElementChild)&&(!ut(e.content)||!ut(e.content.firstElementChild))&&C(/<[/\w]/g,e.innerHTML)&&C(/<[/\w]/g,e.textContent))return ot(e),!0;if(!ke[i]||we[i]){if(He&&!Ge[i])for(var r=ie(e),o=ne(e),a=o.length-1;a>=0;--a)r.insertBefore(ee(o[a],!0),te(e));return ot(e),!0}return e instanceof l&&!rt(e)?(ot(e),!0):"noscript"!==i&&"noembed"!==i||!C(/<\/no(script|embed)/i,e.innerHTML)?(xe&&3===e.nodeType&&(t=m(t=e.textContent,ge," "),t=m(t,ve," "),e.textContent!==t&&(p(n.removed,{element:e.cloneNode()}),e.textContent=t)),dt("afterSanitizeElements",e,null),!1):(ot(e),!0)},ft=function(e,t,n){if(Fe&&("id"===t||"name"===t)&&(n in r||n in Qe))return!1;if(Pe&&C(me,t));else if(Ee&&C(be,t));else{if(!Oe[t]||Ae[t])return!1;if(We[t]);else if(C(Ce,m(n,_e,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==b(n,"data:")||!Ve[e])if(Me&&!C(ye,m(n,_e,"")));else if(n)return!1}return!0},pt=function(e){var t=void 0,i=void 0,r=void 0,o=void 0;dt("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Oe};for(o=a.length;o--;){var c=(t=a[o]).name,l=t.namespaceURI;if(i=y(t.value),r=g(c),s.attrName=r,s.attrValue=i,s.keepAttr=!0,s.forceKeepAttr=void 0,dt("uponSanitizeAttribute",e,s),i=s.attrValue,!s.forceKeepAttr&&(at(c,e),s.keepAttr))if(C(/\/>/i,i))at(c,e);else{xe&&(i=m(i,ge," "),i=m(i,ve," "));var u=e.nodeName.toLowerCase();if(ft(u,r,i))try{l?e.setAttributeNS(l,c,i):e.setAttribute(c,i),f(n.removed)}catch(_){}}}dt("afterSanitizeAttributes",e,null)}},gt=function e(t){var n=void 0,i=ct(t);for(dt("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)dt("uponSanitizeShadowNode",n,null),ht(n)||(n.content instanceof a&&e(n.content),pt(n));dt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,r){var o=void 0,s=void 0,l=void 0,u=void 0,d=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!ut(e)){if("function"!=typeof e.toString)throw k("toString is not a function");if("string"!=typeof(e=e.toString()))throw k("dirty is not a string, aborting")}if(!n.isSupported){if("object"===Z(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(ut(e))return t.toStaticHTML(e.outerHTML)}return e}if(Ie||Xe(r),n.removed=[],"string"==typeof e&&(Ue=!1),Ue);else if(e instanceof c)1===(s=(o=st("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?o=s:o.appendChild(s);else{if(!Re&&!xe&&!De&&-1===e.indexOf("<"))return oe&&Be?oe.createHTML(e):e;if(!(o=st(e)))return Re?null:ae}o&&Le&&ot(o.firstChild);for(var h=ct(Ue?e:o);l=h.nextNode();)3===l.nodeType&&l===u||ht(l)||(l.content instanceof a&&gt(l.content),pt(l),u=l);if(u=null,Ue)return e;if(Re){if(Ne)for(d=de.call(o.ownerDocument);o.firstChild;)d.appendChild(o.firstChild);else d=o;return je&&(d=he.call(i,d,!0)),d}var f=De?o.outerHTML:o.innerHTML;return xe&&(f=m(f,ge," "),f=m(f,ve," ")),oe&&Be?oe.createHTML(f):f},n.setConfig=function(e){Xe(e),Ie=!0},n.clearConfig=function(){ze=null,Ie=!1},n.isValidAttribute=function(e,t,n){ze||Xe({});var i=g(e),r=g(t);return ft(i,r,n)},n.addHook=function(e,t){"function"==typeof t&&(pe[e]=pe[e]||[],p(pe[e],t))},n.removeHook=function(e){pe[e]&&f(pe[e])},n.removeHooks=function(e){pe[e]&&(pe[e]=[])},n.removeAllHooks=function(){pe={}},n}()}()},wYrS:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("fXoL"),r=n("3Pt+"),o=n("R0Ic"),a=Object(o.f)([Object(o.n)("openCloseModal",[Object(o.m)(":enter",[Object(o.l)({transform:"translate(-50%, 2000px)",opacity:0}),Object(o.e)(".5s cubic-bezier(0.165, 0.84, 0.44, 1)",Object(o.l)({transform:"translate(-50%, 0)",opacity:1}))]),Object(o.m)(":leave",[Object(o.l)({transform:"translate(-50%, 0)",opacity:1}),Object(o.e)(".5s cubic-bezier(0.165, 0.84, 0.44, 1)",Object(o.l)({transform:"translate(-50%, 20px)",opacity:0}))])])]),s=n("uQub"),c=n("y4gz"),l=n("ofXK"),u=n("KC5F"),d=n("VXoX");function h(e,t){if(1&e){var n=i.ac();i.Zb(0,"div",2),i.hc("click",(function(){i.Hc(n);var e=i.jc();return e.isMobile?e.closeModal():null})),i.Yb()}}function f(e,t){1&e&&(i.Zb(0,"small",24),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"ERROR_LABEL_PROMOCODE")," "))}function p(e,t){if(1&e){var n=i.ac();i.Zb(0,"button",25),i.hc("click",(function(){return i.Hc(n),i.jc(2).removePromocode()})),i.Zb(1,"div",26),i.Zb(2,"span"),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb()}2&e&&(i.Hb(3),i.Tc(i.lc(4,1,"BOOKER_ACTION_PROMOCODE-REMOVE")))}function g(e,t){if(1&e){var n=i.ac();i.Zb(0,"div",3),i.Zb(1,"div",4),i.Zb(2,"div",5),i.Zb(3,"button",6),i.hc("click",(function(){return i.Hc(n),i.jc().closeModal()})),i.Ub(4,"i",7),i.Yb(),i.Zb(5,"h3",8),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(8,"div",9),i.Zb(9,"p",10),i.Sc(10),i.kc(11,"cmsTranslate"),i.Yb(),i.Zb(12,"form",11),i.hc("ngSubmit",(function(){return i.Hc(n),i.jc().sendPromocode()})),i.Zb(13,"div",12),i.Ub(14,"input",13),i.kc(15,"cmsTranslate"),i.Ub(16,"i",14),i.Zb(17,"label",15),i.Sc(18),i.kc(19,"cmsTranslate"),i.Yb(),i.Ub(20,"div",16),i.Zb(21,"div",17),i.Ub(22,"i",18),i.Yb(),i.Zb(23,"div",19),i.Ub(24,"i",7),i.Yb(),i.Yb(),i.Qc(25,f,3,3,"small",20),i.Ub(26,"hr",21),i.Zb(27,"button",22),i.Zb(28,"span"),i.Sc(29),i.kc(30,"cmsTranslate"),i.Yb(),i.Yb(),i.Qc(31,p,5,3,"button",23),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&e){var r=i.jc();i.sc("@openCloseModal",void 0),i.Hb(6),i.Uc(" ",i.lc(7,10,"BOOKER_LABEL_ADDPROMOCODE-TITLE")," "),i.Hb(4),i.Uc(" ",i.lc(11,12,"BOOKER_LABEL_ADDPROMOCODE-SUPPORT")," "),i.Hb(2),i.sc("formGroup",r.promocodeForm),i.Hb(2),i.sc("placeholder",i.lc(15,14,"BOOKER_LABEL_PROMOCODE-PLACEHOLDER")),i.Hb(4),i.Tc(i.lc(19,16,"BOOKER_LABEL_PROMOCODE")),i.Hb(7),i.sc("ngIf",r.promocodeForm.invalid&&r.promocodeForm.touched),i.Hb(2),i.sc("disabled",r.promocodeForm.invalid),i.Hb(2),i.Uc(" ",i.lc(30,18,r.promocode?"BOOKER_ACTION_PROMOCODE-UPDATE":"GLOBAL_ACTION_ADD")," "),i.Hb(2),i.sc("ngIf",r.promocode)}}var v,m=((v=function(){function e(t,n){_classCallCheck(this,e),this.modalService=t,this.datalayerUxHome=n,this.showModal=!1,this.isMobile=!1,this.promocodeForm=new r.l({promocode:new r.i("",[r.I.required,r.I.minLength(4),r.I.maxLength(8)])}),this.promocode=void 0,this.typedPromocode=new i.p}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;window.innerWidth<=575&&(this.isMobile=!0),this.modalService.showModal$.subscribe((function(t){e.showModal=t,t&&e.onModalOpen()}))}},{key:"closeModal",value:function(){this.promocodeForm.reset(),this.modalService.closeModal()}},{key:"onModalOpen",value:function(){this.promocodeForm.reset({promocode:this.promocode||""})}},{key:"sendPromocode",value:function(){this.typedPromocode.emit(this.promocodeForm.value.promocode.toUpperCase()),this.datalayerUxHome.selectPromoCode(this.promocodeForm.value.promocode.toUpperCase()),this.modalService.closeModal()}},{key:"removePromocode",value:function(){this.typedPromocode.emit(null),this.modalService.closeModal()}}]),e}()).\u0275fac=function(e){return new(e||v)(i.Tb(s.a),i.Tb(c.a))},v.\u0275cmp=i.Nb({type:v,selectors:[["app-coupons-modal"]],inputs:{promocode:"promocode"},outputs:{typedPromocode:"typedPromocode"},decls:2,vars:2,consts:[["class","overlay",3,"click",4,"ngIf"],["class","coupon-modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"coupon-modal"],[1,"coupon-modal-container"],[1,"coupon-modal-header"],[1,"modal-close","green",3,"click"],[1,"fas","fa-times"],[1,"title","coupon-modal-title"],[1,"coupon-modal-body"],[1,"mt-0","mb-2"],[3,"formGroup","ngSubmit"],[1,"viva-input-field","coupon-modal-input"],["id","promocode","name","promocode","type","text","required","","appNoSpecialCharacters","","formControlName","promocode",3,"placeholder"],[1,"fas","fa-ticket-alt"],["for","promocode"],[1,"divider"],[1,"valid"],[1,"fas","fa-check"],[1,"error"],["class","viva-input-field-error",4,"ngIf"],[1,"coupon-modal-divider"],[1,"viva-btn","big","light","w-100","mb-3",3,"disabled"],["type","button","class","viva-btn normal height-auto d-block mx-auto",3,"click",4,"ngIf"],[1,"viva-input-field-error"],["type","button",1,"viva-btn","normal","height-auto","d-block","mx-auto",3,"click"],[1,"content"]],template:function(e,t){1&e&&(i.Qc(0,h,1,0,"div",0),i.Qc(1,g,32,20,"div",1)),2&e&&(i.sc("ngIf",t.showModal),i.Hb(1),i.sc("ngIf",t.showModal))},directives:[l.u,r.K,r.v,r.m,r.d,r.F,u.a,r.u,r.k],pipes:[d.a],styles:[".coupon-modal[_ngcontent-%COMP%]{position:fixed;top:190px;left:50%;width:400px;min-height:405px;z-index:11;transform:translateX(-50%)}@media screen and (max-width:575px){.coupon-modal[_ngcontent-%COMP%]{width:100%;top:inherit;bottom:0}}.coupon-modal-container[_ngcontent-%COMP%]{background-color:var(--wh1);position:relative;width:100%;height:100%;border-radius:5px;overflow:hidden}@media screen and (max-width:575px){.coupon-modal-container[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:10px;border-top-right-radius:10px}}.coupon-modal-header[_ngcontent-%COMP%]{background:var(--bg4);padding:60px 40px 20px}@media screen and (max-width:575px){.coupon-modal-header[_ngcontent-%COMP%]{padding:60px 20px 20px}}.coupon-modal-body[_ngcontent-%COMP%]{padding:30px 40px}@media screen and (max-width:575px){.coupon-modal-body[_ngcontent-%COMP%]{padding:20px}}.coupon-modal-title[_ngcontent-%COMP%]{margin:0 0 10px;color:var(--wh1);width:50%;font-size:28px;line-height:1.15}.coupon-modal-divider[_ngcontent-%COMP%]{margin:20px 0;background-color:var(--gr20);opacity:1;border:none}@media screen and (max-width:575px){.valid[_ngcontent-%COMP%]{width:15px;height:15px;background-color:var(--vg4);top:0;bottom:0;right:20px;margin:auto 0}.valid[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:11px;color:var(--wh1)}}"],data:{animation:[a.animation]}}),v)},waG0:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var i=function(e){return e.DEPARTED_DELAYED="DELAYED",e.CANCELLED="CANCELLED",e.ARRIVED="ARRIVED",e.NOT_AVAILABLE="NOT_AVAILABLE",e.IN_FLIGHT="IN_FLIGHT",e.ON_TIME="ON_TIME",e.DIVERTED="DIVERTED",e.DEPARTED_ON_TIME="DEPARTED_ON_TIME",e}({}),r=function e(){_classCallCheck(this,e)},o=function(e){return e.FlightNumber="flightNumber",e.Route="route",e}({}),a=function(e){return e.WEATHER="WEATHER",e.INFORMATION="INFORMATION",e.WARNING="WARNING",e.AIRPORT="AIRPORT",e}({})},wbuz:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ofXK"),r=n("o5mt"),o=n("fXoL"),a=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)},imports:[[i.c,r.a]]}),e}()},"wd/R":function(e,t,n){(function(e){e.exports=function(){"use strict";var t,i;function r(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function l(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,i=[],r=e.length;for(n=0;n<r;++n)i.push(t(e[n],n));return i}function f(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,i){return Ot(e,t,n,i,!0).utc()}function g(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function v(e){if(null==e._isValid){var t=g(e),n=i.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function m(e){var t=p(NaN);return null!=e?f(g(t),e):g(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),i=n.length>>>0;for(t=0;t<i;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=r.momentProperties=[],y=!1;function _(e,t){var n,i,r,o=b.length;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=g(t)),l(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)l(r=t[i=b[n]])||(e[i]=r);return e}function C(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,r.updateOffset(this),y=!1)}function k(e){return e instanceof C||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function O(e,t){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,o,a,c=[],l=arguments.length;for(o=0;o<l;o++){if(i="","object"==typeof arguments[o]){for(a in i+="\n["+o+"] ",arguments[0])s(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];c.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var T,w={};function A(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),w[e]||(S(t),w[e]=!0)}function E(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function P(e,t){var n,i=f({},e);for(n in t)s(t,n)&&(a(e[n])&&a(t[n])?(i[n]={},f(i[n],e[n]),f(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)s(e,n)&&!s(t,n)&&a(e[n])&&(i[n]=f({},i[n]));return i}function M(e){null!=e&&this.set(e)}function x(e,t,n){var i=""+Math.abs(e);return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,t-i.length)).toString().substr(1)+i}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var D=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,I=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,L={},R={};function N(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(R[e]=r),t&&(R[t[0]]=function(){return x(r.apply(this,arguments),t[1],t[2])}),n&&(R[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function j(e,t){return e.isValid()?(t=B(t,e.localeData()),L[t]=L[t]||function(e){var t,n,i,r=e.match(D);for(t=0,n=r.length;t<n;t++)r[t]=R[r[t]]?R[r[t]]:(i=r[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,o="";for(i=0;i<n;i++)o+=E(r[i])?r[i].call(t,e):r[i];return o}}(t),L[t](e)):e.localeData().invalidDate()}function B(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(I.lastIndex=0;n>=0&&I.test(e);)e=e.replace(I,i),I.lastIndex=0,n-=1;return e}var F={};function H(e,t){var n=e.toLowerCase();F[n]=F[n+"s"]=F[t]=e}function U(e){return"string"==typeof e?F[e]||F[e.toLowerCase()]:void 0}function Y(e){var t,n,i={};for(n in e)s(e,n)&&(t=U(n))&&(i[t]=e[n]);return i}var G={};function V(e,t){G[e]=t}function Z(e){return e%4==0&&e%100!=0||e%400==0}function W(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function K(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=W(t)),n}function z(e,t){return function(n){return null!=n?(X(this,e,n),r.updateOffset(this,t),this):Q(this,e)}}function Q(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function X(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Z(e.year())&&1===e.month()&&29===e.date()?(n=K(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ke(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var q,$=/\d/,J=/\d\d/,ee=/\d{3}/,te=/\d{4}/,ne=/[+-]?\d{6}/,ie=/\d\d?/,re=/\d\d\d\d?/,oe=/\d\d\d\d\d\d?/,ae=/\d{1,3}/,se=/\d{1,4}/,ce=/[+-]?\d{1,6}/,le=/\d+/,ue=/[+-]?\d+/,de=/Z|[+-]\d\d:?\d\d/gi,he=/Z|[+-]\d\d(?::?\d\d)?/gi,fe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function pe(e,t,n){q[e]=E(t)?t:function(e,i){return e&&n?n:t}}function ge(e,t){return s(q,e)?q[e](t._strict,t._locale):new RegExp(ve(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,r){return t||n||i||r}))))}function ve(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}q={};var me,be={};function ye(e,t){var n,i,r=t;for("string"==typeof e&&(e=[e]),u(t)&&(r=function(e,n){n[t]=K(e)}),i=e.length,n=0;n<i;n++)be[e[n]]=r}function _e(e,t){ye(e,(function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)}))}function Ce(e,t,n){null!=t&&s(be,e)&&be[e](t,n._a,n,e)}function ke(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1===n?Z(e)?29:28:31-n%7%2}me=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},N("M",["MM",2],"Mo",(function(){return this.month()+1})),N("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),N("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),H("month","M"),V("month",8),pe("M",ie),pe("MM",ie,J),pe("MMM",(function(e,t){return t.monthsShortRegex(e)})),pe("MMMM",(function(e,t){return t.monthsRegex(e)})),ye(["M","MM"],(function(e,t){t[1]=K(e)-1})),ye(["MMM","MMMM"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[1]=r:g(n).invalidMonth=e}));var Se="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Oe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Te=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,we=fe,Ae=fe;function Ee(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=me.call(this._shortMonthsParse,a))?r:null:-1!==(r=me.call(this._longMonthsParse,a))?r:null:"MMM"===t?-1!==(r=me.call(this._shortMonthsParse,a))||-1!==(r=me.call(this._longMonthsParse,a))?r:null:-1!==(r=me.call(this._longMonthsParse,a))||-1!==(r=me.call(this._shortMonthsParse,a))?r:null}function Pe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=K(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),ke(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Me(e){return null!=e?(Pe(this,e),r.updateOffset(this,!0),this):Q(this,"Month")}function xe(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)i[t]=ve(i[t]),r[t]=ve(r[t]);for(t=0;t<24;t++)o[t]=ve(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function De(e){return Z(e)?366:365}N("Y",0,0,(function(){var e=this.year();return e<=9999?x(e,4):"+"+e})),N(0,["YY",2],0,(function(){return this.year()%100})),N(0,["YYYY",4],0,"year"),N(0,["YYYYY",5],0,"year"),N(0,["YYYYYY",6,!0],0,"year"),H("year","y"),V("year",1),pe("Y",ue),pe("YY",ie,J),pe("YYYY",se,te),pe("YYYYY",ce,ne),pe("YYYYYY",ce,ne),ye(["YYYYY","YYYYYY"],0),ye("YYYY",(function(e,t){t[0]=2===e.length?r.parseTwoDigitYear(e):K(e)})),ye("YY",(function(e,t){t[0]=r.parseTwoDigitYear(e)})),ye("Y",(function(e,t){t[0]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return K(e)+(K(e)>68?1900:2e3)};var Ie=z("FullYear",!0);function Le(e,t,n,i,r,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,i,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,o,a),s}function Re(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ne(e,t,n){var i=7+t-n;return-(7+Re(e,0,i).getUTCDay()-t)%7+i-1}function je(e,t,n,i,r){var o,a,s=1+7*(t-1)+(7+n-i)%7+Ne(e,i,r);return s<=0?a=De(o=e-1)+s:s>De(e)?(o=e+1,a=s-De(e)):(o=e,a=s),{year:o,dayOfYear:a}}function Be(e,t,n){var i,r,o=Ne(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?i=a+Fe(r=e.year()-1,t,n):a>Fe(e.year(),t,n)?(i=a-Fe(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function Fe(e,t,n){var i=Ne(e,t,n),r=Ne(e+1,t,n);return(De(e)-i+r)/7}function He(e,t){return e.slice(t,7).concat(e.slice(0,t))}N("w",["ww",2],"wo","week"),N("W",["WW",2],"Wo","isoWeek"),H("week","w"),H("isoWeek","W"),V("week",5),V("isoWeek",5),pe("w",ie),pe("ww",ie,J),pe("W",ie),pe("WW",ie,J),_e(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=K(e)})),N("d",0,"do","day"),N("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),N("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),N("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),N("e",0,0,"weekday"),N("E",0,0,"isoWeekday"),H("day","d"),H("weekday","e"),H("isoWeekday","E"),V("day",11),V("weekday",11),V("isoWeekday",11),pe("d",ie),pe("e",ie),pe("E",ie),pe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),pe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),pe("dddd",(function(e,t){return t.weekdaysRegex(e)})),_e(["dd","ddd","dddd"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:g(n).invalidWeekday=e})),_e(["d","e","E"],(function(e,t,n,i){t[i]=K(e)}));var Ue="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ye="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ge="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ve=fe,Ze=fe,We=fe;function Ke(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=me.call(this._weekdaysParse,a))?r:null:"ddd"===t?-1!==(r=me.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=me.call(this._minWeekdaysParse,a))?r:null:"dddd"===t?-1!==(r=me.call(this._weekdaysParse,a))||-1!==(r=me.call(this._shortWeekdaysParse,a))||-1!==(r=me.call(this._minWeekdaysParse,a))?r:null:"ddd"===t?-1!==(r=me.call(this._shortWeekdaysParse,a))||-1!==(r=me.call(this._weekdaysParse,a))||-1!==(r=me.call(this._minWeekdaysParse,a))?r:null:-1!==(r=me.call(this._minWeekdaysParse,a))||-1!==(r=me.call(this._weekdaysParse,a))||-1!==(r=me.call(this._shortWeekdaysParse,a))?r:null}function ze(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],c=[],l=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),i=ve(this.weekdaysMin(n,"")),r=ve(this.weekdaysShort(n,"")),o=ve(this.weekdays(n,"")),a.push(i),s.push(r),c.push(o),l.push(i),l.push(r),l.push(o);a.sort(e),s.sort(e),c.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Qe(){return this.hours()%12||12}function Xe(e,t){N(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function qe(e,t){return t._meridiemParse}N("H",["HH",2],0,"hour"),N("h",["hh",2],0,Qe),N("k",["kk",2],0,(function(){return this.hours()||24})),N("hmm",0,0,(function(){return""+Qe.apply(this)+x(this.minutes(),2)})),N("hmmss",0,0,(function(){return""+Qe.apply(this)+x(this.minutes(),2)+x(this.seconds(),2)})),N("Hmm",0,0,(function(){return""+this.hours()+x(this.minutes(),2)})),N("Hmmss",0,0,(function(){return""+this.hours()+x(this.minutes(),2)+x(this.seconds(),2)})),Xe("a",!0),Xe("A",!1),H("hour","h"),V("hour",13),pe("a",qe),pe("A",qe),pe("H",ie),pe("h",ie),pe("k",ie),pe("HH",ie,J),pe("hh",ie,J),pe("kk",ie,J),pe("hmm",re),pe("hmmss",oe),pe("Hmm",re),pe("Hmmss",oe),ye(["H","HH"],3),ye(["k","kk"],(function(e,t,n){var i=K(e);t[3]=24===i?0:i})),ye(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ye(["h","hh"],(function(e,t,n){t[3]=K(e),g(n).bigHour=!0})),ye("hmm",(function(e,t,n){var i=e.length-2;t[3]=K(e.substr(0,i)),t[4]=K(e.substr(i)),g(n).bigHour=!0})),ye("hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=K(e.substr(0,i)),t[4]=K(e.substr(i,2)),t[5]=K(e.substr(r)),g(n).bigHour=!0})),ye("Hmm",(function(e,t,n){var i=e.length-2;t[3]=K(e.substr(0,i)),t[4]=K(e.substr(i))})),ye("Hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=K(e.substr(0,i)),t[4]=K(e.substr(i,2)),t[5]=K(e.substr(r))}));var $e,Je=z("Hours",!0),et={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Se,monthsShort:Oe,week:{dow:0,doy:6},weekdays:Ue,weekdaysMin:Ge,weekdaysShort:Ye,meridiemParse:/[ap]\.?m?\.?/i},tt={},nt={};function it(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function rt(e){return e?e.toLowerCase().replace("_","-"):e}function ot(t){var i=null;if(void 0===tt[t]&&void 0!==e&&e&&e.exports&&function(e){return null!=e.match("^[^/\\\\]*$")}(t))try{i=$e._abbr,n("Ce/h")("./"+t),at(i)}catch(r){tt[t]=null}return tt[t]}function at(e,t){var n;return e&&((n=l(t)?ct(e):st(e,t))?$e=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),$e._abbr}function st(e,t){if(null!==t){var n,i=et;if(t.abbr=e,null!=tt[e])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=tt[e]._config;else if(null!=t.parentLocale)if(null!=tt[t.parentLocale])i=tt[t.parentLocale]._config;else{if(null==(n=ot(t.parentLocale)))return nt[t.parentLocale]||(nt[t.parentLocale]=[]),nt[t.parentLocale].push({name:e,config:t}),null;i=n._config}return tt[e]=new M(P(i,t)),nt[e]&&nt[e].forEach((function(e){st(e.name,e.config)})),at(e),tt[e]}return delete tt[e],null}function ct(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return $e;if(!o(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=rt(e[o]).split("-")).length,n=(n=rt(e[o+1]))?n.split("-"):null;t>0;){if(i=ot(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&it(r,n)>=t-1)break;t--}o++}return $e}(e)}function lt(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>ke(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,g(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),g(e)._overflowWeeks&&-1===t&&(t=7),g(e)._overflowWeekday&&-1===t&&(t=8),g(e).overflow=t),e}var ut=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/Z|[+-]\d\d(?::?\d\d)?/,ft=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],gt=/^\/?Date\((-?\d+)/i,vt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,mt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function bt(e){var t,n,i,r,o,a,s=e._i,c=ut.exec(s)||dt.exec(s),l=ft.length,u=pt.length;if(c){for(g(e).iso=!0,t=0,n=l;t<n;t++)if(ft[t][1].exec(c[1])){r=ft[t][0],i=!1!==ft[t][2];break}if(null==r)return void(e._isValid=!1);if(c[3]){for(t=0,n=u;t<n;t++)if(pt[t][1].exec(c[3])){o=(c[2]||" ")+pt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(c[4]){if(!ht.exec(c[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),kt(e)}else e._isValid=!1}function yt(e){var t,n,i,r,o,a,s,c,l,u=vt.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(u){if(n=u[3],i=u[2],r=u[5],o=u[6],a=u[7],s=[(c=u[4],l=parseInt(c,10),l<=49?2e3+l:l<=999?1900+l:l),Oe.indexOf(n),parseInt(i,10),parseInt(r,10),parseInt(o,10)],a&&s.push(parseInt(a,10)),!function(e,t,n){return!e||Ye.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}(u[1],t=s,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return mt[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(u[8],u[9],u[10]),e._d=Re.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function _t(e,t,n){return null!=e?e:null!=t?t:n}function Ct(e){var t,n,i,o,a,s=[];if(!e._d){for(i=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,i,r,o,a,s,c,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=_t(t.GG,e._a[0],Be(Tt(),1,4).year),i=_t(t.W,1),((r=_t(t.E,1))<1||r>7)&&(c=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,l=Be(Tt(),o,a),n=_t(t.gg,e._a[0],l.year),i=_t(t.w,l.week),null!=t.d?((r=t.d)<0||r>6)&&(c=!0):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(c=!0)):r=o),i<1||i>Fe(n,o,a)?g(e)._overflowWeeks=!0:null!=c?g(e)._overflowWeekday=!0:(s=je(n,i,r,o,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=_t(e._a[0],i[0]),(e._dayOfYear>De(a)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=Re(a,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Re:Le).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(g(e).weekdayMismatch=!0)}}function kt(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],g(e).empty=!0;var t,n,i,o,a,s,c,l=""+e._i,u=l.length,d=0;for(c=(i=B(e._f,e._locale).match(D)||[]).length,t=0;t<c;t++)(n=(l.match(ge(o=i[t],e))||[])[0])&&((a=l.substr(0,l.indexOf(n))).length>0&&g(e).unusedInput.push(a),l=l.slice(l.indexOf(n)+n.length),d+=n.length),R[o]?(n?g(e).empty=!1:g(e).unusedTokens.push(o),Ce(o,n,e)):e._strict&&!n&&g(e).unusedTokens.push(o);g(e).charsLeftOver=u-d,l.length>0&&g(e).unusedInput.push(l),e._a[3]<=12&&!0===g(e).bigHour&&e._a[3]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(s=g(e).era)&&(e._a[0]=e._locale.erasConvertYear(s,e._a[0])),Ct(e),lt(e)}else yt(e);else bt(e)}function St(e){var t=e._i,n=e._f;return e._locale=e._locale||ct(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),k(t)?new C(lt(t)):(d(t)?e._d=t:o(n)?function(e){var t,n,i,r,o,a,s=!1,c=e._f.length;if(0===c)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<c;r++)o=0,a=!1,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],kt(t),v(t)&&(a=!0),o+=g(t).charsLeftOver,o+=10*g(t).unusedTokens.length,g(t).score=o,s?o<i&&(i=o,n=t):(null==i||o<i||a)&&(i=o,n=t,a&&(s=!0));f(e,n||t)}(e):n?kt(e):function(e){var t=e._i;l(t)?e._d=new Date(r.now()):d(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=gt.exec(e._i);null===t?(bt(e),!1===e._isValid&&(delete e._isValid,yt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Ct(e)):a(t)?function(e){if(!e._d){var t=Y(e._i);e._a=h([t.year,t.month,void 0===t.day?t.date:t.day,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Ct(e)}}(e):u(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),v(e)||(e._d=null),e))}function Ot(e,t,n,i,r){var s,l={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(a(e)&&c(e)||o(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=r,l._l=n,l._i=e,l._f=t,l._strict=i,(s=new C(lt(St(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Tt(e,t,n,i){return Ot(e,t,n,i,!1)}r.createFromInputFallback=O("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var wt=O("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()})),At=O("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}));function Et(e,t){var n,i;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Tt();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var Pt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Mt(e){var t=Y(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,c=t.hour||0,l=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=function(e){var t,n,i=!1,r=Pt.length;for(t in e)if(s(e,t)&&(-1===me.call(Pt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<r;++n)if(e[Pt[n]]){if(i)return!1;parseFloat(e[Pt[n]])!==K(e[Pt[n]])&&(i=!0)}return!0}(t),this._milliseconds=+d+1e3*u+6e4*l+1e3*c*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=ct(),this._bubble()}function xt(e){return e instanceof Mt}function Dt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function It(e,t){N(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+x(~~(e/60),2)+t+x(~~e%60,2)}))}It("Z",":"),It("ZZ",""),pe("Z",he),pe("ZZ",he),ye(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Rt(he,e)}));var Lt=/([\+\-]|\d\d)/gi;function Rt(e,t){var n,i,r=(t||"").match(e);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(Lt)||["-",0,0])[1]+K(n[2]))?0:"+"===n[0]?i:-i}function Nt(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(k(e)||d(e)?e.valueOf():Tt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Tt(e).local()}function jt(e){return-Math.round(e._d.getTimezoneOffset())}function Bt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ft=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ht=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ut(e,t){var n,i,r,o,a,c,l=e,d=null;return xt(e)?l={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(l={},t?l[t]=+e:l.milliseconds=+e):(d=Ft.exec(e))?(n="-"===d[1]?-1:1,l={y:0,d:K(d[2])*n,h:K(d[3])*n,m:K(d[4])*n,s:K(d[5])*n,ms:K(Dt(1e3*d[6]))*n}):(d=Ht.exec(e))?l={y:Yt(d[2],n="-"===d[1]?-1:1),M:Yt(d[3],n),w:Yt(d[4],n),d:Yt(d[5],n),h:Yt(d[6],n),m:Yt(d[7],n),s:Yt(d[8],n)}:null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(o=Tt(l.from),a=Tt(l.to),r=o.isValid()&&a.isValid()?(a=Nt(a,o),o.isBefore(a)?c=Gt(o,a):((c=Gt(a,o)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},(l={}).ms=r.milliseconds,l.M=r.months),i=new Mt(l),xt(e)&&s(e,"_locale")&&(i._locale=e._locale),xt(e)&&s(e,"_isValid")&&(i._isValid=e._isValid),i}function Yt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Gt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Vt(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(A(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Zt(this,Ut(n,i),e),this}}function Zt(e,t,n,i){var o=t._milliseconds,a=Dt(t._days),s=Dt(t._months);e.isValid()&&(i=null==i||i,s&&Pe(e,Q(e,"Month")+s*n),a&&X(e,"Date",Q(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,a||s))}Ut.fn=Mt.prototype,Ut.invalid=function(){return Ut(NaN)};var Wt=Vt(1,"add"),Kt=Vt(-1,"subtract");function zt(e){return"string"==typeof e||e instanceof String}function Qt(e){return k(e)||d(e)||zt(e)||u(e)||function(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&zt(e)})).length),t&&n}(e)||function(e){var t,n=a(e)&&!c(e),i=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o=r.length;for(t=0;t<o;t+=1)i=i||s(e,r[t]);return n&&i}(e)||null==e}function Xt(e){var t,n=a(e)&&!c(e),i=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<r.length;t+=1)i=i||s(e,r[t]);return n&&i}function qt(e,t){if(e.date()<t.date())return-qt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function $t(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ct(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Jt=O("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function en(){return this._locale}function tn(e,t){return(e%t+t)%t}function nn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function rn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function on(e,t){return t.erasAbbrRegex(e)}function an(){var e,t,n=[],i=[],r=[],o=[],a=this.eras();for(e=0,t=a.length;e<t;++e)i.push(ve(a[e].name)),n.push(ve(a[e].abbr)),r.push(ve(a[e].narrow)),o.push(ve(a[e].name)),o.push(ve(a[e].abbr)),o.push(ve(a[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function sn(e,t){N(0,[e,e.length],0,t)}function cn(e,t,n,i,r){var o;return null==e?Be(this,i,r).year:(t>(o=Fe(e,i,r))&&(t=o),ln.call(this,e,t,n,i,r))}function ln(e,t,n,i,r){var o=je(e,t,n,i,r),a=Re(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}N("N",0,0,"eraAbbr"),N("NN",0,0,"eraAbbr"),N("NNN",0,0,"eraAbbr"),N("NNNN",0,0,"eraName"),N("NNNNN",0,0,"eraNarrow"),N("y",["y",1],"yo","eraYear"),N("y",["yy",2],0,"eraYear"),N("y",["yyy",3],0,"eraYear"),N("y",["yyyy",4],0,"eraYear"),pe("N",on),pe("NN",on),pe("NNN",on),pe("NNNN",(function(e,t){return t.erasNameRegex(e)})),pe("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ye(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,i){var r=n._locale.erasParse(e,i,n._strict);r?g(n).era=r:g(n).invalidEra=e})),pe("y",le),pe("yy",le),pe("yyy",le),pe("yyyy",le),pe("yo",(function(e,t){return t._eraYearOrdinalRegex||le})),ye(["y","yy","yyy","yyyy"],0),ye(["yo"],(function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),t[0]=n._locale.eraYearOrdinalParse?n._locale.eraYearOrdinalParse(e,r):parseInt(e,10)})),N(0,["gg",2],0,(function(){return this.weekYear()%100})),N(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),sn("gggg","weekYear"),sn("ggggg","weekYear"),sn("GGGG","isoWeekYear"),sn("GGGGG","isoWeekYear"),H("weekYear","gg"),H("isoWeekYear","GG"),V("weekYear",1),V("isoWeekYear",1),pe("G",ue),pe("g",ue),pe("GG",ie,J),pe("gg",ie,J),pe("GGGG",se,te),pe("gggg",se,te),pe("GGGGG",ce,ne),pe("ggggg",ce,ne),_e(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=K(e)})),_e(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),N("Q",0,"Qo","quarter"),H("quarter","Q"),V("quarter",7),pe("Q",$),ye("Q",(function(e,t){t[1]=3*(K(e)-1)})),N("D",["DD",2],"Do","date"),H("date","D"),V("date",9),pe("D",ie),pe("DD",ie,J),pe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ye(["D","DD"],2),ye("Do",(function(e,t){t[2]=K(e.match(ie)[0])}));var un=z("Date",!0);N("DDD",["DDDD",3],"DDDo","dayOfYear"),H("dayOfYear","DDD"),V("dayOfYear",4),pe("DDD",ae),pe("DDDD",ee),ye(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=K(e)})),N("m",["mm",2],0,"minute"),H("minute","m"),V("minute",14),pe("m",ie),pe("mm",ie,J),ye(["m","mm"],4);var dn=z("Minutes",!1);N("s",["ss",2],0,"second"),H("second","s"),V("second",15),pe("s",ie),pe("ss",ie,J),ye(["s","ss"],5);var hn,fn,pn=z("Seconds",!1);for(N("S",0,0,(function(){return~~(this.millisecond()/100)})),N(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),N(0,["SSS",3],0,"millisecond"),N(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),N(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),N(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),N(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),N(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),N(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),H("millisecond","ms"),V("millisecond",16),pe("S",ae,$),pe("SS",ae,J),pe("SSS",ae,ee),hn="SSSS";hn.length<=9;hn+="S")pe(hn,le);function gn(e,t){t[6]=K(1e3*("0."+e))}for(hn="S";hn.length<=9;hn+="S")ye(hn,gn);fn=z("Milliseconds",!1),N("z",0,0,"zoneAbbr"),N("zz",0,0,"zoneName");var vn=C.prototype;function mn(e){return e}vn.add=Wt,vn.calendar=function(e,t){1===arguments.length&&(arguments[0]?Qt(arguments[0])?(e=arguments[0],t=void 0):Xt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Tt(),i=Nt(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=t&&(E(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,Tt(n)))},vn.clone=function(){return new C(this)},vn.diff=function(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=Nt(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=U(t)){case"year":o=qt(this,i)/12;break;case"month":o=qt(this,i);break;case"quarter":o=qt(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:W(o)},vn.endOf=function(e){var t,n;if(void 0===(e=U(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?rn:nn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-tn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-tn(t,1e3)-1}return this._d.setTime(t),r.updateOffset(this,!0),this},vn.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=j(this,e);return this.localeData().postformat(t)},vn.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Tt(e).isValid())?Ut({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},vn.fromNow=function(e){return this.from(Tt(),e)},vn.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Tt(e).isValid())?Ut({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},vn.toNow=function(e){return this.to(Tt(),e)},vn.get=function(e){return E(this[e=U(e)])?this[e]():this},vn.invalidAt=function(){return g(this).overflow},vn.isAfter=function(e,t){var n=k(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=U(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},vn.isBefore=function(e,t){var n=k(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=U(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},vn.isBetween=function(e,t,n,i){var r=k(e)?e:Tt(e),o=k(t)?t:Tt(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n))},vn.isSame=function(e,t){var n,i=k(e)?e:Tt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=U(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},vn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},vn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},vn.isValid=function(){return v(this)},vn.lang=Jt,vn.locale=$t,vn.localeData=en,vn.max=At,vn.min=wt,vn.parsingFlags=function(){return f({},g(this))},vn.set=function(e,t){if("object"==typeof e){var n,i=function(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:G[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=Y(e)),r=i.length;for(n=0;n<r;n++)this[i[n].unit](e[i[n].unit])}else if(E(this[e=U(e)]))return this[e](t);return this},vn.startOf=function(e){var t,n;if(void 0===(e=U(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?rn:nn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=tn(t,6e4);break;case"second":t=this._d.valueOf(),t-=tn(t,1e3)}return this._d.setTime(t),r.updateOffset(this,!0),this},vn.subtract=Kt,vn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},vn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},vn.toDate=function(){return new Date(this.valueOf())},vn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?j(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):E(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(n,"Z")):j(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},vn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n="moment",i="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+n+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+i+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(vn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),vn.toJSON=function(){return this.isValid()?this.toISOString():null},vn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},vn.unix=function(){return Math.floor(this.valueOf()/1e3)},vn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},vn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},vn.eraName=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].name;if(i[e].until<=n&&n<=i[e].since)return i[e].name}return""},vn.eraNarrow=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].narrow;if(i[e].until<=n&&n<=i[e].since)return i[e].narrow}return""},vn.eraAbbr=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].abbr;if(i[e].until<=n&&n<=i[e].since)return i[e].abbr}return""},vn.eraYear=function(){var e,t,n,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-r(o[e].since).year())*n+o[e].offset;return this.year()},vn.year=Ie,vn.isLeapYear=function(){return Z(this.year())},vn.weekYear=function(e){return cn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},vn.isoWeekYear=function(e){return cn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},vn.quarter=vn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},vn.month=Me,vn.daysInMonth=function(){return ke(this.year(),this.month())},vn.week=vn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},vn.isoWeek=vn.isoWeeks=function(e){var t=Be(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},vn.weeksInYear=function(){var e=this.localeData()._week;return Fe(this.year(),e.dow,e.doy)},vn.weeksInWeekYear=function(){var e=this.localeData()._week;return Fe(this.weekYear(),e.dow,e.doy)},vn.isoWeeksInYear=function(){return Fe(this.year(),1,4)},vn.isoWeeksInISOWeekYear=function(){return Fe(this.isoWeekYear(),1,4)},vn.date=un,vn.day=vn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},vn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},vn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},vn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},vn.hour=vn.hours=Je,vn.minute=vn.minutes=dn,vn.second=vn.seconds=pn,vn.millisecond=vn.milliseconds=fn,vn.utcOffset=function(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Rt(he,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=jt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Zt(this,Ut(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:jt(this)},vn.utc=function(e){return this.utcOffset(0,e)},vn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(jt(this),"m")),this},vn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Rt(de,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},vn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Tt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},vn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},vn.isLocal=function(){return!!this.isValid()&&!this._isUTC},vn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},vn.isUtc=Bt,vn.isUTC=Bt,vn.zoneAbbr=function(){return this._isUTC?"UTC":""},vn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},vn.dates=O("dates accessor is deprecated. Use date instead.",un),vn.months=O("months accessor is deprecated. Use month instead",Me),vn.years=O("years accessor is deprecated. Use year instead",Ie),vn.zone=O("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),vn.isDSTShifted=O("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return _(t,this),(t=St(t))._a?(e=t._isUTC?p(t._a):Tt(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)K(e[i])!==K(t[i])&&a++;return a+o}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var bn=M.prototype;function yn(e,t,n,i){var r=ct(),o=p().set(i,t);return r[n](o,e)}function _n(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return yn(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=yn(e,i,n,"month");return r}function Cn(e,t,n,i){"boolean"==typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var r,o=ct(),a=e?o._week.dow:0,s=[];if(null!=n)return yn(t,(n+a)%7,i,"day");for(r=0;r<7;r++)s[r]=yn(t,(r+a)%7,i,"day");return s}bn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return E(i)?i.call(t,n):i},bn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(D).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},bn.invalidDate=function(){return this._invalidDate},bn.ordinal=function(e){return this._ordinal.replace("%d",e)},bn.preparse=mn,bn.postformat=mn,bn.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return E(r)?r(e,t,n,i):r.replace(/%d/i,e)},bn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return E(n)?n(t):n.replace(/%s/i,t)},bn.set=function(e){var t,n;for(n in e)s(e,n)&&(E(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},bn.eras=function(e,t){var n,i,o,a=this._eras||ct("en")._eras;for(n=0,i=a.length;n<i;++n){switch(typeof a[n].since){case"string":o=r(a[n].since).startOf("day"),a[n].since=o.valueOf()}switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=r(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}}return a},bn.erasParse=function(e,t,n){var i,r,o,a,s,c=this.eras();for(e=e.toUpperCase(),i=0,r=c.length;i<r;++i)if(o=c[i].name.toUpperCase(),a=c[i].abbr.toUpperCase(),s=c[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return c[i];break;case"NNNN":if(o===e)return c[i];break;case"NNNNN":if(s===e)return c[i]}else if([o,a,s].indexOf(e)>=0)return c[i]},bn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n},bn.erasAbbrRegex=function(e){return s(this,"_erasAbbrRegex")||an.call(this),e?this._erasAbbrRegex:this._erasRegex},bn.erasNameRegex=function(e){return s(this,"_erasNameRegex")||an.call(this),e?this._erasNameRegex:this._erasRegex},bn.erasNarrowRegex=function(e){return s(this,"_erasNarrowRegex")||an.call(this),e?this._erasNarrowRegex:this._erasRegex},bn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Te).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},bn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Te.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},bn.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return Ee.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=p([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},bn.monthsRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||xe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Ae),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},bn.monthsShortRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||xe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=we),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},bn.week=function(e){return Be(e,this._week.dow,this._week.doy).week},bn.firstDayOfYear=function(){return this._week.doy},bn.firstDayOfWeek=function(){return this._week.dow},bn.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?He(n,this._week.dow):e?n[e.day()]:n},bn.weekdaysMin=function(e){return!0===e?He(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},bn.weekdaysShort=function(e){return!0===e?He(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},bn.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return Ke.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=p([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},bn.weekdaysRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Ve),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},bn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ze),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},bn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=We),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},bn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},bn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},at("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===K(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=O("moment.lang is deprecated. Use moment.locale instead.",at),r.langData=O("moment.langData is deprecated. Use moment.localeData instead.",ct);var kn=Math.abs;function Sn(e,t,n,i){var r=Ut(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function On(e){return e<0?Math.floor(e):Math.ceil(e)}function Tn(e){return 4800*e/146097}function wn(e){return 146097*e/4800}function An(e){return function(){return this.as(e)}}var En=An("ms"),Pn=An("s"),Mn=An("m"),xn=An("h"),Dn=An("d"),In=An("w"),Ln=An("M"),Rn=An("Q"),Nn=An("y");function jn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Bn=jn("milliseconds"),Fn=jn("seconds"),Hn=jn("minutes"),Un=jn("hours"),Yn=jn("days"),Gn=jn("months"),Vn=jn("years"),Zn=Math.round,Wn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Kn(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}var zn=Math.abs;function Qn(e){return(e>0)-(e<0)||+e}function Xn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,r,o,a,s,c=zn(this._milliseconds)/1e3,l=zn(this._days),u=zn(this._months),d=this.asSeconds();return d?(e=W(c/60),t=W(e/60),c%=60,e%=60,n=W(u/12),u%=12,i=c?c.toFixed(3).replace(/\.?0+$/,""):"",r=d<0?"-":"",o=Qn(this._months)!==Qn(d)?"-":"",a=Qn(this._days)!==Qn(d)?"-":"",s=Qn(this._milliseconds)!==Qn(d)?"-":"",r+"P"+(n?o+n+"Y":"")+(u?o+u+"M":"")+(l?a+l+"D":"")+(t||e||c?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(c?s+i+"S":"")):"P0D"}var qn=Mt.prototype;return qn.isValid=function(){return this._isValid},qn.abs=function(){var e=this._data;return this._milliseconds=kn(this._milliseconds),this._days=kn(this._days),this._months=kn(this._months),e.milliseconds=kn(e.milliseconds),e.seconds=kn(e.seconds),e.minutes=kn(e.minutes),e.hours=kn(e.hours),e.months=kn(e.months),e.years=kn(e.years),this},qn.add=function(e,t){return Sn(this,e,t,1)},qn.subtract=function(e,t){return Sn(this,e,t,-1)},qn.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=U(e))||"quarter"===e||"year"===e)switch(n=this._months+Tn(t=this._days+i/864e5),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(wn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},qn.asMilliseconds=En,qn.asSeconds=Pn,qn.asMinutes=Mn,qn.asHours=xn,qn.asDays=Dn,qn.asWeeks=In,qn.asMonths=Ln,qn.asQuarters=Rn,qn.asYears=Nn,qn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*K(this._months/12):NaN},qn._bubble=function(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,c=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*On(wn(s)+a),a=0,s=0),c.milliseconds=o%1e3,e=W(o/1e3),c.seconds=e%60,t=W(e/60),c.minutes=t%60,n=W(t/60),c.hours=n%24,a+=W(n/24),s+=r=W(Tn(a)),a-=On(wn(r)),i=W(s/12),s%=12,c.days=a,c.months=s,c.years=i,this},qn.clone=function(){return Ut(this)},qn.get=function(e){return e=U(e),this.isValid()?this[e+"s"]():NaN},qn.milliseconds=Bn,qn.seconds=Fn,qn.minutes=Hn,qn.hours=Un,qn.days=Yn,qn.weeks=function(){return W(this.days()/7)},qn.months=Gn,qn.years=Vn,qn.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,o=Wn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(r=e),"object"==typeof t&&(o=Object.assign({},Wn,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),i=function(e,t,n,i){var r=Ut(e).abs(),o=Zn(r.as("s")),a=Zn(r.as("m")),s=Zn(r.as("h")),c=Zn(r.as("d")),l=Zn(r.as("M")),u=Zn(r.as("w")),d=Zn(r.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||c<=1&&["d"]||c<n.d&&["dd",c];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),(h=h||l<=1&&["M"]||l<n.M&&["MM",l]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=i,Kn.apply(null,h)}(this,!r,o,n=this.localeData()),r&&(i=n.pastFuture(+this,i)),n.postformat(i)},qn.toISOString=Xn,qn.toString=Xn,qn.toJSON=Xn,qn.locale=$t,qn.localeData=en,qn.toIsoString=O("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Xn),qn.lang=Jt,N("X",0,0,"unix"),N("x",0,0,"valueOf"),pe("x",ue),pe("X",/[+-]?\d+(\.\d{1,3})?/),ye("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),ye("x",(function(e,t,n){n._d=new Date(K(e))})),r.version="2.29.4",t=Tt,r.fn=vn,r.min=function(){var e=[].slice.call(arguments,0);return Et("isBefore",e)},r.max=function(){var e=[].slice.call(arguments,0);return Et("isAfter",e)},r.now=function(){return Date.now?Date.now():+new Date},r.utc=p,r.unix=function(e){return Tt(1e3*e)},r.months=function(e,t){return _n(e,t,"months")},r.isDate=d,r.locale=at,r.invalid=m,r.duration=Ut,r.isMoment=k,r.weekdays=function(e,t,n){return Cn(e,t,n,"weekdays")},r.parseZone=function(){return Tt.apply(null,arguments).parseZone()},r.localeData=ct,r.isDuration=xt,r.monthsShort=function(e,t){return _n(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return Cn(e,t,n,"weekdaysMin")},r.defineLocale=st,r.updateLocale=function(e,t){if(null!=t){var n,i,r=et;null!=tt[e]&&null!=tt[e].parentLocale?tt[e].set(P(tt[e]._config,t)):(null!=(i=ot(e))&&(r=i._config),t=P(r,t),null==i&&(t.abbr=e),(n=new M(t)).parentLocale=tt[e],tt[e]=n),at(e)}else null!=tt[e]&&(null!=tt[e].parentLocale?(tt[e]=tt[e].parentLocale,e===at()&&at(e)):null!=tt[e]&&delete tt[e]);return tt[e]},r.locales=function(){return T(tt)},r.weekdaysShort=function(e,t,n){return Cn(e,t,n,"weekdaysShort")},r.normalizeUnits=U,r.relativeTimeRounding=function(e){return void 0===e?Zn:"function"==typeof e&&(Zn=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Wn[e]&&(void 0===t?Wn[e]:(Wn[e]=t,"s"===e&&(Wn.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=vn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n("2pl3")(e))},wrZu:function(e,t,n){var i=n("+K+b"),r=n("XYm9"),o=n("b2z7"),a=n("otv/"),s=n("yP5f");e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Set]":return new c;case"[object Symbol]":return a(e)}}},wtyH:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("mrSG"),r=n("jtHE"),o=n("XNiG"),a=n("AytR"),s=n("9gjU"),c=n("tiZS"),l=n("fXoL"),u=n("LYOT"),d=n("y4Wf"),h=n("CPX7"),f=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.contentfulService=t,this.basketApi=n,this.basketService=i,this.servicesMap=new Map,this.$serviceReady=new r.a(1),this.$vreChanges=new o.a,this.SERVICE_LIMIT=1e3,this.load()}return _createClass(e,[{key:"load",value:function(){var e=this;return new Promise((function(t,n){try{e.getServices().then((function(){t(),e.$serviceReady.next(),e.$serviceReady.complete()}))}catch(i){n(i)}}))}},{key:"getServices",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contentfulService.getEntries({content_type:"service",include:4,limit:this.SERVICE_LIMIT});case 2:t=e.sent.items.map((function(e){return e.fields})),this.addServiceToMap(t);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"addServiceToMap",value:function(e){var t=this;e&&e.length&&e.map((function(e){var n=e.code;t.servicesMap.set(n,e)}))}},{key:"getService",value:function(e){return this.servicesMap.get(e)}},{key:"emitVreChanges",value:function(e){this.$vreChanges.next(e)}},{key:"preSelectedSrvCustomField",value:function(e,t){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={basketId:e.basket.basketId,flowType:e.basket.flowType,bookingType:e.basket.bookingType,customFieldUpdates:[{path:"preSelectedServices",value:t,updateType:c.a.Merge}]},n.next=3,this.basketApi.updateBasket(i).toPromise();case 3:this.basketService.syncBasketInfo();case 4:case"end":return n.stop()}}),n,this)})))}},{key:"saveSortingGroupsCustomField",value:function(e,t){var n,r;return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var o,l;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=_toConsumableArray2(null===(r=null===(n=null==t?void 0:t.sortingGroups)||void 0===n?void 0:n.find((function(e){return(null==e?void 0:e.type)===s.c.Recommended})))||void 0===r?void 0:r.services),l={basketId:e.basket.basketId,flowType:e.basket.flowType,bookingType:e.basket.bookingType,customFieldUpdates:[{path:"recommendedServices",value:o,updateType:c.a.Replace}]},i.prev=1,i.next=4,this.basketApi.updateBasket(l).toPromise();case 4:this.basketService.syncBasketInfo(),i.next=10;break;case 7:i.prev=7,i.t0=i.catch(1),a.g.production||console.error("updateBasket error:",i.t0);case 10:case"end":return i.stop()}}),i,this,[[1,7]])})))}},{key:"restructureTransport",value:function(e,t){var n=[];return null==e||e.price.forEach((function(i){n.push({ssrCode:e.ssrCode,name:e.name,preSelected:null==e?void 0:e.preSelected,includedInFare:i.isIncluded,includedInVivaFan:!1,includedInLoyalty:!1,journeyKey:t,passengerKey:i.passengerKey,price:i.price,originalPrice:i.originalPrice,includedForPassenger:i.isIncluded,limit:null,labels:[],inventoryControlled:!1})})),n}},{key:"ready",get:function(){return this.$serviceReady.asObservable()}},{key:"vreChanges$",get:function(){return this.$vreChanges.asObservable()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.dc(u.a),l.dc(d.a),l.dc(h.a))},e.\u0275prov=l.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"x+ZX":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("7o/Q");function r(){return function(e){return e.lift(new o(e))}}var o=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var i=new a(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).connectable=i,r}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),n}(i.a)},x2f1:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ofXK"),r=n("fXoL"),o=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Rb({type:e}),e.\u0275inj=r.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e}()},xAGQ:function(e,t,n){"use strict";var i=n("xTJ+");e.exports=function(e,t,n){return i.forEach(n,(function(n){e=n(e,t)})),e}},xDdU:function(e,t,n){var i,r,o=n("4fRq"),a=n("I2ZF"),s=0,c=0;e.exports=function(e,t,n){var l=t&&n||0,u=t||[],d=(e=e||{}).node||i,h=void 0!==e.clockseq?e.clockseq:r;if(null==d||null==h){var f=o();null==d&&(d=i=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==h&&(h=r=16383&(f[6]<<8|f[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:c+1,v=p-s+(g-c)/1e4;if(v<0&&void 0===e.clockseq&&(h=h+1&16383),(v<0||p>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,c=g,r=h;var m=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;u[l++]=m>>>24&255,u[l++]=m>>>16&255,u[l++]=m>>>8&255,u[l++]=255&m;var b=p/4294967296*1e4&268435455;u[l++]=b>>>8&255,u[l++]=255&b,u[l++]=b>>>24&15|16,u[l++]=b>>>16&255,u[l++]=h>>>8|128,u[l++]=255&h;for(var y=0;y<6;++y)u[l+y]=d[y];return t||a(u)}},"xT/e":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ofXK"),r=n("o5mt"),o=n("fXoL"),a=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)},imports:[[i.c,r.a]]}),e}()},"xTJ+":function(e,t,n){"use strict";var i=n("HSsa"),r=Object.prototype.toString;function o(e){return"[object Array]"===r.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===r.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function n(n,i){t[i]="object"==typeof t[i]&&"object"==typeof n?e(t[i],n):n}for(var i=0,r=arguments.length;i<r;i++)l(arguments[i],n);return t},deepMerge:function e(){var t={};function n(n,i){t[i]="object"==typeof t[i]&&"object"==typeof n?e(t[i],n):"object"==typeof n?e({},n):n}for(var i=0,r=arguments.length;i<r;i++)l(arguments[i],n);return t},extend:function(e,t,n){return l(t,(function(t,r){e[r]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},xbPD:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("7o/Q");function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new o(e))}}var o=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.defaultValue))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).defaultValue=i,r.isEmpty=!0,r}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(i.a)},xgIS:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("HDdC"),r=n("DH7j"),o=n("n6bG"),a=n("lJxs");function s(e,t,n,c){return Object(o.a)(n)&&(c=n,n=void 0),c?s(e,t,n).pipe(Object(a.a)((function(e){return Object(r.a)(e)?c.apply(void 0,_toConsumableArray2(e)):c(e)}))):new i.a((function(i){!function e(t,n,i,r,o){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(n,i,o),a=function(){return s.removeEventListener(n,i,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var c=t;t.on(n,i),a=function(){return c.off(n,i)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var l=t;t.addListener(n,i),a=function(){return l.removeListener(n,i)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,d=t.length;u<d;u++)e(t[u],n,i,r,o)}r.add(a)}(e,t,(function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),i,n)}))}},xk4V:function(e,t,n){var i=n("4fRq"),r=n("I2ZF");e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||r(a)}},xzb3:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i,r,o=n("ofXK"),a=n("fXoL"),s=((i=function e(){_classCallCheck(this,e)}).\u0275mod=a.Rb({type:i}),i.\u0275inj=a.Qb({factory:function(e){return new(e||i)},imports:[[o.c]]}),i),c=n("o5mt"),l=((r=function e(){_classCallCheck(this,e)}).\u0275mod=a.Rb({type:r}),r.\u0275inj=a.Qb({factory:function(e){return new(e||r)},imports:[[o.c,s,c.a]]}),r)},y1pI:function(e,t,n){var i=n("ljhN");e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},y4Wf:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("mrSG"),r=n("fXoL"),o=n("AytR"),a=n("RRjW"),s=n("tk/3"),c=n("lJxs"),l=n("9yTC"),u=n("h/S9"),d=n("PxKc"),h=n("ofXK"),f=n("1AID"),p=n("9YtQ"),g=n("BifP"),v=n("lALM"),m=n("kh7C"),b=function(){var e=function(){function e(t,n,i,r,o,a){_classCallCheck(this,e),this.http=t,this.deviceService=n,this.cmsConfigSvc=i,this.geoSvc=r,this.platformId=o,this.utilsSvc=a}return _createClass(e,[{key:"getBasketById",value:function(e){var t=this;return this.http.get("".concat(o.g.BASKET_URL,"?BasketId=").concat(e)).pipe(Object(c.a)((function(e){var n,i,r,a,s,c,u,p,g,v,m,b,y=Object.assign({},e),_=t.utilsSvc.getFareFromBasket(null===(r=null===(i=null===(n=null==y?void 0:y.data)||void 0===n?void 0:n.travel)||void 0===i?void 0:i.journeys)||void 0===r?void 0:r[0]);if(_&&_===l.e.VIVA_SMART||_===l.e.VIVA_ZERO)for(var C in y.data.travel.charges)"object"==typeof y.data.travel.charges[C]&&"CarryOnBaggage"===y.data.travel.charges[C].groupCode&&"VAAK"===y.data.travel.charges[C].code&&(y.data.travel.charges[C].code="VAAK15");(null==y?void 0:y.data)&&t.processGuestFeeChargesWithoutJourneyKey(y.data);try{if(null===(a=null==y?void 0:y.data)||void 0===a?void 0:a.dynamicFlow){var k=t.validateBasketDynamicFlowSteps(e.data.dynamicFlow);k&&(y.data.dynamicFlow=k)}}catch(D){o.g.production||console.error("Error parsing the basket dynamic flow for unsupported steps!",D)}try{if((null===(s=null==y?void 0:y.data)||void 0===s?void 0:s.flowType)===d.b.Booking){var S=((null===(u=null===(c=y.data)||void 0===c?void 0:c.dynamicFlow)||void 0===u?void 0:u.steps)||[]).findIndex((function(e){return e.name===d.f.Hotel}));if(-1===S&&Object(h.L)(t.platformId)&&sessionStorage.getItem("vb-display-hotel-in-booking")){var O=y.data.dynamicFlow.steps.findIndex((function(e){return e.name===d.f.Payment}));O>-1&&(y.data.dynamicFlow.steps.splice(O,0,{name:d.f.Hotel,isOptional:!1}),S=((null===(g=null===(p=y.data)||void 0===p?void 0:p.dynamicFlow)||void 0===g?void 0:g.steps)||[]).findIndex((function(e){return e.name===d.f.Hotel})))}if(S>-1){var T=(null===(m=null===(v=null==y?void 0:y.data)||void 0===v?void 0:v.travel)||void 0===m?void 0:m.journeys)||[],w=2===T.length&&T[0].origin.code===T[1].destination.code&&T[0].destination.code===T[1].origin.code,A=null===(b=t.cmsConfigSvc._cmsConfig.bookingSettings)||void 0===b?void 0:b.activeHotelDestinations,E=T.length&&(A||[]).includes(T[0].destination.code),P=T.every((function(e){return e.segments.every((function(e){return"VB"===e.flightReference.substring(9,11)}))})),M=t.cmsConfigSvc.getBookingFeatureValue(f.a.DisplayHotelStepForDesktopOnly),x=!M||M&&t.deviceService.isDesktop();w&&E&&P&&x&&"MXN"===y.data.currencyCode||y.data.dynamicFlow.steps.splice(S,1)}}}catch(D){o.g.production||console.error("Error validating hotel step for basket's dynamic flow",D)}return y})))}},{key:"createBasket",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=new u.a;if(e.customFields=e.customFields?Object.assign(Object.assign({},i),e.customFields):i,e.device||(e.device=this.deviceService.isDesktop()?d.a.Desktop:this.deviceService.isMobile()?d.a.Mobile:this.deviceService.isTablet()?d.a.Tablet:d.a.Other),e.location=this.geoSvc._location?{country:this.geoSvc._location.details.countryCode||null,city:this.geoSvc._location.details.regionCode||null,lat:this.geoSvc._location.coords.latitude.toString()||null,long:this.geoSvc._location.coords.longitude.toString()||null}:null,!(null===(t=null==e?void 0:e.referralDetails)||void 0===t?void 0:t.code)&&Object(h.L)(this.platformId)){var r={};r.code=sessionStorage.getItem("loginReferral"),(null==r?void 0:r.code)&&(e.referralDetails=r)}var a=n?null:new s.d({"Basket-No-Refresh":"true"});return this.http.post(""+o.g.CREATE_BASKET_URL,e,{headers:a})}},{key:"updateBasket",value:function(e){return this.http.post(""+o.g.UPDATE_BASKET_URL,e)}},{key:"keepAliveBasket",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.http.post(""+o.g.KEEP_ALIVE_BASKET_URL,{basketId:e}).toPromise();case 3:return n=t.sent,t.abrupt("return",!(!n||n.type!==a.d.SUCCESS));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",(o.g.production||console.error(":: KeepAliveBasket ::",t.t0),!1));case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"loadBasket",value:function(e){return this.http.post(""+o.g.LOAD_BASKET_BOOKING_URL,e)}},{key:"validateBasketDynamicFlowSteps",value:function(e){if(e&&Array.isArray(e.steps)){var t=this.cmsConfigSvc._cmsConfig.bookingSettings.dynamicFlowStepWhitelist;if(Array.isArray(t)&&t.length>0){var n=e.steps.filter((function(e){return t.includes(e.name)}));if(n.length!==e.steps.length){var i=JSON.parse(JSON.stringify(e));return i.steps=n,i.currentStep&&!t.includes(i.currentStep)&&(i.currentStep=d.f.NO_STEP),i}}}}},{key:"processGuestFeeChargesWithoutJourneyKey",value:function(e){if(e)try{var t=(null==e?void 0:e.travel)||{},n=t.journeys,i=t.charges;Array.isArray(n)&&n.length>0&&Array.isArray(i)&&i.filter((function(e){return"GuestFee"===e.code})).forEach((function(e){e&&!e.journeyKey&&(e.journeyKey=n[0].journeyKey)}))}catch(r){o.g.production||console.warn("Error processing GuestFee charges",r)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.dc(s.b),r.dc(p.a),r.dc(g.a),r.dc(v.a),r.dc(r.G),r.dc(m.a))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"any"}),e}()},y4gz:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("0WuY"),r=n("fXoL"),o=n("egL7"),a=function(){var e=function(){function e(t){_classCallCheck(this,e),this.gtmService=t}return _createClass(e,[{key:"bookerTabListEvent",value:function(e){this.gtmService.pushTag({event:"ev_ux_booker_tablist",category:"booker_tablist",action:e})}},{key:"clickCurrencyLanguage",value:function(e){e===i.a.LOCALE&&this.gtmService.pushTag({event:"ev_ux_xr_preferences",category:"ux_xr_preferences",action:"click_currency_language"})}},{key:"saveCurrencyLanguage",value:function(){this.gtmService.pushTag({event:"ev_ux_xr_preferences",category:"ux_xr_preferences",action:"save_currency_language"})}},{key:"selectCalendarView",value:function(e){e||this.gtmService.pushTag({event:"ev_ux_search",category:"search",action:"select_calendar_view"})}},{key:"selectUsePoints",value:function(){this.gtmService.pushTag({event:"ev_ux_search",category:"search",action:"select use points"})}},{key:"selectedLocationEvent",value:function(e,t,n,i,r,o,a){this.gtmService.pushTag({event:"ev_ux_search_select_location",category:"search",action:"location",label:e,searchTermOrigin:a.origin||null,searchTermDestination:a.destination||null,search:{tab_type:"HEADER_BOOK_FLIGHTS",source_location:t,type:n,trip_type:i,origin:r,destination:o}})}},{key:"flipOriginDestination",value:function(){this.gtmService.pushTag({event:"ev_ux_search_flip_route",category:"ux_search_flight",action:"flip_origin_destination"})}},{key:"viewPromoCode",value:function(){this.gtmService.pushTag({event:"ev_ux_search_view_promo_code",category:"search",action:"promo_code",label:"view"})}},{key:"selectPromoCode",value:function(e){this.gtmService.pushTag({event:"ev_ux_search_select_promo_code",category:"search",action:"promo_code",label:"selected",promo_code:e})}},{key:"homePopularDestinationsClick",value:function(){this.gtmService.pushTag({event:"ev_ux_view_popular_destinations",category:"home_popular_destinations",action:"click destination list"})}},{key:"homePopularDestinationsSelect",value:function(e){this.gtmService.pushTag({event:"ev_ux_select_popular_destinations",category:"home_popular_destinations",action:"select destination list",label:e})}},{key:"popularDestinationsMove",value:function(e){this.gtmService.pushTag({event:"ev_ux_search_click",category:"home_popular_destinations",action:e})}},{key:"loginInviteClick",value:function(e){this.gtmService.pushTag({event:"ev_ux",category:"ux_home",action:"login_invite",label:e})}},{key:"viewCobrandModal",value:function(){this.gtmService.pushTag({event:"view_promotion",ec:{items:[{promotion_id:"modal_home_hsbc",promotion_name:"Tarjetas HSBC Viva",creative_name:"Solicitar",creative_slot:"home",location_id:"home"}]},ecommerce:{promoView:{promotions:[{id:"modal_home_hsbc",name:"Tarjetas HSBC Viva",creative:"Solicitar",position:"home"}]}}})}},{key:"selectCobrandPromotion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.gtmService.pushTag({event:"select_promotion",ec:{items:[{promotion_id:"modal_home_hsbc",promotion_name:"Tarjetas HSBC Viva",creative_name:e?"Solicitar":"Cerrar",creative_slot:"home",location_id:"home"}]},ecommerce:{promoClick:{promotions:[{id:"modal_home_hsbc",name:"Tarjetas HSBC Viva",creative:e?"Solicitar":"Cerrar",position:"home"}]}}})}},{key:"closeCobrandModal",value:function(){this.gtmService.pushTag({event:"select_promotion",ec:{items:[{promotion_id:"modal_home_hsbc",promotion_name:"Tarjetas HSBC Viva",creative_name:"Cerrar_fuera",creative_slot:"home",location_id:"home"}]},ecommerce:{promoClick:{promotions:[{id:"modal_home_hsbc",name:"Tarjetas HSBC Viva",creative:"Cerrar_fuera",position:"home"}]}}})}},{key:"viewPromoModal",value:function(e,t,n){this.gtmService.pushTag({event:"view_promotion",ec:{items:[{promotion_id:e,promotion_name:t,creative_name:n,creative_slot:"home",location_id:"home"}]},ecommerce:{promoView:{promotions:[{id:e,name:t,creative:n,position:"home"}]}}})}},{key:"selectPromoModalOption",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",r="";switch(i){case"cta":r=n;break;case"close_button":r="Cerrar";break;case"default":default:r="cerrar_fuera"}this.gtmService.pushTag({event:"select_promotion",ec:{items:[{promotion_id:e,promotion_name:t,creative_name:r,creative_slot:"home",location_id:"home"}]},ecommerce:{promoClick:{promotions:[{id:e,name:t,creative:r,position:"home"}]}}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.dc(o.a))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},y673:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),r=function(){var e=function(){function e(){_classCallCheck(this,e),this.stepEmitter=new i.p,this.flightsCounterEmitter=new i.p}return _createClass(e,[{key:"navigateToNextStep",value:function(e,t){this.navigateToStep(e,void 0,"next",t)}},{key:"navigateToPrevStep",value:function(e){this.navigateToStep(!1,void 0,"prev",e)}},{key:"navigateToStep",value:function(e,t,n,i){var r={setCurrentFlow:e};t&&(r.step=t),n&&(r.direction=n),i&&(r.state=i),this.stepEmitter.emit(r)}},{key:"resetFlightCounter",value:function(){this.flightsCounterEmitter.emit({currentFlight:0,totalFlights:0})}},{key:"setFlightCounter",value:function(e){this.flightsCounterEmitter.emit(e)}},{key:"stepEmitter$",get:function(){return this.stepEmitter.asObservable()}},{key:"flightCounter$",get:function(){return this.flightsCounterEmitter.asObservable()}},{key:"_breadcrumbNextStep",set:function(e){this.breadcrumbNextStep=e},get:function(){return this.breadcrumbNextStep}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},y6l0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a}));var i=function(e){return e.TOP="Top",e.ITINERARY="Itinerary",e.PASSENGERS="Passengers",e.SEATS="Seats",e.EXTRAS="Extras",e.PAYMENTS="Payments",e}({}),r=function(e){return e.WARNING="Warning",e.INFORMATION="Information",e.FLIGHT="Flight",e.ANNOUNCEMENT="Announcement",e.PROMO="Promo",e.CUSTOM_IMAGE="Custom Image",e.CUSTOM_ICON_CLASS="Custom Icon Class",e}({}),o=function(e){return e.HIDE="hide",e.INPAGE="inpage",e.POPUP="popup",e.SNACKBAR="snackbar",e.FAREICON="FareIcon",e.FAREBADGE="FareBadge",e}({}),a=function(e){return e.ORANGE="Orange",e.BLUE="Blue",e.BLACK="Black",e.WHITE="White",e.LIGHT_GREEN="LightGreen",e.DARK_GREEN="DarkGreen",e}({})},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("HDdC"),r=n("ngJS"),o=n("jZKg");function a(e,t){return t?Object(o.a)(e,t):new i.a(Object(r.a)(e))}},yGk4:function(e,t,n){var i=n("Cwc5")(n("Kz5y"),"Set");e.exports=i},yHx3:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},yK9s:function(e,t,n){"use strict";var i=n("xTJ+");e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},yLV6:function(e,t,n){var i;!function(r,o,a,s){"use strict";var c,l=["","webkit","Moz","MS","ms","o"],u=o.createElement("div"),d=Math.round,h=Math.abs,f=Date.now;function p(e,t,n){return setTimeout(C(e,n),t)}function g(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function m(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),e.apply(this,arguments)}}c="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var b=m((function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&void 0===e[i[r]])&&(e[i[r]]=t[i[r]]),r++;return e}),"extend","Use `assign`."),y=m((function(e,t){return b(e,t,!0)}),"merge","Use `assign`.");function _(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&c(i,n)}function C(e,t){return function(){return e.apply(t,arguments)}}function k(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function S(e,t){return void 0===e?t:e}function O(e,t,n){v(E(t),(function(t){e.addEventListener(t,n,!1)}))}function T(e,t,n){v(E(t),(function(t){e.removeEventListener(t,n,!1)}))}function w(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function A(e,t){return e.indexOf(t)>-1}function E(e){return e.trim().split(/\s+/g)}function P(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function M(e){return Array.prototype.slice.call(e,0)}function x(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];P(r,a)<0&&i.push(e[o]),r[o]=a,o++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function D(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<l.length;){if((i=(n=l[o])?n+r:t)in e)return i;o++}}var I=1;function L(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var R="ontouchstart"in r,N=void 0!==D(r,"PointerEvent"),j=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B=["x","y"],F=["clientX","clientY"];function H(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){k(e.options.enable,[e])&&n.handler(t)},this.init()}function U(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&t&&i-r==0,a=12&t&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=Y(t)),r>1&&!n.firstMultiple?n.firstMultiple=Y(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,c=t.center=G(i);t.timeStamp=f(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=K(s,c),t.distance=W(s,c),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=Z(t.deltaX,t.deltaY);var l,u,d=V(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=d.x,t.overallVelocityY=d.y,t.overallVelocity=h(d.x)>h(d.y)?d.x:d.y,t.scale=a?(l=a.pointers,W((u=i)[0],u[1],F)/W(l[0],l[1],F)):1,t.rotation=a?function(e,t){return K(t[1],t[0],F)+K(e[1],e[0],F)}(a.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(s>25||void 0===a.velocity)){var c=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,u=V(s,c,l);i=u.x,r=u.y,n=h(u.x)>h(u.y)?u.x:u.y,o=Z(c,l),e.lastInterval=t}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var p=e.element;w(t.srcEvent.target,p)&&(p=t.srcEvent.target),t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function Y(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:d(e.pointers[n].clientX),clientY:d(e.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:t,center:G(t),deltaX:e.deltaX,deltaY:e.deltaY}}function G(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:d(n/t),y:d(i/t)}}function V(e,t,n){return{x:t/e||0,y:n/e||0}}function Z(e,t){return e===t?1:h(e)>=h(t)?e<0?2:4:t<0?8:16}function W(e,t,n){n||(n=B);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function K(e,t,n){return n||(n=B),180*Math.atan2(t[n[1]]-e[n[1]],t[n[0]]-e[n[0]])/Math.PI}H.prototype={handler:function(){},init:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(L(this.element),this.evWin,this.domHandler)}};var z={mousedown:1,mousemove:2,mouseup:4};function Q(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,H.apply(this,arguments)}_(Q,H,{handler:function(e){var t=z[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var X={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},q={2:"touch",3:"pen",4:"mouse",5:"kinect"},$="pointerdown",J="pointermove pointerup pointercancel";function ee(){this.evEl=$,this.evWin=J,H.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&($="MSPointerDown",J="MSPointerMove MSPointerUp MSPointerCancel"),_(ee,H,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=X[i],o=q[e.pointerType]||e.pointerType,a="touch"==o,s=P(t,e.pointerId,"pointerId");1&r&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&r&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var te={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ne(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,H.apply(this,arguments)}function ie(e,t){var n=M(e.touches),i=M(e.changedTouches);return 12&t&&(n=x(n.concat(i),"identifier",!0)),[n,i]}_(ne,H,{handler:function(e){var t=te[e.type];if(1===t&&(this.started=!0),this.started){var n=ie.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var re={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function oe(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},H.apply(this,arguments)}function ae(e,t){var n=M(e.touches),i=this.targetIds;if(3&t&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=M(e.changedTouches),s=[],c=this.target;if(o=n.filter((function(e){return w(e.target,c)})),1===t)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),12&t&&delete i[a[r].identifier],r++;return s.length?[x(o.concat(s),"identifier",!0),s]:void 0}function se(){H.apply(this,arguments);var e=C(this.handler,this);this.touch=new oe(this.manager,e),this.mouse=new Q(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ce(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,le.call(this,t)):12&e&&le.call(this,t)}function le(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),2500)}}function ue(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}_(oe,H,{handler:function(e){var t=re[e.type],n=ae.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}),_(se,H,{handler:function(e,t,n){var i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)ce.call(this,t,n);else if(i&&ue.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var de=D(u.style,"touchAction"),he=void 0!==de,fe=function(){if(!he)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||r.CSS.supports("touch-action",n)})),e}();function pe(e,t){this.manager=e,this.set(t)}function ge(e){this.options=c({},this.defaults,e||{}),this.id=I++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ve(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function me(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function be(e,t){var n=t.manager;return n?n.get(e):e}function ye(){ge.apply(this,arguments)}function _e(){ye.apply(this,arguments),this.pX=null,this.pY=null}function Ce(){ye.apply(this,arguments)}function ke(){ge.apply(this,arguments),this._timer=null,this._input=null}function Se(){ye.apply(this,arguments)}function Oe(){ye.apply(this,arguments)}function Te(){ge.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function we(e,t){return(t=t||{}).recognizers=S(t.recognizers,we.defaults.preset),new Ae(e,t)}function Ae(e,t){var n;this.options=c({},we.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(N?ee:j?oe:R?se:Q))(n,U),this.touchAction=new pe(this,this.options.touchAction),Ee(this,!0),v(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ee(e,t){var n,i=e.element;i.style&&(v(e.options.cssProps,(function(r,o){n=D(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}pe.prototype={set:function(e){"compute"==e&&(e=this.compute()),he&&this.manager.element.style&&fe[e]&&(this.manager.element.style[de]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,(function(t){k(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(A(e,"none"))return"none";var t=A(e,"pan-x"),n=A(e,"pan-y");return t&&n?"none":t||n?t?"pan-x":"pan-y":A(e,"manipulation")?"manipulation":"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=A(i,"none")&&!fe.none,o=A(i,"pan-y")&&!fe["pan-y"],a=A(i,"pan-x")&&!fe["pan-x"];if(r&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;if(!a||!o)return r||o&&6&n||a&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},ge.prototype={defaults:{},set:function(e){return c(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=be(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)||(e=be(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return-1===P(t,e=be(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=be(e,this);var t=P(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+ve(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+ve(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=c({},e);if(!k(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},_(ye,ge,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(8&n||!r)?16|t:i||r?4&n?8|t:2&t?4|t:2:32}}),_(_e,ye,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,a=e.deltaY;return r&t.direction||(6&t.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===a?1:a<0?8:16,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return ye.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=me(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),_(Ce,ye,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),_(ke,ge,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||12&e.eventType&&!r)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),_(Se,ye,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),_(Oe,ye,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return _e.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=me(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),_(Te,ge,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||W(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),we.VERSION="2.0.7",we.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Se,{enable:!1}],[Ce,{enable:!1},["rotate"]],[Oe,{direction:6}],[_e,{direction:6},["swipe"]],[Te],[Te,{event:"doubletap",taps:2},["tap"]],[ke]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ae.prototype={set:function(e){return c(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof ge)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=P(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers;return v(E(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers;return v(E(e),(function(e){t?n[e]&&n[e].splice(P(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&Ee(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(we,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ae,Input:H,TouchAction:pe,TouchInput:oe,MouseInput:Q,PointerEventInput:ee,TouchMouseInput:se,SingleTouchInput:ne,Recognizer:ge,AttrRecognizer:ye,Tap:Te,Pan:_e,Swipe:Oe,Pinch:Ce,Rotate:Se,Press:ke,on:O,off:T,each:v,merge:y,extend:b,assign:c,inherit:_,bindFn:C,prefixed:D}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=we,void 0===(i=(function(){return we}).call(t,n,t,e))||(e.exports=i)}(window,document)},yP5f:function(e,t,n){var i=n("+K+b");e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},ynpe:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"h",(function(){return g}));var i=n("3Pt+"),r=n("wd/R"),o=n("ofgY"),a=[i.I.required,i.I.minLength(2),i.I.maxLength(32),i.I.pattern("^[a-zA-Z\xf1\xd1\xe1\xc1\xe9\xc9\xed\xcd\xf3\xd3\xfa\xda_.`\xb4 '-]+")],s=function e(){_classCallCheck(this,e),this.customerNumber=!1,this.firstName=!1,this.lastName=!1,this.dateOfBirth=!1};function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return function(i){var a=r(t).diff(i.value,"years"),s=r(n).diff(i.value,"years");switch(e){case o.i.INFT:if(a<0||s>=o.b)return{type:!0};break;case o.i.CHD:if(a<o.b||s>=o.a)return{type:!0};break;case o.i.ADT:if(s<o.a||a>=150)return{type:!0}}return r(i.value).diff(t,"days")>=0?{departureDate:!0}:null}}function l(e,t){return function(n){return n&&e&&t&&e[t]?{customerId:!0}:null}}function u(e){return function(t){return e.find((function(e){return e.value&&t.value===e.value}))?{samePassport:!0}:null}}var d=[i.I.minLength(7),i.I.maxLength(10),i.I.pattern("^[a-zA-Z0-9]+")],h=[i.I.minLength(9),i.I.maxLength(10),i.I.pattern("^[a-zA-Z0-9]+")],f=[i.I.minLength(9),i.I.maxLength(10),i.I.pattern("^[0-9]+")],p=[i.I.minLength(7),i.I.maxLength(12),i.I.pattern("^[a-zA-Z0-9]+")];function g(e){return r().diff(e.value,"months")>-6?{expire:!0}:null}},yoF8:function(e,t,n){"use strict";t.identity=function(e){return e}},yx2s:function(e,t,n){"use strict";var i=n("FWf1");t.canReportError=function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof i.Subscriber?t:null}return!0}},"z+Ro":function(e,t,n){"use strict";function i(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return i}))},z6cu:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("HDdC");function r(e,t){return new i.a(t?function(n){return t.schedule(o,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function o(e){var t=e.error;e.subscriber.error(t)}},"zB/H":function(e,t,n){"use strict";var i=n("mbIT"),r=n("GMZp"),o=n("pshJ"),a=n("LBXl");function s(e){return e.reduce((function(e,t){return e.concat(t instanceof a.UnsubscriptionError?t.errors:t)}),[])}t.Subscription=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,c=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var u=0;u<n.length;++u)n[u].remove(this);if(o.isFunction(c))try{c.call(this)}catch(f){t=f instanceof a.UnsubscriptionError?s(f.errors):[f]}if(i.isArray(l)){u=-1;for(var d=l.length;++u<d;){var h=l[u];if(r.isObject(h))try{h.unsubscribe()}catch(f){t=t||[],f instanceof a.UnsubscriptionError?t=t.concat(s(f.errors)):t.push(f)}}}if(t)throw new a.UnsubscriptionError(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}()},zEVN:function(e,t,n){var i=n("Gi0A"),r=n("sEf8"),o=n("mdPL"),a=o&&o.isMap,s=a?r(a):i;e.exports=s},zIwB:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i,r=n("mrSG"),o=n("XNiG"),a=n("wd/R"),s=n("RbsG"),c=n("ofgY"),l=function(e){return e.MALE="MALE",e.FEMALE="FEMALE",e.OTHER="OTHER",e}({}),u=n("kh7C"),d=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"loadBookingData",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=11;break}return this.travelers=this.parsePassengers(e.passengers),this.destination=this.parseDestination(e),this.hotel=this.getAccommodationData(e),t.next=6,this.parseContact(e);case 6:this.contact=t.sent,this.payment={success:e.paidStatus===s.m.PaidInFull||e.paidStatus===s.m.OverPaid},this.booking={pnr:e.pnr},t.next=12;break;case 11:this.travelers=[],this.destination=null,this.contact=null,this.hotel={bookingCode:null},this.payment={success:!1},this.booking={pnr:null};case 12:case"end":return t.stop()}}),t,this)})))}},{key:"loadUserData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.user={authenticated:e}}},{key:"parsePassengers",value:function(e){var t=this;try{return e.map((function(e){return{firstName:e.firstName,lastName:e.lastName,gender:t.mapPassengerGender(e.gender),dateOfBirth:t.mapDateToStr(e.dateOfBirth),nationality:e.nationality}}))}catch(n){return[]}}},{key:"parseDestination",value:function(e){var t=this;try{var n=this.bookingRoundTrip(e),i={adults:e.passengers.filter((function(e){return e.type===c.i.ADT})).length,checkIn:n?this.mapDateToStr(e.journeys[0].arrivalDate.scheduled):null,checkOut:n?this.mapDateToStr(e.journeys[1].departureDate.scheduled):null,children:e.passengers.filter((function(e){return e.type===c.i.CHD})).length,childrenAges:[],infants:e.passengers.filter((function(e){return e.type===c.i.INFT})).length,destination:n?e.journeys[0].destination.code:null},r=this.getDateFromStr(e.journeys[0].departureDate.scheduled);return i.childrenAges=e.passengers.filter((function(e){return e.type===c.i.CHD||e.type===c.i.INFT})).map((function(e){return t.getPassengerAge(e,r)})),i}catch(o){return null}}},{key:"parseContact",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,(n=e.contacts.find((function(e){return e.contactType===s.c.Primary})))||(n=e.contacts[0]),!n){t.next=13;break}return t.t1=n.firstName,t.t2=n.lastName,t.next=8,this.getPhoneNumber(n.phoneNumbers);case 8:t.t3=t.sent,t.t4=n.email,t.t0={firstName:t.t1,lastName:t.t2,phone:t.t3,email:t.t4},t.next=14;break;case 13:t.t0=null;case 14:return t.abrupt("return",t.t0);case 17:return t.prev=17,t.t5=t.catch(0),t.abrupt("return",null);case 20:case"end":return t.stop()}}),t,this,[[0,17]])})))}},{key:"mapPassengerGender",value:function(e){switch(e){case c.f.GLOBAL_LABEL_GENDER_MALE:return l.MALE;case c.f.GLOBAL_LABEL_GENDER_FEMALE:return l.FEMALE;default:return l.MALE}}},{key:"mapDateToStr",value:function(e){var t=this.getDateFromStr(e);return t?t.format("YYYY-MM-DD"):null}},{key:"getDateFromStr",value:function(e){try{var t=a(e);return t.isValid()?t:null}catch(n){return null}}},{key:"getPassengerAge",value:function(e,t){try{var n=this.getDateFromStr(null==e?void 0:e.dateOfBirth);return(null==n?void 0:n.isValid())&&(null==t?void 0:t.isValid())?t.diff(n,"years"):null}catch(i){return null}}},{key:"getPhoneNumber",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=e.home){t.next=11;break}t.t0=regeneratorRuntime.keys(e);case 4:if((t.t1=t.t0()).done){t.next=11;break}if(i=t.t1.value,"string"!=typeof e[i]){t.next=9;break}return n=e[i],t.abrupt("break",11);case 9:t.next=4;break;case 11:if(!n){t.next=17;break}return t.next=14,this.parsePhoneNumber(n);case 14:t.t2=t.sent,t.next=18;break;case 17:t.t2=null;case 18:return t.abrupt("return",t.t2);case 21:return t.prev=21,t.t3=t.catch(0),t.abrupt("return",null);case 24:case"end":return t.stop()}}),t,this,[[0,21]])})))}},{key:"bookingRoundTrip",value:function(e){try{return 2===e.journeys.length&&e.journeys[0].origin.code===e.journeys[1].destination.code&&e.journeys[0].destination.code===e.journeys[1].origin.code}catch(t){return!1}}},{key:"getAccommodationData",value:function(e){var t;return{bookingCode:(null===(t=null==e?void 0:e.accommodation)||void 0===t?void 0:t.bookingCode)||null}}},{key:"parsePhoneNumber",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=13;break}return t.prev=1,t.next=4,Object(u.f)(n.e(1).then(n.t.bind(null,"ar4q",7)));case 4:return i=t.sent,r=i.PhoneNumberUtil,o=r.getInstance().parse(e,"MX"),t.abrupt("return","+".concat(o.getCountryCode(),".").concat(o.getNationalNumber()));case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",(console.log("::Error parsing phone number::","Using original value!"),e));case 13:return t.abrupt("return",e);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))}},{key:"toObject",get:function(){return{travelers:this.travelers,destination:this.destination,contact:this.contact,hotel:this.hotel,payment:this.payment,booking:this.booking,user:this.user}}}]),e}(),h=n("fXoL"),f=n("CPX7"),p=n("imvL"),g=((i=function(){function e(t,n){_classCallCheck(this,e),this.baskSvc=t,this.authSvc=n,this._ml_booking=null,this.$bfHotelDataNotifier=new o.a,this._bf_booking=t._bf_booking.bind(t),t=null,this._bf_authenticated=n._bf_authenticated.bind(n),n=null}return _createClass(e,[{key:"exposePWAContextFunctions",value:function(){window.VivaContext={getBasketData:this.getBasketData.bind(this),setHotelData:this.setHotelData.bind(this)}}},{key:"getBasketData",value:function(){var e;return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._ml_booking||this._bf_booking(),i=null!==(e=this._bf_authenticated())&&void 0!==e&&e,r=new d,t.next=3,r.loadBookingData(n);case 3:return r.loadUserData(i),t.abrupt("return",r.toObject);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"setHotelData",value:function(e){var t=this;return new Promise((function(n,i){e?t.$bfHotelDataNotifier.next({data:e,resolve:n,reject:i}):i("A value must be passed to the function!")}))}},{key:"bfHotelDataNotifier$",get:function(){return this.$bfHotelDataNotifier.asObservable()}},{key:"ml_booking",set:function(e){try{this._ml_booking=JSON.parse(JSON.stringify(e))}catch(t){this._ml_booking=void 0}}}]),e}()).\u0275fac=function(e){return new(e||i)(h.dc(f.a),h.dc(p.a))},i.\u0275prov=h.Pb({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},zP0r:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("7o/Q");function r(e){return function(t){return t.lift(new o(e))}}var o=function(){function e(t){_classCallCheck(this,e),this.total=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.total))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).total=i,r.count=0,r}return _createClass(n,[{key:"_next",value:function(e){++this.count>this.total&&this.destination.next(e)}}]),n}(i.a)},zUnb:function(e,t,n){"use strict";var i;n.r(t);var r=n("fXoL");n("Bxln");var o=function e(){var t=this;_classCallCheck(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function a(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}n("r8Ls");var s=function e(t,n){_classCallCheck(this,e),this.type=t,Object.assign(this,n)},c=function(e){_inherits(u,e);var t,n,i,r,c,l=_createSuper(u);function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,u),(t=l.call(this))._registerOptions={},t._updateFoundCount=0,t._swDeferred=new o,t._activeDeferred=new o,t._controllingDeferred=new o,t._registrationTime=0,t._ownSWs=new Set,t._onUpdateFound=function(){var e=t._registration,n=e.installing;t._updateFoundCount>0||!a(n.scriptURL,t._scriptURL)||performance.now()>t._registrationTime+6e4?(t._externalSW=n,e.removeEventListener("updatefound",t._onUpdateFound)):(t._sw=n,t._ownSWs.add(n),t._swDeferred.resolve(n)),++t._updateFoundCount,n.addEventListener("statechange",t._onStateChange)},t._onStateChange=function(e){var n=t._registration,i=e.target,r=i.state,o=i===t._externalSW,a=o?"external":"",c={sw:i,originalEvent:e};!o&&t._isUpdate&&(c.isUpdate=!0),t.dispatchEvent(new s(a+r,c)),"installed"===r?t._waitingTimeout=self.setTimeout((function(){"installed"===r&&n.waiting===i&&t.dispatchEvent(new s(a+"waiting",c))}),200):"activating"===r&&(clearTimeout(t._waitingTimeout),o||t._activeDeferred.resolve(i))},t._onControllerChange=function(e){var n=t._sw;n===navigator.serviceWorker.controller&&(t.dispatchEvent(new s("controlling",{sw:n,originalEvent:e,isUpdate:t._isUpdate})),t._controllingDeferred.resolve(n))},t._onMessage=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(n){var i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.data,r=n.source,e.next=3,t.getSW();case 3:t._ownSWs.has(r)&&t.dispatchEvent(new s("message",{data:i,sw:r,originalEvent:n}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t._scriptURL=e,t._registerOptions=n,navigator.serviceWorker.addEventListener("message",t._onMessage),t}return _createClass(u,[{key:"register",value:(c=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,n,i,r,o=this,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.immediate,i=void 0!==n&&n,e.t0=i||"complete"===document.readyState,e.t0){e.next=5;break}return e.next=5,new Promise((function(e){return window.addEventListener("load",e)}));case 5:return this._isUpdate=Boolean(navigator.serviceWorker.controller),this._compatibleControllingSW=this._getControllingSWIfCompatible(),e.next=9,this._registerScript();case 9:return this._registration=e.sent,this._compatibleControllingSW&&(this._sw=this._compatibleControllingSW,this._activeDeferred.resolve(this._compatibleControllingSW),this._controllingDeferred.resolve(this._compatibleControllingSW),this._compatibleControllingSW.addEventListener("statechange",this._onStateChange,{once:!0})),r=this._registration.waiting,e.abrupt("return",(r&&a(r.scriptURL,this._scriptURL)&&(this._sw=r,Promise.resolve().then((function(){o.dispatchEvent(new s("waiting",{sw:r,wasWaitingBeforeRegister:!0}))})).then((function(){}))),this._sw&&(this._swDeferred.resolve(this._sw),this._ownSWs.add(this._sw)),this._registration.addEventListener("updatefound",this._onUpdateFound),navigator.serviceWorker.addEventListener("controllerchange",this._onControllerChange,{once:!0}),this._registration));case 13:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"update",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._registration,!e.t0){e.next=4;break}return e.next=4,this._registration.update();case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getSW",value:(i=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0!==this._sw?this._sw:this._swDeferred.promise);case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"messageSW",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(e,t){return new Promise((function(n){var i=new MessageChannel;i.port1.onmessage=function(e){n(e.data)},e.postMessage(t,[i.port2])}))},e.next=3,this.getSW();case 3:return e.t1=e.sent,e.t2=t,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_getControllingSWIfCompatible",value:function(){var e=navigator.serviceWorker.controller;return e&&a(e.scriptURL,this._scriptURL)?e:void 0}},{key:"_registerScript",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register(this._scriptURL,this._registerOptions);case 3:return t=e.sent,e.abrupt("return",(this._registrationTime=performance.now(),t));case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return t.apply(this,arguments)})},{key:"active",get:function(){return this._activeDeferred.promise}},{key:"controlling",get:function(){return this._controllingDeferred.promise}}]),u}(function(){function e(){_classCallCheck(this,e),this._eventListenerRegistry=new Map}return _createClass(e,[{key:"addEventListener",value:function(e,t){this._getEventListenersByType(e).add(t)}},{key:"removeEventListener",value:function(e,t){this._getEventListenersByType(e).delete(t)}},{key:"dispatchEvent",value:function(e){e.target=this;var t,n=_createForOfIteratorHelper(this._getEventListenersByType(e.type));try{for(n.s();!(t=n.n()).done;){(0,t.value)(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"_getEventListenersByType",value:function(e){return this._eventListenerRegistry.has(e)||this._eventListenerRegistry.set(e,new Set),this._eventListenerRegistry.get(e)}}]),e}()),l=n("AytR"),u=n("yLV6"),d=n("tk/3"),h=n("jhN1"),f=n("R0Ic");function p(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function g(e){switch(e.length){case 0:return new f.d;case 1:return e[0];default:return new f.p(e)}}function v(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],c=-1,l=null;if(i.forEach((function(e){var n=e.offset,i=n==c,u=i&&l||{};Object.keys(e).forEach((function(n){var i=n,s=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,a),s){case f.q:s=r[n];break;case f.a:s=o[n];break;default:s=t.normalizeStyleValue(n,i,s,a)}u[i]=s})),i||s.push(u),l=u,c=n})),a.length){var u="\n - ";throw new Error("Unable to animate due to the following errors:".concat(u).concat(a.join(u)))}return s}function m(e,t,n,i){switch(t){case"start":e.onStart((function(){return i(n&&b(n,"start",e))}));break;case"done":e.onDone((function(){return i(n&&b(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return i(n&&b(n,"destroy",e))}))}}function b(e,t,n){var i=n.totalTime,r=y(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),o=e._data;return null!=o&&(r._data=o),r}function y(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function _(e,t,n){var i;return e instanceof Map?(i=e.get(t))||e.set(t,i=n):(i=e[t])||(i=e[t]=n),i}function C(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var k=function(e,t){return!1},S=function(e,t){return!1},O=function(e,t,n){return[]},T=p();(T||"undefined"!=typeof Element)&&(k=function(e,t){return e.contains(t)},S=function(){if(T||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:S}(),O=function(e,t,n){var i=[];if(n)i.push.apply(i,_toConsumableArray2(e.querySelectorAll(t)));else{var r=e.querySelector(t);r&&i.push(r)}return i});var w=null,A=!1;function E(e){w||(w=("undefined"!=typeof document?document.body:null)||{},A=!!w.style&&"WebkitAppearance"in w.style);var t=!0;return w.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in w.style)&&A)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in w.style),t}var P=S,M=k,x=O;function D(e){var t={};return Object.keys(e).forEach((function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]})),t}var I,L=((I=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return E(e)}},{key:"matchesElement",value:function(e,t){return P(e,t)}},{key:"containsElement",value:function(e,t){return M(e,t)}},{key:"query",value:function(e,t,n){return x(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,i,r){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new f.d(n,i)}}]),e}()).\u0275fac=function(e){return new(e||I)},I.\u0275prov=r.Pb({token:I,factory:I.\u0275fac}),I),R=function(){var e=function e(){_classCallCheck(this,e)};return e.NOOP=new L,e}();function N(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:j(parseFloat(t[1]),t[2])}function j(e,t){switch(t){case"s":return 1e3*e;default:return e}}function B(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var i,r=0,o="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};i=j(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(r=j(parseFloat(s),a[4]));var c=a[5];c&&(o=c)}else i=e;if(!n){var l=!1,u=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),l=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&t.splice(u,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:i,delay:r,easing:o}}(e,t,n)}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var i in e)n[i]=e[i];else F(e,n);return n}function U(e,t,n){return n?t+":"+n+";":""}function Y(e){for(var t="",n=0;n<e.style.length;n++){var i=e.style.item(n);t+=U(0,i,e.style.getPropertyValue(i))}for(var r in e.style)e.style.hasOwnProperty(r)&&!r.startsWith("_")&&(t+=U(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[r]));e.setAttribute("style",t)}function G(e,t,n){e.style&&(Object.keys(t).forEach((function(i){var r=q(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[r]),e.style[r]=t[i]})),p()&&Y(e))}function V(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=q(t);e.style[n]=""})),p()&&Y(e))}function Z(e){return Array.isArray(e)?1==e.length?e[0]:Object(f.j)(e):e}var W=new RegExp("{{\\s*(.+?)\\s*}}","g");function K(e){var t=[];if("string"==typeof e){for(var n;n=W.exec(e);)t.push(n[1]);W.lastIndex=0}return t}function z(e,t,n){var i=e.toString(),r=i.replace(W,(function(e,i){var r=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),r=""),r.toString()}));return r==i?e:r}function Q(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var X=/-+([a-z0-9])/g;function q(e){return e.replace(X,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function $(e,t){return 0===e||0===t}function J(e,t,n){var i=Object.keys(n);if(i.length&&t.length){var r=t[0],o=[];if(i.forEach((function(e){r.hasOwnProperty(e)||o.push(e),r[e]=n[e]})),o.length)for(var a=function(){var n=t[s];o.forEach((function(t){n[t]=te(e,t)}))},s=1;s<t.length;s++)a()}return t}function ee(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function te(e,t){return window.getComputedStyle(e)[t]}var ne=new Set(["true","1"]),ie=new Set(["false","0"]);function re(e,t){var n=ne.has(e)||ie.has(e),i=ne.has(t)||ie.has(t);return function(r,o){var a="*"==e||e==r,s="*"==t||t==o;return!a&&n&&"boolean"==typeof r&&(a=r?ne.has(e):ie.has(e)),!s&&i&&"boolean"==typeof o&&(s=o?ne.has(t):ie.has(t)),a&&s}}var oe=new RegExp("s*:selfs*,?","g");function ae(e,t,n){return new se(e).build(t,n)}var se=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new ce(t);return this._resetContextStyleTimingState(n),ee(this,Z(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,i=t.queryCount=0,r=t.depCount=0,o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,c=s.name;c.toString().split(/\s*,\s*/).forEach((function(e){s.name=e,o.push(n.visitState(s,t))})),s.name=c}else if(1==e.type){var l=n.visitTransition(e,t);i+=l.queryCount,r+=l.depCount,a.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){var r=new Set,o=i||{};if(n.styles.forEach((function(e){if(le(e)){var t=e;Object.keys(t).forEach((function(e){K(t[e]).forEach((function(e){o.hasOwnProperty(e)||r.add(e)}))}))}})),r.size){var a=Q(r.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,i,r,o=ee(this,Z(e.animation),t);return{type:1,matchers:(n=e.expr,i=t.errors,r=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}var r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=r[1],a=r[2],s=r[3];t.push(re(o,s)),"<"!=a[0]||"*"==o&&"*"==s||t.push(re(s,o))}(e,r,i)})):r.push(n),r),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:ue(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return ee(n,e,t)})),options:ue(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,i=t.currentTime,r=0,o=e.steps.map((function(e){t.currentTime=i;var o=ee(n,e,t);return r=Math.max(r,t.currentTime),o}));return t.currentTime=r,{type:3,steps:o,options:ue(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,i=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return de(B(e,t).duration,0,"");var i=e;if(i.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var r=de(0,0,"");return r.dynamic=!0,r.strValue=i,r}return de((n=n||B(i,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;var r=e.styles?e.styles:Object(f.l)({});if(5==r.type)n=this.visitKeyframes(r,t);else{var o=e.styles,a=!1;if(!o){a=!0;var s={};i.easing&&(s.easing=i.easing),o=Object(f.l)(s)}t.currentTime+=i.duration+i.delay;var c=this.visitStyle(o,t);c.isEmptyStep=a,n=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?e==f.a?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var i=!1,r=null;return n.forEach((function(e){if(le(e)){var t=e,n=t.easing;if(n&&(r=n,delete t.easing),!i)for(var o in t)if(t[o].toString().indexOf("{{")>=0){i=!0;break}}})),{type:6,styles:n,easing:r,offset:e.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,i=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(i){if(n._driver.validateStyleProperty(i)){var a,s,c,l,u,d=t.collectedStyles[t.currentQuerySelector],h=d[i],f=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(h.startTime,'ms" and "').concat(h.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(r,'ms"')),f=!1),o=h.startTime),f&&(d[i]={startTime:o,endTime:r}),t.options&&(a=e[i],s=t.options,c=t.errors,l=s.params||{},(u=K(a)).length&&u.forEach((function(e){l.hasOwnProperty(e)||c.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})))}else t.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;var r=0,o=[],a=!1,s=!1,c=0,l=e.steps.map((function(e){var i=n._makeStyleAst(e,t),l=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(le(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(le(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(i.styles),u=0;return null!=l&&(r++,u=i.offset=l),s=s||u<0||u>1,a=a||u<c,c=u,o.push(u),i}));s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var u=e.steps.length,d=0;r>0&&r<u?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(d=1/(u-1));var h=u-1,f=t.currentTime,p=t.currentAnimateTimings,g=p.duration;return l.forEach((function(e,r){var a=d>0?r==h?1:d*r:o[r],s=a*g;t.currentTime=f+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=a,i.styles.push(e)})),i}},{key:"visitReference",value:function(e,t){return{type:8,animation:ee(this,Z(e.animation),t),options:ue(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:ue(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ue(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;var r=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(oe,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),o=r[0],a=r[1];t.currentQuerySelector=n.length?n+" "+o:o,_(t.collectedStyles,t.currentQuerySelector,{});var s=ee(this,Z(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:s,originalSelector:e.selector,options:ue(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:B(e.timings,t.errors,!0);return{type:12,animation:ee(this,Z(e.animation),t),timings:n,options:null}}}]),e}(),ce=function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function le(e){return!Array.isArray(e)&&"object"==typeof e}function ue(e){var t;return e?(e=F(e)).params&&(e.params=(t=e.params)?F(t):null):e={},e}function de(e,t,n){return{duration:e,delay:t,easing:n}}function he(e,t,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var fe=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,i=this._map.get(e);i||this._map.set(e,i=[]),(n=i).push.apply(n,_toConsumableArray2(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),pe=new RegExp(":enter","g"),ge=new RegExp(":leave","g");function ve(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new me).buildKeyframes(e,t,n,i,r,o,a,s,c,l)}var me=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,i,r,o,a,s,c){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];c=c||new fe;var u=new ye(e,t,c,i,r,l,[]);u.options=s,u.currentTimeline.setStyles([o],null,u.errors,s),ee(this,n,u);var d=u.timelines.filter((function(e){return e.containsAnimation()}));if(d.length&&Object.keys(a).length){var h=d[d.length-1];h.allowOnlyTimelineStyles()||h.setStyles([a],null,u.errors,s)}return d.length?d.map((function(e){return e.buildKeyframes()})):[he(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var i=t.currentTimeline.currentTime,r=null!=n.duration?N(n.duration):null,o=null!=n.delay?N(n.delay):null;return 0!==r&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,r,o);i=Math.max(i,n.duration+n.delay)})),i}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),ee(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,i=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&((r=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=be);var a=N(o.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach((function(e){return ee(n,e,r)})),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,i=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?N(e.options.delay):0;e.steps.forEach((function(a){var s=t.createSubContext(e.options);o&&s.delayNextStep(o),ee(n,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)})),i.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(r),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return B(t.params?z(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());var r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,i=t.currentTimeline.duration,r=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach((function(e){o.forwardTime((e.offset||0)*r),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(i+r),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?N(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=be);var a=i,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=s.length;var c=null;s.forEach((function(i,r){t.currentQueryIndex=r;var s=t.createSubContext(e.options,i);o&&s.delayNextStep(o),i===t.element&&(c=s.currentTimeline),ee(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,i=t.currentTimeline,r=e.timings,o=Math.abs(r.duration),a=o*(t.currentQueryTotal-1),s=o*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var c=t.currentTimeline;s&&c.delayNextStep(s);var l=c.currentTime;ee(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)}}]),e}(),be={},ye=function(){function e(t,n,i,r,o,a,s,c){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=be,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new _e(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(e,[{key:"updateOptions",value:function(e,t){var n=this;if(e){var i=e,r=this.options;null!=i.duration&&(r.duration=N(i.duration)),null!=i.delay&&(r.delay=N(i.delay));var o=i.params;if(o){var a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(e){t&&a.hasOwnProperty(e)||(a[e]=z(o[e],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=n||this.element,o=new e(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=be,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},r=new Ce(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,i,r,o){var a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(pe,"."+this._enterClassName)).replace(ge,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray2(s))}return r||0!=a.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),e}(),_e=function(){function e(t,n,i,r){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||f.a,t._currentKeyframe[e]=f.a})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,i){var r=this;t&&(this._previousKeyframe.easing=t);var o=i&&i.params||{},a=function(e,t){var n,i={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){i[e]=f.a})):H(e,!1,i)})),i}(e,this._globalTimelineStyles);Object.keys(a).forEach((function(e){var t=z(a[e],o,n);r._pendingStyles[e]=t,r._localTimelineStyles.hasOwnProperty(e)||(r._backFill[e]=r._globalTimelineStyles.hasOwnProperty(e)?r._globalTimelineStyles[e]:f.a),r._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var i=t._styleSummary[n],r=e._styleSummary[n];(!i||r.time>i.time)&&t._updateStyle(n,r.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach((function(o,a){var s=H(o,!0);Object.keys(s).forEach((function(e){var i=s[e];i==f.q?t.add(e):i==f.a&&n.add(e)})),i||(s.offset=a/e.duration),r.push(s)}));var o=t.size?Q(t.values()):[],a=n.size?Q(n.values()):[];if(i){var s=r[0],c=F(s);s.offset=0,c.offset=1,r=[s,c]}return he(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}}]),e}(),Ce=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a,s){var c,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(c=t.call(this,e,i,s.delay)).element=i,c.keyframes=r,c.preStyleProps=o,c.postStyleProps=a,c._stretchStartingKeyframe=l,c.timings={duration:s.duration,delay:s.delay,easing:s.easing},c}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,i=t.duration,r=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=i+n,s=n/a,c=H(e[0],!1);c.offset=0,o.push(c);var l=H(e[0],!1);l.offset=ke(s),o.push(l);for(var u=e.length-1,d=1;d<=u;d++){var h=H(e[d],!1);h.offset=ke((n+h.offset*i)/a),o.push(h)}i=a,n=0,r="",e=o}return he(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}]),n}(_e);function ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var Se,Oe,Te=function e(){_classCallCheck(this,e)},we=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(e,t){return q(e)}},{key:"normalizeStyleValue",value:function(e,t,n,i){var r="",o=n.toString().trim();if(Ae[t]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+r}}]),n}(Te),Ae=(Se="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),Oe={},Se.forEach((function(e){return Oe[e]=!0})),Oe);function Ee(e,t,n,i,r,o,a,s,c,l,u,d,h){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}var Pe={},Me=function(){function e(t,n,i){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=i}return _createClass(e,[{key:"match",value:function(e,t,n,i){return function(e,t,n,i,r){return e.some((function(e){return e(t,n,i,r)}))}(this.ast.matchers,e,t,n,i)}},{key:"buildStyles",value:function(e,t,n){var i=this._stateStyles["*"],r=this._stateStyles[e],o=i?i.buildStyles(t,n):{};return r?r.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,i,r,o,a,s,c,l){var u=[],d=this.ast.options&&this.ast.options.params||Pe,h=this.buildStyles(n,a&&a.params||Pe,u),f=s&&s.params||Pe,p=this.buildStyles(i,f,u),g=new Set,v=new Map,m=new Map,b="void"===i,y={params:Object.assign(Object.assign({},d),f)},C=l?[]:ve(e,t,this.ast.animation,r,o,h,p,y,c,u),k=0;if(C.forEach((function(e){k=Math.max(e.duration+e.delay,k)})),u.length)return Ee(t,this._triggerName,n,i,b,h,p,[],[],v,m,k,u);C.forEach((function(e){var n=e.element,i=_(v,n,{});e.preStyleProps.forEach((function(e){return i[e]=!0}));var r=_(m,n,{});e.postStyleProps.forEach((function(e){return r[e]=!0})),n!==t&&g.add(n)}));var S=Q(g.values());return Ee(t,this._triggerName,n,i,b,h,p,C,S,v,m,k)}}]),e}(),xe=function(){function e(t,n){_classCallCheck(this,e),this.styles=t,this.defaultParams=n}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n={},i=F(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(i[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var r=e;Object.keys(r).forEach((function(e){var o=r[e];o.length>1&&(o=z(o,i,t)),n[e]=o}))}})),n}}]),e}(),De=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){i.states[e.name]=new xe(e.style,e.options&&e.options.params||{})})),Ie(this.states,"true","1"),Ie(this.states,"false","0"),n.transitions.forEach((function(e){i.transitionFactories.push(new Me(t,e,i.states))})),this.fallbackTransition=new Me(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(e,[{key:"matchTransition",value:function(e,t,n,i){return this.transitionFactories.find((function(r){return r.match(e,t,n,i)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),e}();function Ie(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var Le=new fe,Re=function(){function e(t,n,i){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],i=ae(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=i}},{key:"_buildPlayer",value:function(e,t,n){var i=e.element,r=v(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[e],s=new Map;if(a?(n=ve(this._driver,t,a,"ng-enter","ng-leave",{},{},r,Le,o)).forEach((function(e){var t=_(s,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=i._driver.computeStyle(t,n,f.a)}))}));var c=g(n.map((function(e){var t=s.get(e.element);return i._buildPlayer(e,{},t)})));return this._playersById[e]=c,c.onDestroy((function(){return i.destroy(e)})),this.players.push(c),c}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}},{key:"listen",value:function(e,t,n,i){var r=y(t,"","","");return m(this._getPlayer(e),n,r,i),function(){}}},{key:"command",value:function(e,t,n,i){if("register"!=n)if("create"!=n){var r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,i[0]||{});else this.register(e,i[0])}}]),e}(),Ne=[],je={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Be={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var i,r=t&&t.hasOwnProperty("value");if(this.value=null!=(i=r?t.value:t)?i:null,r){var o=F(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}},{key:"params",get:function(){return this.options.params}}]),e}(),He=new Fe("void"),Ue=function(){function e(t,n,i){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ze(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,i){var r,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(r=n)&&"done"!=r)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var a=_(this._elementListeners,e,[]),s={name:t,phase:n,callback:i};a.push(s);var c=_(this._engine.statesByElement,e,{});return c.hasOwnProperty(t)||(ze(e,"ng-trigger"),ze(e,"ng-trigger-"+t),c[t]=He),function(){o._engine.afterFlush((function(){var e=a.indexOf(s);e>=0&&a.splice(e,1),o._triggers[t]||delete c[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),a=new Ge(this.id,t,e),s=this._engine.statesByElement.get(e);s||(ze(e,"ng-trigger"),ze(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var c=s[t],l=new Fe(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),s[t]=l,c||(c=He),"void"===l.value||c.value!==l.value){var u=_(this._engine.playersByElement,e,[]);u.forEach((function(e){e.namespaceId==i.id&&e.triggerName==t&&e.queued&&e.destroy()}));var d=o.matchTransition(c.value,l.value,e,l.params),h=!1;if(!d){if(!r)return;d=o.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:d,fromState:c,toState:l,player:a,isFallbackTransition:h}),h||(ze(e,"ng-animate-queued"),a.onStart((function(){Qe(e,"ng-animate-queued")}))),a.onDone((function(){var t=i.players.indexOf(a);t>=0&&i.players.splice(t,1);var n=i._engine.playersByElement.get(e);if(n){var r=n.indexOf(a);r>=0&&n.splice(r,1)}})),this.players.push(a),u.push(a),a}if(!function(e,t){var n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(c.params,l.params)){var f=[],p=o.matchStyles(c.value,c.params,f),g=o.matchStyles(l.value,l.params,f);f.length?this._engine.reportError(f):this._engine.afterFlush((function(){V(e,p),G(e,g)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,i){t._elementListeners.set(i,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,i=this._engine.driver.query(e,".ng-trigger",!0);i.forEach((function(e){if(!e.__ng_removed){var i=n._engine.fetchNamespacesByElement(e);i.size?i.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}})),this._engine.afterFlushAnimationsDone((function(){return i.forEach((function(e){return n.clearElementCache(e)}))}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,i){var r=this,o=this._engine.statesByElement.get(e);if(o){var a=[];if(Object.keys(o).forEach((function(t){if(r._triggers[t]){var n=r.trigger(e,t,"void",i);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&g(a).onDone((function(){return r._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var i=new Set;n.forEach((function(n){var r=n.name;if(!i.has(r)){i.add(r);var o=t._triggers[r].fallbackTransition,a=t._engine.statesByElement.get(e)[r]||He,s=new Fe("void"),c=new Ge(t.id,r,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:r,transition:o,fromState:a,toState:s,player:c,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var r=!1;if(i.totalAnimations){var o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else for(var a=e;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{var s=e.__ng_removed;s&&s!==je||(i.afterFlush((function(){return n.clearElementCache(e)})),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){ze(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(i){var r=i.player;if(!r.destroyed){var o=i.element,a=t._elementListeners.get(o);a&&a.forEach((function(t){if(t.name==i.triggerName){var n=y(o,i.triggerName,i.fromState.value,i.toState.value);n._data=e,m(i.player,t.phase,n,t.callback)}})),r.markedForDestroy?t._engine.afterFlush((function(){r.destroy()})):n.push(i)}})),this._queue=[],n.sort((function(e,n){var i=e.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),Ye=function(){function e(t,n,i){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new Ue(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var i=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(i);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return i.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var o=n[i[r]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&t.add(a)}}return t}},{key:"trigger",value:function(e,t,n,i){if(Ve(t)){var r=this._fetchNamespace(e);if(r)return r.trigger(t,n,i),!0}return!1}},{key:"insertNode",value:function(e,t,n,i){if(Ve(t)){var r=t.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var a=this._fetchNamespace(e);a&&a.insertNode(t,n)}i&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ze(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Qe(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,i){if(Ve(t)){var r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}},{key:"markElementAsRemoved",value:function(e,t,n,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,i,r){return Ve(t)?this._fetchNamespace(e).listen(t,n,i,r):function(){}}},{key:"_buildInstruction",value:function(e,t,n,i,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,r)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return g(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=je,n.namespaceId){this.destroyInnerAnimations(e);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)ze(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var r=[];try{n=this._flushAnimations(r,t)}finally{for(var o=0;o<r.length;o++)r[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?g(n).onDone((function(){s.forEach((function(e){return e()}))})):s.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}},{key:"_flushAnimations",value:function(e,t){var n=this,i=new fe,r=[],o=new Map,a=[],s=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach((function(e){u.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),i=0;i<t.length;i++)u.add(t[i])}));var d=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=Ke(h,this.collectedEnterElements),v=new Map,m=0;p.forEach((function(e,t){var n="ng-enter"+m++;v.set(t,n),e.forEach((function(e){return ze(e,n)}))}));for(var b=[],y=new Set,C=new Set,k=0;k<this.collectedLeaveElements.length;k++){var S=this.collectedLeaveElements[k],O=S.__ng_removed;O&&O.setForRemoval&&(b.push(S),y.add(S),O.hasAnimation?this.driver.query(S,".ng-star-inserted",!0).forEach((function(e){return y.add(e)})):C.add(S))}var T=new Map,w=Ke(h,Array.from(y));w.forEach((function(e,t){var n="ng-leave"+m++;T.set(t,n),e.forEach((function(e){return ze(e,n)}))})),e.push((function(){p.forEach((function(e,t){var n=v.get(t);e.forEach((function(e){return Qe(e,n)}))})),w.forEach((function(e,t){var n=T.get(t);e.forEach((function(e){return Qe(e,n)}))})),b.forEach((function(e){n.processLeaveNode(e)}))}));for(var A=[],E=[],P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(t).forEach((function(e){var t=e.player,o=e.element;if(A.push(t),n.collectedEnterElements.length){var u=o.__ng_removed;if(u&&u.setForMove)return void t.destroy()}var h=!d||!n.driver.containsElement(d,o),f=T.get(o),p=v.get(o),g=n._buildInstruction(e,i,p,f,h);if(g.errors&&g.errors.length)E.push(g);else{if(h)return t.onStart((function(){return V(o,g.fromStyles)})),t.onDestroy((function(){return G(o,g.toStyles)})),void r.push(t);if(e.isFallbackTransition)return t.onStart((function(){return V(o,g.fromStyles)})),t.onDestroy((function(){return G(o,g.toStyles)})),void r.push(t);g.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),i.append(o,g.timelines),a.push({instruction:g,player:t,element:o}),g.queriedElements.forEach((function(e){return _(s,e,[]).push(t)})),g.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var i=c.get(t);i||c.set(t,i=new Set),n.forEach((function(e){return i.add(e)}))}})),g.postStyleProps.forEach((function(e,t){var n=Object.keys(e),i=l.get(t);i||l.set(t,i=new Set),n.forEach((function(e){return i.add(e)}))}))}}));if(E.length){var M=[];E.forEach((function(e){M.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return M.push("- ".concat(e,"\n"))}))})),A.forEach((function(e){return e.destroy()})),this.reportError(M)}var x=new Map,D=new Map;a.forEach((function(e){var t=e.element;i.has(t)&&(D.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,x))})),r.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){_(x,t,[]).push(e),e.destroy()}))}));var I=b.filter((function(e){return qe(e,c,l)})),L=new Map;We(L,this.driver,C,l,f.a).forEach((function(e){qe(e,c,l)&&I.push(e)}));var R=new Map;p.forEach((function(e,t){We(R,n.driver,new Set(e),c,f.q)})),I.forEach((function(e){var t=L.get(e),n=R.get(e);L.set(e,Object.assign(Object.assign({},t),n))}));var N=[],j=[],B={};a.forEach((function(e){var t=e.element,a=e.player,s=e.instruction;if(i.has(t)){if(u.has(t))return a.onDestroy((function(){return G(t,s.toStyles)})),a.disabled=!0,a.overrideTotalTime(s.totalTime),void r.push(a);var c=B;if(D.size>1){for(var l=t,d=[];l=l.parentNode;){var h=D.get(l);if(h){c=h;break}d.push(l)}d.forEach((function(e){return D.set(e,c)}))}var f=n._buildAnimation(a.namespaceId,s,x,o,R,L);if(a.setRealPlayer(f),c===B)N.push(a);else{var p=n.playersByElement.get(c);p&&p.length&&(a.parentPlayer=g(p)),r.push(a)}}else V(t,s.fromStyles),a.onDestroy((function(){return G(t,s.toStyles)})),j.push(a),u.has(t)&&r.push(a)})),j.forEach((function(e){var t=o.get(e.element);if(t&&t.length){var n=g(t);e.setRealPlayer(n)}})),r.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var F=0;F<b.length;F++){var H=b[F],U=H.__ng_removed;if(Qe(H,"ng-leave"),!U||!U.hasAnimation){var Y=[];if(s.size){var Z=s.get(H);Z&&Z.length&&Y.push.apply(Y,_toConsumableArray2(Z));for(var W=this.driver.query(H,".ng-animating",!0),K=0;K<W.length;K++){var z=s.get(W[K]);z&&z.length&&Y.push.apply(Y,_toConsumableArray2(z))}}var Q=Y.filter((function(e){return!e.destroyed}));Q.length?Xe(this,H,Q):this.processLeaveNode(H)}}return b.length=0,N.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),N}},{key:"elementContainsData",value:function(e,t){var n=!1,i=t.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,i,r){var o=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(o=a)}else{var s=this.playersByElement.get(e);if(s){var c=!r||"void"==r;s.forEach((function(e){e.queued||(c||e.triggerName==i)&&o.push(e)}))}}return(n||i)&&(o=o.filter((function(e){return!(n&&n!=e.namespaceId||i&&i!=e.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var i,r=this,o=t.element,a=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,c=_createForOfIteratorHelper(t.timelines);try{var l=function(){var e=i.value.element,c=e!==o,l=_(n,e,[]);r._getPreviousPlayers(e,c,a,s,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)}))};for(c.s();!(i=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}V(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,i,r,o){var a=this,s=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,h=t.timelines.map((function(t){var h=t.element;u.add(h);var p=h.__ng_removed;if(p&&p.removedBeforeQueried)return new f.d(t.duration,t.delay);var g,m,b=h!==c,y=(g=(n.get(h)||Ne).map((function(e){return e.getRealPlayer()})),m=[],function e(t,n){for(var i=0;i<t.length;i++){var r=t[i];r instanceof f.p?e(r.players,n):n.push(r)}}(g,m),m).filter((function(e){return!!e.element&&e.element===h})),_=r.get(h),C=o.get(h),k=v(0,a._normalizer,0,t.keyframes,_,C),S=a._buildPlayer(t,k,y);if(t.subTimeline&&i&&d.add(h),b){var O=new Ge(e,s,h);O.setRealPlayer(S),l.push(O)}return S}));l.forEach((function(e){_(a.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var i;if(e instanceof Map){if(i=e.get(t)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&e.delete(t)}}else if(i=e[t]){if(i.length){var o=i.indexOf(n);i.splice(o,1)}0==i.length&&delete e[t]}return i}(a.playersByQueriedElement,e.element,e)}))})),u.forEach((function(e){return ze(e,"ng-animating")}));var p=g(h);return p.onDestroy((function(){u.forEach((function(e){return Qe(e,"ng-animating")})),G(c,t.toStyles)})),d.forEach((function(e){_(i,e,[]).push(p)})),p}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new f.d(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}}]),e}(),Ge=function(){function e(t,n,i){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new f.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return m(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){_(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function Ve(e){return e&&1===e.nodeType}function Ze(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function We(e,t,n,i,r){var o=[];n.forEach((function(e){return o.push(Ze(e))}));var a=[];i.forEach((function(n,i){var o={};n.forEach((function(e){var n=o[e]=t.computeStyle(i,e,r);n&&0!=n.length||(i.__ng_removed=Be,a.push(i))})),e.set(i,o)}));var s=0;return n.forEach((function(e){return Ze(e,o[s++])})),a}function Ke(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var i=new Set(t),r=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var o=r.get(t);if(o)return o;var a=t.parentNode;return o=n.has(a)?a:i.has(a)?1:e(a),r.set(t,o),o}(e);1!==t&&n.get(t).push(e)})),n}function ze(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Qe(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function Xe(e,t,n){g(n).onDone((function(){return e.processLeaveNode(t)}))}function qe(e,t,n){var i=n.get(e);if(!i)return!1;var r=t.get(e);return r?i.forEach((function(e){return r.add(e)})):t.set(e,i),n.delete(e),!0}var $e=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new Ye(t,n,i),this._timelineEngine=new Re(t,n,i),this._transitionEngine.onRemovalComplete=function(e,t){return r.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,i,r){var o=e+"-"+i,a=this._triggerCache[o];if(!a){var s=[],c=ae(this._driver,r,s);if(s.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(e,t){return new De(e,t)}(i,c),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}},{key:"onRemove",value:function(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,i){if("@"==n.charAt(0)){var r=_slicedToArray(C(n),2),o=r[0],a=r[1];this._timelineEngine.command(o,t,a,i)}else this._transitionEngine.trigger(e,t,n,i)}},{key:"listen",value:function(e,t,n,i,r){if("@"==n.charAt(0)){var o=_slicedToArray(C(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,t,s,r)}return this._transitionEngine.listen(e,t,n,i,r)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),e}();function Je(e,t){var n=null,i=null;return Array.isArray(t)&&t.length?(n=tt(t[0]),t.length>1&&(i=tt(t[t.length-1]))):t&&(n=tt(t)),n||i?new et(e,n,i):null}var et=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;var r=e.initialStylesByElement.get(t);r||e.initialStylesByElement.set(t,r={}),this._initialStyles=r}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&G(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(G(this._element,this._initialStyles),this._endStyles&&(G(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(V(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(V(this._element,this._endStyles),this._endStyles=null),G(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function tt(e){for(var t=null,n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];nt(r)&&((t=t||{})[r]=e[r])}return t}function nt(e){return"display"===e||"position"===e}var it=function(){function e(t,n,i,r,o,a,s){var c=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=i,this._delay=r,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return c._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=lt(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),ct(e,"",t),st(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){rt(this._element,this._name,"paused")}},{key:"resume",value:function(){rt(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=ot(this._element,this._name);this._position=e*this._duration,ct(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),st(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n,i;this._destroyed||(this._destroyed=!0,this.finish(),e=this._element,t=this._name,n=lt(e,"").split(","),(i=at(n,t))>=0&&(n.splice(i,1),ct(e,"",n.join(","))))}}]),e}();function rt(e,t,n){ct(e,"PlayState",n,ot(e,t))}function ot(e,t){var n=lt(e,"");return n.indexOf(",")>0?at(n.split(","),t):at([n],t)}function at(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function st(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function ct(e,t,n,i){var r="animation"+t;if(null!=i){var o=e.style[r];if(o.length){var a=o.split(",");a[i]=n,n=a.join(",")}}e.style[r]=n}function lt(e,t){return e.style["animation"+t]}var ut=function(){function e(t,n,i,r,o,a,s,c){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=s,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=r+o,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new it(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(i){"offset"!=i&&(t[i]=n?e._finalStyles[i]:te(e.element,i))}))}this.currentSnapshot=t}}]),e}(),dt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).element=e,r._startingStyles={},r.__initialized=!1,r._styles=D(i),r}return _createClass(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(f.d),ht=function(){function e(){_classCallCheck(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return E(e)}},{key:"matchesElement",value:function(e,t){return P(e,t)}},{key:"containsElement",value:function(e,t){return M(e,t)}},{key:"query",value:function(e,t,n){return x(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return D(e)}));var i="@keyframes ".concat(t," {\n"),r="";n.forEach((function(e){r=" ";var t=parseFloat(e.offset);i+="".concat(r).concat(100*t,"% {\n"),r+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+="".concat(r,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(r).concat(t,": ").concat(n,";\n"))}})),i+=r+"}\n"})),i+="}\n";var o=document.createElement("style");return o.innerHTML=i,o}},{key:"animate",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(e){return e instanceof ut})),c={};$(n,i)&&s.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return c[e]=t[e]}))}));var l=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=J(e,t,c));if(0==n)return new dt(e,l);var u="gen_css_kf_"+this._count++,d=this.buildKeyframeElement(e,u,t);document.querySelector("head").appendChild(d);var h=Je(e,t),f=new ut(e,t,u,n,i,r,l,h);return f.onDestroy((function(){var e;(e=d).parentNode.removeChild(e)})),f}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),ft=function(){function e(t,n,i,r){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:te(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),e}(),pt=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(gt().toString()),this._cssKeyframesDriver=new ht}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return E(e)}},{key:"matchesElement",value:function(e,t){return P(e,t)}},{key:"containsElement",value:function(e,t){return M(e,t)}},{key:"query",value:function(e,t,n){return x(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,r,o);var s={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(s.easing=r);var c={},l=o.filter((function(e){return e instanceof ft}));$(n,i)&&l.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return c[e]=t[e]}))}));var u=Je(e,t=J(e,t=t.map((function(e){return H(e,!1)})),c));return new ft(e,t,s,u)}}]),e}();function gt(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var vt,mt=n("ofXK"),bt=((vt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this))._nextAnimationId=0,o._renderer=e.createRenderer(i.body,{id:"0",encapsulation:r.T.None,styles:[],data:{animation:[]}}),o}return _createClass(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Object(f.j)(e):e;return Ct(this._renderer,null,t,"register",[n]),new yt(t,this._renderer)}}]),n}(f.b)).\u0275fac=function(e){return new(e||vt)(r.dc(r.J),r.dc(mt.e))},vt.\u0275prov=r.Pb({token:vt,factory:vt.\u0275fac}),vt),yt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this))._id=e,r._renderer=i,r}return _createClass(n,[{key:"create",value:function(e,t){return new _t(this._id,e,t||{},this._renderer)}}]),n}(f.c),_t=function(){function e(t,n,i,r){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Ct(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function Ct(e,t,n,i,r){return e.setProperty(t,"@@".concat(n,":").concat(i),r)}var kt,St,Ot,Tt,wt,At,Et,Pt,Mt,xt,Dt=((kt=function(){function e(t,n,i){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var r=this._rendererCache.get(i);return r||(r=new It("",i,this.engine),this._rendererCache.set(i,r)),r}var o=t.id,a=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,e),t.data.animation.forEach((function t(i){Array.isArray(i)?i.forEach(t):n.engine.registerTrigger(o,a,e,i.name,i)})),new Lt(this,a,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var i=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){i._zone.run((function(){i._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])})),i._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}()).\u0275fac=function(e){return new(e||kt)(r.dc(r.J),r.dc($e),r.dc(r.E))},kt.\u0275prov=r.Pb({token:kt,factory:kt.\u0275fac}),kt),It=function(){function e(t,n,i){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,i){this.delegate.setStyle(e,t,n,i)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),e}(),Lt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,i,r,o)).factory=e,a.namespaceId=i,a}return _createClass(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var i,r,o=this;if("@"==t.charAt(0)){var a,s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),c=t.substr(1),l="";return"@"!=c.charAt(0)&&(r=(i=c).indexOf("."),c=(a=_slicedToArray([i.substring(0,r),i.substr(r+1)],2))[0],l=a[1]),this.engine.listen(this.namespaceId,s,c,l,(function(e){o.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),n}(It),Rt=((St=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){return _classCallCheck(this,n),t.call(this,e.body,i,r)}return n}($e)).\u0275fac=function(e){return new(e||St)(r.dc(mt.e),r.dc(R),r.dc(Te))},St.\u0275prov=r.Pb({token:St,factory:St.\u0275fac}),St),Nt=[{provide:R,useFactory:function(){return"function"==typeof gt()?new pt:new ht}},{provide:new r.t("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:f.b,useClass:bt},{provide:Te,useFactory:function(){return new we}},{provide:$e,useClass:Rt},{provide:r.J,useFactory:function(e,t,n){return new Dt(e,t,n)},deps:[h.k,$e,r.E]}],jt=((Ot=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Ot}),Ot.\u0275inj=r.Qb({factory:function(e){return new(e||Ot)},providers:Nt,imports:[h.a]}),Ot),Bt=n("tyNb"),Ft=n("s6QE"),Ht=n("/K1/"),Ut=n("VHOi"),Yt=((Tt=function(){function e(t,n,i){_classCallCheck(this,e),this.token=t,this.router=n,this.document=i}return _createClass(e,[{key:"canActivate",value:function(e,t){if(this.token.authToken)return!0;var n=this.router.parseUrl(t.url);return!(!n.queryParamMap.has("authToken")&&!n.queryParamMap.has("activation_code")&&(this.router.navigate(["/"],{queryParams:{showLogin:!0,loginRedirect:!0,redirectUrl:this.document.location.href}}),1))}}]),e}()).\u0275fac=function(e){return new(e||Tt)(r.dc(Ut.a),r.dc(Bt.g),r.dc(mt.e))},Tt.\u0275prov=r.Pb({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),Tt),Gt=n("mrSG"),Vt=n("PqYM"),Zt=n("ngAm"),Wt=((wt=function(){function e(t){_classCallCheck(this,e),this.seoService=t}return _createClass(e,[{key:"resolve",value:function(e){return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",e.data&&e.data.meta?(Object(Vt.a)(0).subscribe((function(){n.seoService.setMetaTags(e.data.meta)})),!0):(e.data&&e.data.noMeta&&Object(Vt.a)(0).subscribe((function(){n.seoService.removeMetaTags(e.data.noMeta)})),!1));case 4:return t.prev=4,t.t0=t.catch(0),t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t,null,[[0,4]])})))}}]),e}()).\u0275fac=function(e){return new(e||wt)(r.dc(Zt.a))},wt.\u0275prov=r.Pb({token:wt,factory:wt.\u0275fac}),wt),Kt={scrollPositionRestoration:"enabled",onSameUrlNavigation:"reload",anchorScrolling:"enabled",scrollOffset:[0,120]},zt=[{path:"irop",data:{meta:{robots:"noindex, nofollow"}},resolve:{SEOResolver:Wt},loadChildren:function(){return Promise.all([n.e(27),n.e(86)]).then(n.bind(null,"VxZQ")).then((function(e){return e.IropModule}))},canActivate:[Ft.a],canLoad:[Ft.a]},{path:"check-in",data:{meta:{robots:"noindex, nofollow"}},resolve:{SEOResolver:Wt},loadChildren:function(){return Promise.all([n.e(27),n.e(85)]).then(n.bind(null,"SGYw")).then((function(e){return e.CheckInModule}))},canActivate:[Ft.a],canLoad:[Ft.a]},{path:"manage",data:{meta:{robots:"noindex, nofollow"}},resolve:{SEOResolver:Wt},loadChildren:function(){return Promise.all([n.e(27),n.e(4)]).then(n.bind(null,"kzvD")).then((function(e){return e.ManageModule}))},canActivate:[Ft.a],canLoad:[Ft.a]},{path:"flight-status",data:{meta:{robots:"noindex, nofollow"}},resolve:{SEOResolver:Wt},loadChildren:function(){return Promise.all([n.e(1),n.e(3),n.e(5),n.e(80)]).then(n.bind(null,"NSl5")).then((function(e){return e.FlightStatusModule}))},canActivate:[Ft.a],canLoad:[Ft.a]},{path:"maintenance",data:{meta:{robots:"noindex, nofollow"},hideHeader:!0,hideFooter:!0,fullScreen:!0},resolve:{SEOResolver:Wt},loadChildren:function(){return n.e(47).then(n.bind(null,"bUxz")).then((function(e){return e.MaintenanceModule}))}},{path:"maintenance/inline",data:{meta:{robots:"noindex, nofollow"}},resolve:{SEOResolver:Wt},loadChildren:function(){return n.e(47).then(n.bind(null,"bUxz")).then((function(e){return e.MaintenanceModule}))}},{path:"",data:{hasFullFooter:!0,isHomepage:!0},loadChildren:function(){return Promise.all([n.e(28),n.e(33),n.e(43),n.e(4),n.e(74)]).then(n.bind(null,"ry1Y")).then((function(e){return e.HomePageModule}))},canLoad:[Ft.a]},{path:"book",data:{hasFullFooter:!1,meta:{robots:"noindex, nofollow"}},resolve:{SEOResolver:Wt},loadChildren:function(){return Promise.all([n.e(1),n.e(3),n.e(27),n.e(39),n.e(77)]).then(n.bind(null,"zkf5")).then((function(e){return e.BookingModule}))},canActivate:[Ft.a],canLoad:[Ft.a]},{path:"register",data:{hasFullFooter:!1,meta:{robots:"noindex, nofollow"}},resolve:{SEOResolver:Wt},loadChildren:function(){return n.e(95).then(n.bind(null,"fhSy")).then((function(e){return e.RegisterModule}))},canLoad:[Ft.a]},{path:"recover",data:{hasFullFooter:!1,meta:{robots:"noindex, nofollow"}},resolve:{SEOResolver:Wt},loadChildren:function(){return n.e(93).then(n.bind(null,"0GsJ")).then((function(e){return e.RecoverAccountModule}))},canLoad:[Ft.a]},{path:"profile",data:{hasFullFooter:!1,meta:{robots:"noindex, nofollow"}},resolve:{SEOResolver:Wt},loadChildren:function(){return n.e(83).then(n.bind(null,"723k")).then((function(e){return e.ProfileModule}))},canLoad:[Ft.a],canActivate:[Yt,Ft.a]},{path:"home",redirectTo:"/",pathMatch:"full"},{path:"404",data:{hasFullFooter:!0},loadChildren:function(){return n.e(4).then(n.bind(null,"jSwP")).then((function(e){return e.NotFoundModule}))}},{path:"search",data:{hasFullFooter:!1},loadChildren:function(){return n.e(81).then(n.bind(null,"Olu4")).then((function(e){return e.SearchResultsModule}))}},{path:"bidflyer",data:{hideHeader:!0,hideFooter:!0},loadChildren:function(){return n.e(89).then(n.bind(null,"gLeZ")).then((function(e){return e.BidflyerModule}))}},{path:"redirect",data:{hideHeader:!0,hideFooter:!0},loadChildren:function(){return n.e(94).then(n.bind(null,"4sEU")).then((function(e){return e.RedirectModule}))}},{path:"**",data:{hasFullFooter:!0,noMeta:{robots:"noindex, nofollow"}},resolve:{page:Ht.a,SEOResolver:Wt},runGuardsAndResolvers:"pathParamsOrQueryParamsChange",loadChildren:function(){return Promise.all([n.e(33),n.e(43),n.e(4),n.e(90)]).then(n.bind(null,"vPwE")).then((function(e){return e.DynamicModule}))}}],Qt=((At=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:At}),At.\u0275inj=r.Qb({factory:function(e){return new(e||At)},providers:[Ht.a,Wt],imports:[[Bt.k.forRoot(zt,Kt)],Bt.k]}),At),Xt=n("1AID"),qt=n("lUod"),$t=n("pLZG"),Jt=n("IzEk"),en=n("WGbO"),tn=n("AWl2"),nn=n("CJ36"),rn=n("aQpe"),on=n("9YtQ"),an=n("BifP"),sn=n("quSY"),cn=((Et=function(){function e(t,n){_classCallCheck(this,e),this.router=t,this.document=n,this.handlerStarted=!1,this.errorHandlerSubscription=sn.a.EMPTY}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.errorHandlerSubscription.closed||this.errorHandlerSubscription.unsubscribe()}},{key:"startHandler",value:function(){var e=this;this.handlerStarted?l.g.production||console.warn("::ChunkErrorHandlerService::","startHandler() was called when the handler has already started!"):(this.handlerStarted=!0,this.errorHandlerSubscription=this.router.events.pipe(Object($t.a)((function(e){return e instanceof Bt.d}))).subscribe((function(t){t instanceof Bt.d&&e.handleChunkLoadError(t)})))}},{key:"handleChunkLoadError",value:function(e){"ChunkLoadError"===e.error.name&&(this.document.location.href="".concat(this.document.location.origin).concat(e.url))}}]),e}()).\u0275fac=function(e){return new(e||Et)(r.dc(Bt.g),r.dc(mt.e))},Et.\u0275prov=r.Pb({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Et),ln=n("l5ey"),un=n("RRjW"),dn=n("PxKc"),hn=n("CPX7"),fn=n("GEJx"),pn=n("Wdig"),gn=((Pt=function(){function e(t,n,i,r,o,a){_classCallCheck(this,e),this.document=t,this.basket=n,this.bookingApi=i,this.router=r,this.route=o,this.datalayerCheckout=a,this.navCounter=0,this.navPath=""}return _createClass(e,[{key:"init",value:function(){this.startResolveBookingHandler()}},{key:"goToFindBooking",value:function(e,t){if("maintenance"!==e)if("book"!==e){var n={};t&&(n={redirect:t}),this.router.navigate(["/"+e,"find-booking"],{queryParams:n})}else this.router.navigate(["/"])}},{key:"clearBookingParams",value:function(e){this.router.navigate([e],{queryParams:{pnr:null,lastName:null,email:null},queryParamsHandling:"merge"})}},{key:"getRoutesData",value:function(e){var t=this;return Object.assign(Object.assign({},e.data),e.children.reduce((function(e,n){return Object.assign(Object.assign({},t.getRoutesData(n)),e)}),{}))}},{key:"startResolveBookingHandler",value:function(){var e=this;this.router.events.pipe(Object($t.a)((function(e){return e instanceof Bt.c}))).subscribe((function(t){if(t instanceof Bt.c){var n=t.url.split("?")[0].split("#")[0];n!==e.navPath&&e.handleBookingConfig(t,++e.navCounter),e.navPath=n}}))}},{key:"handleBookingConfig",value:function(e,t){var n,i;return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,a,s,c,u,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(o=this.getRoutesData(this.router.routerState.snapshot.root)).basketRouteConfig){r.next=50;break}if(a=o.basketRouteConfig,s=null===(n=this.router.routerState.root.firstChild.routeConfig)||void 0===n?void 0:n.path,c=this.route.snapshot.queryParamMap,!a.loadBasketFromBookingParams){r.next=39;break}if(!(u={pnr:c.get("pnr"),lastName:c.get("lastName"),email:c.get("email")}).pnr||!u.lastName&&!u.email){r.next=24;break}if(r.prev=6,!a.loadBasketFromBookingParamsSync){r.next=15;break}return this.basket.emitEmptyBasketState(),this.basket.stopPersistedBasketLoading(),r.next=11,this.basket.loadBasketFromParams(u.pnr,u.lastName,u.email,this.getFlowType(s));case 11:((d=r.sent)&&this.getFlowType(s)===dn.b.CheckIn||this.getFlowType(s)===dn.b.Manage)&&this.datalayerCheckout.sendBasketId(d),this.navCountersMatch(t)&&(this.basket.syncBasketInfo(d),a.clearBookingParamsOnSync&&this.clearBookingParams(e.url.split("?")[0].split("#")[0])),r.next=17;break;case 15:return r.next=17,this.bookingApi.getFullBooking(u.pnr,u.lastName,u.email).toPromise();case 17:r.next=22;break;case 19:r.prev=19,r.t0=r.catch(6),this.navCountersMatch(t)&&(l.g.production||console.error("LoadBasketFromRedirectReservation",r.t0),(null===(i=null==r.t0?void 0:r.t0.error)||void 0===i?void 0:i.code)===un.b.ANY_FLIGHT_NEEDS_TO_BE_IN_FUTURE?this.router.navigate(["manage","trip-details"],{queryParams:{pnr:u.pnr,lastName:u.lastName}}):this.goToFindBooking(s,e.url));case 22:r.next=37;break;case 24:if(!a.requiresBookingParams){r.next=26;break}return r.abrupt("return",void this.goToFindBooking(s,e.url));case 26:if(r.t2=a.viewRequiresBasket,!r.t2){r.next=31;break}return r.next=30,this.basket.hasBasketSynchronous(this.route.snapshot,o);case 30:r.t2=!r.sent;case 31:if(r.t1=r.t2,!r.t1){r.next=34;break}r.t1=this.navCountersMatch(t);case 34:if(r.t3=r.t1,!r.t3){r.next=37;break}this.goToFindBooking(s,e.url);case 37:r.next=50;break;case 39:if(r.t5=a.viewRequiresBasket,!r.t5){r.next=44;break}return r.next=43,this.basket.hasBasketSynchronous(this.route.snapshot,o);case 43:r.t5=!r.sent;case 44:if(r.t4=r.t5,!r.t4){r.next=47;break}r.t4=this.navCountersMatch(t);case 47:if(r.t6=r.t4,!r.t6){r.next=50;break}this.goToFindBooking(s);case 50:case"end":return r.stop()}}),r,this,[[6,19]])})))}},{key:"navCountersMatch",value:function(e){return this.navCounter===e}},{key:"getFlowType",value:function(e){switch(e){case"check-in":return dn.b.CheckIn;case"book":return dn.b.Booking;case"manage":case"irop":default:return dn.b.Manage}}}]),e}()).\u0275fac=function(e){return new(e||Pt)(r.dc(mt.e),r.dc(hn.a),r.dc(fn.a),r.dc(Bt.g),r.dc(Bt.a),r.dc(pn.a))},Pt.\u0275prov=r.Pb({token:Pt,factory:Pt.\u0275fac,providedIn:"root"}),Pt),vn=n("UXnn"),mn=n("lW9w"),bn=n("0oao"),yn="\nwindow.fbAsyncInit = function() {\n  FB.init({\n    appId            : '".concat(l.g.socialLogin.facebookAppId,"',\n    autoLogAppEvents : true,\n    xfbml            : true,\n    version          : 'v9.0'\n  });\n\n  document.dispatchEvent(new Event('facebook:init'));\n};\n"),_n=((Mt=function(){function e(t,n){_classCallCheck(this,e),this.document=t,this.platformId=n,this.fbLoaded=!1}return _createClass(e,[{key:"ngOnDestroy",value:function(){Object(mt.L)(this.platformId)&&this.removeListener()}},{key:"onFbInit",value:function(){this.fbLoaded=!0}},{key:"initFbSdk",value:function(){this.listenerFn=this.onFbInit.bind(this),this.document.addEventListener("facebook:init",this.listenerFn);var e=this.document.createElement("script");e.text=yn;var t=this.document.createElement("script");t.async=!0,t.defer=!0,t.src="https://connect.facebook.net/en_US/sdk.js",this.document.body.appendChild(e),this.document.body.appendChild(t)}},{key:"removeListener",value:function(){this.listenerFn&&this.document.removeEventListener("facebook:init",this.listenerFn)}},{key:"init",value:function(){Object(mt.L)(this.platformId)&&this.initFbSdk()}},{key:"isFBLoaded",get:function(){return this.fbLoaded}}]),e}()).\u0275fac=function(e){return new(e||Mt)(r.dc(mt.e),r.dc(r.G))},Mt.\u0275prov=r.Pb({token:Mt,factory:Mt.\u0275fac,providedIn:"root"}),Mt),Cn=n("kh7C"),kn=n("nLfN"),Sn=((xt=function(){function e(t,n,i){_classCallCheck(this,e),this.platform=t,this.cmsConfigSvc=n,this.platformId=i,this.ISB_PATHS_LS_TOKEN="vb-isb-p",this.ISB_ENABLED_LS_FLAG="vb-isb-v"}return _createClass(e,[{key:"setIsbConfigFromCms",value:function(){var e,t,n,i;if(this.shouldSetIsbConfig()){var r=null===(t=null!==(e=window)&&void 0!==e?e:{})||void 0===t?void 0:t.localStorage,o=this.cmsConfigSvc.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.iOSBanner);if(r.setItem(this.ISB_ENABLED_LS_FLAG,""+o),o){var a=(null!==(i=null===(n=this.cmsConfigSvc._cmsConfig)||void 0===n?void 0:n.globalSettings)&&void 0!==i?i:{}).iOSBannerConfig,s=(null!=a?a:{}).routes;if(Object(Cn.e)(s)){var c=s.filter((function(e){return"string"==typeof e}));r.setItem(this.ISB_PATHS_LS_TOKEN,JSON.stringify(c))}else r.setItem(this.ISB_PATHS_LS_TOKEN,JSON.stringify([]))}else r.setItem(this.ISB_PATHS_LS_TOKEN,JSON.stringify([]))}else this.deleteIsbConfig()}},{key:"shouldSetIsbConfig",value:function(){return!!Object(mt.L)(this.platformId)&&this.platform.SAFARI&&this.platform.IOS}},{key:"deleteIsbConfig",value:function(){var e,t;if(Object(mt.L)(this.platformId)){var n=null===(t=null!==(e=window)&&void 0!==e?e:{})||void 0===t?void 0:t.localStorage;n.removeItem(this.ISB_ENABLED_LS_FLAG),n.removeItem(this.ISB_PATHS_LS_TOKEN)}}}]),e}()).\u0275fac=function(e){return new(e||xt)(r.dc(kn.a),r.dc(an.a),r.dc(r.G))},xt.\u0275prov=r.Pb({token:xt,factory:xt.\u0275fac,providedIn:"root"}),xt),On=n("RK48"),Tn=n("RbsG"),wn=n("rmK9"),An=n("FonL"),En=n("imvL"),Pn=n("iWk1"),Mn=n("XwP0"),xn=n("gH2X"),Dn=n("SXaI"),In=n("JK/P"),Ln=n("ckWZ"),Rn=n("3Pt+"),Nn=n("VXoX");function jn(e,t){if(1&e){var n=r.ac();r.Xb(0),r.Zb(1,"label",22),r.Zb(2,"span",23),r.Sc(3),r.kc(4,"cmsTranslate"),r.Yb(),r.Zb(5,"input",24),r.hc("ngModelChange",(function(e){return r.Hc(n),t.$implicit.value=e})),r.Yb(),r.Ub(6,"span",25),r.Yb(),r.Wb()}if(2&e){var i=t.$implicit,o=t.index;r.Hb(3),r.Tc(r.lc(4,4,"BOOKER_LABEL_STAFF-CONDITIONS-SUPPORT-"+(o+1))),r.Hb(2),r.sc("id","checkList_"+o)("name","checkList_"+o)("ngModel",i.value)}}var Bn,Fn=((Bn=function(){function e(t,n,i){_classCallCheck(this,e),this.modalSvc=t,this.auth=n,this.platformId=i,this.id="staff-confirmation-modal",this.staffToken=l.g.cacheKeys.STAFF_TOKEN,this.checkList=[],this.userDataSub=sn.a.EMPTY}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.userDataSub=this.auth.userAccountData$.subscribe((function(t){(null==t?void 0:t.accountType)!==Tn.k.Staff||localStorage.getItem(e.staffToken)?!t&&e.checkList.length&&e.closeModal():(e.modalSvc.open(e.id),e.addLSEventListener())}))}},{key:"ngOnDestroy",value:function(){this.userDataSub.closed||this.userDataSub.unsubscribe()}},{key:"addLSEventListener",value:function(){Object(mt.L)(this.platformId)&&(this.listenerFn=this.handleLocalStorageEvent.bind(this),window.addEventListener("storage",this.listenerFn))}},{key:"handleLocalStorageEvent",value:function(e){e.storageArea===localStorage&&e.key===this.staffToken&&e.newValue&&this.closeModal()}},{key:"onOpen",value:function(){return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.checkList=[{value:!1},{value:!1},{value:!1}];case 1:case"end":return e.stop()}}),e,this)})))}},{key:"closeModal",value:function(){var e=this;this.modalSvc.close(this.id),window.removeEventListener("storage",this.listenerFn),Object(Vt.a)(300).subscribe((function(){e.checkList=[]}))}},{key:"onCancel",value:function(){this.closeModal(),this.auth.doLogout()}},{key:"onConfirmAction",value:function(){localStorage.setItem(this.staffToken,"true"),this.closeModal()}},{key:"isDisabled",get:function(){return!!this.checkList.find((function(e){return!e.value}))}}]),e}()).\u0275fac=function(e){return new(e||Bn)(r.Tb(In.a),r.Tb(En.a),r.Tb(r.G))},Bn.\u0275cmp=r.Nb({type:Bn,selectors:[["app-staff-confirmation-modal"]],decls:36,vars:22,consts:[[3,"id","dismissable","openEvent"],[1,"staff-modal","viva-card","white","border-0","position-relative"],[1,"modal-header","light"],[1,"subheader","mb-0","mb-md-10"],[1,"h3"],[1,"modal-scroll-container"],[1,"staff-alert","d-flex"],[1,"left-bar","mr-10","mr-md-20"],[1,"alert-container","d-flex","align-items-center"],[1,"fas","fa-exclamation-circle","mr-10"],[1,"d-flex","flex-wrap","flex-md-nowrap"],[1,"continue-msg"],[1,"modal-content","p-10","p-lg-40"],[1,"w-100"],[1,"mt-20"],[4,"ngFor","ngForOf"],[1,"mt-40","d-flex","justify-content-center","align-items-center","flex-column"],["type","button",1,"viva-btn","btn-280","action","mt-20","mt-md-0",3,"disabled","click"],[1,"viva-btn","tertiary","mt-20","px-20","d-flex","justify-content-center","align-items-center",3,"click"],[1,"content"],[1,"title"],[1,"line"],[1,"checkbox-container","mb-20"],[1,"regular-text"],["type","checkbox",3,"id","name","ngModel","ngModelChange"],[1,"checkmark","mt-1"]],template:function(e,t){1&e&&(r.Zb(0,"app-modal",0),r.hc("openEvent",(function(){return t.onOpen()})),r.Zb(1,"div",1),r.Zb(2,"div",2),r.Zb(3,"div",3),r.Sc(4),r.kc(5,"cmsTranslate"),r.Yb(),r.Zb(6,"div",4),r.Sc(7),r.kc(8,"cmsTranslate"),r.Yb(),r.Yb(),r.Zb(9,"div",5),r.Zb(10,"div",6),r.Ub(11,"div",7),r.Zb(12,"div",8),r.Ub(13,"em",9),r.Zb(14,"div",10),r.Zb(15,"span",11),r.Sc(16),r.kc(17,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(18,"div",12),r.Zb(19,"div",13),r.Zb(20,"div"),r.Sc(21),r.kc(22,"cmsTranslate"),r.Yb(),r.Zb(23,"div",14),r.Qc(24,jn,7,6,"ng-container",15),r.Yb(),r.Yb(),r.Zb(25,"div",16),r.Zb(26,"button",17),r.hc("click",(function(){return t.onConfirmAction()})),r.Zb(27,"span"),r.Sc(28),r.kc(29,"cmsTranslate"),r.Yb(),r.Yb(),r.Zb(30,"button",18),r.hc("click",(function(){return t.onCancel()})),r.Zb(31,"div",19),r.Zb(32,"span",20),r.Sc(33),r.kc(34,"cmsTranslate"),r.Yb(),r.Yb(),r.Ub(35,"div",21),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&e&&(r.sc("id",t.id)("dismissable",!1),r.Hb(4),r.Tc(r.lc(5,10,"BOOKER_LABEL_STAFF-CONDITIONS-SUBTITLE")),r.Hb(3),r.Tc(r.lc(8,12,"BOOKER_LABEL_STAFF-CONDITIONS-TITLE")),r.Hb(9),r.Tc(r.lc(17,14,"BOOKER_LABEL_STAFF-CONDITIONS-ALERT")),r.Hb(5),r.Tc(r.lc(22,16,"BOOKER_LABEL_STAFF-CONDITIONS-SUPPORT")),r.Hb(3),r.sc("ngForOf",t.checkList),r.Hb(2),r.sc("disabled",t.isDisabled),r.Hb(2),r.Uc(" ",r.lc(29,18,"GLOBAL_ACTION_CONTINUE")," "),r.Hb(5),r.Tc(r.lc(34,20,"GLOBAL_ACTION_CANCEL")))},directives:[Ln.a,mt.t,Rn.b,Rn.u,Rn.x],pipes:[Nn.a],styles:[".staff-modal[_ngcontent-%COMP%]{width:580px}.staff-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{overflow:hidden;padding:40px;background-color:var(--bg4)}@media screen and (max-width:720px){.staff-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:20px}.staff-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:16px}}.staff-modal[_ngcontent-%COMP%]   .staff-alert[_ngcontent-%COMP%]{background-color:var(--sc-i2)}.staff-modal[_ngcontent-%COMP%]   .staff-alert[_ngcontent-%COMP%]   .left-bar[_ngcontent-%COMP%]{min-width:10px;background-color:var(--sc-oy4)}.staff-modal[_ngcontent-%COMP%]   .staff-alert[_ngcontent-%COMP%]   .alert-container[_ngcontent-%COMP%]{color:var(--bg6);font-size:16px;padding:10px 0;height:50px}.staff-modal[_ngcontent-%COMP%]   .staff-alert[_ngcontent-%COMP%]   .alert-container[_ngcontent-%COMP%]   .fa-exclamation-circle[_ngcontent-%COMP%]{font-size:20px;color:var(--sc-oy4)}@media only screen and (max-width:720px){.staff-modal[_ngcontent-%COMP%]   .staff-alert[_ngcontent-%COMP%]   .alert-container[_ngcontent-%COMP%]{font-size:14px}}.staff-modal[_ngcontent-%COMP%]   .continue-msg[_ngcontent-%COMP%]{font-size:16px}@media only screen and (max-width:720px){.staff-modal[_ngcontent-%COMP%]   .continue-msg[_ngcontent-%COMP%]{font-size:14px}}"]}),Bn),Hn=n("wd/R"),Un=n("ynpe"),Yn=n("4GIP"),Gn=n("ofgY"),Vn=n("Elrx"),Zn=n("djEO"),Wn=n("pWoz"),Kn=n("ZOsW");function zn(e,t){if(1&e&&(r.Zb(0,"small",30),r.Sc(1),r.kc(2,"cmsTranslate"),r.Ub(3,"br"),r.Yb()),2&e){var n=t.$implicit,i=r.jc(2);r.Hb(1),r.Uc(" ",r.lc(2,1,i.errorCodes.firstName[n]),"")}}function Qn(e,t){if(1&e&&(r.Zb(0,"small",30),r.Sc(1),r.kc(2,"cmsTranslate"),r.Ub(3,"br"),r.Yb()),2&e){var n=t.$implicit,i=r.jc(2);r.Hb(1),r.Uc(" ",r.lc(2,1,i.errorCodes.lastName[n]),"")}}function Xn(e,t){if(1&e&&(r.Zb(0,"small",30),r.Sc(1),r.kc(2,"cmsTranslate"),r.Ub(3,"br"),r.Yb()),2&e){var n=t.$implicit,i=r.jc(2);r.Hb(1),r.Uc(" ",r.lc(2,1,i.errorCodes.dateOfBirth[n]),"")}}function qn(e,t){if(1&e&&(r.Zb(0,"ng-option",31),r.Sc(1),r.kc(2,"cmsTranslate"),r.Yb()),2&e){var n=t.$implicit;r.sc("value",n.value),r.Hb(1),r.Uc(" ",r.lc(2,2,n.key)," ")}}function $n(e,t){if(1&e&&(r.Zb(0,"small",30),r.Sc(1),r.kc(2,"cmsTranslate"),r.Ub(3,"br"),r.Yb()),2&e){var n=t.$implicit,i=r.jc(2);r.Hb(1),r.Uc(" ",r.lc(2,1,i.errorCodes.gender[n]),"")}}function Jn(e,t){if(1&e){var n=r.ac();r.Zb(0,"form",5),r.Zb(1,"div",6),r.Zb(2,"div",7),r.Zb(3,"div",8),r.Zb(4,"div"),r.Sc(5),r.kc(6,"cmsTranslate"),r.Yb(),r.Zb(7,"div",9),r.Zb(8,"div",10),r.Zb(9,"div",11),r.Zb(10,"div",12),r.Ub(11,"input",13),r.kc(12,"cmsTranslate"),r.Zb(13,"label"),r.Sc(14),r.kc(15,"cmsTranslate"),r.Yb(),r.Zb(16,"div",14),r.Ub(17,"i",15),r.Yb(),r.Yb(),r.Qc(18,zn,4,3,"small",16),r.Yb(),r.Zb(19,"div",11),r.Zb(20,"div",12),r.Ub(21,"input",17),r.kc(22,"cmsTranslate"),r.Zb(23,"label"),r.Sc(24),r.kc(25,"cmsTranslate"),r.Yb(),r.Zb(26,"div",14),r.Ub(27,"i",15),r.Yb(),r.Yb(),r.Qc(28,Qn,4,3,"small",16),r.Yb(),r.Zb(29,"div",18),r.Sc(30),r.kc(31,"cmsTranslate"),r.Yb(),r.Zb(32,"div",11),r.Ub(33,"vb-multi-input-date",19),r.Qc(34,Xn,4,3,"small",16),r.Yb(),r.Zb(35,"div",20),r.Zb(36,"div",12),r.Zb(37,"ng-select",21),r.hc("change",(function(e){return r.Hc(n),r.jc().updateTitle(e)})),r.kc(38,"cmsTranslate"),r.Qc(39,qn,3,4,"ng-option",22),r.kc(40,"keyvalue"),r.Yb(),r.Zb(41,"label"),r.Sc(42),r.kc(43,"cmsTranslate"),r.Yb(),r.Zb(44,"div",14),r.Ub(45,"i",15),r.Yb(),r.Yb(),r.Qc(46,$n,4,3,"small",16),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Ub(47,"hr",23),r.Zb(48,"div",24),r.Zb(49,"button",25),r.hc("click",(function(){return r.Hc(n),r.jc().onCancel()})),r.Zb(50,"div",26),r.Zb(51,"span",27),r.Sc(52),r.kc(53,"cmsTranslate"),r.Yb(),r.Yb(),r.Ub(54,"div",28),r.Yb(),r.Zb(55,"button",29),r.hc("click",(function(){return r.Hc(n),r.jc().onSubmit()})),r.Zb(56,"span"),r.Sc(57),r.kc(58,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()}if(2&e){var i=r.jc();r.sc("formGroup",i.formGroup),r.Hb(5),r.Tc(r.lc(6,27,"PROFILE_LABEL_ACCOUNT-PERSONAL-INFO-SUPPORT")),r.Hb(6),r.sc("placeholder",r.lc(12,29,"GLOBAL_LABEL_NAMES-PLACEHOLDER")),r.Hb(3),r.Uc(" ",r.lc(15,31,"GLOBAL_LABEL_NAMES")," "),r.Hb(4),r.sc("ngForOf",i.getFieldErrors("firstName","name")),r.Hb(3),r.sc("placeholder",r.lc(22,33,"GLOBAL_LABEL_LASTNAMES-PLACEHOLDERS")),r.Hb(3),r.Uc(" ",r.lc(25,35,"GLOBAL_LABEL_LASTNAMES")," "),r.Hb(4),r.sc("ngForOf",i.getFieldErrors("lastName","name")),r.Hb(2),r.Tc(r.lc(31,37,"GLOBAL_LABEL_BIRTHDATE-SIMPLE")),r.Hb(3),r.sc("required",!0)("id","date-of-birth")("name","date-of-birth")("minDate",i.minDate)("maxDate",i.maxDate)("formControl",i.formGroup.get("dateOfBirth"))("isTouched",i.formGroup.get("dateOfBirth").touched),r.Hb(1),r.sc("ngForOf",i.getFieldErrors("dateOfBirth")),r.Hb(3),r.sc("searchable",!1)("clearable",!1)("placeholder",r.lc(38,39,"GLOBAL_LABEL_GENDER-PLACEHOLDER"))("formControl",i.formGroup.get("gender")),r.Hb(2),r.sc("ngForOf",r.lc(40,41,i.genders)),r.Hb(3),r.Tc(r.lc(43,43,"GLOBAL_LABEL_GENDER")),r.Hb(4),r.sc("ngForOf",i.getFieldErrors("gender")),r.Hb(6),r.Tc(r.lc(53,45,"GLOBAL_ACTION_CANCEL")),r.Hb(3),r.sc("disabled",i.isLoading),r.Hb(2),r.Uc(" ",r.lc(58,47,"GLOBAL_ACTION_CONFIRM")," ")}}var ei,ti,ni,ii,ri,oi,ai=((ei=function(){function e(t,n,i,r,o,a,s,c){_classCallCheck(this,e),this.modalSvc=t,this.fb=n,this.auth=i,this.platformId=r,this.router=o,this.account=a,this.localeId=s,this.currencyCode=c,this.id="user-incomplete-modal",this.incompleteDataToken=l.g.cacheKeys.INCOMPLETE_PROFILE,this.userDataSub=sn.a.EMPTY,this.routerSubscription=sn.a.EMPTY,this.modalOpen=!1,this.errorCodes=Yn.a,this.genders=Gn.f,this.getDate=Cn.a.getDateFromString,this.isLoading=!1,this.availableRoutes=["/register/complete-registration","/profile/details","/profile"]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.initForm(),this.routerSubscription=this.router.events.subscribe((function(t){t instanceof Bt.c&&e.openModalConditions(t.urlAfterRedirects)})),this.userDataSub=this.auth.userAccountData$.subscribe((function(t){e.userData=t,e.openModalConditions(e.router.url)}))}},{key:"ngOnDestroy",value:function(){this.userDataSub.closed||this.userDataSub.unsubscribe(),this.routerSubscription.closed||this.routerSubscription.unsubscribe()}},{key:"initForm",value:function(){var e,t;this.formGroup=this.generateForm(),this.dobRange=new Gn.h(Gn.i.ADT,(new Date).toISOString()),this.minDate=this.getDate(null===(e=this.dobRange)||void 0===e?void 0:e.min),this.maxDate=this.getDate(null===(t=this.dobRange)||void 0===t?void 0:t.max)}},{key:"openModalConditions",value:function(e){var t,n;Object(mt.L)(this.platformId)&&(this.userData&&localStorage.getItem(this.incompleteDataToken)?(null===(n=null===(t=this.userData)||void 0===t?void 0:t.notifications)||void 0===n?void 0:n.find((function(e){return"IncompleteProfile"===(null==e?void 0:e.code)})))?this.availableRoutes.includes(e)||this.modalOpen||(this.modalSvc.open(this.id),this.setPersistedValuesFromAccountInfo()):(localStorage.removeItem(this.incompleteDataToken),this.closeModal()):!this.modalOpen||this.userData&&localStorage.getItem(this.incompleteDataToken)||this.closeModal())}},{key:"onOpen",value:function(){return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.modalOpen=!0;case 1:case"end":return e.stop()}}),e,this)})))}},{key:"closeModal",value:function(){this.modalSvc.close(this.id),this.modalOpen=!1}},{key:"onCancel",value:function(){this.closeModal(),this.auth.doLogout()}},{key:"generateForm",value:function(){return this.fb.group({name:this.fb.group({firstName:this.fb.control(null,Un.c),lastName:this.fb.control(null,Un.c),title:this.fb.control(Gn.o.MR,Rn.I.required)}),dateOfBirth:this.fb.control(null,[Rn.I.required,Object(Un.g)(Gn.i.ADT,(new Date).toISOString())]),gender:this.fb.control(wn.g.XX,Rn.I.required)})}},{key:"setPersistedValuesFromAccountInfo",value:function(){if(this.userData){var e=this.userData.personalDetails.dateOfBirth.date,t=e&&"1900-01-01"!==e?Hn(e).toDate():null,n=this.userData.personalDetails.name,i={name:{firstName:n.firstName,lastName:n.lastName,title:n.title},dateOfBirth:t,gender:this.userData.personalDetails.gender.gender};this.formGroup.setValue(i,{emitEvent:!1}),this.updateTitle(i.gender)}}},{key:"updateTitle",value:function(e){var t=this.formGroup.get("name").get("title");t.setValue(t&&e===Gn.f.GLOBAL_LABEL_GENDER_FEMALE?Gn.o.MS:Gn.o.MR,{emitEvent:!1})}},{key:"onSubmit",value:function(){var e=this;if(this.formGroup.markAllAsTouched(),!this.isLoading&&this.formGroup.valid){this.isLoading=!0;var t=this.formGroup.value;t.dateOfBirth=Hn(t.dateOfBirth).format("YYYY-MM-DD"),this.account.updateAccountInfo({personalDetails:t,preferences:{currencyCode:this.currencyCode,language:this.localeId,notificationPreferences:[]}}).subscribe((function(){e.isLoading=!1,Object(mt.L)(e.platformId)&&localStorage.removeItem(e.incompleteDataToken),e.auth.getUpdatedAccountData(),e.closeModal()}),(function(t){l.g.production||console.error("::UpdateRegisterAccount::",t),e.isLoading=!1}))}}},{key:"getFieldErrors",value:function(e,t){return Cn.a.getFieldErrors(t?this.formGroup.get(t):this.formGroup,e)}}]),e}()).\u0275fac=function(e){return new(e||ei)(r.Tb(In.a),r.Tb(Rn.h),r.Tb(En.a),r.Tb(r.G),r.Tb(Bt.g),r.Tb(Zn.a),r.Tb(r.y),r.Tb(Vn.b))},ei.\u0275cmp=r.Nb({type:ei,selectors:[["app-user-incomplete-modal"]],decls:7,vars:6,consts:[[3,"id","dismissable","openEvent"],[1,"update-user-modal","viva-card","white","border-0","position-relative"],[1,"modal-header","light"],[1,"h3"],["class","container",3,"formGroup",4,"ngIf"],[1,"container",3,"formGroup"],[1,"row"],[1,"p-20","p-lg-40","modal-content"],[1,"w-100"],[1,"mt-20"],["formGroupName","name",1,"row"],[1,"col-12","mb-20"],[1,"viva-input-field","no-icon"],["name","first-name","id","first-name","formControlName","firstName","type","text","required","",3,"placeholder"],[1,"valid","hide-sm"],[1,"fas","fa-check"],["class","viva-input-field-error",4,"ngFor","ngForOf"],["name","last-name","id","last-name","formControlName","lastName","type","text","required","",3,"placeholder"],[1,"col-12","mb-1","small-title"],[3,"required","id","name","minDate","maxDate","formControl","isTouched"],[1,"col-8","col-md-6","mb-20"],["id","gender","name","gender","required","",1,"condensed-options",3,"searchable","clearable","placeholder","formControl","change"],[3,"value",4,"ngFor","ngForOf"],[1,"mt-0","mt-md-20","mb-0"],[1,"mt-10","mt-md-40","d-flex","justify-content-center","justify-content-md-end","align-items-center","flex-column-reverse","flex-md-row"],[1,"viva-btn","tertiary","mt-20","mt-md-0","px-20","d-flex","justify-content-center","align-items-center",3,"click"],[1,"content"],[1,"title"],[1,"line"],["type","button",1,"viva-btn","primary","btn-200","mt-20","mt-md-0","ml-0","ml-md-40",3,"disabled","click"],[1,"viva-input-field-error"],[3,"value"]],template:function(e,t){1&e&&(r.Zb(0,"app-modal",0),r.hc("openEvent",(function(){return t.onOpen()})),r.Zb(1,"div",1),r.Zb(2,"div",2),r.Zb(3,"div",3),r.Sc(4),r.kc(5,"cmsTranslate"),r.Yb(),r.Yb(),r.Qc(6,Jn,59,49,"form",4),r.Yb(),r.Yb()),2&e&&(r.sc("id",t.id)("dismissable",!1),r.Hb(4),r.Tc(r.lc(5,4,"PROFILE_LABEL_ACCOUNT-PERSONAL-INFO")),r.Hb(2),r.sc("ngIf",t.userData))},directives:[Ln.a,mt.u,Rn.K,Rn.v,Rn.m,Rn.n,Rn.d,Rn.u,Rn.k,Rn.F,mt.t,Wn.a,Rn.j,Kn.a,Kn.n],pipes:[Nn.a,mt.m],styles:[".update-user-modal[_ngcontent-%COMP%]{width:580px}.update-user-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{overflow:hidden;padding:40px;background-color:var(--bg4)}@media screen and (max-width:720px){.update-user-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:20px}}@media screen and (max-width:720px){.update-user-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .subheader[_ngcontent-%COMP%]{font-size:14px}}@media screen and (max-width:720px){.update-user-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:calc(100vh - 72px)!important;overflow-y:auto;overflow-x:hidden}.update-user-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .btn-200[_ngcontent-%COMP%]{width:100%}}"]}),ei),si=n("q/KQ"),ci=((ti=function(){function e(t){_classCallCheck(this,e),this.loginSbSvc=t,this.referralLogout=new r.p}return _createClass(e,[{key:"ngOnInit",value:function(){this.specialLoginTxt=this._specialLoginTxt}},{key:"ngOnDestroy",value:function(){this.specialLoginTxt=this._specialLoginTxt}},{key:"onLogout",value:function(){localStorage.removeItem("loginReferral"),this.loginSbSvc.closeModal(),this.referralLogout.emit()}},{key:"_specialLoginTxt",get:function(){if(this.accountType)switch(this.accountType){case Tn.k.Agency:return"PROFILE_LABEL_VIVA-AGENCIAS";case Tn.k.Enterprise:return"PROFILE_LABEL_VIVA-EMPRESAS";default:return""}return""}}]),e}()).\u0275fac=function(e){return new(e||ti)(r.Tb(An.a))},ti.\u0275cmp=r.Nb({type:ti,selectors:[["app-login-referral"]],inputs:{accountType:"accountType",referralName:"referralName"},outputs:{referralLogout:"referralLogout"},decls:24,vars:17,consts:[[1,"sidebar-header","light"],[1,"subheader","pt-40"],[1,"mt-5","mb-5"],[1,"special-login-bar","px-40","py-20","d-flex","justify-content-between","align-items-center"],[1,"h4"],[1,"small-title"],[1,"sidebar-main","text-center"],["loading","lazy",1,"mt-40",3,"src"],[1,"title","pt-40","opacity-5"],[1,"sidebar-footer","text-right"],[1,"viva-btn","tertiary","h-auto","p-0",3,"click"]],template:function(e,t){1&e&&(r.Xb(0),r.Zb(1,"div",0),r.Zb(2,"div",1),r.Sc(3),r.kc(4,"cmsTranslate"),r.Yb(),r.Zb(5,"h3",2),r.Sc(6),r.Yb(),r.Yb(),r.Zb(7,"div",3),r.Zb(8,"div",4),r.Sc(9),r.kc(10,"cmsTranslate"),r.Yb(),r.Zb(11,"div",5),r.Sc(12),r.Yb(),r.Yb(),r.Zb(13,"div",6),r.Ub(14,"img",7),r.kc(15,"cmsStaticImage"),r.Zb(16,"div",8),r.Sc(17),r.kc(18,"cmsTranslate"),r.Yb(),r.Yb(),r.Zb(19,"div",9),r.Zb(20,"button",10),r.hc("click",(function(){return t.onLogout()})),r.Zb(21,"span"),r.Sc(22),r.kc(23,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Wb()),2&e&&(r.Hb(3),r.Uc(" ",r.lc(4,7,"GLOBAL_LABEL_WELCOMING-MALE")," "),r.Hb(3),r.Uc(" ",t.referralName," "),r.Hb(3),r.Tc(r.lc(10,9,t.specialLoginTxt)),r.Hb(3),r.Tc(t.referralName),r.Hb(2),r.sc("src",r.lc(15,11,"BOOKER_IMG_NO-INFO"),r.Kc),r.Hb(3),r.Uc(" ",r.lc(18,13,"PROFILE_LABEL_NO-INFO-AVAILABLE")," "),r.Hb(5),r.Uc(" ",r.lc(23,15,"GLOBAL_ACTION_LOGOUT")," "))},pipes:[Nn.a,si.a],styles:['.sidebar-header[_ngcontent-%COMP%]{height:auto}.sidebar-vivafan[_ngcontent-%COMP%]{background-color:var(--b4);justify-content:space-between;padding:20px 40px}.sidebar-vivafan[_ngcontent-%COMP%], .sidebar-vivafan[_ngcontent-%COMP%]   .vf-title[_ngcontent-%COMP%]{display:flex;align-items:center}.sidebar-main[_ngcontent-%COMP%]{min-height:0;height:calc(100% - 261px);overflow:auto}@media screen and (max-width:991px){.sidebar-main[_ngcontent-%COMP%]{min-height:0;height:calc(100% - 221px);overflow:auto}}.sidebar-main.is-viva-fan[_ngcontent-%COMP%]{height:calc(100% - 285px)}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{position:relative;cursor:pointer;padding-bottom:20px;margin-bottom:20px}.sidebar-main[_ngcontent-%COMP%]   .menu-item.no-pointer[_ngcontent-%COMP%]{cursor:default}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:after{position:absolute;content:"";bottom:0;left:20px;width:calc(100% - 40px);height:1px;background-color:var(--gr20)}@media screen and (max-width:991px){.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:after{left:0;width:100%}}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{position:relative;width:24px;height:24px;display:flex;justify-content:center;align-items:center;margin-right:10px;color:var(--bg4)}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-icon.notification[_ngcontent-%COMP%]:after{position:absolute;content:"";top:-2.5px;right:-2.5px;width:5px;height:5px;background-color:var(--r4);border-radius:50%}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-arrow[_ngcontent-%COMP%]{height:100%;align-self:flex-end}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-arrow[_ngcontent-%COMP%]{color:var(--vg4)}@media screen and (max-width:991px){.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width:991px){.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .small-title[_ngcontent-%COMP%]{max-width:260px}}.sidebar-footer[_ngcontent-%COMP%]{padding:20px 40px;position:fixed;width:100%;background-color:var(--wh2);bottom:0;left:0}@media screen and (max-width:991px){.sidebar-footer[_ngcontent-%COMP%]{padding:24px 20px;position:relative}}.special-login-bar[_ngcontent-%COMP%]{background-color:var(--bg6)}.special-login-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--wh1)}']}),ti),li=n("rd4S"),ui=n("uHNT"),di=n("TuWc"),hi=n("JxkP"),fi=n("Q+ex"),pi=n("9O1C"),gi=n("DPnb"),vi=n("LRne"),mi=n("Cfvw"),bi=n("bOdf"),yi=((oi=function(){function e(t){_classCallCheck(this,e),this.facebookSdk=t}return _createClass(e,[{key:"facebookLogin",value:function(){return this.fbLoaded?Object(mi.a)(new Promise((function(e){return FB.login(e,{scope:"email,public_profile"})}))).pipe(Object(bi.a)((function(e){var t=e.authResponse;return t?Object(vi.a)(t):Object(vi.a)(void 0)}))):Object(vi.a)(void 0)}},{key:"getFacebookProfile",value:function(e){return this.fbLoaded?Object(mi.a)(new Promise((function(t){return FB.api("/".concat(e,"/"),"get",{fields:"id,email,first_name,last_name"},t)}))):Object(vi.a)(void 0)}},{key:"facebookLogout",value:function(){this.fbLoaded&&FB.api("/me/permissions","delete",null,(function(){return FB.logout()}))}},{key:"fbLoaded",get:function(){return this.facebookSdk.isFBLoaded}}]),e}()).\u0275fac=function(e){return new(e||oi)(r.dc(_n))},oi.\u0275prov=r.Pb({token:oi,factory:oi.\u0275fac,providedIn:"root"}),oi),_i=((ri=function(){function e(t,n){_classCallCheck(this,e),this.injector=t,this.cmsConfig=n,this.loginSuccess=new r.p,this.loginError=new r.p,this.clicked=new r.p,this.isDisabled=!1,this.btnClass="",this.cmsEnabled=!0,this.cmsEnabled=this.cmsConfig.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.SocialLoginFacebook),this.cmsEnabled&&(this.fbAuth=this.injector.get(yi))}return _createClass(e,[{key:"authenticate",value:function(){var e=this;this.emitClick(),this.fbAuth.facebookLogin().subscribe((function(t){t&&t.accessToken?e.fbAuth.getFacebookProfile(t.userID).subscribe((function(n){e.isProfileDataComplete(n)?e.emitSuccess(t.accessToken,n):e.emitError("Insufficient information to do login was returned!")})):e.emitError("Login cancelled by user or blocked by browser!")}),(function(t){e.emitError(t)}))}},{key:"emitSuccess",value:function(e,t){this.loginSuccess.emit({email:t.email,providerAccessToken:e,firstName:t.first_name,lastName:t.last_name,provider:wn.e.Facebook})}},{key:"emitError",value:function(e){l.g.production||console.error("::Facebook Login::",e),this.loginError.emit(e)}},{key:"isProfileDataComplete",value:function(e){return!!(e&&e.email&&e.first_name&&e.last_name)}},{key:"emitClick",value:function(){this.disabled||this.clicked.emit()}},{key:"disabled",get:function(){return this.isDisabled||!this.cmsEnabled}}]),e}()).\u0275fac=function(e){return new(e||ri)(r.Tb(r.u),r.Tb(an.a))},ri.\u0275cmp=r.Nb({type:ri,selectors:[["app-fb-button"]],inputs:{isDisabled:"isDisabled",btnClass:"btnClass"},outputs:{loginSuccess:"loginSuccess",loginError:"loginError",clicked:"clicked"},decls:5,vars:2,consts:[["type","button",1,"viva-btn","btn-social-media","d-block",3,"ngClass","disabled","click"],[1,"content"],[1,"fab","fa-facebook-f","fb"]],template:function(e,t){1&e&&(r.Zb(0,"button",0),r.hc("click",(function(){return t.authenticate()})),r.Zb(1,"span",1),r.Ub(2,"i",2),r.Zb(3,"span"),r.Sc(4,"Facebook"),r.Yb(),r.Yb(),r.Yb()),2&e&&r.sc("ngClass",t.btnClass)("disabled",t.disabled)},directives:[mt.r],styles:[""]}),ri),Ci=((ii=function(){function e(t,n){_classCallCheck(this,e),this.document=t,this.platformId=n,this.gaReady=!1,Object(mt.L)(this.platformId)&&this.appendGAScript()}return _createClass(e,[{key:"appendGAScript",value:function(){var e=this.document.createElement("script");e.src="https://apis.google.com/js/api.js",e.async=!0,e.defer=!0,e.onload=this.initGoogleAuth.bind(this),this.document.head.appendChild(e)}},{key:"initGoogleAuth",value:function(){return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(mt.L)(this.platformId)){e.next=2;break}return e.abrupt("return",new Promise((function(e){gapi.load("auth2",e)})).then((function(){return Object(Gt.a)(t,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gapi.auth2.init({client_id:l.g.socialLogin.googleClientId}).then((function(e){t.gaReady=!1,t._authInstance=e}));case 2:case"end":return e.stop()}}),e)})))})));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"isReady",get:function(){return this.gaReady}},{key:"authInstance",get:function(){return this._authInstance}}]),e}()).\u0275fac=function(e){return new(e||ii)(r.dc(mt.e),r.dc(r.G))},ii.\u0275prov=r.Pb({token:ii,factory:ii.\u0275fac,providedIn:"root"}),ii),ki=((ni=function(){function e(t,n){_classCallCheck(this,e),this.injector=t,this.cmsConfig=n,this.loginSuccess=new r.p,this.loginError=new r.p,this.clicked=new r.p,this.isDisabled=!1,this.btnClass="",this.cmsEnabled=!0,this.cmsEnabled=this.cmsConfig.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.SocialLoginGoogle),this.cmsEnabled&&(this.gaAuth=this.injector.get(Ci))}return _createClass(e,[{key:"authenticate",value:function(){return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.emitClick(),e.prev=1,e.t0=this.gaAuth.isReady,e.t0){e.next=6;break}return e.next=6,this.gaAuth.initGoogleAuth();case 6:e.next=11;break;case 8:return e.prev=8,e.t1=e.catch(1),e.abrupt("return",(this.onGaError(e.t1),Promise.reject(e.t1)));case 11:return e.abrupt("return",new Promise((function(){return Object(Gt.a)(t,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.gaAuth.authInstance.signIn().then((function(e){return t.onGaSuccess(e)}),(function(e){return t.onGaError(e)}));case 2:case"end":return e.stop()}}),e,this)})))})));case 12:case"end":return e.stop()}}),e,this,[[1,8]])})))}},{key:"onGaSuccess",value:function(e){if(e){var t=e.getBasicProfile(),n=e.getAuthResponse();this.loginSuccess.emit({email:t.getEmail(),providerAccessToken:n.id_token,provider:wn.e.Google,firstName:t.getGivenName(),lastName:t.getFamilyName()})}}},{key:"onGaError",value:function(e){l.g.production||console.error("::Google Sign-in Error::",e),this.loginError.emit(e)}},{key:"emitClick",value:function(){this.disabled||this.clicked.emit()}},{key:"disabled",get:function(){return this.isDisabled||!this.cmsEnabled}}]),e}()).\u0275fac=function(e){return new(e||ni)(r.Tb(r.u),r.Tb(an.a))},ni.\u0275cmp=r.Nb({type:ni,selectors:[["app-ga-button"]],inputs:{isDisabled:"isDisabled",btnClass:"btnClass"},outputs:{loginSuccess:"loginSuccess",loginError:"loginError",clicked:"clicked"},decls:6,vars:5,consts:[["type","button",1,"viva-btn","btn-social-media","d-block",3,"ngClass","disabled","click"],[1,"content"],["loading","lazy",3,"src"]],template:function(e,t){1&e&&(r.Zb(0,"button",0),r.hc("click",(function(){return t.authenticate()})),r.Zb(1,"span",1),r.Ub(2,"img",2),r.kc(3,"cmsStaticImage"),r.Zb(4,"span"),r.Sc(5,"Google"),r.Yb(),r.Yb(),r.Yb()),2&e&&(r.sc("ngClass",t.btnClass)("disabled",t.disabled),r.Hb(2),r.sc("src",r.lc(3,3,"GLOBAL_LOGO_GOOGLE"),r.Kc))},directives:[mt.r],pipes:[si.a],styles:[""]}),ni),Si=n("D731"),Oi=n("4nN9");function Ti(e,t){1&e&&(r.Xb(0),r.Ub(1,"img",37),r.kc(2,"cmsStaticImage"),r.Ub(3,"div",38),r.kc(4,"cmsTranslateRichText"),r.Wb()),2&e&&(r.Hb(1),r.sc("src",r.lc(2,2,"PROFILE_ICON_VIVAFAN-WHITE"),r.Kc),r.Hb(2),r.sc("innerHTML",r.lc(4,4,"PROFILE_LABEL_SUPPORT_JOIN-VIVAFAN"),r.Ic))}function wi(e,t){1&e&&(r.Xb(0),r.Ub(1,"img",39),r.kc(2,"cmsStaticImage"),r.Zb(3,"div",40),r.Zb(4,"div"),r.Sc(5),r.kc(6,"cmsTranslate"),r.Yb(),r.Yb(),r.Wb()),2&e&&(r.Hb(1),r.sc("src",r.lc(2,2,"BOOKER_LOGO_VIVA-GIFT"),r.Kc),r.Hb(4),r.Tc(r.lc(6,4,"PROFILE_LABEL_VIVA-GIFT-SIGN-IN")))}function Ai(e,t){1&e&&(r.Xb(0),r.Ub(1,"img",41),r.kc(2,"cmsStaticImage"),r.Zb(3,"div",40),r.Zb(4,"div"),r.Sc(5),r.kc(6,"cmsTranslate"),r.Yb(),r.Yb(),r.Wb()),2&e&&(r.Hb(1),r.sc("src",r.lc(2,2,"BOOKER_DOTERS_GREEN-DOT"),r.Kc),r.Hb(4),r.Tc(r.lc(6,4,"PROFILE_LABEL_DOTERS-SIGN-IN")))}var Ei=function(e,t,n){return{"sidebar-vivafan":e,"sidebar-vivagift px-xs-20 px-lg-40":t,"sidebar-doters px-20":n}};function Pi(e,t){if(1&e&&(r.Zb(0,"div",34),r.Xb(1,35),r.Qc(2,Ti,5,6,"ng-container",36),r.Qc(3,wi,7,6,"ng-container",36),r.Qc(4,Ai,7,6,"ng-container",36),r.Wb(),r.Yb()),2&e){var n=r.jc();r.sc("ngClass",r.xc(5,Ei,"vivafan"===n.showBannerType,"vivagift"===n.showBannerType,"doters"===n.showBannerType)),r.Hb(1),r.sc("ngSwitch",n.showBannerType),r.Hb(1),r.sc("ngSwitchCase","vivafan"),r.Hb(1),r.sc("ngSwitchCase","vivagift"),r.Hb(1),r.sc("ngSwitchCase","doters")}}function Mi(e,t){if(1&e&&(r.Zb(0,"div",42),r.Zb(1,"div",43),r.Sc(2),r.kc(3,"cmsTranslate"),r.Yb(),r.Yb()),2&e){var n=r.jc();r.Hb(2),r.Tc(r.lc(3,1,n.specialLoginTxt))}}function xi(e,t){if(1&e&&r.Ub(0,"app-flight-alert",44),2&e){var n=r.jc();r.sc("alertData",n.loginAlert)("noClose",!0)("noRounded",!0)("noMargin",!0)}}function Di(e,t){1&e&&r.Vb(0)}function Ii(e,t){if(1&e&&(r.Zb(0,"div",45),r.Qc(1,Di,1,0,"ng-container",28),r.Yb()),2&e){r.jc();var n=r.Ec(50);r.Hb(1),r.sc("ngTemplateOutlet",n)}}function Li(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-call-to-action",57),r.hc("click",(function(){return r.Hc(n),r.jc(3).onForgotPasswordClick()})),r.Sc(1),r.Yb()}if(2&e){var i=t.ngIf;r.sc("callToAction",i)("ctaClass","text-bold text-link lh-1"),r.Hb(1),r.Uc(" ",i.text," ")}}function Ri(e,t){1&e&&(r.Xb(0),r.Zb(1,"div",50),r.Zb(2,"div",51),r.Zb(3,"div",52),r.Ub(4,"em",53),r.Yb(),r.Zb(5,"div",54),r.Ub(6,"img",55),r.kc(7,"cmsStaticImage"),r.Yb(),r.Yb(),r.Zb(8,"div"),r.Sc(9),r.kc(10,"cmsTranslate"),r.Qc(11,Li,2,3,"app-call-to-action",56),r.kc(12,"cmsStaticCtas"),r.Yb(),r.Yb(),r.Wb()),2&e&&(r.Hb(6),r.sc("src",r.lc(7,3,"GLOBAL_LOGO_GOOGLE"),r.Kc),r.Hb(3),r.Uc(" ",r.lc(10,5,"PROFILE_LABEL_SOCIAL-LOGIN")," "),r.Hb(2),r.sc("ngIf",r.lc(12,7,"PROFILE_ACTION_SIDEBAR-SOCIAL-LOGIN")))}function Ni(e,t){if(1&e&&(r.Xb(0),r.Zb(1,"p",46),r.Sc(2),r.kc(3,"cmsTranslate"),r.Yb(),r.Zb(4,"div",47),r.Qc(5,Ri,13,9,"ng-container",48),r.Yb(),r.Zb(6,"small",49),r.Zb(7,"span"),r.Sc(8),r.kc(9,"cmsTranslate"),r.Yb(),r.Yb(),r.Wb()),2&e){var n=r.jc(),i=r.Ec(52);r.Hb(2),r.Uc(" ",r.lc(3,4,"GLOBAL_LABEL_LOGIN-SOCIALMEDIA")," "),r.Hb(3),r.sc("ngIf",n.cmsDisableSocialLogin)("ngIfElse",i),r.Hb(3),r.Tc(r.lc(9,6,"GLOBAL_LABEL_LOGIN-MAIL"))}}function ji(e,t){if(1&e&&(r.Zb(0,"small",58),r.Sc(1),r.kc(2,"cmsTranslate"),r.Ub(3,"br"),r.Yb()),2&e){var n=t.$implicit,i=r.jc();r.Hb(1),r.Uc(" ",r.lc(2,1,i.errorCodes.email[n]),"")}}function Bi(e,t){if(1&e&&(r.Zb(0,"small",58),r.Sc(1),r.kc(2,"cmsTranslate"),r.Ub(3,"br"),r.Yb()),2&e){var n=t.$implicit,i=r.jc();r.Hb(1),r.Uc(" ",r.lc(2,1,i.errorCodes.password[n]),"")}}function Fi(e,t){1&e&&(r.Zb(0,"label",59),r.Zb(1,"span",60),r.Sc(2),r.kc(3,"cmsTranslate"),r.Yb(),r.Ub(4,"input",61),r.Ub(5,"span",62),r.Yb()),2&e&&(r.Hb(2),r.Uc(" ",r.lc(3,1,"GLOBAL_CHECKBOX_REMEMBERUSER")," "))}function Hi(e,t){if(1&e){var n=r.ac();r.Zb(0,"a",63),r.hc("click",(function(){return r.Hc(n),r.jc().onForgotPasswordClick()})),r.Sc(1),r.kc(2,"cmsTranslate"),r.Yb()}2&e&&(r.Hb(1),r.Uc(" ",r.lc(2,1,"GLOBAL_ACTION_FORGOTPASSWORD")," "))}function Ui(e,t){1&e&&r.Vb(0)}function Yi(e,t){1&e&&r.Vb(0)}function Gi(e,t){if(1&e&&(r.Zb(0,"div",64),r.Qc(1,Yi,1,0,"ng-container",28),r.Yb()),2&e){r.jc();var n=r.Ec(48);r.Hb(1),r.sc("ngTemplateOutlet",n)}}function Vi(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",67),r.Zb(1,"a",68),r.hc("click",(function(){return r.Hc(n),r.jc(2).changeToNormalUser()})),r.Zb(2,"div",69),r.Zb(3,"span"),r.Sc(4),r.kc(5,"cmsTranslate"),r.Yb(),r.Yb(),r.Ub(6,"div",70),r.Yb(),r.Yb()}2&e&&(r.Hb(4),r.Tc(r.lc(5,1,"PROFILE_LABEL_NORMAL-LOGIN")))}function Zi(e,t){1&e&&r.Vb(0)}function Wi(e,t){if(1&e&&(r.Xb(0),r.Qc(1,Zi,1,0,"ng-container",28),r.Wb()),2&e){r.jc(2);var n=r.Ec(54);r.Hb(1),r.sc("ngTemplateOutlet",n)}}function Ki(e,t){if(1&e&&(r.Zb(0,"button",65),r.Zb(1,"span"),r.Sc(2),r.kc(3,"cmsTranslate"),r.Yb(),r.Yb(),r.Qc(4,Vi,7,3,"div",66),r.Qc(5,Wi,2,1,"ng-container",10)),2&e){var n=r.jc();r.sc("disabled",!n.canLogin),r.Ib("form",n.formId),r.Hb(2),r.Tc(r.lc(3,5,"GLOBAL_ACTION_LOGIN")),r.Hb(2),r.sc("ngIf",n.loginType),r.Hb(1),r.sc("ngIf",!n.loginType)}}function zi(e,t){if(1&e&&(r.Zb(0,"div",71),r.Zb(1,"div",72),r.Zb(2,"div",73),r.Zb(3,"div"),r.Ub(4,"ng-lottie",74),r.Yb(),r.Zb(5,"div",43),r.Sc(6),r.kc(7,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&e){var n=r.jc();r.Hb(4),r.sc("options",n.lottieOpts),r.Hb(2),r.Tc(r.lc(7,2,"PROFILE_LABEL_LOGGING-IN"))}}function Qi(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",75),r.Zb(1,"app-fb-button",76),r.hc("clicked",(function(){return r.Hc(n),r.jc().onSocialLoginStart()}))("loginSuccess",(function(e){return r.Hc(n),r.jc().onSocialLoginSuccess(e,"facebook")}))("loginError",(function(e){return r.Hc(n),r.jc().onSocialLoginError(e)})),r.Yb(),r.Yb(),r.Zb(2,"div",75),r.Zb(3,"app-ga-button",76),r.hc("clicked",(function(){return r.Hc(n),r.jc().onSocialLoginStart()}))("loginSuccess",(function(e){return r.Hc(n),r.jc().onSocialLoginSuccess(e,"google")}))("loginError",(function(e){return r.Hc(n),r.jc().onSocialLoginError(e)})),r.Yb(),r.Yb()}if(2&e){var i=r.jc();r.Hb(1),r.sc("isDisabled",!i.canLogin),r.Hb(2),r.sc("isDisabled",!i.canLogin)}}function Xi(e,t){if(1&e){var n=r.ac();r.Zb(0,"button",77),r.hc("click",(function(){return r.Hc(n),r.jc().goToNewAccount()})),r.Zb(1,"span"),r.Sc(2),r.kc(3,"cmsTranslate"),r.Yb(),r.Yb()}2&e&&(r.Hb(2),r.Tc(r.lc(3,1,"GLOBAL_ACTION_NEWACCOUNT")))}var qi,$i,Ji=function(e){return{"guest-fee-header":e}},er=function(e,t){return{"mb-md-2":e,"mb-md-1":t}},tr=function(e){return{"mt-20 mt-md-0":e}},nr=function(e,t){return{"fa-envelope":e,"fa-user":t}},ir=function(e){return{"d-none d-md-block":e}},rr=((qi=function(){function e(t,n,i,o,a,s,c,l,u,d,h){_classCallCheck(this,e),this.fb=t,this.auth=n,this.loginSb=i,this.router=o,this.route=a,this.zone=s,this.alertsSvc=c,this.document=l,this.sidebarService=u,this.cmsConfig=d,this.uxProfileDatalayer=h,this.canLogin=!0,this.errorCodes={email:{required:"BOOKER_ERROR_FIELD-REQUIRED",email:"BOOKER_ERROR_INVALID-EMAIL"},password:{required:"BOOKER_ERROR_FIELD-REQUIRED",minlength:"ERROR_PASSWORD_MIN",maxlength:"ERROR_PASSWORD_MAX"}},this.emailFillSubscription=sn.a.EMPTY,this.showBannerType=void 0,this.guestFeeStyle=!1,this.returnToNormalLogin=new r.p,this.justLoggedIn=new r.p,this.accountType=Tn.k,this.cmsSocialSunsetFlag=!1,this.cmsDisableSocialLogin=!1,this.fg=this.fb.group({email:this.fb.control("",[Rn.I.required,li.a.email]),password:this.fb.control("",[Rn.I.required,Rn.I.minLength(6),Rn.I.maxLength(32)]),keepSession:this.fb.control(!1)}),this.cmsSocialSunsetFlag=this.cmsConfig.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.SocialLoginSunsetNotice),this.cmsDisableSocialLogin=this.cmsConfig.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.DisableSocialLogin)||!1;var f="./assets/img/lottie/lf20_itfqkw61.json";this.cmsConfig.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.UseDotersLoader)&&(f="./assets/img/lottie/doters-loader.json"),this.lottieOpts={path:f}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.queryParams.pipe(Object($t.a)((function(e){return e.showLogin})),Object(Jt.a)(1)).subscribe((function(t){e.showBannerType=t.loginType||void 0}))}},{key:"ngOnChanges",value:function(){if(this.loginType)switch(this.emailFillSubscription.closed||this.emailFillSubscription.unsubscribe(),this.fg.controls.email.clearValidators(),this.fg.controls.email.setValidators([Rn.I.required]),this.fg.controls.email.updateValueAndValidity(),this.fg.controls.email.reset(),this.loginType){case Tn.k.Agency:this.loginSupportTxt="HEADER_LOGIN_AGENCY_SUPPORT";break;case Tn.k.Enterprise:this.loginSupportTxt="HEADER_LOGIN_ENTERPRISE_SUPPORT";break;case Tn.k.Staff:this.loginSupportTxt="HEADER_LOGIN_STAFF_SUPPORT";break;default:this.loginSupportTxt="HEADER_LOGIN-SUPPORT"}else this.loginSupportTxt="HEADER_LOGIN-SUPPORT",this.startEmailSubscriptions()}},{key:"ngOnDestroy",value:function(){this.emailFillSubscription.closed||this.emailFillSubscription.unsubscribe()}},{key:"onSubmit",value:function(){var e=this;this.fg.markAllAsTouched(),this.fg.valid&&(this.displayAlert(void 0),this.canLogin=!1,this.zone.run((function(){var t=e.route.snapshot.queryParamMap,n=!0;t.has("bookingType")&&"Points"===t.get("bookingType")&&(n=!1),e.auth.doLogin(e.fg.get("email").value,e.fg.get("password").value,e.fg.get("keepSession").value,e.loginType,null,n).then((function(t){t?(e.route.firstChild.url.pipe(Object(Jt.a)(1)).subscribe((function(t){var n;("maintenance"===(null===(n=null==t?void 0:t[0])||void 0===n?void 0:n.path)||e._specialAccount)&&e.router.navigate(["/"])})),e.redirectOnLogin(),e.justLoggedIn.emit(),e.loginSb.closeModal()):e.displayAlert("INVALID_LOGIN_ERROR")})).finally((function(){e.canLogin=!0}))})))}},{key:"onSocialLoginStart",value:function(){this.canLogin=!1,this.displayAlert(void 0)}},{key:"onSocialLoginSuccess",value:function(e,t){var n=this;this.zone.run((function(){n.auth.doSocialLogin(e,t).then((function(e){e?(n.loginSb.closeModal(),n.redirectOnLogin(),n.justLoggedIn.emit()):n.displayAlert("SOCIAL_LOGIN_ERROR")})).catch((function(){n.displayAlert("SOCIAL_LOGIN_ERROR")})).finally((function(){n.canLogin=!0}))}))}},{key:"onSocialLoginError",value:function(e){var t=this;Object(Vt.a)(0).subscribe((function(){"popup_closed_by_user"!==(null==e?void 0:e.error)&&t.displayAlert("SOCIAL_LOGIN_ERROR"),t.canLogin=!0}))}},{key:"getFieldErrors",value:function(e){return this.fg.get(e).invalid&&this.fg.get(e).touched?Object.keys(this.fg.get(e).errors):null}},{key:"resetForm",value:function(){this.fg.reset({email:"",password:"",keepSession:!1})}},{key:"startEmailSubscriptions",value:function(){var e=this;this.emailFillSubscription=this.loginSb.loginEmail$.subscribe((function(t){e.resetForm(),e.fg.get("email").setValue(t.email,{emitEvent:!1}),t.existingEmail&&e.displayAlert("REGISTER_EMAIL_ALREADY_EXISTS")}))}},{key:"displayAlert",value:function(e){var t=this;e?this.alertsSvc.ready.then((function(){t.loginAlert=t.alertsSvc.getAlert(e)})):this.loginAlert=void 0}},{key:"redirectOnLogin",value:function(){var e=this.route.snapshot.queryParamMap;if(e.has("loginRedirect")&&"true"===e.get("loginRedirect")&&e.has("redirectUrl")){var t=e.get("redirectUrl");this.document.location.href=t}}},{key:"goToNewAccount",value:function(){switch(this.loginType){case Tn.k.Agency:this.document.location.href="https://web.vivaaerobus.com/mx/volar-con-viva/vivaagencias-registro#Agency_form";break;case Tn.k.Enterprise:this.document.location.href="https://web.vivaaerobus.com/mx/volar-con-viva/vivaempresas-registro#Enterprise_form";break;default:if(this.guestFeeStyle)this.sidebarService.openModal(!1),this.loginSb.closeModal(!1);else{var e={};"vivafan"===this.showBannerType&&(e={loginType:"vivafan"}),this.router.navigate(["/register"],{queryParams:e})}}}},{key:"changeToNormalUser",value:function(){this.returnToNormalLogin.emit()}},{key:"onForgotPasswordClick",value:function(){this.uxProfileDatalayer.loginClickRecoverPassword()}},{key:"specialLoginTxt",get:function(){if(this.loginType)switch(this.loginType){case Tn.k.Agency:return"PROFILE_LABEL_VIVA-AGENCIAS";case Tn.k.Enterprise:return"PROFILE_LABEL_VIVA-EMPRESAS";case Tn.k.Staff:return"PROFILE_LABEL-VIVA-AMIGOS"}return""}},{key:"_specialAccount",get:function(){return this.loginType===Tn.k.Agency||this.loginType===Tn.k.Enterprise||this.loginType===Tn.k.Staff}},{key:"showSocialSection",get:function(){return this.cmsSocialSunsetFlag&&!this.loginType&&!this.guestFeeStyle}},{key:"formId",get:function(){return("viva-form-"+(this.loginType||"regular")).toLowerCase()}}]),e}()).\u0275fac=function(e){return new(e||qi)(r.Tb(Rn.h),r.Tb(En.a),r.Tb(An.a),r.Tb(Bt.g),r.Tb(Bt.a),r.Tb(r.E),r.Tb(ui.a),r.Tb(mt.e),r.Tb(xn.a),r.Tb(an.a),r.Tb(di.a))},qi.\u0275cmp=r.Nb({type:qi,selectors:[["app-login-form"]],inputs:{loginType:"loginType",guestFeeStyle:"guestFeeStyle"},outputs:{returnToNormalLogin:"returnToNormalLogin",justLoggedIn:"justLoggedIn"},features:[r.Fb],decls:55,vars:59,consts:[[1,"login-form-container"],[1,"sidebar-header",3,"ngClass"],[1,"sidebar-title","mb-0","h2",3,"ngClass"],[1,"sidebar-description","d-none","d-sm-block"],[1,"sidebar-content","position-relative"],["class","d-flex justify-content-start justify-content-md-center align-items-center flex-row light",3,"ngClass",4,"ngIf"],["class","special-login-bar px-40 py-20",4,"ngIf"],["class","pb-10",3,"alertData","noClose","noRounded","noMargin",4,"ngIf"],[1,"sidebar-main","position-relative",3,"ngClass"],["class","login-loader",4,"ngIf"],[4,"ngIf"],[3,"id","name","formGroup","submit"],[1,"mb-3"],[1,"viva-input-field"],["inputmode","email","formControlName","email","autocomplete","username",1,"viva-personal",3,"type","id","name","placeholder"],[1,"fas",3,"ngClass"],[3,"for"],[1,"divider"],[1,"valid"],[1,"fas","fa-check"],["class","viva-input-field-error",4,"ngFor","ngForOf"],["appPwdToggle","","type","password","id","login_password","name","login_password","formControlName","password","maxlength","32","autocomplete","current-password",1,"viva-personal",3,"placeholder"],[1,"fas","fa-key"],["for","login_password"],[1,"d-flex","mb-3","justify-content-between","align-items-center"],["for","login_remember","class","checkbox-container",4,"ngIf"],["routerLink","recover","class","text-link simple text-center d-block medium-title dark forgot-password",3,"click",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet"],["class","guest-fee-btns pb-40 px-20 d-block d-md-none",4,"ngIf"],["submitButton",""],["loader",""],["socialBtns",""],["NewAccountBtn",""],[1,"d-flex","justify-content-start","justify-content-md-center","align-items-center","flex-row","light",3,"ngClass"],[3,"ngSwitch"],[4,"ngSwitchCase"],["alt","viva fan","loading","lazy",1,"viva-fan-logo","mr-2",3,"src"],[1,"medium-title",3,"innerHTML"],["alt","viva gift","loading","lazy",1,"viva-gift-logo","mr-20",3,"src"],[1,"medium-title"],["width","16","alt","doters","loading","lazy",1,"mr-10",3,"src"],[1,"special-login-bar","px-40","py-20"],[1,"h4"],[1,"pb-10",3,"alertData","noClose","noRounded","noMargin"],[1,"login-loader"],[1,"regular-text","mb-20","mb-sm-4","d-none"],[1,"row","mb-0","mb-sm-3"],[4,"ngIf","ngIfElse"],[1,"or-separator"],[1,"col-12","mb-3","d-flex","flex-column","flex-md-row","align-items-md-center","align-items-start","justify-content-start","flex-nowrap"],[1,"pr-10","mr-md-5","mr-0","mb-5","mb-md-0","d-flex","flex-nowrap"],[1,"social-icon","mr-5"],[1,"fab","fa-facebook-f","fb"],[1,"social-icon"],["alt","G","loading","lazy",3,"src"],[3,"callToAction","ctaClass","click",4,"ngIf"],[3,"callToAction","ctaClass","click"],[1,"viva-input-field-error"],["for","login_remember",1,"checkbox-container"],[1,"medium-title","dark","opacity-8"],["id","login_remember","name","login_password","type","checkbox","formControlName","keepSession"],[1,"checkmark"],["routerLink","recover",1,"text-link","simple","text-center","d-block","medium-title","dark","forgot-password",3,"click"],[1,"guest-fee-btns","pb-40","px-20","d-block","d-md-none"],["type","submit",1,"viva-btn","primary","d-block","w-100","mb-3",3,"disabled"],["class","py-10 w-100 d-flex justify-content-center",4,"ngIf"],[1,"py-10","w-100","d-flex","justify-content-center"],[1,"viva-btn","tertiary","d-flex","justify-content-center","align-items-center","px-20",3,"click"],[1,"content"],[1,"line","opacity-2"],[1,"container"],[1,"row"],[1,"col-12","d-flex","flex-column","align-items-center"],["width","170px","height","170px",3,"options"],[1,"col-6"],["btnClass","w-100 mb-3",3,"isDisabled","clicked","loginSuccess","loginError"],["type","button",1,"viva-btn","outlined","w-100","mb-4",3,"click"]],template:function(e,t){if(1&e&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Zb(2,"div",2),r.Sc(3),r.kc(4,"cmsTranslate"),r.Yb(),r.Zb(5,"p",3),r.Sc(6),r.kc(7,"cmsTranslate"),r.Yb(),r.Yb(),r.Zb(8,"div",4),r.Qc(9,Pi,5,9,"div",5),r.Qc(10,Mi,4,3,"div",6),r.Qc(11,xi,1,4,"app-flight-alert",7),r.Zb(12,"div",8),r.Qc(13,Ii,2,1,"div",9),r.Qc(14,Ni,10,8,"ng-container",10),r.Zb(15,"form",11),r.hc("submit",(function(){return t.onSubmit()})),r.Zb(16,"div",12),r.Zb(17,"div",13),r.Ub(18,"input",14),r.kc(19,"lowercase"),r.kc(20,"lowercase"),r.kc(21,"cmsTranslate"),r.Ub(22,"i",15),r.Zb(23,"label",16),r.kc(24,"lowercase"),r.Sc(25),r.kc(26,"cmsTranslate"),r.Yb(),r.Ub(27,"div",17),r.Zb(28,"div",18),r.Ub(29,"i",19),r.Yb(),r.Yb(),r.Qc(30,ji,4,3,"small",20),r.Yb(),r.Zb(31,"div",12),r.Zb(32,"div",13),r.Ub(33,"input",21),r.kc(34,"cmsTranslate"),r.Ub(35,"i",22),r.Zb(36,"label",23),r.Sc(37),r.kc(38,"cmsTranslate"),r.Yb(),r.Ub(39,"div",17),r.Yb(),r.Qc(40,Bi,4,3,"small",20),r.Yb(),r.Zb(41,"div",24),r.Qc(42,Fi,6,3,"label",25),r.Qc(43,Hi,3,3,"a",26),r.Yb(),r.Zb(44,"div",27),r.Qc(45,Ui,1,0,"ng-container",28),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Qc(46,Gi,2,1,"div",29),r.Yb(),r.Qc(47,Ki,6,7,"ng-template",null,30,r.Rc),r.Qc(49,zi,8,4,"ng-template",null,31,r.Rc),r.Qc(51,Qi,4,2,"ng-template",null,32,r.Rc),r.Qc(53,Xi,4,3,"ng-template",null,33,r.Rc)),2&e){var n=r.Ec(48);r.Hb(1),r.sc("ngClass",r.vc(47,Ji,t.guestFeeStyle)),r.Hb(1),r.sc("ngClass",r.wc(49,er,!t.guestFeeStyle,t.guestFeeStyle)),r.Hb(1),r.Uc(" ",r.lc(4,29,"GLOBAL_LABEL_LOGIN")," "),r.Hb(3),r.Uc(" ",r.lc(7,31,t.loginSupportTxt)," "),r.Hb(3),r.sc("ngIf",t.showBannerType),r.Hb(1),r.sc("ngIf",t.loginType),r.Hb(1),r.sc("ngIf",t.loginAlert),r.Hb(1),r.sc("ngClass",r.vc(52,tr,t.guestFeeStyle)),r.Hb(1),r.sc("ngIf",!t.canLogin),r.Hb(1),r.sc("ngIf",t.showSocialSection),r.Hb(1),r.sc("id",t.formId)("name",t.formId)("formGroup",t.fg),r.Hb(3),r.sc("type",t.loginType?"text":"email")("id","login_"+r.lc(19,33,t.loginType||"email"))("name","login_"+r.lc(20,35,t.loginType||"email"))("placeholder",r.lc(21,37,t.loginType?"GLOBAL_LABEL_USER-PLACEHOLDER":"GLOBAL_LABEL_MAIL-PLACEHOLDER")),r.Hb(4),r.sc("ngClass",r.wc(54,nr,!t.loginType,t.loginType)),r.Hb(1),r.sc("for","login_"+r.lc(24,39,t.loginType||"email")),r.Hb(2),r.Tc(r.lc(26,41,t.loginType?"GLOBAL_LABEL_USER":"GLOBAL_LABEL_MAIL")),r.Hb(5),r.sc("ngForOf",t.getFieldErrors("email")),r.Hb(3),r.sc("placeholder",r.lc(34,43,"GLOBAL_LABEL_PASSWORD-PLACEHOLDER")),r.Hb(4),r.Uc(" ",r.lc(38,45,"GLOBAL_LABEL_PASSWORD")," "),r.Hb(3),r.sc("ngForOf",t.getFieldErrors("password")),r.Hb(2),r.sc("ngIf",t.loginType!==t.accountType.Staff),r.Hb(1),r.sc("ngIf",!t.loginType),r.Hb(1),r.sc("ngClass",r.vc(57,ir,t.guestFeeStyle)),r.Hb(1),r.sc("ngTemplateOutlet",n),r.Hb(1),r.sc("ngIf",t.guestFeeStyle)}},directives:[mt.r,mt.u,Rn.K,Rn.v,Rn.m,Rn.d,Rn.u,Rn.k,mt.t,hi.a,Rn.p,mt.B,mt.y,mt.z,fi.a,pi.a,Rn.b,Bt.j,gi.b,_i,ki],pipes:[Nn.a,mt.q,si.a,Si.a,Oi.a],styles:['.login-form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.sidebar-footer[_ngcontent-%COMP%]{flex:0 0 60px}.sidebar-footer[_ngcontent-%COMP%]   .tertiary[_ngcontent-%COMP%]{min-height:-webkit-fit-content!important;min-height:-moz-fit-content!important;min-height:fit-content!important}@media screen and (max-width:575px){.sidebar-footer[_ngcontent-%COMP%]   .tertiary[_ngcontent-%COMP%]{line-height:40px;border-radius:0}}.sidebar-header[_ngcontent-%COMP%]{padding:40px!important;flex:0 0 200px!important;height:auto!important}@media screen and (max-width:575px){.sidebar-header[_ngcontent-%COMP%]{flex-basis:74px!important}}.sidebar-header.guest-fee-header[_ngcontent-%COMP%]{flex:0 0 auto!important;padding-top:30px!important}@media screen and (max-width:575px){.sidebar-header.guest-fee-header[_ngcontent-%COMP%]{padding:20px 30px!important}}.sidebar-content[_ngcontent-%COMP%]{background-color:var(--wh1);flex-grow:1;overflow-y:auto}@media screen and (max-width:575px){.sidebar-content[_ngcontent-%COMP%]{overflow:auto}}.sidebar-main[_ngcontent-%COMP%]{padding:40px!important}@media screen and (max-width:575px){.sidebar-main[_ngcontent-%COMP%]{padding:20px!important}}.guest-fee-btns[_ngcontent-%COMP%]{background-color:var(--wh1)}.login-loader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:rgba(var(--wh2-rgb),.6);z-index:2}@media screen and (max-width:575px){.sidebar-header[_ngcontent-%COMP%]{padding:20px!important;height:auto!important}.sidebar-header[_ngcontent-%COMP%]   .sidebar-title[_ngcontent-%COMP%]{line-height:34px}.checkbox-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.8}small.or-separator[_ngcontent-%COMP%]{margin-bottom:20px;line-height:normal;height:auto;position:relative;border:none}small.or-separator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1;color:var(--bg6);opacity:.5}small.or-separator[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;margin:auto;width:100%;height:1px;background:var(--gr20);left:0;z-index:0}}.viva-fan-logo[_ngcontent-%COMP%]{height:24px;width:24px}.viva-gift-logo[_ngcontent-%COMP%]{width:50px}.sidebar-vivafan[_ngcontent-%COMP%]{background-color:var(--b4);height:70px;padding:0 49px}.sidebar-doters[_ngcontent-%COMP%]{background-color:var(--bl9);height:70px}.sidebar-vivagift[_ngcontent-%COMP%]{background-color:#ff385d;height:70px}.special-login-bar[_ngcontent-%COMP%]{background-color:var(--bg6)}.special-login-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--wh1)}.social-icon[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid var(--gr20);border-radius:15px;background-color:var(--wh1);display:flex;justify-content:center;align-items:center;font-size:15px;line-height:1}.social-icon[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:15px;width:auto;max-width:15px}.social-icon[_ngcontent-%COMP%]   .fb[_ngcontent-%COMP%]{color:var(--b4)}.forgot-password[_ngcontent-%COMP%]{text-decoration:underline}']}),qi),or=n("WSM3"),ar=n("h/S9"),sr=n("vbKG"),cr=n("lLeZ"),lr=n("XwRA"),ur=function(e){return{loading:e}},dr=(($i=function(){function e(t,n){_classCallCheck(this,e),this.modalSvc=t,this.accountApiSvc=n,this.id="standby-modal",this.isLoading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"closeModal",value:function(){this.modalSvc.close(this.id)}},{key:"goToTravelId",value:function(){var e=this;this.isLoading=!0,this.accountApiSvc.getTravelIdURL().subscribe((function(t){t.url&&window.open(t.url,"_blank"),e.isLoading=!1,e.closeModal()}),(function(t){l.g.production||console.error(t),e.isLoading=!1}))}}]),e}()).\u0275fac=function(e){return new(e||$i)(r.Tb(In.a),r.Tb(Zn.a))},$i.\u0275cmp=r.Nb({type:$i,selectors:[["app-standby-modal"]],decls:23,vars:22,consts:[[3,"id","dismissable","showFirst"],[1,"standby-modal"],[1,"standby-modal-header"],[1,"subheader","mb-1"],[1,"h3"],[1,"modal-content"],[1,"mb-40","rt-paragraph-m-0","regular-text",3,"innerHTML"],[1,"d-flex","flex-column","justify-content-end","align-items-center"],["type","button",1,"viva-btn","primary-dark","d-block","mb-3",3,"ngClass","disabled","click"],[1,"ml-1","fas","fa-external-link"],["type","button",1,"viva-btn","tertiary",3,"click"],[1,"content","mx-20"],[1,"line"]],template:function(e,t){1&e&&(r.Zb(0,"app-modal",0),r.Zb(1,"div",1),r.Zb(2,"div",2),r.Zb(3,"div",3),r.Sc(4),r.kc(5,"cmsTranslate"),r.Yb(),r.Zb(6,"div",4),r.Sc(7),r.kc(8,"cmsTranslate"),r.Yb(),r.Yb(),r.Zb(9,"div",5),r.Ub(10,"div",6),r.kc(11,"cmsTranslateRichText"),r.Zb(12,"div",7),r.Zb(13,"button",8),r.hc("click",(function(){return t.goToTravelId()})),r.Zb(14,"span"),r.Sc(15),r.kc(16,"cmsTranslate"),r.Ub(17,"em",9),r.Yb(),r.Yb(),r.Zb(18,"button",10),r.hc("click",(function(){return t.closeModal()})),r.Zb(19,"span",11),r.Sc(20),r.kc(21,"cmsTranslate"),r.Yb(),r.Ub(22,"div",12),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&e&&(r.sc("id",t.id)("dismissable",!1)("showFirst",!0),r.Hb(4),r.Uc(" ",r.lc(5,10,"PROFILE_STANDBY-SUBTITLE")," "),r.Hb(3),r.Uc(" ",r.lc(8,12,"PROFILE_TITLE-STANDBY")," "),r.Hb(3),r.sc("innerHTML",r.lc(11,14,"PROFILE_STANDBY-SUPPORT"),r.Ic),r.Hb(3),r.sc("ngClass",r.vc(20,ur,t.isLoading))("disabled",t.isLoading),r.Hb(2),r.Uc(" ",r.lc(16,16,"BOOKING_LABEL_GO-TO-IDTRAVEL")," "),r.Hb(5),r.Uc(" ",r.lc(21,18,"GLOBAL_ACTION_CANCEL")," "))},directives:[Ln.a,mt.r],pipes:[Nn.a,Si.a],styles:[".standby-modal[_ngcontent-%COMP%]{width:580px;border-radius:5px;position:relative;box-sizing:border-box;box-shadow:0 0 50px 0 hsla(0,0%,55.3%,.07),0 1px 5px 0 rgba(95,95,95,.07);background-color:var(--wh1);overflow:hidden}@media screen and (max-width:800px){.standby-modal[_ngcontent-%COMP%]{border-radius:0}}.standby-modal-header[_ngcontent-%COMP%]{background-color:var(--bg4);padding:40px 30px 35px}.standby-modal-header[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{color:var(--wh1)}.standby-modal[_ngcontent-%COMP%]   .mb-100[_ngcontent-%COMP%]{margin-bottom:100px}.standby-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:20px 30px 35px}.viva-btn.primary-dark[_ngcontent-%COMP%]{min-width:280px}"]}),$i),hr=n("ib+v");function fr(e,t){1&e&&r.Ub(0,"i",27)}function pr(e,t){if(1&e&&(r.Zb(0,"div",28),r.Sc(1),r.Yb()),2&e){var n=r.jc(2);r.Hb(1),r.Uc(" ",(null==n.userData?null:n.userData.username)||n.userDetails.email||""," ")}}function gr(e,t){if(1&e&&(r.Zb(0,"div",29),r.Zb(1,"div",30),r.Sc(2),r.kc(3,"cmsTranslate"),r.Yb(),r.Zb(4,"div",31),r.Sc(5),r.Yb(),r.Yb()),2&e){var n=r.jc(2);r.Hb(2),r.Tc(r.lc(3,3,n.specialLoginTxt)),r.Hb(3),r.Vc("",n.specialLoginKey," ",null==n.userData?null:n.userData.customerNumber,"")}}var vr=function(e){return{"green-doter-logo":e}};function mr(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",32),r.Ub(1,"img",33),r.kc(2,"cmsStaticImage"),r.Zb(3,"div",17),r.Zb(4,"div",34),r.Zb(5,"div",17),r.Sc(6),r.kc(7,"cmsTranslate"),r.Yb(),r.Zb(8,"div",35),r.Sc(9),r.kc(10,"currency"),r.kc(11,"cmsTranslate"),r.Yb(),r.Yb(),r.Zb(12,"div",36),r.hc("click",(function(){return r.Hc(n),r.jc(2).goToDoters()})),r.Ub(13,"em",37),r.Yb(),r.Yb(),r.Yb()}if(2&e){var i=r.jc(2);r.sc("ngClass",null==i.dotersLevelData?null:i.dotersLevelData.class),r.Hb(1),r.sc("src",r.lc(2,7,null==i.dotersLevelData?null:i.dotersLevelData.logo),r.Kc)("ngClass",r.vc(18,vr,(null==i.dotersLevelData?null:i.dotersLevelData.lvl)===i.dotersLvls.GREEN)),r.Hb(5),r.Vc("",r.lc(7,9,i.customerNumTxt)," ",null==i.userData?null:i.userData.customerNumber,""),r.Hb(3),r.Vc("",r.oc(10,11,i.dotersFunds?null==i.dotersFunds?null:i.dotersFunds.totalAmount:0,"","","1.0-0")," ",r.lc(11,16,"BOOKER_LABEL_DOTERS"),"")}}var br=function(e){return{regex:"%%date%%",newValue:e}},yr=function(e){return[e]};function _r(e,t){if(1&e&&(r.Zb(0,"div",21),r.Sc(1),r.kc(2,"cmsRegexReplace"),r.kc(3,"cmsTranslate"),r.kc(4,"titlecase"),r.kc(5,"date"),r.Yb()),2&e){var n=r.jc(3);r.Hb(1),r.Uc(" ",r.mc(2,1,r.lc(3,4,"PROFILE_LABEL_VIVAFAN-DATE"),r.vc(13,yr,r.vc(11,br,r.lc(4,6,r.mc(5,8,n.vivaFanAffiliation.startDate,"d MMM y")))))," ")}}function Cr(e,t){if(1&e&&(r.Zb(0,"div",16),r.Zb(1,"div",17),r.Zb(2,"div",18),r.Ub(3,"em",38),r.Yb(),r.Zb(4,"div"),r.Zb(5,"div",20),r.Sc(6),r.kc(7,"cmsTranslate"),r.Yb(),r.Qc(8,_r,6,15,"div",39),r.Yb(),r.Yb(),r.Zb(9,"div",22),r.Ub(10,"em",23),r.Yb(),r.Yb()),2&e){var n=r.jc(2);r.sc("routerLink","/profile/viva-fan"),r.Hb(6),r.Uc(" ",r.lc(7,3,"GLOBAL_LABEL_VIVAFAN")," "),r.Hb(2),r.sc("ngIf",!n.vivaFanExpired)}}var kr=function(e){return{basketId:e}};function Sr(e,t){if(1&e&&(r.Zb(0,"div",40),r.Zb(1,"div",17),r.Zb(2,"div",41),r.Ub(3,"em",42),r.Yb(),r.Zb(4,"div"),r.Zb(5,"div",20),r.Sc(6),r.kc(7,"cmsTranslate"),r.Yb(),r.Zb(8,"div",21),r.Sc(9),r.Yb(),r.Yb(),r.Yb(),r.Zb(10,"div",22),r.Ub(11,"em",23),r.Yb(),r.Yb()),2&e){var n=r.jc(2);r.sc("routerLink","/book/resume")("queryParams",r.vc(6,kr,n.basketId)),r.Hb(6),r.Uc(" ",r.lc(7,4,"BOOKER_LABEL_TITLE-CONFIRM-INFO")," "),r.Hb(3),r.Tc(n.basketSummary)}}var Or=function(e){return{notification:e}},Tr=function(e){return{regex:"%%number of flights%%",newValue:e}};function wr(e,t){if(1&e&&(r.Zb(0,"div",16),r.Zb(1,"div",17),r.Zb(2,"div",43),r.Ub(3,"em",44),r.Yb(),r.Zb(4,"div"),r.Zb(5,"div",20),r.Sc(6),r.kc(7,"cmsTranslate"),r.Yb(),r.Zb(8,"div",21),r.Sc(9),r.kc(10,"cmsRegexReplace"),r.kc(11,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Zb(12,"div",22),r.Ub(13,"em",23),r.Yb(),r.Yb()),2&e){var n=r.jc(2);r.sc("routerLink","/profile/my-trips"),r.Hb(2),r.sc("ngClass",r.vc(11,Or,(null==n.userData||null==n.userData.summary?null:n.userData.summary.futureTripCount)>0)),r.Hb(4),r.Uc(" ",r.lc(7,4,"PROFILE_TITLE-FLIGHTS")," "),r.Hb(3),r.Uc(" ",r.mc(10,6,r.lc(11,9,"PROFILE_LABEL_NEXT-FLIGHTS"),r.vc(15,yr,r.vc(13,Tr,""+((null==n.userData||null==n.userData.summary?null:n.userData.summary.futureTripCount)||0))))," ")}}function Ar(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",45),r.hc("click",(function(){return r.Hc(n),r.jc(2).onVivaCashTermsValidation()})),r.Zb(1,"div",17),r.Zb(2,"div",18),r.Ub(3,"em",46),r.Yb(),r.Zb(4,"div"),r.Zb(5,"div",20),r.Sc(6),r.kc(7,"cmsTranslate"),r.Yb(),r.Zb(8,"div",21),r.Sc(9),r.kc(10,"currency"),r.Yb(),r.Yb(),r.Yb(),r.Zb(11,"div",22),r.Ub(12,"em",23),r.Yb(),r.Yb()}if(2&e){var i=r.jc(2);r.Hb(6),r.Uc(" ",r.lc(7,3,"PROFILE_TITLE-VIVACASH")," "),r.Hb(3),r.Vc(" ",r.mc(10,5,i.vivaCashBalance,i.vivaCashCurrency)," ",i.vivaCashCurrency," ")}}function Er(e,t){if(1&e&&(r.Zb(0,"div",47),r.Zb(1,"div",17),r.Zb(2,"div",18),r.Ub(3,"em",46),r.Yb(),r.Zb(4,"div"),r.Zb(5,"div",20),r.Sc(6),r.kc(7,"cmsTranslate"),r.Yb(),r.Zb(8,"div",21),r.Sc(9),r.kc(10,"currency"),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&e){var n=r.jc(2);r.Hb(6),r.Uc(" ",r.lc(7,3,"PROFILE_TITLE-CREDIT")," "),r.Hb(3),r.Vc(" ",r.oc(10,5,n.vivaCashBalance,"","symbol-narrow","")," ",n.vivaCashCurrency," ")}}var Pr=function(){return{notification:!0}},Mr=function(e,t){return{"fa-user-friends":e,"fa-clipboard-list":t}};function xr(e,t){if(1&e&&(r.Zb(0,"div",16),r.Zb(1,"div",17),r.Zb(2,"div",43),r.Ub(3,"em",19),r.Yb(),r.Zb(4,"div"),r.Zb(5,"div",20),r.Sc(6),r.kc(7,"cmsTranslate"),r.Yb(),r.Zb(8,"div",21),r.Sc(9),r.kc(10,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Zb(11,"div",22),r.Ub(12,"em",23),r.Yb(),r.Yb()),2&e){var n=r.jc(2);r.sc("routerLink","/profile"),r.Hb(2),r.sc("ngClass",r.uc(9,Pr)),r.Hb(1),r.sc("ngClass",r.wc(10,Mr,!n.agencyOrEnterprise,n.agencyOrEnterprise)),r.Hb(3),r.Uc(" ",r.lc(7,5,n.agencyOrEnterprise?"PROFILE_TITLE-REPORTS":"PROFILE_LABEL-VIVA-AMIGOS")," "),r.Hb(3),r.Uc(" ",r.lc(10,7,n.agencyOrEnterprise?"PROFILE_SUPPORT-REPORTS":"PROFILE_SUPPORT-VIVA-AMIGOS")," ")}}function Dr(e,t){1&e&&(r.Zb(0,"div",16),r.Zb(1,"div",17),r.Zb(2,"div",18),r.Ub(3,"img",48),r.kc(4,"cmsStaticImage"),r.Yb(),r.Zb(5,"div"),r.Zb(6,"div",20),r.Sc(7),r.kc(8,"cmsTranslate"),r.Yb(),r.Zb(9,"div",21),r.Sc(10),r.kc(11,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Zb(12,"div",22),r.Ub(13,"em",23),r.Yb(),r.Yb()),2&e&&(r.sc("routerLink","/profile/smile-and-fly"),r.Hb(3),r.sc("src",r.lc(4,4,"PROFILE_ICON_LOGO_SMALL_SMILE-AND-FLY"),r.Kc),r.Hb(4),r.Uc(" ",r.lc(8,6,"PROFILE_LABEL_FACE-ID")," "),r.Hb(3),r.Uc(" ",r.lc(11,8,"PROFILE_LABEL_LOGIN-FACE-ID")," "))}function Ir(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",45),r.hc("click",(function(){return r.Hc(n),r.jc(2).openStandbyModal()})),r.Zb(1,"div",17),r.Zb(2,"div",18),r.Ub(3,"em",49),r.Yb(),r.Zb(4,"div"),r.Zb(5,"div",20),r.Sc(6),r.kc(7,"cmsTranslate"),r.Yb(),r.Zb(8,"div",21),r.Sc(9),r.kc(10,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Zb(11,"div",22),r.Ub(12,"em",23),r.Yb(),r.Yb()}2&e&&(r.Hb(6),r.Uc(" ",r.lc(7,2,"PROFILE_TITLE-STANDBY")," "),r.Hb(3),r.Uc(" ",r.lc(10,4,"PROFILE_SUPPORT-STANDBY")," "))}function Lr(e,t){if(1&e&&(r.Zb(0,"div",50),r.Ub(1,"div",51),r.kc(2,"cmsTranslateRichText"),r.Yb()),2&e){var n=r.jc(2);r.Hb(1),r.sc("innerHTML",r.mc(2,1,n._contactUsCopy,n.contactUsOptions),r.Ic)}}var Rr=function(e,t){return{"fa-user":e,"fa-building":t}};function Nr(e,t){if(1&e){var n=r.ac();r.Xb(0),r.Zb(1,"div",2),r.Ub(2,"app-avatar",3),r.Zb(3,"div",4),r.Zb(4,"div",5),r.Sc(5),r.kc(6,"cmsTranslate"),r.kc(7,"cmsTranslate"),r.Yb(),r.Zb(8,"h3",6),r.Sc(9),r.kc(10,"titlecase"),r.Qc(11,fr,1,0,"i",7),r.Yb(),r.Qc(12,pr,2,1,"div",8),r.Yb(),r.Yb(),r.Qc(13,gr,6,5,"div",9),r.Qc(14,mr,14,20,"div",10),r.Zb(15,"div",11),r.Qc(16,Cr,11,5,"div",12),r.Qc(17,Sr,12,8,"div",13),r.Qc(18,wr,14,17,"div",12),r.Qc(19,Ar,13,8,"div",14),r.Qc(20,Er,11,10,"div",15),r.Zb(21,"div",16),r.Zb(22,"div",17),r.Zb(23,"div",18),r.Ub(24,"em",19),r.Yb(),r.Zb(25,"div"),r.Zb(26,"div",20),r.Sc(27),r.kc(28,"cmsTranslate"),r.Yb(),r.Zb(29,"div",21),r.Sc(30),r.kc(31,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Zb(32,"div",22),r.Ub(33,"em",23),r.Yb(),r.Yb(),r.Qc(34,xr,13,13,"div",12),r.Qc(35,Dr,14,10,"div",12),r.Qc(36,Ir,13,6,"div",14),r.Qc(37,Lr,3,4,"div",24),r.Yb(),r.Zb(38,"div",25),r.Zb(39,"button",26),r.hc("click",(function(){return r.Hc(n),r.jc().onLogout()})),r.Zb(40,"span"),r.Sc(41),r.kc(42,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Wb()}if(2&e){var i=r.jc();r.Hb(2),r.sc("textContent",i.avatarText)("avatarId",null==i.userData?null:i.userData.avatarId)("border",!0),r.Hb(3),r.Uc(" ",i.gender===i.userGender.Female?r.lc(6,23,"GLOBAL_LABEL_WELCOMING-FEMALE"):r.lc(7,25,"GLOBAL_LABEL_WELCOMING-MALE")," "),r.Hb(4),r.Uc(" ",r.lc(10,27,i.userFullName)," "),r.Hb(2),r.sc("ngIf",i.smileAndFlyAffiliation),r.Hb(1),r.sc("ngIf",!i.specialAccount),r.Hb(1),r.sc("ngIf",i.specialAccount),r.Hb(1),r.sc("ngIf",i.dotersLevelData&&!i.agencyOrEnterprise&&!i.isStaffUser&&i.cmsDoters&&(null==i.dotersLevelData?null:i.dotersLevelData.logo)),r.Hb(2),r.sc("ngIf",i.vivaFanAffiliation),r.Hb(1),r.sc("ngIf",i.displayBasket),r.Hb(1),r.sc("ngIf",i.showTripsLink),r.Hb(1),r.sc("ngIf",!i.agencyOrEnterprise&&i.vivaCashActive),r.Hb(1),r.sc("ngIf",i.agencyOrEnterprise),r.Hb(1),r.sc("routerLink","/profile"),r.Hb(3),r.sc("ngClass",r.wc(35,Rr,!i.agencyOrEnterprise,i.agencyOrEnterprise)),r.Hb(3),r.Uc(" ",r.lc(28,29,i.agencyOrEnterprise?(null==i.userData?null:i.userData.accountType)===i.accType.Agency?"PROFILE_TITLE-AGENCY-ACCOUNT":"PROFILE_TITLE-BUSINESS-ACCOUNT":"PROFILE_TITLE-MYACCOUNT")," "),r.Hb(3),r.Uc(" ",r.lc(31,31,i.agencyOrEnterprise?"PROFILE_SUPPORT-BUSINESS-ACCOUNT":"PROFILE_SUPPORT-MYACCOUNT")," "),r.Hb(4),r.sc("ngIf",i.specialAccount&&i.reportsActive),r.Hb(1),r.sc("ngIf",(i.vivaFanAffiliation||i.isStaffUser||i.dotersAffiliation)&&!i.smileAndFlyAffiliation),r.Hb(1),r.sc("ngIf",i.isStaffUser&&i.myIdTravelActive),r.Hb(1),r.sc("ngIf",i.specialAccount),r.Hb(4),r.Uc(" ",r.lc(42,33,"GLOBAL_ACTION_LOGOUT")," ")}}function jr(e,t){1&e&&r.Ub(0,"app-standby-modal")}var Br,Fr=((Br=function(){function e(t,n,i,r,o,a,s,c){_classCallCheck(this,e),this.config=t,this.auth=n,this.loginSbSvc=i,this.basketSvc=r,this.modalSvc=o,this.router=a,this.document=s,this.utilsSvc=c,this.userDetailsSub=sn.a.EMPTY,this.userDataSub=sn.a.EMPTY,this.basketSub=sn.a.EMPTY,this.userGender=wn.g,this.vivaFanExpired=!0,this.vivaCashBalance=0,this.vivaCashCurrency="MXN",this.displayBasket=!1,this.showTripsLink=!1,this.specialAccount=!1,this.agencyOrEnterprise=!1,this.isStaffUser=!1,this.accType=Tn.k,this.vivaCashTermsModalId="viva-cash-terms-modal-login",this.standbyModalId="standby-modal",this.cmsDoters=!1,this.vivaCashActive=!1,this.myIdTravelActive=!1,this.dotersLvls=or.e,this.contactUsOptions={renderNode:_defineProperty2({},sr.BLOCKS.PARAGRAPH,(function(e,t){return""+t(e.content).replace(/\n/g,"<br />")}))},this.cmsDotersOptOut=!1,this.showTripsLink=this.config.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.MyTripsProfileSidebarLink),this.cmsDoters=this.config.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.Doters),this.cmsDotersOptOut=this.config.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.DotersOptOut)||!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.userDetailsSub=this.auth.userDetails$.subscribe((function(t){e.userDetails=t})),this.userDataSub=this.auth.userAccountData$.subscribe((function(t){e.userData=t,e.setAccountValues()})),this.basketSub=this.basketSvc.basket$.subscribe((function(t){var n;t&&e.userData&&(null===(n=e.userData)||void 0===n?void 0:n.basket.basketId)===t.basketId&&t.status!==ar.d.Active&&(e.displayBasket=!1)}))}},{key:"ngOnDestroy",value:function(){this.userDataSub.closed||this.userDataSub.unsubscribe(),this.userDetailsSub.closed||this.userDetailsSub.unsubscribe(),this.basketSub.closed||this.basketSub.unsubscribe()}},{key:"onLogout",value:function(){this.auth.doLogout(),this.loginSbSvc.closeModal()}},{key:"setAccountValues",value:function(){var e;this.specialAccount=this._specialAccount,this.specialLoginTxt=this._specialLoginTxt,this.specialLoginKey=(null===(e=this.userData)||void 0===e?void 0:e.accountType)===Tn.k.Staff?"ID":"Usuario",this.setVivaFanAffiliation(),this.setSmileAndFlyAffiliation(),this.vivaCashBalance=this._vivaCashBalance,this.vivaCashCurrency=this._vivaCashCurrency,this.displayBasket=this._displayBasket,this.reportsActive=this.isReportAfiliation(),this.setDotersAffiliation(),this.vivaCashActive=this._vivaCashAvailable,this.myIdTravelActive=this._myIdTravelAvailable,this.customerNumTxt=this.utilsSvc.getCustomerText(!!this.dotersLevelData)}},{key:"setDotersAffiliation",value:function(){var e,t;this.userData&&(this.dotersFunds=null===(t=null===(e=this.userData)||void 0===e?void 0:e.funds)||void 0===t?void 0:t.find((function(e){return"Doters"===(null==e?void 0:e.type)})),this.dotersAffiliation=this.auth.getDotersAffiliation(this.userData),this.dotersLevelData=this._dotersLevelData)}},{key:"setVivaFanAffiliation",value:function(){this.vivaFanAffiliation=this.auth.getVivaFanAffiliation(this.userData),this.vivaFanExpired=this.hasVivaFanExpired}},{key:"setSmileAndFlyAffiliation",value:function(){this.smileAndFlyAffiliation=this.auth.getActiveSmileAndFlyAffiliation(this.userData)}},{key:"isReportAfiliation",value:function(){var e;return(null===(e=this.userData)||void 0===e?void 0:e.activeFeatures.find((function(e){return(null==e?void 0:e.code)===wn.b.Reports})))||null}},{key:"onVivaCashTermsValidation",value:function(){if(this.userData){var e=this.userData.terms.find((function(e){return e.type===wn.a.VivaCash}));e&&(e.promptTerms?this.modalSvc.open(this.vivaCashTermsModalId):this.goToPaymentMethods())}}},{key:"goToPaymentMethods",value:function(){this.router.navigate(["profile","payment-methods"])}},{key:"onVivaCashTermsAccepted",value:function(){if(this.userData){var e=this.userData.terms.find((function(e){return e.type===wn.a.VivaCash}));e&&(e.promptTerms=!1,this.goToPaymentMethods())}}},{key:"openStandbyModal",value:function(){this.modalSvc.open(this.standbyModalId)}},{key:"goToDoters",value:function(){this.cmsDotersOptOut?this.router.navigate(["profile","doters"]):this.document.location.href="https://www.doters.com"}},{key:"_dotersLevelData",get:function(){var e,t;switch(null===(e=this.dotersAffiliation)||void 0===e?void 0:e.level){case or.e.SILVER:t={class:"level-silver",logo:"BOOKER_IMG_DOTERS-PLATA",text:"BOOKER_LABEL_DOTERS-SILVER",lvl:or.e.SILVER};break;case or.e.GOLD:t={class:"level-gold",logo:"BOOKER_IMG_DOTERS-ORO",text:"BOOKER_LABEL_DOTERS-GOLD",lvl:or.e.GOLD};break;case or.e.GREEN:t={class:"level-green",logo:"BOOKER_DOTERS_LOGO",text:"BOOKER_LABEL_DOTERS-GREEN",lvl:or.e.GREEN};break;default:t=void 0}return t}},{key:"hasVivaFanExpired",get:function(){return!this.vivaFanAffiliation||Hn().isAfter(Hn(this.vivaFanAffiliation.endDate),"day")}},{key:"accountName",get:function(){var e,t;return null===(t=null===(e=this.userData)||void 0===e?void 0:e.personalDetails)||void 0===t?void 0:t.name}},{key:"userFullName",get:function(){var e,t;return"\n      ".concat((null===(e=this.accountName)||void 0===e?void 0:e.firstName)||"","\n       \n      ").concat((null===(t=this.accountName)||void 0===t?void 0:t.lastName)||"","\n    ")}},{key:"gender",get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.userData)||void 0===e?void 0:e.personalDetails)||void 0===t?void 0:t.gender)||void 0===n?void 0:n.gender)||this.userDetails.gender||void 0}},{key:"_vivaCashBalance",get:function(){var e,t,n,i=this;return(null===(n=null===(t=null===(e=this.userData)||void 0===e?void 0:e.funds)||void 0===t?void 0:t.find((function(e){return e.type===(i.specialAccount?"AccountCredit":"VivaCash")})))||void 0===n?void 0:n.totalAmount)||0}},{key:"_vivaCashAvailable",get:function(){var e,t,n;return!!(null===(t=null===(e=this.userData)||void 0===e?void 0:e.activeFeatures)||void 0===t?void 0:t.length)&&!!(null===(n=this.userData)||void 0===n?void 0:n.activeFeatures.find((function(e){return e.code===wn.b.VivaCash})))}},{key:"_myIdTravelAvailable",get:function(){var e,t,n;return!!(null===(t=null===(e=this.userData)||void 0===e?void 0:e.activeFeatures)||void 0===t?void 0:t.length)&&!!(null===(n=this.userData)||void 0===n?void 0:n.activeFeatures.find((function(e){return e.code===wn.b.MyIdTravel})))}},{key:"_specialAccount",get:function(){var e,t,n;return this.agencyOrEnterprise=!1,(null===(e=this.userData)||void 0===e?void 0:e.accountType)===Tn.k.Agency||(null===(t=this.userData)||void 0===t?void 0:t.accountType)===Tn.k.Enterprise?(this.agencyOrEnterprise=!0,!0):(null===(n=this.userData)||void 0===n?void 0:n.accountType)===Tn.k.Staff&&(this.isStaffUser=!0,!0)}},{key:"_specialLoginTxt",get:function(){var e,t;if((null===(e=this.userData)||void 0===e?void 0:e.accountType)&&this.specialAccount)switch(null===(t=this.userData)||void 0===t?void 0:t.accountType){case Tn.k.Agency:return"PROFILE_LABEL_VIVA-AGENCIAS";case Tn.k.Enterprise:return"PROFILE_LABEL_VIVA-EMPRESAS";case Tn.k.Staff:return"PROFILE_LABEL-VIVA-AMIGOS"}return""}},{key:"_vivaCashCurrency",get:function(){var e,t,n,i=this;return(null===(n=null===(t=null===(e=this.userData)||void 0===e?void 0:e.funds)||void 0===t?void 0:t.find((function(e){return e.type===(i.agencyOrEnterprise?"AccountCredit":"VivaCash")})))||void 0===n?void 0:n.currencyCode)||"MXN"}},{key:"_displayBasket",get:function(){var e,t,n;return(null===(t=null===(e=this.userData)||void 0===e?void 0:e.basket)||void 0===t?void 0:t.status)===ar.d.Active&&(null===(n=this.userData.basket.travelSummary)||void 0===n?void 0:n.status)===Tn.a.Pending}},{key:"basketSummary",get:function(){var e,t;if(null===(t=null===(e=this.userData)||void 0===e?void 0:e.basket)||void 0===t?void 0:t.travelSummary){var n=this.userData.basket.travelSummary;if(n.origin&&n.destination&&n.departureDate&&n.arrivalDate)return"".concat(n.origin.code," - ").concat(n.destination.code,", ").concat(Hn(n.departureDate).format("D MMM")," - ").concat(Hn(n.arrivalDate).format("D MMM"))}return"-"}},{key:"basketId",get:function(){var e,t;return null===(t=null===(e=this.userData)||void 0===e?void 0:e.basket)||void 0===t?void 0:t.basketId}},{key:"avatarText",get:function(){var e,t,n,i,r,o,a,s,c,l,u,d;return""+(((null===(n=null===(t=null===(e=this.userData)||void 0===e?void 0:e.personalDetails)||void 0===t?void 0:t.name)||void 0===n?void 0:n.firstName)?null===(o=null===(r=null===(i=this.userData)||void 0===i?void 0:i.personalDetails)||void 0===r?void 0:r.name)||void 0===o?void 0:o.firstName[0]:"")+((null===(c=null===(s=null===(a=this.userData)||void 0===a?void 0:a.personalDetails)||void 0===s?void 0:s.name)||void 0===c?void 0:c.lastName)?null===(d=null===(u=null===(l=this.userData)||void 0===l?void 0:l.personalDetails)||void 0===u?void 0:u.name)||void 0===d?void 0:d.lastName[0]:""))}},{key:"_contactUsCopy",get:function(){var e,t;if((null===(e=this.userData)||void 0===e?void 0:e.accountType)&&this.specialAccount)switch(null===(t=this.userData)||void 0===t?void 0:t.accountType){case Tn.k.Agency:return"PROFILE_LABEL_AGENCIES-ACCOUNT-CONTACT-US";case Tn.k.Enterprise:return"PROFILE_LABEL_COMPANY-ACCOUNT-CONTACT-US";case Tn.k.Staff:return"PROFILE_LABEL_STAFF-TYPE-CONTACT-US"}}}]),e}()).\u0275fac=function(e){return new(e||Br)(r.Tb(an.a),r.Tb(En.a),r.Tb(An.a),r.Tb(hn.a),r.Tb(In.a),r.Tb(Bt.g),r.Tb(mt.e),r.Tb(Cn.a))},Br.\u0275cmp=r.Nb({type:Br,selectors:[["app-login-profile"]],decls:3,vars:4,consts:[[4,"ngIf"],[3,"showFirst","id","termsAccepted"],[1,"sidebar-header","light","d-flex"],[1,"mr-10","pr-1","pt-40",3,"textContent","avatarId","border"],[1,"pt-40"],[1,"subheader"],[1,"mt-5","mb-5","full-name"],["class","far fa-smile-beam",4,"ngIf"],["class","medium-title",4,"ngIf"],["class","special-login-bar px-40 py-20 d-flex justify-content-between align-items-center",4,"ngIf"],["class","doters-bar px-40 py-10 d-flex justify-content-between align-items-center",3,"ngClass",4,"ngIf"],[1,"sidebar-main"],["class","d-flex flex-row justify-content-between menu-item pb-20",3,"routerLink",4,"ngIf"],["class","d-flex flex-row justify-content-between menu-item pb-20",3,"routerLink","queryParams",4,"ngIf"],["class","d-flex flex-row justify-content-between menu-item pb-20",3,"click",4,"ngIf"],["class","d-flex flex-row justify-content-between menu-item pb-20 no-pointer",4,"ngIf"],[1,"d-flex","flex-row","justify-content-between","menu-item","pb-20",3,"routerLink"],[1,"d-flex"],[1,"h4","menu-icon"],[1,"fas",3,"ngClass"],[1,"h4","mb-5"],[1,"small-title","opacity-5"],[1,"medium-title","green","menu-arrow"],[1,"fas","fa-arrow-right"],["class","mt-auto",4,"ngIf"],[1,"sidebar-footer","text-right"],[1,"viva-btn","tertiary","h-auto","p-0",3,"click"],[1,"far","fa-smile-beam"],[1,"medium-title"],[1,"special-login-bar","px-40","py-20","d-flex","justify-content-between","align-items-center"],[1,"h4"],[1,"small-title"],[1,"doters-bar","px-40","py-10","d-flex","justify-content-between","align-items-center",3,"ngClass"],["width","105px","loading","lazy",1,"mb-1",3,"src","ngClass"],[1,"small-title","text-right"],[1,"doters-fund"],[1,"doters-a","ml-20","d-flex","justify-content-center","align-items-center","cursor-pointer",3,"click"],[1,"fas","fa-arrow-right","fa-sm"],[1,"fas","fa-heart"],["class","small-title opacity-5",4,"ngIf"],[1,"d-flex","flex-row","justify-content-between","menu-item","pb-20",3,"routerLink","queryParams"],[1,"h4","menu-icon","notification"],[1,"fas","fa-ticket"],[1,"h4","menu-icon",3,"ngClass"],[1,"fas","fa-plane","fa-rotate-270"],[1,"d-flex","flex-row","justify-content-between","menu-item","pb-20",3,"click"],[1,"fas","fa-wallet"],[1,"d-flex","flex-row","justify-content-between","menu-item","pb-20","no-pointer"],["width","24","loading","lazy",1,"mb-1",3,"src"],[1,"fas","fa-clock"],[1,"mt-auto"],[1,"rt-paragraph-m-0","login-contact-us",3,"innerHTML"]],template:function(e,t){1&e&&(r.Qc(0,Nr,43,38,"ng-container",0),r.Zb(1,"app-viva-cash-terms-modal",1),r.hc("termsAccepted",(function(){return t.onVivaCashTermsAccepted()})),r.Yb(),r.Qc(2,jr,1,0,"app-standby-modal",0)),2&e&&(r.sc("ngIf",t.userDetails),r.Hb(1),r.sc("showFirst",!0)("id",t.vivaCashTermsModalId),r.Hb(1),r.sc("ngIf",t.isStaffUser))},directives:[mt.u,cr.a,lr.a,Bt.h,mt.r,dr],pipes:[Nn.a,mt.G,si.a,mt.d,hr.a,mt.f,Si.a],styles:['.sidebar-header[_ngcontent-%COMP%]{height:auto}.sidebar-vivafan[_ngcontent-%COMP%]{background-color:var(--b4);justify-content:space-between;padding:20px 40px}.sidebar-vivafan[_ngcontent-%COMP%], .sidebar-vivafan[_ngcontent-%COMP%]   .vf-title[_ngcontent-%COMP%]{display:flex;align-items:center}.sidebar-main[_ngcontent-%COMP%]{min-height:0;height:calc(100% - 310px);overflow:auto;display:flex;flex-direction:column}@media screen and (max-width:991px){.sidebar-main[_ngcontent-%COMP%]{height:calc(100% - 320px)}}@media screen and (max-width:720px){.sidebar-main[_ngcontent-%COMP%]{height:calc(100% - 277px)}}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{position:relative;cursor:pointer;padding-bottom:20px;margin-bottom:20px}.sidebar-main[_ngcontent-%COMP%]   .menu-item.no-pointer[_ngcontent-%COMP%]{cursor:default}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:after{position:absolute;content:"";bottom:0;left:20px;width:calc(100% - 40px);height:1px;background-color:var(--gr20)}@media screen and (max-width:991px){.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:after{left:0;width:100%}}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{position:relative;width:24px;height:24px;display:flex;justify-content:center;align-items:center;flex:24px 0 0;margin-right:10px;color:var(--bg4)}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-icon.notification[_ngcontent-%COMP%]:after{position:absolute;content:"";top:-2.5px;right:-2.5px;width:5px;height:5px;background-color:var(--r4);border-radius:50%}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]   .fa-heart[_ngcontent-%COMP%]{color:var(--b4)}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-arrow[_ngcontent-%COMP%]{height:100%;align-self:flex-end}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-arrow[_ngcontent-%COMP%]{color:var(--vg4)}@media screen and (max-width:991px){.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width:991px){.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .small-title[_ngcontent-%COMP%]{max-width:260px}}.sidebar-footer[_ngcontent-%COMP%]{padding:20px 40px;position:fixed;width:100%;background-color:var(--wh2);bottom:0;left:0}@media screen and (max-width:991px){.sidebar-footer[_ngcontent-%COMP%]{padding:24px 20px;position:relative}}.special-login-bar[_ngcontent-%COMP%]{background-color:var(--bg6)}.special-login-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--wh1)}.doters-bar[_ngcontent-%COMP%]{height:56px;background-color:var(--b-l)}.doters-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--wh1)}.doters-bar[_ngcontent-%COMP%]   .doters-fund[_ngcontent-%COMP%]{margin-top:2px}.doters-bar.level-gold[_ngcontent-%COMP%], .doters-bar.level-green[_ngcontent-%COMP%], .doters-bar.level-silver[_ngcontent-%COMP%]{background-color:#1a1f1f}.doters-a[_ngcontent-%COMP%]{text-decoration:none!important;color:var(--wh1)!important}.green-doter-logo[_ngcontent-%COMP%]{width:80px!important}@media screen and (max-width:720px){.full-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;width:calc(100% - 20px)}}']}),Br);n("kiQV");var Hr=function(e){return{loading:e}};function Ur(e,t){if(1&e){var n=r.ac();r.Xb(0),r.Zb(1,"div",1),r.Zb(2,"div",2),r.Ub(3,"img",3),r.kc(4,"cmsStaticImage"),r.Yb(),r.Zb(5,"div",4),r.Ub(6,"app-avatar",5),r.Zb(7,"div",6),r.Zb(8,"div",7),r.Sc(9),r.kc(10,"cmsTranslate"),r.kc(11,"cmsTranslate"),r.Yb(),r.Zb(12,"h3",8),r.Sc(13),r.kc(14,"titlecase"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(15,"div",9),r.Ub(16,"img",3),r.kc(17,"cmsStaticImage"),r.Yb(),r.Zb(18,"div",10),r.Zb(19,"div",11),r.Sc(20),r.kc(21,"cmsTranslate"),r.Yb(),r.Zb(22,"div",12),r.Sc(23),r.kc(24,"cmsTranslate"),r.Yb(),r.Zb(25,"div",13),r.Zb(26,"ul",14),r.Zb(27,"li",15),r.Sc(28),r.kc(29,"cmsTranslate"),r.Yb(),r.Zb(30,"li",15),r.Sc(31),r.kc(32,"cmsTranslate"),r.Yb(),r.Zb(33,"li",15),r.Sc(34),r.kc(35,"cmsTranslate"),r.Yb(),r.Zb(36,"li",15),r.Sc(37),r.kc(38,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(39,"div",16),r.Zb(40,"button",17),r.hc("click",(function(){return r.Hc(n),r.jc().startDoters()})),r.Zb(41,"span"),r.Sc(42),r.kc(43,"cmsTranslate"),r.Yb(),r.Yb(),r.Zb(44,"div",18),r.hc("click",(function(){return r.Hc(n),r.jc().clickTC()})),r.kc(45,"cmsTranslateRichText"),r.Yb(),r.Yb(),r.Wb()}if(2&e){var i=r.jc();r.Hb(3),r.sc("src",r.lc(4,17,"BOOKER_DOTERS_LOGO"),r.Kc),r.Hb(3),r.sc("textContent",i.avatarText)("avatarId",null==i.userData?null:i.userData.avatarId)("border",!0),r.Hb(3),r.Uc(" ",i.gender===i.userGender.Female?r.lc(10,19,"GLOBAL_LABEL_WELCOMING-FEMALE"):r.lc(11,21,"GLOBAL_LABEL_WELCOMING-MALE")," "),r.Hb(4),r.Uc(" ",r.lc(14,23,i.userFullName)," "),r.Hb(3),r.sc("src",r.lc(17,25,"BOOKER_DOTERS_SIDE-ICONS"),r.Kc),r.Hb(4),r.Tc(r.lc(21,27,"BOOKER_LABEL_DOTERS-SIGNUP-TITLE")),r.Hb(3),r.Tc(r.lc(24,29,"BOOKER_LABEL_DOTERS-SIGNUP-SUPPORT")),r.Hb(5),r.Tc(r.lc(29,31,"BOOKER_LABEL_DOTERS-INFO-1")),r.Hb(3),r.Tc(r.lc(32,33,"BOOKER_LABEL_DOTERS-INFO-2")),r.Hb(3),r.Tc(r.lc(35,35,"BOOKER_LABEL_DOTERS-INFO-3")),r.Hb(3),r.Tc(r.lc(38,37,"BOOKER_LABEL_DOTERS-INFO-4")),r.Hb(3),r.sc("disabled",i.isLoading)("ngClass",r.vc(43,Hr,i.isLoading)),r.Hb(2),r.Uc(" ",r.lc(43,39,"BOOKER_ACTION_DOTERS-SIGNUP")," "),r.Hb(2),r.sc("innerHTML",r.lc(45,41,"BOOKER_LABEL_DOTERS-TC"),r.Ic)}}var Yr,Gr=((Yr=function(){function e(t,n){_classCallCheck(this,e),this.accountApi=t,this.datalayerLoginSvc=n,this.termsAccepted=new r.p,this.userGender=wn.g,this.isLoading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){}},{key:"startDoters",value:function(){var e=this;this.isLoading=!0,this.datalayerLoginSvc.signUpDoters("click_earn_doters"),this.accountApi.acceptTerms(wn.a.Loyalty).subscribe((function(t){e.isLoading=!1,e.termsAccepted.emit()}),(function(t){console.error("::AcceptVLoyalityTerms::",t),e.isLoading=!1}))}},{key:"clickTC",value:function(){this.datalayerLoginSvc.signUpDoters("click_t&c")}},{key:"gender",get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.userData)||void 0===e?void 0:e.personalDetails)||void 0===t?void 0:t.gender)||void 0===n?void 0:n.gender)||void 0}},{key:"userFullName",get:function(){var e,t,n,i;return"\n      ".concat((null===(t=null===(e=this.userData)||void 0===e?void 0:e.personalDetails)||void 0===t?void 0:t.name.firstName)||"","\n       \n      ").concat((null===(i=null===(n=this.userData)||void 0===n?void 0:n.personalDetails)||void 0===i?void 0:i.name.lastName)||"","\n    ")}},{key:"avatarText",get:function(){var e,t,n,i,r,o,a,s,c,l,u,d;return""+(((null===(n=null===(t=null===(e=this.userData)||void 0===e?void 0:e.personalDetails)||void 0===t?void 0:t.name)||void 0===n?void 0:n.firstName)?null===(o=null===(r=null===(i=this.userData)||void 0===i?void 0:i.personalDetails)||void 0===r?void 0:r.name)||void 0===o?void 0:o.firstName[0]:"")+((null===(c=null===(s=null===(a=this.userData)||void 0===a?void 0:a.personalDetails)||void 0===s?void 0:s.name)||void 0===c?void 0:c.lastName)?null===(d=null===(u=null===(l=this.userData)||void 0===l?void 0:l.personalDetails)||void 0===u?void 0:u.name)||void 0===d?void 0:d.lastName[0]:""))}}]),e}()).\u0275fac=function(e){return new(e||Yr)(r.Tb(Zn.a),r.Tb(Mn.a))},Yr.\u0275cmp=r.Nb({type:Yr,selectors:[["app-doters-sidebar"]],inputs:{userData:"userData"},outputs:{termsAccepted:"termsAccepted"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"sidebar-header","light","pb-20"],[1,"mb-30"],["loading","lazy",3,"src"],[1,"d-flex"],[1,"mr-10","pr-1",3,"textContent","avatarId","border"],[1,"d-flex","flex-column"],[1,"subheader"],[1,"mt-5","mb-5"],[1,"doters-side-icons"],[1,"doters-body","p-20","pt-md-40","px-md-40","pt-20","px-20","mb-1"],[1,"h4","mb-10"],[1,"mb-40"],[1,"list-unstyled"],[1,"combo-list","combo-smart"],[1,"included"],[1,"px-md-40","px-20","mb-40"],[1,"viva-btn","action","w-100","mb-20",3,"disabled","ngClass","click"],[1,"text-center",3,"innerHTML","click"]],template:function(e,t){1&e&&r.Qc(0,Ur,46,45,"ng-container",0),2&e&&r.sc("ngIf",t.userData)},directives:[mt.u,lr.a,mt.r],pipes:[si.a,Nn.a,mt.G,Si.a],styles:[".sidebar-header[_ngcontent-%COMP%]{height:auto;background-color:var(--b-l)}.doters-side-icons[_ngcontent-%COMP%]{position:absolute;z-index:-1;right:0}@media screen and (max-width:720px){.doters-side-icons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:105px}}@media screen and (max-width:720px){.doters-body[_ngcontent-%COMP%]{overflow:auto;height:calc(100% - 375px)}}"]}),Yr);function Vr(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",5),r.hc("click",(function(){return r.Hc(n),r.jc().closeModal()})),r.Yb()}}function Zr(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-login-referral",7),r.hc("referralLogout",(function(){return r.Hc(n),r.jc(2).setLogoutReferral()})),r.Yb()}if(2&e){var i=r.jc(2);r.sc("referralName",i.loginReferralName)("accountType",i.loginType)}}function Wr(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-login-form",10),r.hc("returnToNormalLogin",(function(){return r.Hc(n),r.jc(3).setDefaultLogin()}))("justLoggedIn",(function(){return r.Hc(n),r.jc(3).onLoggedIn()})),r.Yb()}if(2&e){var i=r.jc(3);r.sc("loginType",i.loginType)("guestFeeStyle",i.guestFeeLogin)}}function Kr(e,t){1&e&&r.Ub(0,"app-login-profile")}function zr(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-doters-sidebar",11),r.hc("termsAccepted",(function(){return r.Hc(n),r.jc(3).acceptDoters()})),r.Yb()}if(2&e){var i=r.jc(3);r.sc("userData",i.userData)}}function Qr(e,t){if(1&e&&(r.Xb(0),r.Qc(1,Wr,1,2,"app-login-form",8),r.Qc(2,Kr,1,0,"app-login-profile",4),r.Qc(3,zr,1,1,"app-doters-sidebar",9),r.Wb()),2&e){var n=r.jc(2);r.Hb(1),r.sc("ngIf",!n.isLoggedIn&&n.showLoginForm),r.Hb(1),r.sc("ngIf",n.isLoggedIn&&!(n.showDotersTerms||n.dotersNotAccepted)),r.Hb(1),r.sc("ngIf",n.isLoggedIn&&(n.showDotersTerms||n.dotersNotAccepted))}}function Xr(e,t){if(1&e&&(r.Xb(0),r.Qc(1,Zr,1,2,"app-login-referral",6),r.Qc(2,Qr,4,3,"ng-container",4),r.Wb()),2&e){var n=r.jc();r.Hb(1),r.sc("ngIf",n.loginReferralName),r.Hb(1),r.sc("ngIf",!n.loginReferralName)}}var qr,$r=function(e){return{"sb-open":e}},Jr=((qr=function(){function e(t,n,i,r,o,a,s,c,l,u,d){var h=this;_classCallCheck(this,e),this.modalService=t,this.auth=n,this.router=i,this.route=r,this.platformId=o,this.dotersService=a,this.document=s,this.datalayerLoginSvc=c,this.config=l,this.sidebarService=u,this.ssoSvc=d,this.isLoggedIn=!1,this.showModal=!1,this.showAnimation=!0,this.showLoginForm=!1,this.isLoading=!0,this.authDataSub=sn.a.EMPTY,this.routerEventsSub=sn.a.EMPTY,this.userDataSub=sn.a.EMPTY,this.dotersNotAccepted=!1,this.showDotersTerms=!1,this.dotersTermsSub=sn.a.EMPTY,this.cmsDoters=!1,this.justLoggedInFlag=!1,this.guestFeeLogin=!1,this.useSingleSignOn=!1,this.auth.onSyncDonePromise.then((function(){h.isLoading=!1})),this.authDataSub=this.auth.userDetails$.subscribe((function(e){h.isLoggedIn=h.auth.isLoggedIn,h.isLoggedIn&&(localStorage.setItem("dotersTermsSeen","true"),h.loginReferralName&&h.auth.doLogout(!1))})),this.cmsDoters=this.config.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.Doters),this.useSingleSignOn=this.config.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.SingleSignOn)||!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.userDataSub=this.auth.userAccountData$.subscribe((function(t){var n,i,r;e.userData=t,e.onDotersTermsValidation(),(null===(n=e.userData)||void 0===n?void 0:n.accountType)!==Tn.k.Agency&&(null===(i=e.userData)||void 0===i?void 0:i.accountType)!==Tn.k.Enterprise&&(null===(r=e.userData)||void 0===r?void 0:r.accountType)!==Tn.k.Staff&&e.cmsDoters||(e.dotersNotAccepted=!1,e.showDotersTerms=!1)})),this.modalService.showModal$.subscribe((function(t){e.document.body.classList.add("open-modal"),e.showAnimation=t.animation,e.showModal=t.open,t&&(e.showLoginForm=!0,e.setLoginVariant())})),this.dotersTermsSub=this.dotersService.showDotersTerms$.subscribe((function(t){e.cmsDoters&&(e.showDotersTerms=t)})),this.routerEventsSub=this.router.events.subscribe((function(t){t instanceof Bt.c&&(e.modalService.closeModal(),e.setLoginVariant())})),this.route.queryParams.pipe(Object($t.a)((function(e){return e.showLogin})),Object(Jt.a)(1)).subscribe((function(t){t&&t.showLogin&&"true"===t.showLogin&&(e.document.body.classList.add("open-modal"),Object(Vt.a)(0).subscribe((function(){return e.modalService.openModal()})))}))}},{key:"ngOnDestroy",value:function(){this.authDataSub.closed||this.authDataSub.unsubscribe(),this.routerEventsSub.closed||this.routerEventsSub.unsubscribe(),this.userDataSub.closed||this.userDataSub.unsubscribe(),this.dotersTermsSub.closed||this.dotersTermsSub.unsubscribe()}},{key:"closeModal",value:function(){var e=this;this.document.body.classList.remove("open-modal"),this.modalService.closeModal(),(this.dotersNotAccepted||this.showDotersTerms)&&(this.datalayerLoginSvc.signUpDoters("click_close_modal"),this.dotersNotAccepted&&(Object(Vt.a)(200).subscribe((function(){return e.dotersNotAccepted=!1})),localStorage.setItem("dotersTermsSeen","true")),this.showDotersTerms&&Object(Vt.a)(100).subscribe((function(){return e.dotersService.dotersSidebar(!1)}))),this.dotersService.dotersToogle(!1)}},{key:"setLoginVariant",value:function(){var e,t=this.route.snapshot.queryParamMap;this.loginType=null;var n=null,i=null;Object(mt.L)(this.platformId)&&(n=localStorage.getItem("specialLoginType"),i=sessionStorage.getItem("loginReferral")),t.has("loginType")?(this.loginType=this.specialLoginTypeVariant(t.get("loginType")),Object(mt.L)(this.platformId)&&this.loginType&&(localStorage.setItem("specialLoginType",this.loginType),t.has("bookingRule")||(this.router.navigate([],{relativeTo:this.route,queryParams:{loginType:null}}),this.auth.doLogout(!1)),!t.has("referral")||this.loginType!==Tn.k.Agency&&this.loginType!==Tn.k.Enterprise||(this.loginReferralName=t.get("referral"),this.auth._referralLogin=this.loginReferralName,sessionStorage.setItem("loginReferral",this.loginReferralName)))):n&&(this.loginType=this.specialLoginTypeVariant(n),!i||this.loginType!==Tn.k.Agency&&this.loginType!==Tn.k.Enterprise||(!this.auth.isLoggedIn&&this.loginReferralName||this.auth.doLogout(!1),this.loginReferralName=i,this.auth._referralLogin=this.loginReferralName)),this.guestFeeLogin=this.sidebarService.showNewAccountSidebar(this.userData&&this.isLoggedIn?null===(e=this.userData)||void 0===e?void 0:e.accountType:Tn.k.Anonymous)&&!this.loginType}},{key:"specialLoginTypeVariant",value:function(e){switch(e){case"Agency":return Tn.k.Agency;case"Enterprise":return Tn.k.Enterprise;case"Staff":return Tn.k.Staff;default:return null}}},{key:"setDefaultLogin",value:function(){this.loginType=null,Object(mt.L)(this.platformId)&&localStorage.removeItem("specialLoginType"),this.useSingleSignOn&&"/"===this.router.url&&(this.closeModal(),this.ssoSvc.emitPopOverChange(!0))}},{key:"setLogoutReferral",value:function(){this.loginReferralName=null,this.auth._referralLogin=null,Object(mt.L)(this.platformId)&&sessionStorage.removeItem("loginReferral"),this.router.navigate([""])}},{key:"onDotersTermsValidation",value:function(){var e,t;if(this.dotersNotAccepted=!1,this.userData&&this.cmsDoters&&(!localStorage.getItem("dotersTermsSeen")||"false"===localStorage.getItem("dotersTermsSeen"))&&this.userData.accountType!==Tn.k.Agency&&this.userData.accountType!==Tn.k.Enterprise&&this.userData.accountType!==Tn.k.Staff&&!sessionStorage.getItem("loginReferral")){var n=null===(t=null===(e=this.userData)||void 0===e?void 0:e.terms)||void 0===t?void 0:t.find((function(e){return e.type===wn.a.Loyalty}));n&&n.promptTerms&&(this.dotersNotAccepted=!0,this.justLoggedInFlag&&(this.modalService.openModal(),this.justLoggedInFlag=!1))}}},{key:"acceptDoters",value:function(){var e,t;if(this.dotersNotAccepted=!1,localStorage.setItem("dotersTermsSeen","true"),this.userData){var n=null===(t=null===(e=this.userData)||void 0===e?void 0:e.terms)||void 0===t?void 0:t.find((function(e){return e.type===wn.a.Loyalty}));n&&(n.promptTerms=!1),this.dotersService.emitAcceptedTerms()}this.dotersService.dotersSidebar(!1)}},{key:"onLoggedIn",value:function(){this.justLoggedInFlag=!0,localStorage.setItem("dotersTermsSeen","false")}}]),e}()).\u0275fac=function(e){return new(e||qr)(r.Tb(An.a),r.Tb(En.a),r.Tb(Bt.g),r.Tb(Bt.a),r.Tb(r.G),r.Tb(Pn.a),r.Tb(mt.e),r.Tb(Mn.a),r.Tb(an.a),r.Tb(xn.a),r.Tb(Dn.a))},qr.\u0275cmp=r.Nb({type:qr,selectors:[["app-login-sidebar"]],decls:7,vars:7,consts:[["class","overlay",3,"click",4,"ngIf"],[1,"sidebar-container",3,"ngClass"],[1,"modal-close","green",3,"click"],[1,"fas","fa-times"],[4,"ngIf"],[1,"overlay",3,"click"],[3,"referralName","accountType","referralLogout",4,"ngIf"],[3,"referralName","accountType","referralLogout"],[3,"loginType","guestFeeStyle","returnToNormalLogin","justLoggedIn",4,"ngIf"],[3,"userData","termsAccepted",4,"ngIf"],[3,"loginType","guestFeeStyle","returnToNormalLogin","justLoggedIn"],[3,"userData","termsAccepted"]],template:function(e,t){1&e&&(r.Qc(0,Vr,1,0,"div",0),r.Zb(1,"div",1),r.Zb(2,"button",2),r.hc("click",(function(){return t.closeModal()})),r.Ub(3,"i",3),r.Yb(),r.Qc(4,Xr,3,2,"ng-container",4),r.Yb(),r.Ub(5,"app-staff-confirmation-modal"),r.Ub(6,"app-user-incomplete-modal")),2&e&&(r.sc("ngIf",t.showModal),r.Hb(1),r.sc("ngClass",r.vc(5,$r,t.showModal))("@.disabled",!t.showAnimation)("@openSidebar",t.showModal),r.Hb(3),r.sc("ngIf",!t.isLoading))},directives:[mt.u,mt.r,Fn,ai,ci,rr,Fr,Gr],styles:[".sidebar-container[_ngcontent-%COMP%]{height:100%;min-height:auto}.overlay[_ngcontent-%COMP%]{z-index:16}@media only screen and (max-width:800px){.sidebar-container[_ngcontent-%COMP%]{min-height:-webkit-fill-available;bottom:auto;max-width:480px;width:100%;overflow:hidden}}"],data:{animation:[On.a.openSidebar]}}),qr),eo=n("zP0r"),to=n("nnIW"),no={openSidebar:Object(f.n)("openSidebar",[Object(f.k)("false",Object(f.l)({transform:"translateX(100%)"})),Object(f.k)("true",Object(f.l)({transform:"translateX(0)"})),Object(f.m)("true <=> false",[Object(f.e)(".3s cubic-bezier(0.165, 0.84, 0.44, 1)")])])},io=n("T6cn"),ro=n("E50d"),oo=n("y673"),ao=n("WXp3");function so(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",8),r.hc("click",(function(){return r.Hc(n),r.jc().closeSidebar()})),r.Yb()}}function co(e,t){if(1&e&&r.Ub(0,"app-flight-alert",15),2&e){var n=r.jc(4);r.sc("alertData",n.expiredBasketAlert)("noRounded",!0)("noMargin",!0)("noClose",!0)}}function lo(e,t){if(1&e){var n=r.ac();r.Zb(0,"div"),r.Qc(1,co,1,4,"app-flight-alert",12),r.Zb(2,"div",13),r.Zb(3,"button",14),r.hc("click",(function(){return r.Hc(n),r.jc(3).updateSearch()})),r.Zb(4,"span"),r.Sc(5),r.kc(6,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Yb()}if(2&e){var i=r.jc(3);r.Hb(1),r.sc("ngIf",i.expiredBasketAlert),r.Hb(4),r.Uc(" ",r.lc(6,2,"BOOKER_ACTION_UPDATE-SEARCH")," ")}}function uo(e,t){if(1&e){var n=r.ac();r.Xb(0),r.Zb(1,"div",10),r.Qc(2,lo,7,4,"div",6),r.Zb(3,"app-basket-details-container",11),r.hc("basketPay",(function(){return r.Hc(n),r.jc(2).payBasket()}))("tuaAdd",(function(){return r.Hc(n),r.jc(2).addTuaToBasket()})),r.Yb(),r.Yb(),r.Wb()}if(2&e){var i=r.jc(2);r.Hb(2),r.sc("ngIf",!i.basketIsActive),r.Hb(1),r.sc("showContinueButton",!i.insideBasketFlow)("sidebarContainer",!0)("fullBasket",i.fullBasket)("extraCharges",i.extraCharges)("tuaNotIncludedAlert",i.tuaNotIncludedAlert)("tuaAmount",i.tuaAmount)("canPay",i.canPayBasket)("isIropFlow",i.isIropFlow)}}function ho(e,t){if(1&e&&(r.Xb(0),r.Qc(1,uo,4,9,"ng-container",9),r.Wb()),2&e){var n=r.jc(),i=r.Ec(10);r.Hb(1),r.sc("ngIf",null==n.fullBasket?null:n.fullBasket.basket)("ngIfElse",i)}}function fo(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",16),r.Zb(1,"div",17),r.Zb(2,"div",18),r.Zb(3,"div",19),r.Sc(4),r.kc(5,"cmsTranslate"),r.Yb(),r.Zb(6,"div",20),r.Sc(7),r.kc(8,"cmsTranslate"),r.Yb(),r.Zb(9,"div",21),r.Zb(10,"button",22),r.hc("click",(function(){return r.Hc(n),r.jc().closeSidebar()})),r.Zb(11,"span",23),r.Sc(12),r.kc(13,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()}2&e&&(r.Hb(4),r.Uc(" ",r.lc(5,3,"BOOKER_LABEL_SHOPPING-CART-EMPTY")," "),r.Hb(3),r.Uc(" ",r.lc(8,5,"BOOKER_LABEL_EMPTYCART-SUPPORT")," "),r.Hb(5),r.Uc(" ",r.lc(13,7,"BOOKER_ACTION_START-BOOKING")," "))}var po,go,vo,mo,bo=function(e){return{"sb-open":e}},yo=((vo=function(){function e(t,n,i,r,o,a,s,c){var l=this;_classCallCheck(this,e),this.basketService=t,this.router=n,this.route=i,this.flightAlertsSvc=r,this.sidebarSvc=o,this.utilsSvc=a,this.bookingParams=s,this.breadcrumbSvc=c,this.tuaAmount=0,this.basketSubscription=sn.a.EMPTY,this.sideBarToggleSubscription=sn.a.EMPTY,this.routeNavigationSubscription=sn.a.EMPTY,this.basketIsActive=!1,this.showSidebar=!1,this.openSidebarOnPassive=!1,this.canPayBasket=!1,this.extraChargesObj={},this.extraCharges=[],this.manageChargesSubscription=sn.a.EMPTY,this.routerFlowDetectSubscription=sn.a.EMPTY,this.insideBasketFlow=!1,this.isIropFlow=!1,this.flightAlertsSvc.ready.then((function(){l.expiredBasketAlert=l.flightAlertsSvc.getAlert("SIDEBAR_BASKET-PASSIVE"),l.tuaNotIncludedAlert=l.flightAlertsSvc.getAlert("SIDEBAR_TUA-NOT-ADDED")}))}return _createClass(e,[{key:"ngOnInit",value:function(){this.startSubscriptions(),this.generateExtraChargesArray()}},{key:"ngOnDestroy",value:function(){this.basketSubscription.closed||this.basketSubscription.unsubscribe(),this.sideBarToggleSubscription.closed||this.sideBarToggleSubscription.unsubscribe(),this.routeNavigationSubscription.closed||this.routeNavigationSubscription.unsubscribe(),this.manageChargesSubscription.closed||this.manageChargesSubscription.unsubscribe(),this.routerFlowDetectSubscription.closed||this.routerFlowDetectSubscription.unsubscribe()}},{key:"startSubscriptions",value:function(){var e=this;this.basketSubscription=this.basketService.fullBasket$.subscribe((function(t){var n,i,r,o;e.fullBasket=t,(null===(n=e.fullBasket)||void 0===n?void 0:n.basket)?(e.basketIsActive=e.fullBasket.basket.status===ar.d.Active,e.canPayBasket=e.canPay,e.isIropFlow=null===(o=null===(r=null===(i=e.fullBasket)||void 0===i?void 0:i.basket)||void 0===r?void 0:r.customFields)||void 0===o?void 0:o.allowIropAccess,e.basketIsActive?(e.openSidebarOnPassive=!1,e.tuaAmount=(null==t?void 0:t.basketBooking)?Math.ceil(e.getTuaPrice(t.basketBooking)):0):e.tuaAmount=0,!e.basketIsActive&&e.openSidebarOnPassive&&e.sidebarSvc.openSidebar()):(e.basketIsActive=!1,e.canPayBasket=!1)})),this.sideBarToggleSubscription=this.sidebarSvc.showSidebar$.subscribe((function(t){e.showSidebar=t,e.showSidebar&&e.openSidebarOnPassive&&(e.openSidebarOnPassive=!1)})),this.handleBasketDisplayByRoute(),this.routeNavigationSubscription=this.router.events.pipe(Object($t.a)((function(e){return e instanceof Bt.c})),Object(eo.a)(1)).subscribe((function(t){t instanceof Bt.c&&e.showSidebar&&e.closeSidebar()})),this.openOnPassiveBasket(),this.onManageExtraCharges()}},{key:"updateSearch",value:function(){var e,t,n,i,r,o,a,s=this;(null===(e=this.fullBasket)||void 0===e?void 0:e.basket)&&(null===(n=null===(t=this.fullBasket)||void 0===t?void 0:t.basket)||void 0===n?void 0:n.travel)&&(null===(r=null===(i=this.fullBasket)||void 0===i?void 0:i.basket)||void 0===r?void 0:r.travel.journeys)&&(null===(a=null===(o=this.fullBasket)||void 0===o?void 0:o.basket)||void 0===a?void 0:a.travel.passengers)?this.bookingParams.getBasketBookingParams(this.fullBasket.basket).then((function(e){if(e){var t=s.bookingParams.createFlightSearchParams(e);s.router.url.includes("book/options")?s.router.navigate([],{relativeTo:s.route,queryParams:Object.assign({},t)}).then((function(){window.location.reload()})):s.router.navigate(["book","options"],{queryParams:Object.assign({},t)})}else s.router.navigate([""])})):this.router.navigate([""])}},{key:"addTuaToBasket",value:function(){console.log("TODO")}},{key:"payBasket",value:function(){this.insideBasketFlow?this.canPay&&(this.canPayBasket=!1,this.breadcrumbSvc.navigateToStep(!0,dn.f.Payment),this.sidebarSvc.closeSidebar()):this.router.navigate(this.fullBasket.basket.flowType===dn.b.Manage?["manage","review"]:this.fullBasket.basket.flowType===dn.b.CheckIn?["check-in","review"]:["book","resume"])}},{key:"closeSidebar",value:function(){this.sidebarSvc.closeSidebar()}},{key:"openOnPassiveBasket",value:function(){var e=this;this.router.events.pipe(Object($t.a)((function(e){return e instanceof Bt.e})),Object(Jt.a)(1)).subscribe((function(t){var n,i=null===(n=e.router.parseUrl(t.url).root.children[Bt.f])||void 0===n?void 0:n.segments;i&&(!e.utilsSvc.isInsideSegment(i,"book")||e.utilsSvc.isInsideSegment(i,"confirmation")||e.utilsSvc.isInsideSegment(i,"options")||e.utilsSvc.isInsideSegment(i,"calendar")||(e.openSidebarOnPassive=!0))}))}},{key:"handleBasketDisplayByRoute",value:function(){var e=this;this.routerFlowDetectSubscription=this.router.events.pipe(Object($t.a)((function(e){return e instanceof Bt.c}))).subscribe((function(t){var n,i=null===(n=e.router.parseUrl(t.url).root.children[Bt.f])||void 0===n?void 0:n.segments;e.insideBasketFlow=!!i&&e.utilsSvc.isInsideSegment(i,"book")}))}},{key:"onManageExtraCharges",value:function(){var e=this;this.manageChargesSubscription=this.sidebarSvc.manageExtraCharges$.subscribe((function(t){if(t){switch(t.action){case to.f.ADD:e.extraChargesObj[t.key]=t.charges||[];break;case to.f.DELETE:delete e.extraChargesObj[t.key]}e.generateExtraChargesArray()}}))}},{key:"generateExtraChargesArray",value:function(){if(this.extraCharges=[],this.extraChargesObj)for(var e in this.extraChargesObj)Array.isArray(this.extraChargesObj[e])&&this.extraChargesObj[e].length>0&&(this.extraCharges=this.extraCharges.concat(this.extraChargesObj[e]))}},{key:"getTuaPrice",value:function(e){var t,n,i,r,o,a,s,c=this,l=0;if(Array.isArray(null==e?void 0:e.journeys)&&e.journeys.length>0){var u,d=_createForOfIteratorHelper(e.journeys);try{var h=function(){var e=u.value;(null===(t=e.tua)||void 0===t?void 0:t.status)!==Tn.j.NotAdded||(null===(r=null===(i=null===(n=c.fullBasket.basket)||void 0===n?void 0:n.customFields)||void 0===i?void 0:i.availabilityJourneyKeys)||void 0===r?void 0:r.length)&&!(null===(s=null===(a=null===(o=c.fullBasket.basket)||void 0===o?void 0:o.customFields)||void 0===a?void 0:a.availabilityJourneyKeys)||void 0===s?void 0:s.find((function(t){return t===e.key})))||(l+=e.tua.amountDue.amount)};for(d.s();!(u=d.n()).done;)h()}catch(f){d.e(f)}finally{d.f()}}return l}},{key:"canPay",get:function(){var e=this;return!(!this.basketIsActive||!this.fullBasket.basket.dynamicFlow)&&this.fullBasket.basket.dynamicFlow.steps.findIndex((function(t){return t.name===e.fullBasket.basket.dynamicFlow.currentStep}))>this.fullBasket.basket.dynamicFlow.steps.findIndex((function(e){return e.name===dn.f.Passengers}))}}]),e}()).\u0275fac=function(e){return new(e||vo)(r.Tb(hn.a),r.Tb(Bt.g),r.Tb(Bt.a),r.Tb(ui.a),r.Tb(io.a),r.Tb(Cn.a),r.Tb(ro.a),r.Tb(oo.a))},vo.\u0275cmp=r.Nb({type:vo,selectors:[["app-basket-sidebar"]],decls:11,vars:9,consts:[["class","overlay",3,"click",4,"ngIf"],[1,"sidebar-container",3,"ngClass"],[1,"modal-close","green","d-flex","justify-content-center","align-items-center",3,"click"],[1,"fas","fa-times"],[1,"sidebar-header","px-30","py-20"],[1,"sidebar-title","h2"],[4,"ngIf"],["noBasket",""],[1,"overlay",3,"click"],[4,"ngIf","ngIfElse"],[1,"sidebar-main","p-0"],[3,"showContinueButton","sidebarContainer","fullBasket","extraCharges","tuaNotIncludedAlert","tuaAmount","canPay","isIropFlow","basketPay","tuaAdd"],[3,"alertData","noRounded","noMargin","noClose",4,"ngIf"],[1,"update-search-container"],[1,"viva-btn","primary",3,"click"],[3,"alertData","noRounded","noMargin","noClose"],[1,"container","pr-container"],[1,"row"],[1,"col-12","px-md-60","px-20","d-flex","flex-column","align-items-center","text-center"],[1,"h4","pt-md-80","pt-40","mt-md-60","mt-0","pb-10"],[1,"small-title","opacity-5","pb-md-80","pb-40","mb-md-20","mb-0"],[1,"w-100","pb-40"],[1,"viva-btn","shop","light","btn-280","btn-md-100",3,"click"],[1,"h4"]],template:function(e,t){1&e&&(r.Qc(0,so,1,0,"div",0),r.Zb(1,"div",1),r.Zb(2,"button",2),r.hc("click",(function(){return t.closeSidebar()})),r.Ub(3,"i",3),r.Yb(),r.Zb(4,"div",4),r.Zb(5,"div",5),r.Sc(6),r.kc(7,"cmsTranslate"),r.Yb(),r.Yb(),r.Qc(8,ho,2,2,"ng-container",6),r.Yb(),r.Qc(9,fo,14,9,"ng-template",null,7,r.Rc)),2&e&&(r.sc("ngIf",t.showSidebar),r.Hb(1),r.sc("ngClass",r.vc(7,bo,t.showSidebar))("@openSidebar",t.showSidebar),r.Hb(5),r.Uc(" ",r.lc(7,5,"BOOKER_LABEL_SHOPPING-CART")," "),r.Hb(2),r.sc("ngIf",t.showSidebar))},directives:[mt.u,mt.r,ao.a,fi.a],pipes:[Nn.a],styles:[".sidebar-header[_ngcontent-%COMP%]{height:100px}@media screen and (max-width:800px){.sidebar-header[_ngcontent-%COMP%]{height:auto}}.update-search-container[_ngcontent-%COMP%]{padding:30px 0;background-color:var(--wh2);text-align:center}.update-search-container[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:350px}@media screen and (max-width:800px){.update-search-container[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:98%}}.sidebar-container[_ngcontent-%COMP%]{background-color:var(--wh1)}"],data:{animation:[no.openSidebar]}}),vo),_o=((go=function(){function e(t){_classCallCheck(this,e),this.sanitizer=t}return _createClass(e,[{key:"getSafeHTML",value:function(e){var t=e?JSON.stringify(e,null,2).replace(/<\/script>/g,"<\\/script>"):"";return this.sanitizer.bypassSecurityTrustHtml('<script type="application/ld+json">'.concat(t,"<\/script>"))}},{key:"json",set:function(e){this.jsonLD=this.getSafeHTML(e)}}]),e}()).\u0275fac=function(e){return new(e||go)(Object(r.Tb)(h.b))},go.\u0275cmp=Object(r.Nb)({type:go,selectors:[["ngx-json-ld"]],hostVars:1,hostBindings:function(e,t){2&e&&Object(r.cc)("innerHTML",t.jsonLD,r.Ic)},inputs:{json:"json"},decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),go),Co=((po=function e(){_classCallCheck(this,e)}).\u0275mod=Object(r.Rb)({type:po}),po.\u0275inj=Object(r.Qb)({factory:function(e){return new(e||po)},imports:[[mt.c]]}),po),ko=n("FE/U"),So=((mo=function(){function e(t,n){_classCallCheck(this,e),this.platform=t,this.srcChannel=n}return _createClass(e,[{key:"isAppInstalled",value:function(){return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isAvailableChannel){e.next=6;break}return t=window.navigator,e.next=4,null==t?void 0:t.getInstalledRelatedApps();case 4:return n=e.sent,e.abrupt("return",Object(Cn.e)(n));case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"isAvailableChannel",get:function(){return this.platform.ANDROID&&this.platform.BLINK&&this.platform.isBrowser&&"vivaapp"!==this.srcChannel._currentChannel}},{key:"deferredPromptEvent",get:function(){var e,t;if(!this.deferredPrompt&&(null===(t=null!==(e=window)&&void 0!==e?e:{})||void 0===t?void 0:t._androidPrompt)){var n=window;this.deferredPrompt=n._androidPrompt,n._androidPrompt=void 0}return this.deferredPrompt}}]),e}()).\u0275fac=function(e){return new(e||mo)(r.dc(kn.a),r.dc(ko.b))},mo.\u0275prov=r.Pb({token:mo,factory:mo.\u0275fac,providedIn:"root"}),mo),Oo=n("b6Qw");function To(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",1),r.Zb(1,"i",2),r.hc("click",(function(){return r.Hc(n),r.jc().closeBanner(!0)})),r.Yb(),r.Ub(2,"img",3),r.kc(3,"cmsStaticImage"),r.Zb(4,"div",4),r.Zb(5,"div",5),r.Sc(6),r.kc(7,"cmsTranslate"),r.Yb(),r.Zb(8,"div",6),r.Sc(9),r.kc(10,"cmsTranslate"),r.Yb(),r.Yb(),r.Zb(11,"button",7),r.hc("click",(function(){return r.Hc(n),r.jc().onBannerAction()})),r.Sc(12),r.kc(13,"cmsTranslate"),r.Yb(),r.Yb()}if(2&e){var i=r.jc();r.Hb(2),r.sc("src",r.lc(3,4,"SMART-APP-512"),r.Kc),r.Hb(4),r.Tc(r.lc(7,6,"SMART-APP-LABEL-TITLE")),r.Hb(3),r.Tc(r.lc(10,8,"SMART-APP-LABEL-SUBTITLE")),r.Hb(3),r.Tc(r.lc(13,10,i.appIsInstalled?"SMART-APP_ACTION-OPEN":"SMART-APP_ACTION-INSTALL"))}}var wo,Ao=((wo=function(){function e(t,n,i,o,a,s){var c,u,d,h;_classCallCheck(this,e),this.document=t,this.locale=n,this.mobilePromptSrv=i,this.cmsConfig=o,this.cookieService=a,this.router=s,this.bannerIsDisplayed=new r.p,this.showBanner=!1,this.appIsInstalled=!1,this.modalCacheKey=l.g.cacheKeys.COOKIES_ANDROID_BANNER,this.bannerHideDays=.01,this.cmsShowBanner=!1,this.availableRoutes=[],this.routerSubscription=sn.a.EMPTY,this.cmsShowBanner=this.cmsConfig.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.AndroidBanner)||!1,this.bannerHideDays=(null===(u=null===(c=this.cmsConfig._cmsConfig.globalSettings)||void 0===c?void 0:c.androidBannerConfig)||void 0===u?void 0:u.displayInDays)||0,this.availableRoutes=(null===(h=null===(d=this.cmsConfig._cmsConfig.globalSettings)||void 0===d?void 0:d.androidBannerConfig)||void 0===h?void 0:h.routes)||[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.setBannerControls()}},{key:"ngOnDestroy",value:function(){this.routerSubscription.closed||this.routerSubscription.unsubscribe()}},{key:"setBannerControls",value:function(){return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.deferredPrompt=this.mobilePromptSrv.deferredPromptEvent,e.next=3,this.mobilePromptSrv.isAppInstalled();case 3:this.appIsInstalled=e.sent,this.routerSubscription=this.router.events.subscribe((function(e){if(e instanceof Bt.c){var n=t.router.url,i=n.includes("?")?n.indexOf("?"):n.length,r=n.substring(1,i).trim();t._showBanner=!!t.availableRoutes.includes("/".concat(t.locale.toLowerCase(),"/").concat(r))&&t.shouldShowBanner()}}));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"onBannerAction",value:function(){var e=this;this.appIsInstalled?this.document.location.href="app://".concat(l.g.ID_ANDROID,"/home"):this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then((function(){e.closeBanner()})))}},{key:"closeBanner",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.deferredPrompt=null,this._showBanner=!1,e&&this.bannerHideDays>0&&!this.haveBannerCookie&&this.cookieService.set(this.modalCacheKey,"true",{expires:this.bannerHideDays,sameSite:"Strict",path:"/"})}},{key:"shouldShowBanner",value:function(){var e;return this.cmsShowBanner&&!this.haveBannerCookie&&(this.appIsInstalled||this.deferredPrompt)&&(null===(e=this.mobilePromptSrv)||void 0===e?void 0:e.isAvailableChannel)}},{key:"haveBannerCookie",get:function(){return this.cookieService.check(this.modalCacheKey)&&"true"===this.cookieService.get(this.modalCacheKey)}},{key:"_showBanner",set:function(e){this.showBanner=e,this.bannerIsDisplayed.emit(this.showBanner)}}]),e}()).\u0275fac=function(e){return new(e||wo)(r.Tb(mt.e),r.Tb(r.y),r.Tb(So),r.Tb(an.a),r.Tb(Oo.a),r.Tb(Bt.g))},wo.\u0275cmp=r.Nb({type:wo,selectors:[["app-android-banner"]],outputs:{bannerIsDisplayed:"bannerIsDisplayed"},decls:1,vars:1,consts:[["class","android-banner d-flex w-100 viva-card white align-items-center pr-20 py-10",4,"ngIf"],[1,"android-banner","d-flex","w-100","viva-card","white","align-items-center","pr-20","py-10"],[1,"fal","fa-times","p-10","cursor-pointer",3,"click"],["height","50","width","50","loading","lazy","alt","viva icon",3,"src"],[1,"px-10","w-100"],[1,"title"],[1,"regular-text","gray"],[1,"app-button","cursor-pointer",3,"click"]],template:function(e,t){1&e&&r.Qc(0,To,14,12,"div",0),2&e&&r.sc("ngIf",t.showBanner)},directives:[mt.u],pipes:[si.a,Nn.a],styles:[".android-banner[_ngcontent-%COMP%]{z-index:100;position:fixed;top:0;min-height:72px;border-radius:0}.android-banner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;padding-left:13px!important;padding-right:13px!important}.android-banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:5px}.android-banner[_ngcontent-%COMP%]   .app-button[_ngcontent-%COMP%]{text-transform:none;border:none;min-width:74px;height:27px;background-color:#1877f2;color:var(--wh1);border-radius:100px}"]}),wo),Eo=n("3E0/");function Po(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",1),r.Zb(1,"div",2),r.Zb(2,"div",3),r.Zb(3,"div",4),r.Zb(4,"div",5),r.Ub(5,"i",6),r.Ub(6,"div",7),r.kc(7,"cmsTranslateRichText"),r.Yb(),r.Yb(),r.Zb(8,"div",8),r.Zb(9,"button",9),r.hc("click",(function(){return r.Hc(n),r.jc().close()})),r.Zb(10,"span"),r.Sc(11),r.kc(12,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()}2&e&&(r.Hb(6),r.sc("innerHtml",r.lc(7,2,"BOOKER_LABEL_COOKIES-POLICY"),r.Ic),r.Hb(5),r.Uc(" ",r.lc(12,4,"GLOBAL_ACTION_ACCEPT")," "))}var Mo,xo,Do,Io,Lo=((Mo=function(){function e(t,n,i,r){_classCallCheck(this,e),this.cookieService=t,this.platformId=n,this.router=i,this.channelSvc=r,this.modalCacheKey=l.g.cacheKeys.COOKIES_MODAL,this.isOpen=!1,this.expires=60}return _createClass(e,[{key:"ngOnInit",value:function(){this.checkCookie()}},{key:"checkCookie",value:function(){var e=this;Object(mt.L)(this.platformId)&&(this.cookieService.check(this.modalCacheKey)||this.router.events.pipe(Object($t.a)((function(e){return e instanceof Bt.c})),Object(Jt.a)(1)).toPromise().then((function(t){e.isOpen=!0,e.channelSvc.currentChannel$.pipe(Object(Eo.a)(100),Object(Jt.a)(1)).toPromise().then((function(t){"vivaapp"===t&&e.close()}))})))}},{key:"close",value:function(){this.isOpen=!1,this.cookieService.set(this.modalCacheKey,"true",{expires:this.expires,sameSite:"Strict",path:"/"})}}]),e}()).\u0275fac=function(e){return new(e||Mo)(r.Tb(Oo.a),r.Tb(r.G),r.Tb(Bt.g),r.Tb(ko.b))},Mo.\u0275cmp=r.Nb({type:Mo,selectors:[["app-cookies-modal"]],decls:1,vars:1,consts:[["class","cookies-modal",4,"ngIf"],[1,"cookies-modal"],[1,"container","py-3"],[1,"row"],[1,"col-lg-8"],[1,"d-flex","mb-3","mb-lg-0"],[1,"fas","fa-cookie-bite","mr-2","mt-1"],[1,"rt-paragraph-m-0",3,"innerHtml"],[1,"col-lg-4","d-flex","justify-content-lg-end"],[1,"viva-btn","quick-add",3,"click"]],template:function(e,t){1&e&&r.Qc(0,Po,13,6,"div",0),2&e&&r.sc("ngIf",t.isOpen)},directives:[mt.u],pipes:[Si.a,Nn.a],styles:[".cookies-modal[_ngcontent-%COMP%]{width:100%;position:fixed;bottom:0;left:0;right:0;border-radius:5px;background-color:var(--wh1);box-shadow:0 2px 8px 0 rgba(var(--bl9-rgb),.18),10px 10px 20px 0 rgba(var(--bl9-rgb),.5);z-index:1}.cookies-modal[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--bg2)}.cookies-modal[_ngcontent-%COMP%]   .quick-add[_ngcontent-%COMP%]{width:140px;display:flex;justify-content:center;align-items:center}.cookies-modal[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .cookies-modal[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--bg4)}"]}),Mo),Ro=n("0WuY"),No=n("9Fhk"),jo=n("f0i7"),Bo=n("y4gz"),Fo=((xo=function(){function e(){_classCallCheck(this,e),this.active=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||xo)},xo.\u0275cmp=r.Nb({type:xo,selectors:[["app-site-search-button"]],inputs:{active:"active"},decls:2,vars:1,consts:[[1,"d-flex","flex-row","align-items-center","justify-content-center","icon-link"],[1,"fas",3,"ngClass"]],template:function(e,t){1&e&&(r.Zb(0,"a",0),r.Ub(1,"i",1),r.Yb()),2&e&&(r.Hb(1),r.sc("ngClass",t.active?"fa-times":"fa-search"))},directives:[mt.r],styles:['.icon-link[_ngcontent-%COMP%]{position:relative;min-width:21px;text-decoration:none}.icon-link[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--bg4);font-size:21px;font-size:17px}.icon-link[_ngcontent-%COMP%]   i.fa-shopping-cart[_ngcontent-%COMP%]{font-size:18px}.icon-link[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--vg4)}.line-button[_ngcontent-%COMP%]{height:33px;padding:0;overflow:visible}.line-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,Arial;font-size:14px;font-weight:500;line-height:21px;color:var(--bg4)}.line-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%], .line-button[_ngcontent-%COMP%]   img.country-flag[_ngcontent-%COMP%]{margin-right:9px}.line-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:20px}.line-button[_ngcontent-%COMP%]   img.country-flag[_ngcontent-%COMP%]{margin-top:2px}.line-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.line-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.line-button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:0}.notification-badge[_ngcontent-%COMP%]:after{right:-6px;top:-8px;background-color:var(--r4)}.notification-badge[_ngcontent-%COMP%]:after, .online-badge[_ngcontent-%COMP%]:after{z-index:2;content:"";position:absolute;width:8px;height:8px;border-radius:50%}.online-badge[_ngcontent-%COMP%]:after{right:0;top:0;background-color:var(--lg4)}']}),xo),Ho=n("ChtM"),Uo=function(e){return{active:e}},Yo=((Do=function(){function e(t,n){_classCallCheck(this,e),this.locale=t,this.currency=n,this.active=!1,this.currLangStr=""}return _createClass(e,[{key:"ngOnInit",value:function(){this.currLangStr=this.currencyLanguageString}},{key:"currencyLanguageString",get:function(){return""+this.currency._selectedCurrency.code}},{key:"languageImgPath",get:function(){return"GLOBAL_IMAGE_COUNTRY_"+this.locale.getAppLocale().toUpperCase()}}]),e}()).\u0275fac=function(e){return new(e||Do)(r.Tb(nn.a),r.Tb(Ho.a))},Do.\u0275cmp=r.Nb({type:Do,selectors:[["app-curloc-button"]],inputs:{active:"active"},decls:7,vars:7,consts:[[1,"viva-btn","normal","line-button",3,"ngClass"],[1,"content"],["width","20px","height","20px","loading","lazy",1,"country-flag",3,"src"],[1,"line","line-hidden"]],template:function(e,t){1&e&&(r.Zb(0,"button",0),r.Zb(1,"div",1),r.Ub(2,"img",2),r.kc(3,"cmsStaticImage"),r.Zb(4,"span"),r.Sc(5),r.Yb(),r.Yb(),r.Ub(6,"div",3),r.Yb()),2&e&&(r.sc("ngClass",r.vc(5,Uo,t.active)),r.Hb(2),r.sc("src",r.lc(3,3,t.languageImgPath),r.Kc),r.Hb(3),r.Tc(t.currLangStr))},directives:[mt.r],pipes:[si.a],styles:['.icon-link[_ngcontent-%COMP%]{position:relative;min-width:21px;text-decoration:none}.icon-link[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--bg4);font-size:21px;font-size:17px}.icon-link[_ngcontent-%COMP%]   i.fa-shopping-cart[_ngcontent-%COMP%]{font-size:18px}.icon-link[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--vg4)}.line-button[_ngcontent-%COMP%]{height:33px;padding:0;overflow:visible}.line-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,Arial;font-size:14px;font-weight:500;line-height:21px;color:var(--bg4)}.line-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%], .line-button[_ngcontent-%COMP%]   img.country-flag[_ngcontent-%COMP%]{margin-right:9px}.line-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:20px}.line-button[_ngcontent-%COMP%]   img.country-flag[_ngcontent-%COMP%]{margin-top:2px}.line-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.line-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.line-button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:0}.notification-badge[_ngcontent-%COMP%]:after{right:-6px;top:-8px;background-color:var(--r4)}.notification-badge[_ngcontent-%COMP%]:after, .online-badge[_ngcontent-%COMP%]:after{z-index:2;content:"";position:absolute;width:8px;height:8px;border-radius:50%}.online-badge[_ngcontent-%COMP%]:after{right:0;top:0;background-color:var(--lg4)}']}),Do),Go=n("Kj3r"),Vo=n("RKpE"),Zo=n("FTgq"),Wo=n("/QWi"),Ko=function(e){return{"basket-icon":e}},zo=((Io=function(){function e(t,n,i,o){var a,s;_classCallCheck(this,e),this.cmsConfig=t,this.renderer=n,this.basketSvc=i,this.datalayerUxHome=o,this.loginBtn=new r.p,this.closeModal=new r.p,this.modalCounter=0,this.modalCounterLimit=10,this.basketActive=!1,this.modalCounterLimit=(null===(s=null===(a=this.cmsConfig._cmsConfig.globalSettings)||void 0===a?void 0:a.loginInvitationDuration)||void 0===s?void 0:s.visiblePerSeconds)||10}return _createClass(e,[{key:"ngOnInit",value:function(){var e,t,n,i,r,o,a=this;this.initCounter(),this.outsideClickEvt=this.renderer.listen("document","click",(function(e){return a.checkOutsideClick(e)})),this.basketActive=(null===(e=this.basketSvc)||void 0===e?void 0:e._basket)&&(null===(n=null===(t=this.basketSvc)||void 0===t?void 0:t._basket)||void 0===n?void 0:n.status)===ar.d.Active&&!(null===(o=null===(r=null===(i=this.basketSvc)||void 0===i?void 0:i._basket)||void 0===r?void 0:r.travel)||void 0===o?void 0:o.pnr),this.datalayerUxHome.loginInviteClick("view_modal")}},{key:"ngOnDestroy",value:function(){this.outsideClickEvt&&this.outsideClickEvt()}},{key:"checkOutsideClick",value:function(e){var t;(null===(t=null==e?void 0:e.path)||void 0===t?void 0:t.find((function(e){var t;return null===(t=null==e?void 0:e.localName)||void 0===t?void 0:t.includes("app-login-invite-modal")})))||this.onCloseModal()}},{key:"openLogin",value:function(){this.loginBtn.emit(),this.datalayerUxHome.loginInviteClick("click_login")}},{key:"onCloseModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.closeModal.emit(),this.stopCounter(),e&&this.datalayerUxHome.loginInviteClick("click_close")}},{key:"restarCounter",value:function(){this.modalCounter=0}},{key:"stopCounter",value:function(){clearInterval(this.modalInterval)}},{key:"initCounter",value:function(){var e=this;this.modalCounter=0,this.modalInterval=setInterval((function(){e.modalCounter<=e.modalCounterLimit&&(e.modalCounter++,e.modalCounter===e.modalCounterLimit&&e.onCloseModal())}),1e3)}}]),e}()).\u0275fac=function(e){return new(e||Io)(r.Tb(an.a),r.Tb(r.I),r.Tb(hn.a),r.Tb(Bo.a))},Io.\u0275cmp=r.Nb({type:Io,selectors:[["app-login-invite-modal"]],outputs:{loginBtn:"loginBtn",closeModal:"closeModal"},decls:16,vars:15,consts:[[1,"tooltip-arrow",3,"ngClass"],[1,"d-flex","flex-column","viva-card","white","shadow","p-20","invitation-card",3,"ngClass","mouseenter","mouseleave","click"],[1,"d-flex","justify-content-end"],[1,"fas","fa-times","cursor-pointer",3,"click"],[1,"title","mt-10"],[1,"mt-10",3,"innerHTML"],[1,"d-flex","justify-content-end","mt-10","pt-1"],[1,"viva-btn","tertiary",3,"click"],[1,"d-flex","align-items-center"],[1,"fas","fa-arrow-right","ml-10"]],template:function(e,t){1&e&&(r.Ub(0,"div",0),r.Zb(1,"div",1),r.hc("mouseenter",(function(){return t.stopCounter()}))("mouseleave",(function(){return t.initCounter()}))("click",(function(){return t.restarCounter()})),r.Zb(2,"div",2),r.Zb(3,"em",3),r.hc("click",(function(){return t.onCloseModal(!0)})),r.Yb(),r.Yb(),r.Zb(4,"div",4),r.Sc(5),r.kc(6,"cmsTranslate"),r.Yb(),r.Ub(7,"div",5),r.kc(8,"cmsTranslateHtml"),r.Zb(9,"div",6),r.Zb(10,"button",7),r.hc("click",(function(){return t.openLogin()})),r.Zb(11,"span",8),r.Zb(12,"span"),r.Sc(13),r.kc(14,"cmsTranslate"),r.Yb(),r.Ub(15,"em",9),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&e&&(r.sc("ngClass",r.vc(11,Ko,t.basketActive)),r.Hb(1),r.sc("ngClass",r.vc(13,Ko,t.basketActive)),r.Hb(4),r.Tc(r.lc(6,5,"HEADER_LOGIN-SUPPORT-POPUP")),r.Hb(2),r.sc("innerHTML",r.lc(8,7,"BOOKER_LABEL_ACCOUNT-FEATURES-POPUP"),r.Ic),r.Hb(6),r.Uc(" ",r.lc(14,9,"GLOBAL_ACTION_LOGIN")," "))},directives:[mt.r],pipes:[Nn.a,Wo.a],styles:['.invitation-card[_ngcontent-%COMP%]{position:absolute;right:0;width:324px;top:45px}.invitation-card[_ngcontent-%COMP%]   .tertiary[_ngcontent-%COMP%]{height:20px}.invitation-card[_ngcontent-%COMP%]   .tertiary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bg6);font-size:14px}.invitation-card[_ngcontent-%COMP%]   .tertiary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:var(--bg6)}@media screen and (max-width:1240px){.invitation-card[_ngcontent-%COMP%]{right:67px}}@media screen and (max-width:720px){.invitation-card[_ngcontent-%COMP%]{top:52px}}@media screen and (max-width:575px){.invitation-card[_ngcontent-%COMP%]{right:10px;left:10px;width:calc(100% - 20px)}}.tooltip-arrow[_ngcontent-%COMP%]{z-index:1;width:40px;height:37px;position:absolute;overflow:hidden;bottom:-13px;right:4px;pointer-events:none}@media screen and (max-width:1240px){.tooltip-arrow[_ngcontent-%COMP%]{bottom:-24px;right:71px}}@media screen and (max-width:720px){.tooltip-arrow[_ngcontent-%COMP%]{bottom:-31px}}.tooltip-arrow[_ngcontent-%COMP%]:after{content:"";position:absolute;width:20px;height:20px;background:var(--wh1);transform:rotate(45deg);top:32px;left:10px;box-shadow:0 0 0 1px var(--gr25)}.basket-icon[_ngcontent-%COMP%]{margin-right:61px}']}),Io);function Qo(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",1),r.Zb(1,"div",2),r.Zb(2,"div",3),r.Sc(3),r.kc(4,"cmsTranslate"),r.Yb(),r.Zb(5,"button",4),r.hc("click",(function(){return r.Hc(n),r.jc().close()})),r.Ub(6,"em",5),r.Yb(),r.Yb(),r.Zb(7,"div",6),r.Zb(8,"div",7),r.Sc(9),r.kc(10,"cmsTranslate"),r.Yb(),r.Ub(11,"div",8),r.kc(12,"cmsTranslateHtml"),r.Zb(13,"button",9),r.hc("click",(function(){return r.Hc(n),r.jc().goToSSOPage()})),r.Zb(14,"span"),r.Sc(15),r.kc(16,"cmsTranslate"),r.Yb(),r.Yb(),r.Zb(17,"button",10),r.hc("click",(function(){return r.Hc(n),r.jc().goToSSOPage("signup")})),r.Zb(18,"div",11),r.Zb(19,"span",12),r.Sc(20),r.kc(21,"cmsTranslate"),r.Yb(),r.Ub(22,"em",13),r.Yb(),r.Yb(),r.Ub(23,"hr",14),r.Zb(24,"div",15),r.Sc(25),r.kc(26,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb()}2&e&&(r.Hb(3),r.Uc(" ",r.lc(4,6,"GLOBAL_LABEL_WELCOMING-MALE")," "),r.Hb(6),r.Uc(" ",r.lc(10,8,"HEADER_LOGIN-SUPPORT")," "),r.Hb(2),r.sc("innerHTML",r.lc(12,10,"BOOKER_LABEL_ACCOUNT-FEATURES-POPUP"),r.Ic),r.Hb(4),r.Uc(" ",r.lc(16,12,"GLOBAL_ACTION_LOGIN")," "),r.Hb(5),r.Tc(r.lc(21,14,"BOOKER_ACTION_CREATE-ACCOUNT")),r.Hb(5),r.Uc(" ",r.lc(26,16,"PROFILE_LABEL_REDIRECT-SSO")," "))}var Xo,qo=((Xo=function(){function e(t,n,i){_classCallCheck(this,e),this.ssoSvc=t,this.element=n,this.datalayerLoginSvc=i,this.isOpen=!1}return _createClass(e,[{key:"clickOutSide",value:function(e){!this.element.nativeElement.contains(e)&&this.isOpen&&this.close(!1)}},{key:"ngOnInit",value:function(){var e=this;this.ssoSvc.onPopOverToggle$.subscribe((function(t){e.isOpen=t,e.isOpen&&e.datalayerLoginSvc.loginSSOModal("view_modal")}))}},{key:"close",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.datalayerLoginSvc.loginSSOModal(e?"click_close":"close_click_outside"),this.ssoSvc.emitPopOverChange(!1)}},{key:"goToSSOPage",value:function(e){this.datalayerLoginSvc.loginSSOModal(e?"click_create_account":"click_login"),this.ssoSvc.goToSSOPage(e)}}]),e}()).\u0275fac=function(e){return new(e||Xo)(r.Tb(Dn.a),r.Tb(r.n),r.Tb(Mn.a))},Xo.\u0275cmp=r.Nb({type:Xo,selectors:[["app-sso-popover"]],hostBindings:function(e,t){1&e&&r.hc("mousedown",(function(e){return t.clickOutSide(e.target)}),!1,r.Fc)},decls:1,vars:1,consts:[["class","sso-wrapper viva-card white",4,"ngIf"],[1,"sso-wrapper","viva-card","white"],[1,"header"],[1,"title","light"],[1,"modal-close","green",3,"click"],[1,"fas","fa-times"],[1,"content"],[1,"medium-text","dark","mb-3"],[1,"medium-text","dark","mb-4",3,"innerHTML"],[1,"viva-btn","primary","w-100","d-block","mb-2",3,"click"],[1,"viva-btn","tertiary","d-block","create-account","mx-auto","h-auto","mb-2",3,"click"],[1,"content","d-flex","justify-content-center","p-0"],[1,"small-title","darker"],[1,"fas","fa-arrow-right"],[1,"mt-0","mb-2"],[1,"small-text","gray"]],template:function(e,t){1&e&&r.Qc(0,Qo,27,18,"div",0),2&e&&r.sc("ngIf",t.isOpen)},directives:[mt.u],pipes:[Nn.a,Wo.a],styles:['.sso-wrapper[_ngcontent-%COMP%]{width:300px;position:absolute;right:0;top:54px;z-index:1;border:none;overflow:initial;box-shadow:0 4px 4px 0 rgba(0,0,0,.25)}.sso-wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:var(--bg4);height:42px;width:100%;padding-left:25px;padding-right:8px;display:flex;align-items:center;justify-content:space-between;border-radius:5px 5px 0 0}.sso-wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]:before{content:"";position:absolute;height:0;width:0;border-right:20px solid transparent;border-left:20px solid transparent;border-bottom:20px solid var(--bg4);top:-11px;right:3px}@media screen and (max-width:1024px){.sso-wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]:before{right:70px}}.sso-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:20px 25px}@media screen and (max-width:1024px){.sso-wrapper[_ngcontent-%COMP%]{top:40px}}@media screen and (max-width:720px){.sso-wrapper[_ngcontent-%COMP%]{width:100%}}.modal-close[_ngcontent-%COMP%]{position:static;height:20px;width:20px;padding:0}.modal-close[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:11px}.create-account[_ngcontent-%COMP%]   .small-title[_ngcontent-%COMP%]{font-weight:700}.create-account[_ngcontent-%COMP%]   .fa-arrow-right[_ngcontent-%COMP%]{font-size:12px;margin-left:5px;color:var(--bg6)}.viva-btn.primary[_ngcontent-%COMP%]{height:50px}']}),Xo);function $o(e,t){1&e&&r.Ub(0,"i",6)}function Jo(e,t){if(1&e&&(r.Zb(0,"div"),r.Ub(1,"app-avatar",7),r.kc(2,"uppercase"),r.Yb()),2&e){var n=r.jc();r.Hb(1),r.sc("size","medium")("avatarId",null==n.data?null:n.data.avatarId)("textContent",r.lc(2,4,n.nameInitials))("pointer",!0)}}function ea(e,t){1&e&&(r.Zb(0,"span",8),r.Ub(1,"i",9),r.Yb())}function ta(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-login-invite-modal",10),r.hc("loginBtn",(function(){return r.Hc(n),r.jc().openLogin()}))("closeModal",(function(){return r.Hc(n),r.jc().closeInviteModal()})),r.Yb()}}function na(e,t){1&e&&r.Ub(0,"app-sso-popover")}var ia,ra=function(e){return{"online-badge":e}},oa=((ia=function(){function e(t,n,i,r,o,a,s,c,l){var u,d;_classCallCheck(this,e),this.loginSvc=t,this.auth=n,this.responsiveHeaderSvc=i,this.router=r,this.cmsConfig=o,this.cookieService=a,this.platformId=s,this.cobrandModalSvc=c,this.ssoSvc=l,this.isLoggedIn=!1,this.userDataSub=sn.a.EMPTY,this.authSyncDone=sn.a.EMPTY,this.loginReferralSub=sn.a.EMPTY,this.showInviteModalCms=!1,this.isCobrandModalClosed=!1,this.inviteLoginHideDays=.01,this.useSingleSignOn=!1,this.showInviteModalCms=this.cmsConfig.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.LoginModalInvitation)||!1,this.inviteLoginHideDays=(null===(d=null===(u=this.cmsConfig._cmsConfig.globalSettings)||void 0===u?void 0:u.loginInvitationDuration)||void 0===d?void 0:d.displayInDays)||0,this.useSingleSignOn=this.cmsConfig.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.SingleSignOn)||!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authSyncDone=this.auth.onSyncDone.subscribe((function(t){e.isLoggedIn=e.auth.isLoggedIn,Object(mt.L)(e.platformId)&&(e.cookieService.get("hideInviteModal")&&"true"===e.cookieService.get("hideInviteModal")&&0!==e.inviteLoginHideDays||e.isLoggedIn||"/"!==e.router.url||e.showInviteModal||e.loginSvc.inviteModalOnInit||(e.loginSvc.inviteModalOnInit=!0,Object(Vt.a)(2e3).subscribe((function(){"/"!==e.router.url||sessionStorage.getItem("loginReferral")||(e.loginSvc.inviteModal=!0)}))))})),this.loginReferralSub=this.auth.referralLogin$.subscribe((function(t){e.loginReferral=t,e.isLoggedIn=!!e.loginReferral||e.auth.isLoggedIn})),this.userDataSub=this.auth.userAccountData$.subscribe((function(t){e.data=t})),this.router.events.pipe(Object($t.a)((function(e){return e instanceof Bt.c})),Object(Eo.a)(100)).subscribe((function(t){t instanceof Bt.c&&"/"!==t.url&&e.showInviteModal&&Object(Vt.a)(1e3).subscribe((function(){e.closeInviteModal()}))})),this.cobrandModalSvc.onCloseModal$.pipe(Object(Go.a)(100)).subscribe((function(){e.isCobrandModalClosed=!0}))}},{key:"ngOnDestroy",value:function(){this.userDataSub.closed||this.userDataSub.unsubscribe(),this.authSyncDone.closed||this.authSyncDone.unsubscribe(),this.loginReferralSub.closed||this.loginReferralSub.unsubscribe()}},{key:"openLogin",value:function(){!this.useSingleSignOn||this.auth.isLoggedIn||"/"!==this.router.url||this.hasSpecialLoginTypeFlag?(this.loginSvc.openModal(),this.responsiveHeaderSvc.closeModal(),this.showInviteModal&&this.closeInviteModal()):this.ssoSvc.emitPopOverChange(!0)}},{key:"closeInviteModal",value:function(){this.loginSvc.inviteModal=!1,Object(mt.L)(this.platformId)&&(this.cookieService.get("hideInviteModal")&&"true"===this.cookieService.get("hideInviteModal")||this.cookieService.set("hideInviteModal","true",{expires:this.inviteLoginHideDays,sameSite:"Strict",path:"/"}))}},{key:"hasSpecialLoginTypeFlag",get:function(){return!!Object(mt.L)(this.platformId)&&!!localStorage.getItem("specialLoginType")}},{key:"firstName",get:function(){var e,t,n,i,r,o;return(null===(n=null===(t=null===(e=this.data)||void 0===e?void 0:e.personalDetails)||void 0===t?void 0:t.name)||void 0===n?void 0:n.firstName)?null===(o=null===(r=null===(i=this.data)||void 0===i?void 0:i.personalDetails)||void 0===r?void 0:r.name)||void 0===o?void 0:o.firstName.split(" ")[0]:""}},{key:"nameInitials",get:function(){var e,t,n,i,r,o;return this.loginReferral?this.loginReferral.substring(0,2):(null===(n=null===(t=null===(e=this.data)||void 0===e?void 0:e.personalDetails)||void 0===t?void 0:t.name)||void 0===n?void 0:n.firstName)&&(null===(o=null===(r=null===(i=this.data)||void 0===i?void 0:i.personalDetails)||void 0===r?void 0:r.name)||void 0===o?void 0:o.lastName)?this.data.personalDetails.name.firstName.substring(0,1)+this.data.personalDetails.name.lastName.substring(0,1):"VA"}},{key:"showInviteModal",get:function(){return this.loginSvc.inviteModal&&this.showInviteModalCms}}]),e}()).\u0275fac=function(e){return new(e||ia)(r.Tb(An.a),r.Tb(En.a),r.Tb(Vo.a),r.Tb(Bt.g),r.Tb(an.a),r.Tb(Oo.a),r.Tb(r.G),r.Tb(Zo.a),r.Tb(Dn.a))},ia.\u0275cmp=r.Nb({type:ia,selectors:[["app-header-login"]],decls:8,vars:8,consts:[[1,"icon-link","d-flex","align-items-center",3,"ngClass","click"],["class","fas fa-user",4,"ngIf"],[4,"ngIf"],["class","ml-5 d-inline",4,"ngIf"],[1,"d-none","d-md-block"],[3,"loginBtn","closeModal",4,"ngIf"],[1,"fas","fa-user"],[3,"size","avatarId","textContent","pointer"],[1,"ml-5","d-inline"],[1,"fas","fa-spinner","fa-pulse"],[3,"loginBtn","closeModal"]],template:function(e,t){1&e&&(r.Zb(0,"div"),r.Zb(1,"a",0),r.hc("click",(function(){return t.openLogin()})),r.Qc(2,$o,1,0,"i",1),r.Qc(3,Jo,3,6,"div",2),r.Qc(4,ea,2,0,"span",3),r.Yb(),r.Zb(5,"div",4),r.Qc(6,ta,1,0,"app-login-invite-modal",5),r.Yb(),r.Yb(),r.Qc(7,na,1,0,"app-sso-popover",2)),2&e&&(r.Hb(1),r.sc("ngClass",r.vc(6,ra,t.isLoggedIn&&t.data)),r.Hb(1),r.sc("ngIf",!t.isLoggedIn),r.Hb(1),r.sc("ngIf",t.isLoggedIn&&(t.data||t.loginReferral)),r.Hb(1),r.sc("ngIf",t.isLoggedIn&&!t.data&&!t.loginReferral),r.Hb(2),r.sc("ngIf",t.showInviteModal&&t.isCobrandModalClosed),r.Hb(1),r.sc("ngIf",t.useSingleSignOn))},directives:[mt.r,mt.u,lr.a,zo,qo],pipes:[mt.I],styles:['.icon-link[_ngcontent-%COMP%]{position:relative;min-width:21px;text-decoration:none}.icon-link[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--bg4);font-size:21px;font-size:17px}.icon-link[_ngcontent-%COMP%]   i.fa-shopping-cart[_ngcontent-%COMP%]{font-size:18px}.icon-link[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--vg4)}.line-button[_ngcontent-%COMP%]{height:33px;padding:0;overflow:visible}.line-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,Arial;font-size:14px;font-weight:500;line-height:21px;color:var(--bg4)}.line-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%], .line-button[_ngcontent-%COMP%]   img.country-flag[_ngcontent-%COMP%]{margin-right:9px}.line-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:20px}.line-button[_ngcontent-%COMP%]   img.country-flag[_ngcontent-%COMP%]{margin-top:2px}.line-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.line-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.line-button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:0}.notification-badge[_ngcontent-%COMP%]:after{right:-6px;top:-8px;background-color:var(--r4)}.notification-badge[_ngcontent-%COMP%]:after, .online-badge[_ngcontent-%COMP%]:after{z-index:2;content:"";position:absolute;width:8px;height:8px;border-radius:50%}.online-badge[_ngcontent-%COMP%]:after{right:0;top:0;background-color:var(--lg4)}']}),ia),aa=n("39vh");function sa(e,t){if(1&e&&(r.Zb(0,"span",4),r.Ub(1,"i"),r.Sc(2),r.kc(3,"cmsTranslate"),r.Yb()),2&e){var n=r.jc();r.Hb(1),r.Jb(n.notificationIcon+" mr-10"),r.Hb(1),r.Uc(" ",r.lc(3,3,n.notificationMessage)," ")}}var ca,la=function(e){return{"notification-badge":e}},ua=((ca=function(){function e(t,n,i){_classCallCheck(this,e),this.basketSidebarSvc=t,this.basketSvc=n,this.cd=i,this.showBadge=!1,this.basketMsgSubscription=sn.a.EMPTY,this.basketSubscription=sn.a.EMPTY,this.tooltipDismissSubscription=sn.a.EMPTY,this.notificationMessage="",this.notificationIcon="fas fa-cart-arrow-down"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.basketMsgSubscription=this.basketSvc.basketMsgNotify$.subscribe((function(t){var n;t&&(e.notificationMessage=null==t?void 0:t.msg,e.notificationIcon=(null==t?void 0:t.icon)?null==t?void 0:t.icon:"fas fa-cart-arrow-down",e.hideTooltipOnTimer(),null===(n=e.tooltip)||void 0===n||n.show())})),this.basketSubscription=this.basketSvc.basket$.subscribe((function(t){e.showBadge=!!t,e.cd.detectChanges()}))}},{key:"ngOnDestroy",value:function(){this.basketSubscription.closed||this.basketSubscription.unsubscribe(),this.basketMsgSubscription.closed||this.basketMsgSubscription.unsubscribe(),this.cancelTooltipDismissal()}},{key:"cancelTooltipDismissal",value:function(){this.tooltipDismissSubscription.closed||this.tooltipDismissSubscription.unsubscribe()}},{key:"hideTooltipOnTimer",value:function(){var e=this;this.cancelTooltipDismissal(),this.tooltipDismissSubscription=Object(Vt.a)(3e3).subscribe((function(){var t;null===(t=e.tooltip)||void 0===t||t.hide()}))}},{key:"onButtonClick",value:function(){this.basketSidebarSvc.openSidebar()}}]),e}()).\u0275fac=function(e){return new(e||ca)(r.Tb(io.a),r.Tb(hn.a),r.Tb(r.i))},ca.\u0275cmp=r.Nb({type:ca,selectors:[["app-basket-button"]],viewQuery:function(e,t){var n;1&e&&r.Yc(aa.a,!0),2&e&&r.Dc(n=r.ic())&&(t.tooltip=n.first)},decls:5,vars:7,consts:[[1,"icon-link","position-relative",3,"ngClass","click"],["className","viva-basket",1,"fas","fa-shopping-cart",3,"tippy","placement","trigger","maxWidth"],["tooltip","tippy"],["notify",""],[1,"px-md-10","px-0"]],template:function(e,t){if(1&e&&(r.Zb(0,"a",0),r.hc("click",(function(){return t.onButtonClick()})),r.Ub(1,"i",1,2),r.Yb(),r.Qc(3,sa,4,5,"ng-template",null,3,r.Rc)),2&e){var n=r.Ec(4);r.sc("ngClass",r.vc(5,la,t.showBadge)),r.Hb(1),r.sc("tippy",n)("placement","bottom-end")("trigger","manual")("maxWidth","auto")}},directives:[mt.r,aa.a],pipes:[Nn.a],styles:['.icon-link[_ngcontent-%COMP%]{position:relative;min-width:21px;text-decoration:none}.icon-link[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--bg4);font-size:21px;font-size:17px}.icon-link[_ngcontent-%COMP%]   i.fa-shopping-cart[_ngcontent-%COMP%]{font-size:18px}.icon-link[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--vg4)}.line-button[_ngcontent-%COMP%]{height:33px;padding:0;overflow:visible}.line-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,Arial;font-size:14px;font-weight:500;line-height:21px;color:var(--bg4)}.line-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%], .line-button[_ngcontent-%COMP%]   img.country-flag[_ngcontent-%COMP%]{margin-right:9px}.line-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:20px}.line-button[_ngcontent-%COMP%]   img.country-flag[_ngcontent-%COMP%]{margin-top:2px}.line-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.line-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.line-button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:0}.notification-badge[_ngcontent-%COMP%]:after{right:-6px;top:-8px;background-color:var(--r4)}.notification-badge[_ngcontent-%COMP%]:after, .online-badge[_ngcontent-%COMP%]:after{z-index:2;content:"";position:absolute;width:8px;height:8px;border-radius:50%}.online-badge[_ngcontent-%COMP%]:after{right:0;top:0;background-color:var(--lg4)}']}),ca);function da(e,t){1&e&&(r.Zb(0,"app-call-to-action",18),r.kc(1,"cmsStaticCtas"),r.Zb(2,"button",19),r.Zb(3,"span"),r.Sc(4),r.kc(5,"cmsTranslate"),r.Yb(),r.Ub(6,"div",6),r.Yb(),r.Yb()),2&e&&(r.sc("callToAction",r.lc(1,2,"GLOBAL_LABEL_FLIGHT-STATUS")),r.Hb(4),r.Tc(r.lc(5,4,"HEADER_FLIGHTSTATUS")))}var ha=function(e){return{active:e}};function fa(e,t){if(1&e){var n=r.ac();r.Zb(0,"button",20),r.hc("click",(function(){r.Hc(n);var e=r.jc();return e.toggleMenu(e.menuIds.FLISTATUS)})),r.Zb(1,"span"),r.Sc(2),r.kc(3,"cmsTranslate"),r.Yb(),r.Ub(4,"div",6),r.Yb()}if(2&e){var i=r.jc();r.sc("ngClass",r.vc(4,ha,i.isActiveButton(i.menuIds.FLISTATUS))),r.Hb(2),r.Tc(r.lc(3,2,"HEADER_FLIGHTSTATUS"))}}function pa(e,t){if(1&e&&(r.Zb(0,"app-call-to-action",18),r.Zb(1,"button",19),r.Zb(2,"span"),r.Sc(3),r.Yb(),r.Ub(4,"div",6),r.Yb(),r.Yb()),2&e){var n=t.$implicit;r.sc("callToAction",n.fields),r.Hb(3),r.Uc(" ",n.fields.text,"")}}function ga(e,t){1&e&&(r.Xb(0),r.Ub(1,"div",13),r.Ub(2,"app-basket-button"),r.Wb())}var va,ma=function(){return["/"]},ba=((va=function(){function e(t,n,i,o){var a,s=this;_classCallCheck(this,e),this.datalayerUxHome=t,this.storefrontSvc=n,this.basketSvc=i,this.csmConfig=o,this.menuId=Ro.a.INACTIVE,this.menuIsOpen=!1,this.logoImgSrc=No.b,this.menuOptionClick=new r.p,this.menuIds=Ro.a,this.siteLinks=[],this.basketSubscription=sn.a.EMPTY,this.showBasketContainer=!1,this.showFlightStatusMenu=!1,this.getAdditionalLinks(),this.basketSubscription=this.basketSvc.basket$.subscribe((function(e){var t;s.showBasketContainer=(null==e?void 0:e.status)===ar.d.Active&&!(null===(t=null==e?void 0:e.travel)||void 0===t?void 0:t.pnr)})),this.showFlightStatusMenu=!(null===(a=this.csmConfig._cmsConfig.globalSettings)||void 0===a?void 0:a.maintenanceMode["flight-status"])||!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.basketSubscription.closed||this.basketSubscription.unsubscribe()}},{key:"toggleMenu",value:function(e){this.datalayerUxHome.clickCurrencyLanguage(e),this.menuOptionClick.emit(e)}},{key:"isActiveButton",value:function(e){return this.menuIsOpen&&this.menuId===e}},{key:"getAdditionalLinks",value:function(){var e,t;return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.storefrontSvc.ready;case 2:this.siteLinks=(null===(t=null===(e=this.storefrontSvc.storefrontData.headerNavigation)||void 0===e?void 0:e.find((function(e){return"SF_HEADER_ADDITIONAL_LINKS"===e.fields.code})))||void 0===t?void 0:t.fields.items)||[];case 3:case"end":return n.stop()}}),n,this)})))}}]),e}()).\u0275fac=function(e){return new(e||va)(r.Tb(Bo.a),r.Tb(tn.a),r.Tb(hn.a),r.Tb(an.a))},va.\u0275cmp=r.Nb({type:va,selectors:[["app-main-header"]],inputs:{menuId:"menuId",menuIsOpen:"menuIsOpen",logoImgSrc:"logoImgSrc"},outputs:{menuOptionClick:"menuOptionClick"},decls:39,vars:34,consts:[[1,"header-container","d-flex","flex-row","justify-content-between","align-items-center","w-100"],[1,"d-flex","flex-row","flex-fill"],[1,"header-logo",3,"routerLink"],["alt","VivaAerobus",3,"src"],[1,"d-flex","flex-row","justify-content-start","align-items-center","left-section","hide-sm"],[1,"viva-btn","normal","left-button",3,"ngClass","click"],[1,"line","line-hidden"],[1,"d-flex","flex-row","justify-content-start","align-items-center"],[1,"viva-badge","ml-10","px-10"],[1,"d-flex","flex-row","justify-content-end","align-items-center","right-section","hide-sm"],["class","header-link",3,"callToAction",4,"ngIf"],["class","viva-btn normal right-button",3,"ngClass","click",4,"ngIf"],["class","header-link",3,"callToAction",4,"ngFor","ngForOf"],[1,"header-separator"],[3,"active","click"],[1,"d-flex","flex-row","justify-content-end","align-items-center","right-section"],[1,"header-separator","hide-md"],[4,"ngIf"],[1,"header-link",3,"callToAction"],[1,"viva-btn","normal","right-button"],[1,"viva-btn","normal","right-button",3,"ngClass","click"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Zb(2,"a",2),r.Ub(3,"img",3),r.Yb(),r.Zb(4,"div",4),r.Zb(5,"button",5),r.hc("click",(function(){return t.toggleMenu(t.menuIds.FLIGHT)})),r.Zb(6,"span"),r.Sc(7),r.kc(8,"cmsTranslate"),r.Yb(),r.Ub(9,"div",6),r.Yb(),r.Zb(10,"button",5),r.hc("click",(function(){return t.toggleMenu(t.menuIds.PLANNING)})),r.Zb(11,"span"),r.Sc(12),r.kc(13,"cmsTranslate"),r.Yb(),r.Ub(14,"div",6),r.Yb(),r.Zb(15,"button",5),r.hc("click",(function(){return t.toggleMenu(t.menuIds.RESERVATION)})),r.Zb(16,"div",7),r.Zb(17,"span"),r.Sc(18),r.kc(19,"cmsTranslate"),r.Yb(),r.Zb(20,"div",8),r.Zb(21,"label"),r.Sc(22),r.kc(23,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Ub(24,"div",6),r.Yb(),r.Yb(),r.Yb(),r.Zb(25,"div",9),r.Qc(26,da,7,6,"app-call-to-action",10),r.Qc(27,fa,5,6,"button",11),r.Qc(28,pa,5,2,"app-call-to-action",12),r.kc(29,"slice"),r.Ub(30,"div",13),r.Zb(31,"app-site-search-button",14),r.hc("click",(function(){return t.toggleMenu(t.menuIds.SEARCH)})),r.Yb(),r.Ub(32,"div",13),r.Zb(33,"app-curloc-button",14),r.hc("click",(function(){return t.toggleMenu(t.menuIds.LOCALE)})),r.Yb(),r.Ub(34,"div",13),r.Yb(),r.Zb(35,"div",15),r.Ub(36,"div",16),r.Ub(37,"app-header-login"),r.Qc(38,ga,3,0,"ng-container",17),r.Yb(),r.Yb()),2&e&&(r.Hb(2),r.sc("routerLink",r.uc(27,ma)),r.Hb(1),r.sc("src",t.logoImgSrc,r.Kc),r.Hb(2),r.sc("ngClass",r.vc(28,ha,t.isActiveButton(t.menuIds.FLIGHT))),r.Hb(2),r.Tc(r.lc(8,15,"HEADER_BOOK")),r.Hb(3),r.sc("ngClass",r.vc(30,ha,t.isActiveButton(t.menuIds.PLANNING))),r.Hb(2),r.Tc(r.lc(13,17,"HEADER_PLAN")),r.Hb(3),r.sc("ngClass",r.vc(32,ha,t.isActiveButton(t.menuIds.RESERVATION))),r.Hb(3),r.Tc(r.lc(19,19,"HEADER_MANAGE")),r.Hb(4),r.Tc(r.lc(23,21,"HEADER_TAG_CHECK-IN")),r.Hb(4),r.sc("ngIf",!t.showFlightStatusMenu),r.Hb(1),r.sc("ngIf",t.showFlightStatusMenu),r.Hb(1),r.sc("ngForOf",r.nc(29,23,t.siteLinks,0,2)),r.Hb(3),r.sc("active",t.isActiveButton(t.menuIds.SEARCH)),r.Hb(2),r.sc("active",t.isActiveButton(t.menuIds.LOCALE)),r.Hb(5),r.sc("ngIf",t.showBasketContainer))},directives:[Bt.j,mt.r,mt.u,mt.t,Fo,Yo,oa,pi.a,ua],pipes:[Nn.a,mt.F,Oi.a],styles:[".header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:auto;height:30px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:auto;height:30px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]{height:33px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .viva-badge[_ngcontent-%COMP%]{cursor:pointer;height:21px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .viva-badge[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-size:10px;font-weight:500;line-height:1.5}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:not(:last-child){margin-right:23px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:focus   span[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]{text-decoration:none;margin-left:23px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:var(--bg4);font-size:16px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]{height:33px;padding:0;overflow:visible}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,Arial;font-size:14px;font-weight:500;line-height:21px;color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{margin-right:9px;font-size:20px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:0}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0 20px;width:1px;height:19px;background-color:var(--gr20)}@media screen and (max-width:575px){.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0 15px}}.edit-button[_ngcontent-%COMP%]{overflow:visible;position:relative}.edit-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;bottom:6px;left:-12.5%;width:125%;height:3px;border-radius:1.5px;margin:0;background-color:var(--vg4);opacity:0}.edit-button.active-btn[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .edit-button[_ngcontent-%COMP%]:hover   .line[_ngcontent-%COMP%]{opacity:1}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{justify-content:space-between!important}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   a.alt-header-logo[_ngcontent-%COMP%]{margin-right:0}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   a.alt-header-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:69px;height:auto}.header-container[_ngcontent-%COMP%]   .left-section.logo-res-nav[_ngcontent-%COMP%]{min-width:62px}.header-container[_ngcontent-%COMP%]   .data-res-nav-container[_ngcontent-%COMP%]{min-width:320px;padding-left:15px}}@media screen and (max-width:1240px) and (max-width:575px){.header-container[_ngcontent-%COMP%]   .data-res-nav-container[_ngcontent-%COMP%]{width:100%;min-width:auto;justify-content:space-between!important}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .small-point[_ngcontent-%COMP%]{width:4px;height:4px;margin:5px 3px 5px 5px;background-color:var(--bg4);border-radius:50%}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0;width:1px;height:30px;background-color:var(--gr20)}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .icon-action[_ngcontent-%COMP%]     i{font-size:15px!important}}"]}),va),ya=function(e){return{"android-banner":e}};function _a(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",2),r.hc("click",(function(){return r.Hc(n),r.jc().closeModal()})),r.Yb()}if(2&e){var i=r.jc();r.sc("ngClass",r.vc(1,ya,i.isAndroidBannerShown))}}var Ca,ka=function(e,t,n){return{"is-headless":e,"sb-open":t,"android-banner":n}},Sa=["*"],Oa=((Ca=function(){function e(t){_classCallCheck(this,e),this.modalService=t,this.omitHeader=!1,this.showModal=!1,this.isAndroidBannerShown=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.modalService.showModal$.subscribe((function(t){e.showModal=t}))}},{key:"closeModal",value:function(){this.modalService.closeModal()}}]),e}()).\u0275fac=function(e){return new(e||Ca)(r.Tb(Vo.a))},Ca.\u0275cmp=r.Nb({type:Ca,selectors:[["app-responsive-sidebar"]],inputs:{omitHeader:"omitHeader",isAndroidBannerShown:"isAndroidBannerShown"},ngContentSelectors:Sa,decls:3,vars:7,consts:[["class","overlay",3,"ngClass","click",4,"ngIf"],[1,"sidebar-container",3,"ngClass"],[1,"overlay",3,"ngClass","click"]],template:function(e,t){1&e&&(r.rc(),r.Qc(0,_a,1,3,"div",0),r.Zb(1,"div",1),r.qc(2),r.Yb()),2&e&&(r.sc("ngIf",t.showModal),r.Hb(1),r.sc("ngClass",r.xc(3,ka,t.omitHeader,t.showModal,t.isAndroidBannerShown))("@openSidebar",t.showModal))},directives:[mt.u,mt.r],styles:["@media screen and (max-width:575px){.overlay[_ngcontent-%COMP%]{top:60px}.overlay.android-banner[_ngcontent-%COMP%]{top:132px}}.sidebar-container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 76px);overflow-y:auto;overflow-x:hidden}@media screen and (max-width:1240px){.sidebar-container[_ngcontent-%COMP%]{max-width:480px}}@media screen and (max-width:575px){.sidebar-container[_ngcontent-%COMP%]{max-width:100%}}@media screen and (max-width:800px){.sidebar-container[_ngcontent-%COMP%]{height:100%;min-height:auto;overflow-y:auto;overflow-x:hidden}}.sidebar-container.is-headless[_ngcontent-%COMP%]{margin-top:76px;padding-bottom:100px}@media screen and (max-width:800px){.sidebar-container.is-headless[_ngcontent-%COMP%]{margin-top:60px;height:calc(100% - 60px);min-height:auto;overflow-y:auto;overflow-x:hidden}.sidebar-container.is-headless.android-banner[_ngcontent-%COMP%]{margin-top:132px;height:calc(100% - 132px)}}"],data:{animation:[no.openSidebar]}}),Ca),Ta=n("ddoJ"),wa=n("1hx3");function Aa(e,t){if(1&e){var n=r.ac();r.Zb(0,"i",4),r.hc("click",(function(){return r.Hc(n),r.jc().onGoBack()})),r.Yb()}}var Ea,Pa=((Ea=function(){function e(t){_classCallCheck(this,e),this.responsiveSidebarSvc=t,this.goBack=new r.p}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onGoBack",value:function(){this.goBack.emit()}},{key:"onClose",value:function(){this.goBack.emit(),this.responsiveSidebarSvc.closeModal()}}]),e}()).\u0275fac=function(e){return new(e||Ea)(r.Tb(Vo.a))},Ea.\u0275cmp=r.Nb({type:Ea,selectors:[["app-responsive-content-header"]],inputs:{title:"title",notReturnBtn:"notReturnBtn"},outputs:{goBack:"goBack"},decls:5,vars:2,consts:[[1,"responsive-content-header","title"],["class","fas fa-arrow-left",3,"click",4,"ngIf"],[1,"flex","flex-fill"],[1,"fas","fa-times",3,"click"],[1,"fas","fa-arrow-left",3,"click"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Qc(1,Aa,1,0,"i",1),r.Zb(2,"div",2),r.Sc(3),r.Yb(),r.Zb(4,"i",3),r.hc("click",(function(){return t.onClose()})),r.Yb(),r.Yb()),2&e&&(r.Hb(1),r.sc("ngIf",!t.notReturnBtn),r.Hb(2),r.Tc(t.title))},directives:[mt.u],styles:[".responsive-content-header[_ngcontent-%COMP%]{height:60px;display:flex;align-items:center;background-color:var(--wh1)}.responsive-content-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 22px}"]}),Ea),Ma=n("iU+o");function xa(e,t){1&e&&r.Vb(0)}var Da=function(e){return{item:e}};function Ia(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-call-to-action",3),r.Zb(1,"div",4),r.hc("click",(function(){return r.Hc(n),r.jc().emitClose()})),r.Qc(2,xa,1,0,"ng-container",5),r.Yb(),r.Yb()}if(2&e){var i=r.jc(),o=r.Ec(4);r.sc("callToAction",i.item.fields.callToAction.fields),r.Hb(2),r.sc("ngTemplateOutlet",o)("ngTemplateOutletContext",r.vc(3,Da,i.item))}}function La(e,t){1&e&&r.Vb(0)}function Ra(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",4),r.hc("click",(function(){r.Hc(n);var e=r.jc();return e.doAction(e.item.fields.label)})),r.Qc(1,La,1,0,"ng-container",5),r.Yb()}if(2&e){var i=r.jc(),o=r.Ec(4);r.Hb(1),r.sc("ngTemplateOutlet",o)("ngTemplateOutletContext",r.vc(2,Da,i.item))}}function Na(e,t){if(1&e&&(r.Zb(0,"div",15),r.Zb(1,"div",16),r.Sc(2),r.Yb(),r.Yb()),2&e){var n=r.jc().item;r.Hb(2),r.Tc(null==n.fields?null:n.fields.priceLabel)}}var ja=function(){return{fit:"fill",format:"webp",quality:80}};function Ba(e,t){if(1&e&&(r.Zb(0,"div",6),r.Ub(1,"img",7),r.kc(2,"cmsImage"),r.Zb(3,"div",8),r.Zb(4,"div",9),r.Zb(5,"div"),r.Zb(6,"div",10),r.Zb(7,"div",11),r.Zb(8,"span",12),r.Sc(9),r.Yb(),r.Yb(),r.Yb(),r.Qc(10,Na,3,1,"div",13),r.Zb(11,"div",14),r.Sc(12),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&e){var n=t.item;r.Hb(1),r.sc("src",r.mc(2,5,null==n||null==n.fields||null==n.fields.svg?null:n.fields.svg.fields.file.url,r.uc(8,ja))||"",r.Kc)("alt",null==n.fields?null:n.fields.title),r.Hb(8),r.Uc(" ",null==n.fields?null:n.fields.title," "),r.Hb(1),r.sc("ngIf",null==n.fields?null:n.fields.priceLabel),r.Hb(2),r.Uc(" ",null==n.fields?null:n.fields.subheader," ")}}var Fa,Ha=((Fa=function(){function e(t,n){_classCallCheck(this,e),this.bookerSearch=t,this.router=n,this.mobile=!1,this.menuClose=new r.p}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"emitClose",value:function(){this.menuClose.emit()}},{key:"doAction",value:function(e){this.router.navigate(["/"]),this.bookerSearch.emitBookerSearchTypeValue(e),this.emitClose()}}]),e}()).\u0275fac=function(e){return new(e||Fa)(r.Tb(wa.a),r.Tb(Bt.g))},Fa.\u0275cmp=r.Nb({type:Fa,selectors:[["app-reservation-option"]],inputs:{item:"item",mobile:"mobile"},outputs:{menuClose:"menuClose"},decls:5,vars:2,consts:[[3,"callToAction",4,"ngIf"],["class","pr-10 pr-xl-0",3,"click",4,"ngIf"],["buttonContent",""],[3,"callToAction"],[1,"pr-10","pr-xl-0",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"product-card","viva-card","d-flex","flex-column","white","mb-20"],[1,"card-img",3,"src","alt"],[1,"content","px-10","pt-1"],[1,"d-flex","flex-column","justify-content-between","h-100"],[1,"title-container","d-flex","mb-10"],[1,"d-flex","align-items-end"],[1,"title","my-0","dark-site-font"],["class","d-flex mb-1",4,"ngIf"],[1,"medium-title","opacity-8","d-none","d-xl-block"],[1,"d-flex","mb-1"],[1,"subtitle","badge-item","px-10"]],template:function(e,t){1&e&&(r.Xb(0),r.Qc(1,Ia,3,5,"app-call-to-action",0),r.Qc(2,Ra,2,4,"div",1),r.Wb(),r.Qc(3,Ba,13,9,"ng-template",null,2,r.Rc)),2&e&&(r.Hb(1),r.sc("ngIf",!!t.item.fields.callToAction),r.Hb(1),r.sc("ngIf",!t.item.fields.callToAction))},directives:[mt.u,pi.a,mt.B],pipes:[Ma.a],styles:[".product-card[_ngcontent-%COMP%]{box-shadow:0 0 5px 0 rgba(0,0,0,.1);cursor:pointer;width:auto;min-height:222px}.product-card[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{height:40px}.product-card[_ngcontent-%COMP%]   .badge-item[_ngcontent-%COMP%]{height:20px;background-color:var(--r4);border-radius:14px;color:var(--wh1)}.product-card[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:var(--bg4)}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media screen and (max-width:1240px){.product-card[_ngcontent-%COMP%]{width:150px;height:175px;min-height:175px}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px}}.product-card[_ngcontent-%COMP%]:hover{box-shadow:0 0 6px 0 rgba(0,0,0,.3)}"]}),Fa);function Ua(e,t){1&e&&r.Ub(0,"app-responsive-content-header",19),2&e&&r.sc("notReturnBtn",!0)}function Ya(e,t){if(1&e){var n=r.ac();r.Zb(0,"div"),r.Zb(1,"app-reservation-option",20),r.hc("menuClose",(function(){return r.Hc(n),r.jc().closeMenu()})),r.Yb(),r.Yb()}if(2&e){var i=t.$implicit;r.Hb(1),r.sc("item",i)("mobile",!0)}}function Ga(e,t){1&e&&(r.Zb(0,"a",21),r.Zb(1,"h4",13),r.Sc(2),r.kc(3,"cmsTranslate"),r.Yb(),r.Ub(4,"i",12),r.Yb()),2&e&&(r.Hb(2),r.Uc(" ",r.lc(3,1,"HEADER_FLIGHTSTATUS")," "))}function Va(e,t){1&e&&(r.Zb(0,"app-call-to-action",22),r.kc(1,"cmsStaticCtas"),r.Zb(2,"h4",13),r.Sc(3),r.kc(4,"cmsTranslate"),r.Yb(),r.Ub(5,"i",12),r.Yb()),2&e&&(r.sc("callToAction",r.lc(1,2,"GLOBAL_LABEL_FLIGHT-STATUS")),r.Hb(3),r.Uc(" ",r.lc(4,4,"HEADER_FLIGHTSTATUS")," "))}function Za(e,t){if(1&e&&(r.Zb(0,"app-call-to-action",22),r.Zb(1,"h4",13),r.Sc(2),r.Yb(),r.Ub(3,"i",12),r.Yb()),2&e){var n=t.$implicit;r.sc("callToAction",n.fields),r.Hb(2),r.Uc(" ",n.fields.text," ")}}function Wa(e,t){if(1&e&&(r.Zb(0,"app-call-to-action",22),r.Zb(1,"h4",13),r.Sc(2),r.Yb(),r.Ub(3,"i",12),r.Yb()),2&e){var n=t.$implicit;r.sc("callToAction",n.fields),r.Hb(2),r.Uc(" ",n.fields.text," ")}}var Ka,za=((Ka=function(){function e(t,n,i,o,a){var s;_classCallCheck(this,e),this.router=t,this.responsiveHeaderSvc=n,this.storefront=i,this.bookerSearch=o,this.csmConfig=a,this.menuId=Ro.a.INACTIVE,this.menuIsOpen=!1,this.showMobileHeader=!1,this.menuOptionClick=new r.p,this.tabOptions=[],this.menuIds=Ro.a,this.siteLinks=[],this.showFlightStatusMenu=!1,this.initSFMenuData(),this.showFlightStatusMenu=!(null===(s=this.csmConfig._cmsConfig.globalSettings)||void 0===s?void 0:s.maintenanceMode["flight-status"])||!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.router.events.subscribe((function(t){t instanceof Bt.c&&e.closeMenu()}))}},{key:"toggleMenu",value:function(e){this.menuOptionClick.emit(e)}},{key:"openLink",value:function(e){window.open(e,"_blank")}},{key:"doAction",value:function(e){this.router.navigate(["/"]),this.bookerSearch.emitBookerSearchTypeValue(e),this.closeMenu()}},{key:"initSFMenuData",value:function(){var e,t,n,i;return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.storefront.ready;case 2:this.tabOptions=(null===(t=null===(e=this.storefront.storefrontData.headerNavigation)||void 0===e?void 0:e.find((function(e){var t;return(null===(t=e.fields)||void 0===t?void 0:t.code)===Ta.b})))||void 0===t?void 0:t.fields.items)||[],this.siteLinks=(null===(i=null===(n=this.storefront.storefrontData.headerNavigation)||void 0===n?void 0:n.find((function(e){return"SF_HEADER_ADDITIONAL_LINKS"===e.fields.code})))||void 0===i?void 0:i.fields.items)||[];case 4:case"end":return r.stop()}}),r,this)})))}},{key:"closeMenu",value:function(){this.responsiveHeaderSvc.closeModal()}}]),e}()).\u0275fac=function(e){return new(e||Ka)(r.Tb(Bt.g),r.Tb(Vo.a),r.Tb(tn.a),r.Tb(wa.a),r.Tb(an.a))},Ka.\u0275cmp=r.Nb({type:Ka,selectors:[["app-responsive-main-header"]],inputs:{menuId:"menuId",menuIsOpen:"menuIsOpen",showMobileHeader:"showMobileHeader"},outputs:{menuOptionClick:"menuOptionClick"},decls:38,vars:29,consts:[[1,"flex","flex-column"],[3,"notReturnBtn",4,"ngIf"],[1,"flex","flex-column","width-full"],[1,"px-3"],[1,"mb-30"],[1,"flex","overflow-x-auto","pl-3","mb-20"],[4,"ngFor","ngForOf"],[1,"flex","align-items-center","width-full","divider",3,"click"],[1,"flex-fill","mt-3","mb-2","d-flex","align-items-center"],[1,"h4"],[1,"viva-badge","ml-2","small"],[1,"small-title","white"],[1,"fas","fa-arrow-right"],[1,"flex-fill","mt-3","mb-2"],["class","flex align-items-center width-full divider flight-status","routerLink","flight-status",4,"ngIf"],["class","flex width-full divider","ctaClass","d-flex align-items-center w-100",3,"callToAction",4,"ngIf"],["class","flex width-full divider","ctaClass","d-flex align-items-center w-100",3,"callToAction",4,"ngFor","ngForOf"],[1,"flex","align-items-center","width-full","my-20"],[3,"click"],[3,"notReturnBtn"],[3,"item","mobile","menuClose"],["routerLink","flight-status",1,"flex","align-items-center","width-full","divider","flight-status"],["ctaClass","d-flex align-items-center w-100",1,"flex","width-full","divider",3,"callToAction"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Qc(1,Ua,1,1,"app-responsive-content-header",1),r.Zb(2,"div",2),r.Zb(3,"div",3),r.Zb(4,"h4",4),r.Sc(5),r.kc(6,"cmsTranslate"),r.Yb(),r.Yb(),r.Zb(7,"div",5),r.Qc(8,Ya,2,2,"div",6),r.Yb(),r.Yb(),r.Zb(9,"div",3),r.Zb(10,"div",7),r.hc("click",(function(){return t.toggleMenu(t.menuIds.RESERVATION)})),r.Zb(11,"div",8),r.Zb(12,"div",9),r.Sc(13),r.kc(14,"cmsTranslate"),r.Yb(),r.Zb(15,"div",10),r.Zb(16,"label",11),r.Sc(17),r.kc(18,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Ub(19,"i",12),r.Yb(),r.Zb(20,"div",7),r.hc("click",(function(){return t.toggleMenu(t.menuIds.PLANNING)})),r.Zb(21,"h4",13),r.Sc(22),r.kc(23,"cmsTranslate"),r.Yb(),r.Ub(24,"i",12),r.Yb(),r.Qc(25,Ga,5,3,"a",14),r.Qc(26,Va,6,6,"app-call-to-action",15),r.Qc(27,Za,4,2,"app-call-to-action",16),r.kc(28,"slice"),r.Zb(29,"div",7),r.hc("click",(function(){return t.toggleMenu(t.menuIds.SEARCH)})),r.Zb(30,"h4",13),r.Sc(31),r.kc(32,"cmsTranslate"),r.Yb(),r.Ub(33,"i",12),r.Yb(),r.Qc(34,Wa,4,2,"app-call-to-action",16),r.kc(35,"slice"),r.Zb(36,"div",17),r.Zb(37,"app-curloc-button",18),r.hc("click",(function(){return t.toggleMenu(t.menuIds.LOCALE)})),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&e&&(r.Hb(1),r.sc("ngIf",t.showMobileHeader),r.Hb(4),r.Tc(r.lc(6,11,"HEADER_BOOK")),r.Hb(3),r.sc("ngForOf",t.tabOptions),r.Hb(5),r.Uc(" ",r.lc(14,13,"HEADER_MANAGE")," "),r.Hb(4),r.Tc(r.lc(18,15,"HEADER_TAG_CHECK-IN")),r.Hb(5),r.Tc(r.lc(23,17,"HEADER_PLAN")),r.Hb(3),r.sc("ngIf",t.showFlightStatusMenu),r.Hb(1),r.sc("ngIf",!t.showFlightStatusMenu),r.Hb(1),r.sc("ngForOf",r.nc(28,19,t.siteLinks,0,1)),r.Hb(4),r.Uc(" ",r.lc(32,23,"HEADER_SEARCH_TITLE")," "),r.Hb(3),r.sc("ngForOf",r.nc(35,25,t.siteLinks,1,2)))},directives:[mt.u,mt.t,Yo,Pa,Ha,Bt.j,pi.a],pipes:[Nn.a,mt.F,Oi.a],styles:[".divider[_ngcontent-%COMP%]{border-bottom:1px solid var(--gr25)}.flight-status[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.viva-badge.small[_ngcontent-%COMP%]{height:20px}"]}),Ka);function Qa(e,t){if(1&e&&(r.Zb(0,"div",1),r.Ub(1,"img",2),r.Zb(2,"div",3),r.Zb(3,"div",4),r.Zb(4,"div",5),r.Sc(5),r.Yb(),r.Zb(6,"div",6),r.Zb(7,"span",7),r.Sc(8),r.kc(9,"date"),r.kc(10,"date"),r.Yb(),r.Zb(11,"span",8),r.Sc(12),r.Yb(),r.Yb(),r.Yb(),r.Zb(13,"div"),r.Zb(14,"div",9),r.Ub(15,"i"),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&e){var n=r.jc();r.Hb(1),r.sc("src",n.reservation.image,r.Kc),r.Hb(4),r.Vc(" ",n.reservation.locations[0],"",n.reservation.locations.length>1?" - "+n.reservation.locations[1]:""," "),r.Hb(3),r.Vc("",r.mc(9,9,n.reservation.dates[0],"d MMM"),"",n.reservation.dates.length>1?" - "+r.mc(10,12,n.reservation.dates[1],"d MMM"):"",""),r.Hb(4),r.Uc("",n.reservation.people," Adulto"),r.Hb(3),r.Kb("fas ",n.reservation.type,"")}}var Xa,qa=((Xa=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Xa)},Xa.\u0275cmp=r.Nb({type:Xa,selectors:[["app-responsive-next-flight-card"]],inputs:{reservation:"reservation"},decls:1,vars:1,consts:[["class","reservation-card",4,"ngIf"],[1,"reservation-card"],["alt","travel_img","loading","lazy",1,"reservation-image",3,"src"],[1,"reservation-content","flex","align-items-center"],[1,"flex","flex-column","flex-fill"],[1,"title"],[1,"flex","reservation-dates"],[1,"small-title","mr-2"],[1,"small-title"],[1,"d-flex","flex-row","justify-content-center","align-items-center","icon-container"]],template:function(e,t){1&e&&r.Qc(0,Qa,16,15,"div",0),2&e&&r.sc("ngIf",t.reservation)},directives:[mt.u],pipes:[mt.f],styles:[".reservation-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:5px;box-shadow:0 0 50px 0 hsla(0,0%,55.3%,.07),0 1px 5px 0 rgba(95,95,95,.07);border:1px solid var(--gr25);background-color:var(--wh1)}.reservation-card[_ngcontent-%COMP%]   .reservation-image[_ngcontent-%COMP%]{height:196px;width:100%;border-top-left-radius:5px;border-top-right-radius:5px;background-repeat:no-repeat;background-size:cover;background-position:50%;background-image:url(https://via.placeholder.com/300x300)}.reservation-card[_ngcontent-%COMP%]   .reservation-content[_ngcontent-%COMP%]{padding:10px 20px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.reservation-card[_ngcontent-%COMP%]   .reservation-content[_ngcontent-%COMP%]   .content-description[_ngcontent-%COMP%], .reservation-card[_ngcontent-%COMP%]   .reservation-content[_ngcontent-%COMP%]   .reservation-dates[_ngcontent-%COMP%]{opacity:.5}.reservation-card[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{border:1px solid var(--wh2);border-radius:50%;background-color:var(--wh2);margin-left:20px;margin-right:-10px;width:60px;height:60px}.reservation-card[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--bg4);font-size:17px}"]}),Xa),$a=n("qo0r"),Ja=function(){return{quality:80,format:"webp",height:35}},es=function(){return{quality:80,height:120}};function ts(e,t){if(1&e&&(r.Zb(0,"div",1),r.Zb(1,"div",2),r.kc(2,"lowercase"),r.Zb(3,"div",3),r.Ub(4,"img",4),r.kc(5,"cmsImage"),r.Zb(6,"div",5),r.Sc(7),r.kc(8,"cmsTranslate"),r.Yb(),r.Zb(9,"div",6),r.Zb(10,"div",7),r.Sc(11),r.kc(12,"cmsTranslate"),r.Yb(),r.Zb(13,"div",8),r.Sc(14),r.kc(15,"cmsTranslate"),r.Yb(),r.Zb(16,"app-call-to-action",9),r.Zb(17,"div",10),r.Sc(18),r.Ub(19,"em",11),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Ub(20,"img",12),r.kc(21,"cmsImage"),r.Yb(),r.Yb()),2&e){var n=r.jc();r.Hb(1),r.sc("ngClass",r.lc(2,10,null==n.promotionalBanner?null:n.promotionalBanner.mediaTitle)),r.Hb(3),r.sc("src",r.mc(5,12,null==n.promotionalBanner||null==n.promotionalBanner.headerTagImg||null==n.promotionalBanner.headerTagImg.fields||null==n.promotionalBanner.headerTagImg.fields.file?null:n.promotionalBanner.headerTagImg.fields.file.url,r.uc(24,Ja))||"",r.Kc)("alt",null==n.promotionalBanner||null==n.promotionalBanner.headerTagImg?null:n.promotionalBanner.headerTagImg.fields.title),r.Hb(3),r.Tc(r.lc(8,15,null==n.promotionalBanner?null:n.promotionalBanner.title)),r.Hb(4),r.Tc(r.lc(12,17,null==n.promotionalBanner?null:n.promotionalBanner.headerTag)),r.Hb(3),r.Tc(r.lc(15,19,null==n.promotionalBanner?null:n.promotionalBanner.text)),r.Hb(2),r.sc("callToAction",null==n.promotionalBanner||null==n.promotionalBanner.callToAction?null:n.promotionalBanner.callToAction.fields),r.Hb(2),r.Uc(" ",null==n.promotionalBanner||null==n.promotionalBanner.callToAction||null==n.promotionalBanner.callToAction.fields?null:n.promotionalBanner.callToAction.fields.text," "),r.Hb(2),r.sc("src",r.mc(21,21,null==n.promotionalBanner||null==n.promotionalBanner.source||null==n.promotionalBanner.source.fields||null==n.promotionalBanner.source.fields.file?null:n.promotionalBanner.source.fields.file.url,r.uc(25,es))||"",r.Kc)("alt",null==n.promotionalBanner||null==n.promotionalBanner.source?null:n.promotionalBanner.source.fields.title)}}var ns,is=((ns=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ns)},ns.\u0275cmp=r.Nb({type:ns,selectors:[["app-promotional-banner-card"]],inputs:{promotionalBanner:"promotionalBanner"},decls:1,vars:1,consts:[["class","viva-card shadow white d-flex justify-content-center",4,"ngIf"],[1,"viva-card","shadow","white","d-flex","justify-content-center"],[1,"d-flex","justify-content-between","align-items-center","banner-card","w-100",3,"ngClass"],[1,"d-flex","flex-column","flex-xl-row","align-items-start","align-items-xl-center","pl-20","pl-xl-0","pt-20","pt-xl-10","pb-0","pb-xl-10","mr-10","mr-xl-0"],["loading","lazy",1,"banner-card-logo","mx-0","mx-xl-60","mb-1","mb-xl-0",3,"src","alt"],[1,"h4","banner-card-title","mr-0","mr-xl-60"],[1,"banner-card-labels","mr-0","mr-xl-20"],[1,"title","d-none","d-xl-block","mb-1","mt-10"],[1,"small-title","opacity-5","d-none","d-xl-block"],["ctaClass","viva-btn tertiary d-flex align-items-center",3,"callToAction"],[1,"link"],[1,"fas","fa-arrow-right","ml-1"],["loading","lazy","height","120",1,"banner-card-img","mt-1","mt-xl-0","mr-0","mr-xl-60",3,"src","alt"]],template:function(e,t){1&e&&r.Qc(0,ts,22,26,"div",0),2&e&&r.sc("ngIf",t.promotionalBanner)},directives:[mt.u,mt.r,pi.a],pipes:[mt.q,Ma.a,Nn.a],styles:[".viva-card[_ngcontent-%COMP%]{border-radius:unset}.viva-card[_ngcontent-%COMP%]   .banner-card[_ngcontent-%COMP%]{max-width:1920px}.viva-card[_ngcontent-%COMP%]   .banner-card-logo[_ngcontent-%COMP%]{width:100px}.viva-card[_ngcontent-%COMP%]   .banner-card-title[_ngcontent-%COMP%]{width:388px;font-size:24px!important}.viva-card[_ngcontent-%COMP%]   .banner-card.hsbc_banner[_ngcontent-%COMP%]   .banner-card-labels[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], .viva-card[_ngcontent-%COMP%]   .banner-card.hsbc_banner[_ngcontent-%COMP%]   .banner-card-labels[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:var(--sc-c6)}@media only screen and (max-width:1240px){.viva-card[_ngcontent-%COMP%]   .banner-card-logo[_ngcontent-%COMP%]{width:70px}.viva-card[_ngcontent-%COMP%]   .banner-card-title[_ngcontent-%COMP%]{width:auto;font-size:14px!important;line-height:1.21}.viva-card[_ngcontent-%COMP%]   .banner-card-labels[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], .viva-card[_ngcontent-%COMP%]   .banner-card-labels[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:12px}}"]}),ns),rs=n("ZCkC");function os(e,t){if(1&e&&r.Ub(0,"app-flight-checklist",12),2&e){var n=r.jc();r.sc("hasOneColumn",!0)("checklist",n.checklist)}}var as,ss=((as=function(){function e(t){_classCallCheck(this,e),this.storefront=t,this.goBack=new r.p,this.hasReservation=!0,this.isLoggedIn=!0,this.reservation={image:"https://via.placeholder.com/300x300",type:"fa-plane-departure",locations:["Chicago","Mazatl\xe1n"],dates:[new Date("2020-02-13"),new Date("2020-03-14")],people:1},this.checklist=["HEADER_MANAGE_BULLET-1","HEADER_MANAGE_BULLET-2","HEADER_MANAGE_BULLET-3","HEADER_MANAGE_BULLET-4","HEADER_MANAGE_BULLET-5","HEADER_MANAGE_BULLET-6"],this.initStorefrontEntries()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onGoBack",value:function(){this.goBack.emit()}},{key:"initStorefrontEntries",value:function(){var e,t,n;return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.storefront.ready;case 2:r=(null===(n=null===(t=null===(e=this.storefront.storefrontData.headerNavigation)||void 0===e?void 0:e.find((function(e){var t;return"HOMEPAGE_MAINMENU_BANNERS"===(null===(t=e.fields)||void 0===t?void 0:t.code)})))||void 0===t?void 0:t.fields)||void 0===n?void 0:n.items)||[],Array.isArray(r)&&r.length&&(this.promotionalBanner=r[0].fields);case 4:case"end":return i.stop()}}),i,this)})))}}]),e}()).\u0275fac=function(e){return new(e||as)(r.Tb(tn.a))},as.\u0275cmp=r.Nb({type:as,selectors:[["app-responsive-flight-check"]],outputs:{goBack:"goBack"},decls:17,vars:11,consts:[[1,"h-100","d-flex","flex-column","justify-content-between"],[3,"title","goBack"],[1,"px-3","flex","flex-column"],[1,"d-none","d-xl-block"],[1,"mt-2"],[3,"reservation"],[1,"mt-30","mt-lg-40"],[3,"isLoggedIn","hasReservation"],[1,"mt-40"],[3,"promotionalBanner"],[1,"px-3","footer","container-fluid","contrast"],[3,"hasOneColumn","checklist",4,"ngIf"],[3,"hasOneColumn","checklist"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"div"),r.Zb(2,"app-responsive-content-header",1),r.hc("goBack",(function(){return t.onGoBack()})),r.kc(3,"cmsTranslate"),r.Yb(),r.Zb(4,"div",2),r.Zb(5,"div",3),r.Zb(6,"h4",4),r.Sc(7),r.kc(8,"cmsTranslate"),r.Yb(),r.Ub(9,"app-responsive-next-flight-card",5),r.Yb(),r.Zb(10,"div",6),r.Ub(11,"app-reservation-search-form",7),r.Yb(),r.Yb(),r.Yb(),r.Zb(12,"div"),r.Zb(13,"div",8),r.Ub(14,"app-promotional-banner-card",9),r.Yb(),r.Zb(15,"div",10),r.Qc(16,os,1,2,"app-flight-checklist",11),r.Yb(),r.Yb(),r.Yb()),2&e&&(r.Hb(2),r.sc("title",r.lc(3,7,"HEADER_MANAGE")),r.Hb(5),r.Tc(r.lc(8,9,"HEADER_NEXT_TRIP")),r.Hb(2),r.sc("reservation",t.reservation),r.Hb(2),r.sc("isLoggedIn",t.isLoggedIn)("hasReservation",t.hasReservation),r.Hb(3),r.sc("promotionalBanner",t.promotionalBanner),r.Hb(2),r.sc("ngIf",t.checklist))},directives:[Pa,qa,$a.a,is,mt.u,rs.a],pipes:[Nn.a],styles:[".footer[_ngcontent-%COMP%]{background-color:var(--bg4);padding:20px}@media screen and (max-width:991px){.footer[_ngcontent-%COMP%]{padding-bottom:80px!important}}"]}),as);function cs(e,t){if(1&e&&r.Ub(0,"i"),2&e){var n=r.jc(4).$implicit;r.Jb(n.icon)}}function ls(e,t){if(1&e&&(r.Zb(0,"div",10),r.Qc(1,cs,1,3,"i",11),r.Zb(2,"h4"),r.Sc(3),r.Yb(),r.Yb()),2&e){var n=r.jc(3).$implicit;r.Hb(1),r.sc("ngIf",n.icon),r.Hb(2),r.Tc(n.title)}}function us(e,t){if(1&e&&(r.Zb(0,"app-call-to-action",12),r.Zb(1,"div",13),r.Zb(2,"span"),r.Sc(3),r.Yb(),r.Ub(4,"i",14),r.Yb(),r.Yb()),2&e){var n=t.$implicit;r.sc("callToAction",n.fields),r.Hb(3),r.Tc(n.fields.text)}}var ds=function(e){return{"offset-xl-1":e}},hs=function(e){return{"no-title":e}};function fs(e,t){if(1&e&&(r.Xb(0),r.Zb(1,"div",6),r.Qc(2,ls,4,2,"div",7),r.Zb(3,"div",8),r.Qc(4,us,5,2,"app-call-to-action",9),r.Yb(),r.Yb(),r.Wb()),2&e){var n=t.$implicit,i=t.index,o=r.jc(2).index;r.Hb(1),r.sc("ngClass",r.vc(4,ds,0!==o||0!==i)),r.Hb(1),r.sc("ngIf",0===i),r.Hb(1),r.sc("ngClass",r.vc(6,hs,0!==i)),r.Hb(1),r.sc("ngForOf",n)}}function ps(e,t){if(1&e&&(r.Xb(0),r.Qc(1,fs,5,8,"ng-container",4),r.Wb()),2&e){var n=r.jc().$implicit;r.Hb(1),r.sc("ngForOf",n.multiArrItems)}}function gs(e,t){if(1&e&&(r.Xb(0),r.Qc(1,ps,2,1,"ng-container",5),r.Wb()),2&e){var n=t.$implicit;r.Hb(1),r.sc("ngIf",n.multiArrItems)}}function vs(e,t){if(1&e&&(r.Zb(0,"div",3),r.Qc(1,gs,2,1,"ng-container",4),r.Yb()),2&e){var n=r.jc();r.Hb(1),r.sc("ngForOf",n.menu)}}var ms,bs,ys,_s=((bs=function(){function e(t,n){_classCallCheck(this,e),this.utils=t,this.sfSvc=n,this.itemsByCol=5,this.menu=[],this.isMenuReady=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.getPlanningMenuEntries()}},{key:"getPlanningMenuEntries",value:function(){var e=this;this.sfSvc.ready.then((function(){var t=e.sfSvc.storefrontData.headerNavigation;if(t){var n=t.find((function(e){return"SF_HEADER_LINKS_PLANNING"===e.fields.code}));n&&(e.menu=n.fields.items.map((function(e){return{title:e.fields.title,icon:e.fields.description,items:e.fields.items}})),e.menu=e.menu.map((function(t){return t.multiArrItems=e.utils.simpleArrayToMultidimensionalArray(t.items,e.itemsByCol),t})),e.isMenuReady=!0)}}))}}]),e}()).\u0275fac=function(e){return new(e||bs)(r.Tb(Cn.a),r.Tb(tn.a))},bs.\u0275cmp=r.Nb({type:bs,selectors:[["app-planning-menu"]],decls:3,vars:1,consts:[[1,"planning-menu","content-container"],[1,"container"],["class","row bottom-padding",4,"ngIf"],[1,"row","bottom-padding"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-xl-2","submenu",3,"ngClass"],["class","d-flex flex-row justify-content-start align-items-center submenu-title",4,"ngIf"],[3,"ngClass"],["class","d-inline-block submenu-link","ctaClass","viva-btn small height-auto w-100 pa-0",3,"callToAction",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","justify-content-start","align-items-center","submenu-title"],[3,"class",4,"ngIf"],["ctaClass","viva-btn small height-auto w-100 pa-0",1,"d-inline-block","submenu-link",3,"callToAction"],[1,"content"],[1,"fas","fa-arrow-right"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Qc(2,vs,2,1,"div",2),r.Yb(),r.Yb()),2&e&&(r.Hb(2),r.sc("ngIf",t.isMenuReady))},directives:[mt.u,mt.t,mt.r,pi.a],styles:['.planning-menu.content-container[_ngcontent-%COMP%]{padding:20px 0;background-color:var(--wh2)}@media screen and (max-width:1240px){.planning-menu.content-container[_ngcontent-%COMP%]{padding:0;background-color:var(--wh1)}}@media screen and (max-width:800px){.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]:first-child   .submenu-title[_ngcontent-%COMP%]{margin:20px 0 0}}@media screen and (max-width:800px){.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-title[_ngcontent-%COMP%]{margin:60px 0 0}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0}}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-title[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin:20px 0;line-height:24px}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-title[_ngcontent-%COMP%] > i.fas[_ngcontent-%COMP%]{font-size:15px;color:var(--bg4);margin-right:8px}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .no-title[_ngcontent-%COMP%]{margin-top:64px}@media screen and (max-width:800px){.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .no-title[_ngcontent-%COMP%]{margin-top:10px;border-top:1px solid var(--gr20)}}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]{border-radius:0;position:relative;width:100%}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:left;line-height:18px}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:9px}@media screen and (max-width:1240px){.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:14px}}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]:first-child{padding-top:9px}@media screen and (max-width:800px){.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]:first-child{padding-top:20px}}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]:not(:first-child){padding-top:21.5px}@media screen and (max-width:800px){.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]:not(:first-child){padding-top:20px}}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]:not(:last-child){overflow:visible;padding-bottom:13px}@media screen and (max-width:800px){.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]:not(:last-child){padding-bottom:10px}}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]:not(:last-child):after{position:absolute;bottom:0;left:0;width:100%;height:1px;background-color:var(--gr20);content:""}']}),bs),Cs=((ms=function(){function e(){_classCallCheck(this,e),this.goBack=new r.p}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onGoBack",value:function(){this.goBack.emit()}}]),e}()).\u0275fac=function(e){return new(e||ms)},ms.\u0275cmp=r.Nb({type:ms,selectors:[["app-responsive-planning"]],outputs:{goBack:"goBack"},decls:5,vars:3,consts:[[1,"content"],[3,"title","goBack"],[1,"px-20","pb-3","flex","flex-column","planning-container"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"app-responsive-content-header",1),r.hc("goBack",(function(){return t.onGoBack()})),r.kc(2,"cmsTranslate"),r.Yb(),r.Zb(3,"div",2),r.Ub(4,"app-planning-menu"),r.Yb(),r.Yb()),2&e&&(r.Hb(1),r.sc("title",r.lc(2,1,"HEADER_PLAN")))},directives:[Pa,_s],pipes:[Nn.a],styles:[".content[_ngcontent-%COMP%]{background-color:var(--wh1)}@media screen and (max-width:991px){.planning-container[_ngcontent-%COMP%]{padding-bottom:100px!important}}"]}),ms),ks=n("f0Wu"),Ss=n("/XB6"),Os=n("dc3y"),Ts=n("K6W5"),ws=n("h2JM"),As=((ys=function(){function e(t){_classCallCheck(this,e),this.date=t}return _createClass(e,[{key:"transform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&e.codeOrigin&&e.codeDestination&&e.date instanceof Date?"".concat(e.codeOrigin,"-").concat(e.codeDestination,", ").concat(this.getDate(e.date,t)):""}},{key:"getDate",value:function(e,t){return this.date.transform(e,t)}}]),e}()).\u0275fac=function(e){return new(e||ys)(r.Tb(mt.f))},ys.\u0275pipe=r.Sb({name:"flightStatusSuggestion",type:ys,pure:!0}),ys);function Es(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",6),r.Zb(1,"button",7),r.hc("click",(function(){r.Hc(n);var e=t.$implicit;return r.jc(2).onResultSelect(e)})),r.Zb(2,"div",8),r.Zb(3,"span"),r.Sc(4),r.kc(5,"flightStatusSuggestion"),r.Yb(),r.Ub(6,"i",9),r.Yb(),r.Yb(),r.Yb()}if(2&e){var i=t.$implicit;r.Hb(4),r.Uc(" ",r.mc(5,1,i,"EEEE d MMM")," ")}}function Ps(e,t){if(1&e&&(r.Zb(0,"div",1),r.Qc(1,Es,7,4,"div",5),r.Yb()),2&e){var n=r.jc();r.Hb(1),r.sc("ngForOf",n.suggestions)}}var Ms,xs=((Ms=function(){function e(){_classCallCheck(this,e),this.title="",this.suggestions=[],this.suggestionSelect=new r.p}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onResultSelect",value:function(e){this.suggestionSelect.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||Ms)},Ms.\u0275cmp=r.Nb({type:Ms,selectors:[["app-flight-status-suggestions"]],inputs:{title:"title",suggestions:"suggestions"},outputs:{suggestionSelect:"suggestionSelect"},decls:7,vars:4,consts:[[1,"container","flight-status-suggestions","px-0"],[1,"row"],[1,"col-xl-12","light"],[1,"title","suggestions-title"],["class","row",4,"ngIf"],["class","col-xl-4",4,"ngFor","ngForOf"],[1,"col-xl-4"],[1,"viva-btn","tertiary","light","suggestion-link",3,"click"],[1,"content"],[1,"fas","fa-arrow-right"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Zb(2,"div",2),r.Zb(3,"div",3),r.Sc(4),r.kc(5,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Qc(6,Ps,2,1,"div",4),r.Yb()),2&e&&(r.Hb(4),r.Tc(t.title?r.lc(5,2,t.title):""),r.Hb(2),r.sc("ngIf",t.suggestions))},directives:[mt.u,mt.t],pipes:[Nn.a,As],styles:[".flight-status-suggestions[_ngcontent-%COMP%]   .suggestions-title[_ngcontent-%COMP%]{margin:0;opacity:.5}.flight-status-suggestions[_ngcontent-%COMP%]   .suggestion-link[_ngcontent-%COMP%]{padding:0;overflow:visible}@media screen and (max-width:800px){.flight-status-suggestions[_ngcontent-%COMP%]   .suggestion-link[_ngcontent-%COMP%]{width:100%}}.flight-status-suggestions[_ngcontent-%COMP%]   .suggestion-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;text-align:left}.flight-status-suggestions[_ngcontent-%COMP%]   .suggestion-link[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:14px;color:var(--vg4)}"]}),Ms);function Ds(e,t){1&e&&r.Vb(0)}function Is(e,t){1&e&&r.Vb(0)}function Ls(e,t){1&e&&r.Vb(0)}function Rs(e,t){if(1&e){var n=r.ac();r.Xb(0),r.Zb(1,"div",12),r.Zb(2,"div",13),r.Zb(3,"app-flight-input",14),r.hc("selectedStationsChanged",(function(e){return r.Hc(n),r.jc().selectedRoute(e)}))("savedSearchSelected",(function(e){return r.Hc(n),r.jc().onSuggestionSelect(e)})),r.Yb(),r.Yb(),r.Zb(4,"div",15),r.Qc(5,Ds,1,0,"ng-container",16),r.Yb(),r.Yb(),r.Zb(6,"div",17),r.Zb(7,"div",13),r.Qc(8,Is,1,0,"ng-container",16),r.Yb(),r.Zb(9,"div",18),r.Qc(10,Ls,1,0,"ng-container",16),r.Yb(),r.Yb(),r.Wb()}if(2&e){var i=r.jc(),o=r.Ec(15),a=r.Ec(13),s=r.Ec(11);r.Hb(3),r.sc("anticipateBreakpoint",!0)("activeForBookingStationsOnly",!1)("selectedStations",i.selectedStations)("showLastFlightStatusSearch",!0)("activeDirectStationsOnly",!i.showConnections)("useFlightStatusDatalayer",!0),r.Hb(2),r.sc("ngTemplateOutlet",o),r.Hb(3),r.sc("ngTemplateOutlet",a),r.Hb(2),r.sc("ngTemplateOutlet",s)}}function Ns(e,t){if(1&e&&(r.Zb(0,"small",31),r.Sc(1),r.kc(2,"cmsTranslate"),r.Yb()),2&e){var n=t.$implicit,i=r.jc(3);r.Hb(1),r.Uc(" ",r.lc(2,1,i.flightErrors[n])," ")}}function js(e,t){if(1&e&&(r.Xb(0),r.Qc(1,Ns,3,3,"small",30),r.Wb()),2&e){var n=r.jc(2);r.Hb(1),r.sc("ngForOf",n.formErrors)}}function Bs(e,t){1&e&&r.Vb(0)}function Fs(e,t){1&e&&r.Vb(0)}function Hs(e,t){1&e&&r.Vb(0)}function Us(e,t){if(1&e&&(r.Xb(0),r.Zb(1,"div",19),r.Zb(2,"div",20),r.Zb(3,"div",21),r.Ub(4,"input",22),r.kc(5,"cmsTranslate"),r.Ub(6,"i",23),r.Zb(7,"label"),r.Sc(8),r.kc(9,"cmsTranslate"),r.Yb(),r.Ub(10,"div",24),r.Yb(),r.Qc(11,js,2,1,"ng-container",25),r.Yb(),r.Zb(12,"div",26),r.Qc(13,Bs,1,0,"ng-container",16),r.Yb(),r.Zb(14,"div",27),r.Qc(15,Fs,1,0,"ng-container",16),r.Yb(),r.Yb(),r.Zb(16,"div",28),r.Zb(17,"div",29),r.Qc(18,Hs,1,0,"ng-container",16),r.Yb(),r.Yb(),r.Wb()),2&e){var n=r.jc(),i=r.Ec(15),o=r.Ec(11),a=r.Ec(13);r.Hb(2),r.sc("formGroup",n.flightNumberForm),r.Hb(2),r.sc("placeholder",r.lc(5,7,"GLOBAL_LABEL_FLIGHTNUMBER-PLACEHOLDER")),r.Hb(4),r.Tc(r.lc(9,9,"GLOBAL_LABEL_FLIGHTNUMBER")),r.Hb(3),r.sc("ngIf",n.flightNumberForm.invalid&&n.flightNumberForm.touched),r.Hb(2),r.sc("ngTemplateOutlet",i),r.Hb(2),r.sc("ngTemplateOutlet",o),r.Hb(3),r.sc("ngTemplateOutlet",a)}}function Ys(e,t){if(1&e){var n=r.ac();r.Zb(0,"button",32),r.hc("click",(function(){return r.Hc(n),r.jc().doSearch()})),r.Zb(1,"span"),r.Sc(2),r.kc(3,"cmsTranslate"),r.Yb(),r.Yb()}if(2&e){var i=r.jc();r.sc("disabled",!i.isButtonAvailable),r.Hb(2),r.Tc(r.lc(3,2,"GLOBAL_ACTION_SEARCH"))}}function Gs(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",34),r.Zb(1,"app-flight-status-suggestions",35),r.hc("suggestionSelect",(function(e){return r.Hc(n),r.jc(2).onLastSearchSelect(e)})),r.Yb(),r.Yb()}if(2&e){var i=r.jc(2);r.Hb(1),r.sc("title",i.suggestionsTitle)("suggestions",i.suggestions)}}function Vs(e,t){if(1&e&&r.Qc(0,Gs,2,2,"div",33),2&e){var n=r.jc();r.sc("ngIf",n.suggestions&&n.suggestions.length)}}function Zs(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",37),r.Zb(1,"ng-select",38,39),r.hc("ngModelChange",(function(e){return r.Hc(n),r.jc(2).selectedDate=e})),r.kc(3,"cmsTranslate"),r.Zb(4,"ng-option",40),r.Sc(5),r.kc(6,"cmsTranslate"),r.kc(7,"date"),r.Yb(),r.Zb(8,"ng-option",40),r.Sc(9),r.kc(10,"cmsTranslate"),r.kc(11,"date"),r.Yb(),r.Zb(12,"ng-option",40),r.Sc(13),r.kc(14,"cmsTranslate"),r.kc(15,"date"),r.Yb(),r.Yb(),r.Ub(16,"i",41),r.Zb(17,"label"),r.Sc(18),r.kc(19,"cmsTranslate"),r.Yb(),r.Ub(20,"div",24),r.Zb(21,"div",42),r.Ub(22,"i",43),r.Yb(),r.Yb()}if(2&e){var i=r.jc(2);r.Hb(1),r.sc("searchable",!1)("clearable",!1)("placeholder",r.lc(3,14,"HEADER_FLIGHTSTATUS_DATE-PLACEHOLDER"))("ngModel",i.selectedDate),r.Hb(3),r.sc("value",i.searchDates[0]),r.Hb(1),r.Vc("",r.lc(6,16,"GLOBAL_LABEL_YESTERDAY"),", ",r.mc(7,18,i.searchDates[0],"EEE d MMM"),""),r.Hb(3),r.sc("value",i.searchDates[1]),r.Hb(1),r.Vc("",r.lc(10,21,"GLOBAL_LABEL_TODAY"),", ",r.mc(11,23,i.searchDates[1],"EEE d MMM"),""),r.Hb(3),r.sc("value",i.searchDates[2]),r.Hb(1),r.Vc("",r.lc(14,26,"GLOBAL_LABEL_TOMORROW"),", ",r.mc(15,28,i.searchDates[2],"EEE d MMM"),""),r.Hb(5),r.Tc(r.lc(19,31,"GLOBAL_LABEL_DEPARTUREDATE"))}}function Ws(e,t){if(1&e&&r.Qc(0,Zs,23,33,"div",36),2&e){var n=r.jc();r.sc("ngIf",n.isValidDateArrayWith3Elements)}}var Ks,zs,Qs=((Ks=function(){function e(t,n,i,o,a){_classCallCheck(this,e),this.router=t,this.stationSearchHistory=n,this.cmsConfig=i,this.flightStatusService=o,this.cookieService=a,this.menuClose=new r.p,this.tabList=[{title:"HEADER_FLIGHTSTATUS_BYROUTE",iconClass:"fa-exchange"},{title:"HEADER_FLIGHTSTATUS_BYFLIGHTNUMBER",iconClass:"fa-plane"}],this.suggestions=[],this.suggestionsTitle="GLOBAL_LABEL_RECENTSEARCH",this.activeTab=Xs.ROUTE,this.statusMenuType=Xs,this.queryParams={},this.flightNumberForm=new Rn.l({flightNumber:new Rn.i("",[Rn.I.required,Rn.I.minLength(2),Rn.I.maxLength(4),Rn.I.pattern("^[0-9]+")])}),this.flightErrors={required:"ERROR_FLIGHTNUMBER_MANDATORY",minlength:"ERROR_FLIGHTNUMBER_DIGITS",maxlength:"ERROR_FLIGHTNUMBER_DIGITS",pattern:"ERROR_FLIGHTNUMBER_LETTERS"},this.showConnections=!0,this.showNotifications=!1,this.cookieKey=l.g.cacheKeys.FLIGHT_STATUS_NOTIFICATIONS,this.searchDates=this.flightStatusService.createDates(),this.selectedDate=this.searchDates[1],this.showNotifications=this.cmsConfig.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.FlightStatusNotifications)||!1}return _createClass(e,[{key:"ngOnInit",value:function(){window.innerWidth<=800&&(this.tabList=[{title:"HEADER_FLIGHTSTATUS_BYROUTE",iconClass:"fa-exchange"},{title:"HEADER_FLIGHTSTATUS_FLIGHTNUMBER_MOV",iconClass:"fa-plane"}]),this.checkSubscriptions(),this.loadSuggestions(),this.showConnections=this.cmsConfig.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.FlightStatusConnections)}},{key:"loadSuggestions",value:function(){return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stationSearchHistory.ready;case 2:(t=this.stationSearchHistory.getLastFlightStatusSearch())&&(this.suggestions=[{codeOrigin:t.origin.code,codeDestination:t.destination.code,date:new Date(ks(t.startDate).valueOf())}]);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"changeItem",value:function(e){2!==e?this.activeTab=e:this.router.navigate(["flight-status"],{queryParams:{notifications:!0}})}},{key:"doSearch",value:function(){this.activeTab===Xs.ROUTE?this.queryParams=Object.assign(Object.assign({},this.queryParams),{date:ks(this.selectedDate).format("YYYYMMDD")}):this.flightNumberForm.valid&&(this.queryParams={flightNumber:this.flightNumberForm.get("flightNumber").value,date:ks(this.selectedDate).format("YYYYMMDD")}),this.router.navigate(["flight-status"],{queryParams:this.queryParams}),this.doClose()}},{key:"doClose",value:function(){this.menuClose.emit()}},{key:"onSuggestionSelect",value:function(e){var t,n;this.selectedStations={selectedOriginCode:(null===(t=null==e?void 0:e.origin)||void 0===t?void 0:t.code)||null,selectedDestinationCode:(null===(n=null==e?void 0:e.destination)||void 0===n?void 0:n.code)||null}}},{key:"onLastSearchSelect",value:function(e){this.queryParams={origin:e.codeOrigin,destination:e.codeDestination,date:ks(e.date).format("YYYYMMDD")},this.router.navigate(["flight-status"],{queryParams:this.queryParams})}},{key:"selectedRoute",value:function(e){var t,n;this.queryParams={origin:(null===(t=null==e?void 0:e.selectedOrigin)||void 0===t?void 0:t.code)||null,destination:(null===(n=null==e?void 0:e.selectedDestination)||void 0===n?void 0:n.code)||null}}},{key:"checkSubscriptions",value:function(){var e=this;this.cookieService.check(this.cookieKey)&&this.showNotifications&&this.flightStatusService.getSubscriptions(atob(this.cookieService.get(this.cookieKey))).subscribe((function(t){t.data&&Array.isArray(t.data)&&t.data.length&&e.tabList.push({title:"BOOKER_LABEL_YOUR-NOTIFICATIONS",iconClass:"fa-bell"})}),(function(e){l.g.production||console.error("::getSubscriptions::",e)}))}},{key:"isButtonAvailable",get:function(){return this.activeTab===Xs.ROUTE?this.queryParams&&!!this.queryParams.origin&&!!this.queryParams.destination&&!!this.selectedDate:this.flightNumberForm.valid&&!!this.selectedDate}},{key:"isValidDateArrayWith3Elements",get:function(){return this.searchDates&&Array.isArray(this.searchDates)&&3===this.searchDates.length}},{key:"formErrors",get:function(){return this.flightNumberForm.touched?Object.keys(this.flightNumberForm.get("flightNumber").errors):null}}]),e}()).\u0275fac=function(e){return new(e||Ks)(r.Tb(Bt.g),r.Tb(Ss.a),r.Tb(an.a),r.Tb(Os.a),r.Tb(Oo.a))},Ks.\u0275cmp=r.Nb({type:Ks,selectors:[["app-flight-status-menu"]],outputs:{menuClose:"menuClose"},decls:16,vars:4,consts:[[1,"flight-status","main-container","px-10","px-xl-0"],[1,"container","inner-container"],[1,"modal-close","green","close-icon",3,"click"],[1,"fas","fa-times"],[1,"row","mb-40"],[1,"col-xl-6","mt-10"],["theme","all-space",3,"tabOptions","activeTabChange"],[1,"container",3,"ngSwitch"],[4,"ngSwitchCase"],["statusSearchBtn",""],["statusSuggestions",""],["statusDateSelect",""],[1,"row","mb-0","mb-xl-20"],[1,"col-xl-9"],[3,"anticipateBreakpoint","activeForBookingStationsOnly","selectedStations","showLastFlightStatusSearch","activeDirectStationsOnly","useFlightStatusDatalayer","selectedStationsChanged","savedSearchSelected"],[1,"col-xl-3","mb-20","mb-xl-30","mb-xl-0","mt-5","mt-xl-0"],[4,"ngTemplateOutlet"],[1,"row","flex-column-reverse","flex-xl-row"],[1,"col-xl-3","mb-30","mb-xl-0"],[1,"row","mb-30","mb-xl-20"],[1,"col-xl-4","pb-xl-5","pb-10","mt-5","mt-xl-0",3,"formGroup"],[1,"viva-input-field","w-100","flight-number-input"],["formControlName","flightNumber","type","text",3,"placeholder"],[1,"fas","fa-file-alt"],[1,"divider"],[4,"ngIf"],[1,"col-xl-4","pb-xl-10","pb-20"],[1,"col-xl-3"],[1,"row"],[1,"col-xl-12"],["class","viva-input-field-error",4,"ngFor","ngForOf"],[1,"viva-input-field-error"],[1,"viva-btn","big","light","w-100",3,"disabled","click"],["class","flight-status suggestions-container",4,"ngIf"],[1,"flight-status","suggestions-container"],[3,"title","suggestions","suggestionSelect"],["class","viva-input-field viva-select w-100",4,"ngIf"],[1,"viva-input-field","viva-select","w-100"],[3,"searchable","clearable","placeholder","ngModel","ngModelChange"],["select",""],[3,"value"],[1,"fas","fa-calendar-day"],[1,"valid"],[1,"fas","fa-check"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Zb(2,"button",2),r.hc("click",(function(){return t.doClose()})),r.Ub(3,"i",3),r.Yb(),r.Zb(4,"div",4),r.Zb(5,"div",5),r.Zb(6,"app-tablist-bar",6),r.hc("activeTabChange",(function(e){return t.changeItem(e)})),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(7,"div",7),r.Qc(8,Rs,11,9,"ng-container",8),r.Qc(9,Us,19,11,"ng-container",8),r.Yb(),r.Yb(),r.Qc(10,Ys,4,4,"ng-template",null,9,r.Rc),r.Qc(12,Vs,1,1,"ng-template",null,10,r.Rc),r.Qc(14,Ws,1,1,"ng-template",null,11,r.Rc)),2&e&&(r.Hb(6),r.sc("tabOptions",t.tabList),r.Hb(1),r.sc("ngSwitch",t.activeTab),r.Hb(1),r.sc("ngSwitchCase",t.statusMenuType.ROUTE),r.Hb(1),r.sc("ngSwitchCase",t.statusMenuType.FLIGHT_NO))},directives:[Ts.a,mt.y,mt.z,ws.a,mt.B,Rn.v,Rn.m,Rn.d,Rn.u,Rn.k,mt.u,mt.t,xs,Kn.a,Rn.x,Kn.n],pipes:[Nn.a,mt.f],styles:['.flight-status.main-container[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:10px;background-color:var(--bg4)}.flight-status.main-container[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}.flight-status.main-container[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:10px}@media screen and (max-width:1024px){.flight-status.main-container[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{display:none}}.flight-status.suggestions-container[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}@media screen and (max-width:1024px){.flight-status[_ngcontent-%COMP%]   .viva-btn.big[_ngcontent-%COMP%]{background-color:var(--lg4)}}@media screen and (max-width:1024px){.flight-status.main-container[_ngcontent-%COMP%]     .booker-tablist-list{align-items:flex-end}.flight-status.main-container[_ngcontent-%COMP%]     .booker-tablist-list .booker-tablist-item{width:50%}.flight-status.main-container[_ngcontent-%COMP%]     .booker-tablist-list .booker-tablist-item a{text-align:center}.flight-status.main-container[_ngcontent-%COMP%]     .station-input-overlay{padding:15px 30px 15px 70px}.flight-status.main-container[_ngcontent-%COMP%]     .station-input-overlay .station-name{font-size:20px}.flight-status.main-container[_ngcontent-%COMP%]     .station-input-overlay .station-code{font-size:14px;color:var(--bg4)}}.flight-number-input[_ngcontent-%COMP%]{position:relative}.flight-number-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], .flight-number-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus{padding-left:92px}.flight-number-input[_ngcontent-%COMP%]:after{content:"VB";position:absolute;bottom:9px;left:69px;font-family:Axiforma,Arial;font-weight:700;font-size:16px;line-height:24px;color:var(--bg6)}']}),Ks),Xs=function(e){return e[e.ROUTE=0]="ROUTE",e[e.FLIGHT_NO=1]="FLIGHT_NO",e}({}),qs=((zs=function(){function e(){_classCallCheck(this,e),this.goBack=new r.p,this.closeMenu=new r.p}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onGoBack",value:function(){this.goBack.emit()}},{key:"onClose",value:function(){this.closeMenu.emit()}}]),e}()).\u0275fac=function(e){return new(e||zs)},zs.\u0275cmp=r.Nb({type:zs,selectors:[["app-responsive-flight-status"]],outputs:{goBack:"goBack",closeMenu:"closeMenu"},decls:5,vars:3,consts:[[1,"h-100"],[3,"title","goBack"],[1,"flight-status-container"],[3,"menuClose"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"app-responsive-content-header",1),r.hc("goBack",(function(){return t.onGoBack()})),r.kc(2,"cmsTranslate"),r.Yb(),r.Zb(3,"div",2),r.Zb(4,"app-flight-status-menu",3),r.hc("menuClose",(function(){return t.onClose()})),r.Yb(),r.Yb(),r.Yb()),2&e&&(r.Hb(1),r.sc("title",r.lc(2,1,"HEADER_FLIGHTSTATUS")))},directives:[Pa,Qs],pipes:[Nn.a],styles:[".flight-status-container[_ngcontent-%COMP%]{background-color:var(--bg4);height:calc(100vh - 60px);overflow:auto}@media screen and (max-width:1024px){.flight-status-container[_ngcontent-%COMP%]{height:calc(100% - 60px)}}"]}),zs);function $s(e,t){1&e&&r.Vb(0)}function Js(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",2),r.Zb(1,"button",3),r.hc("click",(function(){return r.Hc(n),r.jc().emitClose()})),r.Ub(2,"i",4),r.Yb(),r.Qc(3,$s,1,0,"ng-container",5),r.Yb()}if(2&e){r.jc();var i=r.Ec(2);r.Hb(3),r.sc("ngTemplateOutlet",i)}}var ec=function(e){return{active:e}};function tc(e,t){if(1&e){var n=r.ac();r.Zb(0,"button",28),r.hc("click",(function(){r.Hc(n);var e=t.$implicit;return r.jc(4).setSelectedCurrency(e)})),r.Zb(1,"div",29),r.Zb(2,"span",30),r.Sc(3),r.kc(4,"cmsTranslate"),r.Yb(),r.Zb(5,"span",31),r.Sc(6),r.Yb(),r.Yb(),r.Yb()}if(2&e){var i=t.$implicit,o=r.jc(4);r.sc("ngClass",r.vc(5,ec,o.selectedCurrency===i)),r.Hb(3),r.Tc(r.lc(4,3,"GLOBAL_LABEL_CURRENCY-"+i.code)),r.Hb(3),r.Tc(i.code)}}function nc(e,t){1&e&&r.Ub(0,"div",32)}function ic(e,t){if(1&e&&(r.Xb(0),r.Zb(1,"div",26),r.Qc(2,tc,7,7,"button",19),r.Yb(),r.Qc(3,nc,1,0,"div",27),r.Wb()),2&e){var n=t.$implicit,i=t.index;r.Hb(2),r.sc("ngForOf",n),r.Hb(1),r.sc("ngIf",0===i)}}function rc(e,t){if(1&e&&(r.Zb(0,"div",24),r.Qc(1,ic,4,2,"ng-container",25),r.Yb()),2&e){var n=r.jc(2);r.Hb(1),r.sc("ngForOf",n.currencies)}}function oc(e,t){if(1&e){var n=r.ac();r.Zb(0,"button",28),r.hc("click",(function(){r.Hc(n);var e=t.$implicit;return r.jc(2).setSelectedLanguage(e)})),r.Zb(1,"div",29),r.Zb(2,"span",30),r.Sc(3),r.kc(4,"cmsTranslate"),r.kc(5,"uppercase"),r.Yb(),r.Ub(6,"img",33),r.kc(7,"cmsStaticImage"),r.Yb(),r.Yb()}if(2&e){var i=t.$implicit,o=r.jc(2);r.sc("ngClass",r.vc(9,ec,o.selectedLanguage===i)),r.Hb(3),r.Tc(r.lc(4,3,r.lc(5,5,"GLOBAL_LABEL_"+i.code))),r.Hb(3),r.sc("src",r.lc(7,7,o.getLocaleImgPath(i)),r.Kc)}}var ac=function(e){return{regex:"%%currency%%",newValue:e}},sc=function(e){return[e]};function cc(e,t){if(1&e&&(r.Zb(0,"div",34),r.Ub(1,"i",35),r.Zb(2,"p",36),r.Sc(3),r.Yb(),r.Zb(4,"p",37),r.Sc(5),r.kc(6,"cmsRegexReplace"),r.kc(7,"cmsTranslate"),r.Yb(),r.Yb()),2&e){var n=r.jc(2);r.Hb(3),r.Wc(" 1 ",n.selectedCurrencyExchangeRate.baseCurrency," = ",n.selectedCurrencyExchangeRate.rate," ",n.selectedCurrency.code," "),r.Hb(2),r.Uc(" ",r.mc(6,4,r.lc(7,7,"HEADER_CURRENCY_SNIPPET_EXCHANGERATE"),r.vc(11,sc,r.vc(9,ac,n.selectedCurrency.code)))," ")}}function lc(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",6),r.Zb(1,"div",7),r.Zb(2,"div",8),r.Zb(3,"div",9),r.Zb(4,"div",10),r.Ub(5,"i",11),r.Zb(6,"h4"),r.Sc(7),r.kc(8,"cmsTranslate"),r.Yb(),r.Yb(),r.Zb(9,"div",12),r.Qc(10,rc,2,1,"div",13),r.Yb(),r.Yb(),r.Zb(11,"div",14),r.Ub(12,"div",15),r.Yb(),r.Zb(13,"div",16),r.Zb(14,"div",10),r.Ub(15,"i",17),r.Zb(16,"h4"),r.Sc(17),r.kc(18,"cmsTranslate"),r.Yb(),r.Yb(),r.Zb(19,"div",18),r.Qc(20,oc,8,11,"button",19),r.Yb(),r.Yb(),r.Yb(),r.Zb(21,"div",20),r.Zb(22,"div",21),r.Zb(23,"button",22),r.hc("click",(function(){return r.Hc(n),r.jc().saveLocaleConfig()})),r.Zb(24,"span"),r.Sc(25),r.kc(26,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Qc(27,cc,8,13,"div",23)}if(2&e){var i=r.jc();r.Hb(7),r.Tc(r.lc(8,6,"GLOBAL_LABEL_CURRENCY")),r.Hb(3),r.sc("ngIf",i.currencies),r.Hb(7),r.Tc(r.lc(18,8,"GLOBAL_LABEL_COUNTRY")),r.Hb(3),r.sc("ngForOf",i.languages),r.Hb(5),r.Tc(r.lc(26,10,"GLOBAL_ACTION_SAVE")),r.Hb(2),r.sc("ngIf",i.showCurrencyConversion&&i.selectedCurrency)}}var uc,dc,hc,fc,pc=((dc=function(){function e(t,n,i,o,a,s,c,l,u,d){_classCallCheck(this,e),this.locale=t,this.currency=n,this.utils=i,this.datalayerUxHome=o,this.platformId=a,this.document=s,this.bookingParams=c,this.router=l,this.route=u,this.basketSvc=d,this.menuClose=new r.p,this.isModal=!0,this.isInBooking=!1,this.languages=[],this.currencies=[],this.showCurrencyConversion=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.populateLanguages(),this.populateCurrencies()}},{key:"setSelectedCurrency",value:function(e){this.selectedCurrency=e}},{key:"setSelectedLanguage",value:function(e){this.selectedLanguage=e}},{key:"emitClose",value:function(){this.menuClose.emit()}},{key:"populateLanguages",value:function(){var e=this;this.locale.getCMSLocales().forEach((function(t){e.languages.push({name:t.name,code:t.code})})),this.setSavedLanguage()}},{key:"populateCurrencies",value:function(){var e=this.currency._currencies;this.currencies=this.utils.simpleArrayToMultidimensionalArray(e,Math.ceil(e.length/2)),this.selectedCurrency=this.currency._selectedCurrency}},{key:"setSavedLanguage",value:function(){var e=this,t=this.locale.getAppLocale();this.languages.forEach((function(n){n.code===t&&(e.selectedLanguage=n)}))}},{key:"saveLocaleConfig",value:function(){var e=this.locale.changeLocaleData(this.selectedLanguage.code),t=this.currency.changeAppCurrency(this.selectedCurrency.code);(t||e)&&Object(mt.L)(this.platformId)&&(e&&sessionStorage.setItem("viva-lang","true"),this.isInBooking&&t?this.updateSearch(e):this.reloadApp(e)),this.datalayerUxHome.saveCurrencyLanguage(),this.menuClose.emit()}},{key:"getLocaleImgPath",value:function(e){return e?"GLOBAL_IMAGE_COUNTRY_"+e.code.toUpperCase():No.b}},{key:"updateSearch",value:function(e){var t=this;this.router.url.includes("book/options")||this.router.url.includes("book/confirmation")?this.reloadApp(e):this.basketSvc._basket?this.bookingParams.getBasketBookingParams(this.basketSvc._basket).then((function(n){if(n){var i=t.bookingParams.createFlightSearchParams(n);t.router.navigate(["book","options"],{relativeTo:t.route,queryParams:Object.assign({},i)}).then((function(){t.reloadApp(e)}))}})):this.router.navigate(["/"],{replaceUrl:!0})}},{key:"reloadApp",value:function(e){e?this.locale.reloadAppWithLocale(this.selectedLanguage.code):this.document.location.reload()}},{key:"selectedCurrencyExchangeRate",get:function(){return this.selectedCurrency.exchangeRates[0]}}]),e}()).\u0275fac=function(e){return new(e||dc)(r.Tb(nn.a),r.Tb(Ho.a),r.Tb(Cn.a),r.Tb(Bo.a),r.Tb(r.G),r.Tb(mt.e),r.Tb(ro.a),r.Tb(Bt.g),r.Tb(Bt.a),r.Tb(hn.a))},dc.\u0275cmp=r.Nb({type:dc,selectors:[["app-locale-currency-modal"]],inputs:{isModal:"isModal",isInBooking:"isInBooking"},outputs:{menuClose:"menuClose"},decls:3,vars:2,consts:[["class","locale-currency-modal modal-container",4,"ngIf","ngIfElse"],["localeContent",""],[1,"locale-currency-modal","modal-container"],[1,"modal-close",3,"click"],[1,"fas","fa-times"],[4,"ngTemplateOutlet"],[1,"section-content"],[1,"container","px-0","first-container"],[1,"row","mb-xl-80","mb-20","locale-content"],[1,"col-xl-8"],[1,"d-flex","flex-row","justify-content-start","align-items-center","section-title"],[1,"fas","fa-dollar-sign","d-none","d-xl-block"],[1,"container","px-0"],["class","mb-20 currency-container",4,"ngIf"],[1,"d-xl-block","d-none","col-1","align-self-stretch","text-center","section-divider","m-0"],[1,"divider"],[1,"col-xl-3"],[1,"fas","fa-language","d-none","d-xl-block"],[1,"section-language"],["class","viva-btn tertiary height-auto section-element",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"row"],[1,"offset-xl-9","col-xl-3","section-save"],[1,"w-100","viva-btn","big","light",3,"click"],["class","modal-footer d-flex flex-row align-items-center",4,"ngIf"],[1,"mb-20","currency-container"],[4,"ngFor","ngForOf"],[1,"currency-section"],["class","section-divider",4,"ngIf"],[1,"viva-btn","tertiary","height-auto","section-element",3,"ngClass","click"],[1,"content"],[1,"text-left","medium-title"],[1,"currency","small-title"],[1,"section-divider"],["width","20px","height","20px","loading","lazy",3,"src"],[1,"modal-footer","d-flex","flex-row","align-items-center"],[1,"fas","fa-info-circle","footer-icon"],[1,"conversion","my-0"],[1,"disclaimer","my-0"]],template:function(e,t){if(1&e&&(r.Qc(0,Js,4,1,"div",0),r.Qc(1,lc,28,12,"ng-template",null,1,r.Rc)),2&e){var n=r.Ec(2);r.sc("ngIf",t.isModal)("ngIfElse",n)}},directives:[mt.u,mt.B,mt.t,mt.r],pipes:[Nn.a,mt.I,si.a,hr.a],styles:['.locale-currency-modal.modal-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:880px;max-height:80vh;background-color:var(--wh1);border-radius:5px;overflow:hidden;overflow-y:auto}@media screen and (max-width:1240px){.locale-currency-modal.modal-container[_ngcontent-%COMP%]{width:100%;max-height:100%}}.section-content[_ngcontent-%COMP%]{padding:80px 70px 40px}.section-content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin-bottom:30px}@media screen and (max-width:1240px){.section-content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin-top:20px;padding-left:20px;margin-bottom:10px}}.section-content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{margin:0;line-height:24px}.section-content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%] > i.fas[_ngcontent-%COMP%]{color:var(--bg4);font-size:20px;margin-right:10px}.section-content[_ngcontent-%COMP%]   .currency-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:stretch;align-content:stretch}.section-content[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]{flex:0 0 210px}.section-content[_ngcontent-%COMP%]   .section-divider[_ngcontent-%COMP%]{margin:0 20px}.section-content[_ngcontent-%COMP%]   .section-divider[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:1px;height:100%;background-color:var(--gr20)}.section-content[_ngcontent-%COMP%]   .section-element[_ngcontent-%COMP%]{position:relative;padding:0;width:100%;overflow:visible}@media screen and (max-width:1240px){.section-content[_ngcontent-%COMP%]   .section-element[_ngcontent-%COMP%]   .text-left[_ngcontent-%COMP%]{font-size:14px;line-height:18px}}@media screen and (max-width:1240px){.section-content[_ngcontent-%COMP%]   .section-element[_ngcontent-%COMP%]{padding:10px 20px 10px 35px}}.section-content[_ngcontent-%COMP%]   .section-element[_ngcontent-%COMP%]:not(:last-child){margin-bottom:20px}@media screen and (max-width:1240px){.section-content[_ngcontent-%COMP%]   .section-element[_ngcontent-%COMP%]:not(:last-child){margin-bottom:0}}.section-content[_ngcontent-%COMP%]   .section-element[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{opacity:.5}@media screen and (max-width:1240px){.section-content[_ngcontent-%COMP%]   .section-element[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{color:var(--bg6)}}@media screen and (max-width:1240px){.section-content[_ngcontent-%COMP%]   .section-element.active[_ngcontent-%COMP%]{background-color:var(--wh2);border-radius:0}}.section-content[_ngcontent-%COMP%]   .section-element.active[_ngcontent-%COMP%]:before{position:absolute;top:6px;left:-16px;content:"";width:6px;height:6px;border-radius:50%;background-color:var(--r4)}@media screen and (max-width:1240px){.section-content[_ngcontent-%COMP%]   .section-element.active[_ngcontent-%COMP%]:before{left:20px;top:0;bottom:0;margin:auto}}.section-content[_ngcontent-%COMP%]   .section-element.active[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{font-weight:800;color:var(--r4)}@media screen and (max-width:1240px){.section-content[_ngcontent-%COMP%]   .currency-container[_ngcontent-%COMP%]{flex-direction:column}.section-content[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]{flex:0 0 auto;padding:0}.section-content[_ngcontent-%COMP%]   .section-divider[_ngcontent-%COMP%]{margin:0 30px;display:none}.section-content[_ngcontent-%COMP%]   .section-divider[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin-top:20px;width:0}.section-content[_ngcontent-%COMP%]   .section-language[_ngcontent-%COMP%]{padding:0;margin-bottom:20px}.section-content[_ngcontent-%COMP%]   .section-save[_ngcontent-%COMP%]{padding:0 30px}.section-content[_ngcontent-%COMP%]   .section-save[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:20px}}.save-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bg4)}.save-button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--wh1)}.close-button[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:20px;right:20px}.modal-close[_ngcontent-%COMP%]{background-color:transparent}.modal-close[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--gr40)}.modal-close[_ngcontent-%COMP%]:hover{background-color:var(--gr20)}.modal-close[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bl9)}.modal-footer[_ngcontent-%COMP%]{width:100%;height:50px;background-color:var(--gr15);padding:0 50px}.modal-footer[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:var(--bg6)}.modal-footer[_ngcontent-%COMP%]   .footer-icon[_ngcontent-%COMP%]{font-size:18px;margin-right:12px}.modal-footer[_ngcontent-%COMP%]   .conversion[_ngcontent-%COMP%]{font-family:Axiforma,Arial;font-size:16px;font-weight:700;margin-right:35px}.modal-footer[_ngcontent-%COMP%]   .disclaimer[_ngcontent-%COMP%]{font-size:16px}@media screen and (max-width:1240px){.modal-footer[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:16px;margin-bottom:20px;border-radius:5px}.modal-footer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px}.modal-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-word}}@media screen and (max-width:1240px){.section-content[_ngcontent-%COMP%]{padding:0;height:100%}.section-content[_ngcontent-%COMP%]   .first-container[_ngcontent-%COMP%]{height:100%}.section-content[_ngcontent-%COMP%]   .first-container[_ngcontent-%COMP%]   .locale-content[_ngcontent-%COMP%]{align-content:baseline;height:calc(100% - 80px);overflow:auto;margin-bottom:0!important}}']}),dc),gc=((uc=function(){function e(){_classCallCheck(this,e),this.goBack=new r.p}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onGoBack",value:function(){this.goBack.emit()}}]),e}()).\u0275fac=function(e){return new(e||uc)},uc.\u0275cmp=r.Nb({type:uc,selectors:[["app-responsive-locale"]],outputs:{goBack:"goBack"},decls:5,vars:4,consts:[[1,"content"],[3,"title","goBack"],[1,"flex","flex-column","content-locale"],[1,"currency-container",3,"isModal"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"app-responsive-content-header",1),r.hc("goBack",(function(){return t.onGoBack()})),r.kc(2,"cmsTranslate"),r.Yb(),r.Zb(3,"div",2),r.Ub(4,"app-locale-currency-modal",3),r.Yb(),r.Yb()),2&e&&(r.Hb(1),r.sc("title",r.lc(2,2,"PROFILE_LABEL_SELECT-LANGUAGE-CURRENCY")),r.Hb(3),r.sc("isModal",!1))},directives:[Pa,pc],pipes:[Nn.a],styles:[".content[_ngcontent-%COMP%]{height:100%}.content-locale[_ngcontent-%COMP%]{background-color:var(--wh1);height:100%}@media screen and (max-width:1024px){.content-locale[_ngcontent-%COMP%]{height:calc(100% - 60px);overflow-y:auto;overflow-x:hidden}.content-locale[_ngcontent-%COMP%]   .currency-container[_ngcontent-%COMP%]{height:100%}}"]}),uc),vc=n("XNiG"),mc=n("eIep"),bc=n("JIr8"),yc=n("t487"),_c=n("deb4"),Cc=n("5KMX"),kc=n("lJxs"),Sc=((fc=function(){function e(t){_classCallCheck(this,e),this.http=t}return _createClass(e,[{key:"getResultsWhileTyping",value:function(e){var t=this;return e.pipe(Object(Go.a)(300),Object(mc.a)((function(e){return Object(mi.a)(t.getResults(e))})))}},{key:"getResults",value:function(e){var t=l.g.POPULAR_SEARCHES_URL;return e&&e.length>0&&(t=l.g.SEARCHES_URL),this.http.get(t).pipe(Object(kc.a)((function(t){return!e||e.length<1?t:t.filter((function(t){return t.toLowerCase().includes(e.toLocaleLowerCase())}))})),Object(bc.a)((function(e){return Object(vi.a)(e)})))}},{key:"listToMultidimensionalArray",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=[],r=[],o=_createForOfIteratorHelper(e.entries());try{for(o.s();!(t=o.n()).done;){var a=_slicedToArray(t.value,2),s=a[0],c=a[1];r.length<n&&s!==e.length-1?r.push(c):(r.length===n&&(i.push(r),r=[]),r.push(c),s===e.length-1&&i.push(r))}}catch(l){o.e(l)}finally{o.f()}return i}}]),e}()).\u0275fac=function(e){return new(e||fc)(r.dc(d.b))},fc.\u0275prov=r.Pb({token:fc,factory:fc.\u0275fac,providedIn:"root"}),fc),Oc=((hc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){if(!(t=t.trim()))return e;var n=new RegExp(t,"i");return e.replace(n,'<span class="search-highlight">$&</span>')}}]),e}()).\u0275fac=function(e){return new(e||hc)},hc.\u0275pipe=r.Sb({name:"searchHighlight",type:hc,pure:!0}),hc);function Tc(e,t){if(1&e){var n=r.ac();r.Zb(0,"li"),r.Zb(1,"button",8),r.hc("click",(function(){r.Hc(n);var e=t.$implicit;return r.jc(2).onResultSelect(e)})),r.Ub(2,"p",9),r.kc(3,"searchHighlight"),r.Ub(4,"i",10),r.Yb(),r.Yb()}if(2&e){var i=t.$implicit,o=r.jc(2);r.Hb(2),r.sc("innerHTML",o.requiresHighlight?r.mc(3,1,i,o.query):i,r.Ic)}}var wc=function(e){return{"not-first":e}};function Ac(e,t){if(1&e&&(r.Xb(0),r.Zb(1,"ul",6),r.Qc(2,Tc,5,4,"li",5),r.Yb(),r.Ub(3,"div",7),r.Wb()),2&e){var n=t.$implicit,i=t.index;r.Hb(1),r.sc("ngClass",r.vc(2,wc,0!==i)),r.Hb(1),r.sc("ngForOf",n)}}var Ec,Pc=((Ec=function(){function e(t){_classCallCheck(this,e),this.service=t,this.itemsByCol=3,this.requiresHighlight=!1,this.selectedResult=new r.p,this.items=[]}return _createClass(e,[{key:"ngOnChanges",value:function(){return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.items=_toConsumableArray2(this.service.listToMultidimensionalArray(this.results,this.itemsByCol));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"onResultSelect",value:function(e){this.selectedResult.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||Ec)(r.Tb(Sc))},Ec.\u0275cmp=r.Nb({type:Ec,selectors:[["app-search-results-list"]],inputs:{itemsByCol:"itemsByCol",requiresHighlight:"requiresHighlight",title:"title",query:"query",results:"results"},outputs:{selectedResult:"selectedResult"},features:[r.Fb],decls:9,vars:4,consts:[[1,"container"],[1,"row","bottom-margin"],[1,"col-xl-12","mb-0","mb-lg-0","px-20","px-lg-10","pt-20","pt-xl-0"],[1,"title"],[1,"results"],[4,"ngFor","ngForOf"],[1,"col-xl-2","mt-0","mt-md-10","mb-0","mb-xl-10","px-20","px-lg-10",3,"ngClass"],[1,"col-xl-1"],[1,"viva-btn","small","height-auto","p-a-0",3,"click"],[3,"innerHTML"],[1,"fas","fa-arrow-right"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Zb(2,"div",2),r.Zb(3,"span",3),r.Sc(4),r.kc(5,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Zb(6,"div",1),r.Zb(7,"section",4),r.Qc(8,Ac,4,4,"ng-container",5),r.Yb(),r.Yb(),r.Yb()),2&e&&(r.Hb(4),r.Uc(" ",r.lc(5,2,"GLOBAL_LABEL_POPULARSEARCHES")," "),r.Hb(4),r.sc("ngForOf",t.items))},directives:[mt.t,mt.r],pipes:[Nn.a,Oc],styles:[".results[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%;max-height:300px;overflow:hidden;overflow-y:auto}.results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}@media screen and (max-width:1240px){.results[_ngcontent-%COMP%]   ul.not-first[_ngcontent-%COMP%]{border-top:1px solid var(--gr20);margin-top:0!important}}.results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;padding:10px 0;border-bottom:1px solid var(--gr20)}.results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border:none}.results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;margin:0;padding:0;color:rgba(25,25,25,.5)}.results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:var(--lg4)}@media screen and (max-width:991px){.container[_ngcontent-%COMP%]{padding:0 10px}}"]}),Ec);function Mc(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",13),r.Zb(1,"app-search-results-list",14),r.hc("selectedResult",(function(e){return r.Hc(n),r.jc().selectedResult(e)})),r.Yb(),r.Yb()}if(2&e){var i=r.jc();r.Hb(1),r.sc("title",i.title)("results",i.results)("query",i.form.get("search").value)("requiresHighlight",!0)}}var xc,Dc,Ic=((Dc=function(){function e(t,n,i,o,a,s,c,l){_classCallCheck(this,e),this.fb=t,this.cludoService=n,this.localService=i,this.router=o,this.responsiveSidebarSvc=a,this.datalayerHome=s,this.sanitizer=c,this.document=l,this.popularSearches=!0,this.title="",this.search=new vc.a,this.getResultsSubscription=sn.a.EMPTY,this.results=[],this.goBack=new r.p}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.initialize(),this.form=this.generateForm(),this.getResults(),this.form.get("search").valueChanges.subscribe((function(t){return e.searching(t)}))}},{key:"ngOnDestroy",value:function(){this.getResultsSubscription.unsubscribe()}},{key:"initialize",value:function(){return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.popularSearches?this.title="B\xfasquedas Populares":(this.title="",this.results=[]);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"generateForm",value:function(){return this.fb.group({search:["",[Rn.I.required,Rn.I.minLength(1)]]})}},{key:"getResults",value:function(){var e=this,t=this.localService.getAppLocale();this.getResultsSubscription=this.search.pipe(Object(Go.a)(300),Object(mc.a)((function(n){return(null==n?void 0:n.trim().length)>0?Object(mi.a)(e.cludoService.getAutocompleteArray(n,t)).pipe(Object(bc.a)((function(e){return Object(vi.a)([])}))):Object(vi.a)([])}))).subscribe((function(t){e.results=t}))}},{key:"searching",value:function(e){0!==e.length&&(this.document.getElementById("delete-text").style.display="block"),this.results=[],this.title="Sugerencias",this.search.next(e),e.length<1&&this.initialize()}},{key:"deleteText",value:function(){this.form.setValue({search:""}),this.document.getElementById("delete-text").style.display="none",this.results=[]}},{key:"submit",value:function(){var e;return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.form.valid){t.next=7;break}return n=null===(e=this.form.get("search").value)||void 0===e?void 0:e.trim(),t.next=4,this.redirectOnQuicklink(n);case 4:if(!t.sent){t.next=6;break}return t.abrupt("return");case 6:this.goToSearchResults(n),this.onClose();case 7:case"end":return t.stop()}}),t,this)})))}},{key:"goToSearchResults",value:function(e){this.router.navigate(["/search"],{queryParams:{searchValue:null==e?void 0:e.trim()}})}},{key:"selectedResult",value:function(e){this.goToSearchResults(e)}},{key:"onGoBack",value:function(){this.goBack.emit()}},{key:"onClose",value:function(){this.goBack.emit(),this.responsiveSidebarSvc.closeModal()}},{key:"searchEvent",value:function(){this.datalayerHome.siteSearch(this.form.value.search)}},{key:"redirectOnQuicklink",value:function(e){return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cludoService.getQuickLinkFromQuery(e);case 2:if(!(n=t.sent)){t.next=6;break}return i=this.sanitizer.sanitize(r.M.URL,n.url),t.abrupt("return",(this.document.location.href=i,!0));case 6:return t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Dc)(r.Tb(Rn.h),r.Tb(yc.a),r.Tb(nn.a),r.Tb(Bt.g),r.Tb(Vo.a),r.Tb(_c.a),r.Tb(Cc.d),r.Tb(mt.e))},Dc.\u0275cmp=r.Nb({type:Dc,selectors:[["app-site-search"]],inputs:{popularSearches:"popularSearches"},outputs:{goBack:"goBack"},decls:15,vars:6,consts:[[1,"site-search__top-container","py-xs-0","px-20","px-lg-20"],[1,"container","px-0","px-lg-10","pb-1","pb-lg-0"],[1,"row","mb-20"],[1,"col-xl-12"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"site-search__input"],["formControlName","search","pattern",".*\\S+.*","name","search","type","search",1,"h3",3,"placeholder"],["id","delete-text",1,"viva-btn","site-search__delete-btn",3,"click"],[1,"fas","fa-times"],["type","submit",1,"viva-btn","icon","site-search__submit-btn",3,"disabled","click"],[1,"content"],[1,"fas","fa-search"],["class","site-search__bottom-container",4,"ngIf"],[1,"site-search__bottom-container"],[3,"title","results","query","requiresHighlight","selectedResult"]],template:function(e,t){1&e&&(r.Zb(0,"div"),r.Zb(1,"div",0),r.Zb(2,"div",1),r.Zb(3,"div",2),r.Zb(4,"div",3),r.Zb(5,"form",4),r.hc("ngSubmit",(function(){return t.submit()})),r.Zb(6,"div",5),r.Ub(7,"input",6),r.kc(8,"cmsTranslate"),r.Zb(9,"a",7),r.hc("click",(function(){return t.deleteText()})),r.Ub(10,"i",8),r.Yb(),r.Zb(11,"button",9),r.hc("click",(function(){return t.searchEvent()})),r.Zb(12,"div",10),r.Ub(13,"i",11),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Qc(14,Mc,2,4,"div",12),r.Yb()),2&e&&(r.Hb(5),r.sc("formGroup",t.form),r.Hb(2),r.tc("placeholder",r.lc(8,4,"GLOBAL_LABEL_SEARCH-PLACEHOLDER")),r.Hb(4),r.sc("disabled",t.form.invalid),r.Hb(3),r.sc("ngIf",t.results.length>0))},directives:[Rn.K,Rn.v,Rn.m,Rn.d,Rn.u,Rn.k,Rn.B,mt.u,Pc],pipes:[Nn.a],styles:[".site-search__top-container[_ngcontent-%COMP%]{padding-top:30px;padding-bottom:20px}.site-search__bottom-container[_ngcontent-%COMP%]{padding-top:36px;padding-bottom:24px;background-color:var(--wh2)}@media screen and (max-width:1240px){.site-search__bottom-container[_ngcontent-%COMP%]{padding:0 20px}}@media screen and (max-width:991px){.site-search__bottom-container[_ngcontent-%COMP%]{padding:0}}.site-search__input[_ngcontent-%COMP%]{position:relative}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{caret-color:var(--vg4);height:56px;width:100%;border:rgba(0,40,19,.44);border-bottom:1px solid rgba(0,40,19,.44);padding-bottom:12px;margin-bottom:0;background-color:transparent}@media screen and (max-width:1240px){.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:80px}}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--gr40);opacity:1}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--gr40);opacity:1}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--gr40);opacity:1}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-moz-placeholder{opacity:0}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-ms-input-placeholder{opacity:0}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::placeholder{opacity:0}.site-search__submit-btn[_ngcontent-%COMP%]{position:absolute;width:60px;height:60px;bottom:10px;right:0}.site-search__submit-btn[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:20px;color:var(--wh1)}@media screen and (max-width:1240px){.site-search__submit-btn[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:16px}}.site-search__submit-btn[_ngcontent-%COMP%]:disabled{background-color:rgba(var(--bl9-rgb),.39)}.site-search__delete-btn[_ngcontent-%COMP%]{position:absolute;width:60px;height:60px;bottom:-7px;right:25px;display:none;background-color:transparent}.site-search__delete-btn[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--gr40);font-size:16px}@media screen and (min-width:1024px){.site-search__delete-btn[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:20px}}@media screen and (min-width:1024px){.site-search__delete-btn[_ngcontent-%COMP%]{right:60px}}@media screen and (max-width:1240px){.site-search__input[_ngcontent-%COMP%]{display:flex;align-items:center}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px!important;padding-bottom:0;border-radius:0;-webkit-appearance:none;-moz-appearance:none}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--bg4)}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--bg4)}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--bg4)}.site-search__submit-btn[_ngcontent-%COMP%]{width:34px!important;height:34px!important;right:0;bottom:24px;padding:0}}"]}),Dc),Lc=((xc=function(){function e(){_classCallCheck(this,e),this.goBack=new r.p}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onGoBack",value:function(){this.goBack.emit()}}]),e}()).\u0275fac=function(e){return new(e||xc)},xc.\u0275cmp=r.Nb({type:xc,selectors:[["app-responsive-search"]],outputs:{goBack:"goBack"},decls:5,vars:3,consts:[[3,"title","goBack"],[3,"goBack"]],template:function(e,t){1&e&&(r.Zb(0,"div"),r.Zb(1,"app-responsive-content-header",0),r.hc("goBack",(function(){return t.onGoBack()})),r.kc(2,"cmsTranslate"),r.Yb(),r.Zb(3,"div"),r.Zb(4,"app-site-search",1),r.hc("goBack",(function(){return t.onGoBack()})),r.Yb(),r.Yb(),r.Yb()),2&e&&(r.Hb(1),r.sc("title",r.lc(2,1,"HEADER_SEARCH_TITLE")))},directives:[Pa,Ic],pipes:[Nn.a],styles:[""]}),xc);function Rc(e,t){if(1&e){var n=r.ac();r.Zb(0,"a",7),r.hc("click",(function(){return r.Hc(n),r.jc().openMenu()})),r.Ub(1,"i",8),r.Yb()}}function Nc(e,t){if(1&e){var n=r.ac();r.Zb(0,"a",9),r.hc("click",(function(){return r.Hc(n),r.jc().closeMenu()})),r.Ub(1,"i",10),r.Yb()}}function jc(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-responsive-main-header",11),r.hc("menuOptionClick",(function(e){return r.Hc(n),r.jc().onOptionClicked(e)})),r.Yb()}if(2&e){var i=r.jc();r.sc("showMobileHeader",!i.isMobileXs)}}function Bc(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-responsive-flight-check",12),r.hc("goBack",(function(){return r.Hc(n),r.jc().onGoBack()})),r.Yb()}}function Fc(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-responsive-planning",12),r.hc("goBack",(function(){return r.Hc(n),r.jc().onGoBack()})),r.Yb()}}function Hc(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-responsive-flight-status",13),r.hc("goBack",(function(){return r.Hc(n),r.jc().onGoBack()}))("closeMenu",(function(){return r.Hc(n),r.jc().closeMenu()})),r.Yb()}}function Uc(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-responsive-locale",12),r.hc("goBack",(function(){return r.Hc(n),r.jc().onGoBack()})),r.Yb()}}function Yc(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-responsive-search",12),r.hc("goBack",(function(){return r.Hc(n),r.jc().onGoBack()})),r.Yb()}}var Gc,Vc,Zc=((Gc=function(){function e(t){_classCallCheck(this,e),this.responsiveHeaderSvc=t,this.selectedMenuId=null,this.menuIds=Ro.a,this.responsiveModalSubscription=sn.a.EMPTY,this.isMobileXs=!1,this.isAndroidBannerShown=!1}return _createClass(e,[{key:"onResize",value:function(e){this.isMobileXs=e.target.innerWidth<=576}},{key:"ngOnInit",value:function(){var e=this;window.innerWidth<=576&&(this.isMobileXs=!0),this.responsiveModalSubscription=this.responsiveHeaderSvc.showModal$.subscribe((function(t){return e.menuIsOpen=t}))}},{key:"ngOnDestroy",value:function(){this.responsiveModalSubscription.unsubscribe()}},{key:"openMenu",value:function(){this.responsiveHeaderSvc.openModal()}},{key:"closeMenu",value:function(){this.responsiveHeaderSvc.closeModal()}},{key:"onOptionClicked",value:function(e){this.selectedMenuId=e}},{key:"onGoBack",value:function(){this.selectedMenuId=null}}]),e}()).\u0275fac=function(e){return new(e||Gc)(r.Tb(Vo.a))},Gc.\u0275cmp=r.Nb({type:Gc,selectors:[["app-responsive-header-menu"]],hostBindings:function(e,t){1&e&&r.hc("resize",(function(e){return t.onResize(e)}),!1,r.Gc)},inputs:{isAndroidBannerShown:"isAndroidBannerShown"},decls:11,vars:10,consts:[[1,"nav-icon-container"],["class","icon-link",3,"click",4,"ngIf"],["class","icon-link close-btn-icon",3,"click",4,"ngIf"],[3,"omitHeader","isAndroidBannerShown"],[3,"showMobileHeader","menuOptionClick",4,"ngIf"],[3,"goBack",4,"ngIf"],[3,"goBack","closeMenu",4,"ngIf"],[1,"icon-link",3,"click"],[1,"fas","fa-bars"],[1,"icon-link","close-btn-icon",3,"click"],[1,"fas","fa-times"],[3,"showMobileHeader","menuOptionClick"],[3,"goBack"],[3,"goBack","closeMenu"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Qc(1,Rc,2,0,"a",1),r.Qc(2,Nc,2,0,"a",2),r.Zb(3,"div"),r.Zb(4,"app-responsive-sidebar",3),r.Qc(5,jc,1,1,"app-responsive-main-header",4),r.Qc(6,Bc,1,0,"app-responsive-flight-check",5),r.Qc(7,Fc,1,0,"app-responsive-planning",5),r.Qc(8,Hc,1,0,"app-responsive-flight-status",6),r.Qc(9,Uc,1,0,"app-responsive-locale",5),r.Qc(10,Yc,1,0,"app-responsive-search",5),r.Yb(),r.Yb(),r.Yb()),2&e&&(r.Hb(1),r.sc("ngIf",!t.menuIsOpen),r.Hb(1),r.sc("ngIf",t.menuIsOpen),r.Hb(2),r.sc("omitHeader",!(t.selectedMenuId||!t.selectedMenuId&&!t.isMobileXs))("isAndroidBannerShown",t.isAndroidBannerShown),r.Hb(1),r.sc("ngIf",!t.selectedMenuId),r.Hb(1),r.sc("ngIf",t.selectedMenuId===t.menuIds.RESERVATION),r.Hb(1),r.sc("ngIf",t.selectedMenuId===t.menuIds.PLANNING),r.Hb(1),r.sc("ngIf",t.selectedMenuId===t.menuIds.FLISTATUS),r.Hb(1),r.sc("ngIf",t.selectedMenuId===t.menuIds.LOCALE),r.Hb(1),r.sc("ngIf",t.selectedMenuId===t.menuIds.SEARCH))},directives:[mt.u,Oa,za,ss,Cs,qs,gc,Lc],styles:[".icon-link[_ngcontent-%COMP%]   .fas.fa-bars[_ngcontent-%COMP%]{font-size:18px;color:var(--bg4)}@media screen and (max-width:1024px){.nav-icon-container[_ngcontent-%COMP%]{width:16px;display:flex;justify-content:center;align-items:center}.nav-icon-container[_ngcontent-%COMP%]   .close-btn-icon[_ngcontent-%COMP%]{font-size:20px}}"]}),Gc),Wc=function(){return["/"]},Kc=((Vc=function(){function e(){_classCallCheck(this,e),this.menuId=Ro.a.INACTIVE,this.menuIsOpen=!1,this.logoImgSrc=No.b,this.isAndroidBannerShown=!1,this.menuOptionClick=new r.p,this.menuIds=Ro.a}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"toggleMenu",value:function(e){this.menuOptionClick.emit(e)}},{key:"isActiveButton",value:function(e){return this.menuIsOpen&&this.menuId===e}}]),e}()).\u0275fac=function(e){return new(e||Vc)},Vc.\u0275cmp=r.Nb({type:Vc,selectors:[["app-responsive-header"]],inputs:{menuId:"menuId",menuIsOpen:"menuIsOpen",logoImgSrc:"logoImgSrc",isAndroidBannerShown:"isAndroidBannerShown"},outputs:{menuOptionClick:"menuOptionClick"},decls:9,vars:4,consts:[[1,"header-container","d-flex","flex-row","justify-content-between","align-items-center","w-100"],[1,"d-flex","flex-row","flex-fill"],[1,"header-logo",3,"routerLink"],["alt","VivaAerobus",3,"src"],[1,"d-flex","flex-row","justify-content-end","align-items-center","right-section"],[1,"header-separator"],[3,"isAndroidBannerShown"],[1,"ml-2"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Zb(2,"a",2),r.Ub(3,"img",3),r.Yb(),r.Yb(),r.Zb(4,"div",4),r.Ub(5,"app-header-login"),r.Ub(6,"div",5),r.Ub(7,"app-responsive-header-menu",6),r.Ub(8,"div",7),r.Yb(),r.Yb()),2&e&&(r.Hb(2),r.sc("routerLink",r.uc(3,Wc)),r.Hb(1),r.sc("src",t.logoImgSrc,r.Kc),r.Hb(4),r.sc("isAndroidBannerShown",t.isAndroidBannerShown))},directives:[Bt.j,oa,Zc],styles:[".header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;max-width:113px;height:auto}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:60px;height:100%}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]{height:33px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:not(:last-child){margin-right:23px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:focus   span[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]{text-decoration:none;margin-left:23px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:var(--bg4);font-size:16px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]{height:33px;padding:0;overflow:visible}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,Arial;font-size:16px;font-weight:500;line-height:21px;color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{margin-right:9px;font-size:20px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:0}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0 20px;width:1px;height:19px;background-color:var(--gr20)}.edit-button[_ngcontent-%COMP%]{overflow:visible;position:relative}.edit-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;bottom:6px;left:-12.5%;width:125%;height:3px;border-radius:1.5px;margin:0;background-color:var(--vg4);opacity:0}.edit-button.active-btn[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .edit-button[_ngcontent-%COMP%]:hover   .line[_ngcontent-%COMP%]{opacity:1}"]}),Vc),zc=n("d/Sv"),Qc=n("b3gp"),Xc=n("RJ73"),qc=n("TUgU"),$c=n("rRMn");function Jc(e,t){1&e&&r.Ub(0,"i",15)}function el(e,t){1&e&&r.Ub(0,"i",16)}function tl(e,t){if(1&e&&(r.Zb(0,"div",9),r.Zb(1,"span",10),r.Sc(2),r.Yb(),r.Zb(3,"div",11),r.Qc(4,Jc,1,0,"i",12),r.Qc(5,el,1,0,"i",13),r.Yb(),r.Zb(6,"span",14),r.Sc(7),r.Yb(),r.Yb()),2&e){var n=r.jc();r.Hb(2),r.Uc(" ",null==n.queryParamsModel?null:n.queryParamsModel.itineraryCode[0].origin.code," "),r.Hb(1),r.sc("ngSwitch",n.queryParamsModel.itineraryCode[0].origin.type||n.stationType.AIRPORT),r.Hb(1),r.sc("ngSwitchCase",n.stationType.AIRPORT),r.Hb(1),r.sc("ngSwitchCase",n.stationType.BUS_STATION),r.Hb(2),r.Uc(" ",null==n.queryParamsModel?null:n.queryParamsModel.itineraryCode[0].destination.code," ")}}function nl(e,t){1&e&&(r.Xb(0),r.Sc(1),r.kc(2,"cmsTranslate"),r.Wb()),2&e&&(r.Hb(1),r.Uc(" ",r.lc(2,1,"GLOBAL_LABEL_ONEWAY-TRIP")," "))}function il(e,t){1&e&&(r.Xb(0),r.Sc(1),r.kc(2,"cmsTranslate"),r.Wb()),2&e&&(r.Hb(1),r.Uc(" ",r.lc(2,1,"GLOBAL_LABEL_ROUND-TRIP")," "))}function rl(e,t){1&e&&(r.Xb(0),r.Sc(1),r.kc(2,"cmsTranslate"),r.Wb()),2&e&&(r.Hb(1),r.Uc(" ",r.lc(2,1,"GLOBAL_LABEL_MULTICITY-TRIP")," "))}var ol=function(e){return{"active-btn":e}};function al(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",17),r.Zb(1,"button",18),r.hc("click",(function(){r.Hc(n);var e=r.jc();return e.toggleMenu(e.menuIds.EDIT_SEARCH)})),r.Zb(2,"span"),r.Sc(3),r.kc(4,"cmsTranslate"),r.Yb(),r.Ub(5,"div",19),r.Yb(),r.Zb(6,"span",20),r.Sc(7),r.kc(8,"i18nPlural"),r.kc(9,"i18nPlural"),r.kc(10,"i18nPlural"),r.Yb(),r.Zb(11,"span",20),r.Sc(12),r.Yb(),r.Zb(13,"span",21),r.Qc(14,nl,3,3,"ng-container",22),r.Qc(15,il,3,3,"ng-container",22),r.Qc(16,rl,3,3,"ng-container",22),r.Yb(),r.Yb()}if(2&e){var i=r.jc();r.Hb(1),r.sc("ngClass",r.vc(22,ol,i.isActiveButton(i.menuIds.EDIT_SEARCH))),r.Hb(2),r.Tc(r.lc(4,11,"GLOBAL_ACTION_EDIT")),r.Hb(4),r.Xc(" ",r.mc(8,13,i.queryParamsModel.passengers.adults,i.passengersLabels[i.passengerType.ADULTS])," ",i.queryParamsModel.passengers.adults&&i.queryParamsModel.passengers.kids?", ":""," ",r.mc(9,16,i.queryParamsModel.passengers.kids,i.passengersLabels[i.passengerType.KIDS])," ",r.mc(10,19,i.queryParamsModel.passengers.babies,i.passengersLabels[i.passengerType.BABIES])," "),r.Hb(5),r.Uc(" ",i.queryParamDates," "),r.Hb(1),r.sc("ngSwitch",i.queryParamsModel.travelType),r.Hb(1),r.sc("ngSwitchCase",i.travelTypeId.ONE_WAY),r.Hb(1),r.sc("ngSwitchCase",i.travelTypeId.ROUND_TRIP),r.Hb(1),r.sc("ngSwitchCase",i.travelTypeId.MULTI_CITY)}}var sl,cl=function(){return["/"]},ll=function(e){return{"pe-none":e}},ul=((sl=function(){function e(t,n,i,o){var a;_classCallCheck(this,e),this.txHeaderSvc=t,this.cmsTranslate=n,this.datalayerUxBooking=i,this.srcChannel=o,this.menuId=Ro.a.INACTIVE,this.menuIsOpen=!1,this.logoImgSrc=No.b,this.menuOptionClick=new r.p,this.menuIds=Ro.a,this.queryParamsSubscription=sn.a.EMPTY,this.travelTypeId=zc.a,this.stationType=Xc.i,this.passengersLabels=(_defineProperty2(a={},Qc.b.ADULTS,{"=0":"","=1":"1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULT-COUNT"),other:"# "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULTS-COUNT")}),_defineProperty2(a,Qc.b.KIDS,{"=0":"","=1":"1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILD-COUNT"),other:"# "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILDREN-COUNT")}),_defineProperty2(a,Qc.b.BABIES,{"=0":"","=1":", 1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANT-COUNT"),other:", # "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANTS-COUNT")}),a),this.passengerType=Qc.b}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.queryParamsSubscription=this.txHeaderSvc._availabilityQueryParams$.subscribe((function(t){e.queryParamsModel=null==t?void 0:t.availabilityQueryParams}))}},{key:"ngOnDestroy",value:function(){this.queryParamsSubscription.closed||this.queryParamsSubscription.unsubscribe()}},{key:"toggleMenu",value:function(e){this.datalayerUxBooking.clickEditFlightOptions(),this.menuOptionClick.emit(e)}},{key:"isActiveButton",value:function(e){return this.menuIsOpen&&this.menuId===e}},{key:"queryParamDates",get:function(){var e=this;if(this.queryParamsModel&&this.queryParamsModel.itineraryCode&&this.queryParamsModel.itineraryCode.length){var t="";return this.queryParamsModel.itineraryCode.forEach((function(n,i){var r;r="string"==typeof n.date?Hn(n.date):n.date,t+=r.format("D MMM"),i<e.queryParamsModel.itineraryCode.length-1&&(t+=" - ")})),t}return""}}]),e}()).\u0275fac=function(e){return new(e||sl)(r.Tb(jo.a),r.Tb(qc.a),r.Tb($c.a),r.Tb(ko.b))},sl.\u0275cmp=r.Nb({type:sl,selectors:[["app-booking-header"]],inputs:{menuId:"menuId",menuIsOpen:"menuIsOpen",logoImgSrc:"logoImgSrc"},outputs:{menuOptionClick:"menuOptionClick"},decls:14,vars:11,consts:[[1,"header-container","d-flex","flex-md-row","flex-column","justify-content-between","align-items-center","w-100"],[1,"d-flex","flex-row","justify-content-start","align-items-center","left-section"],[1,"alt-header-logo",3,"routerLink","ngClass"],["loading","lazy",3,"src"],["class","d-flex flex-row align-items-center",4,"ngIf"],[1,"d-flex","flex-row","justify-content-end","align-items-center","right-section"],["class","d-flex flex-row-reverse align-items-center",4,"ngIf"],[1,"header-separator"],[3,"active","click"],[1,"d-flex","flex-row","align-items-center"],[1,"h4","mr-20"],[1,"h4",3,"ngSwitch"],["class","fas fa-plane",4,"ngSwitchCase"],["class","fas fa-bus",4,"ngSwitchCase"],[1,"h4","ml-20"],[1,"fas","fa-plane"],[1,"fas","fa-bus"],[1,"d-flex","flex-row-reverse","align-items-center"],[1,"viva-btn","btn-link","edit-button","ml-20",3,"ngClass","click"],[1,"line","line-hidden"],[1,"small-title","opacity-5","ml-20"],[1,"small-title","opacity-5",3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Zb(2,"a",2),r.kc(3,"async"),r.Ub(4,"img",3),r.Yb(),r.Qc(5,tl,8,5,"div",4),r.Yb(),r.Zb(6,"div",5),r.Qc(7,al,17,24,"div",6),r.Ub(8,"div",7),r.Zb(9,"app-curloc-button",8),r.hc("click",(function(){return t.toggleMenu(t.menuIds.LOCALE)})),r.Yb(),r.Ub(10,"div",7),r.Ub(11,"app-header-login"),r.Ub(12,"div",7),r.Ub(13,"app-basket-button"),r.Yb(),r.Yb()),2&e&&(r.Hb(2),r.sc("routerLink",r.uc(8,cl))("ngClass",r.vc(9,ll,r.lc(3,6,t.srcChannel.isAppChannel$))),r.Hb(2),r.sc("src",t.logoImgSrc,r.Kc),r.Hb(1),r.sc("ngIf",(null==t.queryParamsModel?null:t.queryParamsModel.itineraryCode)&&(null==t.queryParamsModel?null:t.queryParamsModel.itineraryCode.length)),r.Hb(2),r.sc("ngIf",t.queryParamsModel),r.Hb(2),r.sc("active",t.isActiveButton(t.menuIds.LOCALE)))},directives:[Bt.j,mt.r,mt.u,Yo,oa,ua,mt.y,mt.z],pipes:[mt.b,Nn.a,mt.j],styles:[".header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:auto;height:30px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:auto;height:30px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]{height:33px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .viva-badge[_ngcontent-%COMP%]{cursor:pointer;height:21px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .viva-badge[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-size:10px;font-weight:500;line-height:1.5}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:not(:last-child){margin-right:23px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:focus   span[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]{text-decoration:none;margin-left:23px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:var(--bg4);font-size:16px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]{height:33px;padding:0;overflow:visible}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,Arial;font-size:14px;font-weight:500;line-height:21px;color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{margin-right:9px;font-size:20px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:0}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0 20px;width:1px;height:19px;background-color:var(--gr20)}@media screen and (max-width:575px){.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0 15px}}.edit-button[_ngcontent-%COMP%]{overflow:visible;position:relative}.edit-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;bottom:6px;left:-12.5%;width:125%;height:3px;border-radius:1.5px;margin:0;background-color:var(--vg4);opacity:0}.edit-button.active-btn[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .edit-button[_ngcontent-%COMP%]:hover   .line[_ngcontent-%COMP%]{opacity:1}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{justify-content:space-between!important}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   a.alt-header-logo[_ngcontent-%COMP%]{margin-right:0}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   a.alt-header-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:69px;height:auto}.header-container[_ngcontent-%COMP%]   .left-section.logo-res-nav[_ngcontent-%COMP%]{min-width:62px}.header-container[_ngcontent-%COMP%]   .data-res-nav-container[_ngcontent-%COMP%]{min-width:320px;padding-left:15px}}@media screen and (max-width:1240px) and (max-width:575px){.header-container[_ngcontent-%COMP%]   .data-res-nav-container[_ngcontent-%COMP%]{width:100%;min-width:auto;justify-content:space-between!important}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .small-point[_ngcontent-%COMP%]{width:4px;height:4px;margin:5px 3px 5px 5px;background-color:var(--bg4);border-radius:50%}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0;width:1px;height:30px;background-color:var(--gr20)}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .icon-action[_ngcontent-%COMP%]     i{font-size:15px!important}}"]}),sl);function dl(e,t){1&e&&r.Ub(0,"i",20)}function hl(e,t){1&e&&r.Ub(0,"i",21)}function fl(e,t){if(1&e&&(r.Zb(0,"div",14),r.Zb(1,"span",15),r.Sc(2),r.Yb(),r.Zb(3,"div",16),r.Qc(4,dl,1,0,"i",17),r.Qc(5,hl,1,0,"i",18),r.Yb(),r.Zb(6,"span",19),r.Sc(7),r.Yb(),r.Yb()),2&e){var n=r.jc();r.Hb(2),r.Uc(" ",null==n.queryParamsModel?null:n.queryParamsModel.itineraryCode[0].origin.code," "),r.Hb(1),r.sc("ngSwitch",n.queryParamsModel.itineraryCode[0].origin.type||n.stationType.AIRPORT),r.Hb(1),r.sc("ngSwitchCase",n.stationType.AIRPORT),r.Hb(1),r.sc("ngSwitchCase",n.stationType.BUS_STATION),r.Hb(2),r.Uc(" ",null==n.queryParamsModel?null:n.queryParamsModel.itineraryCode[0].destination.code," ")}}function pl(e,t){if(1&e&&(r.Zb(0,"div",22),r.Zb(1,"span",23),r.Ub(2,"i",24),r.Sc(3),r.Yb(),r.Ub(4,"div",25),r.Zb(5,"span",26),r.Sc(6),r.Yb(),r.Yb()),2&e){var n=r.jc();r.Hb(3),r.Uc(" ",n.queryParamsModel.passengers.adults+n.queryParamsModel.passengers.kids+n.queryParamsModel.passengers.babies," "),r.Hb(3),r.Uc(" ",n.queryParamDates," ")}}var gl,vl=function(){return["/"]},ml=function(e){return{"pe-none":e}},bl=function(e){return{"active-btn":e}},yl=((gl=function(){function e(t,n,i,o){var a;_classCallCheck(this,e),this.txHeaderSvc=t,this.cmsTranslate=n,this.datalayerUxBooking=i,this.srcChannel=o,this.menuId=Ro.a.INACTIVE,this.menuIsOpen=!1,this.logoImgSrc=No.b,this.menuOptionClick=new r.p,this.menuIds=Ro.a,this.queryParamsSubscription=sn.a.EMPTY,this.travelTypeId=zc.a,this.stationType=Xc.i,this.passengersLabels=(_defineProperty2(a={},Qc.b.ADULTS,{"=0":"","=1":"1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULT-COUNT"),other:"# "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULTS-COUNT")}),_defineProperty2(a,Qc.b.KIDS,{"=0":"","=1":", 1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILD-COUNT"),other:", # "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILDREN-COUNT")}),_defineProperty2(a,Qc.b.BABIES,{"=0":"","=1":", 1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANT-COUNT"),other:", # "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANTS-COUNT")}),a),this.passengerType=Qc.b}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.queryParamsSubscription=this.txHeaderSvc._availabilityQueryParams$.subscribe((function(t){e.queryParamsModel=null==t?void 0:t.availabilityQueryParams}))}},{key:"ngOnDestroy",value:function(){this.queryParamsSubscription.closed||this.queryParamsSubscription.unsubscribe()}},{key:"toggleMenu",value:function(e){this.datalayerUxBooking.clickEditFlightOptions(),this.menuOptionClick.emit(e)}},{key:"isActiveButton",value:function(e){return this.menuIsOpen&&this.menuId===e}},{key:"queryParamDates",get:function(){var e=this;if(this.queryParamsModel&&this.queryParamsModel.itineraryCode&&this.queryParamsModel.itineraryCode.length){var t="";return this.queryParamsModel.itineraryCode.forEach((function(n,i){var r;r="string"==typeof n.date?Hn(n.date):n.date,t+=r.format("D MMM"),i<e.queryParamsModel.itineraryCode.length-1&&(t+=" - ")})),t}return""}}]),e}()).\u0275fac=function(e){return new(e||gl)(r.Tb(jo.a),r.Tb(qc.a),r.Tb($c.a),r.Tb(ko.b))},gl.\u0275cmp=r.Nb({type:gl,selectors:[["app-booking-header-responsive"]],inputs:{menuId:"menuId",menuIsOpen:"menuIsOpen",logoImgSrc:"logoImgSrc"},outputs:{menuOptionClick:"menuOptionClick"},decls:20,vars:13,consts:[[1,"header-container","d-flex","justify-content-between","align-items-center","w-100"],[1,"d-flex","justify-content-start","align-items-center","left-section","logo-res-nav"],[1,"alt-header-logo",3,"routerLink","ngClass"],["loading","lazy",3,"src"],[1,"d-flex","justify-content-around","align-items-center","data-res-nav-container"],[1,"header-separator"],[1,"d-flex","flex-row","justify-content-between"],[1,"d-flex","flex-column"],["class","d-flex flex-row align-items-center justify-content-end",4,"ngIf"],["class","d-flex flex-row align-items-center justify-content-start",4,"ngIf"],[1,"icon-action","justify-content-center"],[1,"viva-btn","btn-link","edit-button",3,"ngClass","click"],[1,"fas","fa-pencil"],[1,"icon-action","justify-content-center","align-items-center","pr-5"],[1,"d-flex","flex-row","align-items-center","justify-content-end"],[1,"regular-text","mr-5"],[1,"smaller-text",3,"ngSwitch"],["class","fas fa-plane",4,"ngSwitchCase"],["class","fas fa-bus",4,"ngSwitchCase"],[1,"regular-text","ml-5"],[1,"fas","fa-plane"],[1,"fas","fa-bus"],[1,"d-flex","flex-row","align-items-center","justify-content-start"],[1,"small-text","opacity-5"],[1,"fas","fa-user"],[1,"small-point"],[1,"small-text","opacity-5","ml-5"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Zb(2,"a",2),r.kc(3,"async"),r.Ub(4,"img",3),r.Yb(),r.Yb(),r.Zb(5,"div",4),r.Ub(6,"div",5),r.Zb(7,"div",6),r.Zb(8,"div",7),r.Qc(9,fl,8,5,"div",8),r.Qc(10,pl,7,2,"div",9),r.Yb(),r.Yb(),r.Zb(11,"div",10),r.Zb(12,"button",11),r.hc("click",(function(){return t.toggleMenu(t.menuIds.EDIT_SEARCH)})),r.Ub(13,"i",12),r.Yb(),r.Yb(),r.Ub(14,"div",5),r.Zb(15,"div",10),r.Ub(16,"app-basket-button"),r.Yb(),r.Ub(17,"div",5),r.Zb(18,"div",13),r.Ub(19,"app-header-login"),r.Yb(),r.Yb(),r.Yb()),2&e&&(r.Hb(2),r.sc("routerLink",r.uc(8,vl))("ngClass",r.vc(9,ml,r.lc(3,6,t.srcChannel.isAppChannel$))),r.Hb(2),r.sc("src",t.logoImgSrc,r.Kc),r.Hb(5),r.sc("ngIf",(null==t.queryParamsModel?null:t.queryParamsModel.itineraryCode)&&(null==t.queryParamsModel?null:t.queryParamsModel.itineraryCode.length)),r.Hb(1),r.sc("ngIf",t.queryParamsModel),r.Hb(2),r.sc("ngClass",r.vc(11,bl,t.isActiveButton(t.menuIds.EDIT_SEARCH))))},directives:[Bt.j,mt.r,mt.u,ua,oa,mt.y,mt.z],pipes:[mt.b],styles:[".header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:auto;height:30px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:auto;height:30px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]{height:33px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .viva-badge[_ngcontent-%COMP%]{cursor:pointer;height:21px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .viva-badge[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-size:10px;font-weight:500;line-height:1.5}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:not(:last-child){margin-right:23px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:focus   span[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]{text-decoration:none;margin-left:23px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:var(--bg4);font-size:16px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]{height:33px;padding:0;overflow:visible}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,Arial;font-size:14px;font-weight:500;line-height:21px;color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{margin-right:9px;font-size:20px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:0}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0 20px;width:1px;height:19px;background-color:var(--gr20)}@media screen and (max-width:575px){.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0 15px}}.edit-button[_ngcontent-%COMP%]{overflow:visible;position:relative}.edit-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;bottom:6px;left:-12.5%;width:125%;height:3px;border-radius:1.5px;margin:0;background-color:var(--vg4);opacity:0}.edit-button.active-btn[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .edit-button[_ngcontent-%COMP%]:hover   .line[_ngcontent-%COMP%]{opacity:1}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{justify-content:space-between!important}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   a.alt-header-logo[_ngcontent-%COMP%]{margin-right:0}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   a.alt-header-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:69px;height:auto}.header-container[_ngcontent-%COMP%]   .left-section.logo-res-nav[_ngcontent-%COMP%]{min-width:62px}.header-container[_ngcontent-%COMP%]   .data-res-nav-container[_ngcontent-%COMP%]{min-width:320px;padding-left:15px}}@media screen and (max-width:1240px) and (max-width:575px){.header-container[_ngcontent-%COMP%]   .data-res-nav-container[_ngcontent-%COMP%]{width:100%;min-width:auto;justify-content:space-between!important}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .small-point[_ngcontent-%COMP%]{width:4px;height:4px;margin:5px 3px 5px 5px;background-color:var(--bg4);border-radius:50%}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0;width:1px;height:30px;background-color:var(--gr20)}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .icon-action[_ngcontent-%COMP%]     i{font-size:15px!important}}"]}),gl),_l=n("st0d");function Cl(e,t){if(1&e&&(r.Zb(0,"div",10),r.Zb(1,"div",11),r.Sc(2),r.kc(3,"cmsTranslate"),r.Yb(),r.Zb(4,"div",12),r.Sc(5),r.Yb(),r.Yb()),2&e){var n=r.jc();r.Hb(2),r.Uc(" ",r.lc(3,2,"MANAGE_LABEL_YOUR-RESERVATION")," "),r.Hb(3),r.Uc(" ",n.pnr," ")}}function kl(e,t){if(1&e&&(r.Zb(0,"span",15),r.Sc(1),r.Yb()),2&e){var n=r.jc(2);r.Hb(1),r.Vc(" ",null==n.queryParamsModel||null==n.queryParamsModel.itineraryCode[0].origin?null:n.queryParamsModel.itineraryCode[0].origin.code," - ",null==n.queryParamsModel||null==n.queryParamsModel.itineraryCode[0].destination?null:n.queryParamsModel.itineraryCode[0].destination.code," ")}}function Sl(e,t){if(1&e&&(r.Zb(0,"div",13),r.Qc(1,kl,2,2,"span",14),r.Zb(2,"span",15),r.Sc(3),r.Yb(),r.Zb(4,"span",15),r.Sc(5),r.kc(6,"i18nPlural"),r.kc(7,"i18nPlural"),r.kc(8,"i18nPlural"),r.Yb(),r.Yb()),2&e){var n=r.jc();r.Hb(1),r.sc("ngIf",null==n.queryParamsModel?null:n.queryParamsModel.itineraryCode.length),r.Hb(2),r.Uc(" ",n.queryParamDates," "),r.Hb(2),r.Wc(" ",r.mc(6,5,n.queryParamsModel.passengers.adults,n.passengersLabels[n.passengerType.ADULTS])," ",r.mc(7,8,n.queryParamsModel.passengers.kids,n.passengersLabels[n.passengerType.KIDS])," ",r.mc(8,11,n.queryParamsModel.passengers.babies,n.passengersLabels[n.passengerType.BABIES])," ")}}function Ol(e,t){if(1&e&&(r.Zb(0,"span",20),r.Sc(1),r.Yb()),2&e){var n=r.jc(2);r.Hb(1),r.Vc(" ",null==n.queryParamsModel?null:n.queryParamsModel.itineraryCode[0].origin.code," - ",null==n.queryParamsModel?null:n.queryParamsModel.itineraryCode[0].destination.code," ")}}function Tl(e,t){if(1&e&&(r.Zb(0,"div",16),r.Zb(1,"div",17),r.Zb(2,"div",12),r.Sc(3),r.Yb(),r.Ub(4,"div",18),r.Qc(5,Ol,2,2,"span",19),r.Yb(),r.Zb(6,"div",17),r.Zb(7,"span",20),r.Ub(8,"em",21),r.Sc(9),r.Yb(),r.Ub(10,"div",18),r.Zb(11,"span",20),r.Sc(12),r.Yb(),r.Yb(),r.Yb()),2&e){var n=r.jc();r.Hb(3),r.Uc(" ",n.pnr," "),r.Hb(2),r.sc("ngIf",null==n.queryParamsModel?null:n.queryParamsModel.itineraryCode.length),r.Hb(4),r.Uc(" ",n.queryParamsModel.passengers.adults+n.queryParamsModel.passengers.kids+n.queryParamsModel.passengers.babies," "),r.Hb(3),r.Uc(" ",n.queryParamDates," ")}}var wl,Al=function(){return["/"]},El=function(e){return{"pe-none":e}},Pl=((wl=function(){function e(t,n,i,r,o){var a;_classCallCheck(this,e),this.cmsTranslate=t,this.txHeaderSvc=n,this.basket=i,this.bookingParams=r,this.srcChannel=o,this.logoImgSrc=No.b,this.logoImgSrcRes=No.b,this.passengersLabels=(_defineProperty2(a={},Qc.b.ADULTS,{"=0":"","=1":"1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULT-COUNT"),other:"# "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULTS-COUNT")}),_defineProperty2(a,Qc.b.KIDS,{"=0":"","=1":", 1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILD-COUNT"),other:", # "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILDREN-COUNT")}),_defineProperty2(a,Qc.b.BABIES,{"=0":"","=1":", 1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANT-COUNT"),other:", # "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANTS-COUNT")}),a),this.queryParamsSubscription=sn.a.EMPTY,this.onBasketSubscription=sn.a.EMPTY,this.passengerType=Qc.b}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.queryParamsSubscription=this.txHeaderSvc._availabilityQueryParams$.subscribe((function(t){e.queryParamsModel=null==t?void 0:t.availabilityQueryParams})),this.onBasketSubscription=this.basket.fullBasket$.subscribe((function(t){return Object(Gt.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.basketBooking&&t.basket&&t.basket.flowType===dn.b.Manage)){e.next=6;break}return this.pnr||(this.pnr=t.basketBooking.pnr),e.next=4,this.bookingParams.getBasketBookingParams(t.basket,!1);case 4:(n=e.sent)&&this.txHeaderSvc.pushBookingQueryParams(n,_l.a.BASKET_INFO);case 6:case"end":return e.stop()}}),e,this)})))}))}},{key:"ngOnDestroy",value:function(){this.queryParamsSubscription.closed||this.queryParamsSubscription.unsubscribe(),this.onBasketSubscription.closed||this.onBasketSubscription.unsubscribe()}},{key:"queryParamDates",get:function(){var e=this;if(this.queryParamsModel&&this.queryParamsModel.itineraryCode&&this.queryParamsModel.itineraryCode.length){var t="";return this.queryParamsModel.itineraryCode.forEach((function(n,i){var r;r="string"==typeof n.date?ks(n.date):n.date,t+=r.format("D MMM"),i<e.queryParamsModel.itineraryCode.length-1&&(t+=" - ")})),t}return""}}]),e}()).\u0275fac=function(e){return new(e||wl)(r.Tb(qc.a),r.Tb(jo.a),r.Tb(hn.a),r.Tb(ro.a),r.Tb(ko.b))},wl.\u0275cmp=r.Nb({type:wl,selectors:[["app-mmb-header"]],inputs:{logoImgSrc:"logoImgSrc",logoImgSrcRes:"logoImgSrcRes"},decls:14,vars:12,consts:[[1,"header-container","d-flex","justify-content-between","align-items-center","w-100","pr-2","pr-lg-0"],[1,"d-flex","flex-row","justify-content-start","align-items-center","left-section"],[1,"header-logo","mr-2",3,"routerLink","ngClass"],["loading","lazy",1,"d-none","d-lg-block",3,"src"],["loading","lazy",1,"d-block","d-lg-none",3,"src"],["class","d-none d-lg-flex flex-column align-items-start",4,"ngIf"],[1,"d-flex","flex-row","justify-content-end","align-items-center","right-section"],["class","d-none d-lg-flex align-items-center",4,"ngIf"],["class","d-flex flex-column d-lg-none",4,"ngIf"],[1,"header-separator"],[1,"d-none","d-lg-flex","flex-column","align-items-start"],[1,"small-title","darker","opacity-5"],[1,"title","darker"],[1,"d-none","d-lg-flex","align-items-center"],["class","small-title opacity-5 ml-20",4,"ngIf"],[1,"small-title","opacity-5","ml-20"],[1,"d-flex","flex-column","d-lg-none"],[1,"d-flex","align-items-center"],[1,"small-point"],["class","small-title opacity-5",4,"ngIf"],[1,"small-title","opacity-5"],[1,"fas","fa-user"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Zb(2,"a",2),r.kc(3,"async"),r.Ub(4,"img",3),r.Ub(5,"img",4),r.Yb(),r.Qc(6,Cl,6,4,"div",5),r.Yb(),r.Zb(7,"div",6),r.Qc(8,Sl,9,14,"div",7),r.Qc(9,Tl,13,4,"div",8),r.Ub(10,"div",9),r.Ub(11,"app-header-login"),r.Ub(12,"div",9),r.Ub(13,"app-basket-button"),r.Yb(),r.Yb()),2&e&&(r.Hb(2),r.sc("routerLink",r.uc(9,Al))("ngClass",r.vc(10,El,r.lc(3,7,t.srcChannel.isAppChannel$))),r.Hb(2),r.sc("src",t.logoImgSrc,r.Kc),r.Hb(1),r.sc("src",t.logoImgSrcRes,r.Kc),r.Hb(1),r.sc("ngIf",t.pnr),r.Hb(2),r.sc("ngIf",t.queryParamsModel),r.Hb(1),r.sc("ngIf",t.queryParamsModel))},directives:[Bt.j,mt.r,mt.u,oa,ua],pipes:[mt.b,Nn.a,mt.j],styles:[".header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:auto;height:30px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:auto;height:30px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]{height:33px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .viva-badge[_ngcontent-%COMP%]{cursor:pointer;height:21px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .viva-badge[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-size:10px;font-weight:500;line-height:1.5}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:not(:last-child){margin-right:23px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:focus   span[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]{text-decoration:none;margin-left:23px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:var(--bg4);font-size:16px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]{height:33px;padding:0;overflow:visible}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,Arial;font-size:14px;font-weight:500;line-height:21px;color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{margin-right:9px;font-size:20px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:0}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0 20px;width:1px;height:19px;background-color:var(--gr20)}@media screen and (max-width:575px){.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0 15px}}.edit-button[_ngcontent-%COMP%]{overflow:visible;position:relative}.edit-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;bottom:6px;left:-12.5%;width:125%;height:3px;border-radius:1.5px;margin:0;background-color:var(--vg4);opacity:0}.edit-button.active-btn[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .edit-button[_ngcontent-%COMP%]:hover   .line[_ngcontent-%COMP%]{opacity:1}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{justify-content:space-between!important}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   a.alt-header-logo[_ngcontent-%COMP%]{margin-right:0}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   a.alt-header-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:69px;height:auto}.header-container[_ngcontent-%COMP%]   .left-section.logo-res-nav[_ngcontent-%COMP%]{min-width:62px}.header-container[_ngcontent-%COMP%]   .data-res-nav-container[_ngcontent-%COMP%]{min-width:320px;padding-left:15px}}@media screen and (max-width:1240px) and (max-width:575px){.header-container[_ngcontent-%COMP%]   .data-res-nav-container[_ngcontent-%COMP%]{width:100%;min-width:auto;justify-content:space-between!important}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .small-point[_ngcontent-%COMP%]{width:4px;height:4px;margin:5px 3px 5px 5px;background-color:var(--bg4);border-radius:50%}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0;width:1px;height:30px;background-color:var(--gr20)}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .icon-action[_ngcontent-%COMP%]     i{font-size:15px!important}}"]}),wl);function Ml(e,t){if(1&e){var n=r.ac();r.Xb(0),r.Zb(1,"div",9),r.Zb(2,"app-reservation-option",10),r.hc("menuClose",(function(){return r.Hc(n),r.jc().emitClose()})),r.Yb(),r.Yb(),r.Wb()}if(2&e){var i=t.$implicit;r.Hb(2),r.sc("item",i)}}var xl,Dl,Il=((xl=function(){function e(t){_classCallCheck(this,e),this.storefront=t,this.menuClose=new r.p,this.reservationItems=[],this.initMenuLinkEntries()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"emitClose",value:function(){this.menuClose.emit()}},{key:"initMenuLinkEntries",value:function(){var e,t;return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.storefront.ready;case 2:this.reservationItems=(null===(t=null===(e=this.storefront.storefrontData.headerNavigation)||void 0===e?void 0:e.find((function(e){var t;return(null===(t=e.fields)||void 0===t?void 0:t.code)===Ta.b})))||void 0===t?void 0:t.fields.items)||[];case 3:case"end":return n.stop()}}),n,this)})))}}]),e}()).\u0275fac=function(e){return new(e||xl)(r.Tb(tn.a))},xl.\u0275cmp=r.Nb({type:xl,selectors:[["app-reservation-menu"]],outputs:{menuClose:"menuClose"},decls:11,vars:4,consts:[[1,"reservation-menu","main-container"],[1,"container"],[1,"row"],[1,"col-12"],[1,"h4","pt-40"],[1,"modal-close","green",3,"click"],[1,"fas","fa-times"],[1,"row","pt-20"],[4,"ngFor","ngForOf"],[1,"col-2"],[3,"item","menuClose"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Zb(2,"div",2),r.Zb(3,"div",3),r.Zb(4,"div",4),r.Sc(5),r.kc(6,"cmsTranslate"),r.Yb(),r.Zb(7,"button",5),r.hc("click",(function(){return t.emitClose()})),r.Ub(8,"i",6),r.Yb(),r.Yb(),r.Yb(),r.Zb(9,"div",7),r.Qc(10,Ml,3,1,"ng-container",8),r.Yb(),r.Yb(),r.Yb()),2&e&&(r.Hb(5),r.Tc(r.lc(6,2,"HEADER_MENU_BOOK_TITLE")),r.Hb(5),r.sc("ngForOf",t.reservationItems))},directives:[mt.t,Ha],pipes:[Nn.a],styles:[".reservation-menu.main-container[_ngcontent-%COMP%]{background-color:var(--wh2)}.modal-close[_ngcontent-%COMP%]{height:24px;width:24px;top:40px;right:10px}"]}),xl),Ll=function(e){return{"background-color":e}},Rl=((Dl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Dl)},Dl.\u0275cmp=r.Nb({type:Dl,selectors:[["app-reservation-card"]],inputs:{reservation:"reservation"},decls:24,vars:20,consts:[[1,"d-flex","flex-column","justify-content-between","reservation-card","content-container"],[1,"card-image",3,"ngStyle"],[1,"d-flex","flex-column","justify-content-end","card-content"],[1,"d-flex","flex-column","justify-content-end","info"],[1,"d-flex","flex-row","justify-content-between","align-items-center"],[1,"my-0","card-title"],[1,"d-flex","flex-row","justify-content-center","align-items-center","icon-container"],[1,"medium-title"],[1,"small-title"],[1,"card-footer"],[1,"viva-btn","normal","height-auto","pr-0"],[1,"content"],[1,"fas","fa-arrow-right","fa-sm"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Ub(1,"div",1),r.Zb(2,"div",2),r.Zb(3,"div",3),r.Zb(4,"div",4),r.Zb(5,"h4",5),r.Sc(6),r.kc(7,"cmsTranslate"),r.Yb(),r.Zb(8,"div",6),r.Ub(9,"i"),r.Yb(),r.Yb(),r.Zb(10,"span",7),r.Sc(11),r.Yb(),r.Zb(12,"span",8),r.Sc(13),r.kc(14,"date"),r.kc(15,"date"),r.Yb(),r.Zb(16,"span",8),r.Sc(17),r.Yb(),r.Yb(),r.Zb(18,"div",9),r.Zb(19,"button",10),r.Zb(20,"div",11),r.Zb(21,"span"),r.Sc(22,"Administrar mi reserva"),r.Yb(),r.Ub(23,"i",12),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&e&&(r.Hb(1),r.sc("ngStyle",r.vc(18,Ll,t.reservation.image)),r.Hb(5),r.Tc(r.lc(7,10,"HEADER_MANAGE_NEXTFLIGHT-TITLE")),r.Hb(3),r.Kb("fas ",t.reservation.type,""),r.Hb(2),r.Vc(" ",t.reservation.locations[0],"",t.reservation.locations.length>1?" - "+t.reservation.locations[1]:""," "),r.Hb(2),r.Vc("",r.mc(14,12,t.reservation.dates[0],"d MMM"),"",t.reservation.dates.length>1?" - "+r.mc(15,15,t.reservation.dates[1],"d MMM"):"",""),r.Hb(4),r.Uc("",t.reservation.people," Adulto"))},directives:[mt.x],pipes:[Nn.a,mt.f],styles:['.reservation-card.content-container[_ngcontent-%COMP%]{background-color:var(--wh1);box-shadow:0 1px 5px 0 rgba(95,95,95,.07),0 0 50px 0 hsla(0,0%,55.3%,.07)}.reservation-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{overflow:hidden;width:100%;height:148px;background-repeat:no-repeat;background-size:cover;background-position:50%;background-image:url(https://via.placeholder.com/300x300)}.reservation-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{min-height:214px}.reservation-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{max-width:calc(100% - 80px)}.reservation-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{margin-left:20px;margin-right:-10px;width:60px;height:60px;border-radius:50%;background-color:var(--wh2)}.reservation-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--bg4);font-size:17px}.reservation-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding:0 20px}.reservation-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{margin-bottom:9px}.reservation-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .small-title[_ngcontent-%COMP%]{opacity:.5}.reservation-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-bottom:17px}.reservation-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-bottom:10px}.reservation-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{position:relative;padding:20px 20px 10px;text-align:right}.reservation-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:16px;line-height:15px}.reservation-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > i.fas[_ngcontent-%COMP%]{margin-left:11px;font-size:16px}.reservation-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]:before{content:"";position:absolute;top:10px;left:20px;width:calc(100% - 40px);height:1px;background-color:var(--gr20)}']}),Dl);function Nl(e,t){if(1&e&&r.Ub(0,"app-flight-checklist",12),2&e){var n=r.jc();r.sc("checklist",n.checklist)}}function jl(e,t){if(1&e&&r.Ub(0,"app-reservation-card",13),2&e){var n=r.jc();r.sc("reservation",n.reservation)}}function Bl(e,t){1&e&&r.Ub(0,"div",14)}var Fl,Hl,Ul=((Hl=function(){function e(t,n){_classCallCheck(this,e),this.auth=t,this.storefront=n,this.menuClose=new r.p,this.hasReservation=!1,this.isLoggedIn=!1,this.reservation={image:"https://via.placeholder.com/300x300",type:"fa-plane-departure",locations:["Chicago","Mazatl\xe1n"],dates:[new Date("2020-02-13"),new Date("2020-03-14")],people:1},this.checklist=["HEADER_MANAGE_BULLET-1","HEADER_MANAGE_BULLET-2","HEADER_MANAGE_BULLET-3","HEADER_MANAGE_BULLET-4","HEADER_MANAGE_BULLET-5","HEADER_MANAGE_BULLET-6"],this.authDataSub=sn.a.EMPTY,this.initStorefrontEntries()}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authDataSub=this.auth.userDetails$.subscribe((function(t){e.isLoggedIn=e.auth.isLoggedIn}))}},{key:"ngOnDestroy",value:function(){this.authDataSub.closed||this.authDataSub.unsubscribe()}},{key:"emitClose",value:function(){this.menuClose.emit()}},{key:"initStorefrontEntries",value:function(){var e,t,n;return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.storefront.ready;case 2:r=(null===(n=null===(t=null===(e=this.storefront.storefrontData.headerNavigation)||void 0===e?void 0:e.find((function(e){var t;return"HOMEPAGE_MAINMENU_BANNERS"===(null===(t=e.fields)||void 0===t?void 0:t.code)})))||void 0===t?void 0:t.fields)||void 0===n?void 0:n.items)||[],Array.isArray(r)&&r.length&&(this.promotionalBanner=r[0].fields);case 4:case"end":return i.stop()}}),i,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Hl)(r.Tb(En.a),r.Tb(tn.a))},Hl.\u0275cmp=r.Nb({type:Hl,selectors:[["app-flight-menu"]],outputs:{menuClose:"menuClose"},decls:14,vars:8,consts:[[1,"flight-menu","background-container"],[1,"left-background"],[1,"container"],[1,"row","vertical-padding-container"],[1,"col-xl-5","left-content"],[1,"container-fluid","px-0","contrast"],[3,"checklist",4,"ngIf"],[3,"ngClass"],[3,"reservation",4,"ngIf"],["class","col-xl-1",4,"ngIf"],[3,"isLoggedIn","hasReservation"],[3,"promotionalBanner"],[3,"checklist"],[3,"reservation"],[1,"col-xl-1"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Ub(1,"div",1),r.Zb(2,"div",2),r.Zb(3,"div",3),r.Zb(4,"div",4),r.Zb(5,"div",5),r.Qc(6,Nl,1,1,"app-flight-checklist",6),r.Yb(),r.Yb(),r.Xb(7),r.Zb(8,"div",7),r.Qc(9,jl,1,1,"app-reservation-card",8),r.Yb(),r.Qc(10,Bl,1,0,"div",9),r.Zb(11,"div",7),r.Ub(12,"app-reservation-search-form",10),r.Yb(),r.Wb(),r.Yb(),r.Yb(),r.Yb(),r.Ub(13,"app-promotional-banner-card",11)),2&e&&(r.Hb(6),r.sc("ngIf",t.checklist),r.Hb(2),r.sc("ngClass",t.hasReservation?"col-xl-3 reservation-card":"col-xl-1"),r.Hb(1),r.sc("ngIf",t.hasReservation),r.Hb(1),r.sc("ngIf",t.hasReservation),r.Hb(1),r.sc("ngClass",t.hasReservation?"col-xl-3":"col-xl-6"),r.Hb(1),r.sc("isLoggedIn",t.isLoggedIn)("hasReservation",t.hasReservation),r.Hb(1),r.sc("promotionalBanner",t.promotionalBanner))},directives:[mt.u,mt.r,$a.a,is,rs.a,Rl],styles:[".flight-menu.background-container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--wh2)}.flight-menu[_ngcontent-%COMP%]   .vertical-padding-container[_ngcontent-%COMP%]{padding:37px 0}.flight-menu[_ngcontent-%COMP%]   .left-background[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:44.25%;background-color:var(--bg4);height:100%}.flight-menu[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]{z-index:1}.flight-menu[_ngcontent-%COMP%]   .reservation-card[_ngcontent-%COMP%]{z-index:1;margin:-37px 20px -37px -20px}"]}),Hl),Yl=((Fl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Fl)},Fl.\u0275cmp=r.Nb({type:Fl,selectors:[["app-search-container"]],decls:2,vars:1,consts:[[1,"search-container"],[3,"popularSearches"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Ub(1,"app-site-search",1),r.Yb()),2&e&&(r.Hb(1),r.sc("popularSearches",!0))},directives:[Ic],styles:[".search-container[_ngcontent-%COMP%]{width:100%;background-color:var(--wh1)}"]}),Fl),Gl=n("KTnf"),Vl=n("tpaT"),Zl=n("Gj4D"),Wl=n("FTCy"),Kl=n("iyif"),zl=n("uQub"),Ql=n("kWhM"),Xl=n("8KPo"),ql=n("Mxju"),$l=n("wYrS"),Jl=["rowContainer"];function eu(e,t){1&e&&r.Vb(0)}function tu(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-booker-calendar",33),r.hc("selectedDatesChange",(function(e){return r.Hc(n),r.jc(2).selectedDates(e)})),r.Yb()}if(2&e){var i=r.jc(2);r.sc("isLoading",i.isCalendarLoading[0])("isRoundTrip",i.isRoundTrip)("departureBookingDates",i.bookingDays[0])("returnBookingDates",i.returnBookingDays[0])("forceMaxDate",i.forceMaxDate)("selectedDates",i.savedSelectedDates[0])}}function nu(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-booker-calendar-responsive",33),r.hc("selectedDatesChange",(function(e){return r.Hc(n),r.jc(2).selectedDates(e)})),r.Yb()}if(2&e){var i=r.jc(2);r.sc("isLoading",i.isCalendarLoading[0])("isRoundTrip",i.isRoundTrip)("departureBookingDates",i.bookingDays[0])("returnBookingDates",i.returnBookingDays[0])("forceMaxDate",i.forceMaxDate)("selectedDates",i.savedSelectedDates[0])}}function iu(e,t){1&e&&r.Vb(0)}function ru(e,t){1&e&&r.Vb(0)}function ou(e,t){1&e&&r.Vb(0)}function au(e,t){if(1&e){var n=r.ac();r.Zb(0,"div"),r.Zb(1,"div",17),r.Zb(2,"div",18),r.Qc(3,eu,1,0,"ng-container",19),r.Yb(),r.Yb(),r.Zb(4,"div",20),r.Zb(5,"div",21),r.Zb(6,"app-flight-input",22),r.hc("selectedStationsChanged",(function(e){return r.Hc(n),r.jc().setJourneyStations(e)}))("savedSearchSelected",(function(e){return r.Hc(n),r.jc().setSavedSearch(e)})),r.Yb(),r.Yb(),r.Zb(7,"div",23),r.Qc(8,tu,1,6,"app-booker-calendar",24),r.Qc(9,nu,1,6,"app-booker-calendar-responsive",24),r.Yb(),r.Zb(10,"div",25),r.Ub(11,"app-flight-passengers",26),r.Yb(),r.Zb(12,"div",27),r.Qc(13,iu,1,0,"ng-container",19),r.Yb(),r.Zb(14,"div",28),r.Ub(15,"app-flight-passengers",29),r.Yb(),r.Zb(16,"div",30),r.Zb(17,"div",31),r.Qc(18,ru,1,0,"ng-container",19),r.Yb(),r.Yb(),r.Yb(),r.Zb(19,"div",32),r.Qc(20,ou,1,0,"ng-container",19),r.Yb(),r.Yb()}if(2&e){var i=r.jc(),o=r.Ec(18),a=r.Ec(20);r.sc("@fadeIn",void 0)("@fadeOut",i.selectorAnimation),r.Hb(3),r.sc("ngTemplateOutlet",o),r.Hb(3),r.sc("selectedStations",i.savedSelectedStations[0])("forceMaxDate",i.forceMaxDate)("includeMaacStations",i.includeMaacStations)("customInputIds",i.flightInputIds),r.Hb(2),r.sc("ngIf",!i.deviceService.isMobile()),r.Hb(1),r.sc("ngIf",i.deviceService.isMobile()),r.Hb(2),r.sc("passengers",i.bookerForm.passengers),r.Hb(2),r.sc("ngTemplateOutlet",a),r.Hb(2),r.sc("simpleStyle",!1)("passengers",i.bookerForm.passengers),r.Hb(3),r.sc("ngTemplateOutlet",o),r.Hb(2),r.sc("ngTemplateOutlet",a)}}function su(e,t){1&e&&r.Vb(0)}function cu(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-booker-calendar",51),r.hc("selectedDatesChange",(function(e){r.Hc(n);var t=r.jc().index;return r.jc(2).selectedDates(e,t)}))("isOpened",(function(e){r.Hc(n);var t=r.jc().index;return r.jc(2).setCalendarState(e,t)})),r.Yb()}if(2&e){var i=r.jc().index,o=r.jc(2);r.sc("isLoading",o.isCalendarLoading[i])("departureBookingDates",o.multiCityDates[i])("selectedDates",o.savedSelectedDates[i])("isRoundTrip",!1)("displayCalendar",o.displayCalendar[i])("showToLeft",!0)("forceMaxDate",o.forceMaxDate)}}function lu(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-booker-calendar-responsive",52),r.hc("selectedDatesChange",(function(e){r.Hc(n);var t=r.jc().index;return r.jc(2).selectedDates(e,t)}))("openModal",(function(){return r.Hc(n),r.jc(3).removeOverflowState(!0)}))("closeModal",(function(){return r.Hc(n),r.jc(3).removeOverflowState(!1)})),r.Yb()}if(2&e){var i=r.jc().index,o=r.jc(2);r.sc("isLoading",o.isCalendarLoading[i])("departureBookingDates",o.multiCityDates[i])("selectedDates",o.savedSelectedDates[i])("isRoundTrip",!1)("forceMaxDate",o.forceMaxDate)}}var uu=function(e){return{regex:"%%flight counter%%",newValue:e}},du=function(e){return[e]};function hu(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",43),r.Zb(1,"p",44),r.Sc(2),r.kc(3,"cmsRegexReplace"),r.kc(4,"cmsTranslate"),r.Yb(),r.Zb(5,"div",45),r.Zb(6,"div",46),r.Zb(7,"app-flight-input",47),r.hc("selectedStationsChanged",(function(e){r.Hc(n);var i=t.index;return r.jc(2).setJourneyStations(e,i)}))("savedSearchSelected",(function(e){r.Hc(n);var i=t.index;return r.jc(2).setSavedSearch(e,i)})),r.Yb(),r.Yb(),r.Zb(8,"div",48),r.Qc(9,cu,1,7,"app-booker-calendar",49),r.Qc(10,lu,1,5,"app-booker-calendar-responsive",50),r.Yb(),r.Yb(),r.Yb()}if(2&e){var i=t.index,o=r.jc(2);r.Hb(2),r.Uc(" ",r.mc(3,9,r.lc(4,12,"BOOKER_LABEL_FLIGHT-COUNT"),r.vc(16,du,r.vc(14,uu,(i+1).toString())))," "),r.Hb(5),r.sc("selectedStations",o.savedSelectedStations[i])("showLastFlightSearch",0===i)("forceMaxDate",o.forceMaxDate)("prevJourney",i>0?o.bookerForm.journeys[i-1]:void 0)("includeMaacStations",o.includeMaacStations)("customInputIds",o.setMultiCityInputIds(i)),r.Hb(2),r.sc("ngIf",!o.deviceService.isMobile()),r.Hb(1),r.sc("ngIf",o.deviceService.isMobile())}}function fu(e,t){1&e&&r.Vb(0)}function pu(e,t){1&e&&r.Vb(0)}var gu=function(){return[]};function vu(e,t){if(1&e&&(r.Zb(0,"div"),r.Zb(1,"div",34),r.Zb(2,"div",35),r.Zb(3,"div",36),r.Qc(4,su,1,0,"ng-container",19),r.Yb(),r.Yb(),r.Zb(5,"div",37),r.Ub(6,"app-flight-passengers",38),r.Yb(),r.Yb(),r.Zb(7,"div"),r.Qc(8,hu,11,18,"div",39),r.Yb(),r.Zb(9,"div",40),r.Zb(10,"div",41),r.Zb(11,"div",31),r.Qc(12,fu,1,0,"ng-container",19),r.Yb(),r.Yb(),r.Zb(13,"div",42),r.Qc(14,pu,1,0,"ng-container",19),r.Yb(),r.Yb(),r.Yb()),2&e){var n=r.jc(),i=r.Ec(18),o=r.Ec(20);r.sc("@fadeIn",void 0)("@fadeOut",n.selectorAnimation),r.Hb(4),r.sc("ngTemplateOutlet",i),r.Hb(2),r.sc("simpleStyle",!0)("rightPositionDesktop",!0)("rightPositionResponsive",!1)("passengers",n.bookerForm.passengers),r.Hb(2),r.sc("ngForOf",r.uc(10,gu).constructor(n.bookerForm.journeys.length)),r.Hb(4),r.sc("ngTemplateOutlet",i),r.Hb(2),r.sc("ngTemplateOutlet",o)}}function mu(e,t){if(1&e){var n=r.ac();r.Zb(0,"button",55),r.hc("click",(function(){return r.Hc(n),r.jc(2).openCouponModal()})),r.Sc(1),r.kc(2,"cmsTranslate"),r.Ub(3,"i",56),r.Yb()}2&e&&(r.Hb(1),r.Uc(" ",r.lc(2,1,"BOOKER_ACTION_ENTERPROMOCODE")," "))}function bu(e,t){if(1&e){var n=r.ac();r.Zb(0,"button",57),r.hc("click",(function(){return r.Hc(n),r.jc(2).openCouponModal()})),r.Sc(1),r.kc(2,"cmsTranslate"),r.Zb(3,"span",58),r.Sc(4),r.Yb(),r.Ub(5,"i",59),r.Yb()}if(2&e){var i=r.jc(2);r.Hb(1),r.Uc(" ",r.lc(2,2,"BOOKER_LABEL_PROMOCODE")," "),r.Hb(3),r.Tc(i.bookerForm.promoCode)}}function yu(e,t){if(1&e&&(r.Qc(0,mu,4,3,"button",53),r.Qc(1,bu,6,4,"ng-template",null,54,r.Rc)),2&e){var n=r.Ec(2),i=r.jc();r.sc("ngIf",!i.bookerForm.promoCode)("ngIfElse",n)}}function _u(e,t){if(1&e){var n=r.ac();r.Zb(0,"button",60),r.hc("click",(function(){return r.Hc(n),r.jc().updateSearch()})),r.Zb(1,"span"),r.Sc(2),r.kc(3,"cmsTranslate"),r.Yb(),r.Yb()}if(2&e){var i=r.jc();r.sc("disabled",i.isACalendarLoading),r.Hb(2),r.Tc(r.lc(3,2,"GLOBAL_ACTION_UPDATE"))}}var Cu,ku=function(e,t){return{"close-animation":e,"remove-overflow":t}},Su=((Cu=function(){function e(t,n,i,o,a,s,c,l,u,d,h){_classCallCheck(this,e),this.couponService=t,this.flightBookUtilsSvc=n,this.stationSearchHistory=i,this.availabilitySvc=o,this.router=a,this.route=s,this.txHeaderSvc=c,this.deviceService=l,this.cdRef=u,this.auth=d,this.cmsConfig=h,this.bookerForm=new Gl.a,this.displayCalendar=[!1],this.savedSelectedStations=[void 0],this.savedSelectedDates=[void 0],this.lastSelectedDates=[void 0],this.bookingDays=[[{date:Hn(),availableDirectFlights:!1}]],this.returnBookingDays=[[{date:Hn(),availableDirectFlights:!1}]],this.isCalendarLoading=[!1],this.closeAnimation=!1,this.tripType=zc.a,this.multiCityDates=[[{date:Hn(),availableDirectFlights:!1}]],this.closeOverlay=new r.p,this.menuClose=new r.p,this.isStaff=!1,this.onAccountSubscription=sn.a.EMPTY,this.includeMaacStations=!1,this.selectorAnimation=!0,this.flightInputIds={origin:"flight-search-origin",destination:"flight-search-destination"},this.removeOverflow=!1,this.addMultiCityRoute(),this.staffBookingWindow=this.cmsConfig._cmsConfig.bookingSettings.staffBookingWindow||25,this.includeMaacStations=this.cmsConfig.getBookingFeatureValue(Xt.a.IncludeMaacStationsInSearch)||!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.txHeaderSvc._availabilityQueryParams$.pipe(Object(Jt.a)(1)).subscribe((function(t){t&&t.availabilityQueryParams&&e.setBookingParams(t.availabilityQueryParams)})),this.checkStaffAccount()}},{key:"ngOnDestroy",value:function(){this.onAccountSubscription.closed||this.onAccountSubscription.unsubscribe()}},{key:"checkStaffAccount",value:function(){var e=this;this.onAccountSubscription=this.auth.userAccountData$.subscribe((function(t){e.isStaff=!1,e.forceMaxDate=void 0,(null==t?void 0:t.accountType)===Tn.k.Staff&&(e.isStaff=!0),e.isStaff&&e.setStaffBookingWindow()}))}},{key:"setStaffBookingWindow",value:function(){this.forceMaxDate=Hn().add(this.staffBookingWindow,"d")}},{key:"openCouponModal",value:function(){this.couponService.openModal()}},{key:"setPromocode",value:function(e){this.bookerForm.promoCode=e}},{key:"applyTransition",value:function(){var e=this;this.previousHeight=this.rowContainer.nativeElement.getBoundingClientRect().height+80,this.containerStyle={height:this.previousHeight+"px"},Object(Vt.a)(0).subscribe((function(){e.heightContainer=e.rowContainer.nativeElement.getBoundingClientRect().height+80,e.containerStyle={height:e.heightContainer+"px"}}))}},{key:"setTripType",value:function(e){var t=this,n=0;e!==zc.a.MULTI_CITY&&this.bookerForm.tripType!==zc.a.MULTI_CITY||(this.selectorAnimation=!1,n=300),Object(Vt.a)(n).subscribe((function(){var n;[zc.a.ONE_WAY,zc.a.ROUND_TRIP].includes(e)&&(null===(n=t.savedSelectedDates[0])||void 0===n?void 0:n.startDate)&&(t.lastSelectedDates=t.savedSelectedDates),t.bookerForm.tripType=e,t.savedSelectedDates=[void 0],e===zc.a.MULTI_CITY&&(t.displayCalendar[0]=!0),t.setRoutes(),t.saveCurrentTrip(),t.applyTransition(),t.selectorAnimation=!0}))}},{key:"selectedDates",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.setDatesToMultiCity(e,n),this.bookerForm.journeys[n].journeyDates=e,this.setRoutes(),!e&&(null===(t=this.lastSelectedDates[0])||void 0===t?void 0:t.startDate)){var i=this.lastSelectedDates[0].startDate;this.savedSelectedDates[0]={startDate:i,endDate:this.bookerForm.tripType===zc.a.ROUND_TRIP?i:void 0},this.lastSelectedDates=void 0}}},{key:"setDatesToMultiCity",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.bookerForm.tripType===zc.a.MULTI_CITY&&(null==e?void 0:e.startDate)&&n+1<this.multiCityDates.length){var i=this.bookingDays.slice(n+1,this.multiCityDates.length);if(i.every((function(e){return e.length>1}))){var r,o=_createForOfIteratorHelper(i);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.filter((function(t){return t.date.isSameOrAfter(e.startDate,"D")}));this.multiCityDates.splice(n+1,i.length,s)}}catch(c){o.e(c)}finally{o.f()}}this.bookerForm.journeys.forEach((function(e,i){var r,o;i>n&&e.journeyDates&&e.journeyDates.startDate.isBefore(null===(r=t.bookerForm.journeys[n].journeyDates)||void 0===r?void 0:r.startDate,"D")&&(null===(o=t.bookerCalendar.toArray()[i])||void 0===o||o.clearChosenDates())}))}}},{key:"setJourneyStations",value:function(e){var t,n,i,r,o,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function c(){var l,u,d,h,f=this;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(l=null===(i=null===(n=null===(t=this.bookerForm)||void 0===t?void 0:t.journeys[s])||void 0===n?void 0:n.origin)||void 0===i?void 0:i.code,u=null===(a=null===(o=null===(r=this.bookerForm)||void 0===r?void 0:r.journeys[s])||void 0===o?void 0:o.destination)||void 0===a?void 0:a.code,this.bookerForm.journeys[s].origin=e.selectedOrigin,this.bookerForm.journeys[s].destination=e.selectedDestination,this.bookerForm.tripType===zc.a.MULTI_CITY&&this.bookerForm.journeys.forEach((function(e,t){var n;t>s&&(null===(n=f.flightInputs.toArray()[t])||void 0===n||n.clearFields())})),!e.selectedOrigin||!e.selectedDestination||e.selectedOrigin.code===e.selectedDestination.code||l===e.selectedOrigin.code&&u===e.selectedDestination.code){c.next=5;break}return d=l===u&&e.selectedOrigin.code===l&&e.selectedDestination.code!==u,h=!!(l&&u&&e.selectedOrigin.code&&e.selectedDestination.code&&l===e.selectedOrigin.code&&u!==e.selectedDestination.code),c.next=5,this.getDateAvailability(s,d).then((function(){var e,t;if(!f.savedSelectedStations[s]){f.savedSelectedDates[s]=void 0;var n=h?f.bookerForm.journeys[s].journeyDates:void 0;null===(e=f.bookerCalendarRes.toArray()[s])||void 0===e||e.tryToKeepPreviousDatesSelected(h),null===(t=f.bookerCalendar.toArray()[s])||void 0===t||t.clearChosenDates(n),f.displayCalendar[s]=!0}f.savedSelectedStations[s]=void 0}));case 5:case"end":return c.stop()}}),c,this)})))}},{key:"setSavedSearch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.savedSelectedStations[t]={selectedOriginCode:e.origin.code,selectedDestinationCode:e.destination.code},this.bookerForm.tripType!==zc.a.MULTI_CITY&&e.travelType&&(this.bookerForm.tripType=e.travelType),this.setRoutes(),e.passengers&&(this.bookerForm.passengers=e.passengers);var n={startDate:void 0,endDate:void 0};e.startDate&&(n.startDate=Hn(e.startDate),e.endDate&&(n.endDate=Hn(e.endDate))),this.savedSelectedDates[t]=n}},{key:"getDateAvailability",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,r,o,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.isCalendarLoading[e]=!0,n.prev=1,!t){n.next=7;break}i=this.bookingDays[e],this.bookingDays[e]=this.returnBookingDays[e],this.returnBookingDays[e]=i,this.multiCityDates[e]=this.bookingDays[e],n.next=13;break;case 7:return r=this.availabilitySvc.getCalendarAvailability(this.bookerForm.journeys[e].origin.code,this.bookerForm.journeys[e].destination.code,this.bookerForm.journeys[e].origin.type,!0).toPromise(),o=this.availabilitySvc.getCalendarAvailability(this.bookerForm.journeys[e].destination.code,this.bookerForm.journeys[e].origin.code,this.bookerForm.journeys[e].origin.type,!0).toPromise(),n.next=11,Promise.all([r,o]);case 11:a=n.sent,this.bookingDays[e]=a[0],this.returnBookingDays[e]=a[1],this.multiCityDates[e]=a[0];case 13:return this.bookerForm.tripType===zc.a.MULTI_CITY&&e&&(s=this.getMultiCityDate(e),this.multiCityDates[e]=this.multiCityDates[e].filter((function(e){return e.date.isSameOrAfter(s)}))),n.abrupt("return",void(this.isCalendarLoading[e]=!1));case 17:n.prev=17,n.t0=n.catch(1),this.isCalendarLoading[e]=!1,this.bookingDays[e]=[{date:Hn(),availableDirectFlights:!1}],this.returnBookingDays[e]=[{date:Hn(),availableDirectFlights:!1}],this.multiCityDates[e]=[{date:Hn(),availableDirectFlights:!1}];case 20:case"end":return n.stop()}}),n,this,[[1,17]])})))}},{key:"updateSearch",value:function(){var e,t,n=this;if(this.bookerForm.journeys.some((function(e){return!e.journeyDates}))){var i=this.bookerForm.journeys.findIndex((function(e){return!e.journeyDates}));if(this.deviceService.isMobile())null===(e=this.bookerCalendarRes.toArray()[i])||void 0===e||e.showCalendarMobile();else{var r=null===(t=this.bookerCalendar)||void 0===t?void 0:t.toArray()[i];null==r||r.clearChosenDates(),null==r||r.closeDatepicker(),null==r||r.openDatepicker()}}else if(this.flightPassengers.totalPassengers){if(!this.isACalendarLoading&&this.flightBookUtilsSvc.isValidForm(this.bookerForm)){if(this.bookerForm.tripType!==zc.a.MULTI_CITY){var o=this.flightBookUtilsSvc.createStationSearchObject(this.bookerForm);this.stationSearchHistory.ready.then((function(){n.stationSearchHistory.addFlightSearchEntry(o)}))}var a=this.flightBookUtilsSvc.createFlightSearchParams(this.bookerForm),s=this.route.snapshot.queryParamMap;s.has("bookingType")&&"Points"===s.get("bookingType")&&(a.bookingType="Points");var c=this.router.url,l=c.includes("book/options"),u=c.includes("book/calendar");l||u?this.router.navigate([],{relativeTo:this.route,queryParams:Object.assign({},a)}).then((function(){window.location.reload()})):this.router.navigate(["book","options"],{queryParams:Object.assign({},a)})}}else this.flightPassengers.togglePopup(!0)}},{key:"getDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";return"string"==typeof e?Hn(e,t):e.clone()}},{key:"setBookingParams",value:function(e){var t=this;if(this.bookerForm.tripType=e.travelType,this.bookerForm.passengers=new Qc.a,this.bookerForm.passengers=Object.assign(this.bookerForm.passengers,e.passengers),void 0!==e.promoCode&&(this.bookerForm.promoCode=e.promoCode),this.bookerForm.tripType!==zc.a.MULTI_CITY)switch(this.savedSelectedStations[0]={selectedOriginCode:e.itineraryCode[0].origin.code,selectedDestinationCode:e.itineraryCode[0].destination.code},this.bookerForm.tripType){case zc.a.ONE_WAY:this.savedSelectedDates[0]={startDate:this.getDate(e.itineraryCode[0].date),endDate:void 0};break;case zc.a.ROUND_TRIP:this.savedSelectedDates[0]={startDate:this.getDate(e.itineraryCode[0].date),endDate:this.getDate(e.itineraryCode[1].date)}}else e.itineraryCode.forEach((function(e,n){t.savedSelectedStations[n]={selectedOriginCode:e.origin.code,selectedDestinationCode:e.destination.code},t.savedSelectedDates[n]={startDate:t.getDate(e.date),endDate:void 0}}))}},{key:"closeSearchModal",value:function(){var e=this;this.closeAnimation=!0,this.closeOverlay.emit(!0),Object(Vt.a)(300).subscribe((function(){e.closeAnimation=!1,e.closeOverlay.emit(!1),e.menuClose.emit()}))}},{key:"setRoutes",value:function(){this.bookerForm.tripType===zc.a.MULTI_CITY&&this.bookerForm.journeys.length<2&&this.addMultiCityRoute(),this.bookerForm.tripType!==zc.a.MULTI_CITY&&this.bookerForm.journeys.length>1&&this.deleteMultiCityRoute()}},{key:"addMultiCityRoute",value:function(){this.bookerForm.journeys.push({origin:void 0,destination:void 0,journeyDates:void 0}),this.multiCityDates.push([{date:Hn(),availableDirectFlights:!1}]),this.bookingDays.push([{date:Hn(),availableDirectFlights:!1}]),this.displayCalendar.push(!1),this.returnBookingDays.push([{date:Hn(),availableDirectFlights:!1}]),this.isCalendarLoading.push(!1),this.savedSelectedDates.push(void 0),this.savedSelectedStations.push(void 0)}},{key:"deleteMultiCityRoute",value:function(){this.bookerForm.journeys.pop(),this.multiCityDates.pop(),this.bookingDays.pop(),this.displayCalendar.pop(),this.returnBookingDays.pop(),this.isCalendarLoading.pop(),this.savedSelectedDates.pop(),this.savedSelectedStations.pop()}},{key:"saveCurrentTrip",value:function(){var e,t,n,i,r,o=_createForOfIteratorHelper(this.bookerForm.journeys);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=this.bookerForm.journeys.indexOf(a);this.savedSelectedStations[s]=s?{selectedOriginCode:null===(e=this.bookerForm.journeys[s-1].destination)||void 0===e?void 0:e.code,selectedDestinationCode:null===(t=this.bookerForm.journeys[s-1].origin)||void 0===t?void 0:t.code}:{selectedOriginCode:null===(n=this.bookerForm.journeys[s].origin)||void 0===n?void 0:n.code,selectedDestinationCode:null===(i=this.bookerForm.journeys[s].destination)||void 0===i?void 0:i.code}}}catch(c){o.e(c)}finally{o.f()}}},{key:"getMultiCityDate",value:function(e){var t,n,i,r,o,a;if(e>0&&e<this.bookerForm.journeys.length)for(var s=e-1;s>=0;s--)if(null===(i=null===(n=null===(t=this.bookerForm.journeys)||void 0===t?void 0:t[s])||void 0===n?void 0:n.journeyDates)||void 0===i?void 0:i.startDate)return null===(a=null===(o=null===(r=this.bookerForm.journeys)||void 0===r?void 0:r[s])||void 0===o?void 0:o.journeyDates)||void 0===a?void 0:a.startDate;return Hn()}},{key:"setCalendarState",value:function(e,t){this.displayCalendar[t]=e&&this.displayCalendar.every((function(e){return!e})),this.cdRef.detectChanges()}},{key:"removeOverflowState",value:function(e){var t=this;Object(Vt.a)(e?250:0).subscribe((function(){t.removeOverflow=e}))}},{key:"setMultiCityInputIds",value:function(e){return{origin:"flight-search-origin-"+e,destination:"flight-search-destination-"+e}}},{key:"isRoundTrip",get:function(){return this.bookerForm.tripType===zc.a.ROUND_TRIP}},{key:"isACalendarLoading",get:function(){var e,t=_createForOfIteratorHelper(this.isCalendarLoading);try{for(t.s();!(e=t.n()).done;)if(!0===e.value)return!0}catch(n){t.e(n)}finally{t.f()}return!1}}]),e}()).\u0275fac=function(e){return new(e||Cu)(r.Tb(zl.a),r.Tb(Ql.a),r.Tb(Ss.a),r.Tb(Xl.a),r.Tb(Bt.g),r.Tb(Bt.a),r.Tb(jo.a),r.Tb(on.a),r.Tb(r.i),r.Tb(En.a),r.Tb(an.a))},Cu.\u0275cmp=r.Nb({type:Cu,selectors:[["app-edit-search-menu"]],viewQuery:function(e,t){var n;1&e&&(r.Yc(Wl.a,!0),r.Yc(Jl,!0),r.Yc(Vl.a,!0),r.Yc(Zl.a,!0),r.Yc(ws.a,!0)),2&e&&(r.Dc(n=r.ic())&&(t.flightPassengers=n.first),r.Dc(n=r.ic())&&(t.rowContainer=n.first),r.Dc(n=r.ic())&&(t.bookerCalendar=n),r.Dc(n=r.ic())&&(t.bookerCalendarRes=n),r.Dc(n=r.ic())&&(t.flightInputs=n))},outputs:{closeOverlay:"closeOverlay",menuClose:"menuClose"},decls:22,vars:13,consts:[[1,"edit-search-container",3,"ngClass","ngStyle"],[1,"container"],["rowContainer",""],[1,"row","align-items-baseline"],[1,"col-12","col-lg-6","px-0","px-lg-10"],[1,"d-flex","align-items-end"],[1,"title","light","edit-search-title","my-0"],[1,"mobile-view","close-btn","justify-content-end"],[1,"close-btn-container","d-flex","justify-content-center","align-items-center"],[1,"fas","fa-times-circle","d-flex","justify-content-center","align-items-center",3,"click"],[1,"col-12","col-lg-6","d-flex","justify-content-start","justify-content-lg-end","mt-20","mt-lg-0","p-0"],[3,"radioStyle","flightType","selectedFlightType"],[1,"edit-search-separator","opacity-5","mt-10","mb-20"],[4,"ngIf"],["promoBtnTemplate",""],["updateSearchBtn",""],[3,"promocode","typedPromocode"],[1,"row","mb-30","web-view"],[1,"col-12","d-flex","justify-content-end","align-items-center"],[4,"ngTemplateOutlet"],[1,"row","input-container"],[1,"col-9","mb-3"],[3,"selectedStations","forceMaxDate","includeMaacStations","customInputIds","selectedStationsChanged","savedSearchSelected"],[1,"col-5","calendar-container"],[3,"isLoading","isRoundTrip","departureBookingDates","returnBookingDates","forceMaxDate","selectedDates","selectedDatesChange",4,"ngIf"],[1,"col-4","d-none","d-lg-block"],[3,"passengers"],[1,"col-3","web-view"],[1,"col-12","mt-10","mobile-view-passengers"],[3,"simpleStyle","passengers"],[1,"mobile-promocode","mobile-view","w-100","mb-20","p-0"],[1,"d-flex","justify-content-end"],[1,"mobile-btn","mobile-view","w-100"],[3,"isLoading","isRoundTrip","departureBookingDates","returnBookingDates","forceMaxDate","selectedDates","selectedDatesChange"],[1,"row","mb-30"],[1,"col-9","d-flex","justify-content-start","justify-content-lg-end","align-items-center"],[1,"d-none","d-lg-block"],[1,"col-12","col-lg-3","d-flex","justify-content-start","justify-content-lg-end","align-items-center","pl-0"],[1,"ml-0","pass-selector",3,"simpleStyle","rightPositionDesktop","rightPositionResponsive","passengers"],["class","trips-container",4,"ngFor","ngForOf"],[1,"row","flex-column","flex-lg-row","justify-content-end"],[1,"mobile-promocode","mobile-view","w-100","my-20","p-0"],[1,"col-lg-3","mt-20","p-0","mb-40","mb-lg-0"],[1,"trips-container"],[1,"title","light","flight"],[1,"row","flex-column","flex-lg-row"],[1,"col-12","col-lg-9","p-0","px-lg-1"],[3,"selectedStations","showLastFlightSearch","forceMaxDate","prevJourney","includeMaacStations","customInputIds","selectedStationsChanged","savedSearchSelected"],[1,"col-12","col-lg-3","p-0","px-lg-1","calendar"],[3,"isLoading","departureBookingDates","selectedDates","isRoundTrip","displayCalendar","showToLeft","forceMaxDate","selectedDatesChange","isOpened",4,"ngIf"],[3,"isLoading","departureBookingDates","selectedDates","isRoundTrip","forceMaxDate","selectedDatesChange","openModal","closeModal",4,"ngIf"],[3,"isLoading","departureBookingDates","selectedDates","isRoundTrip","displayCalendar","showToLeft","forceMaxDate","selectedDatesChange","isOpened"],[3,"isLoading","departureBookingDates","selectedDates","isRoundTrip","forceMaxDate","selectedDatesChange","openModal","closeModal"],["class","viva-btn tertiary light",3,"click",4,"ngIf","ngIfElse"],["promocodeBtn",""],[1,"viva-btn","tertiary","light",3,"click"],[1,"fas","fa-plus","ml-2"],[1,"edit-search-promocode",3,"click"],[1,"mx-2"],[1,"fas","fa-ellipsis-v"],[1,"viva-btn","action","w-100",3,"disabled","click"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"div",1,2),r.Zb(3,"div",3),r.Zb(4,"div",4),r.Zb(5,"div",5),r.Zb(6,"h3",6),r.Sc(7),r.kc(8,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Zb(9,"div",7),r.Zb(10,"div",8),r.Zb(11,"i",9),r.hc("click",(function(){return t.closeSearchModal()})),r.Yb(),r.Yb(),r.Yb(),r.Zb(12,"div",10),r.Zb(13,"app-flight-select",11),r.hc("selectedFlightType",(function(e){return t.setTripType(e)})),r.Yb(),r.Yb(),r.Yb(),r.Ub(14,"hr",12),r.Qc(15,au,21,15,"div",13),r.Qc(16,vu,15,11,"div",13),r.Yb(),r.Yb(),r.Qc(17,yu,3,2,"ng-template",null,14,r.Rc),r.Qc(19,_u,4,4,"ng-template",null,15,r.Rc),r.Zb(21,"app-coupons-modal",16),r.hc("typedPromocode",(function(e){return t.setPromocode(e)})),r.Yb()),2&e&&(r.sc("ngClass",r.wc(10,ku,t.closeAnimation,t.removeOverflow))("ngStyle",t.containerStyle),r.Hb(7),r.Uc(" ",r.lc(8,8,"BOOKER_LABEL_UPDATE-SEARCH")," "),r.Hb(6),r.sc("radioStyle",!0)("flightType",t.bookerForm.tripType),r.Hb(2),r.sc("ngIf",t.bookerForm.tripType!==t.tripType.MULTI_CITY),r.Hb(1),r.sc("ngIf",t.bookerForm.tripType===t.tripType.MULTI_CITY),r.Hb(5),r.sc("promocode",t.bookerForm.promoCode))},directives:[mt.r,mt.x,ql.a,mt.u,$l.a,mt.B,ws.a,Wl.a,Vl.a,Zl.a,mt.t],pipes:[Nn.a,hr.a],styles:[".edit-search-container[_ngcontent-%COMP%]{padding-top:40px;padding-bottom:40px;background-color:var(--bg4);position:relative;transition:all .2s}@media screen and (max-width:991px){.edit-search-container[_ngcontent-%COMP%]{-webkit-animation:slideIn .3s ease 0s normal forwards;animation:slideIn .3s ease 0s normal forwards;max-width:800px;right:0;top:0;position:fixed;min-height:100%;bottom:0;width:100%;padding:0;z-index:0;display:flex;justify-content:center;overflow:auto;height:auto!important}.edit-search-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;padding:40px 20px;height:100%;margin:0}.edit-search-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{align-items:unset!important;margin:0}.edit-search-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-9[_ngcontent-%COMP%]{padding:0}.edit-search-container.remove-overflow[_ngcontent-%COMP%]{overflow:unset!important}}.edit-search-container[_ngcontent-%COMP%]   .flight[_ngcontent-%COMP%]{font-size:20px}@media screen and (max-width:991px){.edit-search-container[_ngcontent-%COMP%]   .flight[_ngcontent-%COMP%]{font-size:16px}}.edit-search-title[_ngcontent-%COMP%]{font-size:28px;line-height:1.14}@media screen and (max-width:575px){.edit-search-title[_ngcontent-%COMP%]{flex:0 0 100%;font-size:24px}}.edit-search-separator[_ngcontent-%COMP%]{background-color:var(--wh1);border:none}@media screen and (max-width:991px){.edit-search-separator[_ngcontent-%COMP%]{margin-bottom:20px!important}}.edit-search-promocode[_ngcontent-%COMP%]{font-family:Axiforma,Arial;font-weight:700;color:var(--bg6);background-color:var(--vg4);border:none;border-radius:20px;padding:5px 15px;cursor:pointer}.edit-search-promocode[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--wh1)}.edit-search-promocode[_ngcontent-%COMP%]:focus{outline:none}.mobile-view[_ngcontent-%COMP%]{display:none!important}@media screen and (max-width:991px){.mobile-view[_ngcontent-%COMP%]{display:flex!important}}.mobile-view-passengers[_ngcontent-%COMP%]{display:none!important}@media screen and (max-width:991px){.mobile-view-passengers[_ngcontent-%COMP%]{padding:0!important;display:block!important}}.web-view[_ngcontent-%COMP%]{display:flex!important}@media screen and (max-width:991px){.web-view[_ngcontent-%COMP%]{display:none!important}}@media screen and (max-width:991px){.close-animation[_ngcontent-%COMP%]{-webkit-animation:slideOut .3s ease 0s normal forwards;animation:slideOut .3s ease 0s normal forwards}.calendar-container[_ngcontent-%COMP%]{margin-top:10px!important;padding:0!important}.close-btn-container[_ngcontent-%COMP%]{width:32px;height:32px;background-color:var(--bg6);border-radius:50%;cursor:pointer;position:absolute}.close-btn-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;background-color:var(--wh1);width:20px;height:20px;border-radius:50%}.close-btn-container[_ngcontent-%COMP%]:hover{background-color:var(--vg4)}.close-btn-container[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--vg4)}}@media screen and (max-width:991px) and (max-width:991px){.pass-selector[_ngcontent-%COMP%]{position:relative;left:-15px}}@media screen and (max-width:991px) and (max-width:720px){.pass-selector[_ngcontent-%COMP%]{position:relative;left:-10px}}@media screen and (max-width:991px){.input-container[_ngcontent-%COMP%]{flex-wrap:wrap!important;display:block}.input-container[_ngcontent-%COMP%]   .col-9[_ngcontent-%COMP%]{width:100%;min-width:100%;margin:0!important}.input-container[_ngcontent-%COMP%]   .col-5[_ngcontent-%COMP%]{width:100%;min-width:100%;margin-top:5px}.input-container[_ngcontent-%COMP%]   .mobile-promocode[_ngcontent-%COMP%]{padding:0 10px;margin-top:20px}}@media screen and (max-width:991px) and (max-width:800px){.input-container[_ngcontent-%COMP%]   .mobile-promocode[_ngcontent-%COMP%]{padding:0!important}}@media screen and (max-width:991px){.input-container[_ngcontent-%COMP%]   .mobile-btn[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;left:0;padding:0 20px 20px;margin:0}}@media screen and (max-width:800px){.calendar-container[_ngcontent-%COMP%]{margin-top:5px!important}}@-webkit-keyframes slideIn{0%{-webkit-transform:translateX(100%)}to{-webkit-transform:translateX(0)}}@keyframes slideIn{0%{transform:translateX(100%)}to{transform:translateX(0)}}@-webkit-keyframes slideOut{0%{transform:translateX(0)}to{transform:translateX(100%)}}@keyframes slideOut{0%{transform:translateX(0)}to{transform:translateX(100%)}}@media screen and (max-width:991px){.calendar[_ngcontent-%COMP%]{margin-top:10px}}@media screen and (max-width:800px){.calendar[_ngcontent-%COMP%]{margin-top:5px}}.trips-container[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:40px}"],data:{animation:[Object(f.n)("fadeIn",[Object(f.m)(":enter",[Object(f.o)(Kl.a)])]),Object(f.n)("fadeOut",[Object(f.m)("true => false",[Object(f.o)(Kl.b)])])]}}),Cu);function Ou(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-main-header",13),r.hc("menuOptionClick",(function(e){return r.Hc(n),r.jc(2).toggleMenu(e)})),r.kc(1,"cmsStaticImage"),r.Yb()}if(2&e){var i=r.jc(2);r.sc("logoImgSrc",i.showDarksite?r.lc(1,3,"DARK_SITE_LOGO_VIVA"):i.prinpalLogo)("menuId",i.menuId)("menuIsOpen",i.menuIsOpen)}}function Tu(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-responsive-header",14),r.hc("menuOptionClick",(function(e){return r.Hc(n),r.jc(2).toggleMenu(e)})),r.kc(1,"cmsStaticImage"),r.Yb()}if(2&e){var i=r.jc(2);r.sc("logoImgSrc",i.showDarksite?r.lc(1,4,"DARK_SITE_LOGO_VIVA"):i.prinpalLogo)("menuId",i.menuId)("menuIsOpen",i.menuIsOpen)("isAndroidBannerShown",i.isAndroidBannerShown)}}function wu(e,t){if(1&e&&(r.Xb(0),r.Qc(1,Ou,2,5,"app-main-header",11),r.Qc(2,Tu,2,6,"app-responsive-header",12),r.Wb()),2&e){var n=r.jc();r.Hb(1),r.sc("ngIf",!n.isMobile),r.Hb(1),r.sc("ngIf",n.isMobile)}}function Au(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-booking-header",13),r.hc("menuOptionClick",(function(e){return r.Hc(n),r.jc(2).toggleMenu(e)})),r.kc(1,"cmsStaticImage"),r.Yb()}if(2&e){var i=r.jc(2);r.sc("logoImgSrc",i.showDarksite?r.lc(1,3,"DARK_SITE_LOGO_VIVA"):i.altLogoImg)("menuId",i.menuId)("menuIsOpen",i.menuIsOpen)}}function Eu(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-booking-header-responsive",13),r.hc("menuOptionClick",(function(e){return r.Hc(n),r.jc(2).toggleMenu(e)})),r.kc(1,"cmsStaticImage"),r.Yb()}if(2&e){var i=r.jc(2);r.sc("logoImgSrc",i.showDarksite?r.lc(1,3,"DARK_SITE_LOGO_VIVA"):i.altMobileLogoImg)("menuId",i.menuId)("menuIsOpen",i.menuIsOpen)}}function Pu(e,t){if(1&e&&(r.Xb(0),r.Qc(1,Au,2,5,"app-booking-header",11),r.Qc(2,Eu,2,5,"app-booking-header-responsive",11),r.Wb()),2&e){var n=r.jc();r.Hb(1),r.sc("ngIf",!n.isMobile),r.Hb(1),r.sc("ngIf",n.isMobile)}}function Mu(e,t){if(1&e&&(r.Xb(0),r.Ub(1,"app-mmb-header",15),r.kc(2,"cmsStaticImage"),r.Wb()),2&e){var n=r.jc();r.Hb(1),r.sc("logoImgSrc",n.showDarksite?r.lc(2,2,"DARK_SITE_LOGO_VIVA"):n.prinpalLogo)("logoImgSrcRes",n.altMobileLogoImg)}}function xu(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-reservation-menu",16),r.hc("menuClose",(function(){return r.Hc(n),r.jc().closeMenu()})),r.Yb()}}function Du(e,t){1&e&&r.Ub(0,"app-flight-menu")}function Iu(e,t){1&e&&r.Ub(0,"app-planning-menu")}function Lu(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-flight-status-menu",16),r.hc("menuClose",(function(){return r.Hc(n),r.jc().closeMenu()})),r.Yb()}}function Ru(e,t){1&e&&r.Ub(0,"app-search-container")}function Nu(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-locale-currency-modal",17),r.hc("menuClose",(function(){return r.Hc(n),r.jc().closeMenu()})),r.Yb()}if(2&e){var i=r.jc();r.sc("isInBooking",i.headerType===i.vivaHeaderType.BOOKING)}}function ju(e,t){if(1&e){var n=r.ac();r.Zb(0,"app-edit-search-menu",18),r.hc("menuClose",(function(){return r.Hc(n),r.jc().closeMenu()}))("closeOverlay",(function(e){return r.Hc(n),r.jc().checkOverlayAnimation(e)})),r.Yb()}}var Bu,Fu,Hu=function(e){return{"android-top":e}},Uu=function(e,t){return{show:e,"close-animation":t}},Yu=((Fu=function(){function e(t,n,i,r,o,a,s){_classCallCheck(this,e),this.document=t,this.router=n,this.utilsSvc=i,this.storefront=r,this.csmConfig=o,this.location=a,this.txHeaderSvc=s,this.menuIds=Ro.a,this.menuId=Ro.a.INACTIVE,this.menuIsOpen=!1,this.headerType=Ro.b.NORMAL,this.vivaHeaderType=Ro.b,this.vivaHeaderTypeClass="",this.routerSubscription=sn.a.EMPTY,this.altLogoImg=No.b,this.altMobileLogoImg=No.b,this.isMobile=!1,this.closeAnimation=!1,this.showDarksite=!1,this.prinpalLogo="https://content.vivaaerobus.com/pwa/viva-logo.svg",this.editSearchSubscription=sn.a.EMPTY,this.isAndroidBannerShown=!1,this.showDarksite=this.csmConfig.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.DarkSite)}return _createClass(e,[{key:"onResize",value:function(e){e.target.innerWidth<=1240?(this.isMobile||this.closeMenu(),this.isMobile=!0):(this.isMobile&&this.document.body.classList.remove("open-modal"),this.isMobile=!1)}},{key:"ngOnInit",value:function(){var e=this;this.windowSize(),this.startRouteNavigationSubscription(),this.setLogosImgSrc(),this.editSearchSubscription=this.txHeaderSvc.editSeachNotify$.subscribe((function(t){t&&e.toggleMenu(Ro.a.EDIT_SEARCH)}))}},{key:"ngOnDestroy",value:function(){this.routerSubscription.unsubscribe(),this.editSearchSubscription.closed||this.editSearchSubscription.unsubscribe()}},{key:"toggleMenu",value:function(e){var t=this.menuId;this.closeMenu(),e!==t&&this.openMenu(e)}},{key:"openMenu",value:function(e){this.menuId=e,this.menuIsOpen=!0,this.document.body.classList.add("open-responsive-modal")}},{key:"checkOverlayAnimation",value:function(e){this.closeAnimation=e}},{key:"closeMenu",value:function(){this.menuId=Ro.a.INACTIVE,this.menuIsOpen=!1,this.document.body.classList.remove("open-responsive-modal")}},{key:"startRouteNavigationSubscription",value:function(){var e=this;this.routerSubscription=this.router.events.subscribe((function(t){var n;if(t instanceof Bt.c){e.closeMenu();var i=null===(n=e.router.parseUrl(t.url).root.children[Bt.f])||void 0===n?void 0:n.segments;if(i){if(e.utilsSvc.isInsideSegment(i,"maintenance")&&e.location.getState().from)return void e.setHeaderType(Ro.b.NORMAL);if(e.utilsSvc.isInsideSegment(i,"book")&&!e.utilsSvc.isInsideSegment(i,"confirmation"))return void e.setHeaderType(Ro.b.BOOKING);if(e.utilsSvc.isInsideSegment(i,"manage")&&!e.utilsSvc.isInsideSegment(i,"trip-details")&&!e.utilsSvc.isInsideSegment(i,"find-booking")&&!e.utilsSvc.isInsideSegment(i,"marketplace")||e.utilsSvc.isInsideSegment(i,"irop")&&!e.utilsSvc.isInsideSegment(i,"find-booking"))return void e.setHeaderType(Ro.b.MANAGE);e.setHeaderType(Ro.b.NORMAL)}else e.setHeaderType(Ro.b.NORMAL)}}))}},{key:"setHeaderType",value:function(e){this.headerType=e,this.vivaHeaderTypeClass=this.getHeaderTypeClass(this.headerType)}},{key:"getHeaderTypeClass",value:function(e){switch(e){case Ro.b.NORMAL:return"";case Ro.b.BOOKING:return"header-booking";case Ro.b.MANAGE:return"header-manage";default:return""}}},{key:"setLogosImgSrc",value:function(){var e=this;this.storefront.ready.then((function(){var t,n,i,r,o,a,s=e.storefront.storefrontData;s&&s.mainLogo&&!l.g.production&&(e.prinpalLogo=(null===(n=null===(t=s.mainLogo.fields)||void 0===t?void 0:t.file)||void 0===n?void 0:n.url)||No.b),s&&s.altLogo&&(e.altLogoImg=(null===(r=null===(i=s.altLogo.fields)||void 0===i?void 0:i.file)||void 0===r?void 0:r.url)||No.b),s&&s.altMobileLogo&&(e.altMobileLogoImg=(null===(a=null===(o=s.altMobileLogo.fields)||void 0===o?void 0:o.file)||void 0===a?void 0:a.url)||No.b)}))}},{key:"windowSize",value:function(){this.isMobile=window.innerWidth<=1240}}]),e}()).\u0275fac=function(e){return new(e||Fu)(r.Tb(mt.e),r.Tb(Bt.g),r.Tb(Cn.a),r.Tb(tn.a),r.Tb(an.a),r.Tb(mt.o),r.Tb(jo.a))},Fu.\u0275cmp=r.Nb({type:Fu,selectors:[["app-viva-header"]],hostBindings:function(e,t){1&e&&r.hc("resize",(function(e){return t.onResize(e)}),!1,r.Gc)},inputs:{isAndroidBannerShown:"isAndroidBannerShown"},decls:18,vars:21,consts:[[1,"sticky-container","w-100",3,"ngClass"],[1,"viva-header","header-background",3,"ngClass"],[1,"container","h-100"],[1,"row","header-container"],[1,"w-100","col-xl-12","pl-20","pl-lg-10","pr-10","pr-lg-10",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"viva-header","menu",3,"ngClass","ngSwitch"],[3,"menuClose",4,"ngSwitchCase"],[3,"isInBooking","menuClose",4,"ngSwitchCase"],[3,"menuClose","closeOverlay",4,"ngSwitchCase"],[1,"viva-header","menu-backdrop",3,"ngClass","click"],[3,"logoImgSrc","menuId","menuIsOpen","menuOptionClick",4,"ngIf"],[3,"logoImgSrc","menuId","menuIsOpen","isAndroidBannerShown","menuOptionClick",4,"ngIf"],[3,"logoImgSrc","menuId","menuIsOpen","menuOptionClick"],[3,"logoImgSrc","menuId","menuIsOpen","isAndroidBannerShown","menuOptionClick"],[3,"logoImgSrc","logoImgSrcRes"],[3,"menuClose"],[3,"isInBooking","menuClose"],[3,"menuClose","closeOverlay"]],template:function(e,t){1&e&&(r.Zb(0,"header"),r.Zb(1,"div",0),r.Zb(2,"div",1),r.Zb(3,"div",2),r.Zb(4,"div",3),r.Zb(5,"div",4),r.Qc(6,wu,3,2,"ng-container",5),r.Qc(7,Pu,3,2,"ng-container",5),r.Qc(8,Mu,3,4,"ng-container",5),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(9,"div",6),r.Qc(10,xu,1,0,"app-reservation-menu",7),r.Qc(11,Du,1,0,"app-flight-menu",5),r.Qc(12,Iu,1,0,"app-planning-menu",5),r.Qc(13,Lu,1,0,"app-flight-status-menu",7),r.Qc(14,Ru,1,0,"app-search-container",5),r.Qc(15,Nu,1,1,"app-locale-currency-modal",8),r.Qc(16,ju,1,0,"app-edit-search-menu",9),r.Yb(),r.Zb(17,"div",10),r.hc("click",(function(){return t.closeMenu()})),r.Yb(),r.Yb()),2&e&&(r.Hb(1),r.sc("ngClass",r.vc(16,Hu,t.isAndroidBannerShown)),r.Hb(1),r.sc("ngClass",t.vivaHeaderTypeClass),r.Hb(3),r.sc("ngSwitch",t.headerType),r.Hb(1),r.sc("ngSwitchCase",t.vivaHeaderType.NORMAL),r.Hb(1),r.sc("ngSwitchCase",t.vivaHeaderType.BOOKING),r.Hb(1),r.sc("ngSwitchCase",t.vivaHeaderType.MANAGE),r.Hb(1),r.sc("ngClass",t.vivaHeaderTypeClass)("ngSwitch",t.menuId),r.Hb(1),r.sc("ngSwitchCase",t.menuIds.FLIGHT),r.Hb(1),r.sc("ngSwitchCase",t.menuIds.RESERVATION),r.Hb(1),r.sc("ngSwitchCase",t.menuIds.PLANNING),r.Hb(1),r.sc("ngSwitchCase",t.menuIds.FLISTATUS),r.Hb(1),r.sc("ngSwitchCase",t.menuIds.SEARCH),r.Hb(1),r.sc("ngSwitchCase",t.menuIds.LOCALE),r.Hb(1),r.sc("ngSwitchCase",t.menuIds.EDIT_SEARCH),r.Hb(1),r.sc("ngClass",r.wc(18,Uu,t.menuIsOpen,t.closeAnimation)))},directives:[mt.r,mt.y,mt.z,mt.u,ba,Kc,ul,yl,Pl,Il,Ul,_s,Qs,Yl,pc,Su],pipes:[si.a],styles:[".sticky-container[_ngcontent-%COMP%]{position:fixed;top:0;z-index:10}.sticky-container.android-top[_ngcontent-%COMP%]{top:72px}.viva-header.header-background[_ngcontent-%COMP%]{background-color:var(--wh1);height:76px;width:100%}@media screen and (max-width:800px){.viva-header.header-background[_ngcontent-%COMP%]{height:60px}}.viva-header.header-background.header-booking[_ngcontent-%COMP%]{height:60px}@media screen and (max-width:720px){.viva-header.header-background.header-booking[_ngcontent-%COMP%]{height:50px;box-shadow:0 0 50px 0 hsla(0,0%,55.3%,.07),0 1px 5px 0 rgba(95,95,95,.07),0 1px 0 0 var(--gr25)}}.viva-header.header-background.header-booking[_ngcontent-%COMP%] ~ .viva-header.menu[_ngcontent-%COMP%]{max-height:calc(100vh - 60px)}@media screen and (max-width:720px){.viva-header.header-background.header-manage[_ngcontent-%COMP%]{height:50px;box-shadow:0 0 50px 0 hsla(0,0%,55.3%,.07),0 1px 5px 0 rgba(95,95,95,.07),0 1px 0 0 var(--gr25)}}.viva-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{height:100%;align-items:center}.viva-header.menu[_ngcontent-%COMP%]{position:fixed;top:76px;width:100%;max-height:calc(100vh - 76px);z-index:10}.viva-header.menu.header-booking[_ngcontent-%COMP%]{top:60px}.viva-header.menu-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:8;width:100%;height:100%;background-color:var(--bl9);opacity:.7;display:none}.viva-header.menu-backdrop.show[_ngcontent-%COMP%]{display:block}@media screen and (max-width:1024px){.viva-header.menu-backdrop.close-animation[_ngcontent-%COMP%]{display:none}}"]}),Fu),Gu=((Bu=function(){function e(t){_classCallCheck(this,e),this.document=t,this.showModalResponsive$=new r.p}return _createClass(e,[{key:"openModal",value:function(){this.showModalResponsive$.emit(!0),this.document.body.classList.add("open-modal")}},{key:"closeModal",value:function(){this.showModalResponsive$.emit(!1),this.document.body.classList.remove("open-modal")}}]),e}()).\u0275fac=function(e){return new(e||Bu)(r.dc(mt.e))},Bu.\u0275prov=r.Pb({token:Bu,factory:Bu.\u0275fac,providedIn:"root"}),Bu),Vu={openSidebar:Object(f.n)("openSidebar",[Object(f.k)("false",Object(f.l)({transform:"translateX(100%)"})),Object(f.k)("true",Object(f.l)({transform:"translateX(0)"})),Object(f.m)("true <=> false",[Object(f.e)(".3s cubic-bezier(0.165, 0.84, 0.44, 1)")])])};function Zu(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",6),r.hc("click",(function(){return r.Hc(n),r.jc().closeModal()})),r.Yb()}}var Wu,Ku=function(e){return{"sb-open":e}},zu=function(){var e=function(){function e(t){_classCallCheck(this,e),this.responsiveSidebarSvc=t,this.selectedMenuId=null,this.showModal=!1,this.goBack=new r.p}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.responsiveSidebarSvc.showModalResponsive$.subscribe((function(t){e.showModal=t}))}},{key:"onGoBack",value:function(){this.goBack.emit(),this.selectedMenuId=null,this.responsiveSidebarSvc.closeModal()}},{key:"closeModal",value:function(){this.responsiveSidebarSvc.closeModal()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Tb(Gu))},e.\u0275cmp=r.Nb({type:e,selectors:[["app-responsive-search"]],inputs:{title:"title"},outputs:{goBack:"goBack"},decls:10,vars:6,consts:[["class","overlay",3,"click",4,"ngIf"],[1,"sidebar-container",3,"ngClass"],[1,"responsive-content-header","title"],[1,"fas","fa-arrow-left",3,"click"],[1,"flex","flex-fill"],[1,"fas","fa-times",3,"click"],[1,"overlay",3,"click"]],template:function(e,t){1&e&&(r.Qc(0,Zu,1,0,"div",0),r.Zb(1,"div",1),r.Zb(2,"div"),r.Zb(3,"div",2),r.Zb(4,"i",3),r.hc("click",(function(){return t.onGoBack()})),r.Yb(),r.Zb(5,"div",4),r.Sc(6),r.Yb(),r.Zb(7,"i",5),r.hc("click",(function(){return t.onGoBack()})),r.Yb(),r.Yb(),r.Zb(8,"div"),r.Ub(9,"app-site-search"),r.Yb(),r.Yb(),r.Yb()),2&e&&(r.sc("ngIf",t.showModal),r.Hb(1),r.sc("ngClass",r.vc(4,Ku,t.showModal))("@openSidebar",t.showModal),r.Hb(5),r.Tc(t.title))},directives:[mt.u,mt.r,Ic],styles:[".responsive-content-header[_ngcontent-%COMP%]{height:60px;display:flex;align-items:center;background-color:var(--wh1)}.responsive-content-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 22px}.overlay[_ngcontent-%COMP%]{background-color:transparent!important;position:absolute}.sidebar-container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 76px);overflow-y:auto}.sidebar-container.is-headless[_ngcontent-%COMP%]{margin-top:76px;padding-bottom:100px}@media screen and (max-width:800px){.sidebar-container.is-headless[_ngcontent-%COMP%]{margin-top:60px}}"],data:{animation:[Vu.openSidebar]}}),e}(),Qu=((Wu=function(){function e(t,n,i){_classCallCheck(this,e),this.document=t,this.fb=n,this.responsiveHeaderSvc=i,this.title="",this.getResultsSubscription=sn.a.EMPTY,this.responsiveModalSubscription=sn.a.EMPTY,this.results=[],this.selectedMenuId=null,this.menuIds=Ro.a,this.menuId=Ro.a.INACTIVE,this.showModal=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.responsiveHeaderSvc.showModalResponsive$.subscribe((function(t){e.showModal=t})),this.responsiveModalSubscription=this.responsiveHeaderSvc.showModalResponsive$.subscribe((function(t){return e.menuIsOpen=t})),this.form=this.generateForm()}},{key:"ngOnDestroy",value:function(){this.getResultsSubscription.unsubscribe(),this.responsiveModalSubscription.unsubscribe()}},{key:"generateForm",value:function(){return this.fb.group({search:["",[Rn.I.required,Rn.I.minLength(1)]]})}},{key:"onGoBack",value:function(){this.selectedMenuId=null}},{key:"closeMenu",value:function(){this.responsiveHeaderSvc.closeModal()}},{key:"openMenu",value:function(){this.responsiveHeaderSvc.openModal(),this.menuId=this.menuIds.SEARCH,this.menuIsOpen=!0,this.document.body.classList.add("open-modal")}}]),e}()).\u0275fac=function(e){return new(e||Wu)(r.Tb(mt.e),r.Tb(Rn.h),r.Tb(Gu))},Wu.\u0275cmp=r.Nb({type:Wu,selectors:[["app-site-search-responsive"]],decls:13,vars:5,consts:[[1,"site-search__top-container","py-xs-0","px-20","px-lg-20"],[1,"container","px-0","px-lg-10","pb-1","pb-lg-0"],[1,"row","mb-20"],[1,"col-xl-12"],["autocomplete","off",3,"formGroup","click"],[1,"site-search__input"],["formControlName","search","name","search","type","search","placeholder","\xbfNo has encontrado lo que buscabas?",1,"h3"],["type","submit",1,"viva-btn","icon","site-search__submit-btn",3,"disabled"],[1,"content"],[1,"fas","fa-search"],[3,"title","goBack"]],template:function(e,t){1&e&&(r.Zb(0,"div"),r.Zb(1,"div",0),r.Zb(2,"div",1),r.Zb(3,"div",2),r.Zb(4,"div",3),r.Zb(5,"form",4),r.hc("click",(function(){return t.openMenu()})),r.Zb(6,"div",5),r.Ub(7,"input",6),r.Zb(8,"button",7),r.Zb(9,"div",8),r.Ub(10,"i",9),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(11,"app-responsive-search",10),r.hc("goBack",(function(){return t.onGoBack()})),r.kc(12,"cmsTranslate"),r.Yb()),2&e&&(r.Hb(5),r.sc("formGroup",t.form),r.Hb(3),r.sc("disabled",t.form.invalid),r.Hb(3),r.sc("title",r.lc(12,3,"HEADER_SEARCH_TITLE")))},directives:[Rn.K,Rn.v,Rn.m,Rn.d,Rn.u,Rn.k,zu],pipes:[Nn.a],styles:[".site-search__top-container[_ngcontent-%COMP%]{padding-top:30px;padding-bottom:20px}.site-search__bottom-container[_ngcontent-%COMP%]{padding-top:36px;padding-bottom:24px;background-color:var(--wh2)}@media screen and (max-width:991px){.site-search__bottom-container[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}}.site-search__input[_ngcontent-%COMP%]{position:relative}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{caret-color:var(--vg4);height:56px;width:100%;border:rgba(0,40,19,.44);border-bottom:1px solid rgba(0,40,19,.44);padding-bottom:12px;margin-bottom:0;background-color:transparent;pointer-events:none}@media screen and (max-width:991px){.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:80px}}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--gr40);opacity:1}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--gr40);opacity:1}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--gr40);opacity:1}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-moz-placeholder{opacity:0}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-ms-input-placeholder{opacity:0}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::placeholder{opacity:0}.site-search__submit-btn[_ngcontent-%COMP%]{position:absolute;width:60px;height:60px;bottom:10px;right:0}.site-search__submit-btn[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:20px;color:var(--wh1)}@media screen and (max-width:991px){.site-search__submit-btn[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:16px}}.site-search__submit-btn[_ngcontent-%COMP%]:disabled{background-color:rgba(var(--bl9-rgb),.39)}@media screen and (max-width:991px){.site-search__input[_ngcontent-%COMP%]{display:flex;align-items:center}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px!important;padding-bottom:0;border-radius:0;-webkit-appearance:none;-moz-appearance:none}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--bg4)}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--bg4)}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--bg4)}.site-search__submit-btn[_ngcontent-%COMP%]{width:34px!important;height:34px!important;right:0;bottom:24px;padding:0}}"]}),Wu),Xu=Object(f.f)([Object(f.n)("openClose",[Object(f.m)(":enter",[Object(f.l)({height:0,opacity:0}),Object(f.e)(".5s cubic-bezier(0.165, 0.84, 0.44, 1)",Object(f.l)({height:"*",opacity:1}))]),Object(f.m)(":leave",[Object(f.l)({height:"*",opacity:1}),Object(f.e)(".5s cubic-bezier(0.165, 0.84, 0.44, 1)",Object(f.l)({height:0,opacity:0}))])])]);function qu(e,t){if(1&e&&(r.Zb(0,"div",11),r.Sc(1),r.Yb()),2&e){var n=r.jc().$implicit;r.Hb(1),r.Uc(" ",n.title," ")}}var $u=function(e){return{"mb-3":e}};function Ju(e,t){if(1&e&&(r.Zb(0,"div",13),r.Zb(1,"app-call-to-action",14),r.Sc(2),r.Yb(),r.Yb()),2&e){var n=t.$implicit,i=t.index,o=r.jc(2).$implicit;r.sc("ngClass",r.vc(4,$u,i+1!==o.ctas.length)),r.Hb(1),r.sc("callToAction",n)("ctaClass","small-title darker opacity-5"),r.Hb(1),r.Uc(" ",null==n?null:n.text," ")}}function ed(e,t){if(1&e&&(r.Zb(0,"div"),r.Qc(1,Ju,3,6,"div",12),r.Yb()),2&e){var n=r.jc().$implicit;r.sc("@openClose",void 0),r.Hb(1),r.sc("ngForOf",n.ctas)}}var td=function(e){return{"fa-rotate-180":e}};function nd(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",4),r.Zb(1,"div",5),r.hc("click",(function(){r.Hc(n);var e=t.index;return r.jc(2).toggleAccordion(e)})),r.Zb(2,"div",6),r.Qc(3,qu,2,1,"div",7),r.Ub(4,"em",8),r.Yb(),r.Ub(5,"hr",9),r.Yb(),r.Qc(6,ed,2,2,"div",10),r.Yb()}if(2&e){var i=t.$implicit,o=r.jc(2);r.Hb(3),r.sc("ngIf",!(null==i||!i.title)),r.Hb(1),r.sc("ngClass",r.vc(3,td,i.isOpen)),r.Hb(2),r.sc("ngIf",i.isOpen||!o.isMobile)}}function id(e,t){if(1&e&&(r.Zb(0,"div",1),r.Zb(1,"div",2),r.Qc(2,nd,7,5,"div",3),r.Yb(),r.Yb()),2&e){var n=r.jc();r.Hb(2),r.sc("ngForOf",n.columns)}}var rd,od,ad=((rd=function(){function e(){_classCallCheck(this,e),this.linksAboveFooter=[],this.isMobile=!1,this.columns=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.resolveColumns()}},{key:"toggleAccordion",value:function(e){this.isMobile&&(this.columns[e].isOpen=!this.columns[e].isOpen)}},{key:"resolveColumns",value:function(){var e=this;this.columns=[],this.linksAboveFooter.forEach((function(t){var n,i,r=null===(i=null===(n=t.fields)||void 0===n?void 0:n.items)||void 0===i?void 0:i.map((function(e){return e.fields}));e.columns.push({title:t.fields.title,ctas:r,isOpen:!1})}))}}]),e}()).\u0275fac=function(e){return new(e||rd)},rd.\u0275cmp=r.Nb({type:rd,selectors:[["app-links-above-footer"]],inputs:{linksAboveFooter:"linksAboveFooter",isMobile:"isMobile"},decls:1,vars:1,consts:[["class","container py-40 links-above-footer px-20 px-lg-10",4,"ngIf"],[1,"container","py-40","links-above-footer","px-20","px-lg-10"],[1,"row"],["class","col-12 col-lg",4,"ngFor","ngForOf"],[1,"col-12","col-lg"],[1,"mb-3","pt-3",3,"click"],[1,"d-flex","mb-2","mb-lg-0","justify-content-between","align-items-center","pr-5","pr-lg-0"],["class","title darker",4,"ngIf"],[1,"fas","fa-sort-down","d-block","d-lg-none",3,"ngClass"],[1,"d-block","d-lg-none","my-0"],[4,"ngIf"],[1,"title","darker"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"callToAction","ctaClass"]],template:function(e,t){1&e&&r.Qc(0,id,3,1,"div",0),2&e&&r.sc("ngIf",!(null==t.columns||!t.columns.length))},directives:[mt.u,mt.t,mt.r,pi.a],styles:[".links-above-footer[_ngcontent-%COMP%]{background-color:var(--wh2)}@media screen and (max-width:991px){.title[_ngcontent-%COMP%]{font-size:18px;line-height:22px}}.fa-sort-down[_ngcontent-%COMP%]{font-size:20px;color:var(--gr40);transition:all .3s cubic-bezier(.165,.84,.44,1)}"],data:{animation:[Xu.animation]}}),rd),sd=n("G/yK"),cd=n("egL7"),ld=((od=function(){function e(t,n){_classCallCheck(this,e),this.el=t,this.titleCasePipe=n}return _createClass(e,[{key:"onInputChange",value:function(e){var t=e.target.value;t.trim()&&(this.el.nativeElement.value=this.titleCasePipe.transform(t))}}]),e}()).\u0275fac=function(e){return new(e||od)(r.Tb(r.n),r.Tb(mt.G))},od.\u0275dir=r.Ob({type:od,selectors:[["","appInputCapitalize",""]],hostBindings:function(e,t){1&e&&r.hc("input",(function(e){return t.onInputChange(e)}))}}),od),ud=n("DflE");function dd(e,t){if(1&e){var n=r.ac();r.Zb(0,"button",11),r.hc("click",(function(){return r.Hc(n),r.jc().closeModal()})),r.Ub(1,"em",12),r.Yb()}}function hd(e,t){1&e&&r.Sc(0),2&e&&r.Uc(" ",t.item.name," ")}function fd(e,t){if(1&e&&(r.Zb(0,"div",41),r.Sc(1),r.Yb()),2&e){var n=t.ngIf;r.Hb(1),r.Uc(" (",n,") ")}}function pd(e,t){if(1&e&&(r.Zb(0,"div",39),r.Sc(1),r.Qc(2,fd,2,1,"div",40),r.kc(3,"flightStationName"),r.Yb()),2&e){var n=t.item;r.Hb(1),r.Uc(" ",n.name," "),r.Hb(1),r.sc("ngIf",r.mc(3,2,n.code,"support"))}}function gd(e,t){if(1&e){var n=r.ac();r.Zb(0,"form",13),r.Zb(1,"div",14),r.Zb(2,"div",15),r.Ub(3,"input",16),r.kc(4,"cmsTranslate"),r.Zb(5,"label"),r.Sc(6),r.kc(7,"cmsTranslate"),r.Yb(),r.Zb(8,"div",17),r.Ub(9,"i",18),r.Yb(),r.Zb(10,"div",19),r.Ub(11,"i",20),r.Yb(),r.Yb(),r.Zb(12,"div",15),r.Ub(13,"input",21),r.kc(14,"cmsTranslate"),r.Zb(15,"label"),r.Sc(16),r.kc(17,"cmsTranslate"),r.Yb(),r.Zb(18,"div",17),r.Ub(19,"i",18),r.Yb(),r.Zb(20,"div",19),r.Ub(21,"i",20),r.Yb(),r.Yb(),r.Zb(22,"div",22),r.Zb(23,"ng-select",23),r.kc(24,"cmsTranslate"),r.Qc(25,hd,1,1,"ng-template",24),r.Qc(26,pd,4,5,"ng-template",25),r.Yb(),r.Zb(27,"label"),r.Sc(28),r.kc(29,"cmsTranslate"),r.Yb(),r.Zb(30,"div",26),r.Ub(31,"i",18),r.Yb(),r.Yb(),r.Yb(),r.Ub(32,"hr",27),r.Zb(33,"div",28),r.Zb(34,"label",29),r.Zb(35,"div",30),r.Ub(36,"div",31),r.kc(37,"cmsTranslateRichText"),r.Yb(),r.Ub(38,"input",32),r.Ub(39,"span",33),r.Yb(),r.Yb(),r.Zb(40,"button",34),r.hc("click",(function(){return r.Hc(n),r.jc().submitData()})),r.Zb(41,"span"),r.Sc(42),r.kc(43,"cmsTranslate"),r.Yb(),r.Yb(),r.Zb(44,"div",35),r.Zb(45,"button",36),r.hc("click",(function(){return r.Hc(n),r.jc().closeModal()})),r.Zb(46,"span",37),r.Sc(47),r.kc(48,"cmsTranslate"),r.Yb(),r.Ub(49,"div",38),r.Yb(),r.Yb(),r.Yb()}if(2&e){var i=r.jc();r.sc("formGroup",i.dataForm),r.Hb(3),r.tc("placeholder",r.lc(4,16,"GLOBAL_LABEL_NAMES-PLACEHOLDER")),r.Hb(3),r.Tc(r.lc(7,18,"GLOBAL_LABEL_NAMES")),r.Hb(7),r.tc("placeholder",r.lc(14,20,"GLOBAL_LABEL_LASTNAMES-PLACEHOLDERS")),r.Hb(3),r.Tc(r.lc(17,22,"GLOBAL_LABEL_LASTNAMES")),r.Hb(7),r.sc("searchable",!1)("clearable",!1)("items",i.stationOptions)("placeholder",r.lc(24,24,"BOOKER_LABEL_SELECT-DESTINATION"))("formControlName","origin")("bindValue","code"),r.Hb(5),r.Tc(r.lc(29,26,"FOOTER_LABEL_FAVORITE-DESTINATION")),r.Hb(8),r.sc("innerHtml",r.lc(37,28,"FOOTER_LABEL_PRIVACY-POLICY-AGREMMENT"),r.Ic),r.Hb(4),r.sc("disabled",i.disableBtn),r.Hb(2),r.Uc(" ",r.lc(43,30,"GLOBAL_ACTION_FINISH")," "),r.Hb(5),r.Uc(" ",r.lc(48,32,"GLOBAL_ACTION_CANCEL")," ")}}function vd(e,t){1&e&&(r.Ub(0,"img",42),r.kc(1,"cmsStaticImage")),2&e&&r.sc("src",r.lc(1,1,"FOOTER_IMG_NEWSLETTER"),r.Kc)}var md,bd=function(e){return{"subscribed-modal":e}},yd=function(e){return{"d-none":e}},_d=((md=function(){function e(t,n,i){_classCallCheck(this,e),this.modalSvc=t,this.statiSvc=n,this.gtmService=i,this.id="newsletter-modal",this.isBookingType=!1,this.alreadySubscribed=new r.p,this.stationOptions=[],this.isSubscribed=!1,this.dataForm=new Rn.l({firstName:new Rn.i(null,[Rn.I.required,Rn.I.minLength(2),Rn.I.maxLength(255),Rn.I.pattern("^[a-zA-Z\xf1\xd1\xe1\xc1\xe9\xc9\xed\xcd\xf3\xd3\xfa\xda '-]+")]),lastName:new Rn.i(null,[Rn.I.required,Rn.I.minLength(2),Rn.I.maxLength(255),Rn.I.pattern("^[a-zA-Z\xf1\xd1\xe1\xc1\xe9\xc9\xed\xcd\xf3\xd3\xfa\xda '-]+")]),origin:new Rn.i(null,[Rn.I.required]),privacy:new Rn.i(null,[Rn.I.required,Rn.I.requiredTrue])}),this.isMobile=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.id="newsletter-modal-"+(this.isBookingType?"booking":"home"),window.innerWidth<=720&&(this.isMobile=!0)}},{key:"onOpen",value:function(){return Object(Gt.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.stationOptions=this.statiSvc._stations,this.stationOptions.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),this.dataForm.reset();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"closeModal",value:function(){this.modalSvc.close(this.id)}},{key:"submitData",value:function(){this.dataForm.valid&&this.email&&(this.gtmService.pushTag({event:this.isBookingType?"subscribeForm_book":"subscribeForm_home",subscription:{name:this.dataForm.get("firstName").value,lastName:this.dataForm.get("lastName").value,email:this.email,city:this.dataForm.get("origin").value}}),this.alreadySubscribed.emit(!0),this.isSubscribed=!0)}},{key:"disableBtn",get:function(){return!this.dataForm.valid}}]),e}()).\u0275fac=function(e){return new(e||md)(r.Tb(In.a),r.Tb(sd.a),r.Tb(cd.a))},md.\u0275cmp=r.Nb({type:md,selectors:[["app-newsletter-modal"]],inputs:{email:"email",isBookingType:"isBookingType"},outputs:{alreadySubscribed:"alreadySubscribed"},decls:14,vars:18,consts:[[3,"id","dismissable","noFullHeight","openEvent"],[1,"modal-container","viva-card","white","shadow","border-0","position-relative","d-flex","flex-column",3,"ngClass"],[1,"d-md-flex",3,"ngClass"],[1,"d-flex","align-items-center","w-100","justify-content-center"],["alt","subscription","loading","lazy",1,"top-img",3,"src"],["class","modal-close green float-right",3,"click",4,"ngIf"],[1,"p-20","p-lg-40","modal-body","mt-20"],[1,"text-center"],[1,"m-0"],[3,"formGroup",4,"ngIf"],["class","w-100","alt","subscription","loading","lazy",3,"src",4,"ngIf"],[1,"modal-close","green","float-right",3,"click"],[1,"fas","fa-times","modal-icon"],[3,"formGroup"],[1,"mt-20","px-20","mt-lg-40","px-lg-40"],[1,"viva-input-field","no-icon","w-100","mb-10"],["type","text","autocomplete","given-name","formControlName","firstName","required","","appInputCapitalize","",1,"viva-personal",3,"placeholder"],[1,"valid","hide-sm"],[1,"fas","fa-check"],[1,"error","hide-sm"],[1,"fas","fa-times"],["type","text","autocomplete","family-name","formControlName","lastName","required","","appInputCapitalize","",1,"viva-personal",3,"placeholder"],[1,"viva-input-field","no-icon","viva-select","w-100","mb-10"],["appendTo","body","required","",1,"condensed-options","viva-personal",3,"searchable","clearable","items","placeholder","formControlName","bindValue"],["ng-label-tmp",""],["ng-option-tmp",""],[1,"valid"],[1,"mb-30","mt-30"],[1,"check-container","d-flex","align-items-center","ml-1","mb-20","mb-lg-20"],[1,"checkbox-container","privacy-policy","tos-check"],[1,"regular-text","rt-paragraph-m-0"],[3,"innerHtml"],["id","privacy-policy","name","privacy-policy","type","checkbox","formControlName","privacy"],[1,"checkmark","mt-1"],[1,"viva-btn","big","px-md-60","w-100",3,"disabled","click"],[1,"d-flex","w-100","justify-content-center","align-items-center","mt-10"],["type","button",1,"viva-btn","tertiary",3,"click"],[1,"content","px-20"],[1,"line"],[1,"d-flex","align-items-center"],["class","small-text ml-1",4,"ngIf"],[1,"small-text","ml-1"],["alt","subscription","loading","lazy",1,"w-100",3,"src"]],template:function(e,t){1&e&&(r.Zb(0,"app-modal",0),r.hc("openEvent",(function(){return t.onOpen()})),r.Zb(1,"div",1),r.Zb(2,"div",2),r.Zb(3,"div",3),r.Ub(4,"img",4),r.kc(5,"cmsStaticImage"),r.Yb(),r.Yb(),r.Qc(6,dd,2,0,"button",5),r.Zb(7,"div",6),r.Zb(8,"div",7),r.Zb(9,"h4",8),r.Sc(10),r.kc(11,"cmsTranslate"),r.Yb(),r.Yb(),r.Qc(12,gd,50,34,"form",9),r.Yb(),r.Qc(13,vd,2,3,"img",10),r.Yb(),r.Yb()),2&e&&(r.sc("id",t.id)("dismissable",!0)("noFullHeight",t.isSubscribed&&t.isMobile),r.Hb(1),r.sc("ngClass",r.vc(14,bd,t.isSubscribed)),r.Hb(1),r.sc("ngClass",r.vc(16,yd,!t.isSubscribed)),r.Hb(2),r.sc("src",r.lc(5,10,"FOOTER_IMG_NEWSLETTER-ENVELOPE"),r.Kc),r.Hb(2),r.sc("ngIf",t.isSubscribed),r.Hb(4),r.Uc(" ",r.lc(11,12,t.isSubscribed?"FOOTER_LABEL_GET-PROMO-EMAILS-DONE":"FOOTER_LABEL_ENTER-INFO-NEWSLETTER")," "),r.Hb(2),r.sc("ngIf",!t.isSubscribed),r.Hb(1),r.sc("ngIf",t.isSubscribed))},directives:[Ln.a,mt.r,mt.u,Rn.K,Rn.v,Rn.m,Rn.d,Rn.u,Rn.k,Rn.F,ld,Kn.a,Kn.e,Kn.c,Rn.b],pipes:[si.a,Nn.a,Si.a,ud.a],styles:[".modal-container[_ngcontent-%COMP%]{width:480px}.modal-container[_ngcontent-%COMP%]   .top-img[_ngcontent-%COMP%]{position:fixed;width:80px}@media screen and (max-width:720px){.modal-container[_ngcontent-%COMP%]   .top-img[_ngcontent-%COMP%]{width:60px}}.modal-container[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{z-index:1;right:10px;top:10px}@media screen and (max-width:720px){.modal-container[_ngcontent-%COMP%]{min-height:calc(100% - 80px)}.modal-container.subscribed-modal[_ngcontent-%COMP%]{max-height:333px;min-height:auto}}"]}),md);function Cd(e,t){1&e&&(r.Zb(0,"div",14),r.Sc(1),r.kc(2,"cmsTranslate"),r.Yb()),2&e&&(r.Hb(1),r.Uc(" ",r.lc(2,1,"FOOTER_LABEL_SUBSCRIPTION-TEXT1")," "))}function kd(e,t){1&e&&(r.Zb(0,"div",15),r.Zb(1,"div",16),r.Sc(2),r.kc(3,"cmsTranslate"),r.Yb(),r.Yb()),2&e&&(r.Hb(2),r.Uc(" ",r.lc(3,1,"FOOTER_LABEL_SUBSCRIPTION-TEXT2")," "))}function Sd(e,t){if(1&e&&(r.Zb(0,"li",20),r.Ub(1,"em",21),r.Zb(2,"div"),r.Sc(3),r.kc(4,"cmsTranslate"),r.Yb(),r.Yb()),2&e){var n=t.$implicit;r.Hb(3),r.Uc(" ",r.lc(4,1,n)," ")}}function Od(e,t){if(1&e&&(r.Zb(0,"div",17),r.Zb(1,"ul",18),r.Qc(2,Sd,5,3,"li",19),r.Yb(),r.Yb()),2&e){var n=r.jc(2);r.Hb(2),r.sc("ngForOf",n.subscriptionInfoLabels)}}function Td(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",22),r.Zb(1,"form",23),r.Zb(2,"div",24),r.Ub(3,"input",25),r.kc(4,"cmsTranslate"),r.Zb(5,"label"),r.Sc(6),r.kc(7,"cmsTranslate"),r.Yb(),r.Zb(8,"div",26),r.Ub(9,"i",27),r.Yb(),r.Zb(10,"div",28),r.Ub(11,"i",29),r.Yb(),r.Yb(),r.Zb(12,"button",30),r.hc("click",(function(){return r.Hc(n),r.jc(2).openNewsletterModal()})),r.Zb(13,"div",31),r.Zb(14,"span"),r.Sc(15),r.kc(16,"cmsTranslate"),r.Yb(),r.Ub(17,"em",32),r.Yb(),r.Ub(18,"div",33),r.Yb(),r.Yb(),r.Yb()}if(2&e){var i=r.jc(2);r.Hb(1),r.sc("formGroup",i.emailForm),r.Hb(2),r.tc("placeholder",r.lc(4,4,"GLOBAL_LABEL_MAIL-PLACEHOLDER")),r.Hb(3),r.Tc(r.lc(7,6,"GLOBAL_LABEL_MAIL")),r.Hb(9),r.Tc(r.lc(16,8,"GLOBAL_ACTION_SUBSCRIBE"))}}function wd(e,t){1&e&&(r.Zb(0,"div",34),r.Zb(1,"div"),r.Sc(2),r.kc(3,"cmsTranslate"),r.Yb(),r.Yb()),2&e&&(r.Hb(2),r.Tc(r.lc(3,1,"FOOTER_LABEL_SUBSCRIPTION-DONE-SUPPORT")))}var Ad=function(e){return{"col-lg-4":e}},Ed=function(e){return{"d-flex align-items-center":e}};function Pd(e,t){if(1&e&&(r.Zb(0,"div",2),r.Zb(1,"div",3),r.Zb(2,"div",4),r.Zb(3,"div",5),r.Ub(4,"img",6),r.kc(5,"cmsStaticImage"),r.Zb(6,"div",7),r.Zb(7,"div",8),r.Sc(8),r.kc(9,"cmsTranslate"),r.Yb(),r.Qc(10,Cd,3,3,"div",9),r.Yb(),r.Yb(),r.Qc(11,kd,4,3,"div",10),r.Qc(12,Od,3,1,"div",11),r.Qc(13,Td,19,10,"div",12),r.Qc(14,wd,4,3,"div",13),r.Yb(),r.Yb(),r.Yb()),2&e){var n=r.jc();r.Hb(3),r.sc("ngClass",r.vc(14,Ad,!n.isSubscribed)),r.Hb(1),r.sc("src",r.lc(5,10,"FOOTER_IMG_NEWSLETTER-ENVELOPE"),r.Kc)("width",n.isBookingType?50:60),r.Hb(3),r.sc("ngClass",r.vc(16,Ed,n.isBookingType)),r.Hb(1),r.Uc(" ",r.lc(9,12,n.isSubscribed?"FOOTER_LABEL_SUBSCRIPTION-DONE-TITLE":"FOOTER_LABEL_FLIGHT-OFFERS-MAIL")," "),r.Hb(2),r.sc("ngIf",!n.isSubscribed),r.Hb(1),r.sc("ngIf",!n.isSubscribed),r.Hb(1),r.sc("ngIf",!n.isSubscribed),r.Hb(1),r.sc("ngIf",!n.isSubscribed),r.Hb(1),r.sc("ngIf",n.isSubscribed)}}var Md,xd=((Md=function(){function e(t,n,i,r){_classCallCheck(this,e),this.modalSvc=t,this.router=n,this.flightSvs=i,this.auth=r,this.isBookingType=!1,this.emailForm=new Rn.l({email:new Rn.i(null,[Rn.I.required,li.a.email])}),this.subscriptionInfoLabels=["FOOTER_LABEL_SUBSCRIPTION-INFO1","FOOTER_LABEL_SUBSCRIPTION-INFO2","FOOTER_LABEL_SUBSCRIPTION-INFO3"]}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"openNewsletterModal",value:function(){this.emailForm.valid&&(this.emailData=this.emailForm.get("email").value,this.modalSvc.open("newsletter-modal-"+(this.isBookingType?"booking":"home")))}},{key:"setSubscribed",value:function(e){e&&(this.flightSvs.newsletterSubscription=this.emailData)}},{key:"showCard",get:function(){if(!this.auth.isLoggedIn){if(!this.isBookingType)return!0;if(this.router.url.includes("/book/options")&&!this.isSubscribed)return!0}return!1}},{key:"isSubscribed",get:function(){return!!this.flightSvs.newsletterSubscription}}]),e}()).\u0275fac=function(e){return new(e||Md)(r.Tb(In.a),r.Tb(Bt.g),r.Tb(sd.a),r.Tb(En.a))},Md.\u0275cmp=r.Nb({type:Md,selectors:[["app-newsletter-card"]],inputs:{isBookingType:"isBookingType"},decls:2,vars:3,consts:[["class","viva-card newsletter-card white shadow py-20 py-lg-30",4,"ngIf"],[3,"email","isBookingType","alreadySubscribed"],[1,"viva-card","newsletter-card","white","shadow","py-20","py-lg-30"],[1,"container","px-20","px-lg-10"],[1,"row"],[1,"col-12","d-flex","align-items-start",3,"ngClass"],["alt","doters","loading","lazy",1,"mr-10",3,"src","width"],[1,"d-lg-flex","flex-lg-column"],[1,"h4",3,"ngClass"],["class","small-title d-none d-lg-block mt-10",4,"ngIf"],["class","col-12 d-lg-none mt-10",4,"ngIf"],["class","col-12 col-lg-4 d-none d-lg-block",4,"ngIf"],["class","col-12 col-lg-4",4,"ngIf"],["class","col-12 mt-20 mb-10",4,"ngIf"],[1,"small-title","d-none","d-lg-block","mt-10"],[1,"col-12","d-lg-none","mt-10"],[1,"small-title"],[1,"col-12","col-lg-4","d-none","d-lg-block"],[1,"list-unstyled","p-0","m-0"],["class","d-flex align-items-center info-labels medium-text",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","info-labels","medium-text"],[1,"fas","fa-check","mr-1"],[1,"col-12","col-lg-4"],[1,"d-flex","flex-column","align-items-end","mt-10","mt-lg-0",3,"formGroup"],[1,"viva-input-field","no-icon","w-100","mb-20"],["inputmode","email","name","newsletter_email","id","newsletter_email","type","email","required","","formControlName","email","autocomplete","email",1,"viva-personal",3,"placeholder"],[1,"valid","hide-sm"],[1,"fas","fa-check"],[1,"error","hide-sm"],[1,"fas","fa-times"],[1,"viva-btn","tertiary","d-inline-flex",3,"click"],[1,"content"],[1,"fas","fa-arrow-right","ml-1"],[1,"line"],[1,"col-12","mt-20","mb-10"]],template:function(e,t){1&e&&(r.Qc(0,Pd,15,18,"div",0),r.Zb(1,"app-newsletter-modal",1),r.hc("alreadySubscribed",(function(e){return t.setSubscribed(e)})),r.Yb()),2&e&&(r.sc("ngIf",t.showCard),r.Hb(1),r.sc("email",t.emailData)("isBookingType",t.isBookingType))},directives:[mt.u,_d,mt.r,mt.t,Rn.K,Rn.v,Rn.m,Rn.d,Rn.F,Rn.u,Rn.k],pipes:[si.a,Nn.a],styles:[".info-labels[_ngcontent-%COMP%]{margin-bottom:5px}.info-labels[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.info-labels[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:var(--bg2)}@media screen and (min-width:720px){.newsletter-card[_ngcontent-%COMP%]{border-radius:0}}"]}),Md),Dd=function(){return{height:15}};function Id(e,t){if(1&e&&(r.Ub(0,"img",16),r.kc(1,"cmsImage")),2&e){var n=t.$implicit;r.sc("src",r.mc(1,2,n.fields.file.url,r.uc(5,Dd)),r.Kc)("alt",n.fields.title)}}var Ld=function(){return{height:32}};function Rd(e,t){if(1&e&&(r.Ub(0,"img",16),r.kc(1,"cmsImage")),2&e){var n=t.$implicit;r.sc("src",r.mc(1,2,n.fields.file.url,r.uc(5,Ld)),r.Kc)("alt",n.fields.title)}}function Nd(e,t){1&e&&(r.Zb(0,"div",17),r.Zb(1,"div",18),r.Zb(2,"div",19),r.Sc(3),r.kc(4,"cmsTranslate"),r.Yb(),r.Zb(5,"div",20),r.Zb(6,"div",21),r.Zb(7,"app-call-to-action",22),r.kc(8,"cmsStaticCtas"),r.Ub(9,"img",23),r.kc(10,"cmsStaticImage"),r.Yb(),r.Zb(11,"app-call-to-action",22),r.kc(12,"cmsStaticCtas"),r.Ub(13,"img",23),r.kc(14,"cmsStaticImage"),r.Yb(),r.Zb(15,"app-call-to-action",24),r.kc(16,"cmsStaticCtas"),r.Ub(17,"img",23),r.kc(18,"cmsStaticImage"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&e&&(r.Hb(3),r.Uc(" ",r.lc(4,7,"FOOTER_DOWNLOAD_APP")," "),r.Hb(4),r.sc("callToAction",r.lc(8,9,"FOOTER_ACTION_DOWNLOAD_APP-STORE")),r.Hb(2),r.sc("src",r.lc(10,11,"FOOTER_DOWNLOAD_APP_APP-STORE"),r.Kc),r.Hb(2),r.sc("callToAction",r.lc(12,13,"FOOTER_ACTION_DOWNLOAD_PLAY-STORE")),r.Hb(2),r.sc("src",r.lc(14,15,"FOOTER_DOWNLOAD_APP_PLAY-STORE"),r.Kc),r.Hb(2),r.sc("callToAction",r.lc(16,17,"FOOTER_ACTION_DOWNLOAD_APP-GALLERY")),r.Hb(2),r.sc("src",r.lc(18,19,"FOOTER_DOWNLOAD_APP_HUAWEI-APP-GALLERY"),r.Kc))}function jd(e,t){if(1&e&&(r.Zb(0,"li",27),r.Zb(1,"app-call-to-action",28),r.Sc(2),r.Yb(),r.Yb()),2&e){var n=t.$implicit;r.Hb(1),r.sc("callToAction",n),r.Hb(1),r.Uc(" ",null==n?null:n.text," ")}}function Bd(e,t){if(1&e&&(r.Zb(0,"ul",25),r.Qc(1,jd,3,2,"li",26),r.Yb()),2&e){var n=r.jc();r.Hb(1),r.sc("ngForOf",n.links)}}var Fd=function(e){return{"ml-20":e}};function Hd(e,t){if(1&e&&(r.Xb(0),r.Zb(1,"app-call-to-action",24),r.Ub(2,"img",29),r.Yb(),r.Wb()),2&e){var n=t.$implicit,i=t.index;r.Hb(1),r.sc("callToAction",null==n||null==n.fields||null==n.fields.callToAction?null:n.fields.callToAction.fields),r.Hb(1),r.sc("src",null==n||null==n.fields||null==n.fields.image||null==n.fields.image.fields||null==n.fields.image.fields.file?null:n.fields.image.fields.file.url,r.Kc)("alt",null==n||null==n.fields?null:n.fields.title)("ngClass",r.vc(4,Fd,!!i))}}var Ud,Yd=function(e,t){return{"col-lg-3":e,"col-lg-8":t}},Gd=((Ud=function(){function e(){_classCallCheck(this,e),this.creditCardLogos=[],this.onlinePaymentLogos=[],this.displayDownloadbuttons=!1,this.socialMediaItems=[]}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ud)},Ud.\u0275cmp=r.Nb({type:Ud,selectors:[["app-subfooter"]],inputs:{links:"links",creditCardLogos:"creditCardLogos",onlinePaymentLogos:"onlinePaymentLogos",displayDownloadbuttons:"displayDownloadbuttons",socialMediaItems:"socialMediaItems"},decls:31,vars:24,consts:[[1,"row","mb-0","justify-content-between"],[1,"col-lg-4"],[1,"h5","medium-title","light","mt-0","mb-2","mb-md-4"],[1,"d-flex","subfooter-payments"],[1,"medium-title","light","opacity-7"],[1,"d-flex","subfooter-logos"],["loading","lazy",3,"src","alt",4,"ngFor","ngForOf"],["class","col-lg-5",4,"ngIf"],[3,"ngClass"],["class","mx-0 mt-0 mb-4 p-0 list-unstyled text-md-right",4,"ngIf"],[1,"social-media-container","ml-lg-auto"],[1,"medium-title","light","mb-2","mb-md-4"],[1,"d-flex","mt-15","justify-content-end"],[4,"ngFor","ngForOf"],[1,"col-12","mt-40"],[1,"regular-text","light","opacity-7","text-center","d-none","d-md-block"],["loading","lazy",3,"src","alt"],[1,"col-lg-5"],[1,"mb-3","mb-lg-0"],[1,"title","light","mb-3"],[1,"d-flex"],[1,"d-flex","flex-wrap"],["ctaClass","mr-2",3,"callToAction"],["height","40","loading","lazy",3,"src"],[3,"callToAction"],[1,"mx-0","mt-0","mb-4","p-0","list-unstyled","text-md-right"],["class","subfooter-item d-inline-block",4,"ngFor","ngForOf"],[1,"subfooter-item","d-inline-block"],["ctaClass","medium-title light text-decoration-none opacity-7",3,"callToAction"],["height","20",3,"src","alt","ngClass"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Zb(2,"div",2),r.Sc(3),r.kc(4,"cmsTranslate"),r.Yb(),r.Zb(5,"div",3),r.Zb(6,"div"),r.Zb(7,"p",4),r.Sc(8),r.kc(9,"cmsTranslate"),r.Yb(),r.Zb(10,"div",5),r.Qc(11,Id,2,6,"img",6),r.Yb(),r.Yb(),r.Zb(12,"div"),r.Zb(13,"p",4),r.Sc(14),r.kc(15,"cmsTranslate"),r.Yb(),r.Zb(16,"div",5),r.Qc(17,Rd,2,6,"img",6),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Qc(18,Nd,19,21,"div",7),r.Zb(19,"div",8),r.Qc(20,Bd,2,1,"ul",9),r.Zb(21,"div",10),r.Zb(22,"div",11),r.Sc(23),r.kc(24,"cmsTranslate"),r.Yb(),r.Zb(25,"div",12),r.Qc(26,Hd,3,6,"ng-container",13),r.Yb(),r.Yb(),r.Yb(),r.Zb(27,"div",14),r.Zb(28,"p",15),r.Sc(29),r.kc(30,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb()),2&e&&(r.Hb(3),r.Uc(" ",r.lc(4,11,"FOOTER_PAYMENT-METHODS")," "),r.Hb(5),r.Uc(" ",r.lc(9,13,"FOOTER_CREDIT-CARDS")," "),r.Hb(3),r.sc("ngForOf",t.creditCardLogos),r.Hb(3),r.Uc(" ",r.lc(15,15,"FOOTER_ONLINE-PAYMENTS")," "),r.Hb(3),r.sc("ngForOf",t.onlinePaymentLogos),r.Hb(1),r.sc("ngIf",t.displayDownloadbuttons),r.Hb(1),r.sc("ngClass",r.wc(21,Yd,t.displayDownloadbuttons,!t.displayDownloadbuttons)),r.Hb(1),r.sc("ngIf",t.links&&t.links.length),r.Hb(3),r.Uc(" ",r.lc(24,17,"FOOTER_LABEL_FOLLOW-US")," "),r.Hb(3),r.sc("ngForOf",t.socialMediaItems),r.Hb(3),r.Uc(" ",r.lc(30,19,"FOOTER_VIVA-ADDRESS")," "))},directives:[mt.t,mt.u,mt.r,pi.a],pipes:[Nn.a,Ma.a,Oi.a,si.a],styles:[".subfooter-payments[_ngcontent-%COMP%]{-moz-column-gap:15px;column-gap:15px}@media screen and (max-width:720px){.subfooter-payments[_ngcontent-%COMP%]{margin-bottom:20px}}.subfooter-logos[_ngcontent-%COMP%]{-moz-column-gap:10px;column-gap:10px}.subfooter-logos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:15px}.social-media-container[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content}"]}),Ud);function Vd(e,t){if(1&e&&(r.Zb(0,"li",5),r.Zb(1,"app-call-to-action",6),r.Sc(2),r.Yb(),r.Yb()),2&e){var n=t.$implicit;r.Hb(1),r.sc("callToAction",n),r.Hb(1),r.Uc(" ",null==n?null:n.text," ")}}var Zd,Wd=function(e){return{open:e}},Kd=((Zd=function(){function e(){_classCallCheck(this,e),this.isAccordionOpen=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.checkResposiveSize()}},{key:"toggleAccordion",value:function(){this.isAccordionOpen=!this.isAccordionOpen}},{key:"checkResposiveSize",value:function(){this.isAccordionOpen=window.innerWidth<=991}}]),e}()).\u0275fac=function(e){return new(e||Zd)},Zd.\u0275cmp=r.Nb({type:Zd,selectors:[["app-quick-links"]],inputs:{links:"links"},decls:8,vars:10,consts:[[1,"footer-title","h4",3,"click"],[1,"fas","fa-sort-down","footer-icon",3,"ngClass"],[1,"footer-section-divider"],[1,"quick-links-list","list-unstyled","m-0","p-0","mb-3","mb-lg-0",3,"ngClass"],["class","mb-40 mb-md-2",4,"ngFor","ngForOf"],[1,"mb-40","mb-md-2"],["ctaClass","medium-title light text-decoration-none",3,"callToAction"]],template:function(e,t){1&e&&(r.Zb(0,"div"),r.Zb(1,"div",0),r.hc("click",(function(){return t.toggleAccordion()})),r.Sc(2),r.kc(3,"cmsTranslate"),r.Ub(4,"i",1),r.Yb(),r.Ub(5,"hr",2),r.Zb(6,"ul",3),r.Qc(7,Vd,3,2,"li",4),r.Yb(),r.Yb()),2&e&&(r.Hb(2),r.Uc(" ",r.lc(3,4,"FOOTER_QLINKS-TITLE")," "),r.Hb(2),r.sc("ngClass",r.vc(6,Wd,t.isAccordionOpen)),r.Hb(2),r.sc("ngClass",r.vc(8,Wd,t.isAccordionOpen)),r.Hb(1),r.sc("ngForOf",t.links))},directives:[mt.r,mt.t,pi.a],pipes:[Nn.a],styles:["@media screen and (max-width:991px){.quick-links-list[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:all .3s cubic-bezier(.165,.84,.44,1)}.quick-links-list.open[_ngcontent-%COMP%]{max-height:310px}}",".footer-search-container[_ngcontent-%COMP%]{background-color:var(--gr15);padding-top:40px}@media screen and (max-width:991px){.footer-search-container[_ngcontent-%COMP%]{padding-top:20px}}.footer-container[_ngcontent-%COMP%]{background-color:var(--bg6)}.footer-row[_ngcontent-%COMP%]{padding:70px 0 40px;margin-bottom:0}@media screen and (max-width:991px){.footer-row[_ngcontent-%COMP%]{padding:40px 0 50px}}.footer-divider[_ngcontent-%COMP%]{height:1px;background:var(--wh1);border:none;opacity:1;margin:0}@media screen and (max-width:991px){.footer-divider[_ngcontent-%COMP%]{display:none}}.footer-title[_ngcontent-%COMP%]{color:var(--wh1);letter-spacing:-.5px;line-height:1;margin-bottom:40px;position:relative}.footer-title.medium[_ngcontent-%COMP%]{font-size:16px}@media screen and (max-width:991px){.footer-title.medium[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width:991px){.footer-title[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;justify-content:space-between;width:100%;cursor:pointer}}.footer-title[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{font-size:14px;color:var(--vg4);position:absolute;top:-100%;line-height:1}@media screen and (max-width:991px){.footer-title[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{display:none}}.footer-icon[_ngcontent-%COMP%]{display:none}@media screen and (max-width:991px){.footer-icon[_ngcontent-%COMP%]{display:block;color:var(--vg4)!important;font-size:20px;transition:all .3s cubic-bezier(.165,.84,.44,1)}.footer-icon.open[_ngcontent-%COMP%]{transform:rotate(180deg) translateY(-5px)}}.footer-section-divider[_ngcontent-%COMP%]{display:none}@media screen and (max-width:991px){.footer-section-divider[_ngcontent-%COMP%]{display:block;height:1px;background:var(--gr20);margin:0 0 20px;opacity:.5;border:none}}.partner-label[_ngcontent-%COMP%]{color:var(--wh1);height:100%;font-size:10px;white-space:nowrap}.footer-logos[_ngcontent-%COMP%]{flex-wrap:wrap}.footer-logos[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{height:40px;border-right:1px solid var(--wh1)}@media screen and (max-width:720px){.footer-logos[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]:nth-child(2){border-right:none}}.navitaire-logo[_ngcontent-%COMP%]{height:28px}.col-footer[_ngcontent-%COMP%]{background-color:#00160a;border-top:.5px solid rgba(var(--wh1-rgb),.5)}@media screen and (max-width:720px){.card-logos[_ngcontent-%COMP%]{padding:40px 0 0}}"]}),Zd);function zd(e,t){if(1&e&&(r.Zb(0,"app-call-to-action",20),r.Zb(1,"div",21),r.Ub(2,"i",22),r.Sc(3),r.Ub(4,"i",23),r.Yb(),r.Yb()),2&e){var n=t.ngIf;r.sc("callToAction",n),r.Hb(3),r.Uc(" ",n.text," ")}}function Qd(e,t){if(1&e&&(r.Zb(0,"app-call-to-action",20),r.Zb(1,"div",21),r.Ub(2,"i",22),r.Sc(3),r.Ub(4,"i",23),r.Yb(),r.Yb()),2&e){var n=t.ngIf;r.sc("callToAction",n),r.Hb(3),r.Uc(" ",n.text," ")}}var Xd,qd=function(e){return{open:e}},$d=((Xd=function(){function e(t,n){_classCallCheck(this,e),this.cmsConfig=t,this.locale=n,this.isAccordionOpen=!0,this.displayWhatsAppButton=!1,this.displayWhatsAppButton=(this.cmsConfig._cmsConfig.globalSettings.displayWhatsAppButton||[]).includes(this.locale.getAppLocale())}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"toggleAccordion",value:function(){this.isAccordionOpen=!this.isAccordionOpen}}]),e}()).\u0275fac=function(e){return new(e||Xd)(r.Tb(an.a),r.Tb(nn.a))},Xd.\u0275cmp=r.Nb({type:Xd,selectors:[["app-contact-us"]],decls:62,vars:48,consts:[[1,"footer-title","h4",3,"click"],[1,"fas","fa-sort-down","footer-icon",3,"ngClass"],[1,"footer-section-divider"],[1,"row","contact-us-content","mb-3","mb-lg-0",3,"ngClass"],[1,"col-12","d-block","d-lg-none"],["ctaClass","mb-2",3,"callToAction",4,"ngIf"],[1,"m-0","p-0","list-unstyled"],[1,"contact-us-item","mb-3"],[1,"fas","fa-envelope","mr-1"],[3,"innerHtml"],[1,"col-6","col-xl-8","mb-3","mb-lg-0"],[1,"d-none","d-lg-block"],[1,"contact-us-item","mb-2"],[1,"h5","contact-us-subtitle","title"],[1,"fas","fa-phone","fa-rotate-90","mr-1"],[1,"d-block","d-lg-none"],[1,"contact-us-subtitle","title","h5"],[1,"contact-us-item"],[1,"col-6","col-xl-4"],[1,"mt-0","p-0","list-unstyled","mb-3"],["ctaClass","mb-2",3,"callToAction"],[1,"medium-title","light"],[1,"fab","fa-whatsapp","mr-1","fa-lg"],[1,"fas","fa-arrow-right","fa-sm","ml-1"]],template:function(e,t){1&e&&(r.Zb(0,"div"),r.Zb(1,"div",0),r.hc("click",(function(){return t.toggleAccordion()})),r.Zb(2,"small"),r.Sc(3),r.kc(4,"cmsTranslate"),r.Yb(),r.Sc(5),r.kc(6,"cmsTranslate"),r.Ub(7,"i",1),r.Yb(),r.Ub(8,"hr",2),r.Zb(9,"div",3),r.Zb(10,"div",4),r.Qc(11,zd,5,2,"app-call-to-action",5),r.kc(12,"cmsStaticCtas"),r.Zb(13,"ul",6),r.Zb(14,"li",7),r.Ub(15,"i",8),r.Ub(16,"div",9),r.kc(17,"cmsTranslateRichText"),r.Yb(),r.Yb(),r.Yb(),r.Zb(18,"div",10),r.Zb(19,"div",11),r.Qc(20,Qd,5,2,"app-call-to-action",5),r.kc(21,"cmsStaticCtas"),r.Zb(22,"ul",6),r.Zb(23,"li",12),r.Ub(24,"i",8),r.Ub(25,"div",9),r.kc(26,"cmsTranslateRichText"),r.Yb(),r.Yb(),r.Yb(),r.Zb(27,"div",13),r.Sc(28),r.kc(29,"cmsTranslate"),r.Yb(),r.Zb(30,"ul",6),r.Zb(31,"li",12),r.Ub(32,"i",14),r.Ub(33,"div",9),r.kc(34,"cmsTranslateRichText"),r.Yb(),r.Yb(),r.Zb(35,"div",15),r.Zb(36,"div",16),r.Sc(37),r.kc(38,"cmsTranslate"),r.Yb(),r.Zb(39,"ul",6),r.Zb(40,"li",17),r.Ub(41,"i",14),r.Ub(42,"div",9),r.kc(43,"cmsTranslateRichText"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(44,"div",18),r.Zb(45,"div",16),r.Sc(46),r.kc(47,"cmsTranslate"),r.Yb(),r.Zb(48,"ul",19),r.Zb(49,"li",17),r.Ub(50,"i",14),r.Ub(51,"div",9),r.kc(52,"cmsTranslateRichText"),r.Yb(),r.Yb(),r.Zb(53,"div",11),r.Zb(54,"div",16),r.Sc(55),r.kc(56,"cmsTranslate"),r.Yb(),r.Zb(57,"ul",6),r.Zb(58,"li",17),r.Ub(59,"i",14),r.Ub(60,"div",9),r.kc(61,"cmsTranslateRichText"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&e&&(r.Hb(3),r.Tc(r.lc(4,16,"FOOTER_LABEL_NO-COST")),r.Hb(2),r.Uc(" ",r.lc(6,18,"FOOTER_CONTACT-TITLE")," "),r.Hb(2),r.sc("ngClass",r.vc(44,qd,t.isAccordionOpen)),r.Hb(2),r.sc("ngClass",r.vc(46,qd,t.isAccordionOpen)),r.Hb(2),r.sc("ngIf",r.lc(12,20,t.displayWhatsAppButton&&"FOOTER_ACTION_CONTACT-WHATSAPP")),r.Hb(5),r.sc("innerHtml",r.lc(17,22,"FOOTER_LABEL_EMAIL-MEX"),r.Ic),r.Hb(4),r.sc("ngIf",r.lc(21,24,t.displayWhatsAppButton&&"FOOTER_ACTION_CONTACT-WHATSAPP")),r.Hb(5),r.sc("innerHtml",r.lc(26,26,"FOOTER_LABEL_EMAIL-MEX"),r.Ic),r.Hb(3),r.Uc(" ",r.lc(29,28,"FOOTER_LABEL_PHONE-MEX")," "),r.Hb(5),r.sc("innerHtml",r.lc(34,30,"FOOTER_LABEL_PHONENUMBER-MEX"),r.Ic),r.Hb(4),r.Uc(" ",r.lc(38,32,"FOOTER_LABEL_PHONE-CO")," "),r.Hb(5),r.sc("innerHtml",r.lc(43,34,"FOOTER_LABEL_PHONENUMBER-CO"),r.Ic),r.Hb(4),r.Uc(" ",r.lc(47,36,"FOOTER_LABEL_PHONE-USA")," "),r.Hb(5),r.sc("innerHtml",r.lc(52,38,"FOOTER_LABEL_PHONENUMBER-USA"),r.Ic),r.Hb(4),r.Uc(" ",r.lc(56,40,"FOOTER_LABEL_PHONE-CO")," "),r.Hb(5),r.sc("innerHtml",r.lc(61,42,"FOOTER_LABEL_PHONENUMBER-CO"),r.Ic))},directives:[mt.r,mt.u,pi.a],pipes:[Nn.a,Oi.a,Si.a],styles:[".contact-us-subtitle[_ngcontent-%COMP%]{color:var(--wh1);margin:0 0 15px}@media screen and (max-width:991px){.contact-us-content[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:all .3s cubic-bezier(.165,.84,.44,1)}.contact-us-content.open[_ngcontent-%COMP%]{max-height:300px}.contact-us-content[_ngcontent-%COMP%]   .usa-phone[_ngcontent-%COMP%]{min-width:auto!important}}@media screen and (max-width:1240px){.contact-us-content[_ngcontent-%COMP%]   .usa-phone[_ngcontent-%COMP%]{min-width:200px}.contact-us-content[_ngcontent-%COMP%]   .inline-item[_ngcontent-%COMP%]{white-space:nowrap}}",".footer-search-container[_ngcontent-%COMP%]{background-color:var(--gr15);padding-top:40px}@media screen and (max-width:991px){.footer-search-container[_ngcontent-%COMP%]{padding-top:20px}}.footer-container[_ngcontent-%COMP%]{background-color:var(--bg6)}.footer-row[_ngcontent-%COMP%]{padding:70px 0 40px;margin-bottom:0}@media screen and (max-width:991px){.footer-row[_ngcontent-%COMP%]{padding:40px 0 50px}}.footer-divider[_ngcontent-%COMP%]{height:1px;background:var(--wh1);border:none;opacity:1;margin:0}@media screen and (max-width:991px){.footer-divider[_ngcontent-%COMP%]{display:none}}.footer-title[_ngcontent-%COMP%]{color:var(--wh1);letter-spacing:-.5px;line-height:1;margin-bottom:40px;position:relative}.footer-title.medium[_ngcontent-%COMP%]{font-size:16px}@media screen and (max-width:991px){.footer-title.medium[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width:991px){.footer-title[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;justify-content:space-between;width:100%;cursor:pointer}}.footer-title[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{font-size:14px;color:var(--vg4);position:absolute;top:-100%;line-height:1}@media screen and (max-width:991px){.footer-title[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{display:none}}.footer-icon[_ngcontent-%COMP%]{display:none}@media screen and (max-width:991px){.footer-icon[_ngcontent-%COMP%]{display:block;color:var(--vg4)!important;font-size:20px;transition:all .3s cubic-bezier(.165,.84,.44,1)}.footer-icon.open[_ngcontent-%COMP%]{transform:rotate(180deg) translateY(-5px)}}.footer-section-divider[_ngcontent-%COMP%]{display:none}@media screen and (max-width:991px){.footer-section-divider[_ngcontent-%COMP%]{display:block;height:1px;background:var(--gr20);margin:0 0 20px;opacity:.5;border:none}}.partner-label[_ngcontent-%COMP%]{color:var(--wh1);height:100%;font-size:10px;white-space:nowrap}.footer-logos[_ngcontent-%COMP%]{flex-wrap:wrap}.footer-logos[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{height:40px;border-right:1px solid var(--wh1)}@media screen and (max-width:720px){.footer-logos[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]:nth-child(2){border-right:none}}.navitaire-logo[_ngcontent-%COMP%]{height:28px}.col-footer[_ngcontent-%COMP%]{background-color:#00160a;border-top:.5px solid rgba(var(--wh1-rgb),.5)}@media screen and (max-width:720px){.card-logos[_ngcontent-%COMP%]{padding:40px 0 0}}"]}),Xd);function Jd(e,t){if(1&e&&(r.Zb(0,"li",8),r.Zb(1,"app-call-to-action",9),r.Sc(2),r.Yb(),r.Yb()),2&e){var n=t.$implicit;r.Hb(1),r.sc("callToAction",n),r.Hb(1),r.Uc(" ",null==n?null:n.text," ")}}var eh=function(e){return{open:e}};function th(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",2),r.Zb(1,"div",3),r.hc("click",(function(){r.Hc(n);var e=t.index;return r.jc().toggleAccordion(e)})),r.Sc(2),r.kc(3,"cmsTranslate"),r.Ub(4,"i",4),r.Yb(),r.Ub(5,"hr",5),r.Zb(6,"ul",6),r.Qc(7,Jd,3,2,"li",7),r.Yb(),r.Yb()}if(2&e){var i=t.$implicit,o=t.index,a=r.jc();r.Hb(2),r.Uc(" ",r.lc(3,4,i.title)," "),r.Hb(2),r.sc("ngClass",r.vc(6,eh,a.isAccordionOpen[o])),r.Hb(2),r.sc("ngClass",r.vc(8,eh,a.isAccordionOpen[o])),r.Hb(1),r.sc("ngForOf",i.links)}}var nh,ih=((nh=function(){function e(){_classCallCheck(this,e),this.linkColumns=[],this.isAccordionOpen=[];for(var t=0;t<this.linkColumns.length;t++)this.isAccordionOpen[t]=!1}return _createClass(e,[{key:"toggleAccordion",value:function(e){this.isAccordionOpen[e]=!this.isAccordionOpen[e]}}]),e}()).\u0275fac=function(e){return new(e||nh)},nh.\u0275cmp=r.Nb({type:nh,selectors:[["app-columns-grid"]],inputs:{linkColumns:"linkColumns"},decls:2,vars:1,consts:[[1,"columns-grid-row"],["class","columns-grid-col",4,"ngFor","ngForOf"],[1,"columns-grid-col"],[1,"title","light","mt-0","footer-title","medium","h5",3,"click"],[1,"fas","fa-sort-down","footer-icon",3,"ngClass"],[1,"footer-section-divider"],[1,"columns-grid-list","m-0","p-0","list-unstyled",3,"ngClass"],["class","mb-3 mb-md-2",4,"ngFor","ngForOf"],[1,"mb-3","mb-md-2"],["ctaClass","medium-title light text-decoration-none opacity-7",3,"callToAction"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Qc(1,th,8,10,"div",1),r.Yb()),2&e&&(r.Hb(1),r.sc("ngForOf",t.linkColumns))},directives:[mt.t,mt.r,pi.a],pipes:[Nn.a],styles:[".columns-grid-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}@media screen and (max-width:991px){.columns-grid-list[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:all .3s cubic-bezier(.165,.84,.44,1)}.columns-grid-list.open[_ngcontent-%COMP%]{max-height:350px}}@media screen and (max-width:991px){.columns-grid-col[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}}",".footer-search-container[_ngcontent-%COMP%]{background-color:var(--gr15);padding-top:40px}@media screen and (max-width:991px){.footer-search-container[_ngcontent-%COMP%]{padding-top:20px}}.footer-container[_ngcontent-%COMP%]{background-color:var(--bg6)}.footer-row[_ngcontent-%COMP%]{padding:70px 0 40px;margin-bottom:0}@media screen and (max-width:991px){.footer-row[_ngcontent-%COMP%]{padding:40px 0 50px}}.footer-divider[_ngcontent-%COMP%]{height:1px;background:var(--wh1);border:none;opacity:1;margin:0}@media screen and (max-width:991px){.footer-divider[_ngcontent-%COMP%]{display:none}}.footer-title[_ngcontent-%COMP%]{color:var(--wh1);letter-spacing:-.5px;line-height:1;margin-bottom:40px;position:relative}.footer-title.medium[_ngcontent-%COMP%]{font-size:16px}@media screen and (max-width:991px){.footer-title.medium[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width:991px){.footer-title[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;justify-content:space-between;width:100%;cursor:pointer}}.footer-title[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{font-size:14px;color:var(--vg4);position:absolute;top:-100%;line-height:1}@media screen and (max-width:991px){.footer-title[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{display:none}}.footer-icon[_ngcontent-%COMP%]{display:none}@media screen and (max-width:991px){.footer-icon[_ngcontent-%COMP%]{display:block;color:var(--vg4)!important;font-size:20px;transition:all .3s cubic-bezier(.165,.84,.44,1)}.footer-icon.open[_ngcontent-%COMP%]{transform:rotate(180deg) translateY(-5px)}}.footer-section-divider[_ngcontent-%COMP%]{display:none}@media screen and (max-width:991px){.footer-section-divider[_ngcontent-%COMP%]{display:block;height:1px;background:var(--gr20);margin:0 0 20px;opacity:.5;border:none}}.partner-label[_ngcontent-%COMP%]{color:var(--wh1);height:100%;font-size:10px;white-space:nowrap}.footer-logos[_ngcontent-%COMP%]{flex-wrap:wrap}.footer-logos[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{height:40px;border-right:1px solid var(--wh1)}@media screen and (max-width:720px){.footer-logos[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]:nth-child(2){border-right:none}}.navitaire-logo[_ngcontent-%COMP%]{height:28px}.col-footer[_ngcontent-%COMP%]{background-color:#00160a;border-top:.5px solid rgba(var(--wh1-rgb),.5)}@media screen and (max-width:720px){.card-logos[_ngcontent-%COMP%]{padding:40px 0 0}}"]}),nh);function rh(e,t){1&e&&(r.Zb(0,"div",5),r.Ub(1,"app-site-search",6),r.Ub(2,"app-site-search-responsive",7),r.Yb()),2&e&&(r.Hb(1),r.sc("popularSearches",!1))}function oh(e,t){if(1&e&&r.Ub(0,"app-links-above-footer",8),2&e){var n=r.jc();r.sc("linksAboveFooter",n.linksAboveFooter)("isMobile",n.isMobile)}}function ah(e,t){1&e&&r.Ub(0,"app-newsletter-card",9),2&e&&r.sc("isBookingType",!0)}function sh(e,t){1&e&&r.Vb(0)}function ch(e,t){1&e&&(r.Zb(0,"div",25),r.Ub(1,"app-newsletter-card"),r.Yb())}function lh(e,t){if(1&e&&(r.Zb(0,"div",13),r.Zb(1,"div",19),r.Zb(2,"div",20),r.Ub(3,"app-quick-links",21),r.Yb(),r.Zb(4,"div",22),r.Ub(5,"app-contact-us"),r.Qc(6,sh,1,0,"ng-container",23),r.Yb(),r.Qc(7,ch,2,0,"div",24),r.Yb(),r.Yb()),2&e){var n=r.jc(2),i=r.Ec(5);r.Hb(3),r.sc("links",n.quickLinks.links),r.Hb(3),r.sc("ngTemplateOutlet",i),r.Hb(1),r.sc("ngIf",n.isMobile)}}function uh(e,t){1&e&&r.Ub(0,"app-newsletter-card")}function dh(e,t){if(1&e&&(r.Zb(0,"div",26),r.Ub(1,"app-columns-grid",27),r.Yb()),2&e){var n=r.jc(2);r.Hb(1),r.sc("linkColumns",n.linkColumns)}}var hh=function(){return{height:32}};function fh(e,t){if(1&e&&(r.Zb(0,"div",30),r.Zb(1,"div",31),r.Ub(2,"img",32),r.kc(3,"cmsImage"),r.Yb(),r.Zb(4,"div",33),r.Zb(5,"div",34),r.Sc(6," Powered by "),r.Yb(),r.Ub(7,"img",35),r.kc(8,"cmsImage"),r.Yb(),r.Zb(9,"div",36),r.Ub(10,"img",37),r.kc(11,"cmsImage"),r.Yb(),r.Yb()),2&e){var n=r.jc(3);r.Hb(2),r.sc("src",r.mc(3,6,n.getPartnerLogos("FOOTER_LOGO_ISO_VERITAS").file.url,r.uc(15,hh)),r.Kc)("alt",n.getPartnerLogos("FOOTER_LOGO_ISO_VERITAS").title),r.Hb(5),r.sc("src",r.mc(8,9,n.getPartnerLogos("FOOTER_LOGO_NAVITAIRE").file.url,r.uc(16,hh)),r.Kc)("alt",n.getPartnerLogos("FOOTER_LOGO_NAVITAIRE").title),r.Hb(3),r.sc("src",r.mc(11,12,n.getPartnerLogos("FOOTER_LOGO_PCI").file.url,r.uc(17,hh)),r.Kc)("alt",n.getPartnerLogos("FOOTER_LOGO_PCI").title)}}function ph(e,t){if(1&e&&(r.Zb(0,"div",28),r.Qc(1,fh,12,18,"div",29),r.Yb()),2&e){var n=r.jc(2);r.Hb(1),r.sc("ngIf",n.getPartnerLogos("FOOTER_LOGO_ISO_VERITAS")&&n.getPartnerLogos("FOOTER_LOGO_NAVITAIRE"))}}function gh(e,t){if(1&e&&(r.Zb(0,"div",36),r.Ub(1,"img",44),r.kc(2,"cmsImage"),r.Yb()),2&e){var n=r.jc(3);r.Hb(1),r.sc("src",r.mc(2,2,n.getPartnerLogos("FOOTER_LOGO_MINTRANSPORTE_CO").file.url,r.uc(5,hh)),r.Kc)("alt",n.getPartnerLogos("FOOTER_LOGO_MINTRANSPORTE_CO").title)}}function vh(e,t){if(1&e&&(r.Ub(0,"img",44),r.kc(1,"cmsImage")),2&e){var n=r.jc(3);r.sc("src",r.mc(1,2,n.getPartnerLogos("FOOTER_LOGO_SUPERTRANSPORTE_CO").file.url,r.uc(5,hh)),r.Kc)("alt",n.getPartnerLogos("FOOTER_LOGO_SUPERTRANSPORTE_CO").title)}}function mh(e,t){if(1&e&&(r.Ub(0,"img",45),r.kc(1,"cmsImage")),2&e){var n=r.jc(3);r.sc("src",r.mc(1,2,n.getPartnerLogos("FOOTER_LOGO_AERONAUTICACIVIL_CO").file.url,r.uc(5,hh)),r.Kc)("alt",n.getPartnerLogos("FOOTER_LOGO_AERONAUTICACIVIL_CO").title)}}function bh(e,t){if(1&e&&(r.Zb(0,"div",38),r.Zb(1,"div",39),r.Zb(2,"div",40),r.Qc(3,gh,3,6,"div",41),r.Zb(4,"div",36),r.Qc(5,vh,2,6,"img",42),r.Qc(6,mh,2,6,"img",43),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&e){var n=r.jc(2);r.Hb(3),r.sc("ngIf",n.getPartnerLogos("FOOTER_LOGO_MINTRANSPORTE_CO")),r.Hb(2),r.sc("ngIf",n.getPartnerLogos("FOOTER_LOGO_SUPERTRANSPORTE_CO")),r.Hb(1),r.sc("ngIf",n.getPartnerLogos("FOOTER_LOGO_AERONAUTICACIVIL_CO"))}}function yh(e,t){if(1&e&&(r.Zb(0,"div",10),r.Qc(1,lh,8,3,"div",11),r.Qc(2,uh,1,0,"app-newsletter-card",12),r.Zb(3,"div",13),r.Qc(4,dh,2,1,"div",14),r.Zb(5,"div",15),r.Ub(6,"app-subfooter",16),r.Yb(),r.Yb(),r.Qc(7,ph,2,1,"div",17),r.Qc(8,bh,7,3,"div",18),r.Yb()),2&e){var n=r.jc();r.Hb(1),r.sc("ngIf",!n.isBrief),r.Hb(1),r.sc("ngIf",!n.isBrief&&!n.isMobile),r.Hb(2),r.sc("ngIf",!n.isBrief),r.Hb(2),r.sc("links",n.subfooterLinks)("creditCardLogos",n.creditCardLogos)("onlinePaymentLogos",n.onlinePaymentLogos)("displayDownloadbuttons",n.isBrief)("socialMediaItems",n.socialMediaItems),r.Hb(1),r.sc("ngIf",n.partnerLogos.length>0),r.Hb(1),r.sc("ngIf",n.partnerLogos.length>0&&"es-CO"===n.currentLocale)}}function _h(e,t){1&e&&(r.Zb(0,"div"),r.Zb(1,"div",46),r.Sc(2),r.kc(3,"cmsTranslate"),r.Yb(),r.Zb(4,"div",47),r.Zb(5,"app-call-to-action",48),r.kc(6,"cmsStaticCtas"),r.Ub(7,"img",49),r.kc(8,"cmsStaticImage"),r.Yb(),r.Zb(9,"app-call-to-action",48),r.kc(10,"cmsStaticCtas"),r.Ub(11,"img",49),r.kc(12,"cmsStaticImage"),r.Yb(),r.Zb(13,"app-call-to-action",50),r.kc(14,"cmsStaticCtas"),r.Ub(15,"img",49),r.kc(16,"cmsStaticImage"),r.Yb(),r.Yb(),r.Yb()),2&e&&(r.Hb(2),r.Uc(" ",r.lc(3,7,"FOOTER_DOWNLOAD_APP")," "),r.Hb(3),r.sc("callToAction",r.lc(6,9,"FOOTER_ACTION_DOWNLOAD_APP-STORE")),r.Hb(2),r.sc("src",r.lc(8,11,"FOOTER_DOWNLOAD_APP_APP-STORE"),r.Kc),r.Hb(2),r.sc("callToAction",r.lc(10,13,"FOOTER_ACTION_DOWNLOAD_PLAY-STORE")),r.Hb(2),r.sc("src",r.lc(12,15,"FOOTER_DOWNLOAD_APP_PLAY-STORE"),r.Kc),r.Hb(2),r.sc("callToAction",r.lc(14,17,"FOOTER_ACTION_DOWNLOAD_APP-GALLERY")),r.Hb(2),r.sc("src",r.lc(16,19,"FOOTER_DOWNLOAD_APP_HUAWEI-APP-GALLERY"),r.Kc))}var Ch,kh=((Ch=function(){function e(t,n,i){_classCallCheck(this,e),this.storefrontSvc=t,this.locale=n,this.deviceSvc=i,this.isBrief=!1,this.isHomepage=!1,this.quickLinks={title:"",links:[]},this.subfooterLinks=[],this.linkColumns=[],this.creditCardLogos=[],this.onlinePaymentLogos=[],this.partnerLogos=[],this.linksAboveFooter=[],this.isMobile=!1,this.currentLocale="",this.socialMediaItems=[]}return _createClass(e,[{key:"onResize",value:function(e){this.isMobile=e.target.innerWidth<=720}},{key:"ngOnInit",value:function(){var e=this;this.isMobile=!this.deviceSvc.isDesktop(),this.storefrontSvc.ready.then((function(){e.footerNavigation=e.storefrontSvc.storefrontData.footerNavigation,e.quickLinks.links=e.getSectionLinks("SF_FOOTER_QUICK-LINKS"),e.quickLinks.title=e.getSectionTitle("SF_FOOTER_QUICK-LINKS"),e.subfooterLinks=e.getSectionLinks("SF_SUBFOOTER_LINKS"),e.creditCardLogos=e.getLogos("SF_FOOTER_CC-LOGOS"),e.onlinePaymentLogos=e.getLogos("SF_FOOTER_OP-LOGOS"),e.partnerLogos=e.getLogos("SF_FOOTER_PARTNER-LOGOS"),e.linkColumns=e.resolveColums(),e.currentLocale=e.locale.getAppLocale(),e.linksAboveFooter=e.getSection("SF_FOOTER_LINKS-ABOVE-FOOTER"),e.socialMediaItems=e.getSection("SF_FOOTER_SOCIAL-MEDIA")}))}},{key:"getSectionLinks",value:function(e){var t=this.footerNavigation.find((function(t){return t.fields.code===e}));return t&&t.fields.items&&t.fields.items.length&&t.fields.items.map((function(e){return e.fields}))||[]}},{key:"getSectionTitle",value:function(e){return this.footerNavigation.find((function(t){return t.fields.code===e})).fields.title}},{key:"resolveColums",value:function(){var e=this.footerNavigation.filter((function(e){return!e.fields.code}));return e&&e.length?e.map((function(e){var t,n;return{title:e.fields.title,links:null===(n=null===(t=e.fields)||void 0===t?void 0:t.items)||void 0===n?void 0:n.map((function(e){return e.fields}))}})):[]}},{key:"getLogos",value:function(e){var t;return(null===(t=this.footerNavigation.find((function(t){return t.fields.code===e})))||void 0===t?void 0:t.fields.mediaItems)||[]}},{key:"getPartnerLogos",value:function(e){var t;return(null===(t=this.partnerLogos.find((function(t){return t.fields.title===e})))||void 0===t?void 0:t.fields)||null}},{key:"getSection",value:function(e){var t,n;return(null===(n=null===(t=this.footerNavigation.find((function(t){return t.fields.code===e})))||void 0===t?void 0:t.fields)||void 0===n?void 0:n.items)||[]}}]),e}()).\u0275fac=function(e){return new(e||Ch)(r.Tb(tn.a),r.Tb(nn.a),r.Tb(on.a))},Ch.\u0275cmp=r.Nb({type:Ch,selectors:[["app-viva-footer"]],hostBindings:function(e,t){1&e&&r.hc("resize",(function(e){return t.onResize(e)}),!1,r.Gc)},inputs:{isBrief:"isBrief",isHomepage:"isHomepage"},decls:6,vars:4,consts:[["class","footer-search-container pb-0 pb-lg-0",4,"ngIf"],[3,"linksAboveFooter","isMobile",4,"ngIf"],[3,"isBookingType",4,"ngIf"],["class","footer-container",4,"ngIf"],["DownloadApp",""],[1,"footer-search-container","pb-0","pb-lg-0"],[1,"d-none","d-md-block",3,"popularSearches"],[1,"d-md-none"],[3,"linksAboveFooter","isMobile"],[3,"isBookingType"],[1,"footer-container"],["class","container px-20 px-lg-10",4,"ngIf"],[4,"ngIf"],[1,"container","px-20","px-lg-10"],["class","footer-row pt-40 pb-0",4,"ngIf"],[1,"footer-row","card-logos"],[3,"links","creditCardLogos","onlinePaymentLogos","displayDownloadbuttons","socialMediaItems"],["class","container px-20 px-lg-10 pt-0 pt-md-40 pb-40 pb-md-60",4,"ngIf"],["class","col-footer",4,"ngIf"],[1,"footer-row","row"],[1,"col-12","col-lg-3"],[3,"links"],[1,"col-12","col-lg-5","pt-0","pt-md-20","pt-lg-0"],[4,"ngTemplateOutlet"],["class","col-12 col-lg-4 pt-20 pt-lg-0",4,"ngIf"],[1,"col-12","col-lg-4","pt-20","pt-lg-0"],[1,"footer-row","pt-40","pb-0"],[3,"linkColumns"],[1,"container","px-20","px-lg-10","pt-0","pt-md-40","pb-40","pb-md-60"],["class","d-flex justify-content-center align-items-center footer-logos",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","footer-logos"],[1,"d-flex","pr-20","logo-container"],["loading","lazy",1,"ml-10",3,"src","alt"],[1,"d-flex","ml-20","pr-md-20","logo-container"],[1,"partner-label","d-flex","justify-content-center","align-items-start"],["loading","lazy",1,"ml-10","navitaire-logo",3,"src","alt"],[1,"d-flex"],["loading","lazy",1,"ml-md-20","mt-20","mt-md-0",3,"src","alt"],[1,"col-footer"],[1,"container","px-20","px-lg-10","py-20"],[1,"d-flex","justify-content-between"],["class","d-flex",4,"ngIf"],["loading","lazy",3,"src","alt",4,"ngIf"],["class","ml-30","loading","lazy",3,"src","alt",4,"ngIf"],["loading","lazy",3,"src","alt"],["loading","lazy",1,"ml-30",3,"src","alt"],[1,"title","light","mb-3"],[1,"d-flex","flex-wrap"],["ctaClass","mr-2",3,"callToAction"],["height","40","loading","lazy",3,"src"],[3,"callToAction"]],template:function(e,t){1&e&&(r.Qc(0,rh,3,1,"div",0),r.Qc(1,oh,1,2,"app-links-above-footer",1),r.Qc(2,ah,1,1,"app-newsletter-card",2),r.Qc(3,yh,9,10,"div",3),r.Qc(4,_h,17,21,"ng-template",null,4,r.Rc)),2&e&&(r.sc("ngIf",!t.isBrief),r.Hb(1),r.sc("ngIf",t.linksAboveFooter.length&&t.isHomepage),r.Hb(1),r.sc("ngIf",t.isBrief),r.Hb(1),r.sc("ngIf",t.footerNavigation))},directives:[mt.u,Ic,Qu,ad,xd,Gd,Kd,$d,mt.B,ih,pi.a],pipes:[Ma.a,Nn.a,Oi.a,si.a],styles:[".footer-search-container[_ngcontent-%COMP%]{background-color:var(--gr15);padding-top:40px}@media screen and (max-width:991px){.footer-search-container[_ngcontent-%COMP%]{padding-top:20px}}.footer-container[_ngcontent-%COMP%]{background-color:var(--bg6)}.footer-row[_ngcontent-%COMP%]{padding:70px 0 40px;margin-bottom:0}@media screen and (max-width:991px){.footer-row[_ngcontent-%COMP%]{padding:40px 0 50px}}.footer-divider[_ngcontent-%COMP%]{height:1px;background:var(--wh1);border:none;opacity:1;margin:0}@media screen and (max-width:991px){.footer-divider[_ngcontent-%COMP%]{display:none}}.footer-title[_ngcontent-%COMP%]{color:var(--wh1);letter-spacing:-.5px;line-height:1;margin-bottom:40px;position:relative}.footer-title.medium[_ngcontent-%COMP%]{font-size:16px}@media screen and (max-width:991px){.footer-title.medium[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width:991px){.footer-title[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;justify-content:space-between;width:100%;cursor:pointer}}.footer-title[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{font-size:14px;color:var(--vg4);position:absolute;top:-100%;line-height:1}@media screen and (max-width:991px){.footer-title[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{display:none}}.footer-icon[_ngcontent-%COMP%]{display:none}@media screen and (max-width:991px){.footer-icon[_ngcontent-%COMP%]{display:block;color:var(--vg4)!important;font-size:20px;transition:all .3s cubic-bezier(.165,.84,.44,1)}.footer-icon.open[_ngcontent-%COMP%]{transform:rotate(180deg) translateY(-5px)}}.footer-section-divider[_ngcontent-%COMP%]{display:none}@media screen and (max-width:991px){.footer-section-divider[_ngcontent-%COMP%]{display:block;height:1px;background:var(--gr20);margin:0 0 20px;opacity:.5;border:none}}.partner-label[_ngcontent-%COMP%]{color:var(--wh1);height:100%;font-size:10px;white-space:nowrap}.footer-logos[_ngcontent-%COMP%]{flex-wrap:wrap}.footer-logos[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{height:40px;border-right:1px solid var(--wh1)}@media screen and (max-width:720px){.footer-logos[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]:nth-child(2){border-right:none}}.navitaire-logo[_ngcontent-%COMP%]{height:28px}.col-footer[_ngcontent-%COMP%]{background-color:#00160a;border-top:.5px solid rgba(var(--wh1-rgb),.5)}@media screen and (max-width:720px){.card-logos[_ngcontent-%COMP%]{padding:40px 0 0}}"]}),Ch);function Sh(e,t){if(1&e&&r.Ub(0,"app-viva-header",7),2&e){var n=r.jc(),i=r.Ec(8);r.sc("hidden",!i.isActivated)("isAndroidBannerShown",n.isAndroidBannerShown)}}function Oh(e,t){if(1&e&&(r.Zb(0,"footer"),r.Ub(1,"app-viva-footer",11),r.Yb()),2&e){r.jc(2);var n=r.Ec(8);r.Hb(1),r.sc("isBrief",!n.activatedRouteData.hasFullFooter)("isHomepage",!(null==n.activatedRouteData||!n.activatedRouteData.isHomepage))}}function Th(e,t){if(1&e&&(r.Zb(0,"div",8),r.Qc(1,Oh,2,2,"footer",9),r.Xb(2),r.Zb(3,"div",10),r.Sc(4),r.Yb(),r.Wb(),r.Yb()),2&e){var n=r.jc(),i=r.Ec(8);r.Hb(1),r.sc("ngIf",i.isActivated),r.Hb(3),r.Uc(" ",n.versionString," ")}}var wh,Ah,Eh,Ph,Mh,xh,Dh,Ih,Lh,Rh,Nh,jh,Bh,Fh,Hh,Uh,Yh,Gh,Vh,Zh,Wh,Kh,zh,Qh=function(e){return{"android-padding":e}},Xh=((wh=function(){function e(t,n,i,r,o,a,s,c,u,d,h,f,p,g,v,m,b,y,_){var C=this;_classCallCheck(this,e),this.document=t,this.platformId=n,this.datalayerChannelSvc=i,this.storefrontSv=r,this.router=o,this.locale=a,this.seoService=s,this.titleSvc=c,this.deviceService=u,this.cmsConfig=d,this.renderer=h,this.chunkErrorHandler=f,this.utmDatalayer=p,this.bookingRouteValidator=g,this.boxeverSvc=v,this.dyService=m,this.bfService=b,this.fbSdk=y,this.isbSvc=_,this.isProduction=l.g.production,this.schema={},this.versionString="",this.isAndroidBannerShown=!1,Object(qt.h)("bs4"),this.boxeverSvc.init(),this.dyService.init(),this.datalayerChannelSvc.getDeviceId(),this.datalayerChannelSvc.addGtmId(),this.storefrontSv.ready.then((function(){})),this.seoService.getJsonLD().subscribe((function(e){return C.schema=e})),this.versionString=this.versionDetails,Object(mt.L)(this.platformId)&&(this.datalayerChannelSvc.loadChannelInfo(),this.chunkErrorHandler.startHandler(),this.utmDatalayer.init(),this.fbSdk.init(),this.isbSvc.setIsbConfigFromCms()),this.bookingRouteValidator.init(),this.document.documentElement.lang=this.locale.getAppLocale().toLocaleLowerCase().slice(0,2),this.titleSvc.start(),this.cmsConfig.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.WebChat)&&this.deviceService.isDesktop()&&this.loadWebChatScript(),this.cmsConfig.getSectionFeatureValue(Xt.b.GLOBAL,Xt.a.GlobalBidFlyerScriptLoad)&&this.bfService.loadScript(this.document,Object(mt.L)(this.platformId)),this.hideLoaderOnNavigationEnd()}return _createClass(e,[{key:"hideLoaderOnNavigationEnd",value:function(){var e=this;this.router.events.pipe(Object($t.a)((function(e){return e instanceof Bt.c})),Object(Jt.a)(1)).toPromise().then((function(t){var n=e.renderer.selectRootElement("#vb-app-loader");e.renderer.setStyle(n,"display","none"),Object(Vt.a)(1e3).subscribe((function(){window.prerenderReady=!0}))}))}},{key:"loadWebChatScript",value:function(){var e=this.document.createElement("script");e.text="\n!(function (o, r, s) {\n  var c,\n    p,\n    a,\n    i = [],\n    u = [];\n  (o[s] = {\n    init: function () {\n      c = arguments;\n      var n = {\n        then: function (e) {\n          return u.push({ type: 't', next: e }), n;\n        },\n        catch: function (e) {\n          return u.push({ type: 'c', next: e }), n;\n        },\n      };\n      return n;\n    },\n    on: function () {\n      i.push(arguments);\n    },\n    render: function () {\n      p = arguments;\n    },\n    destroy: function () {\n      a = arguments;\n    },\n  }),\n    (o.__onWebMessengerHostReady__ = function (e) {\n      if ((delete o.__onWebMessengerHostReady__, (o[s] = e), c))\n        for (var n = e.init.apply(e, c), t = 0; t < u.length; t++) {\n          var r = u[t];\n          n = 't' === r.type ? n.then(r.next) : n.catch(r.next);\n        }\n      for (\n        p && e.render.apply(e, p), a && e.destroy.apply(e, a), t = 0;\n        t < i.length;\n        t++\n      )\n        e.on.apply(e, i[t]);\n    });\n  var e = new XMLHttpRequest();\n  e.addEventListener('load', function () {\n    try {\n      var e;\n      if (\n        (e =\n          'string' == typeof this.response\n            ? JSON.parse(this.response)\n            : this.response).url\n      ) {\n        var n = r.getElementsByTagName('script')[0],\n          t = r.createElement('script');\n        (t.async = !0), (t.src = e.url), n.parentNode.insertBefore(t, n);\n      }\n    } catch (e) {}\n  }),\n    e.open(\n      'GET',\n      'https://5e46bc82c3d8d5000fb5c147.webloader.smooch.io/',\n      !0\n    ),\n    (e.responseType = 'json'),\n    e.send();\n})(window, document, 'Smooch');\nvar apiUrl = 'https://logging.vivaaerobus.com',\n    authToken = '',\n    userIp = '',\n    userAgent = navigator.userAgent,\n    userUrl = window.location.href;\n  function getId() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(\n      /[xy]/g,\n      function (e) {\n        var t = (16 * Math.random()) | 0;\n        return ('x' == e ? t : (3 & t) | 8).toString(16);\n      }\n    );\n  }\n  function getAuthToken() {\n    var e = new XMLHttpRequest();\n    e.open('POST', apiUrl + '/api/v1/login', !0),\n      e.setRequestHeader('Content-Type', 'application/json;charset=utf-8'),\n      (e.onreadystatechange = function (e) {\n        e.target.response &&\n          (authToken = JSON.parse(e.target.response).accessToken);\n      }),\n      e.send(\n        JSON.stringify({ username: 'yalochat', password: 'fQcMXKlpU7q' })\n      );\n  }\n  function getIp() {\n    var e = new XMLHttpRequest();\n    e.open('GET', 'https://api.ipify.org/?format=json', !0),\n      (e.onreadystatechange = function (e) {\n        e.target.response && (userIp = JSON.parse(e.target.response).ip);\n      }),\n      e.send();\n  }\n  function getWebhookPayload() {\n    return {\n      id: getId(),\n      channel: 'web',\n      pos: 'www',\n      module: 'chat',\n      component: 'webchat',\n      section: [],\n      element: 'bubble',\n      action: 'send_first_message',\n      created: Date.now(),\n      data: {\n        uri: userUrl,\n        useragent: userAgent,\n        ip: userIp,\n        language: 'es',\n      },\n    };\n  }\n  function hitWebhook() {\n    var e = new XMLHttpRequest();\n    e.open('POST', apiUrl + '/api/v1/log', !0),\n      e.setRequestHeader('Authorization', 'Bearer ' + authToken),\n      e.setRequestHeader('Content-Type', 'application/json;charset=utf-8'),\n      (e.onreadystatechange = function (e) {}),\n      e.send(JSON.stringify(getWebhookPayload()));\n  }\n  getAuthToken(),\n    getIp(),\n    Smooch.on('widget:opened', function () {\n      hitWebhook();\n    }),\n    Smooch.init({\n      appId: '5e46bc82c3d8d5000fb5c147',\n      locale: 'es-MX',\n      customText: {\n        headerText: '\xa1Hola! \xbfC\xf3mo puedo ayudarte?',\n        introductionText: 'Escribe tu pregunta en un solo mensaje',\n        inputPlaceholder: 'Escribe tu pregunta...',\n        sendButtonText: 'Enviar',\n        messageRelativeTimeDay: 'Hace {value}d',\n        messageRelativeTimeHour: 'Hace {value}h',\n        messageRelativeTimeJustNow: 'Justo ahora',\n        messageRelativeTimeMinute: 'Hace {value}m',\n      },\n      menuItems: { imageUpload: !1, fileUpload: !1, shareLocation: !1 },\n    });\n",e.type="text/javascript",this.document.body.appendChild(e)}},{key:"setAndroidBannerValue",value:function(e){this.isAndroidBannerShown=e}},{key:"versionDetails",get:function(){var e="";return e+=l.g.production?"[PRODUCTION]":"[NON-PRODUCTION]",e+=" APP-VERSION: "+l.g.appVersion+" || ",e+=" API-VERSION: "+l.g.apiVersion+" || ",e+=" CMS-ALIAS: "+l.g.contentful.environment,e+=l.g.contentful.usePreview?"_preview":""}}]),e}()).\u0275fac=function(e){return new(e||wh)(r.Tb(mt.e),r.Tb(r.G),r.Tb(en.a),r.Tb(tn.a),r.Tb(Bt.g),r.Tb(nn.a),r.Tb(Zt.a),r.Tb(rn.a),r.Tb(on.a),r.Tb(an.a),r.Tb(r.I),r.Tb(cn),r.Tb(ln.a),r.Tb(gn),r.Tb(vn.a),r.Tb(mn.a),r.Tb(bn.a),r.Tb(_n),r.Tb(Sn))},wh.\u0275cmp=r.Nb({type:wh,selectors:[["app-root"]],decls:11,vars:6,consts:[[3,"json"],[1,"app-container",3,"ngClass"],[1,"app-content"],[3,"bannerIsDisplayed"],[3,"hidden","isAndroidBannerShown",4,"ngIf"],["routerOutlet","outlet"],["class","app-footer",4,"ngIf"],[3,"hidden","isAndroidBannerShown"],[1,"app-footer"],[4,"ngIf"],[1,"ml-10","small-title","version-info-bar"],[3,"isBrief","isHomepage"]],template:function(e,t){if(1&e&&(r.Ub(0,"app-login-sidebar"),r.Ub(1,"app-basket-sidebar"),r.Ub(2,"ngx-json-ld",0),r.Zb(3,"div",1),r.Zb(4,"div",2),r.Zb(5,"app-android-banner",3),r.hc("bannerIsDisplayed",(function(e){return t.setAndroidBannerValue(e)})),r.Yb(),r.Qc(6,Sh,1,2,"app-viva-header",4),r.Ub(7,"router-outlet",null,5),r.Yb(),r.Qc(9,Th,5,2,"div",6),r.Yb(),r.Ub(10,"app-cookies-modal")),2&e){var n=r.Ec(8);r.Hb(2),r.sc("json",t.schema),r.Hb(1),r.sc("ngClass",r.vc(4,Qh,t.isAndroidBannerShown)),r.Hb(3),r.sc("ngIf",!n.activatedRouteData.hideHeader),r.Hb(3),r.sc("ngIf",!n.activatedRouteData.hideFooter)}},directives:[Jr,yo,_o,mt.r,Ao,mt.u,Bt.l,Lo,Yu,kh],styles:[".app-container[_ngcontent-%COMP%], body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100vh}.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.app-container.android-padding[_ngcontent-%COMP%]{padding-top:72px}.app-content[_ngcontent-%COMP%]{flex:1 0 auto}.app-footer[_ngcontent-%COMP%]{flex-shrink:0}.version-info-bar[_ngcontent-%COMP%]{background-color:var(--wh1)}"]}),wh),qh=n("o5mt"),$h=n("b8LB"),Jh=n("Pqv9"),ef=n("ur0o"),tf=n("qNo2"),nf=n("h3XU"),rf=n("MBJt"),of=n("d0zJ"),af=((jh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:jh}),jh.\u0275inj=r.Qb({factory:function(e){return new(e||jh)},imports:[[mt.c,qh.a]]}),jh),sf=((Nh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Nh}),Nh.\u0275inj=r.Qb({factory:function(e){return new(e||Nh)},imports:[[mt.c,qh.a,$h.a,Rn.E,Rn.o,Bt.k,Jh.a,gi.d,ef.a,tf.a,nf.a,Kn.b,rf.a,of.a,af]]}),Nh),cf=((Rh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Rh}),Rh.\u0275inj=r.Qb({factory:function(e){return new(e||Rh)},imports:[[mt.c]]}),Rh),lf=((Lh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Lh}),Lh.\u0275inj=r.Qb({factory:function(e){return new(e||Lh)},imports:[[mt.c,cf,qh.a]]}),Lh),uf=((Ih=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Ih}),Ih.\u0275inj=r.Qb({factory:function(e){return new(e||Ih)},imports:[[mt.c,Rn.E,lf,qh.a]]}),Ih),df=((Dh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Dh}),Dh.\u0275inj=r.Qb({factory:function(e){return new(e||Dh)},imports:[[mt.c,uf]]}),Dh),hf=((xh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:xh}),xh.\u0275inj=r.Qb({factory:function(e){return new(e||xh)},imports:[[mt.c,qh.a]]}),xh),ff=((Mh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Mh}),Mh.\u0275inj=r.Qb({factory:function(e){return new(e||Mh)},imports:[[mt.c,tf.a,qh.a,hf]]}),Mh),pf=((Ph=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Ph}),Ph.\u0275inj=r.Qb({factory:function(e){return new(e||Ph)},imports:[[mt.c]]}),Ph),gf=((Eh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Eh}),Eh.\u0275inj=r.Qb({factory:function(e){return new(e||Eh)},imports:[[mt.c,qh.a]]}),Eh),vf=((Ah=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Ah}),Ah.\u0275inj=r.Qb({factory:function(e){return new(e||Ah)},imports:[[mt.c,qh.a]]}),Ah),mf=n("0wYa"),bf=n("xT/e"),yf=((Bh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Bh}),Bh.\u0275inj=r.Qb({factory:function(e){return new(e||Bh)},imports:[[mt.c,qh.a,of.a]]}),Bh),_f=n("wbuz"),Cf=n("9LZq"),kf=((Gh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Gh}),Gh.\u0275inj=r.Qb({factory:function(e){return new(e||Gh)},imports:[[mt.c,qh.a,_f.a,Cf.a,Kn.b,Rn.o,Rn.E]]}),Gh),Sf=((Yh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Yh}),Yh.\u0275inj=r.Qb({factory:function(e){return new(e||Yh)},imports:[[mt.c,qh.a,_f.a,Cf.a,Kn.b]]}),Yh),Of=((Uh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Uh}),Uh.\u0275inj=r.Qb({factory:function(e){return new(e||Uh)},imports:[[mt.c,qh.a,Sf,of.a]]}),Uh),Tf=((Hh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Hh}),Hh.\u0275inj=r.Qb({factory:function(e){return new(e||Hh)},imports:[[mt.c,Bt.k,ff,pf,gf,vf,qh.a,mf.a,bf.a,yf,kf,Sf,uf,of.a,Of]]}),Hh),wf=((Fh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Fh}),Fh.\u0275inj=r.Qb({factory:function(e){return new(e||Fh)},imports:[[mt.c,Rn.E,df,Tf,pf,qh.a]]}),Fh),Af=n("bSk5"),Ef=((Zh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Zh}),Zh.\u0275inj=r.Qb({factory:function(e){return new(e||Zh)},providers:[mt.G],imports:[[mt.c]]}),Zh),Pf=((Vh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Vh}),Vh.\u0275inj=r.Qb({factory:function(e){return new(e||Vh)},imports:[[mt.c,uf,Rn.o,Rn.E,qh.a,of.a,wf,nf.a,Kn.b,Af.a,Ef]]}),Vh),Mf=n("JYGO"),xf=((Kh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Kh}),Kh.\u0275inj=r.Qb({factory:function(e){return new(e||Kh)},imports:[[mt.c,h.e,qh.a]]}),Kh),Df=((Wh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Wh}),Wh.\u0275inj=r.Qb({factory:function(e){return new(e||Wh)},providers:[Cn.a,mt.f],imports:[[mt.c,Rn.o,Kn.b,uf,Cf.a,qh.a,_f.a,Tf,Bt.k,ff,gf,Mf.a,mf.a,bf.a,yf,kf,Sf,aa.b,of.a,Of,xf]]}),Wh),If=n("LYOT"),Lf=n("z6cu"),Rf=n("tS1D"),Nf=((zh=function e(t){_classCallCheck(this,e),this.viewContainerRef=t}).\u0275fac=function(e){return new(e||zh)(r.Tb(r.S))},zh.\u0275dir=r.Ob({type:zh,selectors:[["","appInsertion",""]]}),zh),jf=function e(){_classCallCheck(this,e)},Bf=function(){function e(){_classCallCheck(this,e),this._afterClosed=new vc.a,this.afterClosed=this._afterClosed.asObservable()}return _createClass(e,[{key:"close",value:function(e){this._afterClosed.next(e),this._afterClosed.complete()}}]),e}();function Ff(e,t){}var Hf,Uf,Yf,Gf=((Hf=function(){function e(t,n,i,r){_classCallCheck(this,e),this.componentFactoryResolver=t,this.cd=n,this.dialogConfig=i,this.dialogRef=r}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.loadChildComponent(this.childComponentType),this.cd.detectChanges()}},{key:"onOverlayClicked",value:function(){!1!==this.dialogConfig.overlayDismiss&&this.dialogRef.close()}},{key:"onDialogClicked",value:function(e){e.stopPropagation()}},{key:"loadChildComponent",value:function(e){var t=this.componentFactoryResolver.resolveComponentFactory(e),n=this.insertionPoint.viewContainerRef;n.clear(),this.componentRef=n.createComponent(t)}},{key:"ngOnDestroy",value:function(){this.componentRef&&this.componentRef.destroy()}}]),e}()).\u0275fac=function(e){return new(e||Hf)(r.Tb(r.l),r.Tb(r.i),r.Tb(jf),r.Tb(Bf))},Hf.\u0275cmp=r.Nb({type:Hf,selectors:[["app-dialog"]],viewQuery:function(e,t){var n;1&e&&r.Yc(Nf,!0),2&e&&r.Dc(n=r.ic())&&(t.insertionPoint=n.first)},decls:3,vars:0,consts:[[1,"dialog-overlay",3,"click"],[1,"dialog-container",3,"click"],["appInsertion",""]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.hc("click",(function(){return t.onOverlayClicked()})),r.Zb(1,"div",1),r.hc("click",(function(e){return t.onDialogClicked(e)})),r.Qc(2,Ff,0,0,"ng-template",2),r.Yb(),r.Yb())},directives:[Nf],styles:[".dialog-overlay[_ngcontent-%COMP%]{align-items:center;justify-content:center;position:fixed;top:0;bottom:0;left:0;right:0;padding:4.26rem;background-color:rgba(var(--bl9-rgb),.7);z-index:10100}.dialog-container[_ngcontent-%COMP%], .dialog-overlay[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dialog-container[_ngcontent-%COMP%]{box-shadow:0 1px 5px 0 rgba(95,95,95,.07),0 0 50px 0 hsla(0,0%,55.3%,.07);background-color:var(--wh1);border-radius:5px;overflow-x:hidden;overflow-y:auto;width:520px;max-height:calc(100vh - 8.52rem)}@media screen and (max-width:720px){.dialog-overlay[_ngcontent-%COMP%]{padding:0}.dialog-container[_ngcontent-%COMP%]{width:100vw;height:100vh;max-height:100vh;border-radius:0}}"]}),Hf),Vf=function(){function e(t,n){_classCallCheck(this,e),this._parentInjector=t,this._additionalTokens=n}return _createClass(e,[{key:"get",value:function(e,t,n){return this._additionalTokens.get(e)||this._parentInjector.get(e,t,n)}}]),e}(),Zf=((Yf=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Yf}),Yf.\u0275inj=r.Qb({factory:function(e){return new(e||Yf)},imports:[[mt.c]]}),Yf),Wf=((Uf=function(){function e(t,n,i){_classCallCheck(this,e),this.componentFactoryResolver=t,this.appRef=n,this.injector=i}return _createClass(e,[{key:"open",value:function(e,t){return this.appendDialogComponentToBody(t||{},e)}},{key:"appendDialogComponentToBody",value:function(e,t){var n=this,i=new WeakMap;i.set(jf,e);var r=new Bf;i.set(Bf,r);var o=this.componentFactoryResolver.resolveComponentFactory(Gf).create(new Vf(this.injector,i));return this.appRef.attachView(o.hostView),document.body.appendChild(o.hostView.rootNodes[0]),r.afterClosed.subscribe((function(){n.removeDialogComponentFromBody(o)})),o.instance.childComponentType=t,r}},{key:"removeDialogComponentFromBody",value:function(e){this.appRef.detachView(e.hostView),e.destroy()}}]),e}()).\u0275fac=function(e){return new(e||Uf)(r.dc(r.l),r.dc(r.g),r.dc(r.u))},Uf.\u0275prov=r.Pb({token:Uf,factory:Uf.\u0275fac,providedIn:Zf}),Uf);function Kf(e,t){if(1&e){var n=r.ac();r.Zb(0,"button",6),r.hc("click",(function(){return r.Hc(n),r.jc().closeDialog()})),r.Ub(1,"em",7),r.Yb()}}function zf(e,t){if(1&e&&(r.Xb(0),r.Zb(1,"div",8),r.Zb(2,"div",9),r.Sc(3),r.kc(4,"cmsTranslate"),r.Yb(),r.Ub(5,"div",10),r.kc(6,"dompurify"),r.Yb(),r.Wb()),2&e){var n=r.jc();r.Hb(3),r.Uc(" ",n.alertDataHasTitle?n.alertData.title:r.mc(4,2,"BOOKER_ERROR_RESERVATION_TITLE","\xa1Ha ocurrido un error!")," "),r.Hb(2),r.sc("innerHTML",r.lc(6,5,n.alertData.message),r.Ic)}}function Qf(e,t){1&e&&(r.Xb(0),r.Zb(1,"div",8),r.Zb(2,"div",9),r.Sc(3),r.kc(4,"cmsTranslate"),r.Yb(),r.Sc(5),r.kc(6,"cmsTranslate"),r.Yb(),r.Wb()),2&e&&(r.Hb(3),r.Uc(" ",r.mc(4,2,"BOOKER_ERROR_RESERVATION_TITLE","\xa1Oh No!")," "),r.Hb(2),r.Uc(" ",r.mc(6,5,"BOOKER_ERROR_RESERVATION_SUPPORT","Ha ocurrido un error desconocido.")," "))}function Xf(e,t){if(1&e&&(r.Xb(0),r.Zb(1,"div",11),r.Sc(2),r.Yb(),r.Wb()),2&e){var n=r.jc();r.Hb(2),r.Tc(n.basketId)}}function qf(e,t){if(1&e){var n=r.ac();r.Xb(0),r.Ub(1,"hr"),r.Zb(2,"div",12),r.Zb(3,"button",13),r.hc("click",(function(){return r.Hc(n),r.jc().closeDialog()})),r.Zb(4,"span"),r.Sc(5),r.kc(6,"cmsTranslate"),r.Yb(),r.Yb(),r.Yb(),r.Wb()}2&e&&(r.Hb(5),r.Tc(r.mc(6,1,"GLOBAL_ACTION_ACCEPT","Aceptar")))}function $f(e,t){if(1&e&&(r.Zb(0,"code"),r.Sc(1),r.Yb()),2&e){var n=r.jc(2);r.Hb(1),r.Uc(" ",n.errDataToString," ")}}function Jf(e,t){if(1&e){var n=r.ac();r.Zb(0,"div",14),r.Zb(1,"button",15),r.hc("click",(function(){return r.Hc(n),r.jc().toggleDetails()})),r.Zb(2,"span",16),r.Zb(3,"span"),r.Sc(4),r.kc(5,"cmsTranslate"),r.kc(6,"cmsTranslate"),r.Yb(),r.Ub(7,"em",17),r.Yb(),r.Yb(),r.Qc(8,$f,2,1,"code",4),r.Yb()}if(2&e){var i=r.jc();r.Hb(4),r.Tc(i.detailsPaneOpen?r.mc(5,3,"GLOBAL_ACTION_HIDE-DETAILS","Ocultar Detalles"):r.mc(6,6,"GLOBAL_LABEL_DETAILS","Ver Detalles")),r.Hb(3),r.sc("ngClass",i.detailsPaneOpen?"fa-caret-up":"fa-caret-down"),r.Hb(1),r.sc("ngIf",i.detailsPaneOpen)}}function ep(e,t){if(1&e&&(r.Xb(0),r.Zb(1,"div",18),r.Sc(2),r.Yb(),r.Wb()),2&e){var n=r.jc();r.Hb(1),r.sc("ngClass",n.isDismissable?"pt-20":"pt-10"),r.Hb(1),r.Uc(" ",n.exceptionId," ")}}var tp,np,ip,rp,op,ap,sp,cp,lp,up,dp,hp,fp=((tp=function(){function e(t,n,i){_classCallCheck(this,e),this.dialogRef=t,this.dialogConfig=n,this.basket=i,this.detailsPaneOpen=!1,this.iconColorClasses={"yellow-solid":"yellow","yellow-white":"yellow","red-solid":"red","red-white":"red","green-solid":"green","green-white":"green"},this.iconClasses={warning:"fa-exclamation-triangle",information:"fa-info-circle",flight:"fa-plane",announcement:"fa-bullhorn",promo:"fa-certificate","custom-image":"","custom-icon-class":""},this.iconClass="",this.iconColorClass=""}return _createClass(e,[{key:"ngOnInit",value:function(){this.setNotificationStyles()}},{key:"setNotificationStyles",value:function(){this.alertData?(this.iconClass=this.iconClasses[this.alertData.displayImage]||"fa-info-circle",this.iconColorClass=this.iconColorClasses[this.alertData.displayColor]||"green"):(this.iconClass="fa-exclamation-triangle",this.iconColorClass="red")}},{key:"toggleDetails",value:function(){this.detailsPaneOpen=!this.detailsPaneOpen}},{key:"closeDialog",value:function(){this.dialogRef.close()}},{key:"iconDisplayClass",get:function(){return"".concat(this.iconClass," ").concat(this.iconColorClass)}},{key:"errDataToString",get:function(){if(this.dialogConfig.data){var e=this.dialogConfig.data;return l.g.production?"\n  - Session ID: undefined\n  - Exception ID: ".concat(e.exceptionId,"\n  - Basket ID: ").concat(e.basketId,"\n  - Timestamp: ").concat(e.timestamp,"\n  - URL: ").concat(e.url,"\n  - Error Code: ").concat(e.code,"\n      "):"\n  - Session ID: undefined\n  - Exception ID: ".concat(e.exceptionId,"\n  - Basket ID: ").concat(e.basketId,"\n  - Timestamp: ").concat(e.timestamp,"\n  - URL: ").concat(e.url,"\n  - HTTP Status: ").concat(e.status,"\n  - Error Code: ").concat(e.code,"\n  - Error Message: ").concat(e.message,"\n      ")}return"No Details"}},{key:"showGenericError",get:function(){var e;return!(null===(e=this.dialogConfig.data)||void 0===e?void 0:e.alertData)}},{key:"alertDataHasTitle",get:function(){var e,t;return!!(null===(t=null===(e=this.dialogConfig.data)||void 0===e?void 0:e.alertData)||void 0===t?void 0:t.title)}},{key:"alertData",get:function(){var e;return null===(e=this.dialogConfig.data)||void 0===e?void 0:e.alertData}},{key:"isWafError",get:function(){var e,t;return(null===(e=this.dialogConfig.data)||void 0===e?void 0:e.code)===un.b.WAF_BLOCKED_ERROR&&!!(null===(t=this.dialogConfig.data)||void 0===t?void 0:t.exceptionId)}},{key:"exceptionId",get:function(){var e;return null===(e=this.dialogConfig.data)||void 0===e?void 0:e.exceptionId}},{key:"isDismissable",get:function(){return!(!1===this.dialogConfig.overlayDismiss)}},{key:"basketId",get:function(){var e,t,n;return(null===(t=null===(e=this.dialogConfig)||void 0===e?void 0:e.data)||void 0===t?void 0:t.basketId)||(null===(n=this.basket)||void 0===n?void 0:n.basketId)||void 0}}]),e}()).\u0275fac=function(e){return new(e||tp)(r.Tb(Bf),r.Tb(jf),r.Tb(hn.a))},tp.\u0275cmp=r.Nb({type:tp,selectors:[["app-notification-dialog"]],decls:11,vars:8,consts:[[1,"p-30","position-relative"],["class","modal-close",3,"click",4,"ngIf"],[1,"pt-40","pb-30","text-center"],[1,"notification-icon","fas",3,"ngClass"],[4,"ngIf"],["class","pt-10",4,"ngIf"],[1,"modal-close",3,"click"],[1,"fas","fa-times"],[1,"py-10","text-center"],[1,"h3","pb-5"],[3,"innerHTML"],[1,"medium-title","text-center","dark"],[1,"pt-10","text-center"],[1,"viva-btn","primary","w-100",3,"click"],[1,"pt-10"],[1,"viva-btn","btn-link",3,"click"],[1,"content"],[1,"fas",3,"ngClass"],[1,"small-text","text-center",3,"ngClass"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Qc(1,Kf,2,0,"button",1),r.Zb(2,"div",2),r.Ub(3,"em",3),r.Yb(),r.Ub(4,"hr"),r.Qc(5,zf,7,7,"ng-container",4),r.Qc(6,Qf,7,8,"ng-container",4),r.Qc(7,Xf,3,1,"ng-container",4),r.Qc(8,qf,7,4,"ng-container",4),r.Qc(9,Jf,9,9,"div",5),r.Qc(10,ep,3,2,"ng-container",4),r.Yb()),2&e&&(r.Hb(1),r.sc("ngIf",t.isDismissable),r.Hb(2),r.sc("ngClass",t.iconDisplayClass),r.Hb(2),r.sc("ngIf",!t.showGenericError),r.Hb(1),r.sc("ngIf",t.showGenericError),r.Hb(1),r.sc("ngIf",!!t.basketId),r.Hb(1),r.sc("ngIf",t.isDismissable),r.Hb(1),r.sc("ngIf",t.showGenericError),r.Hb(1),r.sc("ngIf",t.isWafError))},directives:[mt.u,mt.r],pipes:[Nn.a,Cc.c],styles:[".notification-icon[_ngcontent-%COMP%]{font-size:96px}.notification-icon.red[_ngcontent-%COMP%]{color:var(--r4)}.notification-icon.yellow[_ngcontent-%COMP%]{color:var(--sc-oy4)}.notification-icon.green[_ngcontent-%COMP%]{color:var(--lg4)}code[_ngcontent-%COMP%]{display:block;white-space:pre-wrap;background-color:var(--wh2);border-radius:5px}"]}),tp),pp=(_defineProperty2(i={},l.g.BASKET_BOOKING_URL,[un.b.BASKET_PASSIVE,un.b.BASKET_EXPIRED,un.b.BASKET_ACCESS_NEEDS_USER]),_defineProperty2(i,l.g.BASKET_URL,[un.b.BASKET_PASSIVE,un.b.BASKET_EXPIRED,un.b.BASKET_ACCESS_NEEDS_USER]),_defineProperty2(i,l.g.PAYMENT_STATUS,[un.b.NO_PENDING_PAYMENTS]),_defineProperty2(i,l.g.SPLIT_PAYMENT_ADD,[un.b.POINTS_REWARDS_OTP_VALIDATION_FAILED,un.b.DOTERS_OTP_VALIDATION_FAILED]),_defineProperty2(i,l.g.LOGIN_URL,[un.b.ACCOUNT_CREDENTIALS_INVALID,un.b.EXTERNAL_REFRESH_TOKEN_INVALID]),_defineProperty2(i,l.g.ACCOUNT_RESTORE_URL,[un.b.ACCESS_NEEDS_USER,un.b.ACCOUNT_CREDENTIALS_INVALID,un.b.UNKNOWN_ERROR,un.b.EXTERNAL_REFRESH_TOKEN_INVALID]),_defineProperty2(i,l.g.VALIDATE_TOKEN_URL,[un.b.CONNECTION_ERROR,un.b.EXTERNAL_REFRESH_TOKEN_INVALID]),_defineProperty2(i,l.g.ACCOUNT_URL,[un.b.ACCOUNT_CREDENTIALS_INVALID]),_defineProperty2(i,l.g.ACCOUNT_REGISTER_URL,[un.b.REGISTER_EMAIL_ALREADY_EXISTS,un.b.INVALID_USERNAME_OR_PASSWORD]),_defineProperty2(i,l.g.FULL_BOOKING_URL,[un.b.INVALID_BOOKING_PARAMS]),_defineProperty2(i,l.g.CHECK_IN_PASSENGER,[un.b.CHECKIN_SEATS_ASSIGNMENT_FAILED]),_defineProperty2(i,l.g.LOW_FARE_GQL_URL,["500","502","503","504"]),_defineProperty2(i,l.g.JOURNEYS_BOOKING_BASKET_URL,[un.b.POINTS_INSUFFICIENT_BALANCE]),_defineProperty2(i,l.g.IROP_CANCEL_URL,[un.b.INVALID_OTP,un.b.MAXRETRIES_OTP]),_defineProperty2(i,l.g.BOOKING_CANCEL_URL,[un.b.INVALID_OTP,un.b.MAXRETRIES_OTP]),_defineProperty2(i,l.g.PROCESS_COMPENSATION_URL,[un.b.INVALID_OTP,un.b.MAXRETRIES_OTP]),_defineProperty2(i,"*",[]),i),gp=((rp=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.apiUrlBlacklist=pp,this.httpStatusBlacklist=[428],this.dialogSvc=this.injector.get(Wf),this.alertsSvc=this.injector.get(ui.a),this.gtmService=this.injector.get(cd.a)}return _createClass(e,[{key:"intercept",value:function(e,t){var n=this;return t.handle(e).pipe(Object(bc.a)((function(e){if(n.validateAgentNotAllowedError(e),n.validateUnauthorizedError(e),!n.httpStatusBlacklist.includes(e.status)&&(e.url.includes(l.c)||e.url.includes(l.a))&&n.shouldDisplayAPINotification(e)){n.basketSvc||(n.basketSvc=n.injector.get(hn.a));var t=new Date(Date.now()).toISOString(),i=n.generateErrorDataObj(e);l.g.production||n.printDiagnosticData(e,i,t),n.gtmErrorMessageAPI(e,i),n.displayNotification(e,i,t)}return Object(Lf.a)(e)})))}},{key:"generateErrorDataObj",value:function(e){var t=Object.assign({},e.error);return e.url.includes(l.a)?delete(t=Object.assign(Object.assign({},t),t.error)).error:this.isWafHtmlError(e)&&(t=this.buildWafError(e)),{type:(null==t?void 0:t.type)||un.d.ERROR,action:(null==t?void 0:t.action)||un.a.CANCEL,data:{},code:this.getErrorCode(e,t.code),message:(null==t?void 0:t.message)||"Unknown error.",diagnosticInformation:(null==t?void 0:t.diagnosticInformation)||e.message,exceptionId:(null==t?void 0:t.exceptionId)||""}}},{key:"printDiagnosticData",value:function(e,t,n){console.error("\n      ::::API ERROR::::\n      - URL: ".concat(e.url,"\n      - Time: ").concat(n,"\n      - HTTP Status: ").concat(e.status,"\n      - HTTP Status Text: ").concat(e.statusText,"\n      - Error Code: ").concat(t.code,"\n      - Error Type: ").concat(t.type,"\n      - Error Action: ").concat(t.action,"\n      - Error Message: ").concat(t.message,"\n      - Exception ID: ").concat(t.exceptionId,"\n      - Basket ID: ").concat(this.basketSvc.basketId,"\n    "),"\n      ::::Diagnosic Information::::\n      ".concat(t.diagnosticInformation,"\n    "))}},{key:"displayNotification",value:function(e,t,n){var i=this;Object(mi.a)(this.alertsSvc.ready).pipe(Object(Rf.a)(2e3)).subscribe((function(){var r=i.alertsSvc.getAlert(t.code);if(r&&r.display)switch(r.display){case"hide":break;case"snackbar":i.alertsSvc.addCurrentAlert([{code:t.code}]);break;default:i.openNotificationDialog(e,t,r,n)}else i.openNotificationDialog(e,t,r,n)}),(function(){i.openNotificationDialog(e,t,void 0,n)}))}},{key:"openNotificationDialog",value:function(e,t,n,i){var r=this.basketSvc.basketId,o={data:Object.assign(Object.assign({timestamp:i,url:e.url,status:e.status,alertData:n},t),!!r&&{basketId:r})};this.dialogSvc.open(fp,o)}},{key:"shouldDisplayAPINotification",value:function(e){var t=e.url.split("?",1)[0],n=this.getErrorCode(e),i=this.apiUrlBlacklist[t];if(i&&(i.includes(n)||i.includes(e.status.toString())))return!1;var r=this.apiUrlBlacklist["*"];return!r||!r.includes(n)}},{key:"getErrorCode",value:function(e,t){var n;return 0!==e.status?t||(null===(n=e.error)||void 0===n?void 0:n.code)||un.b.UNKNOWN_ERROR:un.b.CONNECTION_ERROR}},{key:"gtmErrorMessageAPI",value:function(e,t){var n={event:"ev_message",eventDate:(new Date).toISOString(),message:{type:t.type,code:t.code,message:t.message,id:t.exceptionId,detail:{endpoint:e.url}}};this.gtmService.pushTag(n)}},{key:"isWafHtmlError",value:function(e){var t=null!=e?e:{},n=t.status,i=t.headers,r=t.error;return 403===n&&"text/html"===(null==i?void 0:i.get("Content-Type"))&&"string"==typeof r&&/(Reference(.*))$/gim.test(r)}},{key:"buildWafError",value:function(e){var t,n=null!=e?e:{},i=n.error,r=n.message;if("string"==typeof i){var o="",a=null===(t=/(Reference(.*))$/gim.exec(i))||void 0===t?void 0:t[2];return a&&(o=(new DOMParser).parseFromString(a,"text/html").documentElement.textContent),{type:un.d.ERROR,action:un.a.CANCEL,data:{},code:un.b.WAF_BLOCKED_ERROR,message:"WAF Blocked Connection Error",diagnosticInformation:r,exceptionId:o}}return i}},{key:"isAgentNotAllowedError",value:function(e){var t;try{var n=e.status,i=null!==(t=e.error)&&void 0!==t?t:{},r=i.code,o=i.diagnosticInformation;return 500===n&&r===un.b.UNKNOWN_DOT_REZ_API_ERROR&&!!o&&o.includes("Agent is not allowed to view/update the requested booking")}catch(a){return l.g.production||console.error("::isAgentNotAllowedError::",e),!1}}},{key:"validateAgentNotAllowedError",value:function(e){e&&this.isAgentNotAllowedError(e)&&(e.error.code=un.b.UNKNOWN_DOT_REZ_API_ERROR_AGENT_NOT_ALLOWED)}},{key:"validateUnauthorizedError",value:function(e){var t;e&&401===e.status&&(this.authSvc||(this.authSvc=this.injector.get(En.a)),(null===(t=this.authSvc)||void 0===t?void 0:t.authToken)&&this.authSvc.doLogout())}}]),e}()).\u0275fac=function(e){return new(e||rp)(r.dc(r.u))},rp.\u0275prov=r.Pb({token:rp,factory:rp.\u0275fac}),rp),vp=((ip=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return e.url.includes(l.c)&&l.g.apiKey&&(e=e.clone({headers:e.headers.set("x-api-key",l.g.apiKey)})),t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||ip)},ip.\u0275prov=r.Pb({token:ip,factory:ip.\u0275fac}),ip),mp=((np=function(){function e(t){_classCallCheck(this,e),this.token=t}return _createClass(e,[{key:"intercept",value:function(e,t){if(e.url.includes(l.c)&&!e.url.includes(l.g.LOW_FARE_GQL_URL)||0===e.url.indexOf(l.g.ACCOUNT_VIVACASH_WALLET)||0===e.url.indexOf(l.g.SHARE_ITINERARY_URL)||0===e.url.indexOf(l.g.ACCOUNT_STAFF_STANDBY)){var n=this.token.authToken;n&&(e=e.clone({headers:e.headers.set("Authorization","Bearer "+n)}))}return t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||np)(r.dc(Ut.a))},np.\u0275prov=r.Pb({token:np,factory:np.\u0275fac}),np),bp=[l.g.BUYBACK_URL,l.g.OTP_OPTIONS_URL,l.g.OTP_GENERATE_URL,l.g.IROP_CANCEL_RESEND_EMAIL_URL,l.g.GET_COMPENSATIONS_URL,l.g.PROCESS_COMPENSATION_URL,l.g.IROP_KEEP_URL,l.g.IROP_KEEP_URL,l.g.MARKETPLACE],yp=((op=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isBlacklistedUrl",value:function(e){return bp.some((function(t){return e.includes(t)}))}},{key:"intercept",value:function(e,t){return!e.url.includes(l.c)&&0!==e.url.indexOf(l.g.ACCOUNT_VIVACASH_WALLET)||this.isBlacklistedUrl(e.url)||(e=e.clone({headers:e.headers.set("X-Channel","web")})),t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||op)},op.\u0275prov=r.Pb({token:op,factory:op.\u0275fac}),op),_p=n("vkgz"),Cp=((sp=function(){function e(t){var n=this;_classCallCheck(this,e),this.injector=t,Object(Vt.a)(0).subscribe((function(){n.basket=n.injector.get(hn.a)}))}return _createClass(e,[{key:"intercept",value:function(e,t){var n=this;return t.handle(e).pipe(Object(_p.a)({next:function(t){var i;if(t instanceof d.f&&t.url.includes(l.c))try{(null===(i=t.body)||void 0===i?void 0:i.action)!==un.a.REFRESH_BASKET||e.headers.has("Basket-No-Refresh")||n.basket.syncBasketInfo()}catch(r){l.g.production||console.error("::Basket-Refresh::",r)}}}))}}]),e}()).\u0275fac=function(e){return new(e||sp)(r.dc(r.u))},sp.\u0275prov=r.Pb({token:sp,factory:sp.\u0275fac}),sp),kp=((ap=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return l.g.enableWithCredentials&&e.url.includes(l.c)&&(e=e.clone({withCredentials:!0})),t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||ap)},ap.\u0275prov=r.Pb({token:ap,factory:ap.\u0275fac}),ap),Sp=n("MtjB"),Op=n("5+tZ"),Tp={maxAttempts:3,scalingDuration:1e3,shouldRetry:function(e){return e>=400}},wp=[l.g.LOW_FARES_URL,l.g.LOW_FARES_CACHE_URL],Ap=[{provide:d.a,useClass:gp,multi:!0},{provide:d.a,useClass:Cp,multi:!0},{provide:d.a,useClass:(cp=function(){function e(){_classCallCheck(this,e),this.shouldRetry=function(e){var t;return 500===e.status&&(null===(t=e.error)||void 0===t?void 0:t.action)===un.a.RETRY}}return _createClass(e,[{key:"intercept",value:function(e,t){var n=this.shouldRetry;return this.isValidRequest(e)?t.handle(e).pipe(Object(Sp.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return t.pipe(Object(Op.a)((function(t,n){var i=Object.assign(Object.assign({},Tp),e),r=i.maxAttempts,o=i.scalingDuration,a=i.shouldRetry,s=n+1;return s>r||!a(t)?Object(Lf.a)(t):Object(Vt.a)(s*o)})))}}({shouldRetry:n}))):t.handle(e)}},{key:"isValidRequest",value:function(e){return e.url.startsWith(l.c)&&wp.includes(e.url)}}]),e}(),cp.\u0275fac=function(e){return new(e||cp)},cp.\u0275prov=r.Pb({token:cp,factory:cp.\u0275fac}),cp),multi:!0},{provide:d.a,useClass:yp,multi:!0},{provide:d.a,useClass:kp,multi:!0},{provide:d.a,useClass:vp,multi:!0},{provide:d.a,useClass:mp,multi:!0}],Ep=n("lALM"),Pp=((lp=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:lp}),lp.\u0275inj=r.Qb({factory:function(e){return new(e||lp)},imports:[[mt.c]]}),lp),Mp=n("Hq3m"),xp=((hp=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:hp}),hp.\u0275inj=r.Qb({factory:function(e){return new(e||hp)},imports:[[mt.c,Jh.a,Mp.a,qh.a]]}),hp),Dp=((dp=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:dp}),dp.\u0275inj=r.Qb({factory:function(e){return new(e||dp)},imports:[[mt.c,qh.a,Cc.b]]}),dp),Ip=((up=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:up}),up.\u0275inj=r.Qb({factory:function(e){return new(e||up)},providers:[Oo.a],imports:[[mt.c,qh.a]]}),up),Lp=n("hzby"),Rp=n("MPf+"),Np=n("OPfs"),jp=[{name:"afterSanitizeAttributes",hook:function(e){!function(e){e instanceof HTMLAnchorElement&&"target"in e&&!e.target&&e.setAttribute("target","_blank")}(e)}}],Bp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).overrides={swipe:{direction:u.DIRECTION_ALL}},e}return n}(h.d),Fp={theme:"viva",arrow:!0,trigger:"mouseenter",touch:["hold",200],placement:"right",maxWidth:"160px",offset:[0,16],hideOnClick:!1};function Hp(e,t,n,i){return function(){return t.load().then((function(){return Promise.all([e.load(),n.load(),i.load()])}))}}function Up(){return n.e(106).then(n.t.bind(null,"amTF",7))}var Yp,Gp,Vp=((Yp=function e(){_classCallCheck(this,e)}).\u0275mod=r.Rb({type:Yp,bootstrap:[Xh]}),Yp.\u0275inj=r.Qb({factory:function(e){return new(e||Yp)},providers:[h.g,If.a,qc.a,nn.a,an.a,{provide:r.d,useFactory:Hp,multi:!0,deps:[qc.a,an.a,Ho.a,Rp.a]},{provide:r.y,deps:[nn.a],useFactory:function(e){return e.getAppLocale()}},{provide:mt.a,deps:[nn.a],useFactory:function(e){return e.baseHref}},{provide:Vn.b,deps:[Ho.a],useFactory:function(e){return e.selectedCurrencyCode}},{provide:Vn.a,deps:[Ho.a],useFactory:function(e){return e._selectedCurrency}},{provide:Cc.a,useValue:jp},Ap,sd.a,Ep.a,{provide:"googleTagManagerId",useValue:l.g.gtmKey},{provide:h.c,useClass:Bp},Np.a],imports:[[h.a,jt,Qt,Df,Pf,sf,d.c,Pp,xp,Zf,Dp,Co,aa.b.forRoot({defaultVariation:"tooltip",variations:{tooltip:Fp}}),Ip,gi.d.forRoot({player:Up}),h.e,Lp.a.forRoot(),xf]]}),Yp),Zp=n("dwco");(Gp=document.createElement("script")).type="",Gp.src="/assets/scripts/before-install-prompt.js",Gp.text="",document.body.appendChild(Gp),l.g.production&&Object(r.X)(),document.addEventListener("DOMContentLoaded",(function(){h.j().bootstrapModule(Vp).then((function(e){!function(){if(l.g.enableServiceWorker&&"serviceWorker"in navigator){var e=new c("/sw.js");e.addEventListener("installed",(function(e){e.isUpdate?(l.g.production||console.log("::workbox:: Service Worker update installed! Reloading page to finish updating..."),window.location.reload()):l.g.production||console.log("::workbox:: Service Worker finished installing!")})),e.register()}}(),Zp.polyfill()})).catch((function(e){return console.error(e)}))}))},zfKp:function(e,t,n){"use strict";t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"},zuR4:function(e,t,n){"use strict";var i=n("xTJ+"),r=n("HSsa"),o=n("CgaS"),a=n("SntB");function s(e){var t=new o(e),n=r(o.prototype.request,t);return i.extend(n,o.prototype,t),i.extend(n,t),n}var c=s(n("JEQr"));c.Axios=o,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=n("endd"),c.CancelToken=n("jfS+"),c.isCancel=n("Lmem"),c.all=function(e){return Promise.all(e)},c.spread=n("DfZB"),e.exports=c,e.exports.default=c}},[[1,25]]]);