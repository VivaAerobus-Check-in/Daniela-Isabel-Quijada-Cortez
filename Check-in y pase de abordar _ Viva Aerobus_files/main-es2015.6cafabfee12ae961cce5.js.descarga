(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{"+6XX":function(e,t,n){var i=n("y1pI");e.exports=function(e){return i(this.__data__,e)>-1}},"+EmV":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("bEA1"),o=n("RbsG"),r=n("9yTC"),s=n("ofgY"),a=n("wd/R"),c=n("ofXK"),l=n("WSM3"),u=n("NDEZ"),d=n("fXoL"),h=n("ChtM"),p=n("CJ36"),g=n("wtyH"),f=n("G/yK"),m=n("kh7C");let b=(()=>{class e{constructor(e,t,n,i,o,r,s){this.currency=e,this.localeService=t,this.serviceServices=n,this.baseHref=i,this.document=o,this.flightStationSvc=r,this.utilsSvc=s,this.searchParamsResult={},this.previousRoute=this.document.referrer}get previousRouteValue(){return this.previousRoute}setPreviousRoute(e){this.previousRoute=`${this.baseHref}${e}`}get couponPromocode(){return this.couponAvailable?this.couponAvailable:""}setPromoCode(e){this.couponAvailable=e||""}getFareTypeBrand(e,t){const n=t.find(t=>t.key===e);return n?n.fareType:""}getDiscountFlight(e,t){const n=t.find(t=>t.key===e),i=n?n.originalFare.amount-n.fare.amount:0;return isNaN(i)?0:i}getFareDiscountByType(e,t){const n=t.find(t=>t.fareType===e),i=n?n.originalFare.amount-n.fare.amount:0;return isNaN(i)?0:i}getSegmentList(e){const t=[];for(const n of e)for(const e of n.segments)t.push(`${e.origin.code}-${e.destination.code}`);return t.join("|")}getTheLowestFare(e,t,n=!1){var i;const o=t.find(t=>e===t.key);return n?+(null===(i=null==o?void 0:o.vivaFanFare)||void 0===i?void 0:i.amount.toFixed(2)):+o.fare.amount.toFixed(2)}searchParameters(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f){return{type:e,view_type:t,search_using_points:!1,source:g,total_passenger_count:n,passenger_type_list:i,promo_code:o,language:this.localeService.getAppLocale(),currency:this.currency.selectedCurrencyCode,rute_list:r,trip_type:s,origin:a,destination:c,departure_date:l,arrival_date:u,availability:d,available_flights:h,available_sold_outs:p,bundleAvailable:f?"yes":"no"}}get searchParametersResults(){return this.searchParamsResult}setParametersResults(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g="home",f=!1){this.searchParamsResult=this.searchParameters(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f)}getTuaTotalAmount(e){let t=0;return e.forEach(e=>{"TUA"===e.groupCode&&(t+=e.amount.amount)}),t}getIvaTotalAmount(e){let t=0;return e.forEach(e=>{["IVA","Taxes"].includes(e.code)&&(t+=e.amount.amount)}),t}setNameItemPucharse(e){switch(e){case"Flight Fare Zero":case"Flight Fare Light":case"Flight Fare Basic":case"Flight Fare Smart":return"Flight ticket";default:return e}}setCategoryNamePucharse(e){switch(e){case"FlightFareZero":case"FlightFareLight":case"FlightFareBasic":case"FlightFareSmart":return"Flight";default:return"Ancillary"}}getSegmentsbyId(e,t){let n;for(const i of t)for(const t of i.segments)if(t.key===e){n=t;break}return n||""}getAdults(e){return e.basket.travel.passengers.filter(e=>e.passengerTypeCode===r.g.ADULT)}getChilds(e){return e.basket.travel.passengers.filter(e=>e.passengerTypeCode===r.g.CHILD)}getInfants(e){return e.basket.travel.passengers.filter(e=>e.passengerTypeCode===r.g.BABY)}getJourneysFormat(e){const t=[];if(e.basketBooking)for(const n of e.basketBooking.journeys){const i=[];for(const e of n.segments)i.push({type:e.transportationType,carrier:e.operatingCarrier,id:e.flightNumber,origin:e.origin.code,destination:e.destination.code,departureDate:e.departureDate.scheduled,arrivalDate:e.arrivalDate.scheduled,length:e.segmentDuration,layover:e.layoverTime,detail:{fare:n.fare.classOfService,modality:n.fare.fareType}});const o={origin:n.origin.code,originLabel:this.flightStationSvc.getStation(n.origin.code).name,destination:n.destination.code,destinationLabel:this.flightStationSvc.getStation(n.destination.code).name,departureDate:n.departureDate.scheduled,arrivalDate:n.arrivalDate.scheduled,price:{currency:e.basketBooking.currencyCode,adt:{price:e.basketBooking.charges.find(e=>e.journeyKey===n.key).amount.amount,quantity:this.getAdults(e).length},chd:{price:e.basketBooking.charges.find(e=>e.journeyKey===n.key).amount.amount,quantity:this.getChilds(e).length},inf:{price:e.basketBooking.charges.find(e=>e.journeyKey===n.key).amount.amount,quantity:this.getInfants(e).length}},type:n.travelType,segments:i};t.push(o)}return t}getContactsInformation(e){const t=[];for(const n of e.basketBooking.contacts)t.push({type:n.contactType,title:n.title,firstName:n.firstName,lastName:n.lastName,language:e.basket.language,detail:{email:n.email,phone:n.phoneNumbers}});return t}getPassengerInformation(e){const t=[];for(const n of e.basketBooking.passengers){const i={title:(null==n?void 0:n.title)||"",firstName:null==n?void 0:n.firstName,lastName:null==n?void 0:n.lastName,birthDate:new Date(null==n?void 0:n.dateOfBirth).toISOString(),gender:null==n?void 0:n.gender,nationality:null==n?void 0:n.nationality,residentCountry:(null==n?void 0:n.residentCountry)||"",customerNumber:(null==n?void 0:n.customerNumber)||"",specialAssistance:!!e.basketBooking.services.specialAssistanceServices.find(e=>e.passengerKey===n.passengerKey),detail:{knownTravelerNumber:!!n.knownTravelerNumber,redressNumber:!!n.redressNumber,passport:!!n.passport}};t.push(i)}return t}getProductsInformation(e,t=!1,n=!1,i=!1){const r=[],s=e.basket.travel.charges.filter((e,t,n)=>t===n.findIndex(t=>t.code===e.code&&t.amount.amount===e.amount.amount));if(e.basketBooking.services.transportServices&&!i)for(const a of e.basketBooking.services.transportServices){const e={type:a.code,id:a.pickupLocations[0].ssrCode,price:a.pickupLocations[0].price.amount,amount:a.pickupLocations[0].price.amount,quantity:a.pickupLocations.length,isIncluded:a.pickupLocations[0].isIncluded,details:{}};t?a.pickupLocations[0].status!==o.i.Committed&&r.push(e):n||r.push(e)}for(const o of s){const t=e.basket.travel.charges.filter(e=>e.code===o.code&&e.amount.amount===o.amount.amount);let n={};o.details.SeatBrand&&o.details.SeatNumber&&(n={SeatBrand:o.details.SeatBrand,SeatNumber:o.details.SeatNumber});const s={type:o.groupCode,id:o.code,price:o.amount.amount,amount:o.originalAmount.amount,quantity:t.length,isIncluded:o.isIncluded,details:n};i?"Seats"===s.type&&r.push(s):r.push(s)}return r}getRouteType(e){return 1===e.journeys.length?`${e.journeys[0].origin.code}-${e.journeys[0].destination.code}`:`${e.journeys[0].origin.code}-${e.journeys[0].destination.code} ${e.journeys[0].destination.code}-${e.journeys[0].origin.code}`}getRuteList(e){let t="";return e.journeys.forEach((e,n)=>{t+=(n?" ":"")+`${e.origin.code}-${e.destination.code}`}),t}getFlightType(e){return e.journeys.find(e=>e.isInternational)}getItemName(e){return e.code.includes("Flight")?"Flight ticket":e.code.includes("Seat")?"Seat "+e.details.SeatBrand:e.name}getItemId(e,t){const n=t.basketBooking.journeys.find(t=>(null==e?void 0:e.journeyKey)===t.key);return n&&(e.code.includes("Flight")||e.code.includes("Seat"))?`${n.origin.code}-${n.destination.code}|${n.departureDate.scheduled}`:null==e?void 0:e.code}getCat(e,t,n){var i,o,r;const s=(null===(i=this.serviceServices.getService(null==t?void 0:t.code))||void 0===i?void 0:i.jsonAttributes)||null;switch(e){case"cat1":return s?s.item_category:(null==t?void 0:t.code.includes("Flight"))?"Flight":null==t?void 0:t.code;case"cat2":return s?s.item_category_2:(null===(o=n.fare)||void 0===o?void 0:o.bundleTypeName)?this.utilsSvc.matchFares(null===(r=n.fare)||void 0===r?void 0:r.bundleType):n.fare.fareType;case"cat3":return s?s.item_category_3:n.isInternational?"International":"Domestic"}}getListDetails(e,t){let n=e.journeys[0];return t&&(n=t),`${n.origin.code}-${n.destination.code}|${n.departureDate.scheduled.split("T")[0]}`}getAdultsBasketBooking(e){return e.passengers.filter(e=>e.type===s.i.ADT).length}getChildBasketBooking(e){return e.passengers.filter(e=>e.type===s.i.CHD).length}getCheckInWindow(e){return Math.round(a.duration(a(e.departureDate.scheduled).diff(a())).asDays())}getChargesQuantity(e,t,n=!1){return(n?e.basket.travel.charges.filter(e=>t.name===e.name):e.basketBooking.charges.filter(e=>t.name===e.name)).filter(e=>t.journeyKey===e.journeyKey&&t.segmentKey===e.segmentKey).length}getDotersLevel(e){switch(e){case l.e.SILVER:return"silver";case l.e.GOLD:return"gold";case l.e.GREEN:default:return"green"}}getAccommodationNights(e){return(null==e?void 0:e.accommodation)?a(e.accommodation.checkOutDate).diff(e.accommodation.checkInDate,"days"):0}getJourneySegmentType(e){return e&&Array.isArray(e.segments)&&e.segments.some(e=>e.segmentType===u.b.MultiLeg)?u.b.MultiLeg:u.b.NonStop}getFlightOptionsSearchSource(e,t){if(!e)return"home";switch(null==t?void 0:t.mmbSearchType){case i.a.FlyAhead:return"mmb_flex_pass";default:return"mmb_change_itinerary"}}getBookingTripType(e){return e&&Array.isArray(e.journeys)?1===e.journeys.length?"one-way":2===e.journeys.length&&e.journeys[0].origin.code===e.journeys[1].destination.code&&e.journeys[1].origin.code===e.journeys[0].destination.code?"round-trip":"multy-city":"one-way"}getProvider(e,t="operatingCarrier"){const n=e.find(e=>"VB"!==(null==e?void 0:e[t]));return n?null==n?void 0:n[t]:"VB"}}return e.\u0275fac=function(t){return new(t||e)(d.dc(h.a),d.dc(p.a),d.dc(g.a),d.dc(c.a),d.dc(c.e),d.dc(f.a),d.dc(m.a))},e.\u0275prov=d.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"+K+b":function(e,t,n){var i=n("JHRd");e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},"+iFO":function(e,t,n){var i=n("dTAl"),o=n("LcsW"),r=n("6sVZ");e.exports=function(e){return"function"!=typeof e.constructor||r(e)?{}:i(o(e))}},"+tT9":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var i=n("XNiG"),o=n("fXoL");let r=(()=>{class e{constructor(){this.$unsavedChangesValidateEvent=new i.a,this.$unsavedChangesNotifyEvent=new i.a,this.$submitChangesNotifyEvent=new i.a}static setControlValue(e,t){e.setValue(t||null)}static setControlEditableState(e,t){t?e.enable({emitEvent:!1}):e.disable({emitEvent:!1})}emitHasUnsavedChanges(e){this.$unsavedChangesNotifyEvent.next(e)}emitHasChangesNotification(e){this.$unsavedChangesValidateEvent.next(e)}emitSubmitFormChangesNotification(e){this.$submitChangesNotifyEvent.next(e)}get unsavedChangesValidateEvent$(){return this.$unsavedChangesValidateEvent.asObservable()}get unsavedChangesNotifyEvent$(){return this.$unsavedChangesNotifyEvent.asObservable()}get submitChangesNotifyEvent$(){return this.$submitChangesNotifyEvent.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();var s=function(e){return e.PersonalDetails="PD",e.ContactDetails="CD",e.TravelDocumentDetails="TDD",e}({})},"/K1/":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("mrSG"),o=n("fXoL"),r=n("ofXK"),s=n("RBZv"),a=n("CJ36"),c=n("tyNb");let l=(()=>{class e{constructor(e,t,n,i,o,r){this.platformId=e,this.document=t,this.cmsPageService=n,this.localeService=i,this.router=o,this.location=r,this.idsForFragments=[]}getPage(e,t){return this.cmsPageService.getPage(e,t)}resolve(e){var t;return Object(i.a)(this,void 0,void 0,(function*(){const n=e.url[e.url.length-1].path,i="/"+e.url.join("/"),o=this.localeService.getAppLocale();try{let e=null;if(Object(r.L)(this.platformId)){const t=sessionStorage.getItem("slug");if(t&&(e=JSON.parse(t),null==e?void 0:e.slugID)){const t=yield this.cmsPageService.getPageSlugById(null==e?void 0:e.slugID,o),n=this.getPathFromSlug(t);if(i.toLowerCase()!==n.toLowerCase()&&i===(null==e?void 0:e.slugPath))return sessionStorage.removeItem("slug"),this.router.navigateByUrl(n),null}}const s=yield this.getPage(n),a=null===(t=null==s?void 0:s.fields)||void 0===t?void 0:t.slugTree;if(Object(r.L)(this.platformId)){const e=this.getPathFromSlug(a),t=i;0!==e.localeCompare(t)&&(this.router.navigate(["/404"],{skipLocationChange:!0}),this.location.replaceState(t)),sessionStorage.setItem("slug",JSON.stringify({slug:n,slugPath:i,slugID:a.sys.id}))}return s||null}catch(s){return null}}))}get getFragmentsForHeader(){return this.idsForFragments}setCmsModules(e){this.cmsModules=e,this.getHeadings(this.cmsModules)}getPathFromSlug(e){var t,n,i;return(null===(t=null==e?void 0:e.fields)||void 0===t?void 0:t.slug)?this.getPathFromSlug((null===(n=e.fields)||void 0===n?void 0:n.parentSlug)?null===(i=e.fields)||void 0===i?void 0:i.parentSlug:void 0)+"/"+e.fields.slug:""}getHeadings(e){this.idsForFragments=[];for(const t of e)if(t.fields.items)for(const e of t.fields.items)"heading"===e.sys.contentType.sys.id&&e.fields.id&&this.idsForFragments.push({fields:{text:e.fields.title,url:e.fields.id}})}}return e.\u0275fac=function(t){return new(t||e)(o.dc(o.G),o.dc(r.e),o.dc(s.a),o.dc(a.a),o.dc(c.g),o.dc(r.o))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e})()},"/M7d":function(e,t,n){"use strict";n.d(t,"l",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"j",(function(){return r})),n.d(t,"k",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"m",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return f}));var i=function(e){return e.VivaCash="VivaCash",e.ManualProcessing="ManualProcessing",e.CallCenterProcessing="CallCenterProcessing",e.ReverseCreditCard="ReverseCreditCard",e.VivaGift="VivaGift",e}({}),o=function(e){return e.ScheduleChange="ScheduleChange",e.TimeChange="TimeChange",e.MajorTimeChange="MajorTimeChange",e.Cancellation="Cancellation",e.Delay="Delay",e.MajorDelay="MajorDelay",e.Overbooking="Overbooking",e}({}),r=function(e){return e.Available="Available",e.NotAvailable="NotAvailable",e.Blocked="Blocked",e}({}),s=function(e){return e.NoIropQueue="NoIropQueue",e.NoIropEligibleJourney="NoIropEligibleJourney",e.TooLateForChange="TooLateForChange",e.CreationAccountNotAllowed="CreationAccountNotAllowed",e.HotelNotAllowed="HotelNotAllowed",e.CarrierNotAllowed="CarrierNotAllowed",e.SystemCodeNotAllowed="SystemCodeNotAllowed",e.PassengerTypeNotAllowed="PassengerTypeNotAllowed",e.MinorTravellingAloneNotAllowed="MinorTravellingAloneNotAllowed",e.SsrNotAllowed="SsrNotAllowed",e}({}),a=function(e){return e.Reaccomm="Reaccomm",e.FlightChange="FlightChange",e.Cancellation="Cancellation",e}({}),c=function(e){return e.Irop="Irop",e.Flex="Flex",e}({}),l=function(e){return e.email="email",e.whatsApp="whatsApp",e.sms="sms",e}({}),u=function(e){return e.INVALID_OTP="INVALID_OTP",e.UNKNOW_OTPSESSION="UNKNOW_OTPSESSION",e.MAXRETRIES_OTP="MAXRETRIES_OTP",e}({}),d=function(e){return e.iropCancellation="irop/cancel",e.processCompensation="booking/processCompensation",e.bookingCancellation="booking/cancel",e}({}),h=function(e){return e.SeatDowngrade="SeatDowngrade",e.CancelFlight="CancelFlight",e.FoodVoucherCompensation="FoodVoucherCompensation",e.DelayCompensation="DelayCompensation",e.PostFlightMove="PostFlightMove",e.MoveFlight="MoveFlight",e.VBCashCompensation="VBCashCompensation",e}({}),p=function(e){return e.Vivacash="Vivacash",e.Voucher="Voucher",e}({}),g=function(e){return e.Pending="pending",e.Issued="issued",e.Cancelled="cancelled",e}({}),f=function(e){return e.Preflight="Preflight",e.Postflight="Postflight",e}({})},"/QWi":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL"),o=n("TUgU"),r=n("jhN1"),s=n("5KMX");let a=(()=>{class e{constructor(e,t,n){this.cmsTranslate=e,this.sanitizer=t,this.domPurify=n}transform(e,t,n){if(!e)return e||"";let o=this.cmsTranslate.getHTMLTextEntry(e);if(o!==e){let e;return e=n?this.domPurify.sanitize(i.M.HTML,o,n):this.domPurify.sanitize(i.M.HTML,o),this.sanitizer.bypassSecurityTrustHtml(e)}return t&&(o=t),o}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(o.a),i.Tb(r.b),i.Tb(s.d))},e.\u0275pipe=i.Sb({name:"cmsTranslateHtml",type:e,pure:!0}),e})()},"/XB6":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("fXoL"),o=n("jtHE"),r=n("RJ73"),s=n("ofXK"),a=n("AytR"),c=n("wd/R"),l=n("d/Sv"),u=n("1AID"),d=n("b6Qw"),h=n("BifP");let p=(()=>{class e{constructor(e,t,n){this.platformId=e,this.cookieService=t,this.cmsConfig=n,this.flightsCacheKey=a.g.cacheKeys.FLIGHT_SEARCH_HISTORY,this.lastFlightsCacheKey=a.g.cacheKeys.LAST_FLIGHT_SEARCH,this.lastFlightStatusCacheKey=a.g.cacheKeys.LAST_FLIGHT_STATUS_SEARCH,this.flightSearchLimit=6,this.$isReady=new o.a(1),this.flightSearchHistory=[],this.minorTravelingAlone=!1,this.minorTravelingAlone=this.cmsConfig.getBookingFeatureValue(u.a.MinorTravelingAlone)||!1,this.initialize()}initialize(){Object(s.L)(this.platformId)&&(this.fetchFlightSearchesHistory(),this.fetchLastFlightStatusSearch()),this.setReady()}fetchFlightSearchesHistory(){if(Object(s.L)(this.platformId)){const t=localStorage.getItem(this.flightsCacheKey);if(t)try{const e=JSON.parse(t);this.flightSearchHistory=e,this.minorTravelingAlone||(this.flightSearchHistory=this.flightSearchHistory.filter(e=>e.content.passengers.adults>0)),this.removeInvalidOrExpiredEntries(),this.saveFlightSearchesHistory()}catch(e){a.g.production||console.error("[StationSearchHistoryService]::Error fetching flight search history: ",e)}}}fetchLastFlightStatusSearch(){if(this.lastFlightStatusSearch=void 0,Object(s.L)(this.platformId)){const t=localStorage.getItem(this.lastFlightStatusCacheKey);if(t)try{const e=JSON.parse(t);e&&this.validateLastFlightStatusSearchDate(e.content.date)&&(this.lastFlightStatusSearch=e)}catch(e){a.g.production||console.error("[StationSearchHistoryService]::Error fetching last flight status search: ",e)}}}removeInvalidOrExpiredEntries(){this.flightSearchHistory=this.flightSearchHistory.filter(e=>this.isValidSearchEntry(e))}isValidSearchEntry(e){return!!e.content.startDate&&!c(e.expirationDate).isBefore(c())}saveFlightSearchesHistory(){Object(s.L)(this.platformId)&&localStorage.setItem(this.flightsCacheKey,JSON.stringify(this.flightSearchHistory))}addFlightSearchEntry(e){const t={expirationDate:c(e.startDate).add(3,"day").valueOf(),content:e};if(this.isValidSearchEntry(t)){for(this.flightSearchHistory.unshift(t);this.flightSearchHistory.length>=this.flightSearchLimit;)this.flightSearchHistory.pop();this.saveFlightSearchesHistory(),this.saveLastSearchForLowFare(e)}}saveLastFlightStatusSearch(e){const t={expirationDate:c(e.date).valueOf(),content:e};this.validateLastFlightStatusSearchDate(t.content.date)&&Object(s.L)(this.platformId)&&localStorage.setItem(this.lastFlightStatusCacheKey,JSON.stringify(t))}get _flightSearches(){return this.flightSearchHistory.map(e=>e.content)}getLastFlightStatusSearch(){if(this.fetchLastFlightStatusSearch(),this.lastFlightStatusSearch)return{startDate:this.lastFlightStatusSearch.content.date,origin:{code:this.lastFlightStatusSearch.content.origin},destination:{code:this.lastFlightStatusSearch.content.destination},stationType:r.i.AIRPORT,travelType:l.a.ONE_WAY}}validateLastFlightStatusSearchDate(e){const t=c(e),n=c().startOf("day"),i=n.clone().subtract(1,"days").startOf("day"),o=n.clone().add(1,"days").startOf("day");return!(!t.isValid()||!(t.isSame(n,"day")||t.isSame(i,"day")||t.isSame(o,"day")))}get _lastFlightStatusSearch(){return this.lastFlightStatusSearch?[{startDate:this.lastFlightStatusSearch.content.date,origin:{code:this.lastFlightStatusSearch.content.origin},destination:{code:this.lastFlightStatusSearch.content.destination},stationType:r.i.AIRPORT,travelType:l.a.ONE_WAY}]:[]}get ready(){return this.$isReady.asObservable().toPromise()}setReady(){this.$isReady.next(),this.$isReady.complete()}saveLastSearchForLowFare(e){Object(s.L)(this.platformId)&&this.cookieService.set(this.lastFlightsCacheKey,JSON.stringify(e),{expires:14,sameSite:"Strict",path:"/"})}}return e.\u0275fac=function(t){return new(t||e)(i.dc(i.G),i.dc(d.a),i.dc(h.a))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"/Yn+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=/["'&<>]/,s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=function(e,t){return function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==s?s:"undefined"!=typeof self?self:{};function i(e,t){return e(t={exports:{}},t.exports),t.exports}var o=function(e){return e&&e.Math==Math&&e},r=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n&&n)||Function("return this")(),a=function(e){try{return!!e()}catch(t){return!0}},c=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),l={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,d={f:u&&!l.call({1:2},1)?function(e){var t=u(this,e);return!!t&&t.enumerable}:l},h=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},p={}.toString,g="".split,f=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==function(e){return p.call(e).slice(8,-1)}(e)?g.call(e,""):Object(e)}:Object,m=function(e){return f(function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}(e))},b=function(e){return"object"==typeof e?null!==e:"function"==typeof e},v=function(e,t){if(!b(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!b(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!b(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!b(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},y={}.hasOwnProperty,_=function(e,t){return y.call(e,t)},C=r.document,S=b(C)&&b(C.createElement),O=function(e){return S?C.createElement(e):{}},T=!c&&!a((function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a})),w=Object.getOwnPropertyDescriptor,k={f:c?w:function(e,t){if(e=m(e),t=v(t,!0),T)try{return w(e,t)}catch(n){}if(_(e,t))return h(!d.f.call(e,t),e[t])}},A=function(e){if(!b(e))throw TypeError(String(e)+" is not an object");return e},E=Object.defineProperty,M={f:c?E:function(e,t,n){if(A(e),t=v(t,!0),A(n),T)try{return E(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},P=c?function(e,t,n){return M.f(e,t,h(1,n))}:function(e,t,n){return e[t]=n,e},D=function(e,t){try{P(r,e,t)}catch(n){r[e]=t}return t},x=r["__core-js_shared__"]||D("__core-js_shared__",{}),I=Function.toString;"function"!=typeof x.inspectSource&&(x.inspectSource=function(e){return I.call(e)});var L,R,N,j=x.inspectSource,B=r.WeakMap,F="function"==typeof B&&/native code/.test(j(B)),H=i((function(e){(e.exports=function(e,t){return x[e]||(x[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})})),U=0,Y=Math.random(),G=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++U+Y).toString(36)},V=H("keys"),Z=function(e){return V[e]||(V[e]=G(e))},$={};if(F){var W=new(0,r.WeakMap),K=W.get,z=W.has,Q=W.set;L=function(e,t){return Q.call(W,e,t),t},R=function(e){return K.call(W,e)||{}},N=function(e){return z.call(W,e)}}else{var X=Z("state");$[X]=!0,L=function(e,t){return P(e,X,t),t},R=function(e){return _(e,X)?e[X]:{}},N=function(e){return _(e,X)}}var q={set:L,get:R,has:N,enforce:function(e){return N(e)?R(e):L(e,{})},getterFor:function(e){return function(t){var n;if(!b(t)||(n=R(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},J=i((function(e){var t=q.get,n=q.enforce,i=String(String).split("String");(e.exports=function(e,t,o,s){var a=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,l=!!s&&!!s.noTargetGet;"function"==typeof o&&("string"!=typeof t||_(o,"name")||P(o,"name",t),n(o).source=i.join("string"==typeof t?t:"")),e!==r?(a?!l&&e[t]&&(c=!0):delete e[t],c?e[t]=o:P(e,t,o)):c?e[t]=o:D(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||j(this)}))})),ee=r,te=function(e){return"function"==typeof e?e:void 0},ne=function(e,t){return arguments.length<2?te(ee[e])||te(r[e]):ee[e]&&ee[e][t]||r[e]&&r[e][t]},ie=Math.ceil,oe=Math.floor,re=function(e){return isNaN(e=+e)?0:(e>0?oe:ie)(e)},se=Math.min,ae=Math.max,ce=Math.min,le=function(e){return function(t,n,i){var o,r,s=m(t),a=(o=s.length)>0?se(re(o),9007199254740991):0,c=function(e,t){var n=re(e);return n<0?ae(n+t,0):ce(n,t)}(i,a);if(e&&n!=n){for(;a>c;)if((r=s[c++])!=r)return!0}else for(;a>c;c++)if((e||c in s)&&s[c]===n)return e||c||0;return!e&&-1}},ue={includes:le(!0),indexOf:le(!1)},de=ue.indexOf,he=function(e,t){var n,i=m(e),o=0,r=[];for(n in i)!_($,n)&&_(i,n)&&r.push(n);for(;t.length>o;)_(i,n=t[o++])&&(~de(r,n)||r.push(n));return r},pe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ge=pe.concat("length","prototype"),fe={f:Object.getOwnPropertyNames||function(e){return he(e,ge)}},me={f:Object.getOwnPropertySymbols},be=ne("Reflect","ownKeys")||function(e){var t=fe.f(A(e)),n=me.f;return n?t.concat(n(e)):t},ve=function(e,t){for(var n=be(t),i=M.f,o=k.f,r=0;r<n.length;r++){var s=n[r];_(e,s)||i(e,s,o(t,s))}},ye=/#|\.prototype\./,_e=function(e,t){var n=Se[Ce(e)];return n==Te||n!=Oe&&("function"==typeof t?a(t):!!t)},Ce=_e.normalize=function(e){return String(e).replace(ye,".").toLowerCase()},Se=_e.data={},Oe=_e.NATIVE="N",Te=_e.POLYFILL="P",we=_e,ke=k.f,Ae=function(e,t){var n,i,o,s,a,c=e.target,l=e.global,u=e.stat;if(n=l?r:u?r[c]||D(c,{}):(r[c]||{}).prototype)for(i in t){if(s=t[i],o=e.noTargetGet?(a=ke(n,i))&&a.value:n[i],!we(l?i:c+(u?".":"#")+i,e.forced)&&void 0!==o){if(typeof s==typeof o)continue;ve(s,o)}(e.sham||o&&o.sham)&&P(s,"sham",!0),J(n,i,s,e)}},Ee=Object.keys||function(e){return he(e,pe)},Me=d.f,Pe=function(e){return function(t){for(var n,i=m(t),o=Ee(i),r=o.length,s=0,a=[];r>s;)n=o[s++],c&&!Me.call(i,n)||a.push(e?[n,i[n]]:i[n]);return a}},De=(Pe(!0),Pe(!1));Ae({target:"Object",stat:!0},{values:function(e){return De(e)}});var xe,Ie=!!Object.getOwnPropertySymbols&&!a((function(){return!String(Symbol())})),Le=Ie&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Re=H("wks"),Ne=r.Symbol,je=Le?Ne:Ne&&Ne.withoutSetter||G,Be=c?Object.defineProperties:function(e,t){A(e);for(var n,i=Ee(t),o=i.length,r=0;o>r;)M.f(e,n=i[r++],t[n]);return e},Fe=ne("document","documentElement"),He=Z("IE_PROTO"),Ue=function(){},Ye=function(e){return"<script>"+e+"<\/script>"},Ge=function(){try{xe=document.domain&&new ActiveXObject("htmlfile")}catch(i){}var e,t;Ge=xe?function(e){e.write(Ye("")),e.close();var t=e.parentWindow.Object;return e=null,t}(xe):((t=O("iframe")).style.display="none",Fe.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Ye("document.F=Object")),e.close(),e.F);for(var n=pe.length;n--;)delete Ge.prototype[pe[n]];return Ge()};$[He]=!0;var Ve,Ze=Object.create||function(e,t){var n;return null!==e?(Ue.prototype=A(e),n=new Ue,Ue.prototype=null,n[He]=e):n=Ge(),void 0===t?n:Be(n,t)},$e=(_(Re,Ve="unscopables")||(Re[Ve]=Ie&&_(Ne,Ve)?Ne[Ve]:je("Symbol."+Ve)),Re[Ve]),We=Array.prototype;null==We[$e]&&M.f(We,$e,{configurable:!0,value:Ze(null)});var Ke,ze=Object.defineProperty,Qe={},Xe=function(e){throw e},qe=ue.includes;Ae({target:"Array",proto:!0,forced:!function(e,t){if(_(Qe,"indexOf"))return Qe.indexOf;t||(t={});var n=[].indexOf,i=!!_(t,"ACCESSORS")&&t.ACCESSORS,o=_(t,0)?t[0]:Xe,r=_(t,1)?t[1]:void 0;return Qe.indexOf=!!n&&!a((function(){if(i&&!c)return!0;var e={length:-1};i?ze(e,1,{enumerable:!0,get:Xe}):e[1]=1,n.call(e,o,r)}))}(0,{ACCESSORS:!0,1:0})},{includes:function(e){return qe(this,e,arguments.length>1?arguments[1]:void 0)}}),We[$e].includes=!0,function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function")}(e),void 0===t);}(Function.call,r.Array.prototype.includes),function(e){e.DOCUMENT="document",e.PARAGRAPH="paragraph",e.HEADING_1="heading-1",e.HEADING_2="heading-2",e.HEADING_3="heading-3",e.HEADING_4="heading-4",e.HEADING_5="heading-5",e.HEADING_6="heading-6",e.OL_LIST="ordered-list",e.UL_LIST="unordered-list",e.LIST_ITEM="list-item",e.HR="hr",e.QUOTE="blockquote",e.EMBEDDED_ENTRY="embedded-entry-block",e.EMBEDDED_ASSET="embedded-asset-block"}(Ke||(Ke={}));var Je,et=Ke;!function(e){e.HYPERLINK="hyperlink",e.ENTRY_HYPERLINK="entry-hyperlink",e.ASSET_HYPERLINK="asset-hyperlink",e.EMBEDDED_ENTRY="embedded-entry-inline"}(Je||(Je={}));var tt,nt=Je,it=[et.PARAGRAPH,et.HEADING_1,et.HEADING_2,et.HEADING_3,et.HEADING_4,et.HEADING_5,et.HEADING_6,et.OL_LIST,et.UL_LIST,et.HR,et.QUOTE,et.EMBEDDED_ENTRY,et.EMBEDDED_ASSET],ot=[et.HR,et.EMBEDDED_ENTRY,et.EMBEDDED_ASSET],rt=((tt={})[et.OL_LIST]=[et.LIST_ITEM],tt[et.UL_LIST]=[et.LIST_ITEM],tt[et.LIST_ITEM]=it.slice(),tt[et.QUOTE]=[et.PARAGRAPH],tt),st={nodeType:et.DOCUMENT,data:{},content:[{nodeType:et.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]},at=Object.freeze({isInline:function(e){return Object.values(nt).includes(e.nodeType)},isBlock:function(e){return Object.values(et).includes(e.nodeType)},isText:function(e){return"text"===e.nodeType}});t.BLOCKS=et,t.CONTAINERS=rt,t.EMPTY_DOCUMENT=st,t.INLINES=nt,t.MARKS={BOLD:"bold",ITALIC:"italic",UNDERLINE:"underline",CODE:"code"},t.TOP_LEVEL_BLOCKS=it,t.VOID_BLOCKS=ot,t.helpers=at}(t={exports:{}},t.exports),t.exports}();(i=a)&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default");var c,l,u=a.BLOCKS,d=a.INLINES,h=a.MARKS,p=a.helpers,g=((c={})[u.PARAGRAPH]=function(e,t){return"<p>"+t(e.content)+"</p>"},c[u.HEADING_1]=function(e,t){return"<h1>"+t(e.content)+"</h1>"},c[u.HEADING_2]=function(e,t){return"<h2>"+t(e.content)+"</h2>"},c[u.HEADING_3]=function(e,t){return"<h3>"+t(e.content)+"</h3>"},c[u.HEADING_4]=function(e,t){return"<h4>"+t(e.content)+"</h4>"},c[u.HEADING_5]=function(e,t){return"<h5>"+t(e.content)+"</h5>"},c[u.HEADING_6]=function(e,t){return"<h6>"+t(e.content)+"</h6>"},c[u.EMBEDDED_ENTRY]=function(e,t){return"<div>"+t(e.content)+"</div>"},c[u.UL_LIST]=function(e,t){return"<ul>"+t(e.content)+"</ul>"},c[u.OL_LIST]=function(e,t){return"<ol>"+t(e.content)+"</ol>"},c[u.LIST_ITEM]=function(e,t){return"<li>"+t(e.content)+"</li>"},c[u.QUOTE]=function(e,t){return"<blockquote>"+t(e.content)+"</blockquote>"},c[u.HR]=function(){return"<hr/>"},c[d.ASSET_HYPERLINK]=function(e){return m(d.ASSET_HYPERLINK,e)},c[d.ENTRY_HYPERLINK]=function(e){return m(d.ENTRY_HYPERLINK,e)},c[d.EMBEDDED_ENTRY]=function(e){return m(d.EMBEDDED_ENTRY,e)},c[d.HYPERLINK]=function(e,t){return'<a href="'+e.data.uri+'">'+t(e.content)+"</a>"},c),f=((l={})[h.BOLD]=function(e){return"<b>"+e+"</b>"},l[h.ITALIC]=function(e){return"<i>"+e+"</i>"},l[h.UNDERLINE]=function(e){return"<u>"+e+"</u>"},l[h.CODE]=function(e){return"<code>"+e+"</code>"},l),m=function(e,t){return"<span>type: "+e+" id: "+t.data.target.sys.id+"</span>"};t.documentToHtmlString=function(e,t){return void 0===t&&(t={}),e&&e.content?function e(t,n){var i=n.renderNode,o=n.renderMark;return t.map((function(t){return function(t,n){var i=n.renderNode,o=n.renderMark;if(p.isText(t)){var s=function(e){var t,n=""+e,i=r.exec(n);if(!i)return n;var o="",s=0,a=0;for(s=i.index;s<n.length;s++){switch(n.charCodeAt(s)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==s&&(o+=n.substring(a,s)),a=s+1,o+=t}return a!==s?o+n.substring(a,s):o}(t.value);return t.marks.length>0?t.marks.reduce((function(e,t){return o[t.type]?o[t.type](e):e}),s):s}return t.nodeType&&i[t.nodeType]?i[t.nodeType](t,(function(t){return e(t,{renderMark:o,renderNode:i})})):""}(t,{renderNode:i,renderMark:o})})).join("")}(e.content,{renderNode:o({},g,t.renderNode),renderMark:o({},f,t.renderMark)}):""}},"/uUt":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("7o/Q");function o(e,t){return n=>n.lift(new r(e,t))}class r{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new s(e,this.compare,this.keySelector))}}class s extends i.a{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}},"/ucA":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ofXK"),o=n("o5mt"),r=n("xzb3"),s=n("h3XU"),a=n("fXoL");let c=(()=>{class e{}return e.\u0275mod=a.Rb({type:e}),e.\u0275inj=a.Qb({factory:function(t){return new(t||e)},imports:[[i.c,o.a,r.a,s.a]]}),e})()},0:function(e,t){},"03A+":function(e,t,n){var i=n("JTzB"),o=n("ExA7"),r=Object.prototype,s=r.hasOwnProperty,a=r.propertyIsEnumerable,c=i(function(){return arguments}())?i:function(e){return o(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},"08zf":function(e,t,n){"use strict";n.d(t,"a",(function(){return oe}));var i=n("nnIW"),o=n("R0Ic");const r=Object(o.f)([Object(o.n)("openClose",[Object(o.m)(":enter",[Object(o.l)({height:0,opacity:0}),Object(o.e)(".5s cubic-bezier(0.165, 0.84, 0.44, 1)",Object(o.l)({height:"*",opacity:1}))]),Object(o.m)(":leave",[Object(o.l)({height:"*",opacity:1}),Object(o.e)(".5s cubic-bezier(0.165, 0.84, 0.44, 1)",Object(o.l)({height:0,opacity:0}))])])]);var s=n("9yTC"),a=n("1AID"),c=n("fXoL"),l=n("BifP"),u=n("ofXK"),d=n("mrSG"),h=n("39vh"),p=n("wtyH"),g=n("9YtQ");function f(e,t){if(1&e){const e=c.ac();c.Zb(0,"div",2),c.hc("click",(function(){return c.Hc(e),c.jc().onTooltipClick(!0)})),c.Ub(1,"em",3),c.Yb()}if(2&e){const e=c.jc(),t=c.Ec(2);c.Hb(1),c.sc("tippy",t)("trigger",e.isMobile?"manual":"mouseenter focus")}}function m(e,t){if(1&e&&(c.Zb(0,"div"),c.Sc(1),c.Yb()),2&e){const e=c.jc();c.Hb(1),c.Uc(" ",e.tooltipText," ")}}let b=(()=>{class e{constructor(e,t,n,i){this.servicesService=e,this.renderer=t,this.element=n,this.deviceService=i,this.isMobile=!1}ngOnInit(){return Object(d.a)(this,void 0,void 0,(function*(){if(this.deviceService.isMobile()&&(this.isMobile=!0),this.chargeCode){yield this.servicesService.ready.toPromise();const e=this.servicesService.getService(this.chargeCode),t=null==e?void 0:e.basketDescriptionViewFlags;this.tooltipText=null==e?void 0:e.basketDescription,this.showTooltip=this.tooltipText&&(!this.isConfirmationView&&(null==t?void 0:t.includes("basket"))||this.isConfirmationView&&(null==t?void 0:t.includes("confirmation")))}this.outsideClickEvt=this.renderer.listen("document","click",e=>{this.onTooltipClick(!1,e)})}))}onTooltipClick(e=!0,t){var n,i,o,r;this.isMobile&&(e?null===(n=this.tooltip)||void 0===n||n.show():t&&!(null===(o=null===(i=this.element)||void 0===i?void 0:i.nativeElement)||void 0===o?void 0:o.contains(null==t?void 0:t.target))&&(null===(r=this.tooltip)||void 0===r||r.hide()))}ngOnDestroy(){this.outsideClickEvt&&this.outsideClickEvt()}}return e.\u0275fac=function(t){return new(t||e)(c.Tb(p.a),c.Tb(c.I),c.Tb(c.n),c.Tb(g.a))},e.\u0275cmp=c.Nb({type:e,selectors:[["app-basket-item-tooltip"]],viewQuery:function(e,t){var n;1&e&&c.Yc(h.a,!0),2&e&&c.Dc(n=c.ic())&&(t.tooltip=n.first)},inputs:{chargeCode:"chargeCode",isConfirmationView:"isConfirmationView"},decls:3,vars:1,consts:[["class","ml-1 tippy-container",3,"click",4,"ngIf"],["waTooltip",""],[1,"ml-1","tippy-container",3,"click"],[1,"fas","fa-info-circle",3,"tippy","trigger"]],template:function(e,t){1&e&&(c.Qc(0,f,2,2,"div",0),c.Qc(1,m,2,1,"ng-template",null,1,c.Rc)),2&e&&c.sc("ngIf",t.showTooltip)},directives:[u.u,h.a],styles:[".tippy-container[_ngcontent-%COMP%]{color:var(--bg6)}.tippy-container[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:14.5px}"]}),e})();var v=n("gVin"),y=n("VXoX");function _(e,t){if(1&e&&(c.Zb(0,"span",11),c.Sc(1),c.Yb()),2&e){const e=c.jc(3);c.Hb(1),c.Uc(" ",e.countBaseFare(e.chargesGroup.options)+"x"," ")}}function C(e,t){if(1&e&&(c.Xb(0),c.Qc(1,_,2,1,"span",10),c.Zb(2,"span"),c.Sc(3),c.kc(4,"basketName"),c.Yb(),c.Wb()),2&e){const e=c.jc(2);c.Hb(1),c.sc("ngIf",e.showAmountOnHeader),c.Hb(2),c.Uc(" ",c.mc(4,2,e.setFareTags(e.chargesGroup.fareType),e.chargesGroup.groupName)," ")}}function S(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.Wb()),2&e){const e=c.jc(4);c.Hb(1),c.Uc(" ",e.countCheckedBaggage(e.chargesGroup.options)+"x"," ")}}function O(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.Wb()),2&e){const e=c.jc(4);c.Hb(1),c.Uc(" ",e.countCarryOnBaggage(e.chargesGroup.options)+"x"," ")}}function T(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.Wb()),2&e){const e=c.jc(4);c.Hb(1),c.Uc(" ",e.chargesGroup.options.length+"x"," ")}}function w(e,t){if(1&e&&(c.Zb(0,"span",13),c.Qc(1,S,2,1,"ng-container",14),c.Qc(2,O,2,1,"ng-container",14),c.Qc(3,T,2,1,"ng-container",15),c.Yb()),2&e){const e=c.jc(3);c.sc("ngSwitch",e.chargesGroup.groupCode),c.Hb(1),c.sc("ngSwitchCase",e.basketChargesGroupCode.CheckedBaggage),c.Hb(1),c.sc("ngSwitchCase",e.basketChargesGroupCode.CarryOnBaggage)}}function k(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.Wb()),2&e){const e=c.jc(3);c.Hb(1),c.Uc(" ",e.chargesGroup.code," ")}}function A(e,t){if(1&e&&(c.Qc(0,w,4,3,"span",12),c.Zb(1,"span"),c.Sc(2),c.kc(3,"basketName"),c.Qc(4,k,2,1,"ng-container",7),c.Yb()),2&e){const e=c.jc(2);c.sc("ngIf",e.showAmountOnHeader),c.Hb(2),c.Uc(" ",c.mc(3,3,e.chargesGroup.groupCode,e.chargesGroup.groupName)," "),c.Hb(2),c.sc("ngIf",e.useTuaNaming)}}function E(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.kc(2,"currency"),c.Wb()),2&e){const e=c.jc(5);c.Hb(1),c.Uc(" ",c.oc(2,1,e.ceilPrice(null==e.chargesGroup.originalAmount?null:e.chargesGroup.originalAmount.pointAmount),"","","1.0-0")," ")}}function M(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.kc(2,"currency"),c.Wb()),2&e){const e=c.jc(5);c.Hb(1),c.Uc(" ",c.oc(2,1,e.showDecimals?e.chargesGroup.originalAmount.amount:e.ceilPrice(e.chargesGroup.originalAmount.amount),e.currencyCode,"symbol-narrow",e.showDecimals?void 0:"1.0-0")," ")}}function P(e,t){if(1&e&&(c.Zb(0,"span",19),c.Qc(1,E,3,6,"ng-container",7),c.Qc(2,M,3,6,"ng-container",7),c.Yb()),2&e){const e=c.jc(4);c.Hb(1),c.sc("ngIf",e.isDotersActive),c.Hb(1),c.sc("ngIf",!e.isDotersActive)}}function D(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.kc(2,"currency"),c.Wb()),2&e){const e=c.jc(4);c.Hb(1),c.Uc(" ",c.oc(2,1,e.ceilPrice(null==e.chargesGroup.amount?null:e.chargesGroup.amount.pointAmount),"","","1.0-0")," ")}}function x(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.kc(2,"currency"),c.Wb()),2&e){const e=c.jc(4);c.Hb(1),c.Uc(" ",c.oc(2,1,e.showDecimals?e.chargesGroup.amount.amount:e.ceilPrice(e.chargesGroup.amount.amount),e.currencyCode,"symbol-narrow",e.showDecimals?void 0:"1.0-0")," ")}}function I(e,t){1&e&&(c.Zb(0,"span",20),c.Sc(1,"d"),c.Yb())}const L=function(e){return{"item-discount":e}};function R(e,t){if(1&e&&(c.Xb(0),c.Qc(1,P,3,2,"span",16),c.Zb(2,"span",17),c.Qc(3,D,3,6,"ng-container",7),c.Qc(4,x,3,6,"ng-container",7),c.Yb(),c.Qc(5,I,2,0,"span",18),c.Wb()),2&e){const e=c.jc(3);c.Hb(1),c.sc("ngIf",e.headerPriceIsDiscount),c.Hb(1),c.sc("ngClass",c.vc(5,L,e.chargesGroup.amount.amount<0)),c.Hb(1),c.sc("ngIf",e.isDotersActive),c.Hb(1),c.sc("ngIf",!e.isDotersActive),c.Hb(1),c.sc("ngIf",e.isDotersActive)}}function N(e,t){1&e&&(c.Zb(0,"span"),c.Sc(1),c.kc(2,"cmsTranslate"),c.Yb()),2&e&&(c.Hb(1),c.Uc(" ",c.lc(2,1,"BOOKER_LABEL_ZERO-PRICE")," "))}function j(e,t){if(1&e&&(c.Xb(0),c.Qc(1,R,6,7,"ng-container",7),c.Qc(2,N,3,3,"span",7),c.Wb()),2&e){const e=c.jc(2);c.Hb(1),c.sc("ngIf",0!==e.chargesGroup.amount.amount),c.Hb(1),c.sc("ngIf",0===e.chargesGroup.amount.amount)}}function B(e,t){1&e&&c.Ub(0,"i",23)}function F(e,t){if(1&e&&(c.Zb(0,"span",21),c.Qc(1,B,1,0,"i",22),c.Yb()),2&e){const e=c.jc(2);c.Hb(1),c.sc("ngIf",e.canOpen)}}function H(e,t){if(1&e&&c.Ub(0,"app-basket-item-tooltip",29),2&e){const e=c.jc().$implicit,t=c.jc(3);c.sc("chargeCode",e.option.code)("isConfirmationView",t.confirmationView)}}function U(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.kc(2,"currency"),c.Wb()),2&e){const e=c.jc(4).$implicit,t=c.jc(3);c.Hb(1),c.Uc(" ",c.oc(2,1,t.ceilPrice(null==e.option.originalAmount?null:e.option.originalAmount.pointAmount),"","","1.0-0")," ")}}function Y(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.kc(2,"currency"),c.Wb()),2&e){const e=c.jc(4).$implicit,t=c.jc(3);c.Hb(1),c.Uc(" ",c.oc(2,1,t.showDecimals?e.option.originalAmount.amount:t.ceilPrice(e.option.originalAmount.amount),t.currencyCode,"symbol-narrow",t.showDecimals?void 0:"1.0-0")," ")}}function G(e,t){if(1&e&&(c.Zb(0,"span",31),c.Qc(1,U,3,6,"ng-container",7),c.Qc(2,Y,3,6,"ng-container",7),c.Yb()),2&e){const e=c.jc(6);c.Hb(1),c.sc("ngIf",e.isDotersActive),c.Hb(1),c.sc("ngIf",!e.isDotersActive)}}function V(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.kc(2,"currency"),c.Wb()),2&e){const e=c.jc(3).$implicit,t=c.jc(3);c.Hb(1),c.Uc(" ",c.oc(2,1,t.ceilPrice(null==e.option.amount?null:e.option.amount.pointAmount),"","","1.0-0")," d ")}}function Z(e,t){if(1&e&&(c.Xb(0),c.Sc(1),c.kc(2,"currency"),c.Wb()),2&e){const e=c.jc(3).$implicit,t=c.jc(3);c.Hb(1),c.Uc(" ",c.oc(2,1,t.showDecimals?e.option.amount.amount:t.ceilPrice(e.option.amount.amount),t.currencyCode,"symbol-narrow",t.showDecimals?void 0:"1.0-0")," ")}}const $=function(e){return{"item-discount opacity-6":e}};function W(e,t){if(1&e&&(c.Xb(0),c.Qc(1,G,3,2,"span",30),c.Zb(2,"span",17),c.Qc(3,V,3,6,"ng-container",7),c.Qc(4,Z,3,6,"ng-container",7),c.Yb(),c.Wb()),2&e){const e=c.jc(2).$implicit,t=c.jc(3);c.Hb(1),c.sc("ngIf",t.optionPriceIsDiscount(e)),c.Hb(1),c.sc("ngClass",c.vc(4,$,t.optionPriceIsDiscount(e)||(null==e.option.amount?null:e.option.amount.amount)<0)),c.Hb(1),c.sc("ngIf",t.isDotersActive),c.Hb(1),c.sc("ngIf",!t.isDotersActive)}}function K(e,t){1&e&&(c.Zb(0,"span"),c.Sc(1),c.kc(2,"cmsTranslate"),c.Yb()),2&e&&(c.Hb(1),c.Uc(" ",c.lc(2,1,"BOOKER_LABEL_ZERO-PRICE")," "))}function z(e,t){if(1&e&&(c.Xb(0),c.Qc(1,W,5,6,"ng-container",7),c.Qc(2,K,3,3,"span",7),c.Wb()),2&e){const e=c.jc().$implicit;c.Hb(1),c.sc("ngIf",!e.option.isIncluded),c.Hb(1),c.sc("ngIf",e.option.isIncluded)}}function Q(e,t){1&e&&c.Ub(0,"span",21)}const X=function(e){return{"line-through":e}},q=function(e){return{"viva-fan":e}};function J(e,t){if(1&e&&(c.Zb(0,"div",26),c.Zb(1,"div",3),c.Zb(2,"span",27),c.Sc(3),c.Yb(),c.Zb(4,"span",17),c.Sc(5),c.kc(6,"basketName"),c.Yb(),c.Qc(7,H,1,2,"app-basket-item-tooltip",28),c.Yb(),c.Zb(8,"div"),c.Qc(9,z,3,2,"ng-container",7),c.Qc(10,Q,1,0,"span",8),c.Yb(),c.Yb()),2&e){const e=t.$implicit,n=c.jc(3);c.sc("ngClass",c.vc(11,X,n.isWaivedGuestFee(e.option))),c.Hb(2),c.sc("ngClass",c.vc(13,q,"FanDiscount"===e.option.code)),c.Hb(1),c.Uc(" ",n.showAmountOnOption?e.count+"x":""," "),c.Hb(1),c.sc("ngClass",c.vc(15,q,"FanDiscount"===e.option.code)),c.Hb(1),c.Uc(" ",c.mc(6,8,e.option.code,e.option.name)," "),c.Hb(2),c.sc("ngIf",!n.isWaivedGuestFee(e.option)&&n.chargesGroup.groupCode!==e.option.code),c.Hb(2),c.sc("ngIf",n.displayOptionChargeAmount),c.Hb(1),c.sc("ngIf",!n.confirmationView)}}function ee(e,t){if(1&e&&(c.Zb(0,"div",24),c.Qc(1,J,11,17,"div",25),c.Yb()),2&e){const e=c.jc(2);c.sc("@openClose",void 0),c.Hb(1),c.sc("ngForOf",e.optionsGroup)}}const te=function(e){return{open:e}},ne=function(e){return{"no-pointer":e}};function ie(e,t){if(1&e){const e=c.ac();c.Zb(0,"div",1),c.Zb(1,"div",2),c.hc("click",(function(){return c.Hc(e),c.jc().toggleOpen()})),c.Zb(2,"div",3),c.Qc(3,C,5,5,"ng-container",4),c.Qc(4,A,5,6,"ng-template",null,5,c.Rc),c.Ub(6,"app-basket-item-tooltip",6),c.Yb(),c.Zb(7,"div"),c.Qc(8,j,3,2,"ng-container",7),c.Qc(9,F,2,1,"span",8),c.Yb(),c.Yb(),c.Qc(10,ee,2,2,"div",9),c.Yb()}if(2&e){const e=c.Ec(5),t=c.jc();c.sc("ngClass",c.vc(9,te,t.isOpen)),c.Hb(1),c.sc("ngClass",c.vc(11,ne,t.confirmationView)),c.Hb(2),c.sc("ngIf",t.chargesGroup.groupCode===t.basketChargesGroupCode.FlightFare)("ngIfElse",e),c.Hb(3),c.sc("chargeCode",t.chargesGroup.groupCode)("isConfirmationView",t.confirmationView),c.Hb(2),c.sc("ngIf",t.displayHeaderChargeAmount),c.Hb(1),c.sc("ngIf",!t.confirmationView),c.Hb(1),c.sc("ngIf",t.isOpen&&t.isCollapsible)}}let oe=(()=>{class e{constructor(e){this.cmsConfig=e,this.isOpen=!1,this.confirmationView=!1,this.showDecimals=!0,this.showItemAmount="all",this.useTuaNaming=!1,this.currencyCode="",this.isDotersActive=!1,this.showChargesAmount="all",this.isCollapsible=!0,this.passengers=0,this.basketChargesGroupCode=i.c,this.optionsGroup=[],this.hideableCodes=["FlightDiscount","FlightCharges"],this.cmsHideZeroBasket=!1,this.cmsHideZeroBasket=this.cmsConfig.getSectionFeatureValue(a.b.GLOBAL,a.a.HideBasketZeroConcepts)||!1}ngOnInit(){this.filterGroupOptions()}toggleOpen(){this.confirmationView||!this.isOpen&&!this.canOpen||(this.isOpen=!this.isOpen)}get canOpen(){var e,t;return this.isCollapsible&&!!((null===(t=null===(e=this.chargesGroup)||void 0===e?void 0:e.options)||void 0===t?void 0:t.length)>0)}get showAmountOnHeader(){return"none"!==this.showItemAmount}get showAmountOnOption(){return"all"===this.showItemAmount}optionPriceIsDiscount(e){var t,n,i;return(null===(t=e.originalAmount)||void 0===t?void 0:t.amount)>(null===(n=e.amount)||void 0===n?void 0:n.amount)&&((null===(i=e.amount)||void 0===i?void 0:i.amount)||0)>0}get headerPriceIsDiscount(){return this.chargesGroup.originalAmount.amount>this.chargesGroup.amount.amount&&this.chargesGroup.amount.amount>0}ceilPrice(e){return Math.ceil(e||0)}setFareTags(e){switch(e){case s.e.VIVA_BASIC:return"FlightFareBasic";case s.e.VIVA_SMART:return"FlightFareSmart";case s.e.VIVA_LIGHT:return"FlightFareLight";case s.e.VIVA_ZERO:return"FlightFareZero";case s.e.FAREBASE:return"FlightFareBase";default:return"FlightFare"}}filterGroupOptions(){let e=this.chargesGroup.options.map(e=>e.code);e=e.filter((t,n)=>e.indexOf(t)===n),this.chargesGroup.groupCode===i.c.FlightFare&&e.includes("FlightCharges")&&e.includes("FlightVAT")&&(e[e.indexOf("FlightVAT")]="FlightCharges",e[e.indexOf("FlightCharges")]="FlightVAT"),e.forEach(e=>{const t=this.chargesGroup.options.filter(t=>t.code===e),n=[];n.push(t.filter(e=>e.isIncluded)),n.push(t.filter(e=>!e.isIncluded)),n.forEach(e=>{if(e.length>0){const t=JSON.parse(JSON.stringify(e[0]));t.amount.amount=e.reduce((e,t)=>e+t.amount.amount,0),t.originalAmount.amount=e.reduce((e,t)=>e+t.originalAmount.amount,0),this.shouldAddOptionToGroup(t)&&this.optionsGroup.push({count:e.length,option:t})}})})}shouldAddOptionToGroup(e){const{code:t,amount:n,originalAmount:i}=e||{};return!(this.cmsHideZeroBasket&&this.hideableCodes.includes(t)&&0===(null==n?void 0:n.amount)&&0===(null==i?void 0:i.amount))}countBaseFare(e){return e.filter(e=>"FlightBaseFare"===e.code||"FlightServiceCharges"===e.code).length||this.passengers}countCheckedBaggage(e){return e.filter(e=>!i.e.includes(e.code)).length||e.length}countCarryOnBaggage(e){return e.filter(e=>!i.d.includes(e.code)).length}isWaivedGuestFee(e){return Object(i.g)(e)}get displayHeaderChargeAmount(){return"all"===this.showChargesAmount||"header"===this.showChargesAmount}get displayOptionChargeAmount(){return"all"===this.showChargesAmount}}return e.\u0275fac=function(t){return new(t||e)(c.Tb(l.a))},e.\u0275cmp=c.Nb({type:e,selectors:[["app-basket-item-group"]],inputs:{isOpen:"isOpen",confirmationView:"confirmationView",showDecimals:"showDecimals",chargesGroup:"chargesGroup",showItemAmount:"showItemAmount",useTuaNaming:"useTuaNaming",currencyCode:"currencyCode",isDotersActive:"isDotersActive",showChargesAmount:"showChargesAmount",isCollapsible:"isCollapsible",passengers:"passengers"},decls:1,vars:1,consts:[["class","basket-item-group",3,"ngClass",4,"ngIf"],[1,"basket-item-group",3,"ngClass"],[1,"group-header","item-row",3,"ngClass","click"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["ChargesGroup",""],[1,"item-amount",3,"chargeCode","isConfirmationView"],[4,"ngIf"],["class","action-icon",4,"ngIf"],["class","group-container",4,"ngIf"],["class","item-amount",4,"ngIf"],[1,"item-amount"],["class","item-amount",3,"ngSwitch",4,"ngIf"],[1,"item-amount",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","item-discount line-through mr-10 pr-5",4,"ngIf"],[3,"ngClass"],["class","ml-1",4,"ngIf"],[1,"item-discount","line-through","mr-10","pr-5"],[1,"ml-1"],[1,"action-icon"],["class","fas fa-caret-down",4,"ngIf"],[1,"fas","fa-caret-down"],[1,"group-container"],["class","item-row",3,"ngClass",4,"ngFor","ngForOf"],[1,"item-row",3,"ngClass"],[1,"item-amount",3,"ngClass"],[3,"chargeCode","isConfirmationView",4,"ngIf"],[3,"chargeCode","isConfirmationView"],["class","item-discount line-through mr-10 pr-5 opacity-6",4,"ngIf"],[1,"item-discount","line-through","mr-10","pr-5","opacity-6"]],template:function(e,t){1&e&&c.Qc(0,ie,11,13,"div",0),2&e&&c.sc("ngIf",t.chargesGroup)},directives:[u.u,u.r,b,u.y,u.z,u.A,u.t],pipes:[v.a,u.d,y.a],styles:[".basket-item-group[_ngcontent-%COMP%]{width:calc(100% + 20px);margin-left:-12px;font-size:12px;line-height:16px}@media print{.basket-item-group[_ngcontent-%COMP%]{font-size:.8em;line-height:auto}}.basket-item-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]:not(.no-pointer){cursor:pointer}.basket-item-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]:not(.no-pointer):hover   .action-icon[_ngcontent-%COMP%]{color:var(--vg4)}.basket-item-group[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]{padding:5px 12px 3px;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.basket-item-group[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]   .viva-fan[_ngcontent-%COMP%]{color:var(--b4)}.basket-item-group[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]{overflow:hidden}.basket-item-group[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{color:var(--gr40)}.basket-item-group[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]:hover{color:var(--vg4)}.basket-item-group[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{cursor:pointer}.basket-item-group[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]{color:var(--gr40);border-radius:3px}.basket-item-group[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]:hover{background-color:var(--wh2)}.basket-item-group[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{display:inline-block;text-align:right;padding-left:8px;min-width:18px}.basket-item-group[_ngcontent-%COMP%]   .item-amount[_ngcontent-%COMP%]{display:inline-block;min-width:21px}.basket-item-group[_ngcontent-%COMP%]   .item-discount[_ngcontent-%COMP%]{color:var(--sc-c6)}.basket-item-group.open[_ngcontent-%COMP%]{margin-bottom:7px}.basket-item-group.open[_ngcontent-%COMP%] > .group-header[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%] > i.fa-caret-down[_ngcontent-%COMP%]{transform:rotate(180deg)}.basket-item-group[_ngcontent-%COMP%]   .line-through[_ngcontent-%COMP%]{text-decoration:line-through}"],data:{animation:[r.animation]}}),e})()},"0Cz8":function(e,t,n){var i=n("Xi7e"),o=n("ebwN"),r=n("e4Nc");e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var s=n.__data__;if(!o||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new r(s)}return n.set(e,t),this.size=n.size,this}},"0EUg":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("bHdf");function o(){return Object(i.a)(1)}},"0WuY":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var i=function(e){return e.INACTIVE="INACTIVE",e.FLIGHT="FLIGHT",e.RESERVATION="RESERVATION",e.PLANNING="PLANNING",e.FLISTATUS="FLIGHT_STATUS",e.SEARCH="SEARCH",e.LOCALE="LOCALE",e.EDIT_SEARCH="EDIT_SEARCH",e}({}),o=function(e){return e.NORMAL="normal",e.BOOKING="booking",e.MANAGE="manage",e}({})},"0jNN":function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),r=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(n[i]=e[i]);return n};e.exports={arrayToObject:r,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var o=t[i],r=o.obj[o.prop],s=Object.keys(r),a=0;a<s.length;++a){var c=s[a],l=r[c];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:r,prop:c}),n.push(l))}return function(e){for(var t;e.length;){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var i=[],o=0;o<t.length;++o)void 0!==t[o]&&i.push(t[o]);n.obj[n.prop]=i}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",i=0;i<t.length;++i){var r=t.charCodeAt(i);45===r||46===r||95===r||126===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122?n+=t.charAt(i):r<128?n+=o[r]:r<2048?n+=o[192|r>>6]+o[128|63&r]:r<55296||r>=57344?n+=o[224|r>>12]+o[128|r>>6&63]+o[128|63&r]:(r=65536+((1023&r)<<10|1023&t.charCodeAt(i+=1)),n+=o[240|r>>18]+o[128|r>>12&63]+o[128|r>>6&63]+o[128|63&r])}return n},isBuffer:function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,n,o){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];(o.plainObjects||o.allowPrototypes||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!=typeof t)return[t].concat(n);var s=t;return Array.isArray(t)&&!Array.isArray(n)&&(s=r(t,o)),Array.isArray(t)&&Array.isArray(n)?(n.forEach((function(n,r){i.call(t,r)?t[r]&&"object"==typeof t[r]?t[r]=e(t[r],n,o):t.push(n):t[r]=n})),t):Object.keys(n).reduce((function(t,r){var s=n[r];return t[r]=i.call(t,r)?e(t[r],s,o):s,t}),s)}}},"0o02":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("/Yn+"),o=n("WCtt"),r=n("fXoL");let s=(()=>{class e{transform(e,t){if(!e)return"";const n=t||o.a;return Object(i.documentToHtmlString)(e,n)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Sb({name:"richText",type:e,pure:!0}),e})()},"0oao":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("jtHE"),o=n("PqYM"),r=n("z6cu"),s=n("LRne"),a=n("5+tZ"),c=n("7o/Q");class l{constructor(e,t){this.count=e,this.source=t}call(e,t){return t.subscribe(new u(e,this.count,this.source))}}class u extends c.a{constructor(e,t,n){super(e),this.count=t,this.source=n}error(e){if(!this.isStopped){const{source:t,count:n}=this;if(0===n)return super.error(e);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}}}var d=n("JIr8"),h=n("tS1D"),p=n("AytR"),g=n("fXoL"),f=n("zIwB");let m=(()=>{class e{constructor(e){this.bfContextWrapper=e,this.$ready=new i.a(1)}loadScript(e,t=!1){const n=e.createElement("script");n.src=p.g.extLinks.BOOKER_DEEP_LINK,n.type="text/javascript",n.async=!0,n.defer=!0,n.onload=this.setReadyOnLoad.bind(this,t),n.onerror=this.setReady.bind(this,!1),t&&this.bfContextWrapper.exposePWAContextFunctions(),e.head.appendChild(n)}setReadyOnLoad(e){e?Object(o.a)(1e3).pipe(Object(a.a)(e=>this._contextAvailable?Object(s.a)(!0):Object(r.a)("BidFlyerContext not available on window!")),function(e=-1){return t=>t.lift(new l(e,t))}(4),Object(d.a)(e=>(p.g.production||console.error("Bidflyer Script Loader",e),Object(s.a)(!1)))).subscribe(e=>{this.setReady(e)}):this.setReady(!0)}setReady(e){this.$ready.closed||(this.$ready.next(e),this.$ready.complete())}get ready(){return this.$ready.asObservable().pipe(Object(h.a)(1e4),Object(d.a)(()=>Object(s.a)(!1))).toPromise()}get _contextAvailable(){return"BidFlyerContext"in window}}return e.\u0275fac=function(t){return new(t||e)(g.dc(f.a))},e.\u0275prov=g.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"0wYa":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("ofXK"),o=n("o5mt"),r=n("3Pt+"),s=n("Pqv9"),a=n("d0zJ"),c=n("mI2T"),l=n("fXoL");let u=(()=>{class e{}return e.\u0275mod=l.Rb({type:e}),e.\u0275inj=l.Qb({factory:function(t){return new(t||e)},imports:[[i.c,o.a,r.E,s.a,a.a,c.a]]}),e})()},"0ycA":function(e,t){e.exports=function(){return[]}},1:function(e,t,n){e.exports=n("zUnb")},"1+5i":function(e,t,n){var i=n("w/wX"),o=n("sEf8"),r=n("mdPL"),s=r&&r.isSet,a=s?o(s):i;e.exports=a},"128B":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("Kqap"),o=n("BFxc"),r=n("xbPD"),s=n("mCNh");function a(e,t){return arguments.length>=2?function(n){return Object(s.a)(Object(i.a)(e,t),Object(o.a)(1),Object(r.a)(t))(n)}:function(t){return Object(s.a)(Object(i.a)((t,n,i)=>e(t,n,i+1)),Object(o.a)(1))(t)}}},"1AID":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var i=function(e){return e.MyTripsProfileSidebarLink="MyTripsProfileSidebarLink",e.WebChat="WebChat",e.GlobalBidFlyerScriptLoad="GlobalBidFlyerScriptLoad",e.SocialLoginFacebook="SocialLoginFacebook",e.SocialLoginGoogle="SocialLoginGoogle",e.DisableSocialLogin="DisableSocialLogin",e.DarkSite="DarkSite",e.MobileCalendarPrices="MobileCalendarPrices",e.Doters="Doters",e.ShowInfantsInStaff="ShowInfantsInStaff",e.LoginModalInvitation="LoginModalInvitation",e.AndroidBanner="AndroidBanner",e.iOSBanner="iOSBanner",e.DotersOptOut="DotersOptOut",e.BoxeverIntegration="BoxeverIntegration",e.DYIntegration="DYIntegration",e.UseV2ForRequestPasswordReset="UseV2ForRequestPasswordReset",e.UseDotersLoader="UseDotersLoader",e.HideBasketZeroConcepts="HideBasketZeroConcepts",e.ShowNationalSelectionItems="ShowNationalSelectionItems",e.SingleSignOn="SingleSignOn",e.VivaFanBookingToogle="VivaFanBookingToogle",e.LowFareCalendar="LowFareCalendar",e.WeeklyCalendar="WeeklyCalendar",e.ExpressCheckout="ExpressCheckout",e.PassengersLoginPopUp="PassengersLoginPopUp",e.PassengersDisplayCustomerNo="PassengersDisplayCustomerNo",e.RecommendedSeats="RecommendedSeats",e.LowFareCalendarCache="LowFareCalendarCache",e.ShareItinerary="ShareItinerary",e.VivaFanSubscriptionModal="VivaFanSubscriptionModal",e.VivaFanBookingPricesColumn="VivaFanBookingPricesColumn",e.VivaFanAutoSelection="VivaFanAutoSelection",e.HideVivaFanToogleForCNX="HideVivaFanToogleForCNX",e.FlightStatusConnections="FlightStatusConnections",e.RedirectColombiaSearch="RedirectColombiaSearch",e.SaveSeatsSelectionOnSeatChange="SaveSeatsSelectionOnSeatChange",e.ZeroUpsellModal="ZeroUpsellModal",e.FlightOptionsV2="FlightOptionsV2",e.OpenJawBooker="OpenJawBooker",e.DisplayVivaFanPriceLowFare="DisplayVivaFanPriceLowFare",e.FlightStatusNotifications="FlightStatusNotifications",e.MinorTravelingAlone="MinorTravelingAlone",e.DisplayHotelStepForDesktopOnly="DisplayHotelStepForDesktopOnly",e.DisplayTJXAsNonStop="DisplayTJXAsNonStop",e.SendAdditionalPhone="SendAdditionalPhone",e.SocialSignUp="SocialSignUp",e.SocialLoginSunsetNotice="SocialLoginSunsetNotice",e.CubaModal="CubaModal",e.ShowUpliftPricingNodes="ShowUpliftPricingNodes",e.StaffPassengerCompanions="StaffPassengerCompanions",e.OverrideCarnetInCardPayment="OverrideCarnetInCardPayment",e.DisplayAddCobrandBenefitsAlert="DisplayAddCobrandBenefitsAlert",e.WhatsAppCheckboxPreselection="WhatsAppCheckboxPreselection",e.BookingGuestFee="BookingGuestFee",e.LogoutGuestFee="LogoutGuestFee",e.SendMaleAsDefault="SendMaleAsDefault",e.UsePayPalButton="UsePayPalButton",e.ShowCarbonModal="ShowCarbonModal",e.AutoDotersPayment="AutoDotersPayment",e.DisplayKueskiDetailsModal="DisplayKueskiDetailsModal",e.DotersAutoToogleSelection="DotersAutoToogleSelection",e.UseCacheEndpointForMonthlyLowFares="UseCacheEndpointForMonthlyLowFares",e.ShowDotersEarnGlobal="ShowDotersEarnGlobal",e.DisplayOldSiteAlertInMmb="DisplayOldSiteAlertInMmb",e.HideAncillariesWithNoPrice="HideAncillariesWithNoPrice",e.DisplayCobrandLabel="DisplayCobrandLabel",e.DisplayCobrandLabelForDoters="DisplayCobrandLabelForDoters",e.SaveCardState="SaveCardState",e.PatchCobrandCardType="PatchCobrandCardType",e.IncludeMaacStationsInSearch="IncludeMaacStationsInSearch",e.AllowAlternateStationsParam="AllowAlternateStationsParam",e.UseMaacStationsAsDefault="UseMaacStationsAsDefault",e.DisplayVivafanCompanions="DisplayVivafanCompanions",e.BaseFareForAgencyAndEnterprise="BaseFareForAgencyAndEnterprise",e.DisplayAIFAAlert="DisplayAIFAAlert",e.ShowDotersEarnInMMB="ShowDotersEarnInMMB",e}({}),o=function(e){return e[e.GLOBAL=1]="GLOBAL",e[e.BOOKING=2]="BOOKING",e[e.MANAGE=3]="MANAGE",e}({})},"1G5W":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("l7GE"),o=n("ZUHj");function r(e){return t=>t.lift(new s(e))}class s{constructor(e){this.notifier=e}call(e,t){const n=new a(e),i=Object(o.a)(n,this.notifier);return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}class a extends i.a{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,n,i,o){this.seenValue=!0,this.complete()}notifyComplete(){}}},"1hx3":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("2Vo4"),o=n("fXoL");let r=(()=>{class e{constructor(){this.$selectedBookerTypeValue=new i.a(void 0)}emitBookerSearchTypeValue(e){this.$selectedBookerTypeValue.next(e)}get selectedBookerTypeValue$(){return this.$selectedBookerTypeValue.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"1pIY":function(e,t,n){"use strict";var i=n("2tF/");t.async=new(n("NTcF").AsyncScheduler)(i.AsyncAction)},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2SVd":function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},"2Vo4":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("XNiG"),o=n("9ppp");class r extends i.a{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value}next(e){super.next(this._value=e)}}},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}}},"2gN3":function(e,t,n){var i=n("Kz5y");e.exports=i["__core-js_shared__"]},"2pl3":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"2tF/":function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();t.AsyncAction=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return i(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(o){n=!0,i=!!o&&o||new Error(o)}if(n)return this.unsubscribe(),i},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(n("Dz+M").Action)},"2xm2":function(e){e.exports=JSON.parse('{"version":"2023c","zones":["America/Mexico_City|CST|60|0||20e6"],"links":[],"countries":["MX|America/Mexico_City"]}')},"3/DG":function(e,t){function n(e,t){var n=[],i=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+i.slice(0,n.indexOf(t)).join(".")+"]"}),function(o,r){if(n.length>0){var s=n.indexOf(this);~s?n.splice(s+1):n.push(this),~s?i.splice(s,1/0,o):i.push(o),~n.indexOf(r)&&(r=t.call(this,o,r))}else n.push(r);return null==e?r:e.call(this,o,r)}}(e.exports=function(e,t,i,o){return JSON.stringify(e,n(t,o),i)}).getSerialize=n},"39vh":function(e,t,n){"use strict";n.d(t,"a",(function(){return ot})),n.d(t,"b",(function(){return at})),n.d(t,"c",(function(){return ct}));var i=n("fXoL");function o(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function r(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function s(e){var t=r(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function a(e){return e instanceof r(e).Element||e instanceof Element}function c(e){return e instanceof r(e).HTMLElement||e instanceof HTMLElement}function l(e){return e?(e.nodeName||"").toLowerCase():null}function u(e){return((a(e)?e.ownerDocument:e.document)||window.document).documentElement}function d(e){return o(u(e)).left+s(e).scrollLeft}function h(e){return r(e).getComputedStyle(e)}function p(e){var t=h(e);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function g(e,t,n){void 0===n&&(n=!1);var i,a,h=u(t),g=o(e),f=c(t),m={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(f||!f&&!n)&&(("body"!==l(t)||p(h))&&(m=(i=t)!==r(i)&&c(i)?{scrollLeft:(a=i).scrollLeft,scrollTop:a.scrollTop}:s(i)),c(t)?((b=o(t)).x+=t.clientLeft,b.y+=t.clientTop):h&&(b.x=d(h))),{x:g.left+m.scrollLeft-b.x,y:g.top+m.scrollTop-b.y,width:g.width,height:g.height}}function f(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function m(e){return"html"===l(e)?e:e.assignedSlot||e.parentNode||e.host||u(e)}function b(e,t){void 0===t&&(t=[]);var n=function e(t){return["html","body","#document"].indexOf(l(t))>=0?t.ownerDocument.body:c(t)&&p(t)?t:e(m(t))}(e),i="body"===l(n),o=r(n),s=i?[o].concat(o.visualViewport||[],p(n)?n:[]):n,a=t.concat(s);return i?a:a.concat(b(m(s)))}function v(e){return["table","td","th"].indexOf(l(e))>=0}function y(e){if(!c(e)||"fixed"===h(e).position)return null;var t=e.offsetParent;if(t){var n=u(t);if("body"===l(t)&&"static"===h(t).position&&"static"!==h(n).position)return n}return t}function _(e){for(var t=r(e),n=y(e);n&&v(n)&&"static"===h(n).position;)n=y(n);return n&&"body"===l(n)&&"static"===h(n).position?t:n||function(e){for(var t=m(e);c(t)&&["html","body"].indexOf(l(t))<0;){var n=h(t);if("none"!==n.transform||"none"!==n.perspective||n.willChange&&"auto"!==n.willChange)return t;t=t.parentNode}return null}(e)||t}var C="top",S="bottom",O="right",T="left",w=[C,S,O,T],k=w.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),A=[].concat(w,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),E=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"],M={placement:"bottom",modifiers:[],strategy:"absolute"};function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function D(e){void 0===e&&(e={});var t=e.defaultModifiers,n=void 0===t?[]:t,i=e.defaultOptions,o=void 0===i?M:i;return function(e,t,i){void 0===i&&(i=o);var r,s,c={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},M),o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],u=!1,d={state:c,setOptions:function(i){h(),c.options=Object.assign(Object.assign(Object.assign({},o),c.options),i),c.scrollParents={reference:a(e)?b(e):e.contextElement?b(e.contextElement):[],popper:b(t)};var r,s,u=function(e){var t=function(e){var t=new Map,n=new Set,i=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||function e(o){n.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach((function(i){if(!n.has(i)){var o=t.get(i);o&&e(o)}})),i.push(o)}(e)})),i}(e);return E.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((r=[].concat(n,c.options.modifiers),s=r.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign(Object.assign(Object.assign({},n),t),{},{options:Object.assign(Object.assign({},n.options),t.options),data:Object.assign(Object.assign({},n.data),t.data)}):t,e}),{}),Object.keys(s).map((function(e){return s[e]}))));return c.orderedModifiers=u.filter((function(e){return e.enabled})),c.orderedModifiers.forEach((function(e){var t=e.options,n=e.effect;if("function"==typeof n){var i=n({state:c,name:e.name,instance:d,options:void 0===t?{}:t});l.push(i||function(){})}})),d.update()},forceUpdate:function(){if(!u){var e=c.elements,t=e.reference,n=e.popper;if(P(t,n)){c.rects={reference:g(t,_(n),"fixed"===c.options.strategy),popper:f(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(e){return c.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<c.orderedModifiers.length;i++)if(!0!==c.reset){var o=c.orderedModifiers[i],r=o.fn,s=o.options;"function"==typeof r&&(c=r({state:c,options:void 0===s?{}:s,name:o.name,instance:d})||c)}else c.reset=!1,i=-1}}},update:(r=function(){return new Promise((function(e){d.forceUpdate(),e(c)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(r())}))}))),s}),destroy:function(){h(),u=!0}};if(!P(e,t))return d;function h(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(i).then((function(e){!u&&i.onFirstUpdate&&i.onFirstUpdate(e)})),d}}var x={passive:!0};function I(e){return e.split("-")[0]}function L(e){return e.split("-")[1]}function R(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function N(e){var t,n=e.reference,i=e.element,o=e.placement,r=o?I(o):null,s=o?L(o):null,a=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2;switch(r){case C:t={x:a,y:n.y-i.height};break;case S:t={x:a,y:n.y+n.height};break;case O:t={x:n.x+n.width,y:c};break;case T:t={x:n.x-i.width,y:c};break;default:t={x:n.x,y:n.y}}var l=r?R(r):null;if(null!=l){var u="y"===l?"height":"width";switch(s){case"start":t[l]=t[l]-(n[u]/2-i[u]/2);break;case"end":t[l]=t[l]+(n[u]/2-i[u]/2)}}return t}var j={top:"auto",right:"auto",bottom:"auto",left:"auto"};function B(e){var t,n=e.popper,i=e.popperRect,o=e.placement,s=e.offsets,a=e.position,c=e.gpuAcceleration,l=e.adaptive,d=e.roundOffsets?function(e){var t=e.y,n=window.devicePixelRatio||1;return{x:Math.round(e.x*n)/n||0,y:Math.round(t*n)/n||0}}(s):s,h=d.x,p=void 0===h?0:h,g=d.y,f=void 0===g?0:g,m=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),v=T,y=C,w=window;if(l){var k=_(n);k===r(n)&&(k=u(n)),o===C&&(y=S,f-=k.clientHeight-i.height,f*=c?1:-1),o===T&&(v=O,p-=k.clientWidth-i.width,p*=c?1:-1)}var A,E=Object.assign({position:a},l&&j);return Object.assign(Object.assign({},E),{},c?((A={})[y]=b?"0":"",A[v]=m?"0":"",A.transform=(w.devicePixelRatio||1)<2?"translate("+p+"px, "+f+"px)":"translate3d("+p+"px, "+f+"px, 0)",A):((t={})[y]=b?f+"px":"",t[v]=m?p+"px":"",t.transform="",t))}var F={left:"right",right:"left",bottom:"top",top:"bottom"};function H(e){return e.replace(/left|right|bottom|top/g,(function(e){return F[e]}))}var U={start:"end",end:"start"};function Y(e){return e.replace(/start|end/g,(function(e){return U[e]}))}function G(e,t){var n,i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&((n=i)instanceof r(n).ShadowRoot||n instanceof ShadowRoot)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function V(e){return Object.assign(Object.assign({},e),{},{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Z(e,t){return"viewport"===t?V(function(e){var t=r(e),n=u(e),i=t.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,c=0;return i&&(o=i.width,s=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=i.offsetLeft,c=i.offsetTop)),{width:o,height:s,x:a+d(e),y:c}}(e)):c(t)?function(e){var t=o(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):V(function(e){var t=u(e),n=s(e),i=e.ownerDocument.body,o=Math.max(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),r=Math.max(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+d(e),c=-n.scrollTop;return"rtl"===h(i||t).direction&&(a+=Math.max(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:r,x:a,y:c}}(u(e)))}function $(e){return Object.assign(Object.assign({},{top:0,right:0,bottom:0,left:0}),e)}function W(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function K(e,t){void 0===t&&(t={});var n=t.placement,i=void 0===n?e.placement:n,r=t.boundary,s=void 0===r?"clippingParents":r,d=t.rootBoundary,p=void 0===d?"viewport":d,g=t.elementContext,f=void 0===g?"popper":g,v=t.altBoundary,y=void 0!==v&&v,T=t.padding,k=void 0===T?0:T,A=$("number"!=typeof k?k:W(k,w)),E=e.elements.reference,M=e.rects.popper,P=e.elements[y?"popper"===f?"reference":"popper":f],D=function(e,t,n){var i="clippingParents"===t?function(e){var t=b(m(e)),n=["absolute","fixed"].indexOf(h(e).position)>=0&&c(e)?_(e):e;return a(n)?t.filter((function(e){return a(e)&&G(e,n)&&"body"!==l(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),r=o.reduce((function(t,n){var i=Z(e,n);return t.top=Math.max(i.top,t.top),t.right=Math.min(i.right,t.right),t.bottom=Math.min(i.bottom,t.bottom),t.left=Math.max(i.left,t.left),t}),Z(e,o[0]));return r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}(a(P)?P:P.contextElement||u(e.elements.popper),s,p),x=o(E),I=N({reference:x,element:M,strategy:"absolute",placement:i}),L=V(Object.assign(Object.assign({},M),I)),R="popper"===f?L:x,j={top:D.top-R.top+A.top,bottom:R.bottom-D.bottom+A.bottom,left:D.left-R.left+A.left,right:R.right-D.right+A.right},B=e.modifiersData.offset;if("popper"===f&&B){var F=B[i];Object.keys(j).forEach((function(e){var t=[O,S].indexOf(e)>=0?1:-1,n=[C,S].indexOf(e)>=0?"y":"x";j[e]+=F[n]*t}))}return j}function z(e,t,n){return Math.max(e,Math.min(t,n))}function Q(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function X(e){return[C,O,S,T].some((function(t){return e[t]>=0}))}var q=D({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,o=i.scroll,s=void 0===o||o,a=i.resize,c=void 0===a||a,l=r(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach((function(e){e.addEventListener("scroll",n.update,x)})),c&&l.addEventListener("resize",n.update,x),function(){s&&u.forEach((function(e){e.removeEventListener("scroll",n.update,x)})),c&&l.removeEventListener("resize",n.update,x)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state;t.modifiersData[e.name]=N({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,o=void 0===i||i,r=n.adaptive,s=void 0===r||r,a=n.roundOffsets,c=void 0===a||a,l={placement:I(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign(Object.assign({},t.styles.popper),B(Object.assign(Object.assign({},l),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),B(Object.assign(Object.assign({},l),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},o=t.elements[e];c(o)&&l(o)&&(Object.assign(o.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],o=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});c(i)&&l(i)&&(Object.assign(i.style,r),Object.keys(o).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.name,i=e.options.offset,o=void 0===i?[0,0]:i,r=A.reduce((function(e,n){return e[n]=function(e,t,n){var i=I(e),o=[T,C].indexOf(i)>=0?-1:1,r="function"==typeof n?n(Object.assign(Object.assign({},t),{},{placement:e})):n,s=r[0],a=r[1];return s=s||0,a=(a||0)*o,[T,O].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),s=r[t.placement],a=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s.x,t.modifiersData.popperOffsets.y+=a),t.modifiersData[n]=r}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var o=n.mainAxis,r=void 0===o||o,s=n.altAxis,a=void 0===s||s,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,g=void 0===p||p,f=n.allowedAutoPlacements,m=t.options.placement,b=I(m),v=c||(b!==m&&g?function(e){if("auto"===I(e))return[];var t=H(e);return[Y(e),t,Y(t)]}(m):[H(m)]),y=[m].concat(v).reduce((function(e,n){return e.concat("auto"===I(n)?function(e,t){void 0===t&&(t={});var n=t.boundary,i=t.rootBoundary,o=t.padding,r=t.flipVariations,s=t.allowedAutoPlacements,a=void 0===s?A:s,c=L(t.placement),l=c?r?k:k.filter((function(e){return L(e)===c})):w,u=l.filter((function(e){return a.indexOf(e)>=0}));0===u.length&&(u=l);var d=u.reduce((function(t,r){return t[r]=K(e,{placement:r,boundary:n,rootBoundary:i,padding:o})[I(r)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:g,allowedAutoPlacements:f}):n)}),[]),_=t.rects.reference,E=t.rects.popper,M=new Map,P=!0,D=y[0],x=0;x<y.length;x++){var R=y[x],N=I(R),j="start"===L(R),B=[C,S].indexOf(N)>=0,F=B?"width":"height",U=K(t,{placement:R,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),G=B?j?O:T:j?S:C;_[F]>E[F]&&(G=H(G));var V=H(G),Z=[];if(r&&Z.push(U[N]<=0),a&&Z.push(U[G]<=0,U[V]<=0),Z.every((function(e){return e}))){D=R,P=!1;break}M.set(R,Z)}if(P)for(var $=function(e){var t=y.find((function(t){var n=M.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return D=t,"break"},W=g?3:1;W>0&&"break"!==$(W);W--);t.placement!==D&&(t.modifiersData[i]._skip=!0,t.placement=D,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,o=n.mainAxis,r=void 0===o||o,s=n.altAxis,a=void 0!==s&&s,c=n.tether,l=void 0===c||c,u=n.tetherOffset,d=void 0===u?0:u,h=K(t,{boundary:n.boundary,rootBoundary:n.rootBoundary,padding:n.padding,altBoundary:n.altBoundary}),p=I(t.placement),g=L(t.placement),m=!g,b=R(p),v="x"===b?"y":"x",y=t.modifiersData.popperOffsets,w=t.rects.reference,k=t.rects.popper,A="function"==typeof d?d(Object.assign(Object.assign({},t.rects),{},{placement:t.placement})):d,E={x:0,y:0};if(y){if(r){var M="y"===b?C:T,P="y"===b?S:O,D="y"===b?"height":"width",x=y[b],N=y[b]+h[M],j=y[b]-h[P],B=l?-k[D]/2:0,F="start"===g?w[D]:k[D],H="start"===g?-k[D]:-w[D],U=t.elements.arrow,Y=l&&U?f(U):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=G[M],Z=G[P],$=z(0,w[D],Y[D]),W=m?w[D]/2-B-$-V-A:F-$-V-A,Q=m?-w[D]/2+B+$+Z+A:H+$+Z+A,X=t.elements.arrow&&_(t.elements.arrow),q=t.modifiersData.offset?t.modifiersData.offset[t.placement][b]:0,J=y[b]+Q-q,ee=z(l?Math.min(N,y[b]+W-q-(X?"y"===b?X.clientTop||0:X.clientLeft||0:0)):N,x,l?Math.max(j,J):j);y[b]=ee,E[b]=ee-x}if(a){var te=y[v],ne=z(te+h["x"===b?C:T],te,te-h["x"===b?S:O]);y[v]=ne,E[v]=ne-te}t.modifiersData[i]=E}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,o=n.elements.arrow,r=n.modifiersData.popperOffsets,s=I(n.placement),a=R(s),c=[T,O].indexOf(s)>=0?"height":"width";if(o&&r){var l=n.modifiersData[i+"#persistent"].padding,u=f(o),d="y"===a?C:T,h="y"===a?S:O,p=n.rects.reference[c]+n.rects.reference[a]-r[a]-n.rects.popper[c],g=r[a]-n.rects.reference[a],m=_(o),b=m?"y"===a?m.clientHeight||0:m.clientWidth||0:0,v=b/2-u[c]/2+(p/2-g/2),y=z(l[d],v,b-u[c]-l[h]);n.modifiersData[i]=((t={})[a]=y,t.centerOffset=y-v,t)}},effect:function(e){var t=e.state,n=e.options,i=e.name,o=n.element,r=void 0===o?"[data-popper-arrow]":o,s=n.padding,a=void 0===s?0:s;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&G(t.elements.popper,r)&&(t.elements.arrow=r,t.modifiersData[i+"#persistent"]={padding:$("number"!=typeof a?a:W(a,w))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,o=t.rects.popper,r=t.modifiersData.preventOverflow,s=K(t,{elementContext:"reference"}),a=K(t,{altBoundary:!0}),c=Q(s,i),l=Q(a,o,r),u=X(c),d=X(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),J={passive:!0,capture:!0};function ee(e,t,n){if(Array.isArray(e)){var i=e[t];return null==i?Array.isArray(n)?n[t]:n:i}return e}function te(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function ne(e,t){return"function"==typeof e?e.apply(void 0,t):e}function ie(e,t){return 0===t?e:function(i){clearTimeout(n),n=setTimeout((function(){e(i)}),t)};var n}function oe(e){return[].concat(e)}function re(e,t){-1===e.indexOf(t)&&e.push(t)}function se(e){return[].slice.call(e)}function ae(){return document.createElement("div")}function ce(e){return["Element","Fragment"].some((function(t){return te(e,t)}))}function le(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function ue(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function de(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[i](t,n)}))}var he={isTouch:!1},pe=0;function ge(){he.isTouch||(he.isTouch=!0,window.performance&&document.addEventListener("mousemove",fe))}function fe(){var e=performance.now();e-pe<20&&(he.isTouch=!1,document.removeEventListener("mousemove",fe)),pe=e}function me(){var e,t=document.activeElement;(e=t)&&e._tippy&&e._tippy.reference===e&&t.blur&&!t._tippy.state.isVisible&&t.blur()}var be="undefined"!=typeof window&&"undefined"!=typeof document?navigator.userAgent:"",ve=/MSIE |Trident\//.test(be),ye=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),_e=Object.keys(ye);function Ce(e){var t=(e.plugins||[]).reduce((function(t,n){var i=n.name;return i&&(t[i]=void 0!==e[i]?e[i]:n.defaultValue),t}),{});return Object.assign({},e,{},t)}function Se(e,t){var n=Object.assign({},t,{content:ne(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(Ce(Object.assign({},ye,{plugins:t}))):_e).reduce((function(t,n){var i=(e.getAttribute("data-tippy-"+n)||"").trim();if(!i)return t;if("content"===n)t[n]=i;else try{t[n]=JSON.parse(i)}catch(o){t[n]=i}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},ye.aria,{},n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function Oe(e,t){e.innerHTML=t}function Te(e){var t=ae();return!0===e?t.className="tippy-arrow":(t.className="tippy-svg-arrow",ce(e)?t.appendChild(e):Oe(t,e)),t}function we(e,t){ce(t.content)?(Oe(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?Oe(e,t.content):e.textContent=t.content)}function ke(e){var t=e.firstElementChild,n=se(t.children);return{box:t,content:n.find((function(e){return e.classList.contains("tippy-content")})),arrow:n.find((function(e){return e.classList.contains("tippy-arrow")||e.classList.contains("tippy-svg-arrow")})),backdrop:n.find((function(e){return e.classList.contains("tippy-backdrop")}))}}function Ae(e){var t=ae(),n=ae();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=ae();function o(n,i){var o=ke(t),r=o.box,s=o.content,a=o.arrow;i.theme?r.setAttribute("data-theme",i.theme):r.removeAttribute("data-theme"),"string"==typeof i.animation?r.setAttribute("data-animation",i.animation):r.removeAttribute("data-animation"),i.inertia?r.setAttribute("data-inertia",""):r.removeAttribute("data-inertia"),r.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?r.setAttribute("role",i.role):r.removeAttribute("role"),n.content===i.content&&n.allowHTML===i.allowHTML||we(s,e.props),i.arrow?a?n.arrow!==i.arrow&&(r.removeChild(a),r.appendChild(Te(i.arrow))):r.appendChild(Te(i.arrow)):a&&r.removeChild(a)}return i.className="tippy-content",i.setAttribute("data-state","hidden"),we(i,e.props),t.appendChild(n),n.appendChild(i),o(e.props,e.props),{popper:t,onUpdate:o}}Ae.$$tippy=!0;var Ee=1,Me=[],Pe=[];function De(e,t){void 0===t&&(t={});var n=ye.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",ge,J),window.addEventListener("blur",me);var i,o=Object.assign({},t,{plugins:n}),r=(i=e,ce(i)?[i]:function(e){return te(e,"NodeList")}(i)?se(i):Array.isArray(i)?i:se(document.querySelectorAll(i))).reduce((function(e,t){var n=t&&function(e,t){var n,i,o,r,s,a,c,l,u,d=Se(e,Object.assign({},ye,{},Ce((n=t,Object.keys(n).reduce((function(e,t){return void 0!==n[t]&&(e[t]=n[t]),e}),{}))))),h=!1,p=!1,g=!1,f=!1,m=[],b=ie(K,d.interactiveDebounce),v=Ee++,y=(u=d.plugins).filter((function(e,t){return u.indexOf(e)===t})),_={id:v,reference:e,popper:ae(),popperInstance:null,props:d,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(o),cancelAnimationFrame(r)},setProps:function(t){if(!_.state.isDestroyed){L("onBeforeUpdate",[_,t]),$();var n=_.props,i=Se(e,Object.assign({},_.props,{},t,{ignoreAttributes:!0}));_.props=i,Z(),n.interactiveDebounce!==i.interactiveDebounce&&(j(),b=ie(K,i.interactiveDebounce)),n.triggerTarget&&!i.triggerTarget?oe(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):i.triggerTarget&&e.removeAttribute("aria-expanded"),N(),I(),O&&O(n,i),_.popperInstance&&(ce(),ge().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)}))),L("onAfterUpdate",[_,t])}},setContent:function(e){_.setProps({content:e})},show:function(){var e=_.state.isVisible,t=_.state.isDestroyed,n=!_.state.isEnabled,i=he.isTouch&&!_.props.touch,o=ee(_.props.duration,0,ye.duration);if(!(e||t||n||i||M().hasAttribute("disabled")||(L("onShow",[_],!1),!1===_.props.onShow(_)))){if(_.state.isVisible=!0,E()&&(S.style.visibility="visible"),I(),U(),_.state.isMounted||(S.style.transition="none"),E()){var r=D();le([r.box,r.content],0)}var s,a,l;c=function(){if(_.state.isVisible&&!f){if(f=!0,S.style.transition=_.props.moveTransition,E()&&_.props.animation){var e=D(),t=e.box,n=e.content;le([t,n],o),ue([t,n],"visible")}R(),N(),re(Pe,_),_.state.isMounted=!0,L("onMount",[_]),_.props.animation&&E()&&function(e,t){G(e,(function(){_.state.isShown=!0,L("onShown",[_])}))}(o)}},a=_.props.appendTo,l=M(),(s=_.props.interactive&&a===ye.appendTo||"parent"===a?l.parentNode:ne(a,[l])).contains(S)||s.appendChild(S),ce()}},hide:function(){var e=!_.state.isVisible,t=_.state.isDestroyed,n=!_.state.isEnabled,i=ee(_.props.duration,1,ye.duration);if(!(e||t||n)&&(L("onHide",[_],!1),!1!==_.props.onHide(_))){if(_.state.isVisible=!1,_.state.isShown=!1,f=!1,h=!1,E()&&(S.style.visibility="hidden"),j(),Y(),I(),E()){var o=D(),r=o.box,s=o.content;_.props.animation&&(le([r,s],i),ue([r,s],"hidden"))}R(),N(),_.props.animation?E()&&function(e,t){G(e,(function(){!_.state.isVisible&&S.parentNode&&S.parentNode.contains(S)&&t()}))}(i,_.unmount):_.unmount()}},hideWithInteractivity:function(e){P().addEventListener("mousemove",b),re(Me,b),b(e)},enable:function(){_.state.isEnabled=!0},disable:function(){_.hide(),_.state.isEnabled=!1},unmount:function(){_.state.isVisible&&_.hide(),_.state.isMounted&&(pe(),ge().forEach((function(e){e._tippy.unmount()})),S.parentNode&&S.parentNode.removeChild(S),Pe=Pe.filter((function(e){return e!==_})),_.state.isMounted=!1,L("onHidden",[_]))},destroy:function(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),$(),delete e._tippy,_.state.isDestroyed=!0,L("onDestroy",[_]))}};if(!d.render)return _;var C=d.render(_),S=C.popper,O=C.onUpdate;S.setAttribute("data-tippy-root",""),S.id="tippy-"+_.id,_.popper=S,e._tippy=_,S._tippy=_;var T=y.map((function(e){return e.fn(_)})),w=e.hasAttribute("aria-expanded");return Z(),N(),I(),L("onCreate",[_]),d.showOnCreate&&fe(),S.addEventListener("mouseenter",(function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()})),S.addEventListener("mouseleave",(function(e){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&(P().addEventListener("mousemove",b),b(e))})),_;function k(){var e=_.props.touch;return Array.isArray(e)?e:[e,0]}function A(){return"hold"===k()[0]}function E(){var e;return!!(null==(e=_.props.render)?void 0:e.$$tippy)}function M(){return l||e}function P(){var e,t=M().parentNode;return t&&(e=oe(t)[0])&&e.ownerDocument||document}function D(){return ke(S)}function x(e){return _.state.isMounted&&!_.state.isVisible||he.isTouch||s&&"focus"===s.type?0:ee(_.props.delay,e?0:1,ye.delay)}function I(){S.style.pointerEvents=_.props.interactive&&_.state.isVisible?"":"none",S.style.zIndex=""+_.props.zIndex}function L(e,t,n){var i;void 0===n&&(n=!0),T.forEach((function(n){n[e]&&n[e].apply(void 0,t)})),n&&(i=_.props)[e].apply(i,t)}function R(){var t=_.props.aria;if(t.content){var n="aria-"+t.content,i=S.id;oe(_.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(_.state.isVisible)e.setAttribute(n,t?t+" "+i:i);else{var o=t&&t.replace(i,"").trim();o?e.setAttribute(n,o):e.removeAttribute(n)}}))}}function N(){!w&&_.props.aria.expanded&&oe(_.props.triggerTarget||e).forEach((function(e){_.props.interactive?e.setAttribute("aria-expanded",_.state.isVisible&&e===M()?"true":"false"):e.removeAttribute("aria-expanded")}))}function j(){P().removeEventListener("mousemove",b),Me=Me.filter((function(e){return e!==b}))}function B(e){if(!(he.isTouch&&(g||"mousedown"===e.type)||_.props.interactive&&S.contains(e.target))){if(M().contains(e.target)){if(he.isTouch)return;if(_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[_,e]);!0===_.props.hideOnClick&&(_.clearDelayTimeouts(),_.hide(),p=!0,setTimeout((function(){p=!1})),_.state.isMounted||Y())}}function F(){g=!0}function H(){g=!1}function U(){var e=P();e.addEventListener("mousedown",B,!0),e.addEventListener("touchend",B,J),e.addEventListener("touchstart",H,J),e.addEventListener("touchmove",F,J)}function Y(){var e=P();e.removeEventListener("mousedown",B,!0),e.removeEventListener("touchend",B,J),e.removeEventListener("touchstart",H,J),e.removeEventListener("touchmove",F,J)}function G(e,t){var n=D().box;function i(e){e.target===n&&(de(n,"remove",i),t())}if(0===e)return t();de(n,"remove",a),de(n,"add",i),a=i}function V(t,n,i){void 0===i&&(i=!1),oe(_.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,i),m.push({node:e,eventType:t,handler:n,options:i})}))}function Z(){var e;A()&&(V("touchstart",W,{passive:!0}),V("touchend",z,{passive:!0})),(e=_.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(V(e,W),e){case"mouseenter":V("mouseleave",z);break;case"focus":V(ve?"focusout":"blur",Q);break;case"focusin":V("focusout",Q)}}))}function $(){m.forEach((function(e){e.node.removeEventListener(e.eventType,e.handler,e.options)})),m=[]}function W(e){var t,n=!1;if(_.state.isEnabled&&!X(e)&&!p){var i="focus"===(null==(t=s)?void 0:t.type);s=e,l=e.currentTarget,N(),!_.state.isVisible&&te(e,"MouseEvent")&&Me.forEach((function(t){return t(e)})),"click"===e.type&&(_.props.trigger.indexOf("mouseenter")<0||h)&&!1!==_.props.hideOnClick&&_.state.isVisible?n=!0:fe(e),"click"===e.type&&(h=!n),n&&!i&&me(e)}}function K(e){var t=e.target,n=M().contains(t)||S.contains(t);"mousemove"===e.type&&n||function(e,t){var n=t.clientX,i=t.clientY;return e.every((function(e){var t=e.popperRect,o=e.popperState,r=e.props.interactiveBorder,s=o.placement.split("-")[0],a=o.modifiersData.offset;return!a||t.top-i+("bottom"===s?a.top.y:0)>r||i-t.bottom-("top"===s?a.bottom.y:0)>r||t.left-n+("right"===s?a.left.x:0)>r||n-t.right-("left"===s?a.right.x:0)>r}))}(ge().concat(S).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:d}:null})).filter(Boolean),e)&&(j(),me(e))}function z(e){X(e)||_.props.trigger.indexOf("click")>=0&&h||(_.props.interactive?_.hideWithInteractivity(e):me(e))}function Q(e){_.props.trigger.indexOf("focusin")<0&&e.target!==M()||_.props.interactive&&e.relatedTarget&&S.contains(e.relatedTarget)||me(e)}function X(e){return!!he.isTouch&&A()!==e.type.indexOf("touch")>=0}function ce(){pe();var t=_.props,n=t.popperOptions,i=t.placement,o=t.offset,r=t.getReferenceClientRect,s=t.moveTransition,a=E()?ke(S).arrow:null,l=r?{getBoundingClientRect:r,contextElement:r.contextElement||M()}:e,u=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(E()){var n=D().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];E()&&a&&u.push({name:"arrow",options:{element:a,padding:3}}),u.push.apply(u,(null==n?void 0:n.modifiers)||[]),_.popperInstance=q(l,S,Object.assign({},n,{placement:i,onFirstUpdate:c,modifiers:u}))}function pe(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function ge(){return se(S.querySelectorAll("[data-tippy-root]"))}function fe(e){_.clearDelayTimeouts(),e&&L("onTrigger",[_,e]),U();var t=x(!0),n=k(),o=n[1];he.isTouch&&"hold"===n[0]&&o&&(t=o),t?i=setTimeout((function(){_.show()}),t):_.show()}function me(e){if(_.clearDelayTimeouts(),L("onUntrigger",[_,e]),_.state.isVisible){if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&h)){var t=x(!1);t?o=setTimeout((function(){_.state.isVisible&&_.hide()}),t):r=requestAnimationFrame((function(){_.hide()}))}}else Y()}}(t,o);return n&&e.push(n),e}),[]);return ce(e)?r[0]:r}De.defaultProps=ye,De.setDefaultProps=function(e){Object.keys(e).forEach((function(t){ye[t]=e[t]}))},De.currentInput=he,De.setDefaultProps({render:Ae});var xe=De,Ie=n("HDdC"),Le=n("XNiG"),Re=n("xgIS"),Ne=n("VRyK"),je=n("3UWI"),Be=n("lJxs"),Fe=n("eIep"),He=n("1G5W"),Ue=n("ofXK");n("2Vo4"),n("pLZG");class Ye{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}class Ge{constructor(e){this.args=e;const t=this.args.resolver.resolveComponentFactory(this.args.component);this.args.vcr?this.compRef=this.args.vcr.createComponent(t,this.args.vcr.length,e.injector||this.args.vcr.injector):(this.compRef=t.create(this.args.injector),this.args.appRef.attachView(this.compRef.hostView))}get ref(){return this.compRef}setInput(e,t){return this.compRef.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.compRef.instance[t]=e[t]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.args.vcr&&this.args.appRef.detachView(this.compRef.hostView),this.compRef=null}}class Ve{constructor(e){this.args=e,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const e=this.viewRef.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}function Ze(e){return e instanceof i.P}function $e(e){return"function"==typeof e}function We(e){return"string"==typeof e}let Ke=(()=>{class e{constructor(e,t,n){this.resolver=e,this.injector=t,this.appRef=n}createComponent(e,t={}){return new Ge({component:e,vcr:t.vcr,injector:t.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(e,t={}){return new Ve({vcr:t.vcr,appRef:this.appRef,tpl:e,context:t.context})}createView(e,t={}){if(Ze(e))return this.createTemplate(e,t);if($e(e))return this.createComponent(e,t);if(We(e))return new Ye(e);throw"Type of content is not supported"}}return e.\u0275fac=function(t){return new(t||e)(i.dc(i.l),i.dc(i.u),i.dc(i.g))},e.\u0275prov=Object(i.Pb)({factory:function(){return new e(Object(i.dc)(i.l),Object(i.dc)(i.r),Object(i.dc)(i.g))},token:e,providedIn:"root"}),e})();const ze=new i.t("Tippy config",{providedIn:"root",factory:()=>({})}),Qe=new i.t("TIPPY_REF");function Xe(e){return e instanceof i.n?e.nativeElement:e}let qe=!1,Je=!1;function et(e,t={root:null,threshold:.3}){const n=Xe(e);return new Ie.a(e=>{if(!qe)return e.next(),void e.complete();const i=new IntersectionObserver(t=>{t[t.length-1].isIntersecting&&(e.next(),e.complete())},t);return i.observe(n),()=>i.disconnect()})}function tt(e){const t=Xe(e);return nt(t).pipe(Object(je.a)(150),Object(Be.a)(()=>function(e){return e.offsetWidth>e.parentElement.offsetWidth||e.offsetWidth<e.scrollWidth}(t)))}function nt(e){return function(e){return new Ie.a(t=>{if(!Je)return t.next(),void t.complete();const n=new ResizeObserver(()=>t.next(!0));return n.observe(e),()=>n.disconnect()})}(e)}function it(e){const t={},n=["variations","useHostWidth","defaultVariation","beforeRender","lazy","variation","isEnabled","className","onlyTextOverflow","data","content"];return Object.keys(e).forEach(i=>{n.includes(i)||(t[i]=e[i])}),t}"undefined"!=typeof window&&(qe="IntersectionObserver"in window,Je="ResizeObserver"in window);let ot=(()=>{let e=class{constructor(e,t,n,o,r,s,a){this.platformId=e,this.globalConfig=t,this.injector=n,this.viewService=o,this.vcr=r,this.zone=s,this.host=a,this.onlyTextOverflow=!1,this.useHostWidth=!1,this.visible=new i.p,this.isVisible=!1,this.destroyed=new Le.a,this.enabled=!0,this.variationDefined=!1}ngOnChanges(e){if(Object(Ue.M)(this.platformId))return;e.content&&(this.view=e.content.currentValue);let t,n=Object.keys(e).reduce((t,n)=>(t[n]=e[n].currentValue,t),{});rt("variation",e)?(t=e.variation.currentValue,this.variationDefined=!0):this.variationDefined||(t=this.globalConfig.defaultVariation,this.variationDefined=!0),t&&(n=Object.assign(Object.assign({},this.globalConfig.variations[t]),n)),rt("isEnabled",e)&&(this.enabled=e.isEnabled.currentValue,this.setStatus()),this.setProps(n)}ngOnInit(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}ngAfterViewInit(){this.lazy?this.onlyTextOverflow?et(this.host).pipe(Object(Fe.a)(()=>tt(this.host)),Object(He.a)(this.destroyed)).subscribe(e=>{this.checkOverflow(e)}):et(this.host).pipe(Object(He.a)(this.destroyed)).subscribe(()=>{this.createInstance()}):this.onlyTextOverflow?tt(this.host).pipe(Object(He.a)(this.destroyed)).subscribe(e=>{this.checkOverflow(e)}):this.createInstance()}ngOnDestroy(){var e;this.destroyed.next(),null===(e=this.instance)||void 0===e||e.destroy(),this.destroyView()}destroyView(){var e;null===(e=this.viewRef)||void 0===e||e.destroy(),this.viewRef=null}show(){var e;null===(e=this.instance)||void 0===e||e.show()}hide(){var e;null===(e=this.instance)||void 0===e||e.hide()}enable(){var e;null===(e=this.instance)||void 0===e||e.enable()}disable(){var e;null===(e=this.instance)||void 0===e||e.disable()}setProps(e){var t;this.props=e,null===(t=this.instance)||void 0===t||t.setProps(it(e))}setStatus(){var e,t;this.enabled?null===(e=this.instance)||void 0===e||e.enable():null===(t=this.instance)||void 0===t||t.disable()}get hostWidth(){return this.host.nativeElement.getBoundingClientRect().width+"px"}createInstance(){this.instance=xe(this.host.nativeElement,Object.assign(Object.assign(Object.assign({allowHTML:!0,appendTo:document.body},it(this.globalConfig)),it(this.props)),{onMount:e=>{var t,n;this.isVisible=!0,this.visible.next(!0),this.useHostWidth&&this.listenToHostResize(),null===(n=(t=this.globalConfig).onMount)||void 0===n||n.call(t,e)},onCreate:e=>{var t,n;this.className&&e.popper.classList.add(this.className),null===(n=(t=this.globalConfig).onCreate)||void 0===n||n.call(t,e)},onShow:e=>{var t,n;this.zone.run(()=>this.instance.setContent(this.resolveContent())),this.useHostWidth&&(e.popper.style.width=this.hostWidth),null===(n=(t=this.globalConfig).onShow)||void 0===n||n.call(t,e)},onHidden:e=>{var t,n;this.destroyView(),this.isVisible=!1,this.visible.next(!1),null===(n=(t=this.globalConfig).onHidden)||void 0===n||n.call(t,e)}})),this.setStatus(),this.setProps(this.props),"contextMenu"===this.variation&&this.handleContextMenu()}resolveContent(){this.viewOptions$||We(this.content)||($e(this.content)?this.viewOptions$={injector:i.u.create({providers:[{provide:Qe,useValue:this.instance}],parent:this.injector})}:Ze(this.content)&&(this.viewOptions$={context:{$implicit:this.hide.bind(this),data:this.data}})),this.viewRef=this.viewService.createView(this.content,Object.assign({vcr:this.vcr},this.viewOptions$));let e=this.viewRef.getElement();return We(e)&&this.globalConfig.beforeRender&&(e=this.globalConfig.beforeRender(e)),e}handleContextMenu(){Object(Re.a)(this.host.nativeElement,"contextmenu").pipe(Object(He.a)(this.destroyed)).subscribe(e=>{e.preventDefault(),this.instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:e.clientY,bottom:e.clientY,left:e.clientX,right:e.clientX})}),this.instance.show()})}checkOverflow(e){var t;e?this.instance?this.instance.enable():this.createInstance():null===(t=this.instance)||void 0===t||t.disable()}listenToHostResize(){nt(this.host.nativeElement).pipe(Object(He.a)(Object(Ne.a)(this.destroyed,this.visible))).subscribe(()=>{this.instance.popper.style.width=this.hostWidth})}};return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.G),i.Tb(ze),i.Tb(i.u),i.Tb(Ke),i.Tb(i.S),i.Tb(i.E),i.Tb(i.n))},e.\u0275dir=i.Ob({type:e,selectors:[["","tippy",""]],inputs:{onlyTextOverflow:"onlyTextOverflow",useHostWidth:"useHostWidth",appendTo:"appendTo",delay:"delay",duration:"duration",hideOnClick:"hideOnClick",interactive:"interactive",interactiveBorder:"interactiveBorder",maxWidth:"maxWidth",offset:"offset",placement:"placement",popperOptions:"popperOptions",showOnCreate:"showOnCreate",trigger:"trigger",triggerTarget:"triggerTarget",zIndex:"zIndex",lazy:"lazy",variation:"variation",isEnabled:"isEnabled",className:"className",data:"data",content:["tippy","content"]},outputs:{visible:"visible"},exportAs:["tippy"],features:[i.Fb]}),e})();function rt(e,t){return e in t}var st;let at=(()=>{let e=st=class{static forRoot(e={}){return{ngModule:st,providers:[{provide:ze,useValue:e}]}}};return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)}}),e})(),ct=(()=>{let e=class{constructor(e,t,n){this.globalConfig=e,this.view=t,this.injector=n}create(e,t,n={}){const o=Object.assign(Object.assign(Object.assign({onShow:e=>{var o;e.$viewOptions||(e.$viewOptions={},Ze(t)?e.$viewOptions.context={$implicit:e.hide.bind(e)}:$e(t)&&(e.$viewOptions.injector=i.u.create({providers:[{provide:Qe,useValue:e}],parent:n.injector||this.injector}))),e.view=this.view.createView(t,Object.assign(Object.assign({},n),e.$viewOptions)),e.setContent(e.view.getElement()),null===(o=null==n?void 0:n.onShow)||void 0===o||o.call(n,e)},onHidden:e=>{var t;e.view.destroy(),null===(t=null==n?void 0:n.onHidden)||void 0===t||t.call(n,e),e.view=null}},it(this.globalConfig)),this.globalConfig.variations[n.variation||this.globalConfig.defaultVariation]),it(n));return xe(e,o)}};return e.\u0275fac=function(t){return new(t||e)(i.dc(ze),i.dc(Ke),i.dc(i.u))},e.\u0275prov=Object(i.Pb)({factory:function(){return new e(Object(i.dc)(ze),Object(i.dc)(Ke),Object(i.dc)(i.r))},token:e,providedIn:"root"}),e})()},"3E0/":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("D0XW"),o=n("mlxB"),r=n("7o/Q"),s=n("WMd4");function a(e,t=i.a){const n=Object(o.a)(e)?+e-t.now():Math.abs(e);return e=>e.lift(new c(n,t))}class c{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new l(e,this.delay,this.scheduler))}}class l extends r.a{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,i=e.scheduler,o=e.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(o);if(n.length>0){const t=Math.max(0,n[0].time-i.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(l.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new u(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(s.a.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(s.a.createComplete()),this.unsubscribe()}}class u{constructor(e,t){this.time=e,this.notification=t}}},"3E8+":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return a}));var i=function(e){return e.CardPayment="CardPayment",e.StoredPayment="StoredPayment",e.ExternalPayment="ExternalPayment",e.PayPal="PayPal",e.OnlinePostBookingPayment="OnlinePostBookingPayment",e.Voucher="Voucher",e.VivaCash="VivaCash",e.AccountCredit="AccountCredit",e.Uplift="Uplift",e.NoPayment="NoPayment",e.ScotiaPoints="ScotiaPoints",e.Kueski="Kueski",e.Rappi="Rappi",e.PayLater="PayLater",e.PointsRewards="PointsRewards",e.PayLaterStaff="PayLaterStaff",e.Doters="Doters",e.Kiosk="PresentCardKiosk",e.YunoCard="YunoCard",e.YunoAsync_MercadoPagoCheckoutPro="YunoAsync_MercadoPagoCheckoutPro",e.YunoAsync="YunoAsync",e}({}),o=function(e){return e.IsRequired="IsRequired",e.IsOptional="IsOptional",e}({}),r=function(e){return e.AmericanExpress="AmericanExpress",e.Visa="Visa",e.MasterCard="MasterCard",e.Diners="Diners",e.VivaScotia="VivaScotia",e.Discover="Discover",e.Carnet="Carnet",e.HsbcViva="HsbcViva",e.HsbcVivaPlus="HsbcVivaPlus",e}({}),s=function(e){return e.AmericanExpress="AMERICAN_EXPRESS",e.Visa="VISA",e.MasterCard="MASTERCARD",e.Diners="DINERS",e.Discover="DISCOVER",e.Uatp="UATP",e}({}),a=function(e){return e.HSBCVIVAPLUS="HSBCVIVAPLUS",e.HSBCVIVA="HSBCVIVA",e}({})},"3Fdi":function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},"3N8a":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("quSY");class o extends i.a{constructor(e,t){super()}schedule(e,t=0){return this}}class r extends o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,i=void 0;try{this.work(e)}catch(o){n=!0,i=!!o&&o||new Error(o)}if(n)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},"3Pt+":function(e,t,n){"use strict";n.d(t,"a",(function(){return ge})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return Ze})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return Ke})),n.d(t,"f",(function(){return be})),n.d(t,"g",(function(){return Be})),n.d(t,"h",(function(){return nt})),n.d(t,"i",(function(){return fe})),n.d(t,"j",(function(){return xe})),n.d(t,"k",(function(){return Ue})),n.d(t,"l",(function(){return me})),n.d(t,"m",(function(){return Le})),n.d(t,"n",(function(){return Ne})),n.d(t,"o",(function(){return it})),n.d(t,"p",(function(){return qe})),n.d(t,"q",(function(){return Qe})),n.d(t,"r",(function(){return O})),n.d(t,"s",(function(){return c})),n.d(t,"t",(function(){return v})),n.d(t,"u",(function(){return _})),n.d(t,"v",(function(){return C})),n.d(t,"w",(function(){return _e})),n.d(t,"x",(function(){return Ee})),n.d(t,"y",(function(){return we})),n.d(t,"z",(function(){return $})),n.d(t,"A",(function(){return I})),n.d(t,"B",(function(){return et})),n.d(t,"C",(function(){return N})),n.d(t,"D",(function(){return B})),n.d(t,"E",(function(){return ot})),n.d(t,"F",(function(){return Ve})),n.d(t,"G",(function(){return Z})),n.d(t,"H",(function(){return z})),n.d(t,"I",(function(){return k})),n.d(t,"J",(function(){return Q})),n.d(t,"K",(function(){return Me}));var i=n("fXoL"),o=n("ofXK"),r=n("cp0P"),s=n("Cfvw"),a=n("lJxs");const c=new i.t("NgValueAccessor"),l={provide:c,useExisting:Object(i.Y)(()=>u),multi:!0};let u=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.I),i.Tb(i.n))},e.\u0275dir=i.Ob({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&i.hc("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[i.Gb([l])]}),e})();const d={provide:c,useExisting:Object(i.Y)(()=>p),multi:!0},h=new i.t("CompositionEventMode");let p=(()=>{class e{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Object(o.Q)()?Object(o.Q)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.I),i.Tb(i.n),i.Tb(h,8))},e.\u0275dir=i.Ob({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&i.hc("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[i.Gb([d])]}),e})(),g=(()=>{class e{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Ob({type:e}),e})(),f=(()=>{class e extends g{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(t){return m(t||e)},e.\u0275dir=i.Ob({type:e,features:[i.Eb]}),e})();const m=i.bc(f);function b(){throw new Error("unimplemented")}class v extends g{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return b()}get asyncValidator(){return b()}}class y{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let _=(()=>{class e extends y{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(v,2))},e.\u0275dir=i.Ob({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&i.Lb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[i.Eb]}),e})(),C=(()=>{class e extends y{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(f,2))},e.\u0275dir=i.Ob({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&i.Lb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[i.Eb]}),e})();function S(e){return null==e||0===e.length}const O=new i.t("NgValidators"),T=new i.t("NgAsyncValidators"),w=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class k{static min(e){return t=>{if(S(t.value)||S(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(S(t.value)||S(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return S(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return S(e.value)||w.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(S(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return k.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(S(e.value))return null;const i=e.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(A);return 0==t.length?null:function(e){return M(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(A);return 0==t.length?null:function(e){const n=function(e,t){return t.map(t=>t(e))}(e,t).map(E);return Object(r.a)(n).pipe(Object(a.a)(M))}}}function A(e){return null!=e}function E(e){const t=Object(i.xb)(e)?Object(s.a)(e):e;if(!Object(i.wb)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function M(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function P(e){return e.validate?t=>e.validate(t):e}function D(e){return e.validate?t=>e.validate(t):e}const x={provide:c,useExisting:Object(i.Y)(()=>I),multi:!0};let I=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.I),i.Tb(i.n))},e.\u0275dir=i.Ob({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&i.hc("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[i.Gb([x])]}),e})();const L={provide:c,useExisting:Object(i.Y)(()=>N),multi:!0};let R=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})(),N=(()=>{class e{constructor(e,t,n,i){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(v),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.I),i.Tb(i.n),i.Tb(R),i.Tb(i.u))},e.\u0275dir=i.Ob({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&i.hc("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Gb([L])]}),e})();const j={provide:c,useExisting:Object(i.Y)(()=>B),multi:!0};let B=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.I),i.Tb(i.n))},e.\u0275dir=i.Ob({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&i.hc("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[i.Gb([j])]}),e})();const F='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',H='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',U='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class Y{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+F)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${H}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${U}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+F)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+H)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const G={provide:c,useExisting:Object(i.Y)(()=>Z),multi:!0};function V(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Z=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=i.yb}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=V(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.I),i.Tb(i.n))},e.\u0275dir=i.Ob({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&i.hc("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[i.Gb([G])]}),e})(),$=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(V(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.n),i.Tb(i.I),i.Tb(Z,9))},e.\u0275dir=i.Ob({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const W={provide:c,useExisting:Object(i.Y)(()=>z),multi:!0};function K(e,t){return null==e?""+t:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let z=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=i.yb}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const i=e.item(t),o=this._getOptionValue(i.value);n.push(o)}}else{const e=t.options;for(let t=0;t<e.length;t++){const i=e.item(t);if(i.selected){const e=this._getOptionValue(i.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.I),i.Tb(i.n))},e.\u0275dir=i.Ob({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&i.hc("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[i.Gb([W])]}),e})(),Q=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(K(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(K(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.n),i.Tb(i.I),i.Tb(z,9))},e.\u0275dir=i.Ob({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();function X(e,t){return[...t.path,e]}function q(e,t){e||ne(t,"Cannot find control with"),t.valueAccessor||ne(t,"No value accessor for form control with"),e.validator=k.compose([e.validator,t.validator]),e.asyncValidator=k.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&J(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&J(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function J(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ee(e,t){null==e&&ne(t,"Cannot find control with"),e.validator=k.compose([e.validator,t.validator]),e.asyncValidator=k.composeAsync([e.asyncValidator,t.asyncValidator])}function te(e){return ne(e,"There is no FormControl instance attached to form control element with")}function ne(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function ie(e){return null!=e?k.compose(e.map(P)):null}function oe(e){return null!=e?k.composeAsync(e.map(D)):null}function re(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object(i.yb)(t,n.currentValue)}const se=[u,B,I,Z,z,N];function ae(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function ce(e,t){if(!t)return null;Array.isArray(t)||ne(e,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,o=void 0;return t.forEach(t=>{var r;t.constructor===p?n=t:(r=t,se.some(e=>r.constructor===e)?(i&&ne(e,"More than one built-in value accessor matches form control with"),i=t):(o&&ne(e,"More than one custom value accessor matches form control with"),o=t))}),o||i||n||(ne(e,"No valid value accessor for form control with"),null)}function le(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function ue(e,t,n,o){Object(i.ab)()&&"never"!==o&&((null!==o&&"once"!==o||t._ngModelWarningSentOnce)&&("always"!==o||n._ngModelWarningSent)||(Y.ngModelWarning(e),t._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}function de(e){const t=pe(e)?e.validators:e;return Array.isArray(t)?ie(t):t||null}function he(e,t){const n=pe(t)?t.asyncValidators:e;return Array.isArray(n)?oe(n):n||null}function pe(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class ge{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=de(e)}setAsyncValidators(e){this.asyncValidator=he(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING";const t=E(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let i=e;return t.forEach(e=>{i=i instanceof me?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof be&&i.at(e)||null}),i}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new i.p,this.statusChanges=new i.p}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pe(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class fe extends ge{constructor(e=null,t,n){super(de(t),he(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class me extends ge{constructor(e,t,n){super(de(t),he(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof fe?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,i)=>{t=t||this.contains(i)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,i)=>{n=t(n,e,i)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class be extends ge{constructor(e,t,n){super(de(t),he(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof fe?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const ve={provide:f,useExisting:Object(i.Y)(()=>_e)},ye=(()=>Promise.resolve(null))();let _e=(()=>{class e extends f{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new i.p,this.form=new me({},ie(e),oe(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ye.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),q(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ye.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),le(this._directives,e)})}addFormGroup(e){ye.then(()=>{const t=this._findContainer(e.path),n=new me({});ee(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ye.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){ye.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,ae(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(O,10),i.Tb(T,10))},e.\u0275dir=i.Ob({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&i.hc("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Gb([ve]),i.Eb]}),e})(),Ce=(()=>{class e extends f{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return X(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ie(this._validators)}get asyncValidator(){return oe(this._asyncValidators)}_checkParentType(){}}return e.\u0275fac=function(t){return Se(t||e)},e.\u0275dir=i.Ob({type:e,features:[i.Eb]}),e})();const Se=i.bc(Ce);class Oe{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${F}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${H}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${U}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${H}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${U}`)}}const Te={provide:f,useExisting:Object(i.Y)(()=>we)};let we=(()=>{class e extends Ce{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof e||this._parent instanceof _e||Oe.modelGroupParentException()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(f,5),i.Tb(O,10),i.Tb(T,10))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[i.Gb([Te]),i.Eb]}),e})();const ke={provide:v,useExisting:Object(i.Y)(()=>Ee)},Ae=(()=>Promise.resolve(null))();let Ee=(()=>{class e extends v{constructor(e,t,n,o){super(),this.control=new fe,this._registered=!1,this.update=new i.p,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=ce(this,o)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),re(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?X(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ie(this._rawValidators)}get asyncValidator(){return oe(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){q(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof we)&&this._parent instanceof Ce?Oe.formGroupNameException():this._parent instanceof we||this._parent instanceof _e||Oe.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Oe.missingNameException()}_updateValue(e){Ae.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;Ae.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(f,9),i.Tb(O,10),i.Tb(T,10),i.Tb(c,10))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Gb([ke]),i.Eb,i.Fb]}),e})(),Me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Ob({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const Pe=new i.t("NgModelWithFormControlWarning"),De={provide:v,useExisting:Object(i.Y)(()=>xe)};let xe=(()=>{class e extends v{constructor(e,t,n,o){super(),this._ngModelWarningConfig=o,this.update=new i.p,this._ngModelWarningSent=!1,this._rawValidators=e||[],this._rawAsyncValidators=t||[],this.valueAccessor=ce(this,n)}set isDisabled(e){Y.disabledAttrWarning()}ngOnChanges(t){this._isControlChanged(t)&&(q(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),re(t,this.viewModel)&&(ue("formControl",e,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return ie(this._rawValidators)}get asyncValidator(){return oe(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(O,10),i.Tb(T,10),i.Tb(c,10),i.Tb(Pe,8))},e.\u0275dir=i.Ob({type:e,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Gb([De]),i.Eb,i.Fb]}),e._ngModelWarningSentOnce=!1,e})();const Ie={provide:f,useExisting:Object(i.Y)(()=>Le)};let Le=(()=>{class e extends f{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new i.p}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return q(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){le(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);ee(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);ee(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,ae(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){t.valueAccessor.registerOnChange(()=>te(t)),t.valueAccessor.registerOnTouched(()=>te(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&q(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=ie(this._validators);this.form.validator=k.compose([this.form.validator,e]);const t=oe(this._asyncValidators);this.form.asyncValidator=k.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||Y.missingFormException()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(O,10),i.Tb(T,10))},e.\u0275dir=i.Ob({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&i.hc("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Gb([Ie]),i.Eb,i.Fb]}),e})();const Re={provide:f,useExisting:Object(i.Y)(()=>Ne)};let Ne=(()=>{class e extends Ce{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){Fe(this._parent)&&Y.groupParentException()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(f,13),i.Tb(O,10),i.Tb(T,10))},e.\u0275dir=i.Ob({type:e,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[i.Gb([Re]),i.Eb]}),e})();const je={provide:f,useExisting:Object(i.Y)(()=>Be)};let Be=(()=>{class e extends f{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return X(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return ie(this._validators)}get asyncValidator(){return oe(this._asyncValidators)}_checkParentType(){Fe(this._parent)&&Y.arrayParentException()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(f,13),i.Tb(O,10),i.Tb(T,10))},e.\u0275dir=i.Ob({type:e,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[i.Gb([je]),i.Eb]}),e})();function Fe(e){return!(e instanceof Ne||e instanceof Le||e instanceof Be)}const He={provide:v,useExisting:Object(i.Y)(()=>Ue)};let Ue=(()=>{class e extends v{constructor(e,t,n,o,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.update=new i.p,this._ngModelWarningSent=!1,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=ce(this,o)}set isDisabled(e){Y.disabledAttrWarning()}ngOnChanges(t){this._added||this._setUpControl(),re(t,this.viewModel)&&(ue("formControlName",e,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return X(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ie(this._rawValidators)}get asyncValidator(){return oe(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Ne)&&this._parent instanceof Ce?Y.ngModelGroupException():this._parent instanceof Ne||this._parent instanceof Le||this._parent instanceof Be||Y.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(f,13),i.Tb(O,10),i.Tb(T,10),i.Tb(c,10),i.Tb(Pe,8))},e.\u0275dir=i.Ob({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Gb([He]),i.Eb,i.Fb]}),e._ngModelWarningSentOnce=!1,e})();const Ye={provide:O,useExisting:Object(i.Y)(()=>Ve),multi:!0},Ge={provide:O,useExisting:Object(i.Y)(()=>Ze),multi:!0};let Ve=(()=>{class e{get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()}validate(e){return this.required?k.required(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Ob({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&i.Ib("required",t.required?"":null)},inputs:{required:"required"},features:[i.Gb([Ye])]}),e})(),Ze=(()=>{class e extends Ve{validate(e){return this.required?k.requiredTrue(e):null}}return e.\u0275fac=function(t){return $e(t||e)},e.\u0275dir=i.Ob({type:e,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&i.Ib("required",t.required?"":null)},features:[i.Gb([Ge]),i.Eb]}),e})();const $e=i.bc(Ze),We={provide:O,useExisting:Object(i.Y)(()=>Ke),multi:!0};let Ke=(()=>{class e{set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?k.email(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Ob({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[i.Gb([We])]}),e})();const ze={provide:O,useExisting:Object(i.Y)(()=>Qe),multi:!0};let Qe=(()=>{class e{ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null==this.minlength?null:this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=k.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Ob({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&i.Ib("minlength",t.minlength?t.minlength:null)},inputs:{minlength:"minlength"},features:[i.Gb([ze]),i.Fb]}),e})();const Xe={provide:O,useExisting:Object(i.Y)(()=>qe),multi:!0};let qe=(()=>{class e{ngOnChanges(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null!=this.maxlength?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=k.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Ob({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&i.Ib("maxlength",t.maxlength?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i.Gb([Xe]),i.Fb]}),e})();const Je={provide:O,useExisting:Object(i.Y)(()=>et),multi:!0};let et=(()=>{class e{ngOnChanges(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=k.pattern(this.pattern)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Ob({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&i.Ib("pattern",t.pattern?t.pattern:null)},inputs:{pattern:"pattern"},features:[i.Gb([Je]),i.Fb]}),e})(),tt=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)}}),e})(),nt=(()=>{class e{group(e,t=null){const n=this._reduceControls(e);let i=null,o=null,r=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,o=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,o=null!=t.asyncValidator?t.asyncValidator:null)),new me(n,{asyncValidators:o,updateOn:r,validators:i})}control(e,t,n){return new fe(e,t,n)}array(e,t,n){const i=e.map(e=>this._createControl(e));return new be(i,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof fe||e instanceof me||e instanceof be?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})(),it=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},providers:[R],imports:[tt]}),e})(),ot=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Pe,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},providers:[nt,R],imports:[tt]}),e})()},"3UWI":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("D0XW"),o=n("l7GE"),r=n("ZUHj");class s{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new a(e,this.durationSelector))}}class a extends o.a{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const i=Object(r.a)(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var c=n("PqYM");function l(e,t=i.a){return n=()=>Object(c.a)(e,t),function(e){return e.lift(new s(n))};var n}},"3XJ7":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("fXoL"),o=n("lUod"),r=n("WyaX");class s{constructor(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n}}class a{constructor(e,t,n,o,r,s,a,c){this._viewContainerRef=e,this._renderer=t,this._elementRef=n,this._injector=o,this._componentFactoryResolver=r,this._ngZone=s,this._applicationRef=a,this._posService=c,this.onBeforeShow=new i.p,this.onShown=new i.p,this.onBeforeHide=new i.p,this.onHidden=new i.p,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=i.u.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof i.n&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const e=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!e)return;e.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){var t,n,i;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const o=this._componentRef.location.nativeElement;return o.parentNode.removeChild(o),(null===(t=this._contentRef)||void 0===t?void 0:t.componentRef)&&this._contentRef.componentRef.destroy(),this._viewContainerRef&&(null===(n=this._contentRef)||void 0===n?void 0:n.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),(null===(i=this._contentRef)||void 0===i?void 0:i.viewRef)&&this._contentRef.viewRef.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){var t;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||(null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement);const n=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),i=this._listenOpts.show=t=>{e.show?e.show(t):this.show(t),t()};return this._renderer&&(this._unregisterListenersFn=Object(o.d)(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:n,toggle:e=>{this.isShown?n():i(e)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=Object(o.g)(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}if(this._listenOpts.outsideEsc&&this._renderer&&this._elementRef){const e=this._componentRef.location.nativeElement;this._globalListener=Object(o.f)(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()})}}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){!this._zoneSubscription&&this.attachment&&(this.onShown.subscribe(()=>{var e;this._posService.position({element:null===(e=this._componentRef)||void 0===e?void 0:e.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,n){if(!e)return new s([]);if(e instanceof i.P){if(this._viewContainerRef){const n=this._viewContainerRef.createEmbeddedView(e,t);return n.markForCheck(),new s([n.rootNodes],n)}const n=e.createEmbeddedView({});return this._applicationRef.attachView(n),new s([n.rootNodes],n)}if("function"==typeof e){const t=this._componentFactoryResolver.resolveComponentFactory(e),o=i.u.create({providers:this._providers,parent:this._injector}),r=t.create(o);return Object.assign(r.instance,n),this._applicationRef.attachView(r.hostView),new s([[r.location.nativeElement]],r.hostView,r)}const o=this._renderer?[this._renderer.createText(""+e)]:[];return new s([o])}}let c=(()=>{class e{constructor(e,t,n,i,o){this._componentFactoryResolver=e,this._ngZone=t,this._injector=n,this._posService=i,this._applicationRef=o}createLoader(e,t,n){return new a(t,n,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return e.\u0275fac=function(t){return new(t||e)(i.dc(i.l),i.dc(i.E),i.dc(i.u),i.dc(r.b),i.dc(i.g))},e.\u0275prov=Object(i.Pb)({factory:function(){return new e(Object(i.dc)(i.l),Object(i.dc)(i.E),Object(i.dc)(i.r),Object(i.dc)(r.b),Object(i.dc)(i.g))},token:e,providedIn:"root"}),e})()},"3kwf":function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var i=function(e){return e._blank="_blank",e._self="_self",e._parent="_parent",e._self_internal="_self-internal",e}({}),o=function(e){return e.BUTTON="BUTTON",e.LINK="LINK",e}({}),r=function(e){return e.Image="Image",e.Video="Video",e.Iframe="Iframe",e}({}),s=function(e){return e.Row="Row",e.Column="Column",e}({}),a=function(e){return e.items="items",e.carousel="carousel",e.card="card",e.product="product",e.dynamic="dynamic",e["product-cards"]="product-cards",e["service-cards"]="service-cards",e["low-fare-widget"]="low-fare-widget",e["dynamic-banners"]="dynamic-banners",e["homepage-payments"]="homepage-payments",e["promotional-modals"]="promotional-modals",e}({}),c=function(e){return e.Heading="heading",e.TextBlock="textBlock",e.CollapsibleList="collapsibleList",e.TextList="textList",e.StickyVerticalMenu="stickyVerticalMenu",e.StickyHorizontalMenu="stickyHorizontalMenu",e.MenuItem="menuItem",e.Header="header",e.ImageWithText="imageWithText",e.GalleryImageSlider="galleryImageSlider",e.VideoWithTitle="videoWithTitle",e.PromoCardGroup="promoCardGroup",e.PromoCard="promoCard",e.CityPromo="cityPromo",e.CardGroup="cardGroup",e.Disclaimer="disclaimer",e.CallToAction="cta",e.ImageWithTitle="imageWithTitle",e.LinkCard="linkCard",e.ListItem="listItem",e.ItemsGroup="itemsGroup",e}({}),l=function(e){return e.details="details",e.trips="trips",e.vivafan="vivafan",e.faceid="faceid",e.payment_methods="payment_methods",e.companions="companions",e.settings="settings",e.doters="doters",e.myidtravel="myidtravel",e.gift="gift",e}({})},"4GIP":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={firstName:{required:"BOOKER_ERROR_FIELD-REQUIRED",minlength:"BOOKER_ERROR_MINIMUM-FIRSTNAME",maxlength:"BOOKER_ERROR_MAXIMUM-FIRSTNAME",pattern:"BOOKER_ERROR_SPECIAL-CHARACTERS"},lastName:{required:"BOOKER_ERROR_FIELD-REQUIRED",minlength:"BOOKER_ERROR_MINIMUM-LASTNAME",maxlength:"BOOKER_ERROR_MAXIMUM-LASTNAME",pattern:"BOOKER_ERROR_SPECIAL-CHARACTERS"},gender:{required:"BOOKER_ERROR_FIELD-REQUIRED"},dateOfBirth:{required:"BOOKER_ERROR_FIELD-REQUIRED",type:"BOOKER_ERROR_PASSENGER-INFO",departureDate:"BOOKER_ERROR_INVALID-DATE"},residentCountry:{required:"BOOKER_ERROR_COUNTRY-EMPTY"}}},"4I5i":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})()},"4fRq":function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},"4kuk":function(e,t,n){var i=n("SfRM"),o=n("Hvzi"),r=n("u8Dt"),s=n("ekgI"),a=n("JSQU");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=r,c.prototype.has=s,c.prototype.set=a,e.exports=c},"4nN9":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),o=n("fXoL"),r=n("qcmc");let s=(()=>{class e{constructor(e){this.staticCtasSvc=e,this.prevCodeValue=""}transform(e){return e||"string"==typeof e?(this.prevCodeValue===e||(this.prevCodeValue=e,this.cta=void 0,this.getCtaUrl(e)),this.cta):this.cta}getCtaUrl(e){return Object(i.a)(this,void 0,void 0,(function*(){yield this.staticCtasSvc.ready;const t=this.staticCtasSvc.getCta(e);this.cta=t||void 0}))}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(r.a))},e.\u0275pipe=o.Sb({name:"cmsStaticCtas",type:e,pure:!1}),e})()},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ZUHj"),o=n("l7GE"),r=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function c(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(c((n,i)=>Object(a.a)(e(n,i)).pipe(Object(s.a)((e,o)=>t(n,e,i,o))),n)):("number"==typeof t&&(n=t),t=>t.lift(new l(e,n)))}class l{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new u(e,this.project,this.concurrent))}}class u extends o.a{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const o=new r.a(this,t,n),s=this.destination;s.add(o);const a=Object(i.a)(this,e,void 0,void 0,o);a!==o&&s.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,i,o){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("7o/Q");class o extends i.a{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"5KMX":function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return c}));var i=n("ofXK"),o=n("wMS7"),r=n("fXoL"),s=n("jhN1");const a=new r.t("Config for DOMPurify",{factory:()=>({}),providedIn:"root"}),c=new r.t("Hooks for DOMPurify",{factory:()=>[],providedIn:"root"}),l=new r.t("A function that sanitizes value for a CSS rule",{factory:()=>e=>e,providedIn:"root"}),u=o;let d=(()=>{class e{constructor(e,t,{defaultView:n},i){this.config=e,this.sanitizeStyle=t,this.domPurify=u(n),i.forEach(({name:e,hook:t})=>{this.domPurify.addHook(e,t)})}sanitize(e,t,n=this.config){if(e===r.M.SCRIPT)throw new Error("DOMPurify does not support SCRIPT context");return e===r.M.STYLE?this.sanitizeStyle(String(t)):this.domPurify.sanitize(String(t||""),n)}}return e.\u0275fac=function(t){return new(t||e)(r.dc(a),r.dc(l),r.dc(i.e),r.dc(c))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=Object(r.W)({factory:function(){return new e(Object(r.Z)(a),Object(r.Z)(l),Object(r.Z)(i.e),Object(r.Z)(c))},token:e,providedIn:"root"}),e})(),h=(()=>{class e{constructor(e,t){this.sanitizer=e,this.domSanitizer=t}transform(e,t=r.M.HTML,n){return this.bypassSecurityTrust(t,this.sanitizer.sanitize(t,e,n))}bypassSecurityTrust(e,t){switch(e){case r.M.HTML:return this.domSanitizer.bypassSecurityTrustHtml(t);case r.M.STYLE:return this.domSanitizer.bypassSecurityTrustStyle(t);case r.M.URL:return this.domSanitizer.bypassSecurityTrustUrl(t);case r.M.RESOURCE_URL:return this.domSanitizer.bypassSecurityTrustResourceUrl(t);default:return null}}}return e.\u0275fac=function(t){return new(t||e)(r.Tb(d),r.Tb(s.b))},e.\u0275pipe=r.Sb({name:"dompurify",type:e,pure:!0}),e})(),p=(()=>{class e{}return e.\u0275mod=r.Rb({type:e}),e.\u0275inj=r.Qb({factory:function(t){return new(t||e)}}),e})()},"5Tg0":function(e,t,n){(function(e){var i=n("Kz5y"),o=t&&!t.nodeType&&t,r=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=r&&r.exports===o?i.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=a?a(n):new e.constructor(n);return e.copy(i),i}}).call(this,n("2pl3")(e))},"5oMp":function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},"6oyg":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("AytR"),o=n("fXoL");let r=(()=>{class e{constructor(){}static generateDynamicLinkForApp(e,t){const n=encodeURIComponent(`${i.g.firebase.dynamicLinks.domain}${e}`),o=encodeURIComponent(""+t),r=encodeURIComponent(""+i.g.firebase.dynamicLinks.apn),s=encodeURIComponent(""+i.g.firebase.dynamicLinks.ibi);let a=`${i.g.firebase.dynamicLinks.domain}?link=${n}&apn=${r}&afl=${o}&ibi=${s}&ifl=${o}&ofl=${o}`;return i.g.firebase.dynamicLinks.debug&&(a+="&d=1"),a}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"6sVZ":function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},"77Zs":function(e,t,n){var i=n("Xi7e");e.exports=function(){this.__data__=new i,this.size=0}},"7GkX":function(e,t,n){var i=n("b80T"),o=n("A90E"),r=n("MMmD");e.exports=function(e){return r(e)?i(e):o(e)}},"7Hc7":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));let i=1;const o=(()=>Promise.resolve())(),r={};function s(e){return e in r&&(delete r[e],!0)}const a={setImmediate(e){const t=i++;return r[t]=!0,o.then(()=>s(t)&&e()),t},clearImmediate(e){s(e)}};var c=n("3N8a");class l extends c.a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=a.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(a.clearImmediate(t),e.scheduled=void 0)}}var u=n("IjjT");class d extends u.a{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,i=-1,o=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++i<o&&(e=t.shift()));if(this.active=!1,n){for(;++i<o&&(e=t.shift());)e.unsubscribe();throw n}}}const h=new d(l)},"7Ix3":function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},"7Jl0":function(e,t,n){var i,o,r;!function(s){if("object"==typeof e.exports){var a=s(0,t);void 0!==a&&(e.exports=a)}else o=[n,t],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;t.default=["es-US",[["a.\xa0m.","p.\xa0m."],n,n],n,[["D","L","M","M","J","V","S"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],n,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],n,[["a. C.","d. C."],n,["antes de Cristo","despu\xe9s de Cristo"]],0,[6,0],["d/M/y","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1} {0}",n,"{1} 'a' 'las' {0}",n],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4#,##0.00","#E0"],"USD","$","d\xf3lar estadounidense",{AUD:[n,"$"],BRL:[n,"R$"],BYN:[n,"p."],CAD:[n,"$"],CNY:[n,"\xa5"],ESP:["\u20a7"],EUR:[n,"\u20ac"],GBP:[n,"\xa3"],HKD:[n,"$"],ILS:[n,"\u20aa"],INR:[n,"\u20b9"],KRW:[n,"\u20a9"],MXN:[n,"$"],NZD:[n,"$"],TWD:[n,"NT$"],VND:[n,"\u20ab"],XAF:[],XCD:[n,"$"],XOF:[]},"ltr",function(e){return 1===e?1:5}]}))},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("n6bG"),o=n("gRHU"),r=n("quSY"),s=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class l extends r.a{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o.a;break;case 1:if(!e){this.destination=o.a;break}if("object"==typeof e){e instanceof l?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,e,t,n)}}[s.a](){return this}static create(e,t,n){const i=new l(e,t,n);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class u extends l{constructor(e,t,n,r){let s;super(),this._parentSubscriber=e;let a=this;Object(i.a)(t)?s=t:t&&(s=t.next,n=t.error,r=t.complete,t!==o.a&&(a=Object.create(t),Object(i.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(c.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(c.a)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(e,t,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return a.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(Object(c.a)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},"8Awy":function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var i=n("Elrx"),o=n("fXoL"),r=n("ChtM"),s=n("ofXK");let a=(()=>{class e{constructor(e){this.currency=e,this.digitsRegex=/^\d(\.\d(\-\d){0,1}){0,1}$/}transform(e,t=this.currency.cultureCode,n=this.currency.code,i="symbol",o){const r=this.getDigitsConfig(o);let s=e;0===r.maximumFractionDigits&&0===r.minimumFractionDigits&&(s=Math.ceil(s));const a=Object.assign({currency:n||this.currency.code},r);return i?(a.style="currency",a.currencyDisplay=i):(a.style="decimal",o||this.setConfigForDecimalStyle(a,t||this.currency.cultureCode,n||this.currency.code)),new Intl.NumberFormat(t||this.currency.cultureCode,a).format(s)}getDigitsConfig(e){const t={};if(e)if(this.digitsRegex.test(e))try{const n=e.split(".");if(n.length<=0)return t;const i=parseInt(n[0],10);if(i>0&&(t.minimumIntegerDigits=i),n.length>1){const e=n[1].split("-"),i=parseInt(e[0],10);if(i>=0&&(t.minimumFractionDigits=i),e.length>1){const n=parseInt(e[1],10);n>=0&&(t.maximumFractionDigits=n)}}}catch(n){return console.error("::IntlCurrencyPipe::",n),{}}else console.error("::IntlCurrencyPipe::",'Invalid "digits" format!! Received: '+e);return t}setConfigForDecimalStyle(e,t,n){const i=new Intl.NumberFormat(t,{style:"currency",currency:n}).resolvedOptions();e.minimumIntegerDigits=i.minimumIntegerDigits,e.minimumFractionDigits=i.minimumFractionDigits,e.maximumFractionDigits=i.maximumFractionDigits}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(i.a))},e.\u0275pipe=o.Sb({name:"intlCurrency",type:e,pure:!0}),e})();var c=n("VXoX");function l(e,t){if(1&e&&(o.Zb(0,"span",6),o.Sc(1),o.Yb()),2&e){const e=o.jc();o.sc("ngClass",e.styleConfig.sign||e.styleConfig.main)("ngStyle",e.priceStyle),o.Hb(1),o.Uc(" ",e.pricePrefix," ")}}const u=function(e){return{color:e}};function d(e,t){if(1&e&&(o.Zb(0,"span",7),o.Ub(1,"em",8),o.Yb()),2&e){const e=o.jc();o.sc("ngClass",e.styleConfig.sign||e.styleConfig.main)("ngStyle",o.vc(4,u,e.priceIconColor)),o.Hb(1),o.sc("ngClass",e.faIcon)("ngStyle",e.mainIconStyle)}}const h=function(e){return{"app-price-original":e}},p=function(e,t){return{"text-decoration":e,opacity:t}},g=function(e,t,n){return[e,t,"","",n]};function f(e,t){if(1&e&&(o.Zb(0,"span",12),o.Zb(1,"span",13),o.Sc(2),o.kc(3,"intlCurrency"),o.Yb(),o.Yb()),2&e){const e=o.jc(2);o.sc("ngClass",o.vc(10,h,e.isOffer||e.isOfferCAU))("ngStyle",e.offerStyle),o.Hb(1),o.sc("ngStyle",o.wc(12,p,e.slashedOffer?"line-through":"none",e.slashedOffer?"0.5":1)),o.Hb(1),o.Uc(" ",o.pc(3,4,o.xc(15,g,e.originalAmount,e._currency.cultureCode,e.showDecimals&&!e.isInt(e.originalAmount)?null:"1.0-0"))," ")}}function m(e,t){if(1&e&&(o.Zb(0,"span"),o.Ub(1,"i",15),o.Yb()),2&e){const e=o.jc(3);o.Hb(1),o.sc("ngClass",e.unitContent)}}function b(e,t){if(1&e&&(o.Zb(0,"span"),o.Sc(1),o.Yb()),2&e){const e=o.jc(3);o.Hb(1),o.Uc(" ",e.unitContent,"")}}function v(e,t){if(1&e&&(o.Xb(0),o.Zb(1,"span",14),o.Sc(2," / "),o.Yb(),o.Qc(3,m,2,1,"span",11),o.Qc(4,b,2,1,"span",11),o.Wb()),2&e){const e=o.jc(2);o.Hb(3),o.sc("ngIf",!e.useText),o.Hb(1),o.sc("ngIf",e.useText)}}function y(e,t){if(1&e&&(o.Zb(0,"div",9),o.Qc(1,f,4,19,"span",10),o.Zb(2,"span"),o.Sc(3),o.kc(4,"cmsTranslate"),o.Yb(),o.Qc(5,v,5,2,"ng-container",11),o.Yb()),2&e){const e=o.jc();o.sc("ngStyle",o.vc(6,u,e.priceIconColor)),o.Hb(1),o.sc("ngIf",e.showOriginalAmount),o.Hb(2),o.Uc(" ",e.showDoters?o.lc(4,4,e.dotersTotal?"BOOKER_LABEL_DOTERS-TOTAL-PRICE":"BOOKER_LABEL_DOTERS"):e._currency.code," "),o.Hb(2),o.sc("ngIf",e.unitContent)}}const _=function(e){return{"app-price-offer":e}};let C=(()=>{class e{constructor(e,t){this.appCurrency=e,this.currencySvc=t,this.amount=0,this.slashedOffer=!0,this.useText=!1,this.unitContent="fas fa-user",this.pricePrefix="",this.isOffer=!1,this.isOfferCAU=!1,this.size="medium",this.hideCAU=!1,this.showDecimals=!1,this.priceClass="",this.offerStyle="",this.showDoters=!1,this.dotersTotal=!1,this.onlyNumber=!1,this.fontSizeConfig={small:{main:"h4"},smallCOP:{main:"h4 COP-price",sign:"small-title"},medium:{main:"h3"},big:{main:"h2"}},this.currencyIcon=this.faCurrencyIcon}get faCurrencyIcon(){switch(this._currency.code){case"MXN":case"AUD":case"USD":case"CAD":return"dollar";case"GBP":return"pound";case"EUR":return"euro";default:return"dollar"}}ngOnInit(){}ngOnChanges(e){if(void 0!==e.currencyCode&&(e.currencyCode.firstChange||e.currencyCode.currentValue!==e.currencyCode.previousValue)){const e=this.currencySvc._currencies.find(e=>e.code===this.currencyCode);e&&(this.currency=e),this.currencyIcon=this.faCurrencyIcon}}get _currency(){return this.currency||this.appCurrency}get faIcon(){return`fas fa-${this.currencyIcon||"dollar"}-sign`}get showOriginalAmount(){return!!this.originalAmount&&this.originalAmount!==this.amount}get styleConfig(){return this.fontSizeConfig["COP"===this._currency.code?"smallCOP":this.size]||this.fontSizeConfig.medium}isInt(e){return Number.isInteger(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(i.a),o.Tb(r.a))},e.\u0275cmp=o.Nb({type:e,selectors:[["app-price"]],inputs:{amount:"amount",originalAmount:"originalAmount",slashedOffer:"slashedOffer",currencyCode:"currencyCode",useText:"useText",unitContent:"unitContent",pricePrefix:"pricePrefix",isOffer:"isOffer",isOfferCAU:"isOfferCAU",size:"size",hideCAU:"hideCAU",showDecimals:"showDecimals",priceClass:"priceClass",priceStyle:"priceStyle",mainIconStyle:"mainIconStyle",priceIconColor:"priceIconColor",offerStyle:"offerStyle",showDoters:"showDoters",dotersTotal:"dotersTotal",onlyNumber:"onlyNumber"},features:[o.Fb],decls:8,vars:20,consts:[[1,"app-price",3,"ngClass"],[1,"d-flex","justify-content-end","align-items-center","app-price-main",3,"ngClass"],["class","default-price prefix",3,"ngClass","ngStyle",4,"ngIf"],["class","app-price-sign",3,"ngClass","ngStyle",4,"ngIf"],[1,"default-price",3,"ngClass","ngStyle"],["class","d-flex flex-row justify-content-end align-items-center small-title app-price-cau",3,"ngStyle",4,"ngIf"],[1,"default-price","prefix",3,"ngClass","ngStyle"],[1,"app-price-sign",3,"ngClass","ngStyle"],[3,"ngClass","ngStyle"],[1,"d-flex","flex-row","justify-content-end","align-items-center","small-title","app-price-cau",3,"ngStyle"],["class","mr-5 opacity-10",3,"ngClass","ngStyle",4,"ngIf"],[4,"ngIf"],[1,"mr-5","opacity-10",3,"ngClass","ngStyle"],[3,"ngStyle"],[1,"app-price-unit-divider"],[3,"ngClass"]],template:function(e,t){1&e&&(o.Zb(0,"div",0),o.Zb(1,"div",1),o.Qc(2,l,2,3,"span",2),o.Qc(3,d,2,6,"span",3),o.Zb(4,"span",4),o.Sc(5),o.kc(6,"intlCurrency"),o.Yb(),o.Yb(),o.Qc(7,y,6,8,"div",5),o.Yb()),2&e&&(o.sc("ngClass",o.vc(14,_,t.isOffer)),o.Hb(1),o.sc("ngClass",t.priceClass),o.Hb(1),o.sc("ngIf",t.pricePrefix),o.Hb(1),o.sc("ngIf",!t.showDoters&&!t.onlyNumber),o.Hb(1),o.sc("ngClass",t.styleConfig.main)("ngStyle",t.priceStyle),o.Hb(1),o.Uc(" ",o.pc(6,8,o.xc(16,g,t.amount,t._currency.cultureCode,t.showDecimals&&!t.isInt(t.amount)?null:"1.0-0"))," "),o.Hb(2),o.sc("ngIf",!t.hideCAU&&!t.onlyNumber))},directives:[s.r,s.u,s.x],pipes:[a,c.a],encapsulation:2}),e})()},"8KPo":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("fXoL"),o=n("AytR"),r=n("lJxs"),s=n("wd/R"),a=n("bEA1"),c=n("9yTC"),l=n("RJ73"),u=n("RbsG"),d=n("tk/3"),h=n("BifP"),p=n("uHNT"),g=n("ChtM"),f=n("G/yK");let m=(()=>{class e{constructor(e,t,n,i,o,r){this.http=e,this.cmsConfig=t,this.flightAlertsService=n,this.currency=i,this.locale=o,this.flightStationsService=r,this.lastBookingDate=s(this.cmsConfig._cmsConfig.lastBookingDate)}getCalendarAvailability(e,t,n=l.i.AIRPORT,i){var a,c,u,d,h,p;let g=!1,f=!1;const m=null===(u=null===(c=null===(a=this.cmsConfig._cmsConfig.globalSettings)||void 0===a?void 0:a.maacStations)||void 0===c?void 0:c[e])||void 0===u?void 0:u.searchCode;m&&(e=m,g=!0);const b=null===(p=null===(h=null===(d=this.cmsConfig._cmsConfig.globalSettings)||void 0===d?void 0:d.maacStations)||void 0===h?void 0:h[t])||void 0===p?void 0:p.searchCode;b&&(t=b,f=!0);const v={StartDate:s().format("YYYY-MM-DD"),EndDate:this.lastBookingDate.format("YYYY-MM-DD"),"Origin.Code":e,"Destination.Code":t,"Origin.Type":n,"Destination.Type":n,IncludeAlternativeStationsInOrigin:g,IncludeAlternativeStationsInDestination:f};return this.http.get(o.g.CALENDAR_AVAILABILITY_URL,{params:v}).pipe(Object(r.a)(e=>e.data.availableDates),Object(r.a)(e=>{const t=[];return e.forEach(e=>{const n=s(e.date,"YYYY-MM-DD");n.isValid()&&t.push(i?{date:n,availableDirectFlights:e.availableDirectFlights}:n)}),t}))}getSearchAvailability(e){return this.http.post(o.g.SEARCH_AVAILABILITY_URL,e).pipe(Object(r.a)(e=>(e.warnings&&e.warnings.length&&this.flightAlertsService.addCurrentAlert(e.warnings),e.data&&e.data.routes&&e.data.routes.length&&(e.data.routes.forEach(e=>{this.flightAlertsService.addCurrentAlert(e.notifications)}),this.isMulticitySearch(e.data.routes)||this.flightAlertsService.removeCurrentAlert({code:"MulticityFlights"})),e.data)))}isMulticitySearch(e){return e.length>2||2===e.length&&(e[0].destination.code!==e[1].origin.code||e[0].origin.code!==e[1].destination.code)}getSearchJourneysAvailability(e){return this.http.post(o.g.SEARCH_JOURNEY_AVAILABILITY_URL,e).pipe(Object(r.a)(e=>(e.warnings&&e.warnings.length&&this.flightAlertsService.addCurrentAlert(e.warnings),e.data&&e.data.routes&&e.data.routes.length&&e.data.routes.forEach(e=>{this.flightAlertsService.addCurrentAlert(e.notifications)}),e.data)))}changeJourneysToBasket(e){return this.http.post(""+o.g.CHANGE_JOURNEYS_AVAILABILITY_URL,e)}createSearchJourneysInputObject(e,t){if(e.itineraryCode&&e.itineraryCode.length>0){const n=new a.d;return n.routes=e.itineraryCode.map(e=>this.createSearchRouteRequest(e)),e.originalJourneys.forEach((e,t)=>{n.routes[t].originalJourneyKey=e}),n.basketId=t,e.mmbSearchType&&(n.searchType=e.mmbSearchType,e.mmbSearchType===a.a.FlyAhead&&Array.isArray(n.routes)&&n.routes.forEach(t=>{t.includeAlternativeStationsInOrigin=!!e.isFlyAheadCDMXSearch,t.includeAlternativeStationsInDestination=!!e.isFlyAheadCDMXSearch})),e.alternateStations&&(n.routes=this.patchMaacRoutes(n.routes,e.alternateStations)),n}}createSearchRequestObject(e,t=-1,n){if(e.itineraryCode&&e.itineraryCode.length>0&&e.passengers){const i=new a.e;return i.currencyCode=this.currency.selectedCurrencyCode,i.language=this.locale,i.routes=-1===t?e.itineraryCode.map(e=>this.createSearchRouteRequest(e)):[this.createSearchRouteRequest(e.itineraryCode[t],n)],i.passengers=this.createSearchInputPassengers(e.passengers),e.promoCode&&(i.promoCode=e.promoCode),e.referral&&(i.referralCode=e.referral),e.alternateStations&&(i.routes=this.patchMaacRoutes(i.routes,e.alternateStations)),i}}createSearchInputPassengers(e){const t=[];return e.adults&&e.adults>0&&t.push({code:c.g.ADULT,count:e.adults}),e.kids&&e.kids>0&&t.push({code:c.g.CHILD,count:e.kids}),e.babies&&e.babies>0&&t.push({code:c.g.BABY,count:e.babies}),t}createSearchRouteRequest(e,t,n){const i={date:t?t.format("YYYY-MM-DD"):e.date.format("YYYY-MM-DD"),origin:{code:e.origin.code,type:e.origin.type},destination:{code:e.destination.code,type:e.destination.type}};return n?Object.assign(Object.assign({},i),{originalJourneyKey:n}):i}patchMaacRoutes(e,t){const n=t.split("");return e.forEach((e,t)=>{const i=this.flightStationsService._maacStations.find(t=>t.maac.searchCode===e.origin.code),o=this.flightStationsService._maacStations.find(t=>t.maac.searchCode===e.destination.code);(null==i?void 0:i.maac)&&parseInt(n[2*t],10)&&(e.includeAlternativeStationsInOrigin=!0),(null==o?void 0:o.maac)&&parseInt(n[2*t+1],10)&&(e.includeAlternativeStationsInDestination=!0)}),e}generateJourneysInput(e,t,n,i=!1,o=!1){const r={basketId:e,journeys:t.map(e=>({journeyKey:e.journey.key,fareAvailabilityKey:e.selectedFare.key,origin:{code:e.journey.origin.code,type:e.journey.origin.type},destination:{code:e.journey.destination.code,type:e.journey.destination.type}})),passengers:this.createSearchInputPassengers(n.passengers),isVivaFan:i};return i&&o&&(r.vivaFanSubscriptionType=u.o.Monthly),void 0!==n.promoCode&&(r.promoCode=n.promoCode),r}}return e.\u0275fac=function(t){return new(t||e)(i.dc(d.b),i.dc(h.a),i.dc(p.a),i.dc(g.a),i.dc(i.y),i.dc(f.a))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"9AGB":function(e,t,n){"use strict";var i=n("yoF8");function o(e){return 0===e.length?i.identity:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)},t.pipeFromArray=o},"9Fhk":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r}));const i="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",o="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",r=`url('${i}')`},"9LZq":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var i=n("ofXK"),o=n("ZOsW"),r=n("3Pt+"),s=n("wbuz"),a=n("fXoL");const c=n("wd/R"),l=new a.t("daterangepicker.config"),u={direction:"ltr",separator:" - ",weekLabel:"W",applyLabel:"Apply",cancelLabel:"Cancel",clearLabel:"Clear",customRangeLabel:"Custom range",daysOfWeek:c.localeData().weekdaysMin(),monthNames:c.months(),firstDay:c.localeData().firstDayOfWeek()};let d=(()=>{class e{constructor(e){this._config=e}get config(){return this._config?Object.assign(Object.assign({},u),this._config):u}}return e.\u0275fac=function(t){return new(t||e)(a.dc(l))},e.\u0275prov=a.Pb({token:e,factory:e.\u0275fac}),e})();var h=n("o5mt");let p=(()=>{class e{constructor(){}static forRoot(t={}){return{ngModule:e,providers:[{provide:l,useValue:t},{provide:d,useClass:d,deps:[l]}]}}}return e.\u0275mod=a.Rb({type:e}),e.\u0275inj=a.Qb({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,r.o,r.E,h.a]]}),e})();var g=n("/XB6"),f=n("h3XU"),m=n("iU+o"),b=n("d0zJ"),v=n("39vh"),y=n("vxfF"),_=n("hzby"),C=n("/ucA"),S=n("mI2T"),O=n("ZOAy"),T=n("JmNV");let w=(()=>{class e{}return e.\u0275mod=a.Rb({type:e}),e.\u0275inj=a.Qb({factory:function(t){return new(t||e)},providers:[g.a,m.a],imports:[[i.c,o.b,r.E,s.a,r.o,f.a,h.a,b.a,p.forRoot(),v.b,y.d,_.a,C.a,S.a,O.a,T.a]]}),e})()},"9O1C":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("fXoL"),o=n("3kwf"),r=n("ofXK"),s=n("kh7C");let a=(()=>{class e{constructor(e){this.document=e}getQueryParamsFromUrl(e){const t={},n=this.document.createElement("a");n.href=e;const i=n.search.substring(1);if(i){const e=i.split("&");for(const n of e){const e=n.split("=");Array.isArray(e)&&2===e.length&&(t[e[0]]=decodeURIComponent(e[1]))}}return t}trimUrl(e){return s.a.trimStr(e,"/")}}return e.\u0275fac=function(t){return new(t||e)(i.dc(r.e))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var c=n("tyNb"),l=n("ib+v");function u(e,t){1&e&&i.Vb(0)}function d(e,t){if(1&e&&(i.Zb(0,"a",5),i.kc(1,"cmsRegexReplace"),i.Qc(2,u,1,0,"ng-container",6),i.Yb()),2&e){const e=i.jc(),t=i.Ec(5);i.sc("href",i.mc(1,6,e.ctaContent.url,e.cmsReplacementValues),i.Kc)("title",e.ctaContent.title)("target",e.ctaContent.target)("ngClass",e.ctaClass),i.Ib("rel",e.ctaContent.rel),i.Hb(2),i.sc("ngTemplateOutlet",t)}}function h(e,t){1&e&&i.Vb(0)}function p(e,t){if(1&e&&(i.Zb(0,"a",7),i.Qc(1,h,1,0,"ng-container",6),i.Yb()),2&e){const e=i.jc(),t=i.Ec(5);i.sc("routerLink",e.ctaContent.url)("queryParams",e.ctaContent.queryParams)("title",e.ctaContent.title)("ngClass",e.ctaClass)("fragment",e.ctaContent.fragment),i.Ib("rel",e.ctaContent.rel),i.Hb(1),i.sc("ngTemplateOutlet",t)}}function g(e,t){1&e&&i.Vb(0)}function f(e,t){if(1&e){const e=i.ac();i.Zb(0,"a",8),i.hc("click",(function(){i.Hc(e);const t=i.jc();return t.goToAnchor(t.ctaContent.fragment)})),i.Qc(1,g,1,0,"ng-container",6),i.Yb()}if(2&e){const e=i.jc(),t=i.Ec(5);i.sc("title",e.ctaContent.title)("ngClass",e.ctaClass),i.Ib("rel",e.ctaContent.rel),i.Hb(1),i.sc("ngTemplateOutlet",t)}}function m(e,t){1&e&&i.qc(0)}const b=["*"];let v=(()=>{class e{constructor(e,t,n,i){this.ctaUtilsSvc=e,this.viewportScroller=t,this.location=n,this.localeId=i,this.ctaLinkType=y,this.ctaContent={title:"",url:"/",target:o.g._blank,queryParams:{},fragment:null,rel:""},this.ctaClass="",this.showTitle=!1,this.fragmentScrollOffset=150,this.cmsReplacementValues=[]}ngOnChanges(){this.configureCta()}configureCta(){this.targetType=this._targetType,this.ctaContent=this._ctaContent}get _targetType(){var e;if(this.callToAction&&this.callToAction.target&&this.callToAction.target===o.g._self_internal){if(this.callToAction.slug&&(null===(e=this.callToAction.slug.fields)||void 0===e?void 0:e.slug))return this.isUrlRelative(this.buildSlug(this.callToAction.slug.fields,!1))?y.routerLink:y.href;if(this.callToAction.fragment&&this.callToAction.fragment.length>0)return y.fragment;if(this.isUrlRelative(this.callToAction.url))return y.routerLink}return y.href}get _ctaContent(){return{title:this.title,url:this.url,target:this.target,queryParams:this.queryParams,fragment:this.fragment,rel:this.rel}}isUrlRelative(t){return!!t&&e.relativeUrlRegex.test(t)}get url(){return this.callToAction?this.callToAction.slug&&this.callToAction.slug.fields.slug?this.targetType===y.routerLink?this.buildSlug(this.callToAction.slug.fields,!0):this.buildSlug(this.callToAction.slug.fields,!1,`/${this.localeId.toLowerCase()}/`):this.targetType===y.routerLink?(this.callToAction.url||"/").split("?")[0]:this.callToAction.url||"/":"/"}get rel(){var e,t;const n=null===(t=null===(e=this.callToAction)||void 0===e?void 0:e.rel)||void 0===t?void 0:t.trim();return"string"==typeof n&&n.length>0?n:null}get target(){return this.callToAction?this.callToAction.target===o.g._self_internal?o.g._self:this.callToAction.target||o.g._blank:o.g._blank}get title(){return this.showTitle&&this.callToAction?this.callToAction.slug&&this.callToAction.slug.fields.title?this.callToAction.slug.fields.title:this.callToAction.text||"":""}get fragment(){return(this.targetType===y.fragment||this.targetType===y.routerLink)&&this.callToAction&&this.callToAction.fragment&&this.callToAction.fragment.length>0&&this.callToAction.fragment||null}goToAnchor(e){const t=this.location.path();this.viewportScroller.setOffset([0,this.fragmentScrollOffset]),this.viewportScroller.scrollToAnchor(e),this.location.replaceState(`${t}#${e}`)}get queryParams(){if(this.targetType===y.routerLink&&this.callToAction){if(this.callToAction.slug&&this.callToAction.slug.fields.slug)return this.ctaUtilsSvc.getQueryParamsFromUrl(this.callToAction.slug.fields.slug);if(this.callToAction.url)return this.ctaUtilsSvc.getQueryParamsFromUrl(this.callToAction.url)}return{}}buildSlug(e,t,n="/"){var i;if(!e.slug)return"";let o=this.ctaUtilsSvc.trimUrl(e.slug);return o=t?o.split("?")[0]:o,(null===(i=e.parentSlug)||void 0===i?void 0:i.fields)?n+this.buildSlug(e.parentSlug.fields,!0,"")+"/"+o:n+o}}return e.relativeUrlRegex=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|\.{2,}).*/i,e.\u0275fac=function(t){return new(t||e)(i.Tb(a),i.Tb(r.J),i.Tb(r.o),i.Tb(i.y))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-call-to-action"]],inputs:{callToAction:"callToAction",ctaClass:"ctaClass",showTitle:"showTitle",fragmentScrollOffset:"fragmentScrollOffset",cmsReplacementValues:"cmsReplacementValues"},features:[i.Fb],ngContentSelectors:b,decls:6,vars:4,consts:[[3,"ngSwitch"],[3,"href","title","target","ngClass",4,"ngSwitchCase"],[3,"routerLink","queryParams","title","ngClass","fragment",4,"ngSwitchCase"],[3,"title","ngClass","click",4,"ngSwitchCase"],["content",""],[3,"href","title","target","ngClass"],[4,"ngTemplateOutlet"],[3,"routerLink","queryParams","title","ngClass","fragment"],[3,"title","ngClass","click"]],template:function(e,t){1&e&&(i.rc(),i.Xb(0,0),i.Qc(1,d,3,9,"a",1),i.Qc(2,p,2,7,"a",2),i.Qc(3,f,2,4,"a",3),i.Wb(),i.Qc(4,m,1,0,"ng-template",null,4,i.Rc)),2&e&&(i.sc("ngSwitch",t.targetType),i.Hb(1),i.sc("ngSwitchCase",t.ctaLinkType.href),i.Hb(1),i.sc("ngSwitchCase",t.ctaLinkType.routerLink),i.Hb(1),i.sc("ngSwitchCase",t.ctaLinkType.fragment))},directives:[r.y,r.z,r.r,r.B,c.j],pipes:[l.a],styles:["a[_ngcontent-%COMP%]{color:initial;text-decoration:none;display:inline-block}.cover-all[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center}"]}),e})();var y=function(e){return e[e.href=0]="href",e[e.routerLink=1]="routerLink",e[e.fragment=2]="fragment",e}({})},"9YtQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("fXoL"),o=n("ofXK");const r={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:"Unknown"},s={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},a={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},c={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:"Unknown",HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone"},l=Object.assign(Object.assign(Object.assign({},s),a),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/}),u={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,iOS:/(iPhone OS\s*[0-9_]+)/},d={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},h=(e,t)=>(e[t]=u[t],e),p=Object.keys(u).reduce(h,{}),g=(e,t)=>(e[r[t]]=d[t],e),f=Object.keys(d).reduce(g,{});var m=Object.freeze({__proto__:null,BROWSERS:r,MOBILES_RE:s,TABLETS_RE:a,DEVICES:c,OS:{WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:"Unknown"},OS_VERSIONS:{WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",UNKNOWN:"unknown"},OS_RE:{WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:l,OS_VERSIONS_RE_MAP:u,BROWSER_VERSIONS_RE_MAP:d,OS_VERSIONS_RE:p,BROWSER_VERSIONS_RE:f,"\u02750":h,"\u02751":g});class b{constructor(){}test(e,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.test(e):t&&Array.isArray(t.and)?t.and.every(t=>this.test(e,t)):t&&Array.isArray(t.or)?t.or.some(t=>this.test(e,t)):!(!t||!t.not||this.test(e,t.not))}exec(e,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.exec(e):t&&Array.isArray(t)?t.reduce((t,n)=>t||this.exec(e,n),null):null}}let v=(()=>{class e{constructor(e){this.platformId=e,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new b,Object(o.L)(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(e=this.userAgent){e!==this.userAgent&&(this.userAgent=e);const t=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(t.forEach(t=>{this[t.prop]=Object.keys(m[t.const]).reduce((n,i)=>"device"===m[t.const][i]&&Object(o.L)(this.platformId)&&(this.reTree.test(this.userAgent,a.iPad)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(n[m[t.const][i]]="iPad",Object):(n[m[t.const][i]]=this.reTree.test(e,m[t.const+"_RE"][i]),n),{})}),t.forEach(e=>{this[e.prop]=Object.keys(m[e.const]).map(t=>m[e.const][t]).reduce((t,n)=>"device"===e.prop&&t===m[e.const].ANDROID?this[e.prop][n]?n:t:t===m[e.const].UNKNOWN&&this[e.prop][n]?n:t,m[e.const].UNKNOWN)}),this.browser_version="0",this.browser!==r.UNKNOWN){const t=this.reTree.exec(e,f[this.browser]);t&&(this.browser_version=t[1])}}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version}}isMobile(e=this.userAgent){return!this.isTablet(e)&&!!Object.keys(s).find(t=>this.reTree.test(e,s[t]))}isTablet(e=this.userAgent){return!(!Object(o.L)(this.platformId)||!(this.reTree.test(this.userAgent,a.iPad)||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(a).find(t=>!!this.reTree.test(e,a[t]))}isDesktop(e=this.userAgent){const t=[c.PS4,c.CHROME_BOOK,c.UNKNOWN];return(this.device!==c.UNKNOWN||!this.isMobile(e)&&!this.isTablet(e))&&t.indexOf(this.device)>-1}}return e.\u0275fac=function(t){return new(t||e)(i.dc(i.G))},e.\u0275prov=Object(i.Pb)({factory:function(){return new e(Object(i.dc)(i.G))},token:e,providedIn:"root"}),e})()},"9gjU":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return l}));const i=["MexicoDepartureTax","MexicoDepartureTaxPayLater","Insurance","VivaFan","Redemption"];var o=function(e){return e.PerBooking="PerBooking",e.PerJourney="PerJourney",e.PerSegment="PerSegment",e}({});const r={ssrCode:null,name:"REMOVE_ITEM",preSelected:!1,includedInFare:!1,includedInVivaFan:!1,includedInLoyalty:!1,journeyKey:null,segmentKey:null,passengerKey:null,price:{amount:0,pointAmount:0,taxAmount:0,cashBackValue:0},originalPrice:null,includedForPassenger:!1,limit:null,labels:[],inventoryControlled:!1};var s=function(e){return e.Other="Other",e.Recommended="Recommended",e.Baggage="Baggage",e.Commited="Commited",e}({}),a=function(e){return e.VFSM="VFSM",e.VFGM="VFGM",e.VFSA="VFSA",e.VFGA="VFGA",e}({});const c=[a.VFSM,a.VFGM],l=[a.VFSA,a.VFGA]},"9ppp":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},"9rSQ":function(e,t,n){"use strict";var i=n("xTJ+");function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},"9yTC":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return u}));class i{}class o{}class r{}var s=function(e){return e.Discount="Discount",e.LowFare="LowFare",e.PromoCode="PromoCode",e.PromoClassOfService="PromoClassOfService",e.VivaFan="VivaFan",e.Manual="Manual",e}({}),a=function(e){return e.VIVA_ZERO="VZ",e.VIVA_LIGHT="VL",e.VIVA_BASIC="VB",e.VIVA_SMART="VS",e.VIVA_BASE="VC",e.VP="VP",e.FAREBASE="FB",e}({}),c=function(e){return e.VIVA_ZERO="BZ",e.VIVA_LIGHT="BL",e.VIVA_BASIC="BB",e.VIVA_SMART="BS",e.NONE="None",e}({}),l=function(e){return e.TuaIncluded="TuaIncluded",e.TuaPreadded="TuaPreadded",e.TuaNotAdded="TuaNotAdded",e.TuaAdded="TuaAdded",e.TuaPrice="TuaPrice",e.TuaPriceInPoints="TuaPriceInPoints",e.TuaPaid="TuaPaid",e}({}),u=function(e){return e.ADULT="ADT",e.CHILD="CHD",e.BABY="INFT",e}({})},A90E:function(e,t,n){var i=n("6sVZ"),o=n("V6Ve"),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return o(e);var t=[];for(var n in Object(e))r.call(e,n)&&"constructor"!=n&&t.push(n);return t}},AP2z:function(e,t,n){var i=n("nmnc"),o=Object.prototype,r=o.hasOwnProperty,s=o.toString,a=i?i.toStringTag:void 0;e.exports=function(e){var t=r.call(e,a),n=e[a];try{e[a]=void 0;var i=!0}catch(c){}var o=s.call(e);return i&&(t?e[a]=n:delete e[a]),o}},APqd:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("RbsG"),o=n("9gjU"),r=n("fXoL"),s=n("ChtM"),a=n("+EmV"),c=n("wtyH"),l=n("BifP");let u=(()=>{class e{constructor(e,t,n,i){var o;this.currency=e,this.util=t,this.serviceServices=n,this.csmConfig=i,this.defaultCat=(null===(o=this.csmConfig._cmsConfig)||void 0===o?void 0:o.globalSettings.default_category_ancillaries)||""}itemGA4Light(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g=!1){const f={item_name:e,item_id:t,price:n,currency:this.currency.selectedCurrencyCode,item_brand:o,item_category:r,item_category_2:s,item_category_3:a,item_category_4:c,item_variant:l,coupon:u,discount:d,item_list_name:h,index:p};return g&&(f.price_vivafan=i||n),f}itemGAULight(e,t,n,i,o,r,s,a,c,l,u,d,h,p=!1){const g={name:e,id:t,price:n,brand:o,category:`${r}/${s}/${a}/${c}`,variant:l,coupon:u,list:d,position:h};return p&&(g.price_vivafan=i||n),g}itemGAULightClick(e,t,n,i,o,r,s,a,c,l,u,d,h=!1){const p={name:e,id:t,price:n,brand:o,category:`${r}/${s}/${a}/${c}`,variant:l,coupon:u,position:d};return h&&(p.price_vivafan=i||n),p}listItemGA4Light(e,t,n=!1){const i=[];for(let o=0;o<e.length;o++)i.push(this.itemGA4Light(e[o].name,e[o].id,t||e[o].amount,e[o].vivafan_amount,e[o].brand,e[o].cat1,e[o].cat2,e[o].cat3,e[o].cat4,e[o].variant,e[o].promo,e[o].desc,e[o].listName,o+1,n));return i}listItemsGAULight(e,t,n=!1){const i=[];for(let o=0;o<e.length;o++)i.push(this.itemGAULight(e[o].name,e[o].id,t||e[o].amount,e[o].vivafan_amount,e[o].brand,e[o].cat1,e[o].cat2,e[o].cat3,e[o].cat4,e[o].variant,e[o].promo,e[o].listName,o+1,n));return i}listItemsGAULightClick(e,t,n=!1){const i=[];for(let o=0;o<e.length;o++)i.push(this.itemGAULightClick(e[o].name,e[o].id,t||e[o].amount,e[o].vivafan_amount,e[o].brand,e[o].cat1,e[o].cat2,e[o].cat3,e[o].cat4,e[o].variant,e[o].promo,o+1,n));return i}buildGeneralInfo(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m,b,v,y,_,C,S,O){this.generalInformationRobust={fare_class:e,loyalty_program:t,passenger_type:n,passenger_count:i,seat_count:o,rute:r,journey_travel_type:s,journey_origin:a,journey_destination:c,journey_departure_date:l,journey_departure_time:u,journey_arrival_date:d,journey_arrival_time:h,segment_carrier_code:p,segment_carrier_id:g,segment_rute:f,segment_origin:m,segment_destination:b,segment_departure_date:v,segment_departure_time:y,segment_arrival_date:_,segment_arrival_time:C,segment_length:S,segment_layover:O}}get generalInfo(){return this.generalInformationRobust}itemRobustGA4(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m,b,v,y,_,C,S,O,T,w,k,A,E,M,P,D,x,I,L,R){return{item_name:e,item_id:t,price:n,currency:this.currency.selectedCurrencyCode,item_brand:i,item_category:o,item_category_2:r,item_category_3:s,item_category_4:a,item_variant:c,coupon:l,discount:u,quantity:d,fare_class:h,loyalty_program:p,passenger_type:g,passenger_count:f,seat_count:m,rute:b,journey_travel_type:v,journey_origin:y,journey_destination:_,journey_departure_date:C,journey_departure_time:S,journey_arrival_date:O,journey_arrival_time:T,segment_carrier_code:w,segment_carrier_id:k,segment_rute:A,segment_origin:E,segment_destination:M,segment_departure_date:P,segment_departure_time:D,segment_arrival_date:x,segment_arrival_time:I,segment_length:L,segment_layover:R}}itemRobustGAU(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m,b,v,y,_,C,S,O,T,w,k,A,E,M,P,D,x,I,L,R){return{name:e,id:t,price:n,brand:i,category:`${o}/${r}/${s}/${a}`,variant:c,coupon:l,discount:u,quantity:d,fare_class:h,loyalty_program:p,passenger_type:g,passenger_count:f,seat_count:m,rute:b,journey_travel_type:v,journey_origin:y,journey_destination:_,journey_departure_date:C,journey_departure_time:S,journey_arrival_date:O,journey_arrival_time:T,segment_carrier_code:w,segment_carrier_id:k,segment_rute:A,segment_origin:E,segment_destination:M,segment_departure_date:P,segment_departure_time:D,segment_arrival_date:x,segment_arrival_time:I,segment_length:L,segment_layover:R}}listItemsGA4Robust(e){const t=[];this.ecommerceObject={listName:`${e[0].journeyOrigin}-${e[0].journeyDestination}|${e[0].journeyDepartureDate}`,id:e[0].id,brand:e[0].brand,category_2:e[0].cat2,category_3:e[0].cat3,variant:e[0].variant},this.buildGeneralInfo(e[0].fareClass,e[0].loyaltyProgram,e[0].passengerType,e[0].passengerCount,e[0].seatCount,e[0].rute,e[0].journeyTravelType,e[0].journeyOrigin,e[0].journeyDestination,e[0].journeyDepartureDate,e[0].journeyDepartureTime,e[0].journeyArrivalDate,e[0].journeyArrivalTime,e[0].segmentCarrierCode,e[0].segmentCarrierId,e[0].segmentRute,e[0].segmentOrigin,e[0].segmentDestination,e[0].segmentDepartureDate,e[0].segmentDepartureTime,e[0].segmentArrivalDate,e[0].segmentArrivalTime,e[0].segmentLength,e[0].segmentLayover);for(const n of e)t.push(this.itemRobustGA4(n.name,n.id,n.amount,n.brand,n.cat1,n.cat2,n.cat3,n.cat4,n.variant,n.promo,n.desc,n.quantity,n.fareClass,n.loyaltyProgram,n.passengerType,n.passengerCount,n.seatCount,n.rute,n.journeyTravelType,n.journeyOrigin,n.journeyDestination,n.journeyDepartureDate,n.journeyDepartureTime,n.journeyArrivalDate,n.journeyArrivalTime,n.segmentCarrierCode,n.segmentCarrierId,n.segmentRute,n.segmentOrigin,n.segmentDestination,n.segmentDepartureDate,n.segmentDepartureTime,n.segmentArrivalDate,n.segmentArrivalTime,n.segmentLength,n.segmentLayover));this.gA4RobustItems=t}listItemsGAURobust(e){const t=[];for(const n of e)t.push(this.itemRobustGA4(n.name,n.id,n.amount,n.brand,n.cat1,n.cat2,n.cat3,n.cat4,n.variant,n.promo,n.desc,n.quantity,n.fareClass,n.loyaltyProgram,n.passengerType,n.passengerCount,n.seatCount,n.rute,n.journeyTravelType,n.journeyOrigin,n.journeyDestination,n.journeyDepartureDate,n.journeyDepartureTime,n.journeyArrivalDate,n.journeyArrivalTime,n.segmentCarrierCode,n.segmentCarrierId,n.segmentRute,n.segmentOrigin,n.segmentDestination,n.segmentDepartureDate,n.segmentDepartureTime,n.segmentArrivalDate,n.segmentArrivalTime,n.segmentLength,n.segmentLayover));this.gAURobustItems=t}get getRobustItemsGA4(){return this.gA4RobustItems}get getRobustItemsGAU(){return this.gAURobustItems}returnRobustItemsGA4(e,t=!1){var n,i,o;const r=[];if(e.basketBooking)for(const s of e.basketBooking.journeys){const a={item_name:"Flight ticket",item_id:`${s.origin.code}-${s.destination.code}|${s.departureDate.scheduled}`,price:e.basketBooking.charges.find(e=>e.journeyKey===s.key).amount.amount,currency:e.basketBooking.currencyCode,item_brand:t?"VF":s.segments[0].operatingCarrier,item_category:"Flight",item_category_2:(null===(n=null==s?void 0:s.fare)||void 0===n?void 0:n.fareType)+""+((null===(i=null==s?void 0:s.fare)||void 0===i?void 0:i.bundleTypeName)?"_"+(null===(o=null==s?void 0:s.fare)||void 0===o?void 0:o.bundleType):""),item_category_3:s.isInternational?"International":"Domestic",item_category_4:this.util.getJourneySegmentType(s),item_variant:s.fare.fareType,coupon:this.util.couponPromocode,discount:(e.basketBooking.charges.find(e=>e.journeyKey===s.key).originalAmount.amount-e.basketBooking.charges.find(e=>e.journeyKey===s.key).amount.amount).toFixed(2),quantity:e.basketBooking.passengers.length,fare_class:s.fare.classOfService,loyaltyProgram:s.fare.labels.find(e=>"RewardFare"===e.labelId)?"Doters":"NA",passenger_type:"ADT",passenger_count:e.basketBooking.passengers.length,seat_count:e.basketBooking.seats.seats.length||"",rute:`${s.origin.code}-${s.destination.code}`,journey_travel_type:s.travelType,journey_origin:s.origin.code,journey_destination:s.destination.code,journey_departure_date:s.departureDate.scheduled.split("T")[0],journey_departure_time:s.departureDate.scheduled.split("T")[1],journey_arrival_date:s.arrivalDate.scheduled.split("T")[0],journey_arrival_time:s.arrivalDate.scheduled.split("T")[1],segment_carrier_code:s.segments[0].operatingCarrier,segment_carrier_id:s.segments[0].operatingCode,segment_rute:`${s.segments[0].origin.code}-${s.segments[0].destination.code}`,segment_origin:s.segments[0].origin.code,segment_destination:s.segments[0].destination.code,segment_departure_date:s.segments[0].departureDate.scheduled.split("T")[0],segment_departure_time:s.segments[0].departureDate.scheduled.split("T")[1],segment_arrival_date:s.segments[0].arrivalDate.scheduled.split("T")[0],segment_arrival_time:s.segments[0].arrivalDate.scheduled.split("T")[1],segment_length:s.segments[0].segmentDuration,segment_layover:s.segments[0].layoverTime};r.push(a)}return r}returnRobustItemsGAU(e,t=!1){var n,i,o,r,s;const a=[];if(e.basketBooking)for(const c of e.basketBooking.journeys){const l={name:"Flight ticket",id:`${c.origin.code}-${c.destination.code}|${c.departureDate.scheduled}`,price:e.basketBooking.charges.find(e=>e.journeyKey===c.key).amount.amount,brand:t?"VF":c.segments[0].operatingCarrier,category:`Flight/${null===(n=null==c?void 0:c.fare)||void 0===n?void 0:n.fareType}${(null===(i=null==c?void 0:c.fare)||void 0===i?void 0:i.bundleTypeName)?"_"+(null===(o=null==c?void 0:c.fare)||void 0===o?void 0:o.bundleType):""}/${c.isInternational?"International":"Domestic"}/${this.util.getJourneySegmentType(c)}`,variant:c.fare.fareType+""+((null===(r=null==c?void 0:c.fare)||void 0===r?void 0:r.bundleTypeName)?"_"+(null===(s=null==c?void 0:c.fare)||void 0===s?void 0:s.bundleType):""),promo:this.util.couponPromocode,desc:(e.basketBooking.charges.find(e=>e.journeyKey===c.key).originalAmount.amount-e.basketBooking.charges.find(e=>e.journeyKey===c.key).amount.amount).toFixed(2),quantity:e.basketBooking.passengers.length,fareClass:c.fare.classOfService,loyaltyProgram:c.fare.labels.find(e=>"RewardFare"===e.labelId)?"Doters":"NA",passengerType:"ADT",passengerCount:e.basketBooking.passengers.length,seatCount:e.basketBooking.seats.seats.length||"",itemRute:`${c.origin.code}-${c.destination.code}`,journeyTravelType:c.travelType,journeyOrigin:c.origin.code,journeyDestination:c.destination.code,journeyDepartureDate:c.departureDate.scheduled.split("T")[0],journeyDepartureTime:c.departureDate.scheduled.split("T")[1],journeyArrivalDate:c.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:c.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:c.segments[0].operatingCarrier,segmentCarrierId:c.segments[0].operatingCode,segmentRute:`${c.segments[0].origin.code}-${c.segments[0].destination.code}`,segmentOrigin:c.segments[0].origin.code,segmentDestination:c.segments[0].destination.code,segmentDepartureDate:c.segments[0].departureDate.scheduled.split("T")[0],segmentDepartureTime:c.segments[0].departureDate.scheduled.split("T")[1],segmentArrivalDate:c.segments[0].arrivalDate.scheduled.split("T")[0],segmentArrivalTime:c.segments[0].arrivalDate.scheduled.split("T")[1],segmentLength:c.segments[0].segmentDuration,segmentLayover:c.segments[0].layoverTime};a.push(l)}return a}returnClickSeatOptionsGA4(e,t,n,i,o=!1){var r,s,a;let c,l;for(const u of t.journeys)for(const e of u.segments)n===e.key&&(c=u,l=e);return{item_name:"Seat "+(null===(r=null==e?void 0:e.brand)||void 0===r?void 0:r.code),item_id:null===(s=null==e?void 0:e.brand)||void 0===s?void 0:s.code,price:null===(a=null==e?void 0:e.fromPrice)||void 0===a?void 0:a.amount,currency:t.currencyCode,item_brand:o?"VF":l.operatingCarrier,item_category:"Ancillary",item_category_2:"Seat",item_category_3:c.isInternational?"International":"Domestic",item_category_4:this.util.getJourneySegmentType(c),item_variant:c.fare.fareType,coupon:this.util.couponPromocode,discount:0,quantity:t.passengers.length,fare_class:c.fare.classOfService,loyalty_program:"NA",passenger_type:"ADT",passenger_count:t.passengers.length,seat_count:"",rute:`${c.origin.code}-${c.destination.code}`,journey_travel_type:c.travelType,journey_origin:c.origin.code,journey_destination:c.destination.code,journey_departure_date:c.departureDate.scheduled.split("T")[0],journey_departure_time:c.departureDate.scheduled.split("T")[1],journey_arrival_date:c.arrivalDate.scheduled.split("T")[0],journey_arrival_time:c.arrivalDate.scheduled.split("T")[1],segment_carrier_code:l.operatingCarrier,segment_carrier_id:l.operatingCode,segment_rute:`${l.origin.code}-${l.destination.code}`,segment_origin:l.origin.code,segment_destination:l.destination.code,segment_departure_date:l.departureDate.scheduled.split("T")[0],segment_departure_time:l.departureDate.scheduled.split("T")[1],segment_arrival_date:l.arrivalDate.scheduled.split("T")[0],segment_arrival_time:l.arrivalDate.scheduled.split("T")[1],segment_length:l.segmentDuration,segment_layover:l.layoverTime,item_list_name:`Seat Options${i}|${c.origin.code}-${c.destination.code}|${c.departureDate.scheduled.split("T")[0]}`,index:0}}returnClickSeatOptionsGAU(e,t,n,i,o=!1){var r,s,a;let c,l;for(const u of t.journeys)for(const e of u.segments)n===e.key&&(c=u,l=e);return{name:"Seat "+(null===(r=null==e?void 0:e.brand)||void 0===r?void 0:r.code),id:null===(s=null==e?void 0:e.brand)||void 0===s?void 0:s.code,price:null===(a=null==e?void 0:e.fromPrice)||void 0===a?void 0:a.amount,brand:o?"VF":l.operatingCarrier,category:`Ancillary/Seat/${c.isInternational?"International":"Domestic"}/${this.util.getJourneySegmentType(c)}`,variant:c.fare.fareType,promo:this.util.couponPromocode,desc:0,quantity:t.passengers.length,fareClass:c.fare.classOfService,loyaltyProgram:"NA",passengerType:"ADT",passengerCount:t.passengers.length,seatCount:"",itemRute:`${c.origin.code}-${c.destination.code}`,journeyTravelType:c.travelType,journeyOrigin:c.origin.code,journeyDestination:c.destination.code,journeyDepartureDate:c.departureDate.scheduled.split("T")[0],journeyDepartureTime:c.departureDate.scheduled.split("T")[1],journeyArrivalDate:c.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:c.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:l.operatingCarrier,segmentCarrierId:l.operatingCode,segmentRute:`${l.origin.code}-${l.destination.code}`,segmentOrigin:l.origin.code,segmentDestination:l.destination.code,segmentDepartureDate:l.departureDate.scheduled.split("T")[0],segmentDepartureTime:l.departureDate.scheduled.split("T")[1],segmentArrivalDate:l.arrivalDate.scheduled.split("T")[0],segmentArrivalTime:l.arrivalDate.scheduled.split("T")[1],segmentLength:l.segmentDuration,segmentLayover:l.layoverTime,list:`Seat Options${i}|${c.origin.code}-${c.destination.code}|${c.departureDate.scheduled.split("T")[0]}`,position:0}}getClickSeatMapGA4(e,t,n,i,o,r=!1,s=!1){return{item_name:"Seat "+(null==e?void 0:e.brand),item_id:null==e?void 0:e.brand,price:null==e?void 0:e.price[0].price.amount,currency:i.currencyCode,item_brand:r?"VF":n.operatingCarrier,item_category:"Ancillary",item_category_2:"Seat",item_category_3:t.isInternational?"International":"Domestic",item_category_4:this.util.getJourneySegmentType(t),item_variant:t.fare.fareType,coupon:this.util.couponPromocode,discount:(null==e?void 0:e.price[0].originalPrice)?(null==e?void 0:e.price[0].originalPrice.amount)-(null==e?void 0:e.price[0].price.amount):0,quantity:1,fare_class:t.fare.classOfService,loyalty_program:(null==e?void 0:e.price[0].price.amount)<=0?s?"Doters":r?"VivaFan":"Cobrand":"NA",passenger_type:"ADT",passenger_count:i.passengers.length,seat_count:"",rute:`${t.origin.code}-${t.destination.code}`,journey_travel_type:t.travelType,journey_origin:t.origin.code,journey_destination:t.destination.code,journey_departure_date:t.departureDate.scheduled.split("T")[0],journey_departure_time:t.departureDate.scheduled.split("T")[1],journey_arrival_date:t.arrivalDate.scheduled.split("T")[0],journey_arrival_time:t.arrivalDate.scheduled.split("T")[1],segment_carrier_code:n.operatingCarrier,segment_carrier_id:n.operatingCode,segment_rute:`${n.origin.code}-${n.destination.code}`,segment_origin:n.origin.code,segment_destination:n.destination.code,segment_departure_date:n.departureDate.scheduled.split("T")[0],segment_departure_time:n.departureDate.scheduled.split("T")[1],segment_arrival_date:n.arrivalDate.scheduled.split("T")[0],segment_arrival_time:n.arrivalDate.scheduled.split("T")[1],segment_length:n.segmentDuration,segment_layover:n.layoverTime,item_list_name:`Seat Options${o}|${t.origin.code}-${t.destination.code}|${t.departureDate.scheduled.split("T")[0]}`,index:0}}getClickSeatMapGAU(e,t,n,i,o,r=!1,s=!1){return{name:"Seat "+(null==e?void 0:e.brand),id:null==e?void 0:e.brand,price:null==e?void 0:e.price[0].price.amount,brand:r?"VF":n.operatingCarrier,category:`Ancillary/Seat/${t.isInternational?"International":"Domestic"}/${this.util.getJourneySegmentType(t)}`,variant:t.fare.fareType,promo:this.util.couponPromocode,desc:(null==e?void 0:e.price[0].originalPrice)?(null==e?void 0:e.price[0].originalPrice.amount)-(null==e?void 0:e.price[0].price.amount):0,quantity:1,fareClass:t.fare.classOfService,loyaltyProgram:(null==e?void 0:e.price[0].price.amount)<=0?s?"Doters":r?"VivaFan":"Cobrand":"NA",passengerType:"ADT",passengerCount:i.passengers.length,seatCount:"",itemRute:`${t.origin.code}-${t.destination.code}`,journeyTravelType:t.travelType,journeyOrigin:t.origin.code,journeyDestination:t.destination.code,journeyDepartureDate:t.departureDate.scheduled.split("T")[0],journeyDepartureTime:t.departureDate.scheduled.split("T")[1],journeyArrivalDate:t.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:t.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:n.operatingCarrier,segmentCarrierId:n.operatingCode,segmentRute:`${n.origin.code}-${n.destination.code}`,segmentOrigin:n.origin.code,segmentDestination:n.destination.code,segmentDepartureDate:n.departureDate.scheduled.split("T")[0],segmentDepartureTime:n.departureDate.scheduled.split("T")[1],segmentArrivalDate:n.arrivalDate.scheduled.split("T")[0],segmentArrivalTime:n.arrivalDate.scheduled.split("T")[1],segmentLength:n.segmentDuration,segmentLayover:n.layoverTime,list:`Seat Options${o}|${t.origin.code}-${t.destination.code}|${t.departureDate.scheduled.split("T")[0]}`,position:0}}returnViewSeatsGA4(e,t,n){var i,o,r,s;const a=[];for(const[c,l]of e.journeys[0].segments[0].seatTypes.entries()){const u={item_name:"Seat "+(null===(i=null==l?void 0:l.brand)||void 0===i?void 0:i.code),item_id:null===(o=null==l?void 0:l.brand)||void 0===o?void 0:o.code,price:null===(r=l.fromPrice)||void 0===r?void 0:r.amount,currency:this.currency.selectedCurrencyCode,item_brand:this.ecommerceObject?this.ecommerceObject.brand:null===(s=null==l?void 0:l.brand)||void 0===s?void 0:s.code,item_category:"Ancillary",item_category_2:"Seat",item_category_3:e.journeys[0].isInternational?"International":"Domestic",item_category_4:this.util.getJourneySegmentType(n),item_variant:this.ecommerceObject?this.ecommerceObject.variant:null==n?void 0:n.fare.fareType,coupon:this.util.couponPromocode,quantity:1,item_list_name:t,index:c},d=Object.assign(u,this.generalInfo);a.push(d)}return a}returnViewSeatsGAU(e,t,n){var i,o,r,s,a,c,l,u,d,h;const p=[];for(const[g,f]of e.journeys[0].segments[0].seatTypes.entries()){const m={name:"Seat "+(null===(i=null==f?void 0:f.brand)||void 0===i?void 0:i.code),id:null===(o=null==f?void 0:f.brand)||void 0===o?void 0:o.code,price:null===(r=f.fromPrice)||void 0===r?void 0:r.amount,brand:this.ecommerceObject?this.ecommerceObject.brand:null===(s=null==f?void 0:f.brand)||void 0===s?void 0:s.code,category:`Ancillary/Seat/${(null===(a=null==n?void 0:n.fare)||void 0===a?void 0:a.fareType)+""+((null===(c=null==n?void 0:n.fare)||void 0===c?void 0:c.bundleTypeName)?"_"+(null===(l=null==n?void 0:n.fare)||void 0===l?void 0:l.bundleType):"")}/${e.journeys[0].isInternational?"International":"Domestic"}/${this.util.getJourneySegmentType(n)}`,variant:this.ecommerceObject?this.ecommerceObject.variant:(null===(u=null==n?void 0:n.fare)||void 0===u?void 0:u.fareType)+""+((null===(d=null==n?void 0:n.fare)||void 0===d?void 0:d.bundleTypeName)?"_"+(null===(h=null==n?void 0:n.fare)||void 0===h?void 0:h.bundleType):""),coupon:this.util.couponPromocode,quantity:1,list:t,position:g},b=Object.assign(m,this.generalInfo);p.push(b)}return p}returnRobustItemsBySegmentGA4(e,t){var n,i,o,r,s,a;let c,l;for(const d of e.basketBooking.journeys)for(const e of d.segments)(null==t?void 0:t.segmentKey)===e.key&&(c=d,l=e);const u=null===(r=null===(o=null===(i=null===(n=null==e?void 0:e.basketBooking)||void 0===n?void 0:n.seats)||void 0===i?void 0:i.seatFees[0])||void 0===o?void 0:o.options)||void 0===r?void 0:r.find(e=>l.key===e.segmentKey);return{item_name:"Seat "+(null==t?void 0:t.brand),item_id:`${c.origin.code}-${c.destination.code}|${c.departureDate.scheduled}`,price:u?u.price.amount:"",currency:e.basketBooking.currencyCode,item_brand:l.operatingCarrier,item_category:"Seat",item_category_2:c.fare.fareType+""+((null===(s=null==c?void 0:c.fare)||void 0===s?void 0:s.bundleTypeName)?"_"+(null===(a=null==c?void 0:c.fare)||void 0===a?void 0:a.bundleType):""),item_category_3:c.isInternational?"International":"Domestic",item_category_4:l.segmentType,item_variant:c.fare.fareType,coupon:this.util.couponPromocode?this.util.couponPromocode:"",discount:u?(u.price.amount-u.price.amount).toFixed(2):"",quantity:1,fare_class:c.fare.classOfService,loyalty_program:"NA",passenger_type:"ADT",passenger_count:e.basketBooking.passengers.length,seat_count:e.basketBooking.seats.seats.length,rute:`${c.origin.code}-${c.destination.code}`,journey_travel_type:c.travelType,journey_origin:c.origin.code,journey_destination:c.destination.code,journey_departure_date:c.departureDate.scheduled.split("T")[0],journey_departure_time:c.departureDate.scheduled.split("T")[1],journey_arrival_date:c.arrivalDate.scheduled.split("T")[0],journey_arrival_time:c.arrivalDate.scheduled.split("T")[1],segment_carrier_code:l.operatingCarrier,segment_carrier_id:l.operatingCode,segment_rute:`${l.origin.code}-${l.destination.code}`,segment_origin:l.origin.code,segment_destination:l.destination.code,segment_departure_date:l.departureDate.scheduled.split("T")[0],segment_departure_time:l.departureDate.scheduled.split("T")[1],segment_arrival_date:l.arrivalDate.scheduled.split("T")[0],segment_arrival_time:l.arrivalDate.scheduled.split("T")[1],segment_length:l.segmentDuration,segment_layover:l.layoverTime}}returnRobustItemsBySegmentGAU(e,t){var n,i,o,r,s,a;let c,l;for(const d of e.basketBooking.journeys)for(const e of d.segments)(null==t?void 0:t.segmentKey)===e.key&&(c=d,l=e);const u=null===(r=null===(o=null===(i=null===(n=null==e?void 0:e.basketBooking)||void 0===n?void 0:n.seats)||void 0===i?void 0:i.seatFees[0])||void 0===o?void 0:o.options)||void 0===r?void 0:r.find(e=>l.key===e.segmentKey);return{itemName:"Seat "+(null==t?void 0:t.brand),itemId:`${c.origin.code}-${c.destination.code}|${c.departureDate.scheduled}`,amount:u?u.price.amount:"",itemBrand:l.operatingCarrier,cat1:"Seat",cat2:c.fare.fareType,cat3:c.isInternational?"International":"Domestic",cat4:l.segmentType,itemVariant:c.fare.fareType+""+((null===(s=null==c?void 0:c.fare)||void 0===s?void 0:s.bundleTypeName)?"_"+(null===(a=null==c?void 0:c.fare)||void 0===a?void 0:a.bundleType):""),promo:this.util.couponPromocode?this.util.couponPromocode:"",desc:u?(u.price.amount-u.price.amount).toFixed(2):"",itemQuantity:1,fareClass:c.fare.classOfService,loyaltyProgram:"NA",passengerType:"ADT",passengerCount:e.basketBooking.passengers.length,seatCount:e.basketBooking.seats.seats.length,itemRute:`${c.origin.code}-${c.destination.code}`,journeyTravelType:c.travelType,journeyOrigin:c.origin.code,journeyDestination:c.destination.code,journeyDepartureDate:c.departureDate.scheduled.split("T")[0],journeyDepartureTime:c.departureDate.scheduled.split("T")[1],journeyArrivalDate:c.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:c.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:l.operatingCarrier,segmentCarrierId:l.operatingCode,segmentRute:`${l.origin.code}-${l.destination.code}`,segmentOrigin:l.origin.code,segmentDestination:l.destination.code,segmentDepartureDate:l.departureDate.scheduled.split("T")[0],segmentDepartureTime:l.departureDate.scheduled.split("T")[1],segmentArrivalDate:l.arrivalDate.scheduled.split("T")[0],segmentArrivalTime:l.arrivalDate.scheduled.split("T")[1],segmentLength:l.segmentDuration,segmentLayover:l.layoverTime,segment:l.key}}returnSegmentWithKey(e,t){let n;for(const i of e.basketBooking.journeys)for(const e of i.segments)t===e.key&&(n=e);return n}returnViewExtrasGA4(e,t,n,i=!1,r=!1,s=!1){var a,c,l,u;const d=[];let h=0;for(const p of e.services)for(const l of p.options){const u=l.journeyKey?t.journeys.find(e=>!!e.key&&!!l.journeyKey&&e.key===l.journeyKey):t.journeys[0],g={item_name:"Extra "+this.util.setNameItemPucharse(l.name),item_id:l.ssrCode,price:l.price.amount,currency:e.currencyCode,item_brand:s?"VF":null==u?void 0:u.segments[0].operatingCarrier,item_category:"Ancillary",item_category_2:u.fare.fareType+""+((null===(a=null==u?void 0:u.fare)||void 0===a?void 0:a.bundleTypeName)?"_"+(null===(c=null==u?void 0:u.fare)||void 0===c?void 0:c.bundleType):""),item_category_3:(null==u?void 0:u.isInternational)?"International":"Domestic",item_category_4:this.util.getJourneySegmentType(u),item_variant:p.category,coupon:this.util.couponPromocode,quantity:1,item_list_name:n,index:h++};i?"Baggage"===p.category||o.b.includes(p.category)||d.push(g):r?"Baggage"===p.category&&d.push(g):d.push(g)}for(const o of e.transportServices){const i=o.journeyKey?t.journeys.find(e=>!!e.key&&!!o.journeyKey&&e.key===o.journeyKey):t.journeys[0];for(const t of o.pickupLocations){const s={item_name:"Extra "+this.util.setNameItemPucharse(t.name),item_id:t.ssrCode,price:t.price[0].price.amount,currency:e.currencyCode,item_brand:null==i?void 0:i.segments[0].operatingCarrier,item_category:"Ancillary",item_category_2:i.fare.fareType+""+((null===(l=null==i?void 0:i.fare)||void 0===l?void 0:l.bundleTypeName)?"_"+(null===(u=null==i?void 0:i.fare)||void 0===u?void 0:u.bundleType):""),item_category_3:(null==i?void 0:i.isInternational)?"International":"Domestic",item_category_4:this.util.getJourneySegmentType(i),item_variant:o.transportType,coupon:this.util.couponPromocode,quantity:1,item_list_name:"Extras|"+n,index:h++};r||d.push(s)}}return d}returnViewExtrasGAU(e,t,n,i=!1,r=!1,s=!1){var a,c,l,u,d;const h=[];let p=0;for(const g of e.services)for(const e of g.options){const u=e.journeyKey?t.journeys.find(t=>t.key===e.journeyKey):t.journeys[0],d={name:"Extra "+this.util.setNameItemPucharse(e.name),id:e.ssrCode,price:e.price.amount,brand:s?"VF":null==u?void 0:u.segments[0].operatingCarrier,category:`Ancillary/${(null===(a=null==u?void 0:u.fare)||void 0===a?void 0:a.fareType)+""+((null===(c=null==u?void 0:u.fare)||void 0===c?void 0:c.bundleTypeName)?"_"+(null===(l=null==u?void 0:u.fare)||void 0===l?void 0:l.bundleType):"")}/${(null==u?void 0:u.isInternational)?"International":"Domestic"}/${this.util.getJourneySegmentType(u)}`,variant:g.category,coupon:this.util.couponPromocode,quantity:1,list:n,position:p++};i?"Baggage"===g.category||o.b.includes(g.category)||h.push(d):r?"Baggage"===g.category&&h.push(d):h.push(d)}for(const o of e.transportServices){const e=o.journeyKey?t.journeys.find(e=>e.key===o.journeyKey):t.journeys[0];for(const t of o.pickupLocations){const i={name:"Extra "+this.util.setNameItemPucharse(t.name),id:t.ssrCode,price:t.price[0].price.amount,brand:null==e?void 0:e.segments[0].operatingCarrier,category:`Ancillary/${e.fare.fareType+""+((null===(u=e.fare)||void 0===u?void 0:u.bundleTypeName)?"_"+(null===(d=e.fare)||void 0===d?void 0:d.bundleType):"")}/${(null==e?void 0:e.isInternational)?"International":"Domestic"}`,variant:o.transportType,coupon:this.util.couponPromocode,quantity:1,list:"Extras|"+n,position:p++};r||h.push(i)}}return h}clickExtrasModalGA4(e,t,n="",i=!1){var o;const r=[];for(const[s,a]of e.entries()){let e,c;const l=(null===(o=this.serviceServices.getService(a.ssrCode))||void 0===o?void 0:o.jsonAttributes)||null;if(e=a.journeyKey?t.journeys.find(e=>a.journeyKey===e.key):t.journeys[0],a.segmentKey)for(const n of t.journeys)for(const e of n.segments)a.segmentKey===e.key&&(c=e);else c=e.segments[0];const u={item_name:a.name,item_id:a.ssrCode,price:a.price.amount,currency:t.currencyCode,item_brand:i?"VF":c.operatingCarrier,item_category:l?l.item_category:this.defaultCat.item_category,item_category_2:l?l.item_category_2:this.defaultCat.item_category_2,item_category_3:l?l.item_category_3:this.defaultCat.item_category_3,item_category_4:c.segmentType,item_variant:e.fare.fareType,coupon:this.util.couponPromocode?this.util.couponPromocode:"",discount:a.originalPrice?a.originalPrice.amount-a.price.amount:0,quantity:1,fare_class:e.fare.classOfService,loyalty_program:a.includedInVivaFan?"VivaFan":a.includedInLoyalty?"Doters":"NA",passenger_type:a.passengerKey?t.passengers.find(e=>a.passengerKey===e.passengerKey).type:"",passenger_count:t.passengers.length,seat_count:t.seats.seats.length||"",rute:`${e.origin.code}-${e.destination.code}`,journey_travel_type:e.travelType,journey_origin:e.origin.code,journey_destination:e.destination.code,journey_departure_date:e.departureDate.scheduled.split("T")[0],journey_departure_time:e.departureDate.scheduled.split("T")[1],journey_arrival_date:e.arrivalDate.scheduled.split("T")[0],journey_arrival_time:e.arrivalDate.scheduled.split("T")[1],segment_carrier_code:c.operatingCarrier,segment_carrier_id:c.operatingCode,segment_rute:`${c.origin.code}-${c.destination.code}`,segment_origin:c.origin.code,segment_destination:c.destination.code,segment_departure_date:c.departureDate.scheduled.split("T")[0],segment_departure_time:c.departureDate.scheduled.split("T")[1],segment_arrival_date:c.arrivalDate.scheduled.split("T")[0],segment_arrival_time:c.arrivalDate.scheduled.split("T")[1],segment_length:c.segmentDuration,segment_layover:c.layoverTime,item_list_name:`Extras${n}|${e.origin.code}-${e.destination.code}|${e.departureDate.scheduled.split("T")[0]}`,index:s};r.push(u)}return r}clickExtrasModalGAU(e,t,n="",i=!1){var o;const r=[];for(const[s,a]of e.entries()){let e,c;const l=(null===(o=this.serviceServices.getService(a.ssrCode))||void 0===o?void 0:o.jsonAttributes)||null;if(e=a.journeyKey?t.journeys.find(e=>a.journeyKey===e.key):t.journeys[0],a.segmentKey)for(const n of t.journeys)for(const e of n.segments)a.segmentKey===e.key&&(c=e);else c=e.segments[0];const u={name:a.name,id:a.ssrCode,price:a.price.amount,brand:i?"VF":c.operatingCarrier,category:`${l?l.item_category:this.defaultCat.item_category}/${l?l.item_category_2:this.defaultCat.item_category_2}/${l?l.item_category_3:this.defaultCat.item_category_3}/${c.segmentType}`,variant:e.fare.fareType,promo:this.util.couponPromocode?this.util.couponPromocode:"",desc:a.originalPrice?a.originalPrice.amount-a.price.amount:0,quantity:1,fareClass:e.fare.classOfService,loyaltyProgram:a.includedInVivaFan?"VivaFan":a.includedInLoyalty?"Doters":"NA",passengerType:a.passengerKey?t.passengers.find(e=>a.passengerKey===e.passengerKey).type:"",passengerCount:t.passengers.length,seatCount:t.seats.seats.length||"",itemRute:`${e.origin.code}-${e.destination.code}`,journeyTravelType:e.travelType,journeyOrigin:e.origin.code,journeyDestination:e.destination.code,journeyDepartureDate:e.departureDate.scheduled.split("T")[0],journeyDepartureTime:e.departureDate.scheduled.split("T")[1],journeyArrivalDate:e.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:e.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:c.operatingCarrier,segmentCarrierId:c.operatingCode,segmentRute:`${c.origin.code}-${c.destination.code}`,segmentOrigin:c.origin.code,segmentDestination:c.destination.code,segmentDepartureDate:c.departureDate.scheduled.split("T")[0],segmentDepartureTime:c.departureDate.scheduled.split("T")[1],segmentArrivalDate:c.arrivalDate.scheduled.split("T")[0],segmentArrivalTime:c.arrivalDate.scheduled.split("T")[1],segmentLength:c.segmentDuration,segmentLayover:c.layoverTime,list:`Extras${n}|${e.origin.code}-${e.destination.code}|${e.departureDate.scheduled.split("T")[0]}`,position:s};r.push(u)}return r}clickExtrasTransportGA4(e,t,n,i=!1){var o;const r=[];for(const[s,a]of e.entries()){let c;const l=(null===(o=this.serviceServices.getService(e[0].pickupLocations[0].ssrCode))||void 0===o?void 0:o.jsonAttributes)||null;c=a.journeyKey?t.journeys.find(e=>a.journeyKey===e.key):t.journeys[0];const u=c.segments[0],d={item_name:a.name,item_id:a.pickupLocations[0].ssrCode,price:a.pickupLocations[0].price[0].price.amount,currency:t.currencyCode,item_brand:i?"VF":u.operatingCarrier,item_category:l?l.item_category:this.defaultCat.item_category,item_category_2:l?l.item_category_2:this.defaultCat.item_category_2,item_category_3:l?l.item_category_3:this.defaultCat.item_category_3,item_category_4:this.util.getJourneySegmentType(c),item_variant:c.fare.fareType,coupon:this.util.couponPromocode?this.util.couponPromocode:"",discount:a.pickupLocations[0].price[0].originalPrice?a.pickupLocations[0].price[0].originalPrice.amount-a.pickupLocations[0].price[0].price.amount:0,quantity:1,fare_class:c.fare.classOfService,loyalty_program:"NA",passenger_type:"ADT",passenger_count:t.passengers.length,seat_count:t.seats.seats.length||"",rute:`${c.origin.code}-${c.destination.code}`,journey_travel_type:c.travelType,journey_origin:c.origin.code,journey_destination:c.destination.code,journey_departure_date:c.departureDate.scheduled.split("T")[0],journey_departure_time:c.departureDate.scheduled.split("T")[1],journey_arrival_date:c.arrivalDate.scheduled.split("T")[0],journey_arrival_time:c.arrivalDate.scheduled.split("T")[1],segment_carrier_code:u.operatingCarrier,segment_carrier_id:u.operatingCode,segment_rute:`${u.origin.code}-${u.destination.code}`,segment_origin:u.origin.code,segment_destination:u.destination.code,segment_departure_date:u.departureDate.scheduled.split("T")[0],segment_departure_time:u.departureDate.scheduled.split("T")[1],segment_arrival_date:u.arrivalDate.scheduled.split("T")[0],segment_arrival_time:u.arrivalDate.scheduled.split("T")[1],segment_length:u.segmentDuration,segment_layover:u.layoverTime,item_list_name:`Extras${n}|${c.origin.code}-${c.destination.code}|${c.departureDate.scheduled.split("T")[0]}`,index:s};r.push(d)}return r}clickExtrasTransportGAU(e,t,n,i=!1){var o;const r=[];for(const[s,a]of e.entries()){let c;const l=(null===(o=this.serviceServices.getService(e[0].pickupLocations[0].ssrCode))||void 0===o?void 0:o.jsonAttributes)||null;c=a.journeyKey?t.journeys.find(e=>a.journeyKey===e.key):t.journeys[0];const u=c.segments[0],d={name:a.name,id:e[0].pickupLocations[0].ssrCode,price:a.pickupLocations[0].price[0].price.amount,brand:i?"VF":u.operatingCarrier,category:`${l?l.item_category:this.defaultCat.item_category}/${l?l.item_category_2:this.defaultCat.item_category_2}/${l?l.item_category_3:this.defaultCat.item_category_3}/${this.util.getJourneySegmentType(c)}`,variant:c.fare.fareType,promo:this.util.couponPromocode?this.util.couponPromocode:"",desc:a.pickupLocations[0].price[0].originalPrice?a.pickupLocations[0].price[0].originalPrice.amount-a.pickupLocations[0].price[0].price.amount:0,quantity:1,fareClass:c.fare.classOfService,loyaltyProgram:"NA",passengerType:"ADT",passengerCount:t.passengers.length,seatCount:t.seats.seats.length||"",itemRute:`${c.origin.code}-${c.destination.code}`,journeyTravelType:c.travelType,journeyOrigin:c.origin.code,journeyDestination:c.destination.code,journeyDepartureDate:c.departureDate.scheduled.split("T")[0],journeyDepartureTime:c.departureDate.scheduled.split("T")[1],journeyArrivalDate:c.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:c.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:u.operatingCarrier,segmentCarrierId:u.operatingCode,segmentRute:`${u.origin.code}-${u.destination.code}`,segmentOrigin:u.origin.code,segmentDestination:u.destination.code,segmentDepartureDate:u.departureDate.scheduled.split("T")[0],segmentDepartureTime:u.departureDate.scheduled.split("T")[1],segmentArrivalDate:u.arrivalDate.scheduled.split("T")[0],segmentArrivalTime:u.arrivalDate.scheduled.split("T")[1],segmentLength:u.segmentDuration,segmentLayover:u.layoverTime,list:`Extras${n}|${c.origin.code}-${c.destination.code}|${c.departureDate.scheduled.split("T")[0]}`,position:s};r.push(d)}return r}clickExtrasDocumentedGA4(e,t,n,i=!1){var o;const r=(null===(o=this.serviceServices.getService(e.ssrCode))||void 0===o?void 0:o.jsonAttributes)||null,s=t.journeys.find(t=>e.journeyKey===t.key),a=s.segments[0];return{item_name:e.name,item_id:e.ssrCode,price:e.price.amount,currency:t.currencyCode,item_brand:i?"VF":a.operatingCarrier,item_category:r?r.item_category:this.defaultCat.item_category,item_category_2:r?r.item_category_2:this.defaultCat.item_category_2,item_category_3:r?r.item_category_3:this.defaultCat.item_category_3,item_category_4:this.util.getJourneySegmentType(s),item_variant:s.fare.fareType,coupon:this.util.couponPromocode?this.util.couponPromocode:"",discount:e.originalPrice?e.originalPrice.amount-e.price.amount:0,quantity:1,fare_class:s.fare.classOfService,loyalty_program:e.includedInVivaFan?"VivaFan":e.includedInLoyalty?"Doters":"NA",passenger_type:e.passengerKey?t.passengers.find(t=>e.passengerKey===t.passengerKey).type:"",passenger_count:t.passengers.length,seat_count:t.seats.seats.length||"",rute:`${s.origin.code}-${s.destination.code}`,journey_travel_type:s.travelType,journey_origin:s.origin.code,journey_destination:s.destination.code,journey_departure_date:s.departureDate.scheduled.split("T")[0],journey_departure_time:s.departureDate.scheduled.split("T")[1],journey_arrival_date:s.arrivalDate.scheduled.split("T")[0],journey_arrival_time:s.arrivalDate.scheduled.split("T")[1],segment_carrier_code:a.operatingCarrier,segment_carrier_id:a.operatingCode,segment_rute:`${a.origin.code}-${a.destination.code}`,segment_origin:a.origin.code,segment_destination:a.destination.code,segment_departure_date:a.departureDate.scheduled.split("T")[0],segment_departure_time:a.departureDate.scheduled.split("T")[1],segment_arrival_date:a.arrivalDate.scheduled.split("T")[0],segment_arrival_time:a.arrivalDate.scheduled.split("T")[1],segment_length:a.segmentDuration,segment_layover:a.layoverTime,item_list_name:`${n}|${s.origin.code}-${s.destination.code}|${s.departureDate.scheduled.split("T")[0]}`,index:0}}clickExtrasDocumentedGAU(e,t,n,i=!1){var o;const r=(null===(o=this.serviceServices.getService(e.ssrCode))||void 0===o?void 0:o.jsonAttributes)||null,s=t.journeys.find(t=>e.journeyKey===t.key),a=s.segments[0];return{name:e.name,id:e.ssrCode,price:e.price.amount,brand:i?"VF":a.operatingCarrier,category:`${r?r.item_category:this.defaultCat.item_category}/${r?r.item_category_2:this.defaultCat.item_category_2}/${r?r.item_category_3:this.defaultCat.item_category_3}/${this.util.getJourneySegmentType(s)}`,variant:s.fare.fareType,promo:this.util.couponPromocode?this.util.couponPromocode:"",desc:e.originalPrice?e.originalPrice.amount-e.price.amount:0,quantity:1,fareClass:s.fare.classOfService,loyaltyProgram:e.includedInVivaFan?"VivaFan":e.includedInLoyalty?"Doters":"NA",passengerType:e.passengerKey?t.passengers.find(t=>e.passengerKey===t.passengerKey).type:"",passengerCount:t.passengers.length,seatCount:t.seats.seats.length||"",itemRute:`${s.origin.code}-${s.destination.code}`,journeyTravelType:s.travelType,journeyOrigin:s.origin.code,journeyDestination:s.destination.code,journeyDepartureDate:s.departureDate.scheduled.split("T")[0],journeyDepartureTime:s.departureDate.scheduled.split("T")[1],journeyArrivalDate:s.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:s.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:a.operatingCarrier,segmentCarrierId:a.operatingCode,segmentRute:`${a.origin.code}-${a.destination.code}`,segmentOrigin:a.origin.code,segmentDestination:a.destination.code,segmentDepartureDate:a.departureDate.scheduled.split("T")[0],segmentDepartureTime:a.departureDate.scheduled.split("T")[1],segmentArrivalDate:a.arrivalDate.scheduled.split("T")[0],segmentArrivalTime:a.arrivalDate.scheduled.split("T")[1],segmentLength:a.segmentDuration,segmentLayover:a.layoverTime,list:`${n}|${s.origin.code}-${s.destination.code}|${s.departureDate.scheduled.split("T")[0]}`,position:0}}addToCartExtrasGA4(e,t=!1,n=!1){var r,s,a;const c=[];if(e.basketBooking.services.transportServices)for(const o of e.basketBooking.services.transportServices){const s=e.basketBooking.journeys.find(e=>o.journeyKey===e.key),a=(null===(r=this.serviceServices.getService(o.pickupLocations[0].ssrCode))||void 0===r?void 0:r.jsonAttributes)||null,l=e.basket.customFields.preSelectedServices.some(e=>e.ssrCode===o.pickupLocations[0].ssrCode),u={item_name:o.name,item_id:o.pickupLocations[0].ssrCode,price:o.pickupLocations[0].price.amount,currency:e.basketBooking.currencyCode,item_brand:s.segments[0].operatingCarrier,item_category:a?a.item_category:this.defaultCat.item_category,item_category_2:a?a.item_category_2:this.defaultCat.item_category_2,item_category_3:a?a.item_category_3:this.defaultCat.item_category_3,item_category_4:this.util.getJourneySegmentType(s),item_variant:s.fare.fareType,coupon:this.util.couponPromocode?this.util.couponPromocode:"",discount:(o.pickupLocations[0].price.amount-o.pickupLocations[0].price.amount).toFixed(2),quantity:o.pickupLocations.length,fare_class:s.fare.classOfService,loyalty_program:"NA",passenger_type:"ADT",passenger_count:e.basketBooking.passengers.length,seat_count:e.basketBooking.seats.seats.length,preselected:l?"Yes":"No",rute:`${s.origin.code}-${s.destination.code}`,journey_travel_type:s.travelType,journey_origin:s.origin.code,journey_destination:s.destination.code,journey_departure_date:s.departureDate.scheduled.split("T")[0],journey_departure_time:s.departureDate.scheduled.split("T")[1],journey_arrival_date:s.arrivalDate.scheduled.split("T")[0],journey_arrival_time:s.arrivalDate.scheduled.split("T")[1],segment_carrier_code:s.segments[0].operatingCarrier,segment_carrier_id:s.segments[0].operatingCode,segment_rute:`${s.segments[0].origin.code}-${s.segments[0].destination.code}`,segment_origin:s.segments[0].origin.code,segment_destination:s.segments[0].destination.code,segment_departure_date:s.segments[0].departureDate.scheduled.split("T")[0],segment_departure_time:s.segments[0].departureDate.scheduled.split("T")[1],segment_arrival_date:s.segments[0].arrivalDate.scheduled.split("T")[0],segment_arrival_time:s.segments[0].arrivalDate.scheduled.split("T")[1],segment_length:s.segments[0].segmentDuration,segment_layover:s.segments[0].layoverTime};t&&!n?o.pickupLocations[0].status!==i.i.Committed&&c.push(u):n||c.push(u)}for(const l of e.basketBooking.services.services){if(l.options.length>1&&l.options[0].journeyKey)for(const r of l.options){const a=e.basketBooking.journeys.find(e=>r.journeyKey===e.key),u=e.basket.customFields.preSelectedServices.some(e=>e.ssrCode===r.ssrCode&&r.status===i.i.Pending),d=(null===(s=this.serviceServices.getService(r.ssrCode))||void 0===s?void 0:s.jsonAttributes)||null;let h=r.price.amount;if(!r.price.amount){const t=e.basket.travel.charges.find(e=>e.journeyKey===r.journeyKey&&e.passengerKey===r.passengerKey&&e.segmentKey===r.segmentKey&&e.code===r.ssrCode);h=t?t.amount.amount:0}const p={item_name:l.name,item_id:r.ssrCode,price:h,currency:e.basketBooking.currencyCode,item_brand:a.segments[0].operatingCarrier,item_category:d?d.item_category:this.defaultCat.item_category,item_category_2:d?d.item_category_2:this.defaultCat.item_category_2,item_category_3:d?d.item_category_3:this.defaultCat.item_category_3,item_category_4:this.util.getJourneySegmentType(a),item_variant:a.fare.fareType,coupon:this.util.couponPromocode?this.util.couponPromocode:"",discount:(r.price.amount-r.price.amount).toFixed(2),quantity:1,fare_class:a.fare.classOfService,loyalty_program:r.includedInVivaFan?"VivaFan":r.includedInLoyalty?"Doters":"NA",passenger_type:"ADT",passenger_count:e.basketBooking.passengers.length,seat_count:e.basketBooking.seats.seats.length,preselected:u?"Yes":"No",rute:`${a.origin.code}-${a.destination.code}`,journey_travel_type:a.travelType,journey_origin:a.origin.code,journey_destination:a.destination.code,journey_departure_date:a.departureDate.scheduled.split("T")[0],journey_departure_time:a.departureDate.scheduled.split("T")[1],journey_arrival_date:a.arrivalDate.scheduled.split("T")[0],journey_arrival_time:a.arrivalDate.scheduled.split("T")[1],segment_carrier_code:a.segments[0].operatingCarrier,segment_carrier_id:a.segments[0].operatingCode,segment_rute:`${a.segments[0].origin.code}-${a.segments[0].destination.code}`,segment_origin:a.segments[0].origin.code,segment_destination:a.segments[0].destination.code,segment_departure_date:a.segments[0].departureDate.scheduled.split("T")[0],segment_departure_time:a.segments[0].departureDate.scheduled.split("T")[1],segment_arrival_date:a.segments[0].arrivalDate.scheduled.split("T")[0],segment_arrival_time:a.segments[0].arrivalDate.scheduled.split("T")[1],segment_length:a.segments[0].segmentDuration,segment_layover:a.segments[0].layoverTime};n?"Baggage"===l.category&&r.status!==i.i.Committed&&c.push(p):t&&("Baggage"===l.category||o.b.includes(l.category)||r.status===i.i.Committed)||c.push(p)}if(1===l.options.length||!l.options[0].journeyKey){const r=(null===(a=this.serviceServices.getService(l.options[0].ssrCode))||void 0===a?void 0:a.jsonAttributes)||null;let s=l.options[0].price.amount;if(!l.options[0].price.amount){const t=e.basket.travel.charges.find(e=>e.journeyKey===l.options[0].journeyKey&&e.passengerKey===l.options[0].passengerKey&&e.segmentKey===l.options[0].segmentKey&&e.code===l.options[0].ssrCode);s=t?t.amount.amount:0}const u=e.basket.customFields.preSelectedServices.some(e=>e.ssrCode===l.options[0].ssrCode&&l.options[0].status===i.i.Pending),d={item_name:l.name,item_id:l.options[0].ssrCode,price:s,currency:e.basketBooking.currencyCode,item_brand:e.basketBooking.journeys[0].segments[0].operatingCarrier,item_category:r?r.item_category:this.defaultCat.item_category,item_category_2:r?r.item_category_2:this.defaultCat.item_category_2,item_category_3:r?r.item_category_3:this.defaultCat.item_category_3,item_category_4:this.util.getJourneySegmentType(e.basketBooking.journeys[0]),item_variant:e.basketBooking.journeys[0].fare.fareType,coupon:this.util.couponPromocode?this.util.couponPromocode:"",discount:(l.options[0].price.amount-l.options[0].price.amount).toFixed(2),quantity:e.basketBooking.charges.filter(e=>l.options[0].ssrCode===e.code).length,fare_class:e.basketBooking.journeys[0].fare.classOfService,loyalty_program:"",passenger_type:"ADT",passenger_count:e.basketBooking.passengers.length,seat_count:e.basketBooking.seats.seats.length,preselected:u?"Yes":"No",rute:`${e.basketBooking.journeys[0].origin.code}-${e.basketBooking.journeys[0].destination.code}`,journey_travel_type:e.basketBooking.journeys[0].travelType,journey_origin:e.basketBooking.journeys[0].origin.code,journey_destination:e.basketBooking.journeys[0].destination.code,journey_departure_date:e.basketBooking.journeys[0].departureDate.scheduled.split("T")[0],journey_departure_time:e.basketBooking.journeys[0].departureDate.scheduled.split("T")[1],journey_arrival_date:e.basketBooking.journeys[0].arrivalDate.scheduled.split("T")[0],journey_arrival_time:e.basketBooking.journeys[0].arrivalDate.scheduled.split("T")[1],segment_carrier_code:e.basketBooking.journeys[0].segments[0].operatingCarrier,segment_carrier_id:e.basketBooking.journeys[0].segments[0].operatingCode,segment_rute:`${e.basketBooking.journeys[0].segments[0].origin.code}-${e.basketBooking.journeys[0].segments[0].destination.code}`,segment_origin:e.basketBooking.journeys[0].segments[0].origin.code,segment_destination:e.basketBooking.journeys[0].segments[0].destination.code,segment_departure_date:e.basketBooking.journeys[0].segments[0].departureDate.scheduled.split("T")[0],segment_departure_time:e.basketBooking.journeys[0].segments[0].departureDate.scheduled.split("T")[1],segment_arrival_date:e.basketBooking.journeys[0].segments[0].arrivalDate.scheduled.split("T")[0],segment_arrival_time:e.basketBooking.journeys[0].segments[0].arrivalDate.scheduled.split("T")[1],segment_length:e.basketBooking.journeys[0].segments[0].segmentDuration,segment_layover:e.basketBooking.journeys[0].segments[0].layoverTime};n?"Baggage"===l.category&&l.options[0].status!==i.i.Committed&&c.push(d):t&&("Baggage"===l.category||o.b.includes(l.category)||l.options[0].status===i.i.Committed)||c.push(d)}}return c}addToCartExtrasGAU(e,t=!1,n=!1){var r,s,a;const c=[];if(e.basketBooking.services.transportServices)for(const o of e.basketBooking.services.transportServices){const s=e.basketBooking.journeys.find(e=>o.journeyKey===e.key),a=(null===(r=this.serviceServices.getService(o.pickupLocations[0].ssrCode))||void 0===r?void 0:r.jsonAttributes)||null,l=e.basket.customFields.preSelectedServices.some(e=>e.ssrCode===o.pickupLocations[0].ssrCode),u={itemName:o.name,itemId:o.pickupLocations[0].ssrCode,amount:o.pickupLocations[0].price.amount,itemBrand:s.segments[0].operatingCarrier,cat1:a?a.item_category:this.defaultCat.item_category,cat2:a?a.item_category_2:this.defaultCat.item_category_2,cat3:a?a.item_category_3:this.defaultCat.item_category_3,cat4:this.util.getJourneySegmentType(s),promo:this.util.couponPromocode?this.util.couponPromocode:"",desc:(o.pickupLocations[0].price.amount-o.pickupLocations[0].price.amount).toFixed(2),itemQuantity:o.pickupLocations.length,fareClass:s.fare.classOfService,loyaltyProgram:"NA",passengerType:"ADT",passengerCount:e.basketBooking.passengers.length,seatCount:e.basketBooking.seats.seats.length,preselected:l?"Yes":"No",itemRute:`${s.origin.code}-${s.destination.code}`,journeyTravelType:s.travelType,journeyOrigin:s.origin.code,journeyDestination:s.destination.code,journeyDepartureDate:s.departureDate.scheduled.split("T")[0],journeyDepartureTime:s.departureDate.scheduled.split("T")[1],journeyArrivalDate:s.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:s.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:s.segments[0].operatingCarrier,segmentCarrierId:s.segments[0].operatingCode,segmentRute:`${s.segments[0].origin.code}-${s.segments[0].destination.code}`,segmentOrigin:s.segments[0].origin.code,segmentDestination:s.segments[0].destination.code,segmentDepartureDate:s.segments[0].departureDate.scheduled.split("T")[0],segmentDepartureTime:s.segments[0].departureDate.scheduled.split("T")[1],segmentArrivalDate:s.segments[0].arrivalDate.scheduled.split("T")[0],segmentArrivalTime:s.segments[0].arrivalDate.scheduled.split("T")[1],segmentLength:s.segments[0].segmentDuration,segmentLayover:s.segments[0].layoverTime};t&&!n?o.pickupLocations[0].status!==i.i.Committed&&c.push(u):n||c.push(u)}for(const l of e.basketBooking.services.services)if(l.options.length>1&&l.options[0].journeyKey)for(const r of l.options){const a=e.basketBooking.journeys.find(e=>r.journeyKey===e.key),u=(null===(s=this.serviceServices.getService(r.ssrCode))||void 0===s?void 0:s.jsonAttributes)||null,d=e.basket.customFields.preSelectedServices.some(e=>e.ssrCode===r.ssrCode&&r.status===i.i.Pending);let h=r.price.amount;if(!r.price.amount){const t=e.basket.travel.charges.find(e=>e.journeyKey===r.journeyKey&&e.passengerKey===r.passengerKey&&e.segmentKey===r.segmentKey&&e.code===r.ssrCode);h=t?t.amount.amount:0}const p={itemName:l.name,itemId:r.ssrCode,amount:h,itemBrand:a.segments[0].operatingCarrier,cat1:u?u.item_category:this.defaultCat.item_category,cat2:u?u.item_category_2:this.defaultCat.item_category_2,cat3:u?null==u?void 0:u.item_category_3:this.defaultCat.item_category_3,cat4:this.util.getJourneySegmentType(a),itemVariant:a.fare.fareType,promo:this.util.couponPromocode?this.util.couponPromocode:"",desc:(r.price.amount-r.price.amount).toFixed(2),itemQuantity:1,fareClass:a.fare.classOfService,loyaltyProgram:r.includedInVivaFan?"VivaFan":r.includedInLoyalty?"Doters":"NA",passengerType:"ADT",passengerCount:e.basketBooking.passengers.length,seatCount:e.basketBooking.seats.seats.length,preselected:d?"Yes":"No",itemRute:`${a.origin.code}-${a.destination.code}`,journeyTravelType:a.travelType,journeyOrigin:a.origin.code,journeyDestination:a.destination.code,journeyDepartureDate:a.departureDate.scheduled.split("T")[0],journeyDepartureTime:a.departureDate.scheduled.split("T")[1],journeyArrivalDate:a.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:a.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:a.segments[0].operatingCarrier,segmentCarrierId:a.segments[0].operatingCode,segmentRute:`${a.segments[0].origin.code}-${a.segments[0].destination.code}`,segmentOrigin:a.segments[0].origin.code,segmentDestination:a.segments[0].destination.code,segmentDepartureDate:a.segments[0].departureDate.scheduled.split("T")[0],segmentDepartureTime:a.segments[0].departureDate.scheduled.split("T")[1],segmentArrivalDate:a.segments[0].arrivalDate.scheduled.split("T")[0],segmentArrivalTime:a.segments[0].arrivalDate.scheduled.split("T")[1],segmentLength:a.segments[0].segmentDuration,segmentLayover:a.segments[0].layoverTime};n?"Baggage"===l.category&&r.status!==i.i.Committed&&c.push(p):t&&("Baggage"===l.category||o.b.includes(l.category)||r.status===i.i.Committed)||c.push(p)}else{const r=(null===(a=this.serviceServices.getService(l.options[0].ssrCode))||void 0===a?void 0:a.jsonAttributes)||null;let s=l.options[0].price.amount;if(!l.options[0].price.amount){const t=e.basket.travel.charges.find(e=>e.journeyKey===l.options[0].journeyKey&&e.passengerKey===l.options[0].passengerKey&&e.segmentKey===l.options[0].segmentKey&&e.code===l.options[0].ssrCode);s=t?t.amount.amount:0}const u=e.basket.customFields.preSelectedServices.some(e=>e.ssrCode===l.options[0].ssrCode&&l.options[0].status===i.i.Pending),d={itemName:l.name,itemId:l.options[0].ssrCode,amount:s,itemBrand:e.basketBooking.journeys[0].segments[0].operatingCarrier,cat1:r?r.item_category:this.defaultCat.item_category,cat2:r?r.item_category_2:this.defaultCat.item_category_2,cat3:r?r.item_category_3:this.defaultCat.item_category_3,cat4:this.util.getJourneySegmentType(e.basketBooking.journeys[0]),itemVariant:e.basketBooking.journeys[0].fare.fareType,promo:this.util.couponPromocode?this.util.couponPromocode:"",desc:(l.options[0].price.amount-l.options[0].price.amount).toFixed(2),itemQuantity:e.basketBooking.charges.filter(e=>l.options[0].ssrCode===e.code).length,fareClass:e.basketBooking.journeys[0].fare.classOfService,loyaltyProgram:"",passengerType:"ADT",passengerCount:e.basketBooking.passengers.length,seatCount:e.basketBooking.seats.seats.length,preselected:u?"Yes":"No",itemRute:`${e.basketBooking.journeys[0].origin.code}-${e.basketBooking.journeys[0].destination.code}`,journeyTravelType:e.basketBooking.journeys[0].travelType,journeyOrigin:e.basketBooking.journeys[0].origin.code,journeyDestination:e.basketBooking.journeys[0].destination.code,journeyDepartureDate:e.basketBooking.journeys[0].departureDate.scheduled.split("T")[0],journeyDepartureTime:e.basketBooking.journeys[0].departureDate.scheduled.split("T")[1],journeyArrivalDate:e.basketBooking.journeys[0].arrivalDate.scheduled.split("T")[0],journeyArrivalTime:e.basketBooking.journeys[0].arrivalDate.scheduled.split("T")[1],segmentCarrierCode:e.basketBooking.journeys[0].segments[0].operatingCarrier,segmentCarrierId:e.basketBooking.journeys[0].segments[0].operatingCode,segmentRute:`${e.basketBooking.journeys[0].segments[0].origin.code}-${e.basketBooking.journeys[0].segments[0].destination.code}`,segmentOrigin:e.basketBooking.journeys[0].segments[0].origin.code,segmentDestination:e.basketBooking.journeys[0].segments[0].destination.code,segmentDepartureDate:e.basketBooking.journeys[0].segments[0].departureDate.scheduled.split("T")[0],segmentDepartureTime:e.basketBooking.journeys[0].segments[0].departureDate.scheduled.split("T")[1],segmentArrivalDate:e.basketBooking.journeys[0].segments[0].arrivalDate.scheduled.split("T")[0],segmentArrivalTime:e.basketBooking.journeys[0].segments[0].arrivalDate.scheduled.split("T")[1],segmentLength:e.basketBooking.journeys[0].segments[0].segmentDuration,segmentLayover:e.basketBooking.journeys[0].segments[0].layoverTime};n?"Baggage"===l.category&&l.options[0].status!==i.i.Committed&&c.push(d):t&&("Baggage"===l.category||o.b.includes(l.category)||l.options[0].status===i.i.Committed)||c.push(d)}return c}accommodationLightGA4Item(e,t,n=0){const i=this.util.getFlightType(e)?"International":"Domestic",o=this.util.getAccommodationNights(e);return{item_name:e.accommodation.propertyDetails.name,item_id:e.accommodation.bookingCode,price:Math.round(100*(e.accommodation.totalAmount.amount/(o||1)+Number.EPSILON))/100,currency:e.currencyCode,item_brand:"Bidflyer",item_category:"Hotel",item_category_2:"Room",item_category_3:i,item_variant:e.accommodation.rooms[n].name,item_list_name:t,index:n+1,coupon:"",discount:0,quantity:o}}accommodationLightGAUItem(e,t,n=0){const i=this.util.getFlightType(e)?"International":"Domestic",o=this.util.getAccommodationNights(e);return{name:e.accommodation.propertyDetails.name,id:e.accommodation.bookingCode,price:Math.round(100*(e.accommodation.totalAmount.amount/(o||1)+Number.EPSILON))/100,brand:"Bidflyer",category:"Hotel/Room/"+i,variant:e.accommodation.rooms[n].name,list:t,position:n+1,promo:"",desc:0,quantity:o}}accommodationLightGA4Items(e,t){var n;return((null===(n=e.accommodation)||void 0===n?void 0:n.rooms)||[]).map((n,i)=>this.accommodationLightGA4Item(e,t,i))}accommodationLightGAUItems(e,t){var n;return((null===(n=e.accommodation)||void 0===n?void 0:n.rooms)||[]).map((n,i)=>this.accommodationLightGAUItem(e,t,i))}accommodationRobustGA4Item(e,t=0){var n;const i="MX"===(null===(n=e.journeys[0])||void 0===n?void 0:n.destination.countryCode)?"Domestic":"International",o=this.util.getAccommodationNights(e),r=e.journeys[0];return{item_name:e.accommodation.propertyDetails.name,item_id:e.accommodation.bookingCode,price:Math.round(100*(e.accommodation.totalAmount.amount/(o||1)+Number.EPSILON))/100,currency:e.currencyCode,item_brand:"Bidflyer",item_category:"Hotel",item_category_2:"Room",item_category_3:i,item_variant:e.accommodation.rooms[t].name,coupon:"",discount:0,quantity:o,fare_class:r.fare.classOfService,loyalty_program:"",passenger_type:"ADT",passenger_count:e.passengers.length,seat_count:e.seats.seats.length,rute:`${r.origin.code}-${r.destination.code}`,journey_travel_type:r.travelType,journey_origin:r.origin.code,journey_destination:r.destination.code,journey_departure_date:r.departureDate.scheduled.split("T")[0],journey_departure_time:r.departureDate.scheduled.split("T")[1],journey_arrival_date:r.arrivalDate.scheduled.split("T")[0],journey_arrival_time:r.arrivalDate.scheduled.split("T")[1],segment_carrier_code:r.segments[0].operatingCarrier,segment_carrier_id:r.segments[0].operatingCode,segment_rute:`${r.segments[0].origin.code}-${r.segments[0].destination.code}`,segment_origin:r.segments[0].origin.code,segment_destination:r.segments[0].destination.code,segment_departure_date:r.segments[0].departureDate.scheduled.split("T")[0],segment_departure_time:r.segments[0].departureDate.scheduled.split("T")[1],segment_arrival_date:r.segments[0].arrivalDate.scheduled.split("T")[0],segment_arrival_time:r.segments[0].arrivalDate.scheduled.split("T")[1],segment_length:r.segments[0].segmentDuration,segment_layover:r.segments[0].layoverTime}}accommodationRobustGAUItem(e,t=0){var n;const i="MX"===(null===(n=e.journeys[0])||void 0===n?void 0:n.destination.countryCode)?"Domestic":"International",o=this.util.getAccommodationNights(e),r=e.journeys[0];return{name:e.accommodation.propertyDetails.name,id:e.accommodation.bookingCode,price:Math.round(100*(e.accommodation.totalAmount.amount/(o||1)+Number.EPSILON))/100,brand:"Bidflyer",category:"Hotel/Room/"+i,variant:e.accommodation.rooms[t].name,promo:"",desc:0,quantity:o,fareClass:r.fare.classOfService,loyaltyProgram:"",passengerType:"ADT",passengerCount:e.passengers.length,seatCount:e.seats.seats.length,itemRute:`${r.origin.code}-${r.destination.code}`,journeyTravelType:r.travelType,journeyOrigin:r.origin.code,journeyDestination:r.destination.code,journeyDepartureDate:r.departureDate.scheduled.split("T")[0],journeyDepartureTime:r.departureDate.scheduled.split("T")[1],journeyArrivalDate:r.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:r.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:r.segments[0].operatingCarrier,segmentCarrierId:r.segments[0].operatingCode,segmentRute:`${r.segments[0].origin.code}-${r.segments[0].destination.code}`,segmentOrigin:r.segments[0].origin.code,segmentDestination:r.segments[0].destination.code,segmentDepartureDate:r.segments[0].departureDate.scheduled.split("T")[0],segmentDepartureTime:r.segments[0].departureDate.scheduled.split("T")[1],segmentArrivalDate:r.segments[0].arrivalDate.scheduled.split("T")[0],segmentArrivalTime:r.segments[0].arrivalDate.scheduled.split("T")[1],segmentLength:r.segments[0].segmentDuration,segmentLayover:r.segments[0].layoverTime}}itemsPurchase(e,t,n=!1,i=!1){var o;const r=[],s=[],a=n?e.basket.travel.charges.filter(e=>!e.code.includes("Flight")):e.basketBooking.charges.filter(e=>!e.code.includes("Flight"));return e.basketBooking.journeys.forEach(t=>{s.push(n?e.basket.travel.charges.find(e=>e.code.includes("Flight")&&e.journeyKey===t.key):e.basketBooking.charges.find(e=>e.code.includes("Flight")&&e.journeyKey===t.key))}),"GA4"===t?(r.push(...this.buildItemPurchaseGA4(s,e,"Flight ticket",n,i)),r.push(...this.buildItemPurchaseGA4(a,e,null,n,i))):(r.push(...this.buildItemPurchaseGAU(s,e,"Flight ticket",n,i)),r.push(...this.buildItemPurchaseGAU(a,e,null,n,i))),(null===(o=null==e?void 0:e.basketBooking)||void 0===o?void 0:o.accommodation)&&Array.isArray(e.basketBooking.accommodation.rooms)&&(e.basketBooking.accommodation.rooms||[]).forEach("GA4"===t?(t,n)=>{r.push(this.accommodationRobustGA4Item(e.basketBooking,n))}:(t,n)=>{r.push(this.accommodationRobustGAUItem(e.basketBooking,n))}),r}buildItemPurchaseGA4(e,t,n,i=!1,o=!1){var r,s;const a=[],c=[],l=[];n&&t.basketBooking.journeys.forEach(e=>{const n=(i?t.basket.travel.charges.filter(t=>e.key===t.journeyKey):t.basketBooking.charges.filter(t=>e.key===t.journeyKey)).map(e=>e.code.includes("Flight")?e.amount.amount:0).reduce((e,t)=>e+t,0);l.push(n.toFixed(2))});for(const[u,d]of e.entries())if(d){let e,c=!1;(null==d?void 0:d.journeyKey)?(e=t.basketBooking.journeys.find(e=>d.journeyKey===e.key),c=!!t.basketBooking.services.services.find(e=>e.options.find(e=>e.ssrCode===d.code&&e.segmentKey===d.segmentKey&&e.passengerKey===d.passengerKey&&e.includedInLoyalty))):e=t.basketBooking.journeys[0];const h=t.basket.customFields.preSelectedServices.some(e=>e.ssrCode===d.code),p={item_name:n||this.util.getItemName(d),item_id:this.util.getItemId(d,t),price:n?l[u]/t.basketBooking.passengers.length:d.amount.amount,currency:t.basketBooking.currencyCode,item_brand:o?"VF":e.segments[0].operatingCarrier,item_category:this.util.getCat("cat1",d),item_category_2:this.util.getCat("cat2",d,e),item_category_3:this.util.getCat("cat3",d,e),item_category_4:this.util.getJourneySegmentType(e),item_variant:e.fare.fareType+((null===(r=e.fare)||void 0===r?void 0:r.bundleTypeName)?"_"+(null===(s=e.fare)||void 0===s?void 0:s.bundleType):""),coupon:this.util.couponPromocode?this.util.couponPromocode:"",discount:(d.originalAmount.amount-d.amount.amount).toFixed(2),quantity:n?t.basketBooking.passengers.length:this.util.getChargesQuantity(t,d,i),fare_class:e.fare.classOfService,loyalty_program:d.amount.amount<=0?o?"VivaFan":c?"Doters":"NA":"NA",passenger_type:"ADT",passenger_count:t.basketBooking.passengers.length,seat_count:t.basketBooking.seats.seats.length,preselected:h?"Yes":"No",rute:`${e.origin.code}-${e.destination.code}`,journey_travel_type:e.travelType,journey_origin:e.origin.code,journey_destination:e.destination.code,journey_departure_date:e.departureDate.scheduled.split("T")[0],journey_departure_time:e.departureDate.scheduled.split("T")[1],journey_arrival_date:e.arrivalDate.scheduled.split("T")[0],journey_arrival_time:e.arrivalDate.scheduled.split("T")[1],segment_carrier_code:e.segments[0].operatingCarrier,segment_carrier_id:e.segments[0].operatingCode,segment_rute:`${e.segments[0].origin.code}-${e.segments[0].destination.code}`,segment_origin:e.segments[0].origin.code,segment_destination:e.segments[0].destination.code,segment_departure_date:e.segments[0].departureDate.scheduled.split("T")[0],segment_departure_time:e.segments[0].departureDate.scheduled.split("T")[1],segment_arrival_date:e.segments[0].arrivalDate.scheduled.split("T")[0],segment_arrival_time:e.segments[0].arrivalDate.scheduled.split("T")[1],segment_length:e.segments[0].segmentDuration,segment_layover:e.segments[0].layoverTime};a.push(p)}for(const u of a)c.find(e=>u.item_name===e.item_name&&u.segment_rute===e.segment_rute)||c.push(u);return c}buildItemPurchaseGAU(e,t,n,i=!1,o=!1){var r,s,a,c;const l=[],u=[],d=[];n&&t.basketBooking.journeys.forEach(e=>{const n=(i?t.basket.travel.charges.filter(t=>e.key===t.journeyKey):t.basketBooking.charges.filter(t=>e.key===t.journeyKey)).map(e=>e.code.includes("Flight")?e.amount.amount:0).reduce((e,t)=>e+t,0);d.push(n.toFixed(2))});for(const[h,p]of e.entries())if(p){let e,u=!1;p.journeyKey?(e=t.basketBooking.journeys.find(e=>p.journeyKey===e.key),u=!!t.basketBooking.services.services.find(e=>e.options.find(e=>e.ssrCode===p.code&&e.segmentKey===p.segmentKey&&e.passengerKey===p.passengerKey&&e.includedInLoyalty))):e=t.basketBooking.journeys[0];const g=t.basket.customFields.preSelectedServices.some(e=>e.ssrCode===this.util.getItemId(p,t)),f={name:n||this.util.getItemName(p),id:this.util.getItemId(p,t),price:n?d[h]/t.basketBooking.passengers.length:p.amount.amount,brand:o?"VF":e.segments[0].operatingCarrier,category:`${this.util.getCat("cat1",p)}/${e.fare.fareType+""+((null===(r=e.fare)||void 0===r?void 0:r.bundleTypeName)?"_"+(null===(s=e.fare)||void 0===s?void 0:s.bundleType):"")}/${this.util.getCat("cat2",p,e)}/${this.util.getCat("cat3",p,e)}/${this.util.getJourneySegmentType(e)}`,variant:e.fare.fareType+""+((null===(a=e.fare)||void 0===a?void 0:a.bundleTypeName)?"_"+(null===(c=e.fare)||void 0===c?void 0:c.bundleType):""),promo:this.util.couponPromocode?this.util.couponPromocode:"",desc:(p.originalAmount.amount-p.amount.amount).toFixed(2),quantity:n?t.basketBooking.passengers.length:this.util.getChargesQuantity(t,p,i),fareClass:e.fare.classOfService,loyaltyProgram:p.amount.amount<=0?o?"VivaFan":u?"Doters":"NA":"NA",passengerType:"ADT",passengerCount:t.basketBooking.passengers.length,seatCount:t.basketBooking.seats.seats.length,preselected:g?"Yes":"No",itemRute:`${e.origin.code}-${e.destination.code}`,journeyTravelType:e.travelType,journeyOrigin:e.origin.code,journeyDestination:e.destination.code,journeyDepartureDate:e.departureDate.scheduled.split("T")[0],journeyDepartureTime:e.departureDate.scheduled.split("T")[1],journeyArrivalDate:e.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:e.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:e.segments[0].operatingCarrier,segmentCarrierId:e.segments[0].operatingCode,segmentRute:`${e.segments[0].origin.code}-${e.segments[0].destination.code}`,segmentOrigin:e.segments[0].origin.code,segmentDestination:e.segments[0].destination.code,segmentDepartureDate:e.segments[0].departureDate.scheduled.split("T")[0],segmentDepartureTime:e.segments[0].departureDate.scheduled.split("T")[1],segmentArrivalDate:e.segments[0].arrivalDate.scheduled.split("T")[0],segmentArrivalTime:e.segments[0].arrivalDate.scheduled.split("T")[1],segmentLength:e.segments[0].segmentDuration,segmentLayover:e.segments[0].layoverTime};l.push(f)}for(const h of l)u.find(e=>h.name===e.name&&h.segmentRute===e.segmentRute)||u.push(h);return u}returnRobustItemsTuaGA4(e,t){const n=[];for(const i of t){let t;t=i.journeyKey?e.journeys.find(e=>i.journeyKey===e.key):e.journeys[0];const o={item_name:this.util.getItemName(i),item_id:i.code,price:i.amount.amount,currency:e.currencyCode,item_brand:t.segments[0].operatingCarrier,item_category:this.util.getCat("cat1",i),item_category_2:this.util.getCat("cat2",i,t),item_category_3:this.util.getCat("cat3",i,t),item_category_4:this.util.getJourneySegmentType(t),item_variant:t.fare.fareType,coupon:this.util.couponPromocode?this.util.couponPromocode:"",discount:(i.originalAmount.amount-i.amount.amount).toFixed(2),quantity:1,fare_class:t.fare.classOfService,loyalty_program:"NA",passenger_type:"ADT",passenger_count:e.passengers.length,seat_count:e.seats.seats.length,rute:`${t.origin.code}-${t.destination.code}`,journey_travel_type:t.travelType,journey_origin:t.origin.code,journey_destination:t.destination.code,journey_departure_date:t.departureDate.scheduled.split("T")[0],journey_departure_time:t.departureDate.scheduled.split("T")[1],journey_arrival_date:t.arrivalDate.scheduled.split("T")[0],journey_arrival_time:t.arrivalDate.scheduled.split("T")[1],segment_carrier_code:t.segments[0].operatingCarrier,segment_carrier_id:t.segments[0].operatingCode,segment_rute:`${t.segments[0].origin.code}-${t.segments[0].destination.code}`,segment_origin:t.segments[0].origin.code,segment_destination:t.segments[0].destination.code,segment_departure_date:t.segments[0].departureDate.scheduled.split("T")[0],segment_departure_time:t.segments[0].departureDate.scheduled.split("T")[1],segment_arrival_date:t.segments[0].arrivalDate.scheduled.split("T")[0],segment_arrival_time:t.segments[0].arrivalDate.scheduled.split("T")[1],segment_length:t.segments[0].segmentDuration,segment_layover:t.segments[0].layoverTime};n.push(o)}return n}returnRobustItemsTuaGAU(e,t){var n,i,o,r;const s=[];for(const a of t){let t;t=a.journeyKey?e.journeys.find(e=>a.journeyKey===e.key):e.journeys[0];const c={name:this.util.getItemName(a),id:a.code,price:a.amount.amount,brand:t.segments[0].operatingCarrier,category:`${this.util.getCat("cat1",a)}/${t.fare.fareType+""+((null===(n=t.fare)||void 0===n?void 0:n.bundleTypeName)?"_"+(null===(i=t.fare)||void 0===i?void 0:i.bundleType):"")}/${this.util.getCat("cat3",a,t)}/${this.util.getJourneySegmentType(t)}`,variant:t.fare.fareType+""+((null===(o=t.fare)||void 0===o?void 0:o.bundleTypeName)?"_"+(null===(r=t.fare)||void 0===r?void 0:r.bundleType):""),promo:this.util.couponPromocode?this.util.couponPromocode:"",desc:(a.originalAmount.amount-a.amount.amount).toFixed(2),quantity:1,fareClass:t.fare.classOfService,loyaltyProgram:"NA",passengerType:"ADT",passengerCount:e.passengers.length,seatCount:e.seats.seats.length,itemRute:`${t.origin.code}-${t.destination.code}`,journeyTravelType:t.travelType,journeyOrigin:t.origin.code,journeyDestination:t.destination.code,journeyDepartureDate:t.departureDate.scheduled.split("T")[0],journeyDepartureTime:t.departureDate.scheduled.split("T")[1],journeyArrivalDate:t.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:t.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:t.segments[0].operatingCarrier,segmentCarrierId:t.segments[0].operatingCode,segmentRute:`${t.segments[0].origin.code}-${t.segments[0].destination.code}`,segmentOrigin:t.segments[0].origin.code,segmentDestination:t.segments[0].destination.code,segmentDepartureDate:t.segments[0].departureDate.scheduled.split("T")[0],segmentDepartureTime:t.segments[0].departureDate.scheduled.split("T")[1],segmentArrivalDate:t.segments[0].arrivalDate.scheduled.split("T")[0],segmentArrivalTime:t.segments[0].arrivalDate.scheduled.split("T")[1],segmentLength:t.segments[0].segmentDuration,segmentLayover:t.segments[0].layoverTime};s.push(c)}return s}returnRobustItemsInsuranceGA4(e,t){const n=[];for(const i of t){let t;t=i.journeyKey?e.journeys.find(e=>i.journeyKey===e.key):e.journeys[0];const o={item_name:this.util.getItemName(i),item_id:i.code,price:i.amount.amount,currency:e.currencyCode,item_brand:t.segments[0].operatingCarrier,item_category:this.util.getCat("cat1",i),item_category_2:this.util.getCat("cat2",i,t),item_category_3:this.util.getCat("cat3",i,t),item_category_4:this.util.getJourneySegmentType(t),item_variant:t.fare.fareType,coupon:this.util.couponPromocode?this.util.couponPromocode:"",discount:(i.originalAmount.amount-i.amount.amount).toFixed(2),quantity:1,fare_class:t.fare.classOfService,loyalty_program:"NA",passenger_type:"ADT",passenger_count:e.passengers.length,seat_count:e.seats.seats.length,rute:`${t.origin.code}-${t.destination.code}`,journey_travel_type:t.travelType,journey_origin:t.origin.code,journey_destination:t.destination.code,journey_departure_date:t.departureDate.scheduled.split("T")[0],journey_departure_time:t.departureDate.scheduled.split("T")[1],journey_arrival_date:t.arrivalDate.scheduled.split("T")[0],journey_arrival_time:t.arrivalDate.scheduled.split("T")[1],segment_carrier_code:t.segments[0].operatingCarrier,segment_carrier_id:t.segments[0].operatingCode,segment_rute:`${t.segments[0].origin.code}-${t.segments[0].destination.code}`,segment_origin:t.segments[0].origin.code,segment_destination:t.segments[0].destination.code,segment_departure_date:t.segments[0].departureDate.scheduled.split("T")[0],segment_departure_time:t.segments[0].departureDate.scheduled.split("T")[1],segment_arrival_date:t.segments[0].arrivalDate.scheduled.split("T")[0],segment_arrival_time:t.segments[0].arrivalDate.scheduled.split("T")[1],segment_length:t.segments[0].segmentDuration,segment_layover:t.segments[0].layoverTime};n.push(o)}return n}returnRobustItemsInsuranceGAU(e,t){var n,i,o,r;const s=[];for(const a of t){let t;t=a.journeyKey?e.journeys.find(e=>a.journeyKey===e.key):e.journeys[0];const c={name:this.util.getItemName(a),id:a.code,price:a.amount.amount,brand:t.segments[0].operatingCarrier,category:`${this.util.getCat("cat1",a)}/${t.fare.fareType+""+((null===(n=t.fare)||void 0===n?void 0:n.bundleTypeName)?"_"+(null===(i=t.fare)||void 0===i?void 0:i.bundleType):"")}/${this.util.getCat("cat3",a,t)}/${this.util.getJourneySegmentType(t)}`,variant:t.fare.fareType+""+((null===(o=t.fare)||void 0===o?void 0:o.bundleTypeName)?"_"+(null===(r=t.fare)||void 0===r?void 0:r.bundleType):""),promo:this.util.couponPromocode?this.util.couponPromocode:"",desc:(a.originalAmount.amount-a.amount.amount).toFixed(2),quantity:1,fareClass:t.fare.classOfService,loyaltyProgram:"NA",passengerType:"ADT",passengerCount:e.passengers.length,seatCount:e.seats.seats.length,itemRute:`${t.origin.code}-${t.destination.code}`,journeyTravelType:t.travelType,journeyOrigin:t.origin.code,journeyDestination:t.destination.code,journeyDepartureDate:t.departureDate.scheduled.split("T")[0],journeyDepartureTime:t.departureDate.scheduled.split("T")[1],journeyArrivalDate:t.arrivalDate.scheduled.split("T")[0],journeyArrivalTime:t.arrivalDate.scheduled.split("T")[1],segmentCarrierCode:t.segments[0].operatingCarrier,segmentCarrierId:t.segments[0].operatingCode,segmentRute:`${t.segments[0].origin.code}-${t.segments[0].destination.code}`,segmentOrigin:t.segments[0].origin.code,segmentDestination:t.segments[0].destination.code,segmentDepartureDate:t.segments[0].departureDate.scheduled.split("T")[0],segmentDepartureTime:t.segments[0].departureDate.scheduled.split("T")[1],segmentArrivalDate:t.segments[0].arrivalDate.scheduled.split("T")[0],segmentArrivalTime:t.segments[0].arrivalDate.scheduled.split("T")[1],segmentLength:t.segments[0].segmentDuration,segmentLayover:t.segments[0].layoverTime};s.push(c)}return s}}return e.\u0275fac=function(t){return new(t||e)(r.dc(s.a),r.dc(a.a),r.dc(c.a),r.dc(l.a))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},AQDP:function(e,t,n){var i,o,r;!function(s){if("object"==typeof e.exports){var a=s(0,t);void 0!==a&&(e.exports=a)}else o=[n,t],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;t.default=["es-CO",[["a.\xa0m.","p.\xa0m."],n,n],n,[["D","L","M","M","J","V","S"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],[["d","l","m","m","j","v","s"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],[["a. C.","d. C."],n,["antes de Cristo","despu\xe9s de Cristo"]],0,[6,0],["d/MM/yy","d/MM/y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",n,"{1} 'a' 'las' {0}",n],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4\xa0#,##0.00","#E0"],"COP","$","peso colombiano",{AUD:[n,"$"],BRL:[n,"R$"],CAD:[n,"$"],CNY:[n,"\xa5"],COP:["$"],ESP:["\u20a7"],EUR:[n,"\u20ac"],FKP:[n,"FK\xa3"],GBP:[n,"\xa3"],HKD:[n,"$"],ILS:[n,"\u20aa"],INR:[n,"\u20b9"],JPY:[n,"\xa5"],KRW:[n,"\u20a9"],MXN:[n,"$"],NZD:[n,"$"],RON:[n,"L"],SSP:[n,"SD\xa3"],SYP:[n,"S\xa3"],TWD:[n,"NT$"],USD:["US$","$"],VEF:[n,"BsF"],VND:[n,"\u20ab"],XAF:[],XCD:[n,"$"],XOF:[]},"ltr",function(e){return 1===e?1:5}]}))},ATtC:function(e,t,n){const i=n("PnAN")("FastMutex"),o=()=>Math.random()+"",r=(e,t)=>{const n=(new Date).getTime();t.acquireEnd=n,t.acquireDuration=t.acquireEnd-t.acquireStart,t.lockStart=n,e(t)};e.exports=class{constructor({clientId:e=o(),xPrefix:t="_MUTEX_LOCK_X_",yPrefix:n="_MUTEX_LOCK_Y_",timeout:i=5e3,localStorage:r}={}){this.clientId=e,this.xPrefix=t,this.yPrefix=n,this.timeout=i,this.localStorage=r||window.localStorage,this.resetStats()}lock(e){i('Attempting to acquire Lock on "%s" using FastMutex instance "%s"',e,this.clientId);const t=this.xPrefix+e,n=this.yPrefix+e;return this.resetStats(),this.lockStats.acquireStart||(this.lockStats.acquireStart=(new Date).getTime()),new Promise((o,s)=>{const a=e=>{if((new Date).getTime()-this.lockStats.acquireStart>=this.timeout)return i('Lock on "%s" could not be acquired within %sms by FastMutex client "%s"',e,this.timeout,this.clientId),s(new Error(`Lock could not be acquired within ${this.timeout}ms`));this.setItem(t,this.clientId);let c=this.getItem(n);if(c)return i("Lock exists on Y (%s), restarting...",c),this.lockStats.restartCount++,void setTimeout(()=>a(e));this.setItem(n,this.clientId);let l=this.getItem(t);if(l!==this.clientId)return this.lockStats.contentionCount++,i('Lock contention detected. X="%s"',l),void setTimeout(()=>{c=this.getItem(n),c===this.clientId?(i('FastMutex client "%s" won the lock contention on "%s"',this.clientId,e),r(o,this.lockStats)):(this.lockStats.restartCount++,this.lockStats.locksLost++,i('FastMutex client "%s" lost the lock contention on "%s" to another process (%s). Restarting...',this.clientId,e,c),setTimeout(()=>a(e)))},50);i('FastMutex client "%s" acquired a lock on "%s" with no contention',this.clientId,e),r(o,this.lockStats)};a(e)})}release(e){i('FastMutex client "%s" is releasing lock on "%s"',this.clientId,e);const t=this.yPrefix+e;return new Promise(e=>{this.localStorage.removeItem(t),this.lockStats.lockEnd=(new Date).getTime(),this.lockStats.lockDuration=this.lockStats.lockEnd-this.lockStats.lockStart,e(this.lockStats),this.resetStats()})}setItem(e,t){return this.localStorage.setItem(e,JSON.stringify({expiresAt:(new Date).getTime()+this.timeout,value:t}))}getItem(e){const t=this.localStorage.getItem(e);if(!t)return null;const n=JSON.parse(t);return(new Date).getTime()-n.expiresAt>=this.timeout?(i('FastMutex client "%s" removed an expired record on "%s"',this.clientId,e),this.localStorage.removeItem(e),null):JSON.parse(t).value}resetStats(){this.lockStats={restartCount:0,locksLost:0,contentionCount:0,acquireDuration:0,acquireStart:null}}}},AUkv:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return S}));var i=n("mrSG"),o=n("fXoL"),r=n("AytR"),s=n("lJxs"),a=n("JIr8"),c=n("LRne"),l=n("z6cu"),u=n("wd/R"),d=n("cbbM"),h=n("9yTC"),p=n("ofXK"),g=n("1AID"),f=n("tk/3"),m=n("uHNT"),b=n("G/yK"),v=n("jRmn"),y=n("imvL"),_=n("BifP");let C=(()=>{class e{constructor(e,t,n,i,o,r,s,a){this.http=e,this.flightAlertsService=t,this.locale=n,this.flightStationsService=i,this.platformId=o,this.metasearch=r,this.authService=s,this.cmsConfig=a,this.lowFaresCache=new Map,this.useAlternateEndpointForMonthlyLowFares=this.cmsConfig.getBookingFeatureValue(g.a.UseCacheEndpointForMonthlyLowFares)}getLowFares(e,t,n,i){if(t){if(e&&!e.language&&(e.language=this.locale),e&&!e.referralCode&&(e.referralCode=this.getCurrentReferral(i)),this.checkLowFaresCache(e.routes[n])){const t=`${e.routes[n].origin.code}-${e.routes[n].destination.code}`;return Object(c.a)(this.lowFaresCache.get(t))}const t=JSON.parse(JSON.stringify(e));return t.routes=e.routes.filter(e=>!this.checkLowFaresCache(e)),this.http.post(r.g.LOW_FARES_URL,t).pipe(Object(s.a)(i=>{this.saveLowFaresCache(t,i.data);const o=i.data.lowFares.filter(t=>t.origin.code===e.routes[n].origin.code&&t.destination.code===e.routes[n].destination.code||e.routes[n].includeAlternativeStationsInOrigin||e.routes[n].includeAlternativeStationsInDestination);return i.data.lowFares=o,i.warnings&&i.warnings.length&&this.flightAlertsService.addCurrentAlert(i.warnings),this.resolveLowFares(i,this.generateDateRange(e.routes[n]))}),Object(a.a)(e=>Object(l.a)(e)))}return Object(c.a)(this.resolveLowFares({data:null},this.generateDateRange(e.routes[n])))}resetLowFaresCache(){this.lowFaresCache.clear()}saveLowFaresCache(e,t){e.routes.forEach((n,i)=>{const o=`${n.origin.code}-${n.destination.code}`,r=t.lowFares.filter(e=>e.origin.code===n.origin.code&&e.destination.code===n.destination.code),s=this.generateDateRange(e.routes[i]);this.lowFaresCache.has(o)||this.lowFaresCache.set(o,new Map);const a=this.lowFaresCache.get(o),c=this.resolveLowFares({data:{lowFares:r}},s);this.addEntriesToMap(c,a)})}addEntriesToMap(e,t){for(const[n,i]of e.entries())t.set(n,i)}checkLowFaresCache(e){const t=u(e.endDate).format("YYYY-MM-DD"),n=u(e.startDate).format("YYYY-MM-DD"),i=`${e.origin.code}-${e.destination.code}`;return this.lowFaresCache.has(i)&&this.lowFaresCache.get(i).has(n)&&this.lowFaresCache.get(i).has(t)}getDaysFromArray(e,t,n){const i=(t||[]).map(e=>({departureDate:e,fare:null,vivaFanFare:null}));return Object(c.a)(this.resolveLowFares({data:{lowFares:i}},this.generateDateRange(e.routes[n])))}getMonthlyLowFares(e){let t;const n={};if(this.useAlternateEndpointForMonthlyLowFares){t=r.g.LOW_FARES_CACHE_URL;const e=this.authService.isLoggedIn?this.authService.authenticatedAccountType:void 0;e&&(n["X-Account-Type"]=e)}else t=r.g.LOW_FARES_URL;return this.http.post(t,e,{headers:n}).pipe(Object(s.a)(e=>e.data),Object(a.a)(e=>Object(l.a)(e)))}generateDateRange(e){const t=[];let n=u(e.startDate).format("YYYY-MM-DD");const i=u(e.endDate).format("YYYY-MM-DD");for(;n<=i;)t.push(n),n=u(n).add(1,"days").format("YYYY-MM-DD");return t}resolveLowFares({data:e},t){const n=new Map;return t.forEach(t=>{const i=e?e.lowFares.find(e=>u(e.departureDate).isSame(t)):null;n.set(t,this.formatDay(t,i,null==e?void 0:e.currencyCode))}),n}formatDay(e,t,n){return{dateText:u(e).format("ddd, DD MMM").split(".").join(""),fare:t?t.fare:null,vivaFanFare:t?t.vivaFanFare:null,status:t?d.a.ENABLED:d.a.DISABLED,currencyCode:n}}generatePayload(e,t,n){return{currencyCode:t,promoCode:n.promoCode?n.promoCode:null,referralCode:this.getCurrentReferral(n),bookingType:n.doters?"Points":null,passengers:[{code:h.g.ADULT,count:n.passengers.adults},{code:h.g.CHILD,count:n.passengers.kids},{code:h.g.BABY,count:n.passengers.babies}],routes:this.generateRoutes(e,n)}}generatePerRoutePayload(e,t,n){const i=[],o=this.generatePayload(e,t,n),r=new Map;for(const s of o.routes){const e=s.origin.code+s.destination.code;r.has(e)||r.set(e,[]),r.get(e).push(s)}for(const s of r.values()){const e=Object.assign(Object.assign({},o),{routes:s});i.push(e)}return i}generateRoutes(e,t){let n=[];const i=e.clone();return t.itineraryCode.forEach(e=>{n.push({startDate:i.startOf("month").format("YYYY-MM-DD"),endDate:i.startOf("month").add(15,"days").format("YYYY-MM-DD"),origin:{code:e.origin.code,type:e.origin.type},destination:{code:e.destination.code,type:e.destination.type}}),n.push({startDate:i.startOf("month").add(16,"days").format("YYYY-MM-DD"),endDate:i.endOf("month").format("YYYY-MM-DD"),origin:{code:e.origin.code,type:e.origin.type},destination:{code:e.destination.code,type:e.destination.type}})}),t.alternateStations&&(n=this.patchMaacRoutes(n)),n}patchMaacRoutes(e){return e.forEach(e=>{const t=this.flightStationsService._maacStations.find(t=>t.maac.searchCode===e.origin.code),n=this.flightStationsService._maacStations.find(t=>t.maac.searchCode===e.destination.code);t&&(e.includeAlternativeStationsInOrigin=!0),n&&(e.includeAlternativeStationsInDestination=!0)}),e}getCurrentReferral(e){return(Object(p.L)(this.platformId)?sessionStorage.getItem("loginReferral"):null)||((null==e?void 0:e.referral)?null==e?void 0:e.referral:null)||this.metasearch.getCookie()}waitForAccountReadyIfUsingCacheEndpoint(){return Object(i.a)(this,void 0,void 0,(function*(){this.useAlternateEndpointForMonthlyLowFares&&(yield this.authService.onSyncDonePromise)}))}}return e.\u0275fac=function(t){return new(t||e)(o.dc(f.b),o.dc(m.a),o.dc(o.y),o.dc(b.a),o.dc(o.G),o.dc(v.a),o.dc(y.a),o.dc(_.a))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function S(e){const t=[],n=e[0];for(const i of e)t.push(...i.lowFares);return n.lowFares=t,n}},AWl2:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("mrSG"),o=n("fXoL"),r=n("jtHE"),s=n("LYOT");let a=(()=>{class e{constructor(e,t){this.contentfulService=e,this.localeId=t,this.$isReady=new r.a(1),this.load()}load(){return new Promise((e,t)=>{try{this.getStorefront().then(()=>{e(),this.$isReady.next(),this.$isReady.complete()})}catch(n){t(n)}})}getStorefront(){var e,t;return Object(i.a)(this,void 0,void 0,(function*(){this.storefrontData=null===(t=null===(e=(yield this.contentfulService.getEntries({content_type:"homepage","fields.storefront":this.localeId,include:10})).items)||void 0===e?void 0:e[0])||void 0===t?void 0:t.fields}))}get ready(){return this.$isReady.asObservable().toPromise()}}return e.\u0275fac=function(t){return new(t||e)(o.dc(s.a),o.dc(o.y))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},AytR:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return d}));var i=n("kiQV");const o="https://www.vivaaerobus.com/",r="https://api.vivaaerobus.com/web/",s="https://www.vivaaerobus.com",a="https://api.doters.com/",c="https://auth.doters.com/v2/",l="VB55soAEPGST1",u="https://auth-api.doters.com/v2/logout",d={appVersion:i.a+"-production",apiVersion:"v1",apiKey:"zasqyJdSc92MhWMxYu6vW3hqhxLuDwKog3mqoYkf",enableWithCredentials:!0,production:!0,enableServiceWorker:!0,contentful:{graphQLAPI:"https://graphql.contentful.com/content/v1/",usePreview:!1,space:"1sv59kqumaqp",environment:"master",accessToken:"phx5x2vz-ulxrgaUiBQJoVeSuubkTEVBRdMkH7z2Rok",previewAccessToken:"<CONTENTFUL_PREVIEW_ACCESS_TOKEN>",services:{configurationChannel:"Website",translationCache:!1}},cludo:{apiHost:"https://api-us1.cludo.com/api/v3/",customerId:"10001199",spanishId:"10001943",englishId:"10001980"},cacheKeys:{LOGIN_TOKEN:"viva-user-token",MUTEX_REFRESH_TOKEN:"viva-token-refreshing",BASKET_TOKEN:"viva-basketid",FLIGHT_SEARCH_HISTORY:"viva-flights-search-history",ALERTS_EXPIRATION:"viva-alerts-expiration",COOKIES_MODAL:"viva-cookies-modal",LAST_FLIGHT_SEARCH:"viva-last-flight-search",PWA_LOCAL_CACHE:"pwa-local-cache",LAST_FLIGHT_STATUS_SEARCH:"viva-last-flight-status-search",LOGIN_TYPE:"viva-login-type",COOKIES_MODAL_HIDE30DAYS:"viva-cookies-modal-hide30days",IGNORE_REDIRECT_MMB_CKN:"ignore-redirect-mmb-ckn",FLIGHT_STATUS_NOTIFICATIONS:"viva-flight-notifications",STAFF_TOKEN:"viva-staff-token",INCOMPLETE_PROFILE:"incomplete-profile",COOKIES_ANDROID_BANNER:"viva-android-banner"},boxever:{clientKey:"VAG2q0Tm0ZeZ9tWn8pPPWpegmHQvpvXd",apiTarget:"https://api.boxever.com/v1.2",cookieDomain:".vivaaerobus.com",clientVersion:"1.4.8"},dinamicYield:{apiTarget:"https://direct.dy-api.com/v2/",clientKey:"9505d9d4270260290f6a3a26d92560c811e462c60a868a5a786b722244ba1c84",DY_CHOOSE_VARIANT:"https://direct.dy-api.com/v2/serve/user/choose",scripts:{CDN:"//cdn.dynamicyield.com",ST:"//st.dynamicyield.com",RCOM:"//rcom.dynamicyield.com",API_DYNAMIC:"//cdn.dynamicyield.com/api/8786728/api_dynamic.js",API_STATIC:"//cdn.dynamicyield.com/api/8786728/api_static.js"}},firebase:{dynamicLinks:{domain:"https://app.vivaaerobus.com/",apn:"com.vivaaerobus.app",ibi:"com.vivaaerobus.app",debug:!1}},socialLogin:{facebookAppId:"165244780759283",googleClientId:"344117697504-chfujfdme2vgd40fp4q4sc7nnhb1e20a"},payments:{inAuth:{siteID:"ea0b87e3e39345f4",scriptSrc:"www.cdn-net.com"},uplift:{apiKey:"pEX9jJcmDB7t3wnMV9CAs1OyeARUyw0s8HSTh3UX",userId:"UP-77576183-1"},kueski:{scriptSrc:"https://cdn.kueskipay.com/v1/checkout.js",sdkVersion:"1",apiKey:"368f62b0-101d-40b7-9444-f793ce4b7c74",sandbox:!1},rappi:{scriptSrc:"https://services.rappi.com/rms/merchant-services/sdk/rms.js",sandbox:!1},payPal:{MXN:{clientId:"AS42vaiRm0DCuNPOZ5RxkXIZMOzg4R48WQEzLcNQXXiqw9XOL54X87qYrRnFFIxeZTf-cgwnRXazue9R",merchantId:"YUHVHSVJARCYS"},USD:{clientId:"Adt_idu3tdIYhPVJddYn1ObRHJdrQUajPEH-QKZK8c6qAUyMQ7Lwv3Gg4QvucV7f3ScFIwhPTGTpkKm9",merchantId:"WGXDG6AAMEQJJ"}},yuno:{scriptSrc:"https://sdk-web.y.uno/v1/static/js/main.min.js",publicApiKey:"prod_gAAAAABk73ggIiKJGX5YpEuAYRt2Fnjhu5QtZPby_JYH9Vb38bW6YtC-7peXo5v-1r10gpi_cR1nEII6zYCO4WmPtY5oVzn8mUAcilSaFhYCHBZMk7XyqSruSmRxEQdr3ae6OlelzAQpJ8NO4rlDHtGBgNEkQvXxP11nj2tqBTByO4ITtqvFyhc="}},gtmKey:"GTM-K6V2B2Q",ID_ANDROID:"com.vivaaerobus.app",SHARE_ITINERARY_API_KEY:"",SHARE_ITINERARY_URL:r+"vb/v1/share/trip",LOW_FARE_GQL_URL:r+"vb/v1/lf/graph",IP_SERVICE_URL:"https://www.vivaaerobus.com/uinfo",CC_BIN_SERVICE_URL:r+"vb/v1/bin",TEST_PAYMENT_REFERENCES_API_KEY:"NyOP4dmCV634hs1fk6zQV8CqdYi1BTrD3UCUPSXG",PAYMENT_REFERENCES:r+"vb/v1/externalpayment/references",PAYMENT_REFERENCES_ONLINE:r+"vb/v1/externalpayment/onlinepayment",POPULAR_SEARCHES_URL:o+"assets/json/popular-searches.json",SEARCHES_URL:o+"assets/json/searches.json",LOGIN_URL:r+"v1/account/login",SOCIAL_LOGIN_URL:r+"v1/account/sociallogin",ACCOUNT_URL:r+"v1/account",ACCOUNT_RESTORE_URL:r+"v1/account/restore",VALIDATE_TOKEN_URL:r+"v1/account/validatetoken",ACCOUNT_REGISTER_URL:r+"v1/account/register",ACCOUNT_CONFIRM_URL:r+"v1/account/confirmregistration",ACCOUNT_UPDATE_URL:r+"v1/account/update",ACCOUNT_PWD_RESET_REQ_URL:r+"v1/account/requestpasswordreset",ACCOUNT_RESET_PWD:r+"v1/account/resetpassword",ACCOUNT_CHANGE_PWD:r+"v1/account/changepassword",ACCOUNT_ACCEPT_TERMS:r+"v1/account/acceptterms",ACCOUNT_VALIDATE_USER_EMAIL:r+"v1/account/validatecustomerusername",ACCOUNT_FUNDS_URL:r+"v1/account/funds",ACCOUNT_LOGIN_EXTERNAL_URL:r+"v1/account/loginexternal",ACCOUNT_REGISTER_V2_URL:r+"v2/account/register",ACCOUNT_CONFIRM_V2_URL:r+"v2/account/confirmregistration",ACCOUNT_PWD_RESET_REQ_V2_URL:r+"v2/account/requestpasswordreset",ACCOUNT_RESET_PWD_V2:r+"v2/account/resetpassword",ACCOUNT_COMPANIONS:r+"v1/account/companions",ACCOUNT_ADD_COMPANIONS:r+"v1/account/companions/add",ACCOUNT_DELETE_COMPANIONS:r+"v1/account/companions/delete",ACCOUNT_UPDATE_COMPANIONS:r+"v1/account/companions/update",ACCOUNT_STORED_PAYMENTS:r+"v1/account/storedpayments",ACCOUNT_DELETE_STORED_PAYMENT:r+"v1/account/storedpayments/delete",ACCOUNT_TRIPS:r+"v1/account/trips",ACCOUNT_TRIPS_ADD:r+"v1/account/trips/add",ACCOUNT_TRIPS_DELETE:r+"v1/account/trips/delete",ACCOUT_TRAVEL_DOCUMENTS:r+"v1/account/traveldocuments",ACCOUT_TRAVEL_DOCUMENTS_ADD:r+"v1/account/traveldocuments/add",ACCOUT_TRAVEL_DOCUMENTS_UDT:r+"v1/account/traveldocuments/update",ACCOUT_TRAVEL_DOCUMENTS_DEL:r+"v1/account/traveldocuments/delete",ACCOUNT_VIVACASH:r+"v1/account/vivacash",ACCOUNT_VIVACASH_ACTIVE_REFERENCES:r+"v1/account/vivacash/activereferences",ACCOUNT_VIVACASH_GENERATE_REFERENCE:r+"v1/account/vivacash/generatereference",ACCOUNT_VIVACASH_TRANSACTIONS:r+"v1/account/vivacash/transactions",ACCOUNT_VIVACASH_WALLET:r+"vb/v1/vivacash/checkout/balance",ACCOUNT_VIVACASH_WALLET_ENV:"prod",ACCOUNT_STAFF_STANDBY:r+"vb/v1/myidtravel/link",LOW_FARES_URL:r+"v1/availability/lowfares",SEARCH_AVAILABILITY_URL:r+"v1/availability/search",CALENDAR_AVAILABILITY_URL:r+"v1/availability/schedule",LOW_FARES_CACHE_URL:r+"vb/v1/availability/lowfares",BUNDLES_AVAILABILITY_URL:r+"v1/booking/availablebundles",BUNDLES_URL:r+"v1/booking/bundles",BASKET_URL:r+"v1/basket",CREATE_BASKET_URL:r+"v1/basket/create",UPDATE_BASKET_URL:r+"v1/basket/update",LOAD_BASKET_BOOKING_URL:r+"v1/basket/loadbooking",KEEP_ALIVE_BASKET_URL:r+"v1/basket/keepalive",BASKET_BOOKING_URL:r+"v1/booking",FULL_BOOKING_URL:r+"v1/booking/full",JOURNEYS_BOOKING_BASKET_URL:r+"v1/booking/journeys",PASSENGER_RULES_URL:r+"v1/booking/passengerrules",AVAILABLE_SERVICES_URL:r+"v1/booking/availableservices",CHANGE_SERVICES_URL:r+"v1/booking/changeservices",ADD_PASSENGERS_URL:r+"v1/booking/passengers",SEATMAPS_URL:r+"v1/booking/seatmaps",PROPOSED_SEATS_URL:r+"v1/booking/proposedseats",CHANGE_SEATS_URL:r+"v1/booking/changeseats",UPDATE_PASSENGERS_URL:r+"v1/booking/updatepassengers",SEARCH_JOURNEY_AVAILABILITY_URL:r+"v1/booking/searchjourneys",CHANGE_JOURNEYS_AVAILABILITY_URL:r+"v1/booking/changejourneys",ADD_HOTEL_URL:r+"v1/booking/hotel",DELETE_HOTEL_URL:r+"v1/booking/deletehotel",AVAILABLE_INSURANCES_URL:r+"v1/booking/availableinsurances",CHANGE_INSURANCES_URL:r+"v1/booking/changeinsurances",INSURANCES_STATUS_URL:r+"v1/booking/insurancesStatus",CANCEL_OPTIONS_URL:r+"v1/booking/canceloptions",BOOKING_CANCEL_URL:r+"v1/booking/cancel",UPSELL_SERVICES_URL:r+"v1/booking/upsellservices",BOXEVER_API:"https://api.boxever.com",PAYMENT_METHODS:r+"v1/payment/methodsavailable",PAYMENT_PROCESS:r+"v1/payment/process",PAYMENT_STATUS:r+"v1/payment/checkstatus",SPLIT_PAYMENT_ADD:r+"v1/payment/addsplitpayment",SPLIT_PAYMENT_DELETE:r+"v1/payment/deletesplitpayment",SELECT_METHOD:r+"v1/payment/selectmethod",STATIONS_URL:r+"v1/resources/stations",CURRENCIES_URL:r+"v1/resources/currencies",COUNTRIES_URL:r+"v1/resources/countries",PROVINCES_URL:r+"v1/resources/provinces",SPECIAL_SERVICES_URL:o+"assets/json/special-services.json",extLinks:{EXT_RESERVATION_SEARCH:s+"/mx/mi-vuelo/detalles-de-mi-reservacion",EXT_CHECKIN:s+"/mx/mi-vuelo/pase-de-abordar",BOOKER_DEEP_LINK:"https://vivaaerobus.app.bidflyer.com/deploy/loader/companyKey/000011e86dfd68a4ab9e9991494589db"},FLIGHT_STATUS_URL:r+"vb/v1/flightstatus",FLIGHT_STATUS_ADD_NOTIFICATION_URL:r+"vb/v1/notifications/add",FLIGHT_STATUS_SUBSCRIPTIONS_URL:r+"vb/v1/notifications/subscriptions",FLIGHT_STATUS_CANCEL_SUBSCRIPTION_URL:r+"vb/v1/notifications/delete",SMILE_FLY_URL:r+"vb/v1/faceid/url",SMILE_FLY_CHANGE:r+"vb/v1/faceid/change",CHECK_IN_STATUS_URL:r+"v1/checkin/status",CHECK_IN_PASSENGER:r+"v1/checkin/passenger",CHECK_IN_BOARDINGPASS:r+"v1/checkin/boardingpass",CHECK_IN_SHARE_BOARDINGPASS:r+"vb/v1/share/boardingpass",CHECK_IN_UNDO:r+"v1/checkin/undopassenger",VIVA_AIR_URL:"https://www.vivaair.com",VIVABUS_URL:"https://viva.reservamos.mx",BUS_PLACES_URL:"https://search.reservamos.mx/api/v2/places",CAR_RECOMMENDATIONS_TOKEN_URL:"https://auth.smartlinks.dev/api/auth/agency/token",CAR_RECOMMENDATIONS_TOKEN_AGENCY_ID:"kMyztpn5PpQshb7bG",CAR_RECOMMENDATIONS_TOKEN_AGENCY_KEY:"8GnUfElnN1waS5zjEkuXnRrK3s/PlMnC9S67epDIO4iwqy2swz8vugxCSe91Wr4TO9XH4OqP8dbBpFD4ninljw==",CAR_RECOMMENDATIONS_TOKEN_CLIENT_ID:"https://autos.vivaaerobus.com",CAR_RECOMMENDATIONS_SCRIPT:"https://web-widget.smartlinks.dev/index.js",YOUR_EXPERIENCE_SCRIPT:"https://vivaaerobus.tuexperiencia.com/js/widget.js",SECURITY_LOGIN:a+"v1/security/login",USER_SECRET_DETAILS:a+"v1/members/%memberId%/details/secretDetails",GENERATE_OTP:a+"v1/security/generate-otp",VALIDATE_OTP:a+"v1/security/validate-otp",OTP_EMAIL_KEY:"monitor.web@vivaaerobus.com",OTP_PASS_KEY:"ec46vQ!aONU#sNE!4rtHU",ENROLLING_SPONSOR_KEY:3,DOTERS_OPT_OUT:r+"v1/account/loyalty/optout",BOOKING_GUEST_FEE:r+"v1/booking/guestfee",IROP_DETAILS_URL:r+"v1/irop/details",IROP_ACCEPT_URL:r+"v1/irop/accept",IROP_CANCEL_URL:r+"v1/irop/cancel",IROP_KEEP_URL:r+"vb/v1/booking/irop/keepflight",IROP_REDEEM_COMPENSATION_URL:r+"v1/irop/redeemcompensation",IROP_CANCEL_RESEND_EMAIL_URL:r+"vb/v1/booking/mail/cancel",BUYBACK_URL:r+"vb/v1/booking/buyback",BUYBACK_WHITE_LABEL_URL:"https://marketplace.vivaaerobus.com/nftickets",OTP_OPTIONS_URL:r+"vb/v1/booking/otp/options",OTP_GENERATE_URL:r+"vb/v1/booking/otp/generate",GET_COMPENSATIONS_URL:r+"vb/v1/booking/compensations",PROCESS_COMPENSATION_URL:r+"vb/v1/booking/compensations/process",MARKETPLACE:r+"vb/v1/booking/marketplace"}},B8du:function(e,t){e.exports=function(){return!1}},B8vn:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),o=n("egL7");let r=(()=>{class e{constructor(e){this.gtmService=e}flipOriginDestination(){this.gtmService.pushTag({event:"ev_ux_flight_status",category:"ux_flight_status",action:"flip_origin_destination"})}searchFlightStatus(e,t){this.gtmService.pushTag({event:"ev_flight_status",category:"flight_status",action:"search_flight_status",label:e,timeframe:t})}clickInAlert(e){this.gtmService.pushTag({event:"ev_flight_status",category:"flight_status",action:"flight_status_click_alert",label:e})}clickInDetails(e){this.gtmService.pushTag({event:"ev_flight_status_click_details",category:"flight_status",action:"flight_status_click_details",label:e})}switchTabList(e){this.gtmService.pushTag({event:"ev_ux_booker_tablist_flight_search",category:"booker_tablist",action:e,"gtm.uniqueEventId":35147})}clickInNotification(e){this.gtmService.pushTag({event:"ev_flight_status",category:"flight_status",action:"click_create_notification",label:e})}notificationChannel(e){this.gtmService.pushTag({event:"ev_flight_status",category:"flight_status",action:"subscribe_notification",label:e,whatsapp_notification:"phone"===e?"true":"false"})}cancelNotification(){this.gtmService.pushTag({event:"ev_flight_status",category:"flight_status",action:"cancel_notification"})}}return e.\u0275fac=function(t){return new(t||e)(i.dc(o.a))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},BEZw:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ofXK"),o=n("h3XU"),r=n("o5mt"),s=n("Pqv9"),a=n("fXoL");let c=(()=>{class e{}return e.\u0275mod=a.Rb({type:e}),e.\u0275inj=a.Qb({factory:function(t){return new(t||e)},imports:[[i.c,r.a,o.a,s.a]]}),e})()},BFxc:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("7o/Q"),o=n("4I5i"),r=n("EY2u");function s(e){return function(t){return 0===e?Object(r.b)():t.lift(new a(e))}}class a{constructor(e){if(this.total=e,this.total<0)throw new o.a}call(e,t){return t.subscribe(new c(e,this.total))}}class c extends i.a{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let o=0;o<n;o++){const o=t++%n;e.next(i[o])}}e.complete()}}},BifP:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("mrSG"),o=n("1AID"),r=n("AytR"),s=n("fXoL"),a=n("LYOT"),c=n("ofXK");const l=["api-account-trips","api-checkin-boardingpass","cms-content-copy","cms-content-messages","cms-confirmation-page","cms-payment-method-images","cms-content-avatars","cms-content-copy-img","cms-content-copy-cta"],u=["api-resources-stations","api-resources-currencies","api-resources-countries","api-resources-provinces","cms-content-stations","cms-content-configuration","cms-storefront","cms-content-pages","cms-content-pages-slugs","cms-content-services"];let d=(()=>{class e{constructor(e){this.platformId=e,this.pwaCacheKey=r.g.cacheKeys.PWA_LOCAL_CACHE}checkCache(e){let t;if(Object(c.L)(this.platformId)&&(t=localStorage.getItem(this.pwaCacheKey)),t){if(t){const{shortTermCacheVersion:n,longTermCacheVersion:i}=JSON.parse(t);let o=[];n!==e.shortTermCacheVersion&&(o=o.concat(l)),i!==e.longTermCacheVersion&&(o=o.concat(u)),o.length&&(this.saveInLocalStorage(e),this.deleteCacheTerm(o).then(()=>{window.location.reload()}))}}else this.saveInLocalStorage(e)}saveInLocalStorage(e){Object(c.L)(this.platformId)&&localStorage.setItem(this.pwaCacheKey,JSON.stringify(e))}deleteCacheTerm(e){return Object(c.L)(this.platformId)&&"caches"in window?Promise.all(e.map(e=>{caches.delete(e)})):Promise.all([])}}return e.\u0275fac=function(t){return new(t||e)(s.dc(s.G))},e.\u0275prov=s.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),h=(()=>{class e{constructor(e,t){this.contentful=e,this.swCacheSvc=t,this.CONFIG_CHANNEL=r.g.contentful.services.configurationChannel}load(){return new Promise((e,t)=>{try{this.getAppConfig().then(()=>{e()})}catch(n){t(n)}})}getAppConfig(){return Object(i.a)(this,void 0,void 0,(function*(){this.cmsConfig=yield this.getCMSConfig(),this.swCacheSvc.checkCache(this.cmsConfig.globalSettings.localCache)}))}getCMSConfig(){return Object(i.a)(this,void 0,void 0,(function*(){return(yield this.contentful.getEntries({content_type:"configuration","fields.channel":this.CONFIG_CHANNEL,include:3})).items[0].fields||void 0}))}get _cmsConfig(){return this.cmsConfig}getSectionFeatureValue(e,t){let n=[];switch(e){case o.b.GLOBAL:n=this.cmsConfig.globalSettings.features||[];break;case o.b.BOOKING:n=this.cmsConfig.bookingSettings.features||[];break;default:n=[]}const i=n.find(e=>!!e.name&&e.name===t);return i&&i.isActive||!1}getBookingFeatureValue(e){return this.getSectionFeatureValue(o.b.BOOKING,e)}}return e.\u0275fac=function(t){return new(t||e)(s.dc(a.a),s.dc(d))},e.\u0275prov=s.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},BkRI:function(e,t,n){var i=n("OBhP");e.exports=function(e){return i(e,5)}},Bxln:function(e,t,n){"use strict";try{self["workbox:core:5.1.4"]&&_()}catch(i){}},CH3K:function(e,t){e.exports=function(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}},CJ36:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var i=n("mrSG"),o=n("fXoL"),r=n("ofXK"),s=n("LMmM"),a=n.n(s),c=n("tAZD"),l=n.n(c),u=n("7Jl0"),d=n.n(u),h=n("AQDP"),p=n.n(h),g=n("U9ZV"),f=n("wd/R"),m=n("AytR");const b=[{code:"es-MX",name:"Spanish (Mexico)",default:!0},{code:"en-US",name:"English (United States)",default:!1},{code:"es-US",name:"Spanish (United States)",default:!1},{code:"es-CO",name:"Spanish (Colombia)",default:!1}];var v=n("LYOT"),y=n("hzby");let _=(()=>{class e{constructor(e,t,n,i){this.contentful=e,this.bsLocale=t,this.platformId=n,this.document=i,this.locales=[],this.getLocales()}registerLocalesData(){Object(r.N)(a.a),Object(r.N)(l.a),Object(r.N)(d.a),Object(r.N)(p.a)}registerNgxBoostrapLocalesData(){Object(g.a)("es-mx",g.c),Object(g.a)("es-us",g.d),Object(g.a)("es-co",g.c)}getLocales(){return Object(i.a)(this,void 0,void 0,(function*(){this.locales=b,this.setDefaultLocale(),this.setCMSLocale(this.getSavedLocale()),this.registerLocalesData(),this.registerNgxBoostrapLocalesData(),this.setMomentsLocale(this.getAppLocale()),this.setNgxBootstrapLocale(this.getAppLocale().toLowerCase())}))}setDefaultLocale(){this.locales.forEach(e=>{e.default&&(this.defaultLocale=e)})}setCMSLocale(e){this.contentful.setLocale(e)}setMomentsLocale(e){f.locale(e)}setNgxBootstrapLocale(e){"en-us"!==e&&this.bsLocale.use(e)}changeLocaleData(e){return this.saveLocaleConfig(e),!(!this.isValidLocale(e)||e===this.appLocale)}getSavedLocale(){var e;let t,n=!1;if(Object(r.L)(this.platformId)&&sessionStorage.getItem("viva-lang")&&(sessionStorage.removeItem("viva-lang"),n=!0),!n){const e=this.document.location.pathname.split("/"),n=b.map(e=>e.code);if(null==e?void 0:e[1]){const i=n.find(t=>t.toLowerCase()===e[1].toLowerCase());i&&(t=i)}}return!t&&Object(r.L)(this.platformId)&&(t=localStorage.getItem("viva-locale")),t&&!this.isValidLocale(t)&&(t=void 0),this.appLocale=t||(null===(e=this.defaultLocale)||void 0===e?void 0:e.code),this.appLocale}isValidLocale(e){return!!this.locales.find(t=>t.code===e)}saveLocaleConfig(e){Object(r.L)(this.platformId)&&(this.isValidLocale(e)?localStorage.setItem("viva-locale",e):m.g.production||console.error("::SaveLocaleConfig::","Error: given locale value is not within allowed locales: "+e))}getCMSLocales(){return this.locales}getAppLocale(){var e;return this.appLocale||(null===(e=this.defaultLocale)||void 0===e?void 0:e.code)}get baseHref(){return"/"+this.getAppLocale().toLowerCase()}reloadAppWithLocale(e){if(e&&e!==this.appLocale&&this.isValidLocale(e)){let t=this.document.location.pathname+this.document.location.search+this.document.location.hash;t.startsWith(this.baseHref)&&(t=t.replace(this.baseHref,"/"+e.toLocaleLowerCase())),this.document.location.href=t}else this.document.location.reload()}}return e.\u0275fac=function(t){return new(t||e)(o.dc(v.a),o.dc(y.d),o.dc(o.G),o.dc(r.e))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},CPX7:function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var i=n("mrSG"),o=n("fXoL"),r=n("h/S9"),s=n("PxKc"),a=n("tiZS"),c=n("AytR"),l=n("2Vo4"),u=n("XNiG"),d=n("quSY"),h=n("LRne"),p=n("cp0P"),g=n("GyhO"),f=n("NXyV"),m=n("PqYM"),b=n("l5mm"),v=n("st0d"),y=n("d/Sv"),_=n("RbsG"),C=n("IzEk"),S=n("eIep"),O=n("vkgz"),T=n("7o/Q");class w{constructor(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?A:k}call(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))}}class k extends T.a{constructor(e,t){super(e),this.bufferSize=t,this.buffer=[]}_next(e){const t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])}_complete(){const e=this.buffer;e.length>0&&this.destination.next(e),super._complete()}}class A extends T.a{constructor(e,t,n){super(e),this.bufferSize=t,this.startBufferEvery=n,this.buffers=[],this.count=0}_next(e){const{bufferSize:t,startBufferEvery:n,buffers:i,count:o}=this;this.count++,o%n==0&&i.push([]);for(let r=i.length;r--;){const n=i[r];n.push(e),n.length===t&&(i.splice(r,1),this.destination.next(n))}}_complete(){const{buffers:e,destination:t}=this;for(;e.length>0;){let n=e.shift();n.length>0&&t.next(n)}super._complete()}}var E=n("JIr8"),M=n("lJxs"),P=n("nYR2"),D=n("pLZG"),x=n("3E0/"),I=n("RRjW"),L=n("ofXK"),R=n("tyNb"),N=n("f0Wu"),j=n("y4Wf"),B=n("GEJx"),F=n("CJ36"),H=n("ChtM"),U=n("E50d"),Y=n("f0i7");let G=(()=>{class e{constructor(e,t,n,i,o,r,s,a,h){this.platformId=e,this.basketApi=t,this.basketBookingApi=n,this.localeSvc=i,this.currency=o,this.bookingParams=r,this.txHeaderService=s,this.router=a,this.route=h,this.BASKETID_SESSIONSTORAGE_KEY=c.g.cacheKeys.BASKET_TOKEN,this.BASKETID_LOCALSTORAGE_KEY=c.g.cacheKeys.BASKET_TOKEN,this.$basket=new l.a(void 0),this.$basketBooking=new l.a(void 0),this.$fullBasket=new l.a(void 0),this.$dynamicFlow=new u.a,this.syncShouldGetBooking=!0,this.$isSyncing=new l.a(!1),this.$basketSyncNotify=new u.a,this.basketSyncNotifySubscription=d.a.EMPTY,this.$syncDone=new u.a,this.$basketMsgNotify=new u.a,this.bookingWhiteListCodes=[I.b.NO_TRAVEL_IN_BASKET,I.b.BASKET_PASSIVE],this.loadPersistedBasket=!0,this.$basketAboutToExpire=new u.a,this.expirationCountdownSubscription=d.a.EMPTY,this.expiredNotificationSent=!1,this.loadedPersisted=!1,this.startSyncObservable(),this.loadPersistedBasketId()}ngOnDestroy(){this.stopSyncSubscription()}get basketMsgNotify$(){return this.$basketMsgNotify.asObservable()}get _basket(){return this.basket}get _basketBooking(){return this.basketBooking}_bf_booking(){if(this.basket&&this.basket.status===r.d.Active&&this.basket.flowType===s.b.Booking)return this.basketBooking}get basket$(){return this.$basket.asObservable()}get basketBooking$(){return this.$basketBooking.asObservable()}get fullBasket$(){return this.$fullBasket.asObservable()}get isSyncing$(){return this.$isSyncing.asObservable()}get syncDone$(){return this.$syncDone.asObservable().pipe(Object(C.a)(1))}get basketId(){if(this.basket)return this.basket.basketId}get dynamicFlow$(){return this.$dynamicFlow.asObservable()}get basketAboutToExpire$(){return this.$basketAboutToExpire.asObservable()}startSyncObservable(){this.basketSyncNotifySubscription=this.$basketSyncNotify.asObservable().pipe(Object(S.a)(e=>{const{basketId:t}=e||{};return t?this.getBasketFullInfoForSync(e):Object(h.a)([void 0,void 0])})).subscribe(e=>{this.basket=e[0],this.$basket.next(this.basket),this.setExpirationCountdown(),this.emitDynamicFlow(),this.basketBooking=e[1],this.$basketBooking.next(this.basketBooking),this.$fullBasket.next({basket:this.basket,basketBooking:this.basketBooking}),this.persistBasketId(),this.$syncDone.next(!0),this.$isSyncing.next(!1)},e=>{c.g.production||console.error("::SyncBasketInfoHandler::",e),this.$syncDone.next(!1),this.$isSyncing.next(!1)})}stopSyncSubscription(){this.basketSyncNotifySubscription.closed||this.basketSyncNotifySubscription.unsubscribe()}getBasketFullInfo(e){return Object(p.a)([this.getBasketInfo(e),this.getBasketBookingInfo(e)])}getBasketFullInfoForSync(e){const{basketId:t}=e||{};return Object(g.a)(this.getBasketInfo(t).pipe(Object(O.a)(e=>this.syncShouldGetBooking=!!e&&e.status===r.d.Active)),Object(f.a)(()=>this.syncShouldGetBooking?this.shouldSkipBookingSync(e)?Object(h.a)(this.basketBooking):this.getBasketBookingInfo(t):Object(h.a)(void 0))).pipe(function(e,t=null){return function(n){return n.lift(new w(e,t))}}(2))}getBasketInfo(e){return this.basketApi.getBasketById(e).pipe(Object(E.a)(e=>(e.error&&e.error.code===I.b.BASKET_EXPIRED?this.clearBasket():c.g.production||console.error(e),Object(h.a)({data:void 0}))),Object(M.a)(e=>e.data))}getBasketBookingInfo(e){return this.basketBookingApi.getBasketBooking(e).pipe(Object(E.a)(e=>(c.g.production||this.bookingWhiteListCodes.includes(e.error.code)||console.error(e),Object(h.a)({data:void 0}))),Object(M.a)(e=>e.data))}syncBasketInfo(e="",t=!0){var n;try{const i=e||(null===(n=this.basket)||void 0===n?void 0:n.basketId);if(!i)throw new Error("Basket Sycnhronization Error: Basket is not initialized or no basketId was given to the method call!!");this.$basketSyncNotify.next({basketId:i,syncBooking:t}),this.$isSyncing.next(!0)}catch(i){c.g.production||console.error("::SyncBasketInfo::",i),Object(m.a)(0).subscribe(()=>{this.$isSyncing.next(!1),this.$syncDone.next(!1)})}}getCreatedBasketInfo(e){this.$isSyncing.next(!0),this.getBasketInfo(e).pipe(Object(P.a)(()=>{this.$isSyncing.next(!1)})).subscribe(e=>{this.basket=e,this.basketBooking=void 0,this.$basket.next(this.basket),this.$basketBooking.next(this.basketBooking),this.emitDynamicFlow(),this.$fullBasket.next({basket:this.basket,basketBooking:this.basketBooking}),this.$syncDone.next(!0)},e=>{c.g.production||console.error("::GetCreatedBasketInfo::",e),this.$syncDone.next(!1)})}createBasket(e=s.f.NO_STEP,t,n,o,r=null){return Object(i.a)(this,void 0,void 0,(function*(){const i={currencyCode:this.currency.selectedCurrencyCode,language:this.localeSvc.getAppLocale(),currentStep:e,customFields:n,referralDetails:t,bookingType:o};r&&(i.engine={deviceId:r});const s=this.basket;try{const e=(yield this.basketApi.createBasket(i).toPromise()).data.basketId;return this.basket=void 0,this.basketBooking=void 0,this.getCreatedBasketInfo(e),yield this.syncDone$.toPromise(),!0}catch(a){return c.g.production||console.error("::CreateBasket::",a),this.basket=s,!1}}))}emitDynamicFlow(){this.basket&&this.$dynamicFlow.next(this.basket.dynamicFlow)}updateBasketStep(e,t,n=!1){var o;return Object(i.a)(this,void 0,void 0,(function*(){if(!this.basket||!this.basket.dynamicFlow)return!1;if((e===s.f.FE_Calendar||e===s.f.NO_STEP)&&!c.g.production)return console.error("::UpdateBasket::","Cannot use this value to update basket step"),!1;try{const i={flowType:t,basketId:this.basketId,currentStep:e,bookingType:null===(o=this.basket)||void 0===o?void 0:o.bookingType};return yield this.basketApi.updateBasket(i).toPromise(),n&&(this.syncBasketInfo(this.basketId),yield this.syncDone$.toPromise()),!0}catch(i){return c.g.production||console.error("::UpdateBasket::",i),!1}}))}getNextStep(e){var t;if(this.basket&&this.basket.dynamicFlow){const n=null===(t=this.basket)||void 0===t?void 0:t.dynamicFlow,i=e||n.currentStep,o=n.steps.findIndex(e=>i===e.name);return-1!==o&&o+1<n.steps.length?n.steps[o+1].name:void 0}}persistBasketId(){this.basket&&this.basket.basketId&&Object(L.L)(this.platformId)&&(sessionStorage.setItem(this.BASKETID_SESSIONSTORAGE_KEY,this.basketId),localStorage.setItem(this.BASKETID_LOCALSTORAGE_KEY,this.basketId))}loadPersistedBasketId(){return Object(i.a)(this,void 0,void 0,(function*(){const e=yield this.resolveBasketId();if(e&&void 0===this.basket&&this.loadPersistedBasket)try{if(this.syncBasketInfo(e),yield this.syncDone$.toPromise(),this.basket){const e=yield this.bookingParams.getBasketBookingParams(this.basket);this.emitDynamicFlow(),e&&this.txHeaderService.pushBookingQueryParams(e,v.a.BASKET_INFO)}}catch(t){c.g.production||console.error("::LoadBasketFromStorage::",t)}this.loadedPersisted=!0}))}hasBasketSynchronous(e,t={}){var n,o;return Object(i.a)(this,void 0,void 0,(function*(){let i=null;return Object(L.L)(this.platformId)&&(i=sessionStorage.getItem(this.BASKETID_SESSIONSTORAGE_KEY)||localStorage.getItem(this.BASKETID_LOCALSTORAGE_KEY)),!(this.loadedPersisted||!(i||(null===(n=null==t?void 0:t.basketRouteConfig)||void 0===n?void 0:n.viewRequiresBasket)&&(null===(o=null==t?void 0:t.basketRouteConfig)||void 0===o?void 0:o.loadBasketFromBasketId)&&e.queryParamMap.has("basketId")))||!(!this.loadedPersisted||null===this._basket&&(yield this.isSyncing$.pipe(Object(C.a)(1)).toPromise()))}))}getTripTypeFromBasket(e){const t=e||this.basket;if(t&&t.travel&&Array.isArray(t.travel.journeys)&&t.travel.journeys.length>0)switch(t.travel.journeys.length){case 1:return y.a.ONE_WAY;case 2:return this.getIsRoundTrip(t)?y.a.ROUND_TRIP:y.a.MULTI_CITY;default:return y.a.MULTI_CITY}}getIsRoundTrip(e){return!(!e.travel.journeys||!Array.isArray(e.travel.journeys)||2!==e.travel.journeys.length)&&e.travel.journeys[0].origin.code===e.travel.journeys[1].destination.code&&e.travel.journeys[1].origin.code===e.travel.journeys[0].destination.code}emitBasketUpdateMsg(e,t){e?this.$basketMsgNotify.next({msg:e,icon:t}):this.$basketMsgNotify.next()}emitEmptyBasketState(){this.$basketSyncNotify.next(void 0),this.$isSyncing.next(!0)}clearBasket(){this.emitEmptyBasketState(),Object(L.L)(this.platformId)&&(sessionStorage.removeItem(this.BASKETID_SESSIONSTORAGE_KEY),localStorage.removeItem(this.BASKETID_LOCALSTORAGE_KEY))}loadBasketFromParams(e,t,n,o=s.b.Manage,r,a){var l;return Object(i.a)(this,void 0,void 0,(function*(){try{let i;if(a&&a.currencyCode&&a.language)i=a;else{const o=(yield this.basketBookingApi.getFullBooking(e,t,n).toPromise()).data;i=Object.assign({currencyCode:o.currencyCode,language:this.localeSvc.getAppLocale()},!!r&&{currentStep:r})}const s=null===(l=(yield this.basketApi.createBasket(i).toPromise()).data)||void 0===l?void 0:l.basketId;if(s){const i={basketId:s,pnr:e,lastName:t,emailAddress:n,flowType:o};return yield this.basketApi.loadBasket(i).toPromise(),s}}catch(i){throw c.g.production||console.error("::LoadBasketFromParams::",i),i}throw new Error("Error creating basket not initialized!")}))}loadBasketIntoNewBasket(e){var t,n,o,r,s,a,l;return Object(i.a)(this,void 0,void 0,(function*(){try{const i=yield this.getFullBasketForLoad(e);if((null==i?void 0:i.basket)&&(null===(t=i.basketBooking)||void 0===t?void 0:t.pnr)){let e=null;if((null===(o=null===(n=null==i?void 0:i.basket)||void 0===n?void 0:n.travel)||void 0===o?void 0:o.passengers)&&(null===(s=null===(r=null==i?void 0:i.basket)||void 0===r?void 0:r.travel)||void 0===s?void 0:s.passengers.length)>0&&(null==i||i.basket.travel.passengers.every(t=>!t.lastName||(e=t.lastName,!1))),!e){const t=(null===(a=i.basketBooking.contacts)||void 0===a?void 0:a.find(e=>e.contactType===_.c.Primary))||(null===(l=i.basketBooking.contacts)||void 0===l?void 0:l[0]);e=t.lastName}if(e){const t={currencyCode:i.basketBooking.currencyCode,language:i.basket.language},n=yield this.loadBasketFromParams(i.basketBooking.pnr,e,null,i.basket.flowType,i.basket.dynamicFlow.currentStep,t);return yield this.updateCustomFields(n,i.basket),n}}}catch(i){throw c.g.production||console.error("::CreateBasketFromOldBasket::",i),new Error(i)}throw new Error("Error creating basket not initialized!")}))}updateCustomFields(e,t){var n,o;return Object(i.a)(this,void 0,void 0,(function*(){if(null==t?void 0:t.customFields){const i={basketId:e,flowType:t.flowType,customFieldUpdates:[],bookingType:null==t?void 0:t.bookingType};for(const e of Object.keys(null==t?void 0:t.customFields))(null===(n=null==t?void 0:t.customFields)||void 0===n?void 0:n[e])&&i.customFieldUpdates.push({path:e,value:null===(o=null==t?void 0:t.customFields)||void 0===o?void 0:o[e],updateType:a.a.Replace});i.customFieldUpdates.length&&(yield this.basketApi.updateBasket(i).toPromise(),this.syncBasketInfo(e),yield this.syncDone$.toPromise())}}))}saveCheckInPaidCharges(e){return Object(i.a)(this,void 0,void 0,(function*(){if((null==e?void 0:e.customFields)&&((null==e?void 0:e.flowType)===s.b.CheckIn||(null==e?void 0:e.flowType)===s.b.Manage)){const t={basketId:e.basketId,flowType:null==e?void 0:e.flowType,customFieldUpdates:[{path:"checkInPaidCharges",value:{charges:e.travel.charges,additionalCharges:e.travel.additionalCharges,misconfiguredCharges:e.travel.misconfiguredCharges,totalAmount:e.totalAmount},updateType:a.a.Replace}]};yield this.basketApi.updateBasket(t).toPromise(),this.syncBasketInfo(e.basketId),yield this.syncDone$.toPromise()}}))}stopPersistedBasketLoading(){this.loadPersistedBasket=!1}getFullBasketForLoad(e){var t;return Object(i.a)(this,void 0,void 0,(function*(){if(e){if((null===(t=this.basket)||void 0===t?void 0:t.basketId)===e&&this.basketBooking&&this.basket)return{basketBooking:this.basketBooking,basket:this.basket};{const t=yield this.getBasketFullInfo(e).toPromise();return{basketBooking:t[1],basket:t[0]}}}if(this.basketBooking&&this.basket)return{basketBooking:this.basketBooking,basket:this.basket}}))}resolveBasketId(){return new Promise(e=>{this.router.events.pipe(Object(D.a)(e=>e instanceof R.c),Object(C.a)(1),Object(x.a)(100)).subscribe(t=>{var n,i;if(t instanceof R.c){const o=null===(n=this.router.parseUrl(t.url).root.children[R.f])||void 0===n?void 0:n.segments;let r;Object(L.L)(this.platformId)&&(r=sessionStorage.getItem(this.BASKETID_SESSIONSTORAGE_KEY)||localStorage.getItem(this.BASKETID_LOCALSTORAGE_KEY));const s=null===(i=this.getRoutesData(this.route.snapshot.root))||void 0===i?void 0:i.basketRouteConfig;if(o&&(null==s?void 0:s.viewRequiresBasket)&&(null==s?void 0:s.loadBasketFromBasketId)){const t=this.route.snapshot.queryParamMap;return t.has("basketId")?void e(t.get("basketId")):r?void e(r):void e(void 0)}e(r||void 0)}else e(void 0)})})}shouldSkipBookingSync(e){var t;const{basketId:n,syncBooking:i}=e||{};return!1===i&&!!n&&!!this.basketBooking&&(null===(t=this.basket)||void 0===t?void 0:t.basketId)===n}getRoutesData(e){return Object.assign(Object.assign({},e.data),e.children.reduce((e,t)=>Object.assign(Object.assign({},this.getRoutesData(t)),e),{}))}setExpirationCountdown(e){var t;return this.stopExpirationCountdown(),this.basketExpirationDate=void 0,this.expiredNotificationSent=!1,(null===(t=this.basket)||void 0===t?void 0:t.status)===r.d.Active&&(this.basketExpirationDate=N().add(N.duration(e||this.basket.remainingActivityTime)),this.expirationCountdownSubscription=Object(b.a)(2e3).subscribe(this.onCountdownCheck.bind(this)),!0)}resumeExpirationCountdown(){var e;return this.stopExpirationCountdown(),!((null===(e=this.basket)||void 0===e?void 0:e.status)!==r.d.Active||!this.basketExpirationDate||(this.expirationCountdownSubscription=Object(b.a)(2e3).subscribe(this.onCountdownCheck.bind(this)),0))}stopExpirationCountdown(){this.expirationCountdownSubscription.closed||this.expirationCountdownSubscription.unsubscribe()}onCountdownCheck(){if(this.basketExpirationDate){const e=N.duration(this.basketExpirationDate.diff(N()),"milliseconds");!this.expiredNotificationSent&&e.asSeconds()<299&&(this.$basketAboutToExpire.next({timeToExpire:e.asMilliseconds(),basketId:this.basketId}),this.expiredNotificationSent=!0),e.asMilliseconds()<0&&(this.setBasketAsPassive(),this.stopExpirationCountdown())}else this.stopExpirationCountdown()}setBasketAsPassive(){var e;(null===(e=this.basket)||void 0===e?void 0:e.status)===r.d.Active&&(this.basket.status=r.d.Passive,this.basket.remainingActivityTime=null,this.basketBooking=void 0,this.$basket.next(this.basket),this.$basketBooking.next(this.basketBooking),this.$fullBasket.next({basket:this.basket,basketBooking:this.basketBooking}))}updateBasketExpirationTime(){var e;this.stopExpirationCountdown(),this.basketExpirationDate=void 0,this.expiredNotificationSent=!1,(null===(e=this.basket)||void 0===e?void 0:e.status)===r.d.Active&&this.getBasketInfo(this.basketId).subscribe(e=>{(null==e?void 0:e.status)===r.d.Active?this.setExpirationCountdown(e.remainingActivityTime):(null==e?void 0:e.status)===r.d.Passive&&this.setBasketAsPassive()},e=>{c.g.production||console.error("::UpdateBasketExpirationTime::",e)})}getTripTypeFromBasketBooking(e){const t=e||this.basketBooking;if(t&&t.journeys&&Array.isArray(t.journeys)&&t.journeys.length>0)switch(t.journeys.length){case 1:return y.a.ONE_WAY;case 2:return this.getIsRoundTripBAsketBooking(t)?y.a.ROUND_TRIP:y.a.MULTI_CITY;default:return y.a.MULTI_CITY}}getIsRoundTripBAsketBooking(e){return!(!e.journeys||!Array.isArray(e.journeys)||2!==e.journeys.length)&&e.journeys[0].origin.code===e.journeys[1].destination.code&&e.journeys[1].origin.code===e.journeys[0].destination.code}isBookingVivaFan(e){var t;const n=e||this.basketBooking;return!!n&&!!(null===(t=null==n?void 0:n.charges)||void 0===t?void 0:t.find(e=>"FlightFanDiscount"===e.code))}}return e.\u0275fac=function(t){return new(t||e)(o.dc(o.G),o.dc(j.a),o.dc(B.a),o.dc(F.a),o.dc(H.a),o.dc(U.a),o.dc(Y.a),o.dc(R.g),o.dc(R.a))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"Ce/h":function(e,t,n){var i={"./es":"iYuL","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL"};function o(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id="Ce/h"},Cfvw:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("HDdC"),o=n("SeVD"),r=n("quSY"),s=n("kJWO"),a=n("jZKg"),c=n("Lhse"),l=n("c2HN"),u=n("I55L");function d(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[s.a]}(e))return function(e,t){return new i.a(n=>{const i=new r.a;return i.add(t.schedule(()=>{const o=e[s.a]();i.add(o.subscribe({next(e){i.add(t.schedule(()=>n.next(e)))},error(e){i.add(t.schedule(()=>n.error(e)))},complete(){i.add(t.schedule(()=>n.complete()))}}))})),i})}(e,t);if(Object(l.a)(e))return function(e,t){return new i.a(n=>{const i=new r.a;return i.add(t.schedule(()=>e.then(e=>{i.add(t.schedule(()=>{n.next(e),i.add(t.schedule(()=>n.complete()))}))},e=>{i.add(t.schedule(()=>n.error(e)))}))),i})}(e,t);if(Object(u.a)(e))return Object(a.a)(e,t);if(function(e){return e&&"function"==typeof e[c.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new i.a(n=>{const i=new r.a;let o;return i.add(()=>{o&&"function"==typeof o.return&&o.return()}),i.add(t.schedule(()=>{o=e[c.a](),i.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=o.next();e=n.value,t=n.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())})))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof i.a?e:new i.a(Object(o.a)(e))}},CgaS:function(e,t,n){"use strict";var i=n("xTJ+"),o=n("MLWZ"),r=n("9rSQ"),s=n("UnBK"),a=n("SntB");function c(e){this.defaults=e,this.interceptors={request:new r,response:new r}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method=e.method?e.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}})),i.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,o){return this.request(i.merge(o||{},{method:e,url:t,data:n}))}})),e.exports=c},ChtM:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("mrSG"),o=n("fXoL"),r=n("AytR"),s=n("Elrx"),a=n("ofXK"),c=n("tk/3"),l=n("kh7C"),u=n("BifP");let d=(()=>{class e{constructor(e,t,n,i){this.http=e,this.utils=t,this.platformId=n,this.config=i,this.currencies=[],this.defaultCurrencyCode="MXN",this.SAVED_CURRENCY_KEY="viva-user-currency"}load(){return new Promise((e,t)=>{try{this.loadCurrencies().then(()=>{e()})}catch(n){t(n)}})}loadCurrencies(){var e;return Object(i.a)(this,void 0,void 0,(function*(){try{this.currencies=(yield this.getCurrencies().toPromise()).data.currencies}catch(i){r.g.production||console.error("::LoadCurrenciesConfig::","Unable to fetch currency settings from API!"),this.currencies=[s.c]}this.defaultCurrencyCode=(null===(e=this.config._cmsConfig)||void 0===e?void 0:e.defaultCurrency)||this.defaultCurrencyCode;const t=this.loadSelectedCurrencyCode();let n;n=this.currencies.find(t?e=>e.code===t:e=>e.code===this.defaultCurrencyCode),n||(n=s.c,r.g.production||console.error("::LoadCurrenciesConfig::","Invalid currency detected, setting fallback currency.")),this.setCurrencyConfig(n)}))}setCurrencyConfig(e){e&&(this.selectedCurrency=e)}getCurrencies(){return this.http.get(r.g.CURRENCIES_URL)}get _selectedCurrency(){return this.selectedCurrency}get selectedCurrencyCode(){return this.selectedCurrency.code}get _currencies(){return this.currencies}saveSelectedCurrencyCode(e){Object(a.L)(this.platformId)&&localStorage.setItem(this.SAVED_CURRENCY_KEY,e.code)}loadSelectedCurrencyCode(){if(Object(a.L)(this.platformId)){const e=this.getCurrencyCodeFromUrl();if(e){const t=this.currencies.find(t=>t.code.toLowerCase()===e.toLowerCase());if(t)return this.saveSelectedCurrencyCode(t),e}return localStorage.getItem(this.SAVED_CURRENCY_KEY)}}getCurrencyCodeFromUrl(){const e=this.utils.getParamsFromUrlSearch();return e.currency?e.currency.toUpperCase():void 0}changeAppCurrency(e){const t=this.currencies.find(t=>t.code===e);return t?(this.saveSelectedCurrencyCode(t),t.code!==this.selectedCurrency.code):(r.g.production||console.error("::ChangeAppCurrency::","Invalid currency given to change."),!1)}}return e.\u0275fac=function(t){return new(t||e)(o.dc(c.b),o.dc(l.a),o.dc(o.G),o.dc(u.a))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Cwc5:function(e,t,n){var i=n("NKxu"),o=n("Npjl");e.exports=function(e,t){var n=o(e,t);return i(n)?n:void 0}},D0XW:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("3N8a");const o=new(n("IjjT").a)(i.a)},D731:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("/Yn+"),o=n("WCtt"),r=n("fXoL"),s=n("TUgU");let a=(()=>{class e{constructor(e){this.cmsTranslate=e}transform(e,t){if(!e)return e||"";const n=t||o.a,r=this.cmsTranslate.getRichTextEntry(e);return Object(i.documentToHtmlString)(r,n)}}return e.\u0275fac=function(t){return new(t||e)(r.Tb(s.a))},e.\u0275pipe=r.Sb({name:"cmsTranslateRichText",type:e,pure:!0}),e})()},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))()},DPnb:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return S}));var i=n("fXoL"),o=n("ofXK"),r=n("Cfvw"),s=n("LRne"),a=n("XNiG"),c=n("lJxs"),l=n("jtHE"),u=n("oB13"),d=n("x+ZX"),h=n("1G5W");n("jhN1");const p=["container"],g=new i.t("LottieOptions"),f=new i.t("AnimationCache");let m=(()=>{class e{constructor(e,t,n,i){this.ngZone=e,this.platformId=t,this.options=n,this.animationCache=i,this.player$=function(e){const t=e();return t instanceof Promise?Object(r.a)(t).pipe(Object(c.a)(e=>e.default||e),function(e,t,n,i){const o=new l.a(1,void 0,void 0);return e=>Object(u.a)(()=>o,void 0)(e)}(),Object(d.a)()):Object(s.a)(t)}(this.options.player)}resolveLoaderAndLoadAnimation(e,t,n,i,r,s){Object(o.M)(this.platformId)||this.player$.pipe(Object(h.a)(s)).subscribe(o=>{const s=function(e,t,n){const i=Object.assign({container:t,renderer:"svg",loop:!0,autoplay:!0},e);return null!==n?n.transformOptions(i):i}(e,t,this.animationCache);this.loadAnimation(o,s,n,i,r)})}loadAnimation(e,t,n,i,o){const r=this.ngZone.runOutsideAngular(()=>e.loadAnimation(t));!function(e,t,n){null!==e&&n.addEventListener("config_ready",()=>{e.set(t,n)})}(this.animationCache,t,r),i.emit(r),n.addEventListeners(o,r)}}return e.\u0275fac=function(t){return new(t||e)(i.dc(i.E),i.dc(i.G),i.dc(g),i.dc(f))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})(),b=(()=>{class e{constructor(e,t){this.platformId=e,this.animationLoader=t,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=new i.p,this.complete=new i.p,this.loopComplete=new i.p,this.enterFrame=new i.p,this.segmentStart=new i.p,this.configReady=new i.p,this.dataReady=new i.p,this.domLoaded=new i.p,this.destroy=new i.p,this.error=new i.p,this.destroy$=new a.a}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAnimation(e,t,n,i){!Object(o.M)(this.platformId)&&e.options&&(n.destroyAnimation(),this.animationLoader.resolveLoaderAndLoadAnimation(e.options.currentValue,t,n,this.animationCreated,i,this.destroy$))}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.G),i.Tb(m))},e.\u0275dir=i.Ob({type:e,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}}),e})();class v{constructor(){this.cache=new Map}static create(e){return e.useCache?new v:null}transformOptions(e){const t=e.path;return t&&this.cache.has(t)&&(delete e.path,e.animationData=this.cache.get(t)),e}set(e,t){e.animationData||this.cache.set(e.path,t.animationData)}}let y=(()=>{class e{constructor(e,t){this.ngZone=e,this.platformId=t,this.eventsMap={complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"config_ready",dataReady:"data_ready",domLoaded:"DOMLoaded",destroy:"destroy",error:"error"},this.animationItem=null}ngOnDestroy(){this.destroyAnimation()}addEventListeners(e,t){this.animationItem=t,this.ngZone.runOutsideAngular(()=>this.addEventListenersToObservedEventEmitters(e))}destroyAnimation(){Object(o.M)(this.platformId)||null===this.animationItem||(this.animationItem.destroy(),this.animationItem=null)}addEventListenersToObservedEventEmitters(e){const t=function(e,t){return Object.keys(e).map(t=>[t,e[t]]).filter(([e,n])=>n instanceof i.p&&n.observers.length>0&&t.hasOwnProperty(e)).map(([e,n])=>({eventEmitter:n,name:t[e]}))}(e,this.eventsMap);for(const{name:n,eventEmitter:i}of t)this.animationItem.addEventListener(n,e=>{i.emit(e)})}}return e.\u0275fac=function(t){return new(t||e)(i.dc(i.E),i.dc(i.G))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})(),_=(()=>{class e extends b{constructor(e,t,n,i){super(e,i),this.host=t,this.eventsFacade=n}ngOnChanges(e){super.loadAnimation(e,this.host.nativeElement,this.eventsFacade,this)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.G),i.Tb(i.n,2),i.Tb(y,2),i.Tb(m))},e.\u0275dir=i.Ob({type:e,selectors:[["","lottie",""]],features:[i.Gb([y]),i.Eb,i.Fb]}),e})(),C=(()=>{class e extends b{constructor(e,t,n){super(e,n),this.eventsFacade=t,this.width=null,this.height=null,this.container=null}ngOnChanges(e){super.loadAnimation(e,this.container.nativeElement,this.eventsFacade,this)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.G),i.Tb(y,2),i.Tb(m))},e.\u0275cmp=i.Nb({type:e,selectors:[["ng-lottie"]],viewQuery:function(e,t){var n;1&e&&i.Nc(p,!0),2&e&&i.Dc(n=i.ic())&&(t.container=n.first)},inputs:{width:"width",height:"height"},features:[i.Gb([y]),i.Eb,i.Fb],decls:2,vars:6,consts:[[3,"ngStyle","ngClass"],["container",""]],template:function(e,t){1&e&&i.Ub(0,"div",0,1),2&e&&(i.Pc("width",t.width||"100%")("height",t.height||"100%"),i.sc("ngStyle",t.styles)("ngClass",t.containerClass))},directives:[o.x,o.r],encapsulation:2,changeDetection:0}),e})(),S=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[m,{provide:g,useValue:t},{provide:f,useFactory:v.create,deps:[g]}]}}}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[o.c]]}),e})()},DSRE:function(e,t,n){(function(e){var i=n("Kz5y"),o=n("B8du"),r=t&&!t.nodeType&&t,s=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===r?i.Buffer:void 0;e.exports=(a?a.isBuffer:void 0)||o}).call(this,n("2pl3")(e))},DfZB:function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},DflE:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),o=n("fXoL"),r=n("G/yK");let s=(()=>{class e{constructor(e){this.flightStationSvc=e,this.prevCodeValue="",this.stationName=""}transform(e,t="long"){return e||"string"==typeof e?(this.prevCodeValue===e||(this.prevCodeValue=e,this.stationName=e,this.getStationName(e,t)),this.stationName):this.stationName}getStationName(e,t){return Object(i.a)(this,void 0,void 0,(function*(){yield this.flightStationSvc.ready;const n=this.flightStationSvc.getStation(e);this.stationName="support"!==t?n?"short"===t&&n.stationNameShort?n.stationNameShort:n.name:e:n&&(null==n?void 0:n.supportText)?n.supportText:""}))}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(r.a))},e.\u0275pipe=o.Sb({name:"flightStationName",type:e,pure:!1}),e})()},Dvum:function(e,t,n){var i,o,r;!function(s,a){"use strict";e.exports?e.exports=a(n("wd/R")):(o=[n("wd/R")],void 0===(r="function"==typeof(i=a)?i.apply(t,o):i)||(e.exports=r))}(0,(function(e){"use strict";void 0===e.version&&e.default&&(e=e.default);var t,n={},i={},o={},r={},s={};e&&"string"==typeof e.version||E("Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/");var a=e.version.split("."),c=+a[0],l=+a[1];function u(e){return e>96?e-87:e>64?e-29:e-48}function d(e){var t=0,n=e.split("."),i=n[0],o=n[1]||"",r=1,s=0,a=1;for(45===e.charCodeAt(0)&&(t=1,a=-1);t<i.length;t++)s=60*s+u(i.charCodeAt(t));for(t=0;t<o.length;t++)r/=60,s+=u(o.charCodeAt(t))*r;return s*a}function h(e){for(var t=0;t<e.length;t++)e[t]=d(e[t])}function p(e,t){var n,i=[];for(n=0;n<t.length;n++)i[n]=e[t[n]];return i}function g(e){var t=e.split("|"),n=t[2].split(" "),i=t[3].split(""),o=t[4].split(" ");return h(n),h(i),h(o),function(e,t){for(var n=0;n<t;n++)e[n]=Math.round((e[n-1]||0)+6e4*e[n]);e[t-1]=1/0}(o,i.length),{name:t[0],abbrs:p(t[1].split(" "),i),offsets:p(n,i),untils:o,population:0|t[5]}}function f(e){e&&this._set(g(e))}function m(e,t){this.name=e,this.zones=t}function b(e){var t=e.toTimeString(),n=t.match(/\([a-z ]+\)/i);"GMT"===(n=n&&n[0]?(n=n[0].match(/[A-Z]/g))?n.join(""):void 0:(n=t.match(/[A-Z]{3,5}/g))?n[0]:void 0)&&(n=void 0),this.at=+e,this.abbr=n,this.offset=e.getTimezoneOffset()}function v(e){this.zone=e,this.offsetScore=0,this.abbrScore=0}function y(e,t){for(var n,i;i=6e4*((t.at-e.at)/12e4|0);)(n=new b(new Date(e.at+i))).offset===e.offset?e=n:t=n;return e}function _(e,t){return e.offsetScore!==t.offsetScore?e.offsetScore-t.offsetScore:e.abbrScore!==t.abbrScore?e.abbrScore-t.abbrScore:e.zone.population!==t.zone.population?t.zone.population-e.zone.population:t.zone.name.localeCompare(e.zone.name)}function C(e,t){var n,i;for(h(t),n=0;n<t.length;n++)s[i=t[n]]=s[i]||{},s[i][e]=!0}function S(e){var t,n,i,o=e.length,a={},c=[];for(t=0;t<o;t++)for(n in i=s[e[t].offset]||{})i.hasOwnProperty(n)&&(a[n]=!0);for(t in a)a.hasOwnProperty(t)&&c.push(r[t]);return c}function O(e){return(e||"").toLowerCase().replace(/\//g,"_")}function T(e){var t,i,o,s;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)s=O(i=(o=e[t].split("|"))[0]),n[s]=e[t],r[s]=i,C(s,o[2].split(" "))}function w(e,t){e=O(e);var o,s=n[e];return s instanceof f?s:"string"==typeof s?(s=new f(s),n[e]=s,s):i[e]&&t!==w&&(o=w(i[e],w))?((s=n[e]=new f)._set(o),s.name=r[e],s):null}function k(e){var t,n,o,s;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)o=O((n=e[t].split("|"))[0]),s=O(n[1]),i[o]=s,r[o]=n[0],i[s]=o,r[s]=n[1]}function A(e){return!(!e._a||void 0!==e._tzm||"X"===e._f||"x"===e._f)}function E(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function M(t){var n=Array.prototype.slice.call(arguments,0,-1),i=arguments[arguments.length-1],o=w(i),r=e.utc.apply(null,n);return o&&!e.isMoment(t)&&A(r)&&r.add(o.parse(r),"minutes"),r.tz(i),r}(c<2||2===c&&l<6)&&E("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),f.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets,this.population=e.population},_index:function(e){var t,n=+e,i=this.untils;for(t=0;t<i.length;t++)if(n<i[t])return t},countries:function(){var e=this.name;return Object.keys(o).filter((function(t){return-1!==o[t].zones.indexOf(e)}))},parse:function(e){var t,n,i,o,r=+e,s=this.offsets,a=this.untils,c=a.length-1;for(o=0;o<c;o++)if(i=s[o?o-1:o],(t=s[o])<(n=s[o+1])&&M.moveAmbiguousForward?t=n:t>i&&M.moveInvalidForward&&(t=i),r<a[o]-6e4*t)return s[o];return s[c]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return E("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(e)]},utcOffset:function(e){return this.offsets[this._index(e)]}},v.prototype.scoreOffsetAt=function(e){this.offsetScore+=Math.abs(this.zone.utcOffset(e.at)-e.offset),this.zone.abbr(e.at).replace(/[^A-Z]/g,"")!==e.abbr&&this.abbrScore++},M.version="0.5.43",M.dataVersion="",M._zones=n,M._links=i,M._names=r,M._countries=o,M.add=T,M.link=k,M.load=function(e){T(e.zones),k(e.links),function(e){var t,n,i,r;if(e&&e.length)for(t=0;t<e.length;t++)n=(r=e[t].split("|"))[0].toUpperCase(),i=r[1].split(" "),o[n]=new m(n,i)}(e.countries),M.dataVersion=e.version},M.zone=w,M.zoneExists=function e(t){return e.didShowError||(e.didShowError=!0,E("moment.tz.zoneExists('"+t+"') has been deprecated in favor of !moment.tz.zone('"+t+"')")),!!w(t)},M.guess=function(e){return t&&!e||(t=function(){try{var e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e&&e.length>3){var t=r[O(e)];if(t)return t;E("Moment Timezone found "+e+" from the Intl api, but did not have that data loaded.")}}catch(u){}var n,i,o,s=function(){var e,t,n,i=(new Date).getFullYear()-2,o=new b(new Date(i,0,1)),r=[o];for(n=1;n<48;n++)(t=new b(new Date(i,n,1))).offset!==o.offset&&(e=y(o,t),r.push(e),r.push(new b(new Date(e.at+6e4)))),o=t;for(n=0;n<4;n++)r.push(new b(new Date(i+n,0,1))),r.push(new b(new Date(i+n,6,1)));return r}(),a=s.length,c=S(s),l=[];for(i=0;i<c.length;i++){for(n=new v(w(c[i]),a),o=0;o<a;o++)n.scoreOffsetAt(s[o]);l.push(n)}return l.sort(_),l.length>0?l[0].zone.name:void 0}()),t},M.names=function(){var e,t=[];for(e in r)r.hasOwnProperty(e)&&(n[e]||n[i[e]])&&r[e]&&t.push(r[e]);return t.sort()},M.Zone=f,M.unpack=g,M.unpackBase60=d,M.needsOffset=A,M.moveInvalidForward=!0,M.moveAmbiguousForward=!1,M.countries=function(){return Object.keys(o)},M.zonesForCountry=function(e,t){var n;if(n=(n=e).toUpperCase(),!(e=o[n]||null))return null;var i=e.zones.sort();return t?i.map((function(e){return{name:e,offset:w(e).utcOffset(new Date)}})):i};var P,D=e.fn;function x(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}function I(e){return function(){return this._z=null,e.apply(this,arguments)}}e.tz=M,e.defaultZone=null,e.updateOffset=function(t,n){var i,o=e.defaultZone;if(void 0===t._z&&(o&&A(t)&&!t._isUTC&&(t._d=e.utc(t._a)._d,t.utc().add(o.parse(t),"minutes")),t._z=o),t._z)if(i=t._z.utcOffset(t),Math.abs(i)<16&&(i/=60),void 0!==t.utcOffset){var r=t._z;t.utcOffset(-i,n),t._z=r}else t.zone(i,n)},D.tz=function(t,n){if(t){if("string"!=typeof t)throw new Error("Time zone name must be a string, got "+t+" ["+typeof t+"]");return this._z=w(t),this._z?e.updateOffset(this,n):E("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this}if(this._z)return this._z.name},D.zoneName=x(D.zoneName),D.zoneAbbr=x(D.zoneAbbr),D.utc=I(D.utc),D.local=I(D.local),D.utcOffset=(P=D.utcOffset,function(){return arguments.length>0&&(this._z=null),P.apply(this,arguments)}),e.tz.setDefault=function(t){return(c<2||2===c&&l<9)&&E("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?w(t):null,e};var L=e.momentProperties;return"[object Array]"===Object.prototype.toString.call(L)?(L.push("_z"),L.push("_a")):L&&(L._z=null),e}))},"Dw+G":function(e,t,n){var i=n("juv8"),o=n("mTTR");e.exports=function(e,t){return e&&i(t,o(t),e)}},"Dz+M":function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();t.Action=function(e){function t(t,n){return e.call(this)||this}return i(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n("zB/H").Subscription)},E2jh:function(e,t,n){var i,o=n("2gN3"),r=(i=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!r&&r in e}},E50d:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("mrSG"),o=n("wd/R"),r=n("RJ73"),s=n("b3gp"),a=n("AytR"),c=n("uYuu"),l=n("d/Sv"),u=n("9yTC"),d=n("PxKc"),h=n("bEA1"),p=n("fXoL"),g=n("G/yK"),f=n("kh7C");let m=(()=>{class e{constructor(e,t){this.flightStationsSvc=e,this.utilsSvc=t,this.journeyRegex=/^[A-Z]{3}\_[A-Z]{3}\_(2\d{3}(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01]))(\_\d{3,4}(\-\d{3,4})?)?$/g,this.itineraryCodeRegex=new RegExp("^("+this.journeyRegex.source.replace("^","").replace("$","")+"(.)?)+$","g"),this.passengerRegex=/^([ACI]\d(\_)?){1,3}$/g,this.alternateStationsRegex=/^(?:[01]{2})+$/,this.passengerMax=9}parseFlightItineraryCode(e,t=!1){return Object(i.a)(this,void 0,void 0,(function*(){if(e){if(this.itineraryCodeRegex.lastIndex=0,this.itineraryCodeRegex.test(e)){const n=e.split(".").filter(e=>!!e),i=[];return n.forEach(e=>{const t=this.parseFlightAvailabilityJourney(e);t&&i.push(t)}),(yield this.validateJourneyStations(i))?(t&&this.changeDates(i),i):[]}return a.g.production||console.error("ItineraryCode Parse Error: Evaluated string is not in the format: "+this.itineraryCodeRegex.source),[]}return[]}))}parseFlightAvailabilityJourney(e){if(this.journeyRegex.lastIndex=0,this.journeyRegex.test(e)){const t=e.split("_",4).filter(e=>!!e),n=o(t[2],"YYYYMMDD");if(n.isValid()){const e={origin:{code:t[0],type:r.i.AIRPORT},destination:{code:t[1],type:r.i.AIRPORT},date:n};return t.length>3&&(e.flightNo=t[3]),e}}}validateJourneyStations(e,t=!1){return Object(i.a)(this,void 0,void 0,(function*(){yield this.flightStationsSvc.ready;for(const n of e){if(!this.flightStationsSvc.isValidStation(n.origin.code)||!this.flightStationsSvc.isValidStation(n.destination.code))return!1;if(t&&o().isAfter(n.date))return!1}return!0}))}changeDates(e){var t;const n=e.length>1?null===(t=e[0])||void 0===t?void 0:t.date:void 0;e.forEach(e=>{if(o(e.date).isBefore(o(),"days"))if(n){const t=o.duration(o(e.date).diff(n)).asDays();e.date=o().add(t,"days")}else e.date=o()})}parseBookingPassengers(e){if(e){if(this.passengerRegex.lastIndex=0,this.passengerRegex.test(e)){const t=e.split("_").filter(e=>!!e),n=new s.a;return t.forEach(e=>{const t=e.substring(0,1);let i=0;try{i=parseInt(e.substring(1),10)}catch(o){i=0}switch(t){case"A":n.adults=i;break;case"C":n.kids=i;break;case"I":n.babies=i}}),this.validateBookerPassengers(n),n}{a.g.production||console.error("BookingPassengers Parse Error: Evaluated string is not in the format: "+this.passengerRegex.source);const e=new s.a;return e.adults=1,e}}}validateBookerPassengers(e){e&&e instanceof s.a&&(e.adults<0&&(e.adults=0),e.adults>this.passengerMax&&(e.adults=this.passengerMax),e.babies>e.adults&&(e.babies=e.adults),e.adults+e.kids>this.passengerMax)&&(e.kids=this.passengerMax-e.adults)}getFlightType(e){if(e.itineraryCode&&Array.isArray(e.itineraryCode)&&e.itineraryCode.length>0)switch(e.itineraryCode.length){case 1:return l.a.ONE_WAY;case 2:return this.getIsRoundTrip(e)?l.a.ROUND_TRIP:l.a.MULTI_CITY;default:return l.a.MULTI_CITY}}getIsRoundTrip(e){return!(!e.itineraryCode||!Array.isArray(e.itineraryCode)||2!==e.itineraryCode.length)&&e.itineraryCode[0].origin.code===e.itineraryCode[1].destination.code&&e.itineraryCode[1].origin.code===e.itineraryCode[0].destination.code}getBasketBookingParams(e,t=!0){var n,r,l,p;return Object(i.a)(this,void 0,void 0,(function*(){if(e&&e.travel&&e.travel.journeys&&e.travel.journeys.length>0){const i=new c.a;i.itineraryCode=new Array,i.originalJourneys=[];let g=[];return(null===(n=null==e?void 0:e.customFields)||void 0===n?void 0:n.originalJourneyKeys.length)&&e.flowType===d.b.Manage?(i.originalJourneys=null===(r=null==e?void 0:e.customFields)||void 0===r?void 0:r.originalJourneyKeys,g=(null===(l=e.customFields)||void 0===l?void 0:l.availabilitySearchType)?e.travel.journeys.filter(t=>{var n,i;return null===(i=null===(n=null==e?void 0:e.customFields)||void 0===n?void 0:n.originalJourneyKeys)||void 0===i?void 0:i.includes(t.journeyKey)}):e.travel.journeys.filter(t=>{var n,i;return null===(i=null===(n=null==e?void 0:e.customFields)||void 0===n?void 0:n.availabilityJourneyKeys)||void 0===i?void 0:i.includes(t.journeyKey)}),(null===(p=e.customFields)||void 0===p?void 0:p.availabilitySearchType)&&(e.customFields.availabilitySearchType===h.a.FlyAheadCDMX?(i.mmbSearchType=h.a.FlyAhead,i.isFlyAheadCDMXSearch=!0):i.mmbSearchType=e.customFields.availabilitySearchType)):g=e.travel.journeys,g.forEach(e=>{const t={origin:{code:e.origin.code,type:e.origin.type},destination:{code:e.destination.code,type:e.destination.type},date:o(e.departureDate)};i.itineraryCode.push(t)}),(yield this.validateJourneyStations(i.itineraryCode,t))?(i.travelType=this.getFlightType(i),i.passengers=new s.a,e.travel.passengers&&e.travel.passengers.length>0?(e.travel.passengers.forEach(e=>{switch(e.passengerTypeCode){case u.g.ADULT:i.passengers.adults++;break;case u.g.CHILD:i.passengers.kids++;break;case u.g.BABY:i.passengers.babies++;break;default:i.passengers.adults++}}),this.validateBookerPassengers(i.passengers)):(i.passengers.adults=1,i.passengers.kids=0,i.passengers.babies=0),i.doters="Points"===(null==e?void 0:e.bookingType),i):void(a.g.production||console.error("::BasketBookingParams::","Error, one or more journey stations are invalid!"))}}))}addMoreJourneyInfoToQueryParams(e,t){Array.isArray(null==t?void 0:t.journeys)&&t.journeys.forEach((n,i)=>{let o="";n.segments.forEach((e,t)=>{0!==t&&(o+="-"),o+=e.operatingCode}),e.itineraryCode[i].flightNo=o,e.itineraryCode[i].fare=this.utilsSvc.getFareFromBooking(t)})}createFlightSearchParams(e,t=!1){let n="";const i=this.createFlightAvailabilityJourneyArray(e,t);i.forEach((e,i)=>{0!==i&&(n+="."),n+=this.journeyToString(e,t)});const o=this.passengersToString(e),r={itineraryCode:n,passengers:o};return e.promoCode&&(r.promoCode=e.promoCode),t&&(r.modality=i[0].fare),e.doters&&(r.bookingType="Points"),e.alternateStations&&this.validateAlternateStationsParam(e.alternateStations)&&(r.alternateStations=e.alternateStations),r}createFlightAvailabilityJourneyArray(e,t=!1){return e.itineraryCode.map(e=>{const n={origin:{code:e.origin.code},destination:{code:e.destination.code},date:e.date};return t&&(n.flightNo=e.flightNo,n.fare=e.fare),n})}journeyToString(e,t=!1){if(e){let n=`${e.origin.code}_${e.destination.code}_`;return n+="string"==typeof e.date?o(e.date).format("YYYYMMDD"):e.date.format("YYYYMMDD"),t&&(null==e?void 0:e.flightNo)&&(n+="_"+e.flightNo),n}return""}passengersToString(e){let t="";return(null==e?void 0:e.passengers)?(t+="A"+e.passengers.adults,e.passengers.kids>0&&(t+="_C"+e.passengers.kids),e.passengers.babies>0&&(t+="_I"+e.passengers.babies)):(a.g.production||console.error("::BookingParamsService::passengersToString::",'No valid passenger data was passed to method! Defaulting to "A1"!'),t="A1"),t}getParamsFromFlightLowFare(e,t){if(e&&e.lowFare&&e.destination&&e.origin){const n={itineraryCode:this.generateItineraryFromFlightLowFare(e,t),passengers:new s.a,travelType:l.a.ROUND_TRIP};return n.passengers.adults=1,e.lowFare.discountCode&&(n.promoCode=e.lowFare.discountCode),this.createFlightSearchParams(n)}}generateItineraryFromFlightLowFare(e,t){const n=o(e.lowFare.departureDate)||o().add(2,"days"),i=n.clone().add(t,"days");return[{origin:{code:e.origin,type:r.i.AIRPORT},destination:{code:e.destination,type:r.i.AIRPORT},date:n},{origin:{code:e.destination,type:r.i.AIRPORT},destination:{code:e.origin,type:r.i.AIRPORT},date:i}]}validateAlternateStationsParam(e){return this.alternateStationsRegex.test(e)||"true"===e}generateAlternateStationsParam(e,t){return"true"===e?"".padEnd(2*t,"1"):e}}return e.\u0275fac=function(t){return new(t||e)(p.dc(g.a),p.dc(f.a))},e.\u0275prov=p.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},EEGq:function(e,t,n){var i=n("juv8"),o=n("oCl/");e.exports=function(e,t){return i(e,o(e),t)}},EY2u:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var i=n("HDdC");const o=new i.a(e=>e.complete());function r(e){return e?function(e){return new i.a(t=>e.schedule(()=>t.complete()))}(e):o}},EcEN:function(e,t,n){var i=n("xDdU"),o=n("xk4V"),r=o;r.v1=i,r.v4=o,e.exports=r},Elrx:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var i=n("fXoL");const o={code:"MXN",symbol:"MX$",exchangeRates:[{baseCurrency:"MXN",rate:1}],cultureCode:"en-US"},r=new i.t(void 0),s=new i.t(void 0)},EpBk:function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},ExA7:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},"FE/U":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n("ofXK"),o=n("fXoL"),r=n("2Vo4"),s=n("lJxs"),a=n("6oyg");let c=(()=>{class e{constructor(e,t,n){this.platformId=e,this.document=t,this.locale=n,this.currentChannel=null,this.$currentChannel=new r.a(this.channelVal),this.currentChannel=this.channelVal}setChannelValue(t){sessionStorage.setItem(e.CHANNEL_ITEM_ID,t),this.$currentChannel.next(this.channelVal),this.currentChannel=this.channelVal}get channelVal(){let t=null;return Object(i.L)(this.platformId)&&(t=sessionStorage.getItem(e.CHANNEL_ITEM_ID)),t}get currentChannel$(){return this.$currentChannel.asObservable()}get isAppChannel$(){return this.currentChannel$.pipe(Object(s.a)(e=>"vivaapp"===e))}get _currentChannel(){return this.currentChannel}getFdlLinkForApp(e,t){var n,i;if("vivaapp"===this.currentChannel){const o={pnr:null==t?void 0:t.pnr,lastName:null===(i=null===(n=null==t?void 0:t.passengers)||void 0===n?void 0:n[0])||void 0===i?void 0:i.lastName};if(o.pnr&&o.lastName){const t=`?pnr=${encodeURIComponent(o.pnr)}&lastName=${encodeURIComponent(o.lastName)}`,n="addTrip"+t;let i=`${this.document.location.origin}/${this.locale.toLowerCase()}/`;switch(e){case l.confirmation:i+="book/confirmation"+t;break;case l.mmb_landing:i+="manage/trip-details"+t;break;case l.checkin_landing:i+="check-in"+t}return a.a.generateDynamicLinkForApp(n,i)}}return""}}return e.CHANNEL_ITEM_ID="viva-medium-channel",e.\u0275fac=function(t){return new(t||e)(o.dc(o.G),o.dc(i.e),o.dc(o.y))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=function(e){return e.confirmation="confirmation",e.mmb_landing="mmb",e.checkin_landing="checkin",e.homepage="home",e}({})},FTCy:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var i=n("ofXK"),o=n("fXoL"),r=n("b3gp"),s=n("quSY"),a=n("PqYM"),c=n("1AID"),l=n("RbsG"),u=n("VXQe"),d=n("TUgU"),h=n("qcmc"),p=n("BifP"),g=n("imvL"),f=n("39vh"),m=n("9O1C"),b=n("VXoX");function v(e,t){if(1&e&&(o.Xb(0),o.Sc(1),o.kc(2,"slice"),o.Wb()),2&e){const e=t.ngIf;o.Hb(1),o.Uc(" ",e.length>28?o.nc(2,1,e,0,28)+"...":e," ")}}const y=function(e){return{active:e}};function _(e,t){if(1&e){const e=o.ac();o.Zb(0,"button",5),o.hc("click",(function(){o.Hc(e);const t=o.jc();return t.togglePopup(!t.showPopup)})),o.Ub(1,"i",6),o.Zb(2,"label",7),o.Sc(3),o.kc(4,"cmsTranslate"),o.Yb(),o.Zb(5,"p",8),o.Qc(6,v,3,5,"ng-container",9),o.kc(7,"i18nPlural"),o.kc(8,"i18nPlural"),o.kc(9,"i18nPlural"),o.Yb(),o.Ub(10,"i",10),o.Yb()}if(2&e){const e=o.jc();o.sc("ngClass",o.vc(15,y,e.showPopup)),o.Hb(3),o.Uc(" ",o.lc(4,4,"GLOBAL_LABEL_PASSENGERS")," "),o.Hb(3),o.sc("ngIf",o.mc(7,6,e.passengers.adults,e.passengersLabels[e.passengerTypes.ADULTS])+(e.passengers.adults&&e.passengers.kids?", ":"")+o.mc(8,9,e.passengers.kids,e.passengersLabels[e.passengerTypes.KIDS])+o.mc(9,12,e.passengers.babies,e.passengersLabels[e.passengerTypes.BABIES])),o.Hb(4),o.sc("ngClass",o.vc(17,y,e.showPopup))}}function C(e,t){1&e&&(o.Xb(0),o.Sc(1),o.kc(2,"cmsTranslate"),o.Wb()),2&e&&(o.Hb(1),o.Uc(" ",o.lc(2,1,"GLOBAL_LABEL_PASSENGERS")," "))}const S=function(e,t){return{active:e,simple:t}};function O(e,t){if(1&e){const e=o.ac();o.Zb(0,"button",11),o.hc("click",(function(){o.Hc(e);const t=o.jc();return t.togglePopup(!t.showPopup)})),o.Zb(1,"p",12),o.Qc(2,C,3,3,"ng-container",9),o.Sc(3),o.kc(4,"i18nPlural"),o.kc(5,"i18nPlural"),o.kc(6,"i18nPlural"),o.Yb(),o.Ub(7,"i",10),o.Yb()}if(2&e){const e=o.jc();o.Hb(2),o.sc("ngIf",!e.totalPassengers),o.Hb(1),o.Xc(" ",o.mc(4,6,e.passengers.adults,e.passengersLabels[e.passengerTypes.ADULTS])," ",e.passengers.adults&&e.passengers.kids?", ":""," ",o.mc(5,9,e.passengers.kids,e.passengersLabels[e.passengerTypes.KIDS])," ",o.mc(6,12,e.passengers.babies,e.passengersLabels[e.passengerTypes.BABIES])," "),o.Hb(4),o.sc("ngClass",o.wc(15,S,e.showPopup,e.simpleStyle))}}function T(e,t){1&e&&(o.Zb(0,"div",32),o.Zb(1,"p",33),o.Ub(2,"i",34),o.Sc(3),o.kc(4,"cmsTranslate"),o.Yb(),o.Yb()),2&e&&(o.Hb(3),o.Uc(" ",o.lc(4,1,"ALERT_LABEL_BABIES")," "))}function w(e,t){if(1&e&&(o.Xb(0),o.Zb(1,"div",35),o.Ub(2,"em",36,37),o.Yb(),o.Wb()),2&e){o.jc(2);const e=o.Ec(6);o.Hb(2),o.sc("tippy",e)}}function k(e,t){if(1&e){const e=o.ac();o.Zb(0,"div",18),o.Zb(1,"div"),o.Zb(2,"p",19),o.Sc(3),o.kc(4,"cmsTranslate"),o.Yb(),o.Zb(5,"small",20),o.Sc(6),o.kc(7,"cmsTranslate"),o.Yb(),o.Yb(),o.Zb(8,"div",21),o.Zb(9,"button",22),o.hc("click",(function(){o.Hc(e);const t=o.jc(2);return t.removePassengers(t.passengerTypes.BABIES)})),o.Ub(10,"i",23),o.Yb(),o.Zb(11,"span",24),o.Sc(12),o.Yb(),o.Zb(13,"button",22),o.hc("click",(function(){o.Hc(e);const t=o.jc(2);return t.addPassengers(t.passengerTypes.BABIES)})),o.Ub(14,"i",25),o.Yb(),o.Yb(),o.Yb()}if(2&e){const e=o.jc(2);o.Hb(3),o.Uc(" ",o.lc(4,5,"GLOBAL_LABEL_INFANTS")," "),o.Hb(3),o.Uc(" ",o.lc(7,7,"GLOBAL_LABEL_INFANTAGE")," "),o.Hb(3),o.sc("disabled",e.passengers.babies<1),o.Hb(3),o.Uc(" ",e.passengers.babies," "),o.Hb(1),o.sc("disabled",e.busBookingBehavior&&e.totalPassengers===e.MAX_PASSENGERS)}}function A(e,t){if(1&e&&(o.Zb(0,"app-call-to-action",38),o.Sc(1),o.kc(2,"cmsTranslate"),o.Yb()),2&e){const e=o.jc(2);o.sc("callToAction",e.ctaGroups),o.Hb(1),o.Uc(" ",o.lc(2,2,"GLOBAL_ACTION_GROUPS")," ")}}const E=function(e,t,n,i){return{"active-alert":e,"close-animation":t,"right-position-desk":n,"right-position-res":i}};function M(e,t){if(1&e){const e=o.ac();o.Zb(0,"div",13),o.Zb(1,"div",14),o.hc("click",(function(){return o.Hc(e),o.jc().togglePopup(!1)})),o.Yb(),o.Zb(2,"div",15),o.Qc(3,T,5,3,"div",16),o.Yb(),o.Zb(4,"div",17),o.Zb(5,"div",18),o.Zb(6,"div"),o.Zb(7,"p",19),o.Sc(8),o.kc(9,"cmsTranslate"),o.Yb(),o.Zb(10,"small",20),o.Sc(11),o.kc(12,"cmsTranslate"),o.Yb(),o.Yb(),o.Zb(13,"div",21),o.Zb(14,"button",22),o.hc("click",(function(){o.Hc(e);const t=o.jc();return t.removePassengers(t.passengerTypes.ADULTS)})),o.Ub(15,"i",23),o.Yb(),o.Zb(16,"span",24),o.Sc(17),o.Yb(),o.Zb(18,"button",22),o.hc("click",(function(){o.Hc(e);const t=o.jc();return t.addPassengers(t.passengerTypes.ADULTS)})),o.Ub(19,"i",25),o.Yb(),o.Yb(),o.Yb(),o.Zb(20,"div",18),o.Zb(21,"div"),o.Zb(22,"p",19),o.Sc(23),o.kc(24,"cmsTranslate"),o.Qc(25,w,4,1,"ng-container",9),o.Yb(),o.Zb(26,"small",20),o.Sc(27),o.kc(28,"cmsTranslate"),o.Yb(),o.Yb(),o.Zb(29,"div",21),o.Zb(30,"button",22),o.hc("click",(function(){o.Hc(e);const t=o.jc();return t.removePassengers(t.passengerTypes.KIDS)})),o.Ub(31,"i",23),o.Yb(),o.Zb(32,"span",24),o.Sc(33),o.Yb(),o.Zb(34,"button",22),o.hc("click",(function(){o.Hc(e);const t=o.jc();return t.addPassengers(t.passengerTypes.KIDS)})),o.Ub(35,"i",25),o.Yb(),o.Yb(),o.Yb(),o.Qc(36,k,15,9,"div",26),o.Qc(37,A,3,4,"app-call-to-action",27),o.Ub(38,"hr",28),o.Zb(39,"div",29),o.Zb(40,"button",30),o.hc("click",(function(){return o.Hc(e),o.jc().togglePopup(!1)})),o.Zb(41,"span",31),o.Sc(42),o.kc(43,"cmsTranslate"),o.Yb(),o.Yb(),o.Yb(),o.Yb(),o.Yb()}if(2&e){const e=o.jc();o.sc("ngClass",o.yc(26,E,e.showAlert,e.closeAnimation,e.rightPositionDesktop,e.rightPositionResponsive)),o.Hb(3),o.sc("ngIf",e.showAlert),o.Hb(5),o.Uc(" ",o.lc(9,16,"GLOBAL_LABEL_ADULTS")," "),o.Hb(3),o.Uc(" ",o.lc(12,18,e.busBookingBehavior?"BOOKER_LABEL_ADULTAGE-BUSES":"GLOBAL_LABEL_ADULTAGE")," "),o.Hb(3),o.sc("disabled",e.passengers.adults<=(e.minorTravelingAlone?0:1)||e.disabled),o.Hb(3),o.Uc(" ",e.passengers.adults," "),o.Hb(1),o.sc("disabled",e.busBookingBehavior&&e.totalPassengers===e.MAX_PASSENGERS),o.Hb(5),o.Uc(" ",o.lc(24,20,"GLOBAL_LABEL_CHILDREN")," "),o.Hb(2),o.sc("ngIf",e.minorTravelingAlone),o.Hb(2),o.Uc(" ",o.lc(28,22,e.busBookingBehavior?"BOOKER_LABEL_CHILDAGE-BUSES":"GLOBAL_LABEL_CHILDAGE")," "),o.Hb(3),o.sc("disabled",e.passengers.kids<1||e.disabled),o.Hb(3),o.Uc(" ",e.passengers.kids," "),o.Hb(1),o.sc("disabled",e.busBookingBehavior&&e.totalPassengers===e.MAX_PASSENGERS),o.Hb(2),o.sc("ngIf",e.showInfantRow),o.Hb(1),o.sc("ngIf",!e.busBookingBehavior),o.Hb(5),o.Uc(" ",o.lc(43,24,"GLOBAL_ACTION_READY")," ")}}function P(e,t){1&e&&(o.Zb(0,"div"),o.Sc(1),o.kc(2,"cmsTranslate"),o.Yb()),2&e&&(o.Hb(1),o.Uc(" ",o.lc(2,1,"BOOKER_TOOLTIP_UNACCOMPANIED-MINOR")," "))}const D=function(e){return{"ml-2":e}};let x=(()=>{class e{constructor(e,t,n,i,a,c,l){this.element=e,this.genericOverlayService=t,this.cmsTranslate=n,this.document=i,this.staticCtasSvc=a,this.cmsConfig=c,this.auth=l,this.showPopup=!1,this.showAlert=!1,this.MAX_PASSENGERS=9,this.passengerTypes=r.b,this.closeAnimation=!1,this.passengersLabels={[r.b.ADULTS]:{"=0":"","=1":"1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULT-COUNT"),other:"# "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULTS-COUNT")},[r.b.KIDS]:{"=0":"","=1":"1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILD-COUNT"),other:"# "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILDREN-COUNT")},[r.b.BABIES]:{"=0":"","=1":", 1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANT-COUNT"),other:", # "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANTS-COUNT")}},this.passengers={adults:1,kids:0,babies:0},this.simpleStyle=!1,this.busBookingBehavior=!1,this.rightPositionDesktop=!1,this.rightPositionResponsive=!1,this.disableMinorTravelingAlone=!1,this.passengersChange=new o.p,this.minorTravelingAlone=!1,this.showInfantRow=!0,this.onAccountSubscription=s.a.EMPTY,localStorage.setItem("passengers",JSON.stringify(this.passengers))}ngOnInit(){this.staticCtasSvc.ready.then(()=>{this.ctaGroups=this.staticCtasSvc.getCta("GLOBAL_ACTION_GROUPS"),this.URL_PASSENGERS_GROUP=this.ctaGroups.url}),this.minorTravelingAlone=!!this.cmsConfig.getBookingFeatureValue(c.a.MinorTravelingAlone)&&!this.busBookingBehavior&&!this.disableMinorTravelingAlone,this.disableMinorTravelingAlone&&(this.minorTravelingAlone=!1),this.MAX_PASSENGERS=this.busBookingBehavior?5:9,this.passengersChange.emit(),this.onAccountSubscription=this.auth.userAccountData$.subscribe(e=>{this.showInfantRow=!e||(null==e?void 0:e.accountType)!==l.k.Staff||this.cmsConfig.getSectionFeatureValue(c.b.GLOBAL,c.a.ShowInfantsInStaff)||!1})}ngOnChanges(e){e.disableMinorTravelingAlone&&(this.minorTravelingAlone=!!this.cmsConfig.getBookingFeatureValue(c.a.MinorTravelingAlone)&&!this.busBookingBehavior&&!this.disableMinorTravelingAlone)}ngOnDestroy(){this.onAccountSubscription.closed||this.onAccountSubscription.unsubscribe()}clickOutSide(e){!this.element.nativeElement.contains(e)&&this.showPopup&&(this.togglePopup(!1),this.showAlert=!1)}togglePopup(e){const{clientWidth:t}=this.document.body;!e&&t<=575?(this.closeAnimation=!0,Object(a.a)(400).subscribe(()=>{this.closeAnimation=!1,this.showPopup=e})):Object(a.a)(0).subscribe(()=>{this.showPopup=e}),t<=575&&(e?(this.document.body.style.overflow="hidden",this.genericOverlayService.showOverlay()):(this.document.body.style.overflow="auto",this.genericOverlayService.hideOverlay()))}addPassengers(e){e===r.b.ADULTS||e===r.b.KIDS?this.passengers.adults+this.passengers.kids<this.MAX_PASSENGERS?this.passengers[e]++:window.open(this.URL_PASSENGERS_GROUP,"_blank"):this.passengers.babies<this.passengers.adults?this.passengers.babies++:this.showAlert=!0,localStorage.setItem("passengers",JSON.stringify(this.passengers)),this.passengersChange.emit()}removePassengers(e){this.passengers[e]--,this.passengers.adults<this.passengers.babies&&(this.passengers.babies--,this.showAlert=!0),localStorage.setItem("passengers",JSON.stringify(this.passengers)),this.passengersChange.emit()}get disabled(){return this.minorTravelingAlone&&!this.passengers.adults&&this.passengers.kids<=1||!this.passengers.kids&&!this.passengers.adults}get totalPassengers(){return this.passengers.adults+this.passengers.kids+this.passengers.babies}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(o.n),o.Tb(u.a),o.Tb(d.a),o.Tb(i.e),o.Tb(h.a),o.Tb(p.a),o.Tb(g.a))},e.\u0275cmp=o.Nb({type:e,selectors:[["app-flight-passengers"]],hostBindings:function(e,t){1&e&&o.hc("mousedown",(function(e){return t.clickOutSide(e.target)}),!1,o.Fc)},inputs:{passengers:"passengers",simpleStyle:"simpleStyle",busBookingBehavior:"busBookingBehavior",rightPositionDesktop:"rightPositionDesktop",rightPositionResponsive:"rightPositionResponsive",disableMinorTravelingAlone:"disableMinorTravelingAlone"},outputs:{passengersChange:"passengersChange"},features:[o.Fb],decls:7,vars:6,consts:[[1,"position-relative",3,"ngClass"],["class","flight-input w-100",3,"ngClass","click",4,"ngIf","ngIfElse"],["simple",""],["class","flight-passengers-popup",3,"ngClass",4,"ngIf"],["noAdultsTooltip",""],[1,"flight-input","w-100",3,"ngClass","click"],[1,"fas","fa-user","flight-input-icon"],[1,"flight-input-label"],[1,"flight-input-text"],[4,"ngIf"],[1,"fas","fa-caret-down","flight-input-arrow",3,"ngClass"],[1,"flight-input-simple","pb-0",3,"click"],[1,"title","light","my-0","mr-2"],[1,"flight-passengers-popup",3,"ngClass"],[1,"dropdown-close","w-100",3,"click"],[1,"container-alert"],["class","flight-passengers-alert p-3",4,"ngIf"],[1,"flight-passengers-wrapper"],[1,"flight-passengers-row"],[1,"title","my-0"],[1,"small-title","flight-passengers-small"],[1,"flight-passengers-control"],[1,"viva-btn","unit","small",3,"disabled","click"],[1,"fas","fa-minus","content"],[1,"title","my-0","mx-1","mx-md-2","text-center"],[1,"fas","fa-plus","content"],["class","flight-passengers-row",4,"ngIf"],["ctaClass","text-link simple d-block text-center my-2",3,"callToAction",4,"ngIf"],[1,"my-0"],[1,"d-flex","justify-content-end"],[1,"py-20","pl-20","pr-10","viva-btn","btn-link","title","d-inline-block","h-auto","my-0",3,"click"],[1,"title"],[1,"flight-passengers-alert","p-3"],[1,"title","m-0","text-center"],[1,"fas","fa-exclamation-triangle","fa-xs","mr-2"],[1,"tippy-container","d-inline"],[1,"far","fa-question-circle",3,"tippy"],["tooltip","tippy"],["ctaClass","text-link simple d-block text-center my-2",3,"callToAction"]],template:function(e,t){if(1&e&&(o.Zb(0,"div",0),o.Qc(1,_,11,19,"button",1),o.Qc(2,O,8,18,"ng-template",null,2,o.Rc),o.Qc(4,M,44,31,"div",3),o.Yb(),o.Qc(5,P,3,3,"ng-template",null,4,o.Rc)),2&e){const e=o.Ec(3);o.sc("ngClass",o.vc(4,D,t.simpleStyle)),o.Hb(1),o.sc("ngIf",!t.simpleStyle)("ngIfElse",e),o.Hb(3),o.sc("ngIf",t.showPopup)}},directives:[i.r,i.u,f.a,m.a],pipes:[b.a,i.j,i.F],styles:['.flight-input[_ngcontent-%COMP%]{background:var(--wh1);width:100%;height:60px;display:flex;justify-content:space-between;border-radius:10px;box-sizing:border-box;border:2px solid var(--wh1);position:relative;z-index:1;text-align:initial}.flight-input.active[_ngcontent-%COMP%], .flight-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--vg4)}.flight-input-icon[_ngcontent-%COMP%]{vertical-align:middle;color:var(--bg4);margin-right:10px;position:absolute;top:50%;left:20px;z-index:1;transform:translateY(-50%)}.flight-input-icon[_ngcontent-%COMP%]:after{content:"";display:inline-block;position:absolute;top:-5px;margin-left:20px;height:30px;width:1px;background-color:var(--gr20)}.flight-input-label[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:18px;color:var(--bg6);font-size:12px;line-height:16px;margin:10px auto auto 70px;color:rgba(var(--bg6-rgb),.5);pointer-events:none}.flight-input-label[_ngcontent-%COMP%], .flight-input-text[_ngcontent-%COMP%]{font-family:Axiforma,Arial;position:absolute;left:0;top:0}.flight-input-text[_ngcontent-%COMP%]{font-weight:700;font-size:16px;margin:26px auto auto 70px;line-height:24px;color:var(--bg6)}.flight-input-arrow[_ngcontent-%COMP%]{position:absolute;top:18px;right:20px;font-size:18px;color:var(--bg4)}.flight-input-arrow.simple[_ngcontent-%COMP%]{color:var(--wh1);position:inherit}.flight-input-arrow.active[_ngcontent-%COMP%]{color:var(--vg4);transform:rotate(180deg)}.flight-input-simple[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-bottom:2px;background:none;border:none}.flight-input-simple[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{line-height:17px}.flight-input-simple[_ngcontent-%COMP%]:focus{outline:none}.flight-input-simple[_ngcontent-%COMP%]:hover > .fas[_ngcontent-%COMP%]{color:var(--vg4)}@media screen and (max-width:720px){.flight-input-simple[_ngcontent-%COMP%]{padding:0}.flight-input-simple[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{font-size:14px}}.flight-passengers-popup[_ngcontent-%COMP%]{width:260px!important}@media screen and (max-width:991px){.flight-passengers-popup[_ngcontent-%COMP%]{width:100%!important}}@media screen and (min-width:991px){.flight-passengers-popup[_ngcontent-%COMP%], .flight-passengers-wrapper[_ngcontent-%COMP%]{min-width:250px!important}}.flight-passengers-popup[_ngcontent-%COMP%]{min-height:auto;min-width:250px;width:100%;overflow:hidden;z-index:2;position:absolute;left:0;top:calc(100% + 2px);border:none;border-radius:5px;background-color:var(--wh1);box-shadow:0 1px 5px 0 rgba(95,95,95,.07),0 0 50px 0 hsla(0,0%,55.3%,.07)}@media screen and (max-width:575px){.flight-passengers-popup.active-alert[_ngcontent-%COMP%]   .flight-passengers-wrapper[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}}.flight-passengers-popup.right-position-desk[_ngcontent-%COMP%]{left:auto;right:0}@media screen and (max-width:991px){.flight-passengers-popup.right-position-desk[_ngcontent-%COMP%]{left:0;right:auto}}@media screen and (max-width:991px){.flight-passengers-popup.right-position-res[_ngcontent-%COMP%]{left:auto;right:0}}.flight-passengers-wrapper[_ngcontent-%COMP%]{padding:30px 20px 15px}.flight-passengers-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 100px;align-items:center;margin-bottom:20px}.flight-passengers-small[_ngcontent-%COMP%]{opacity:.5}.flight-passengers-control[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;align-items:center}.flight-passengers-alert[_ngcontent-%COMP%]{background-color:rgba(var(--r2-rgb),.25)}@media screen and (max-width:575px){.flight-passengers-alert[_ngcontent-%COMP%]{position:relative}.flight-passengers-alert[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:var(--bg6);font-weight:400}}.flight-passengers-alert[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:var(--r4)}@media screen and (max-width:575px){.viva-btn.unit[_ngcontent-%COMP%]{width:30px!important;height:30px!important}}.viva-btn.unit[_ngcontent-%COMP%]:first-child{background-color:var(--vg4)}.viva-btn.unit[_ngcontent-%COMP%]:first-child > i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.viva-btn.unit[_ngcontent-%COMP%]:disabled{background-color:var(--gr20)}hr[_ngcontent-%COMP%]{margin-bottom:15px}@media screen and (max-width:575px){.container-alert[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:309px;border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-left-radius:0;border-bottom-right-radius:0;background-color:var(--wh1);-webkit-animation:fadeInUpBig .5s ease 0s normal forwards;animation:fadeInUpBig .5s ease 0s normal forwards}.flight-passengers-popup[_ngcontent-%COMP%]{min-height:-webkit-fill-available;height:100%;width:100%!important;position:fixed;top:0;z-index:10000;display:flex;background-color:rgba(0,0,0,.7)}.flight-passengers-popup[_ngcontent-%COMP%]   .flight-passengers-wrapper[_ngcontent-%COMP%]{width:100%;position:fixed;bottom:0;background-color:var(--wh1);border-top-left-radius:10px;border-top-right-radius:10px;z-index:10001;-webkit-animation:fadeInUpBig .5s ease 0s normal forwards;animation:fadeInUpBig .5s ease 0s normal forwards}.flight-passengers-popup[_ngcontent-%COMP%]   .dropdown-close[_ngcontent-%COMP%]{height:calc(100% - 307px)}.flight-passengers-popup[_ngcontent-%COMP%]   .close-animation[_ngcontent-%COMP%]{-webkit-animation:fadeOutDown .4s ease 0s normal forwards;animation:fadeOutDown .4s ease 0s normal forwards}}@-webkit-keyframes fadeInUpBig{0%{opacity:0;-webkit-transform:translateY(2000px)}to{opacity:1;-webkit-transform:translateY(0)}}@keyframes fadeInUpBig{0%{opacity:0;transform:translateY(2000px)}to{opacity:1;transform:translateY(0)}}@-webkit-keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translateY(0)}to{opacity:0;-webkit-transform:translateY(20px)}}@keyframes fadeOutDown{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(20px)}}']}),e})()},FTgq:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("XNiG"),o=n("LRne"),r=n("Cfvw"),s=n("lJxs"),a=n("fXoL"),c=n("LYOT");let l=(()=>{class e{constructor(e){this.contentful=e,this.$onCloseModal=new i.a}get modalImages(){return this.response?Object(o.a)(this.response):(this.observable||(this.observable=Object(r.a)(this.contentful.getEntries({content_type:"itemsGroup",select:"sys.id,fields","fields.code":"BOOKER_MODAL_COBRAND_HOME"})).pipe(Object(s.a)(e=>{var t,n,i;const o=[];return null===(i=null===(n=null===(t=e.items[0])||void 0===t?void 0:t.fields)||void 0===n?void 0:n.mediaItems)||void 0===i||i.forEach(e=>{o.push(e)}),o})),this.observable.subscribe(e=>{this.response=e,this.observable=void 0})),this.observable)}emitCloseModal(){this.$onCloseModal.next()}get onCloseModal$(){return this.$onCloseModal.asObservable()}}return e.\u0275fac=function(t){return new(t||e)(a.dc(c.a))},e.\u0275prov=a.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},FWf1:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=n("pshJ"),r=n("GiSu"),s=n("zB/H"),a=n("p//D"),c=n("n3uD"),l=n("MkmW"),u=function(e){function t(n,i,o){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=r.empty;break;case 1:if(!n){s.destination=r.empty;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new d(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new d(s,n,i,o)}return s}return i(t,e),t.prototype[a.rxSubscriber]=function(){return this},t.create=function(e,n,i){var o=new t(e,n,i);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s.Subscription);t.Subscriber=u;var d=function(e){function t(t,n,i,s){var a,c=e.call(this)||this;c._parentSubscriber=t;var l=c;return o.isFunction(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==r.empty&&(l=Object.create(n),o.isFunction(l.unsubscribe)&&c.add(l.unsubscribe.bind(l)),l.unsubscribe=c.unsubscribe.bind(c))),c._context=l,c._next=a,c._error=i,c._complete=s,c}return i(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):l.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;l.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),c.config.useDeprecatedSynchronousErrorHandling)throw n;l.hostReportError(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return c.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(l.hostReportError(i),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u);t.SafeSubscriber=d},FonL:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),o=n("ofXK");let r=(()=>{class e{constructor(e){this.document=e,this.showModal$=new i.p,this.loginEmail$=new i.p,this.inviteModal=!1,this.inviteModalOnInit=!1}openModal(e=!0){this.showModal$.emit({open:!0,animation:e}),this.document.body.classList.add("open-modal")}closeModal(e=!0){this.showModal$.emit({open:!1,animation:e}),this.document.body.classList.remove("open-modal")}emitEmail(e,t=!1){this.loginEmail$.emit({email:e,existingEmail:t})}}return e.\u0275fac=function(t){return new(t||e)(i.dc(o.e))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"G/yK":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("jtHE"),o=n("cp0P"),r=n("LRne"),s=n("Cfvw"),a=n("RJ73"),c=n("AytR"),l=n("RRjW"),u=n("JIr8"),d=n("lJxs"),h=n("fXoL"),p=n("tk/3"),g=n("LYOT"),f=n("kh7C"),m=n("BifP");let b=(()=>{class e{constructor(e,t,n,o){this.http=e,this.contentful=t,this.utils=n,this.cmsConfig=o,this.$isReady=new i.a(1),this.isReady=!1,this.apiStations=[],this.cmsStations=new Map,this.enrichedStations=[],this.shortStationMap=new Map,this.maacStations=[],this.maacStationDestinations=[],this.enrichedMaacStations=[],this.initService()}initService(){this.getStations()}getStations(){Object(o.a)([this.getApiStations(),this.getCMSStations()]).subscribe(e=>{var t;this.apiStations=(null===(t=e[0].data)||void 0===t?void 0:t.stations)||[],this.cmsStations=this.createCMSStationMap(e[1]),this.maacStations=this.getMaacStations(),this.maacStationDestinations=this.getMaacStationDestinations(),this.enrichStations(),this.setReady()},e=>{console.error(e)})}getApiStations(){return this.http.get(c.g.STATIONS_URL,{params:{StationTypes:"Airport"}}).pipe(Object(u.a)(e=>{c.g.production||console.error("::GetAPIStations::","Unable to get stations from API!");const t=new l.c;return t.data={stations:[],versionId:void 0},Object(r.a)(t)}))}getCMSStations(){const e=this.contentful.getEntries({select:"fields,sys.id",content_type:"station"});return Object(s.a)(e).pipe(Object(d.a)(e=>this.resolvePreferredDestinations(e)),Object(u.a)(e=>(c.g.production||console.error("::GetCMSStations::","Unable to get stations from CMS service!"),[])))}resolvePreferredDestinations(e){return e.items.map(t=>{if(t.fields.preferredDestinations){const n=t.fields.preferredDestinations.map(t=>{const n=t.sys.id;return e.items.find(e=>e.sys.id===n)});t.fields.preferredDestinations=n}else t.fields.preferredDestinations=[];return t.fields})}createCMSStationMap(e){const t=new Map;return e&&e.forEach(e=>{t.set(e.stationCode,e)}),t}enrichStations(){const e=new Array;this.apiStations.forEach(t=>{e.push(this.createEnrichedStation(t,!0))}),this.enrichedStations=e;const t=new Array;this.maacStations.forEach(e=>{t.push(this.createEnrichedStation(e,!0))}),this.enrichedMaacStations=t}createEnrichedStation(e,t=!1){const n=new a.a,i=this.cmsStations.get(e.code);return n.code=e.code||"",n.name=e.name||"",n.countryCode=e.countryCode||"",n.type=e.type||void 0,n.productType=e.productType||void 0,n.timeZoneCode=e.timeZoneCode||void 0,n.maac=e.maac||void 0,n.operatedBy=e.operatedBy||[],i?(n.name=i.stationName||"",n.stationNameShort=i.stationNameShort||"",n.state=i.state||"",n.countryName=i.countryName||"",n.geolocation=i.geolocation||void 0,n.aliases=i.aliases||[],n.vivaKiosks=!!this.isBoolean(i.vivaKiosks)&&i.vivaKiosks,n.activeForBooking=!this.isBoolean(i.activeForBooking)||i.activeForBooking,n.supportText=(null==i?void 0:i.supportText)||"",n.iataHotel=(null==i?void 0:i.iataHotel)||void 0):(n.stationNameShort="",n.state="",n.countryName="",n.geolocation=void 0,n.aliases=[],n.vivaKiosks=!1,n.activeForBooking=!0,n.supportText="",n.iataHotel=void 0),t?(n.destinations=new Array,e.destinations?e.destinations.forEach(e=>{n.destinations.some(t=>t.code===e.code)||n.destinations.push(this.createEnrichedStationDestination(e))}):n.destinations=[]):n.destinations=[],this.shortStationMap.set(n.code,{name:n.name,code:n.code}),n}createEnrichedStationDestination(e){const t=new a.b,n=this.cmsStations.get(e.code);return t.code=e.code||"",t.name=e.name||"",t.countryCode=e.countryCode||"",t.transportationType=e.transportationType||void 0,t.travelType=e.travelType||void 0,t.connectingStations=e.connectingStations||[],t.productType=e.productType||void 0,t.maac=e.maac||void 0,n?(t.name=n.stationName||"",t.stationNameShort=n.stationNameShort||"",t.state=n.state||"",t.countryName=n.countryName||"",t.geolocation=n.geolocation||void 0,t.aliases=n.aliases||[],t.vivaKiosks=!!this.isBoolean(n.vivaKiosks)&&n.vivaKiosks,t.activeForBooking=!this.isBoolean(n.activeForBooking)||n.activeForBooking,t.supportText=(null==n?void 0:n.supportText)||"",t.iataHotel=(null==n?void 0:n.iataHotel)||void 0):(t.stationNameShort="",t.state="",t.countryName="",t.geolocation=void 0,t.aliases=[],t.vivaKiosks=!1,t.activeForBooking=!0,t.supportText="",t.iataHotel=void 0),t}isBoolean(e){return"boolean"==typeof e}setReady(){this.isReady=!0,this.$isReady.next(),this.$isReady.complete()}get ready(){return this.$isReady.asObservable().toPromise()}get _cmsStations(){return this.isReady?this.cmsStations:void 0}get _apiStations(){return this.isReady?this.apiStations:[]}get _stations(){return this.isReady?this.enrichedStations:[]}get _maacStations(){return this.isReady?this.enrichedMaacStations:[]}get _bookingStations(){return this.isReady?this.enrichedStations.filter(e=>!0===e.activeForBooking):[]}getAPIStation(e){return this.isReady?this.apiStations.find(t=>t.code===e):void 0}getCMSStation(e){return this.isReady?this.cmsStations.get(e):void 0}getStation(e){if(this.isReady)return this.enrichedMaacStations.find(t=>t.code===e)||this.enrichedStations.find(t=>t.code===e)}getDestinationStationFromOrigin(e,t){if(this.isReady&&e&&e.destinations){const n=e.destinations.find(e=>e.code===t);if(n)return n;const i=this.maacStationDestinations.find(e=>e.code===t);if(i&&i.maac.areaCodes.filter(t=>e.destinations.some(e=>e.code===t)).length>=2)return this.createEnrichedStationDestination(i)}}getStationName(e){if(this.isReady){const t=this.shortStationMap.get(e);return t&&t.name?t.name:void 0}}isValidStation(e){return this.shortStationMap.has(e)}getClosestStation(e,t){if(this.isReady){let n,i=-1;return this.enrichedStations.forEach(o=>{if(o.geolocation&&!1!==o.activeForBooking){const r=this.utils.getDistance(o.geolocation.lat,o.geolocation.lon,e,t);(r<i||-1===i)&&(i=r,n=o)}}),n}}getMaacStations(){const e=a.d;return e.forEach(e=>{var t,n,i;const o=null===(n=null===(t=this.cmsConfig._cmsConfig.globalSettings)||void 0===t?void 0:t.maacStations)||void 0===n?void 0:n[e.code];e.maac=o,Array.isArray(null===(i=e.maac)||void 0===i?void 0:i.areaCodes)&&e.maac.areaCodes.length>0&&e.maac.areaCodes.forEach(t=>{var n,i;const o=null===(i=null===(n=this.apiStations.find(e=>e.code===t))||void 0===n?void 0:n.destinations)||void 0===i?void 0:i.filter(t=>!e.maac.areaCodes.includes(t.code));Array.isArray(o)&&o.length>0&&(e.destinations=[...new Set([...e.destinations,...o])])})}),e.filter(e=>!!e.maac)}getMaacStationDestinations(){const e=[];return a.c.forEach(t=>{var n,i;const o=null===(i=null===(n=this.cmsConfig._cmsConfig.globalSettings)||void 0===n?void 0:n.maacStations)||void 0===i?void 0:i[t.code];t.maac=o,e.push(t)}),e.filter(e=>!!e.maac)}getDestinationMaacStationsFromOrigin(e){const t=new Array;return this.isReady&&e&&e.destinations&&this.maacStations.forEach(n=>{const i=JSON.parse(JSON.stringify(n)),o=e.destinations.filter(e=>i.maac.areaCodes.includes(e.code));if(o.length>=2){const e=o.every(e=>e.travelType===a.h.CONNECTING)?a.h.CONNECTING:a.h.DIRECT,n=o.map(e=>e.code);i.travelType=e,i.maac.areaCodes=n;const r=this.createEnrichedStationDestination(i);t.push(r)}}),t}getAreaCodes(e){var t;if(this.isReady){const n=this.enrichedMaacStations.find(t=>t.code===e);if(null===(t=null==n?void 0:n.maac)||void 0===t?void 0:t.areaCodes)return n.maac.areaCodes.toString().replace(/,/g,", ")}}getMaacStationByAreaCode(e){return this.enrichedMaacStations.find(t=>{var n;return!!(null===(n=null==t?void 0:t.maac)||void 0===n?void 0:n.areaCodes)&&t.maac.areaCodes.includes(e)})}}return e.\u0275fac=function(t){return new(t||e)(h.dc(p.b),h.dc(g.a),h.dc(f.a),h.dc(m.a))},e.\u0275prov=h.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},G6z8:function(e,t,n){var i=n("fR/l"),o=n("oCl/"),r=n("mTTR");e.exports=function(e){return i(e,r,o)}},GEJx:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("mrSG"),o=n("AytR"),r=n("lJxs"),s=n("ofgY"),a=n("9gjU"),c=n("tk/3"),l=n("9yTC"),u=n("kh7C"),d=n("fXoL");let h=(()=>{class e{constructor(e,t){this.http=e,this.utilsSvc=t}getBasketBooking(e){return this.http.get(`${o.g.BASKET_BOOKING_URL}?BasketId=${e}&RetrieveAffiliations=true`).pipe(Object(r.a)(e=>{const t=Object.assign({},e),n=this.utilsSvc.getFareFromBooking(t.data);if(n&&n===l.e.VIVA_SMART||n===l.e.VIVA_ZERO){for(const e in t.data.services.services)if("object"==typeof t.data.services.services[e]&&"CarryOnBaggage"===t.data.services.services[e].code)for(const n in t.data.services.services[e].options)"object"==typeof t.data.services.services[e].options[n]&&"VAAK"===t.data.services.services[e].options[n].ssrCode&&(t.data.services.services[e].options[n].ssrCode="VAAK15");if(Array.isArray(t.data.charges))for(const e in t.data.charges)"object"==typeof t.data.charges[e]&&"CarryOnBaggage"===t.data.charges[e].groupCode&&"VAAK"===t.data.charges[e].code&&(t.data.charges[e].code="VAAK15")}return this.addVBIDChargesToBooking(t.data),this.processGuestFeeChargesWithoutJourneyKey(t.data),this.processTravelDocumentsExpireDates(t.data),t}))}addJourneysToBasket(e,t=!0){const n=t?null:new c.d({"Basket-No-Refresh":"true"});return this.http.post(""+o.g.JOURNEYS_BOOKING_BASKET_URL,e,{headers:n})}getPassengerRules(e){return this.http.get(o.g.PASSENGER_RULES_URL,{params:{basketId:e}}).pipe(Object(r.a)(({data:e})=>{const{passengersRules:t,contactsRules:n=[],infantRules:i}=e,o=new Map,r=new Map;return t.forEach(e=>{o.set(e.passengerKey,new s.j(e)),r.set(e.passengerKey,e.notifications)}),Object.assign(Object.assign({},e),{contactsRules:n.map(e=>new s.d(e)),passengersRules:o,passengerAlerts:r,infantRules:i?new s.j(i):null})}))}getAvailableServices(e,t=null){return this.http.get(o.g.AVAILABLE_SERVICES_URL,{params:{basketId:e}}).pipe(Object(r.a)(e=>{const n=Object.assign({},e);if(this.addEmptyCheckedOrSpecialBaggageOptionIfNotExist(n),t&&t===l.e.VIVA_SMART||t===l.e.VIVA_ZERO)for(const t in n.data.services)if("object"==typeof n.data.services[t]&&"CarryOnBaggage"===n.data.services[t].code)for(const e in n.data.services[t].options)"object"==typeof n.data.services[t].options[e]&&"VAAK"===n.data.services[t].options[e].ssrCode&&(n.data.services[t].options[e].ssrCode="VAAK15");return n}))}addPassengers(e){return Object(i.a)(this,void 0,void 0,(function*(){try{return!!(yield this.addPassengersObs(e).toPromise())}catch(t){return o.g.production||console.error("::Adding Passengers::",t),!1}}))}addPassengersObs(e){return this.http.post(""+o.g.ADD_PASSENGERS_URL,e)}changeServices(e,t,n){const i=this.transformServiceInputArray(t),r=this.transformServiceInputArray(n);for(const o in i)"object"==typeof i[o]&&"VAAK15"===i[o].ssrCode&&(i[o].ssrCode="VAAK");for(const o in r)"object"==typeof r[o]&&"VAAK15"===r[o].ssrCode&&(r[o].ssrCode="VAAK");return this.http.post(o.g.CHANGE_SERVICES_URL,{basketId:e,servicesToAdd:i,servicesToDelete:r})}transformServiceInputArray(e){return Array.isArray(e)&&e.length?e.map(e=>({ssrCode:e.ssrCode,passengerKey:e.passengerKey||null,segmentKey:e.segmentKey||null,journeyKey:e.journeyKey||null})):[]}getSeatMaps(e){return this.http.get(o.g.SEATMAPS_URL,{params:{basketId:e}})}getProposedSeats(e){return this.http.get(o.g.PROPOSED_SEATS_URL,{params:{basketId:e}})}changeSeats(e,t,n){return this.http.post(o.g.CHANGE_SEATS_URL,{basketId:e,seatsToAdd:t,seatsToRemove:n})}getFullBooking(e,t,n,i){const s=Object.assign(Object.assign(Object.assign({pnr:e},t&&{lastName:t}),n&&{emailAddress:n}),i&&{IncludeVoucherDetails:"true"});return this.http.get(o.g.FULL_BOOKING_URL,{params:s}).pipe(Object(r.a)(e=>{const t=Object.assign({},e),n=this.utilsSvc.getFareFromBooking(t.data);if(n&&n===l.e.VIVA_SMART||n===l.e.VIVA_ZERO){for(const e in t.data.services.services)if("object"==typeof t.data.services.services[e]&&"CarryOnBaggage"===t.data.services.services[e].code)for(const n in t.data.services.services[e].options)"object"==typeof t.data.services.services[e].options[n]&&"VAAK"===t.data.services.services[e].options[n].ssrCode&&(t.data.services.services[e].options[n].ssrCode="VAAK15");if(Array.isArray(t.data.charges))for(const e in t.data.charges)"object"==typeof t.data.charges[e]&&"CarryOnBaggage"===t.data.charges[e].groupCode&&"VAAK"===t.data.charges[e].code&&(t.data.charges[e].code="VAAK15")}return this.addVBIDChargesToBooking(t.data),this.processGuestFeeChargesWithoutJourneyKey(t.data),this.processTravelDocumentsExpireDates(t.data),t}))}updatePassengers(e){return this.http.post(o.g.UPDATE_PASSENGERS_URL,e)}addHotelToBooking(e){return this.http.post(o.g.ADD_HOTEL_URL,e)}deleteHotelFromBooking(e){return this.http.post(o.g.DELETE_HOTEL_URL,{basketId:e})}addVBIDChargesToBooking(e){var t;if("myIDTravel.VB"===(null===(t=null==e?void 0:e.creationAgent)||void 0===t?void 0:t.agentCode))try{this.utilsSvc.generateAndAddVBIDChargesToBooking(e)}catch(n){o.g.production||console.warn("Error ocurred when processing MyIDTravel booking!",n)}}processGuestFeeChargesWithoutJourneyKey(e){if(e)try{const{journeys:t,charges:n}=e;Array.isArray(t)&&t.length>0&&Array.isArray(n)&&n.filter(e=>"GuestFee"===e.code).forEach(e=>{e&&!e.journeyKey&&(e.journeyKey=t[0].key)})}catch(t){o.g.production||console.warn("Error processing GuestFee charges",t)}}processTravelDocumentsExpireDates(e){try{Object(u.e)(null==e?void 0:e.passengers)&&e.passengers.forEach(e=>{var t,n;(null===(t=null==e?void 0:e.passport)||void 0===t?void 0:t.expireDate)&&(e.passport.expireDate=Object(u.g)(e.passport.expireDate)),(null===(n=null==e?void 0:e.visa)||void 0===n?void 0:n.expireDate)&&(e.visa.expireDate=Object(u.g)(e.visa.expireDate))})}catch(t){o.g.production||console.error("::processTravelDocumentsExpireDates::",t)}}setGuestFeeBooking(e){return this.http.post(o.g.BOOKING_GUEST_FEE,{basketId:e})}getInsurancesStatus(e){return this.http.get(o.g.INSURANCES_STATUS_URL,{params:{basketId:e}})}addEmptyCheckedOrSpecialBaggageOptionIfNotExist(e){var t;const{services:n}=null!==(t=null==e?void 0:e.data)&&void 0!==t?t:{};if(Object(u.e)(n)){const e=n.find(e=>"CheckedBaggage"===(null==e?void 0:e.code)),t=n.find(e=>"SpecialBaggage"===(null==e?void 0:e.code));!t&&e?n.push(p):t&&!e&&n.push(g)}}getCarbonOffsetServices(e){var t;const n=(null===(t=e.services.find(e=>"CarbonOffset"===e.code))||void 0===t?void 0:t.options)||[],i=[];return n&&(n.forEach(e=>{var t,n,o;const r=i.findIndex(t=>t.ssr===e.ssrCode);r>-1?i[r].amount=(null===(t=i[r])||void 0===t?void 0:t.amount)+(null===(n=null==e?void 0:e.price)||void 0===n?void 0:n.amount):i.push({ssr:e.ssrCode,amount:(null===(o=null==e?void 0:e.price)||void 0===o?void 0:o.amount)||0})}),i.forEach(e=>e.amount=Math.ceil(e.amount)),i.sort((e,t)=>(null==e?void 0:e.amount)-(null==t?void 0:t.amount))),i}getBookingUpsellservices(e){return this.http.get(o.g.UPSELL_SERVICES_URL,{params:{BasketId:e}}).pipe(Object(r.a)(e=>e.data))}}return e.\u0275fac=function(t){return new(t||e)(d.dc(c.b),d.dc(u.a))},e.\u0275prov=d.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const p=Object.freeze({code:"SpecialBaggage",name:"Special Baggage",category:"Baggage",limit:1,selectionType:a.d.PerJourney,options:[],notifications:null,perPassengerSelection:!0,includedWithHsbcCobrand:!1}),g=Object.freeze({code:"CheckedBaggage",name:"Checked Baggage",category:"Baggage",limit:3,selectionType:a.d.PerJourney,options:[],notifications:null,perPassengerSelection:!0,includedWithHsbcCobrand:!1})},GMZp:function(e,t,n){"use strict";t.isObject=function(e){return null!==e&&"object"==typeof e}},GX70:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("ofXK"),o=n("o5mt"),r=n("fXoL");let s=(()=>{class e{}return e.\u0275mod=r.Rb({type:e}),e.\u0275inj=r.Qb({factory:function(t){return new(t||e)},imports:[[i.c,o.a]]}),e})()},Gi0A:function(e,t,n){var i=n("QqLw"),o=n("ExA7");e.exports=function(e){return o(e)&&"[object Map]"==i(e)}},GiSu:function(e,t,n){"use strict";var i=n("n3uD"),o=n("MkmW");t.empty={closed:!0,next:function(e){},error:function(e){if(i.config.useDeprecatedSynchronousErrorHandling)throw e;o.hostReportError(e)},complete:function(){}}},Gj4D:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var i=n("fXoL"),o=n("ofXK"),r=n("PqYM"),s=n("UoSQ"),a=n("VXoX");function c(e,t){1&e&&i.Ub(0,"i",12)}function l(e,t){1&e&&i.Ub(0,"i",13)}function u(e,t){1&e&&(i.Zb(0,"label",14),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e&&(i.Hb(1),i.Tc(i.lc(2,1,"GLOBAL_LABEL_DEPARTUREDATE")))}function d(e,t){1&e&&(i.Zb(0,"label",14),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e&&(i.Hb(1),i.Tc(i.lc(2,1,"GLOBAL_LABEL_OUTBOUND")))}function h(e,t){if(1&e&&(i.Zb(0,"span"),i.Sc(1),i.kc(2,"titlecase"),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.Uc(" ",i.lc(2,1,e.chosenDate.startDate.format("ddd, D MMM"))," ")}}function p(e,t){if(1&e&&(i.Zb(0,"span"),i.Sc(1),i.kc(2,"titlecase"),i.Yb()),2&e){const e=i.jc(3);i.Hb(1),i.Uc(" ",i.lc(2,1,e.chosenDate.endDate.format("ddd, D MMM"))," ")}}function g(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"span"),i.Sc(2," - "),i.Yb(),i.Qc(3,p,3,3,"span",16),i.Wb()),2&e){const e=i.jc(2);i.Hb(3),i.sc("ngIf",e.chosenDate.endDate)}}function f(e,t){if(1&e&&(i.Zb(0,"p",15),i.Qc(1,h,3,3,"span",16),i.Qc(2,g,4,1,"ng-container",16),i.Yb()),2&e){const e=i.jc();i.Hb(1),i.sc("ngIf",e.chosenDate.startDate),i.Hb(1),i.sc("ngIf",e.isRoundTrip)}}function m(e,t){1&e&&(i.Xb(0),i.Zb(1,"p"),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Wb()),2&e&&(i.Hb(2),i.Tc(i.lc(3,1,"BOOKER_LABEL_PICK-DATES")))}function b(e,t){1&e&&(i.Zb(0,"p",28),i.Sc(1," - "),i.Yb())}function v(e,t){if(1&e&&(i.Zb(0,"div"),i.Zb(1,"font"),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Zb(4,"p"),i.Sc(5),i.kc(6,"titlecase"),i.Yb(),i.Yb()),2&e){const e=i.jc(3);i.Hb(2),i.Tc(i.lc(3,2,"GLOBAL_LABEL_RETURN_MOV")),i.Hb(3),i.Tc(i.lc(6,4,e.chosenDate.endDate.format("ddd, D MMM")))}}function y(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",26),i.Zb(2,"div"),i.Zb(3,"font"),i.Sc(4),i.kc(5,"cmsTranslate"),i.Yb(),i.Zb(6,"p"),i.Sc(7),i.kc(8,"titlecase"),i.Yb(),i.Yb(),i.Qc(9,b,2,0,"p",27),i.Qc(10,v,7,6,"div",16),i.Yb(),i.Wb()),2&e){const e=i.jc(2);i.Hb(4),i.Tc(i.lc(5,4,"GLOBAL_LABEL_OUTBOUND_MOV")),i.Hb(3),i.Tc(i.lc(8,6,e.chosenDate.startDate.format("ddd, D MMM"))),i.Hb(2),i.sc("ngIf",e.chosenDate.endDate),i.Hb(1),i.sc("ngIf",e.chosenDate.endDate)}}function _(e,t){1&e&&(i.Zb(0,"div",29),i.Zb(1,"div",30),i.Zb(2,"div",31),i.Sc(3,"#"),i.Yb(),i.Zb(4,"div",32),i.Sc(5),i.kc(6,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(7,"div",30),i.Zb(8,"div",33),i.Sc(9,"#"),i.Yb(),i.Zb(10,"div",32),i.Sc(11),i.kc(12,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(13,"div",34),i.Zb(14,"div",35),i.Sc(15,"#"),i.Yb(),i.Zb(16,"div",32),i.Sc(17),i.kc(18,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(5),i.Tc(i.lc(6,3,"BOOKER_LABEL_NON-STOP")),i.Hb(6),i.Tc(i.lc(12,5,"BOOKER_LABEL_CONNECTING")),i.Hb(6),i.Tc(i.lc(18,7,"BOOKER_LABEL_WITHOUT-AVAILABILITY")))}const C=function(e,t){return{"calendar-open":e,"close-animation":t}};function S(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",17),i.Zb(1,"div",18),i.Zb(2,"div",19),i.Qc(3,m,4,3,"ng-container",16),i.Qc(4,y,11,8,"ng-container",20),i.Zb(5,"div",21),i.hc("click",(function(){return i.Hc(e),i.jc().closeCalendarMobile()})),i.Ub(6,"i",22),i.Yb(),i.Yb(),i.Qc(7,_,19,9,"div",23),i.Yb(),i.Zb(8,"div",24),i.Zb(9,"app-mobile-calendar-view",25),i.hc("closePicker",(function(){return i.Hc(e),i.jc().closeCalendarMobile()}))("selectedDatesChange",(function(t){return i.Hc(e),i.jc().selectedDatesAction(t)})),i.Yb(),i.Yb(),i.Yb()}if(2&e){const e=i.jc(),t=i.Ec(14);i.sc("ngClass",i.wc(12,C,e.calendarMobile,e.closeAnimation)),i.Hb(3),i.sc("ngIf",!e.chosenDate),i.Hb(1),i.sc("ngIf",e.chosenDate.startDate)("ngIfElse",t),i.Hb(3),i.sc("ngIf",e.showSymbology),i.Hb(2),i.sc("isRoundTrip",e.isRoundTrip)("departureBookingDates",e.departureBookingDates)("returnBookingDates",e.returnBookingDates)("selectedDates",e.chosenDate)("openCalendar",e.calendarMobile)("forceMinDate",e.forceMinDate)("forceMaxDate",e.forceMaxDate)}}function O(e,t){1&e&&(i.Zb(0,"span",36),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"BOOKER_LABEL_SELECT-DATE")," "))}let T=(()=>{class e{constructor(e,t){this.document=e,this.cdRef=t,this.isRoundTrip=!0,this.departureBookingDates=[],this.returnBookingDates=[],this.selectedDates={startDate:null,endDate:null},this.showSymbology=!0,this.isLoading=!1,this.selectedDatesChange=new i.p,this.openModal=new i.p,this.closeModal=new i.p,this.chosenDate={startDate:null,endDate:null},this.closeAnimation=!1,this.calendarMobile=!1,this.keepPreviousDatesSelected=!1}ngOnInit(){}ngOnChanges(e){var t,n,i,o,r,s,a;if(e.isRoundTrip&&(this.chosenDate={startDate:null,endDate:null},this.selectedDatesChange.emit(void 0)),e.selectedDates&&e.selectedDates.currentValue&&(this.keepPreviousDatesSelected=!1,this.selectValidDates()),!(this.keepPreviousDatesSelected&&this.chosenDate&&this.validateDateRange(this.chosenDate))){if(e.forceMinDate&&!(null===(n=null===(t=null==e?void 0:e.forceMinDate)||void 0===t?void 0:t.currentValue)||void 0===n?void 0:n.isSame(null===(i=null==e?void 0:e.forceMinDate)||void 0===i?void 0:i.previousValue))&&e.forceMinDate.currentValue){const t=e.forceMinDate.currentValue.clone();(null===(o=this.chosenDate)||void 0===o?void 0:o.startDate)&&(null===(r=this.chosenDate)||void 0===r?void 0:r.startDate.isBefore(t.clone()))&&(this.chosenDate.startDate=t.clone())}!1!==(null===(s=e.isLoading)||void 0===s?void 0:s.currentValue)||!0!==(null===(a=e.isLoading)||void 0===a?void 0:a.previousValue)||this.selectedDates||(this.chosenDate={startDate:null,endDate:null},this.selectedDatesChange.emit(void 0))}}selectValidDates(){var e,t;this.chosenDate.startDate=(null===(e=this.selectedDates)||void 0===e?void 0:e.startDate)?this.selectedDates.startDate.clone():null,this.chosenDate.endDate=(null===(t=this.selectedDates)||void 0===t?void 0:t.endDate)?this.selectedDates.endDate.clone():null,this.cdRef.detectChanges(),this.selectedDatesAction(this.chosenDate)}showCalendarMobile(){var e;this.isLoading||1===(null===(e=this.departureBookingDates)||void 0===e?void 0:e.length)||(this.calendarMobile=!0,this.document.body.classList.add("open-responsive-modal"),this.cdRef.detectChanges(),this.openModal.emit())}closeCalendarMobile(){this.closeAnimation=!0,Object(r.a)(400).subscribe(()=>{this.closeAnimation=!1,this.calendarMobile=!1,this.document.body.classList.remove("open-responsive-modal"),this.cdRef.detectChanges()}),this.isRoundTrip&&(this.chosenDate.startDate&&this.chosenDate.endDate||(this.chosenDate={startDate:null,endDate:null},this.selectedDatesChange.emit(void 0))),this.closeModal.emit()}selectedDatesAction(e){this.selectedDatesChange.emit(e),this.chosenDate!==e&&(this.chosenDate=e)}tryToKeepPreviousDatesSelected(e){this.keepPreviousDatesSelected=e}validateDateRange(e){return this.isRoundTrip?!!this.departureBookingDates.find(t=>t.date.isSame(e.startDate,"D"))&&!!this.returnBookingDates.find(t=>t.date.isSame(e.endDate,"D")):!!this.departureBookingDates.find(t=>t.date.isSame(e.startDate,"D"))}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(o.e),i.Tb(i.i))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-booker-calendar-responsive"]],inputs:{isRoundTrip:"isRoundTrip",departureBookingDates:"departureBookingDates",returnBookingDates:"returnBookingDates",selectedDates:"selectedDates",showSymbology:"showSymbology",isLoading:"isLoading",forceMinDate:"forceMinDate",forceMaxDate:"forceMaxDate"},outputs:{selectedDatesChange:"selectedDatesChange",openModal:"openModal",closeModal:"closeModal"},features:[i.Fb],decls:15,vars:7,consts:[[1,"calendar-input","w-100","calendar-btn-mobile",3,"click"],[1,"calendar-icon"],["class","fas fa-spinner fa-pulse",4,"ngIf"],["class","far fa-calendar-day",4,"ngIf"],[1,"d-flex","flex-row","justify-content-between","w-100","h-100","align-items-center"],[1,"calendar-input-container"],[1,"calendar-input-date"],["class","label small-title",4,"ngIf"],["class","text title",4,"ngIf","ngIfElse"],[1,"fas","fa-caret-down","arrow-icon"],["class","calendar-mobile",3,"ngClass",4,"ngIf"],["ChooseDate",""],[1,"fas","fa-spinner","fa-pulse"],[1,"far","fa-calendar-day"],[1,"label","small-title"],[1,"text","title"],[4,"ngIf"],[1,"calendar-mobile",3,"ngClass"],[1,"main-header"],[1,"header-calendar","d-flex","justify-content-between","align-items-center"],[4,"ngIf","ngIfElse"],[1,"d-flex","close-container",3,"click"],[1,"fas","fa-times"],["class","px-20 py-10 d-flex justify-content-between symbology",4,"ngIf"],[1,"picker-container"],[3,"isRoundTrip","departureBookingDates","returnBookingDates","selectedDates","openCalendar","forceMinDate","forceMaxDate","closePicker","selectedDatesChange"],[1,"d-flex","calendar-header-data","title"],["class","d-flex align-items-end px-10",4,"ngIf"],[1,"d-flex","align-items-end","px-10"],[1,"px-20","py-10","d-flex","justify-content-between","symbology"],[1,"d-flex","align-items-center","mr-4"],[1,"small-title","mr-5","non-stop"],[1,"small-text","gray"],[1,"small-title","mr-5","connection-flights"],[1,"d-flex","align-items-center"],[1,"small-title","mr-5","without-availability"],[1,"title"]],template:function(e,t){if(1&e&&(i.Zb(0,"div"),i.Zb(1,"button",0),i.hc("click",(function(){return t.showCalendarMobile()})),i.Zb(2,"span",1),i.Qc(3,c,1,0,"i",2),i.Qc(4,l,1,0,"i",3),i.Yb(),i.Zb(5,"div",4),i.Zb(6,"div",5),i.Zb(7,"div",6),i.Qc(8,u,3,3,"label",7),i.Qc(9,d,3,3,"label",7),i.Qc(10,f,3,2,"p",8),i.Yb(),i.Yb(),i.Ub(11,"i",9),i.Yb(),i.Yb(),i.Yb(),i.Qc(12,S,10,15,"div",10),i.Qc(13,O,3,3,"ng-template",null,11,i.Rc)),2&e){const e=i.Ec(14);i.Hb(3),i.sc("ngIf",t.isLoading),i.Hb(1),i.sc("ngIf",!t.isLoading),i.Hb(4),i.sc("ngIf",t.isRoundTrip),i.Hb(1),i.sc("ngIf",!t.isRoundTrip),i.Hb(1),i.sc("ngIf",t.chosenDate.startDate)("ngIfElse",e),i.Hb(2),i.sc("ngIf",t.calendarMobile)}},directives:[o.u,o.r,s.a],pipes:[a.a,o.G],styles:['@charset "UTF-8";.calendar-input{background:var(--wh1);width:100%;height:60px;display:flex;justify-content:flex-start;flex-direction:row;align-items:center;border-radius:10px;padding:0 22px;box-sizing:border-box;border:0;position:relative;z-index:1;text-align:initial}.calendar-input .calendar-icon{color:var(--bg4);position:absolute;z-index:1}.calendar-input .calendar-icon:after{content:"";position:absolute;top:0;left:0;margin-top:-7px;margin-left:38px;height:30px;width:1px;background-color:var(--gr20)}.calendar-input-container{width:100%;height:100%;padding-left:49px;display:flex;flex-direction:row;justify-content:flex-start}.calendar-input-date{height:100%;min-width:50%;display:flex;flex-direction:column;justify-content:center}.calendar-input-date:first-of-type{min-width:50%}.calendar-input-date:nth-of-type(2){min-width:50%;border-left:1px solid var(--gr20);padding-left:20px}.calendar-input-date .label{line-height:unset;color:rgba(var(--bg6-rgb),.5);pointer-events:none}.calendar-input-date .text{text-transform:capitalize;margin:4px 0 0;min-height:18px;color:var(--bg6)}.calendar-input .arrow-icon{font-size:18px;color:var(--bg4)}.calendar-input .arrow-icon.active{color:var(--vg4);transform:rotate(180deg)}.calendar-widget{position:absolute;top:72px;width:100%;font-family:Axiforma,Arial}.calendar-widget .md-drppicker{z-index:1}.calendar-widget .md-drppicker.shown{border-radius:5px;width:100%;display:flex;justify-content:space-around;flex-flow:wrap;flex-direction:row;z-index:1000}.calendar-widget .md-drppicker .calendar .calendar-table table{border-collapse:collapse}.calendar-widget .md-drppicker .calendar .empty-week-row{display:none}.calendar-widget .md-drppicker .calendar td{min-width:30px;height:30px;font-family:Axiforma;font-weight:500;font-size:12px;color:var(--bg6);transition:unset}.calendar-widget .md-drppicker .calendar td:hover :before{color:var(--wh1)}.calendar-widget .md-drppicker .calendar td.today:after{content:"\u2022";font-family:Axiforma;position:absolute;top:-7px;color:var(--bg6);left:50%;transform:translateX(-50%)}.calendar-widget .md-drppicker .calendar td.available:hover{color:var(--wh1);background-color:var(--bg4);border:0 solid var(--bg4);border-radius:0;opacity:1}.calendar-widget .md-drppicker .calendar td.active{opacity:1}.calendar-widget .md-drppicker .calendar td.in-range{border:0 solid var(--gr15);background-color:var(--gr15);opacity:1}.calendar-widget .md-drppicker .calendar td.start-date{color:var(--bg6);background-color:var(--vg4);border:0 solid var(--vg4);border-top-left-radius:2px;border-bottom-left-radius:2px}.calendar-widget .md-drppicker .calendar td.start-date:hover{background-color:var(--vg4)}.calendar-widget .md-drppicker .calendar td.end-date{color:var(--wh1);background-color:var(--bg4);border:0 solid var(--bg4);border-top-right-radius:2px;border-bottom-right-radius:2px}.calendar-widget .md-drppicker .calendar td.end-date:hover{background-color:var(--bg4)}.calendar-widget .md-drppicker .calendar td.start-date.end-date{border:1px solid var(--vg4)}.calendar-widget .md-drppicker .calendar td.start-date.end-date:hover{background-color:var(--vg4)}.calendar-widget .md-drppicker .calendar td.off{color:var(--bg6)!important;opacity:.1;text-decoration:unset}.calendar-widget .md-drppicker .calendar td.out-of-month{visibility:hidden}@media screen and (max-width:991px){.calendar-widget .md-drppicker .calendar td.out-of-month{visibility:visible}}.calendar-widget .md-drppicker .calendar td.no-flights{color:var(--bg6)!important;opacity:.1;text-decoration:unset}.calendar-widget .md-drppicker .calendar th{min-width:30px;height:30px;font-weight:500}.calendar-widget .md-drppicker .calendar th.available.prev{padding-left:10px;color:var(--bg4)}.calendar-widget .md-drppicker .calendar th.available.next{padding-right:10px;color:var(--bg4)}.calendar-widget .md-drppicker .calendar th.month{font-family:Axiforma,Arial;font-size:16px;font-weight:700;line-height:1.25;color:var(--bg6);opacity:1}.calendar-widget .md-drppicker .calendar.left{float:unset}.calendar-widget .md-drppicker .calendar.left .month{text-align:right;padding-right:10px}.calendar-widget .md-drppicker .calendar.right{float:unset}.calendar-widget .md-drppicker .calendar.right .month{text-align:left;padding-left:10px}@media screen and (max-width:991px){.calendar-widget .md-drppicker .calendar.right .month{text-align:right;padding-left:0}}.calendar-widget .md-drppicker .calendar .week-days{box-shadow:0 -1px 0 0 rgba(var(--bl9-rgb),.1);background-color:var(--wh2)}.calendar-widget .md-drppicker .calendar .week-days th{border-radius:0;padding-top:5px;font-family:Axiforma;font-size:14px;font-weight:500;font-stretch:normal;font-style:normal;line-height:1.29;letter-spacing:normal;color:var(--gr60)}.calendar-btn-mobile{min-height:60px;height:60px!important}.calendar-input .calendar-input-container{flex-wrap:wrap;width:100%}.calendar-input .calendar-input-container .calendar-input-date{min-width:50%}.calendar-input .calendar-input-container .calendar-input-date:nth-child(2){border:0;padding:0}.calendar-mobile{display:none;position:fixed;left:0;top:0;width:100%;height:100%;background-color:var(--wh1);z-index:11;overflow-y:auto}.calendar-mobile .picker-container{height:calc(100% - 101px)}.calendar-mobile .main-header{position:-webkit-sticky;position:sticky;width:100%;top:0;background-color:var(--wh1);z-index:1}.calendar-mobile .header-calendar{height:60px;padding:20px;width:100%;background-color:var(--wh1);z-index:1;border-bottom:1px solid var(--gr20)}.calendar-mobile .header-calendar p{color:var(--bg6);margin:0}.calendar-mobile .header-calendar .calendar-header-data font{font-size:12px;opacity:.5;font-weight:500}.calendar-mobile .header-calendar .calendar-header-data p{font-size:16px}.calendar-mobile .header-calendar .close-container{padding:0 5px 0 20px;height:20px;justify-content:center;align-items:center;border-left:1px solid var(--gr20)}.calendar-mobile .header-calendar .close-container .pipe{margin-right:20px;height:20px;width:1px;border-radius:.5px;background-color:var(--gr20)}.calendar-mobile .header-calendar .close-container i.fas{color:var(--bg6);font-size:20px}.calendar-open{display:block;-webkit-animation:fadeInUpBig .5s ease 0s normal forwards;animation:fadeInUpBig .5s ease 0s normal forwards}.close-animation{-webkit-animation:fadeOutDown .4s ease 0s normal forwards;animation:fadeOutDown .4s ease 0s normal forwards}@-webkit-keyframes fadeInUpBig{0%{opacity:0;-webkit-transform:translateY(2000px)}to{opacity:1;-webkit-transform:translateY(0)}}@keyframes fadeInUpBig{0%{opacity:0;transform:translateY(2000px)}to{opacity:1;transform:translateY(0)}}@-webkit-keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translateY(0)}to{opacity:0;-webkit-transform:translateY(20px)}}@keyframes fadeOutDown{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(20px)}}.disabled:focus{border:none;padding:0 22px}.disabled:focus .calendar-icon{color:inherit}.symbology .gray{color:var(--gr60)}.symbology .non-stop{color:var(--bg2)}.symbology .connection-flights{color:var(--bg6);position:relative}.symbology .connection-flights:before{content:"\u2022";position:absolute;top:-10px;left:50%;color:var(--gr40);transform:translateX(-50%)}.symbology .without-availability{color:var(--gr20)}'],encapsulation:2,changeDetection:0}),e})()},GoyQ:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},GyhO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("LRne"),o=n("0EUg");function r(...e){return Object(o.a)()(Object(i.a)(...e))}},H8j4:function(e,t,n){var i=n("QkVE");e.exports=function(e,t){var n=i(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},HDdC:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("7o/Q"),o=n("2QA8"),r=n("gRHU"),s=n("kJWO"),a=n("mCNh"),c=n("2fFW");let l=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:s}=this,a=function(e,t,n){if(e){if(e instanceof i.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new i.a(e,t,n):new i.a(r.a)}(e,t,n);if(a.add(s?s.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){c.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:o}=e;if(t||o)return!1;e=n&&n instanceof i.a?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=u(t))((t,n)=>{let i;i=this.subscribe(t=>{try{e(t)}catch(o){n(o),i&&i.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[s.a](){return this}pipe(...e){return 0===e.length?this:Object(a.b)(e)(this)}toPromise(e){return new(e=u(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function u(e){if(e||(e=c.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},HOxn:function(e,t,n){var i=n("Cwc5")(n("Kz5y"),"Promise");e.exports=i},HSsa:function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},Ha0k:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ofXK"),o=n("fXoL"),r=n("jtHE"),s=n("AytR");const a=`\n(function(u, p, l, i, f, t, b, j) {\n  u["UpLiftPlatformObject"] = f;\n  (u[f] =\n    u[f] ||\n    function() {\n      (u[f].q = u[f].q || []).push(arguments);\n    }),\n    (u[f].l = 1 * new Date());\n  (b = p.createElement(l)), (j = p.getElementsByTagName(l)[0]);\n  b.async = 1;\n  b.src = i + "?id=" + t;\n  b.onerror = u._upError; // handle script blocking\n  j.parentNode.insertBefore(b, j);\n  let o = window.location.host.match(/[w-]+.w{2,3}(:d+)?$/);\n  if (o) o = o[0];\n  u[f]("create", t, o);\n})(\n  window,\n  document,\n  "script",\n  "//cdn.uplift-platform.com/a/up.js",\n  "up",\n  "${s.g.payments.uplift.userId}"\n);\n`;let c=(()=>{class e{constructor(e,t){this.document=e,this.platformId=t,this.upliftConfig={apiKey:s.g.payments.uplift.apiKey,locale:"en-US",currency:"USD"},this.$isReady=new r.a(1),Object(i.L)(this.platformId)&&this.init()}init(){const e=this.document.createElement("script");e.type="text/javascript",e.text=a,window._upError=this.notReady.bind(this),this.document.body.appendChild(e),window.upReady=this.upReady.bind(this)}upReady(){delete window._upError,this.$isReady.next(),this.$isReady.complete()}notReady(){delete window._upError,this.$isReady.error("Uplift Script initialization error!!"),this.$isReady.complete()}get ready(){return this.$isReady.asObservable().toPromise()}initPayMonthly(e=this.upliftInitCallback){"shop"!==this.upliftInitMode&&(window.Uplift.Payments.init(Object.assign(Object.assign({},this.upliftConfig),{onChange:e})),this.upliftInitMode="shop")}initPayMonthlyCheckout(e,t){"checkout"!==this.upliftInitMode&&(window.Uplift.Payments.init(Object.assign(Object.assign({},this.upliftConfig),{checkout:!0,container:"#"+t,onChange:e})),this.upliftInitMode="checkout")}get Uplift(){return window.Uplift}upliftInitCallback(e){({OFFER_AVAILABLE:()=>{},TOKEN_AVAILABLE:()=>{},TOKEN_RETRIEVED:()=>{},OFFER_UNAVAILABLE:()=>{},SERVICE_UNAVAILABLE:()=>{}})[e.status]()}upliftConfirm(e){e&&this.Uplift.Payments.confirm(e)}get _upliftInitMode(){return this.upliftInitMode}}return e.\u0275fac=function(t){return new(t||e)(o.dc(i.e),o.dc(o.G))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Hq3m:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("ofXK"),o=n("bSk5"),r=n("xzb3"),s=n("Pqv9"),a=n("x2f1"),c=n("o5mt"),l=n("kpjh"),u=n("GX70"),d=n("BEZw"),h=n("39vh"),p=n("fXoL");let g=(()=>{class e{}return e.\u0275mod=p.Rb({type:e}),e.\u0275inj=p.Qb({factory:function(t){return new(t||e)},imports:[[i.c,c.a,h.b]]}),e})(),f=(()=>{class e{}return e.\u0275mod=p.Rb({type:e}),e.\u0275inj=p.Qb({factory:function(t){return new(t||e)},imports:[[i.c,o.a,r.a,s.a,a.a,c.a,l.a,u.a,d.a,h.b,g]]}),e})()},Hvzi:function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},I2ZF:function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0;return[n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]]].join("")}},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=e=>e&&"number"==typeof e.length&&"function"!=typeof e},IjjT:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));let i=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class o extends i{constructor(e,t=i.now){super(e,()=>o.delegate&&o.delegate!==this?o.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return o.delegate&&o.delegate!==this?o.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},IzEk:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("7o/Q"),o=n("4I5i"),r=n("EY2u");function s(e){return t=>0===e?Object(r.b)():t.lift(new a(e))}class a{constructor(e){if(this.total=e,this.total<0)throw new o.a}call(e,t){return t.subscribe(new c(e,this.total))}}class c extends i.a{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}},JEQr:function(e,t,n){"use strict";var i=n("xTJ+"),o=n("yK9s"),r={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a=function(){var e;return{adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n("tQ2B")),e),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}}}();i.forEach(["delete","get","head"],(function(e){a.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){a.headers[e]=i.merge(r)})),e.exports=a},JHRd:function(e,t,n){var i=n("Kz5y");e.exports=i.Uint8Array},JHgL:function(e,t,n){var i=n("QkVE");e.exports=function(e){return i(this,e).get(e)}},JIr8:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("l7GE"),o=n("51Dv"),r=n("ZUHj");function s(e){return function(t){const n=new a(e),i=t.lift(n);return n.caught=i}}class a{constructor(e){this.selector=e}call(e,t){return t.subscribe(new c(e,this.selector,this.caught))}}class c extends i.a{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const i=new o.a(this,void 0,void 0);this.add(i);const s=Object(r.a)(this,n,void 0,void 0,i);s!==i&&this.add(s)}}}},"JK/P":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("AytR"),o=n("fXoL");let r=(()=>{class e{constructor(){this.modalsDict={}}add(e,t){this.modalsDict[e]=t}remove(e){delete this.modalsDict[e]}open(e){this.modalsDict[e]?this.modalsDict[e].open():i.g.production||console.warn("::ModalService::",`Failed to open a modal. No modal with ID: "${e}" found!`)}close(e){this.modalsDict[e]&&this.modalsDict[e].close()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},JSQU:function(e,t,n){var i=n("YESw");e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},JTzB:function(e,t,n){var i=n("NykK"),o=n("ExA7");e.exports=function(e){return o(e)&&"[object Arguments]"==i(e)}},JX91:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("GyhO"),o=n("z+Ro");function r(...e){const t=e[e.length-1];return Object(o.a)(t)?(e.pop(),n=>Object(i.a)(e,n,t)):t=>Object(i.a)(e,t)}},JYGO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ofXK"),o=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})()},JmNV:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ofXK"),o=n("o5mt"),r=n("h3XU"),s=n("3Pt+"),a=n("fXoL");let c=(()=>{class e{}return e.\u0275mod=a.Rb({type:e}),e.\u0275inj=a.Qb({factory:function(t){return new(t||e)},imports:[[i.c,o.a,r.a,s.E,s.o]]}),e})()},JxkP:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("ofXK"),o=n("PqYM"),r=n("fXoL");let s=(()=>{class e{constructor(e,t,n){this.el=e,this.document=t,this.renderer=n,this.shown=!1,Object(o.a)(0).subscribe(()=>{const e=this.el.nativeElement.parentNode,t=this.document.createElement("i");t.classList.add("fas","fa-eye","pwd-toggle"),this.clickEvt=this.renderer.listen(t,"click",()=>{this.toggleVisibility(t)}),e.appendChild(t)})}ngOnDestroy(){this.clickEvt&&this.clickEvt()}toggleVisibility(e){this.shown=!this.shown,this.shown?(this.el.nativeElement.setAttribute("type","text"),e.classList.remove("fa-eye"),e.classList.add("fa-eye-slash")):(this.el.nativeElement.setAttribute("type","password"),e.classList.remove("fa-eye-slash"),e.classList.add("fa-eye"))}}return e.\u0275fac=function(t){return new(t||e)(r.Tb(r.n),r.Tb(i.e),r.Tb(r.I))},e.\u0275dir=r.Ob({type:e,selectors:[["","appPwdToggle",""]]}),e})()},K6W5:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("fXoL"),o=n("y4gz"),r=n("ofXK"),s=n("VXoX");function a(e,t){if(1&e&&i.Ub(0,"i",12),2&e){const e=i.jc().$implicit;i.sc("ngClass",e.iconClass)}}function c(e,t){if(1&e&&i.Ub(0,"img",13),2&e){const e=i.jc().$implicit;i.sc("src",e.image,i.Kc)}}function l(e,t){if(1&e&&i.Ub(0,"i",14),2&e){const e=i.jc().$implicit;i.sc("ngClass",e.iconClass)}}const u=function(e,t,n,i,o){return{active:e,"tb-light":t,"seat-map":n,trips:i,dark:o}},d=function(e){return{"custom-text":e}};function h(e,t){if(1&e){const e=i.ac();i.Zb(0,"li",6),i.Zb(1,"a",7),i.hc("click",(function(){i.Hc(e);const n=t.index;return i.jc(2).changeTab(n)})),i.Qc(2,a,1,1,"i",8),i.Qc(3,c,1,1,"img",9),i.Zb(4,"span",10),i.Sc(5),i.kc(6,"cmsTranslate"),i.Yb(),i.Qc(7,l,1,1,"i",11),i.Yb(),i.Yb()}if(2&e){const e=t.$implicit,n=t.index,o=i.jc(2);i.Hb(1),i.sc("ngClass",i.zc(8,u,o.activeTab===n,"light"===o.theme,"seat-map"===o.theme,"trips"===o.theme,"dark"===o.theme)),i.Hb(1),i.sc("ngIf",e.iconClass&&!o.iconsAfterText),i.Hb(1),i.sc("ngIf",e.image&&!e.iconClass),i.Hb(1),i.sc("ngClass",i.vc(14,d,e.image&&!e.iconClass)),i.Hb(1),i.Uc("",o.translateTitle?i.lc(6,6,e.title):e.title," "),i.Hb(2),i.sc("ngIf",e.iconClass&&o.iconsAfterText)}}const p=function(e,t,n,i){return{"seat-mobile":e,"all-space":t,dark:n,"all-width":i}};function g(e,t){if(1&e&&(i.Zb(0,"ul",4),i.Qc(1,h,8,16,"li",5),i.Yb()),2&e){const e=i.jc();i.sc("ngClass",i.yc(2,p,"seat-map"===e.theme,"all-space"===e.theme,"dark"===e.theme,e.allWidth)),i.Hb(1),i.sc("ngForOf",e.tabOptions)}}let f=(()=>{class e{constructor(e){this.datalayerUxHome=e,this.activeTab=0,this.tabOptions=[],this.theme="",this.allWidth=!1,this.iconsAfterText=!1,this.translateTitle=!0,this.sendDatalayerHomeEvent=!0,this.activeTabChange=new i.p}changeTab(e){this.activeTab=e,this.activeTabChange.emit(this.activeTab),this.datalayerUxHome.bookerTabListEvent(this.tabOptions[e].title)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(o.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-tablist-bar"]],inputs:{activeTab:"activeTab",tabOptions:"tabOptions",theme:"theme",allWidth:"allWidth",iconsAfterText:"iconsAfterText",translateTitle:"translateTitle",sendDatalayerHomeEvent:"sendDatalayerHomeEvent"},outputs:{activeTabChange:"activeTabChange"},decls:4,vars:1,consts:[[1,"booker-tablist","container"],[1,"row"],[1,"col-12","px-0"],["class","booker-tablist-list",3,"ngClass",4,"ngIf"],[1,"booker-tablist-list",3,"ngClass"],["class","booker-tablist-item",4,"ngFor","ngForOf"],[1,"booker-tablist-item"],[1,"booker-tablist-link","title","text-link",3,"ngClass","click"],["class","fas mr-1",3,"ngClass",4,"ngIf"],["class","mr-1 custom-icon",3,"src",4,"ngIf"],[1,"text-item",3,"ngClass"],["class","fas ml-1",3,"ngClass",4,"ngIf"],[1,"fas","mr-1",3,"ngClass"],[1,"mr-1","custom-icon",3,"src"],[1,"fas","ml-1",3,"ngClass"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Qc(3,g,2,7,"ul",3),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(3),i.sc("ngIf",t.tabOptions))},directives:[r.u,r.r,r.t],pipes:[s.a],styles:['.booker-tablist[_ngcontent-%COMP%]{display:block;position:relative}.booker-tablist-list[_ngcontent-%COMP%]{padding:0;margin:0;display:inline-block}.booker-tablist-list.seat-mobile[_ngcontent-%COMP%]{display:flex}.booker-tablist-list.seat-mobile[_ngcontent-%COMP%]   .booker-tablist-item[_ngcontent-%COMP%]{width:-webkit-fill-available}.booker-tablist-item[_ngcontent-%COMP%]{list-style:none;display:inline-block}.booker-tablist-link[_ngcontent-%COMP%]{display:block;position:relative;color:var(--gr15);padding:0 20px 15px;transition:all .3s cubic-bezier(.165,.84,.44,1)}.booker-tablist-link.seat-map[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width:1240px){.booker-tablist-link[_ngcontent-%COMP%]{padding-top:15px}}.booker-tablist-link[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;bottom:-1px;left:0;height:1px;width:100%;background-color:var(--gr15);transition:all .3s cubic-bezier(.165,.84,.44,1)}.booker-tablist-link.active[_ngcontent-%COMP%]{color:var(--wh1)}.booker-tablist-link.active[_ngcontent-%COMP%]:after{bottom:-2px;height:3px;background-color:var(--vg4)}@media (hover:hover){.booker-tablist-link[_ngcontent-%COMP%]:hover{color:var(--wh1);text-decoration:none}.booker-tablist-link[_ngcontent-%COMP%]:hover:after{bottom:-2px;height:3px;background-color:var(--gr15)}}.booker-tablist-link.tb-light[_ngcontent-%COMP%], .booker-tablist-link.tb-light.active[_ngcontent-%COMP%], .booker-tablist-link.trips[_ngcontent-%COMP%], .booker-tablist-link.trips.active[_ngcontent-%COMP%]{color:var(--bg6)}.booker-tablist-link.tb-light[_ngcontent-%COMP%]:hover, .booker-tablist-link.trips[_ngcontent-%COMP%]:hover{color:var(--bg2)}.booker-tablist-link.tb-light[_ngcontent-%COMP%]:hover:after, .booker-tablist-link.trips[_ngcontent-%COMP%]:hover:after{background-color:var(--vg4)}.booker-tablist-link.trips[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:inherit}.booker-tablist-link.seat-map[_ngcontent-%COMP%]{padding:13px 26px 15px;color:var(--bg6);opacity:.7}@media screen and (max-width:991px){.booker-tablist-link.seat-map[_ngcontent-%COMP%]{padding:13px 0 15px}}.booker-tablist-link.seat-map[_ngcontent-%COMP%]:after{background-color:var(--gr40)}.booker-tablist-link.seat-map.active[_ngcontent-%COMP%]{color:var(--bg6);opacity:1}.booker-tablist-link.seat-map.active[_ngcontent-%COMP%]:after{background-color:var(--r4)}.booker-tablist-link.seat-map[_ngcontent-%COMP%]:hover{color:var(--bg4);opacity:1}.booker-tablist-link.seat-map[_ngcontent-%COMP%]:hover:after{background-color:var(--r4)}.booker-tablist-link.dark[_ngcontent-%COMP%]{padding:13px 26px 15px;color:var(--gr60)}@media screen and (max-width:991px){.booker-tablist-link.dark[_ngcontent-%COMP%]{padding:13px 15px}}.booker-tablist-link.dark.active[_ngcontent-%COMP%]{color:var(--bg6);opacity:1}.booker-tablist-link.dark.active[_ngcontent-%COMP%]:after{background-color:var(--vg4)}.booker-tablist-link.dark[_ngcontent-%COMP%]:hover{color:var(--bg6)}.booker-tablist-link.dark[_ngcontent-%COMP%]:hover:after{background-color:var(--vg4)}@media screen and (max-width:1024px){.all-space[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width:1240px){.booker-tablist[_ngcontent-%COMP%]   .booker-tablist-link[_ngcontent-%COMP%]{text-decoration:none}.booker-tablist-list[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden}.booker-tablist-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:0 0 auto}.booker-tablist-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{bottom:0}.booker-tablist-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{bottom:-1px}.booker-tablist[_ngcontent-%COMP%]   .all-width[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .booker-tablist[_ngcontent-%COMP%]   .seat-mobile[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:auto;width:50%;text-align:center}.booker-tablist[_ngcontent-%COMP%]   .all-width[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .booker-tablist-link[_ngcontent-%COMP%], .booker-tablist[_ngcontent-%COMP%]   .seat-mobile[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .booker-tablist-link[_ngcontent-%COMP%]{font-size:14px}.booker-tablist[_ngcontent-%COMP%]   .all-width[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after, .booker-tablist[_ngcontent-%COMP%]   .seat-mobile[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{bottom:0}.booker-tablist[_ngcontent-%COMP%]   .all-width[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after, .booker-tablist[_ngcontent-%COMP%]   .seat-mobile[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{bottom:-1px}}.custom-icon[_ngcontent-%COMP%]{height:16px;max-height:16px;position:absolute}.custom-text[_ngcontent-%COMP%]{margin-left:26px}.light-green[_ngcontent-%COMP%]{color:var(--lg6)}']}),e})()},KC5F:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),o=n("3Pt+");let r=(()=>{class e{constructor(e,t){this.el=e,this.control=t,this.regex="[a-zA-Z0-9]"}onKeyPress(e){new RegExp(this.regex).test(e.key)||e.preventDefault()}onInputChange(e){const t=this.el.nativeElement.value;this.control.control.setValue(t.replace(/[^A-Za-z0-9\.\ _\-]*/g,"").replace(/\s/g,"")),t!==this.el.nativeElement.value&&e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.n),i.Tb(o.t))},e.\u0275dir=i.Ob({type:e,selectors:[["","appNoSpecialCharacters",""]],hostBindings:function(e,t){1&e&&i.hc("keypress",(function(e){return t.onKeyPress(e)}))("input",(function(e){return t.onInputChange(e)}))}}),e})()},KMkd:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},KTnf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("d/Sv");class o{constructor(){this.tripType=i.a.ROUND_TRIP,this.journeys=new Array,this.journeys.push({origin:void 0,destination:void 0,journeyDates:void 0}),this.passengers={adults:1,kids:0,babies:0},this.promoCode=void 0}}},KfNM:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},KhLr:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("mrSG"),o=n("quSY"),r=n("LRne"),s=n("Cfvw"),a=n("lJxs"),c=n("AytR"),l=n("9yTC"),u=n("fXoL"),d=n("CPX7"),h=n("LYOT"),p=n("GEJx"),g=n("kh7C");let f=(()=>{class e{constructor(e,t,n,i){this.basketSvc=e,this.contentful=t,this.bookingApiSvc=n,this.utilsSvc=i,this.monthlyPayments=12,this.showMonthsInterestFree=!1,this.onBasketSubscription=o.a.EMPTY,this.isZeroFare=!1,this.monthlyPayments=12,this.init()}ngOnDestroy(){this.onBasketSubscription.closed||this.onBasketSubscription.unsubscribe()}init(){this.onBasketSubscription=this.basketSvc.basket$.subscribe(e=>{var t;this.showMonthsInterestFree=!1,this.isZeroFare=!1;const n=this.utilsSvc.getFareFromBasket(null===(t=null==e?void 0:e.travel)||void 0===t?void 0:t.journeys[0]);this.isZeroFare=n===l.e.VIVA_ZERO||n===l.e.VIVA_BASE;const{installmentsAvailability:i}=null!=e?e:{};i&&!this.isZeroFare?(this.installmentsAvailability=i,this.showMonthsInterestFree=i.minimumAmount>0):(this.showMonthsInterestFree=!1,this.installmentsAvailability=void 0)})}get _missingAmount(){var e;return(null===(e=this.installmentsAvailability)||void 0===e?void 0:e.missingAmount)||0}get _minimumAmount(){var e;return(null===(e=this.installmentsAvailability)||void 0===e?void 0:e.minimumAmount)||0}get _isZeroFare(){return this.isZeroFare}get _showMonthsInterestFree(){return this.showMonthsInterestFree}get _upsellServicesAvailable(){var e;return(null===(e=this.installmentsAvailability)||void 0===e?void 0:e.upsellServicesAvailable)||!1}get _isActive(){var e,t;return this._showMonthsInterestFree&&(null===(e=this.installmentsAvailability)||void 0===e?void 0:e.installmentsAvailable)&&0===(null===(t=this.installmentsAvailability)||void 0===t?void 0:t.missingAmount)}get banksImages(){return this.response?Object(r.a)(this.response):(this.observable||(this.observable=Object(s.a)(this.contentful.getEntries({content_type:"itemsGroup",select:"sys.id,fields","fields.code":"Bancos_MSI"})).pipe(Object(a.a)(e=>{const t=[];return e.items[0].fields.items.forEach(e=>{t.push(e)}),t})),this.observable.subscribe(e=>{this.response=e,this.observable=void 0})),this.observable)}checkAvailability(e){var t;const{installmentsAvailable:n,minimumAmount:i}=null!==(t=this.installmentsAvailability)&&void 0!==t?t:{};return!!n||i>0&&e>=i}set _selectedMonthlyPayments(e){this.selectedMonthlyPayments=e}get _selectedMonthlyPayments(){return this.selectedMonthlyPayments}get _upsellServices(){return this.upsellServices}checkUpsellservices(){return Object(i.a)(this,void 0,void 0,(function*(){try{const e=yield this.getUpsellservices().toPromise();this.upsellServices=e.services.filter(e=>"Baggage"===e.category)}catch(e){c.g.production||console.error("getUpsellservices",e)}}))}getUpsellservices(){return this.bookingApiSvc.getBookingUpsellservices(this.basketSvc.basketId)}}return e.\u0275fac=function(t){return new(t||e)(u.dc(d.a),u.dc(h.a),u.dc(p.a),u.dc(g.a))},e.\u0275prov=u.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Kj3r:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("7o/Q"),o=n("D0XW");function r(e,t=o.a){return n=>n.lift(new s(e,t))}class s{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new a(e,this.dueTime,this.scheduler))}}class a extends i.a{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function c(e){e.debouncedNext()}},Kqap:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("7o/Q");function o(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new r(e,t,n))}}class r{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new s(e,this.accumulator,this.seed,this.hasSeed))}}class s extends i.a{constructor(e,t,n,i){super(e),this.accumulator=t,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}},Kz5y:function(e,t,n){var i=n("WFqU"),o="object"==typeof self&&self&&self.Object===Object&&self,r=i||o||Function("return this")();e.exports=r},L8xA:function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},LBXl:function(e,t,n){"use strict";t.UnsubscriptionError=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},LCdn:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("fXoL"),o=n("KhLr"),r=n("ofXK"),s=n("ib+v"),a=n("VXoX");const c=function(e){return{regex:"%%months%%",newValue:e}},l=function(e){return[e]};function u(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",3),i.Sc(2),i.kc(3,"cmsRegexReplace"),i.kc(4,"cmsTranslate"),i.Yb(),i.Wb()),2&e){const e=i.jc(2);i.Hb(2),i.Uc(" ",i.mc(3,1,i.lc(4,4,"BOOKER_LABEL_UPGRADE-MSI"),i.vc(8,l,i.vc(6,c,e.monthlyPayments.toString())))," ")}}function d(e,t){1&e&&(i.Xb(0),i.Ub(1,"em",4),i.Zb(2,"div",5),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Wb()),2&e&&(i.Hb(3),i.Uc(" ",i.lc(4,1,"BOOKER_LABEL_MSI-PAYMENT-AVAILABLE")," "))}const h=function(e){return{regex:"%%amount%%",newValue:e}},p=function(e,t){return[e,t]};function g(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",3),i.Sc(2),i.kc(3,"cmsRegexReplace"),i.kc(4,"cmsTranslate"),i.kc(5,"currency"),i.Yb(),i.Wb()),2&e){const e=i.jc(3);i.Hb(2),i.Uc(" ",i.mc(3,1,i.lc(4,4,"BOOKER_LABEL_ADD-AMOUNT-FOR-MSI"),i.wc(15,p,i.vc(11,h,i.oc(5,6,e.missingAmount,e.currencyCode,"symbol-narrow","1.0-0")),i.vc(13,c,e.monthlyPayments.toString())))," ")}}function f(e,t){if(1&e&&(i.Xb(0),i.Qc(1,d,5,3,"ng-container",2),i.Qc(2,g,6,18,"ng-container",2),i.Wb()),2&e){const e=i.jc(2);i.Hb(1),i.sc("ngIf",e.isActive),i.Hb(1),i.sc("ngIf",!e.isActive)}}const m=function(e,t){return{available:e,card:t}};function b(e,t){if(1&e&&(i.Zb(0,"div",1),i.Qc(1,u,5,10,"ng-container",2),i.Qc(2,f,3,2,"ng-container",2),i.Yb()),2&e){const e=i.jc();i.sc("ngClass",i.wc(3,m,e.isActive&&!e.isZeroFare,"card"===e.view)),i.Hb(1),i.sc("ngIf",e.isZeroFare),i.Hb(1),i.sc("ngIf",!e.isZeroFare)}}let v=(()=>{class e{constructor(e){this.monthsInterestFreeSvc=e,this.view="sidebar"}ngOnInit(){}get isActive(){return this.monthsInterestFreeSvc._isActive||!1}get missingAmount(){return this.monthsInterestFreeSvc._missingAmount}get showMonthsInterestFree(){return this.monthsInterestFreeSvc._showMonthsInterestFree}get isZeroFare(){return this.monthsInterestFreeSvc._isZeroFare}get monthlyPayments(){return this.monthsInterestFreeSvc.monthlyPayments}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(o.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-months-interest-free-status-bar"]],inputs:{view:"view",currencyCode:"currencyCode"},decls:1,vars:1,consts:[["class","status-bar",3,"ngClass",4,"ngIf"],[1,"status-bar",3,"ngClass"],[4,"ngIf"],[1,"medium-title"],[1,"fas","fa-credit-card","mr-2"],[1,"medium-title","light"]],template:function(e,t){1&e&&i.Qc(0,b,3,6,"div",0),2&e&&i.sc("ngIf",t.showMonthsInterestFree||t.isZeroFare)},directives:[r.u,r.r],pipes:[s.a,a.a,r.d],styles:[".status-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:10px;text-align:center;width:100%;background-color:var(--sc-m2)}.status-bar.available[_ngcontent-%COMP%]{background-color:var(--bg2)}.status-bar.available[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:var(--vg4)}.status-bar.card[_ngcontent-%COMP%]{height:28px;padding:5px 40px;justify-content:flex-start;text-align:left}"]}),e})()},LMmM:function(e,t,n){var i,o,r;!function(s){if("object"==typeof e.exports){var a=s(0,t);void 0!==a&&(e.exports=a)}else o=[n,t],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;t.default=["es-MX",[["a.\xa0m.","p.\xa0m."],n,n],n,[["D","L","M","M","J","V","S"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],n,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],n,[["a. C.","d. C."],n,["antes de Cristo","despu\xe9s de Cristo"]],0,[6,0],["dd/MM/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss zzzz"],["{1} {0}",n,"{1} 'a' 'las' {0}",n],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4#,##0.00","#E0"],"MXN","$","peso mexicano",{AUD:[n,"$"],BRL:[n,"R$"],BYN:[n,"p."],CAD:[n,"$"],CNY:[n,"\xa5"],ESP:["\u20a7"],EUR:[n,"\u20ac"],GBP:[n,"\xa3"],HKD:[n,"$"],ILS:[n,"\u20aa"],INR:[n,"\u20b9"],JPY:[n,"\xa5"],KRW:[n,"\u20a9"],MRO:["MRU"],MRU:["UM"],MXN:["$"],NZD:[n,"$"],TWD:[n,"NT$"],USD:[n,"$"],VND:[n,"\u20ab"],XAF:[],XCD:[n,"$"],XOF:[]},"ltr",function(e){return 1===e?1:5}]}))},LRne:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("z+Ro"),o=n("yCtX"),r=n("jZKg");function s(...e){let t=e[e.length-1];return Object(i.a)(t)?(e.pop(),Object(r.a)(e,t)):Object(o.a)(e)}},LXxW:function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,o=0,r=[];++n<i;){var s=e[n];t(s,n,e)&&(r[o++]=s)}return r}},LYNF:function(e,t,n){"use strict";var i=n("OH9c");e.exports=function(e,t,n,o,r){var s=new Error(e);return i(s,t,n,o,r)}},LYOT:function(e,t,n){"use strict";n.d(t,"a",(function(){return he}));var i={};n.r(i),n.d(i,"wrapSpace",(function(){return x}));var o={};n.r(o),n.d(o,"wrapEntry",(function(){return U})),n.d(o,"wrapEntryCollection",(function(){return Y}));var r={};n.r(r),n.d(r,"wrapAsset",(function(){return G})),n.d(r,"wrapAssetCollection",(function(){return V}));var s={};n.r(s),n.d(s,"wrapContentType",(function(){return Z})),n.d(s,"wrapContentTypeCollection",(function(){return $}));var a={};n.r(a),n.d(a,"wrapLocale",(function(){return W})),n.d(a,"wrapLocaleCollection",(function(){return K}));var c=n("mrSG"),l=n("tk/3"),u=n("vDqi"),d=n.n(u),h=n("BkRI"),p=n.n(h),g=n("Qyje"),f=n.n(g),m=n("YO3V"),b=n.n(m),v=n(0);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var O={},T=0;function w(){return"undefined"!=typeof process&&!process.browser}function k(){return process.versions&&process.versions.node?"v".concat(process.versions.node):process.version}var A=/^(?!\w+:\/\/)([^\s:]+\.?[^\s:]+)(?::(\d+))?(?!:)$/;function E(e){var t=e.query,n={};return delete t.resolveLinks,n.params=p()(t),n}function M(e){return function e(t){return Object.keys(t).forEach((function(n){var i=t[n];b()(i)&&e(i)})),Object.freeze(t)}(e.sys||{}),e}function P(){if(!window)return null;var e=window.navigator.userAgent,t=window.navigator.platform,n=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?n="macOS":-1!==["iPhone","iPad","iPod"].indexOf(t)?n="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?n="Windows":/Android/.test(e)?n="Android":/Linux/.test(t)&&(n="Linux"),n}function D(e){return Object.defineProperty(e,"toPlainObject",{enumerable:!1,configurable:!1,writable:!1,value:function(){return p()(this)}})}function x(e){return M(D(e))}var I=n("3/DG"),L=n.n(I);function R(e){return Object.defineProperty(e,"stringifySafe",{enumerable:!1,configurable:!1,writable:!1,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return L()(this,e,t,(function(e,t){return{sys:{type:"Link",linkType:"Entry",id:t.sys.id,circular:!0}}}))}})}var N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function j(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var B={},F=function(e){return e&&e.sys&&"Link"===e.sys.type},H=function(e,t){if(t=t||{},!e.items)return[];var n=p()(e),i=Object.keys(n.includes||{}).reduce((function(t,n){return[].concat(j(t),j(e.includes[n]))}),[]),o=[].concat(j(n.items),j(i));return o.forEach((function(e){var n=function(e,t){return Array.isArray(t)?Object.keys(e).filter((function(e){return-1!==t.indexOf(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):e}(e,t.itemEntryPoints);Object.assign(e,function e(t,n,i,o){if(n(t))return i(t);if(t&&"object"===(void 0===t?"undefined":N(t))){for(var r in t)t.hasOwnProperty(r)&&(t[r]=e(t[r],n,i,o));o&&(t=function(e){if(Array.isArray(e))return e.filter((function(e){return e!==B}));for(var t in e)e[t]===B&&delete e[t];return e}(t))}return t}(n,F,(function(e){return function(e,t,n){var i=function(e,t){var n=t.sys,i=n.linkType,o=n.id;return function(e,t){for(var n=0,r=e.length;n<r;n++)if(void 0,(s=e[n].sys).type===i&&s.id===o)return e[n];var s;return B}(e)}(e,t);return i===B?n?i:t:i}(o,e,t.removeUnresolved)}),t.removeUnresolved))})),n.items};function U(e){return M(D(p()(e)))}function Y(e,t){var n=t.resolveLinks,i=t.removeUnresolved,o=R(D(p()(e)));return n&&(o.items=H(o,{removeUnresolved:i,itemEntryPoints:["fields"]})),M(o)}function G(e){return M(D(p()(e)))}function V(e){return M(D(p()(e)))}function Z(e){return M(D(p()(e)))}function $(e){return M(D(p()(e)))}function W(e){return M(D(p()(e)))}function K(e){return M(D(p()(e)))}var z={space:i,entry:o,asset:r,contentType:s,locale:a};function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||!t.initial&&!t.nextSyncToken&&!t.nextPageToken)throw new Error("Please provide one of `initial`, `nextSyncToken` or `nextPageToken` parameters for syncing");if(t&&t.content_type&&!t.type)t.type="Entry";else if(t&&t.content_type&&t.type&&"Entry"!==t.type)throw new Error("When using the `content_type` filter your `type` parameter cannot be different from `Entry`.");var i={resolveLinks:!0,removeUnresolved:!1,paginate:!0},o=X({},i,{},n),r=o.resolveLinks,s=o.removeUnresolved,a=o.paginate,c={paginate:a};return te(e,[],t,c).then((function(e){r&&(e.items=H(e,{removeUnresolved:s,itemEntryPoints:["fields"]}));var t=ee(e.items);return e.nextSyncToken&&(t.nextSyncToken=e.nextSyncToken),e.nextPageToken&&(t.nextPageToken=e.nextPageToken),M(R(D(t)))}),(function(e){throw e}))}function ee(e){var t=function(e){return function(t,n){return n.sys.type===e&&t.push(D(n)),t}};return{entries:e.reduce(t("Entry"),[]),assets:e.reduce(t("Asset"),[]),deletedEntries:e.reduce(t("DeletedEntry"),[]),deletedAssets:e.reduce(t("DeletedAsset"),[])}}function te(e,t,n,i){var o=i.paginate;return n.nextSyncToken&&(n.sync_token=n.nextSyncToken,delete n.nextSyncToken),n.nextPageToken&&(n.sync_token=n.nextPageToken,delete n.nextPageToken),n.sync_token&&(delete n.initial,delete n.type,delete n.content_type,delete n.limit),e.get("sync",E({query:n})).then((function(i){var r=i.data;return t=t.concat(r.items),r.nextPageUrl?o?(delete n.initial,n.sync_token=ne(r.nextPageUrl),te(e,t,n,{paginate:o})):{items:t,nextPageToken:ne(r.nextPageUrl)}:r.nextSyncUrl?{items:t,nextSyncToken:ne(r.nextSyncUrl)}:void 0}))}function ne(e){var t=e.split("?");return t.length>0?t[1].replace("sync_token=",""):""}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e){if(!e.accessToken)throw new TypeError("Expected parameter accessToken");if(!e.space)throw new TypeError("Expected parameter space");var t=ae({},{resolveLinks:!0,removeUnresolved:!1,defaultHostname:"cdn.contentful.com",environment:"master"},{},e),n=function(e,t,n,i){var o=[];t&&o.push("app ".concat(t)),n&&o.push("integration ".concat(n)),o.push("sdk ".concat(e));var r=null;try{"undefined"!=typeof window&&"navigator"in window&&"product"in window.navigator&&"ReactNative"===window.navigator.product?(r=P(),o.push("platform ReactNative")):w()?(r=function(){var e=Object(v.platform)()||"linux",t=Object(v.release)()||"0.0.0",n={android:"Android",aix:"Linux",darwin:"macOS",freebsd:"Linux",linux:"Linux",openbsd:"Linux",sunos:"Linux",win32:"Windows"};return e in n?"".concat(n[e]||"Linux","/").concat(t):null}(),o.push("platform node.js/".concat(k()))):(r=P(),o.push("platform browser"))}catch(s){r=null}return r&&o.push("os ".concat(r)),"".concat(o.filter((function(e){return""!==e})).join("; "),";")}("contentful.js/".concat("0.0.0-determined-by-semantic-release"),t.application,t.integration);t.headers=ae({},t.headers,{"Content-Type":"application/vnd.contentful.delivery.v1+json","X-Contentful-User-Agent":n});var i,o=function e(t,n){var i=C({},{insecure:!1,retryOnError:!0,logHandler:function(e,t){if("error"===e&&t){var n=[t.name,t.message].filter((function(e){return e})).join(" - ");return console.error("[error] ".concat(n)),void console.error(t)}console.log("[".concat(e,"] ").concat(t))},headers:{},httpAgent:!1,httpsAgent:!1,timeout:3e4,proxy:!1,basePath:"",adapter:!1,maxContentLength:1073741824},{},n);if(!i.accessToken){var o=new TypeError("Expected parameter accessToken");throw i.logHandler("error",o),o}var r,s=i.insecure?"http":"https",a=i.space?"".concat(i.space,"/"):"",c=i.defaultHostname,l=i.insecure?80:443;if(i.host&&A.test(i.host)){var u=i.host.split(":");if(2===u.length){var d=(2,function(e){if(Array.isArray(e))return e}(r=u)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),2!==n.length);i=!0);}catch(c){o=!0,r=c}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}}(r)||function(e,t){if(e){if("string"==typeof e)return S(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,2):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());c=d[0],l=d[1]}else c=u[0]}i.basePath&&(i.basePath="/".concat(i.basePath.split("/").filter(Boolean).join("/")));var h=n.baseURL||"".concat(s,"://").concat(c,":").concat(l).concat(i.basePath,"/spaces/").concat(a);i.headers.Authorization||(i.headers.Authorization="Bearer "+i.accessToken),w()&&(i.headers["user-agent"]="node.js/"+k(),i.headers["Accept-Encoding"]="gzip");var g=t.create({baseURL:h,headers:i.headers,httpAgent:i.httpAgent,httpsAgent:i.httpsAgent,paramsSerializer:f.a.stringify,proxy:i.proxy,timeout:i.timeout,adapter:i.adapter,maxContentLength:i.maxContentLength,logHandler:i.logHandler,responseLogger:i.responseLogger,requestLogger:i.requestLogger,retryOnError:i.retryOnError});return g.httpClientParams=n,g.cloneWithNewParams=function(i){return e(t,C({},p()(n),{},i))},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=e.defaults,i=n.responseLogger,o=void 0===i?function(){}:i,r=n.requestLogger,s=void 0===r?function(){}:r;e.interceptors.request.use((function(e){return s(e),e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){return o(e),e}),(function(n){var i=n.response,o=n.config;if(!o||!e.defaults.retryOnError)return Promise.reject(n);var r,s=null,a=0;if(i)T=0;else{if(s="Connection",++T>t)return n.attempts=T,Promise.reject(n);a=Math.pow(Math.SQRT2,T),i={}}if(i.status>=500&&i.status<600){s="Server ".concat(i.status);var c=(i.headers||{})["x-contentful-request-id"]||null;if(O[c]=O[c]||0,O[c]++,O[c]>t||!c)return n.attempts=O[c],Promise.reject(n);a=Math.pow(Math.SQRT2,O[c])}else 429===i.status&&(s="Rate limit",i.headers&&n.response.headers["x-contentful-ratelimit-reset"]&&(a=i.headers["x-contentful-ratelimit-reset"]));return s?(a=Math.floor(1e3*a+200*Math.random()+500),e.defaults.logHandler("warning","".concat(s," error occurred. Waiting for ").concat(a," ms before retrying...")),delete o.httpAgent,delete o.httpsAgent,(r=a,new Promise((function(e){setTimeout(e,r)}))).then((function(){return e(o)}))):Promise.reject(n)}))}(g,i.retryLimit),g}(d.a,t),r=(i={resolveLinks:t.resolveLinks,environment:t.environment,removeUnresolved:t.removeUnresolved,spaceBaseUrl:o.defaults.baseURL,environmentBaseUrl:"".concat(o.defaults.baseURL,"environments/").concat(t.environment)},function(e){return Object.assign({},i,e)});return o.defaults.baseURL=r().environmentBaseUrl,function(e){e.interceptors.response.use((function(e){return e}),(function(e){if(e.response&&e.response.config.headers.Authorization){var t=e.response.config.headers.Authorization;e.response.config.headers.Authorization=e.response.config.headers.Authorization.replace(t,"Bearer...".concat(t.substr(-5))),e.response.request._headers&&e.response.request._headers.authorization&&(e.response.request._headers.authorization=e.response.request._headers.authorization.replace(t,"Bearer...".concat(t.substr(-5)))),e.response.request._header&&(e.response.request._header=e.response.request._header.replace(t,"Bearer...".concat(t.substr(-5))))}return Promise.reject(e)}))}(o),function(e){var t=e.http,n=e.getGlobalOptions,i=z.space.wrapSpace,o=z.contentType,r=o.wrapContentType,s=o.wrapContentTypeCollection,a=z.entry,c=a.wrapEntry,l=a.wrapEntryCollection,u=z.asset,d=u.wrapAsset,h=u.wrapAssetCollection,p=z.locale.wrapLocaleCollection,g=function(e){var t=new Error("The resource could not be found.");return t.sys={type:"Error",id:"NotFound"},t.details={type:"Entry",id:e,environment:n().environment,space:n().space},t};function f(e){if(e.data)throw e.data;if(e.response&&e.response.data)throw e.response.data;throw e}function m(e){e.select&&!/sys/i.test(e.select)&&(e.select+=",sys")}function b(e){e.defaults.baseURL=n().environmentBaseUrl}return{getSpace:function(){return function(e){e.defaults.baseURL=n().spaceBaseUrl}(t),t.get("").then((function(e){return i(e.data)}),f)},getContentType:function(e){return b(t),t.get("content_types/"+e).then((function(e){return r(e.data)}),f)},getContentTypes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b(t),t.get("content_types",E({query:e})).then((function(e){return s(e.data)}),f)},getEntry:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?this.getEntries(oe({"sys.id":e},t)).then((function(t){if(t.items.length>0)return c(t.items[0]);throw g(e)}),f):Promise.reject(g(e))},getEntries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};b(t);var i=n(e),o=i.resolveLinks,r=i.removeUnresolved;return m(e),t.get("entries",E({query:e})).then((function(e){return l(e.data,{resolveLinks:o,removeUnresolved:r})}),f)},getAsset:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b(t),m(n),t.get("assets/"+e,E({query:n})).then((function(e){return d(e.data)}),f)},getAssets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b(t),m(e),t.get("assets",E({query:e})).then((function(e){return h(e.data)}),f)},getLocales:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b(t),t.get("locales",E({query:e})).then((function(e){return p(e.data)}),f)},parseEntries:function(e){var t=n({});return l(e,{resolveLinks:t.resolveLinks,removeUnresolved:t.removeUnresolved})},sync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{paginate:!0},o=n(e),r=o.resolveLinks,s=o.removeUnresolved;return b(t),J(t,e,oe({resolveLinks:r,removeUnresolved:s},i))}}}({http:o,getGlobalOptions:r})}var ue=n("AytR"),de=n("fXoL");let he=(()=>{class e{constructor(e){this.http=e,this.fallbackLocale="es-MX",this.cdaClient=le(ue.g.contentful.usePreview?{environment:ue.g.contentful.environment,space:ue.g.contentful.space,accessToken:ue.g.contentful.previewAccessToken,host:"preview.contentful.com"}:{environment:ue.g.contentful.environment,space:ue.g.contentful.space,accessToken:ue.g.contentful.accessToken})}setLocale(e){this.locale=e}setFallbackLocale(e){this.fallbackLocale=e}getSpace(){return Object(c.a)(this,void 0,void 0,(function*(){return yield this.cdaClient.getSpace()}))}getLocales(){return Object(c.a)(this,void 0,void 0,(function*(){let e=[];try{e=(yield this.cdaClient.getLocales()).items}catch(t){ue.g.production||console.log(t)}return e}))}getEntries(e={},t){return Object(c.a)(this,void 0,void 0,(function*(){return e.locale=t||this.locale||this.fallbackLocale,yield this.cdaClient.getEntries(e)}))}getEntry(e,t={},n){return Object(c.a)(this,void 0,void 0,(function*(){return t.locale=n||this.locale||this.fallbackLocale,yield this.cdaClient.getEntry(e,t)}))}graphQLQuery(e){return Object(c.a)(this,void 0,void 0,(function*(){const t={headers:new l.d({"Content-Type":"application/json",Authorization:"Bearer "+ue.g.contentful.accessToken})};return this.http.get(ue.g.contentful.graphQLAPI+"/spaces/"+ue.g.contentful.space+"/environments/"+ue.g.contentful.environment+"?query="+e,t).toPromise()}))}}return e.\u0275fac=function(t){return new(t||e)(de.dc(l.b))},e.\u0275prov=de.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},LcsW:function(e,t,n){var i=n("kekF")(Object.getPrototypeOf,Object);e.exports=i},Lhse:function(e,t,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,"a",(function(){return o}));const o=i()},Lmem:function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},MBJt:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("ofXK"),o=n("ZOsW"),r=n("3Pt+"),s=n("o5mt"),a=n("gAzV"),c=n("fXoL");let l=(()=>{class e{}return e.\u0275mod=c.Rb({type:e}),e.\u0275inj=c.Qb({factory:function(t){return new(t||e)},providers:[a.a],imports:[[i.c,r.E,o.b,s.a]]}),e})()},MLWZ:function(e,t,n){"use strict";var i=n("xTJ+");function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(i.isURLSearchParams(t))r=t.toString();else{var s=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))})))})),r=s.join("&")}if(r){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},MMmD:function(e,t,n){var i=n("lSCD"),o=n("shjB");e.exports=function(e){return null!=e&&o(e.length)&&!i(e)}},"MPf+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ofXK"),o=n("fXoL");let r=(()=>{class e{constructor(e){this.platformId=e,this.webpStatus=new s,this.webpStatusDone=new s}load(){return new Promise((e,t)=>{if(Object(i.L)(this.platformId))try{let t;for(t in this.readyPromise=e,this.webpStatus)"boolean"==typeof this.webpStatus[t]&&this.checkWebpFeature(t,this.onFeatureResult.bind(this))}catch(n){t(n)}else this.initServer(),e()})}initServer(){let e;for(e in this.webpStatus)"boolean"==typeof this.webpStatus[e]&&(this.webpStatus[e]=!0)}checkWebpFeature(t,n){const i=new Image;i.onload=()=>{n(t,i.width>0&&i.height>0)},i.onerror=()=>{n(t,!1)},i.src="data:image/webp;base64,"+e.webpTestImages[t]}onFeatureResult(e,t){this.webpStatus[e]=t,this.webpStatusDone[e]=!0,this.validateAllDone()}validateAllDone(){let e;for(e in this.webpStatusDone)if("boolean"==typeof this.webpStatusDone[e]&&!this.webpStatusDone[e])return;this.readyPromise&&this.readyPromise()}get getWebPFeatures(){return this.webpStatus}get hasFullWebPFeatureSet(){const e=this.webpStatus;return e.lossy&&e.alpha&&e.lossless&&e.animation}}return e.webpTestImages={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},e.\u0275fac=function(t){return new(t||e)(o.dc(o.G))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class s{constructor(){this.lossy=!1,this.lossless=!1,this.alpha=!1,this.animation=!1}}},MkmW:function(e,t,n){"use strict";t.hostReportError=function(e){setTimeout((function(){throw e}),0)}},MrPd:function(e,t,n){var i=n("hypo"),o=n("ljhN"),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];r.call(e,t)&&o(s,n)&&(void 0!==n||t in e)||i(e,t,n)}},MtjB:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("XNiG"),o=n("l7GE"),r=n("ZUHj");function s(e){return t=>t.lift(new a(e,t))}class a{constructor(e,t){this.notifier=e,this.source=t}call(e,t){return t.subscribe(new c(e,this.notifier,this.source))}}class c extends o.a{constructor(e,t,n){super(e),this.notifier=t,this.source=n}error(e){if(!this.isStopped){let n=this.errors,o=this.retries,s=this.retriesSubscription;if(o)this.errors=null,this.retriesSubscription=null;else{n=new i.a;try{const{notifier:e}=this;o=e(n)}catch(t){return super.error(t)}s=Object(r.a)(this,o)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=o,this.retriesSubscription=s,n.next(e)}}_unsubscribe(){const{errors:e,retriesSubscription:t}=this;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null}notifyNext(e,t,n,i,o){const{_unsubscribe:r}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)}}},MvSz:function(e,t,n){var i=n("LXxW"),o=n("0ycA"),r=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols;e.exports=s?function(e){return null==e?[]:(e=Object(e),i(s(e),(function(t){return r.call(e,t)})))}:o},Mxju:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("ofXK"),o=n("fXoL"),r=n("d/Sv"),s=n("1AID"),a=n("VXQe"),c=n("BifP"),l=n("ZOsW"),u=n("3Pt+"),d=n("VXoX");function h(e,t){1&e&&(o.Sc(0),o.kc(1,"cmsTranslate")),2&e&&o.Uc(" ",o.lc(1,1,t.item.name)," ")}function p(e,t){if(1&e&&(o.Zb(0,"div",6),o.Ub(1,"i",7),o.Sc(2),o.kc(3,"cmsTranslate"),o.Yb()),2&e){const e=t.item;o.Hb(1),o.sc("ngClass",e.class),o.Hb(1),o.Uc(" ",o.lc(3,2,e.name)," ")}}function g(e,t){if(1&e){const e=o.ac();o.Xb(0),o.Zb(1,"ng-select",2,3),o.hc("ngModelChange",(function(t){return o.Hc(e),o.jc().flightType=t}))("change",(function(){return o.Hc(e),o.jc().changeOption()}))("open",(function(){return o.Hc(e),o.jc().open()}))("close",(function(){return o.Hc(e),o.jc().close()})),o.Qc(3,h,2,3,"ng-template",4),o.Qc(4,p,4,4,"ng-template",5),o.Yb(),o.Wb()}if(2&e){const e=o.jc();o.Hb(1),o.sc("items",e.flightTypes)("ngModel",e.flightType)("searchable",!1)("clearable",!1)}}const f=function(e){return{"mr-md-20":e}};function m(e,t){if(1&e){const e=o.ac();o.Zb(0,"label",10),o.Zb(1,"span",11),o.Sc(2),o.kc(3,"cmsTranslate"),o.Yb(),o.Zb(4,"input",12),o.hc("ngModelChange",(function(t){return o.Hc(e),o.jc(2).flightType=t}))("ngModelChange",(function(){return o.Hc(e),o.jc(2).changeOption()})),o.Yb(),o.Ub(5,"span",13),o.Yb()}if(2&e){const e=t.$implicit,n=t.index,i=o.jc(2);o.sc("for","type_"+n)("ngClass",o.vc(8,f,n+1<i.flightTypes.length)),o.Hb(2),o.Tc(o.lc(3,6,e.name)),o.Hb(2),o.sc("id","type_"+n)("value",e.id)("ngModel",i.flightType)}}function b(e,t){if(1&e&&(o.Zb(0,"div",8),o.Qc(1,m,6,10,"label",9),o.Yb()),2&e){const e=o.jc();o.Hb(1),o.sc("ngForOf",e.flightTypes)}}let v=(()=>{class e{constructor(e,t,n){this.genericOverlayService=e,this.csmConfig=t,this.document=n,this.selectedFlightType=new o.p,this.flightType=r.a.ONE_WAY,this.radioStyle=!1,this.isOpenJawEnabled=!1,this.flightTypes=[{id:r.a.ROUND_TRIP,name:"GLOBAL_LABEL_ROUND-TRIP",class:"fa-exchange-alt"},{id:r.a.ONE_WAY,name:"GLOBAL_LABEL_ONEWAY-TRIP",class:"fa-long-arrow-alt-right"}]}ngOnInit(){this.enableBookerOpenJaw()}changeOption(){this.selectedFlightType.emit(this.flightType)}open(){const{clientWidth:e}=this.document.body;e<800&&(this.document.body.style.overflow="hidden",this.genericOverlayService.showOverlay())}close(){this.document.body.style.overflow="auto",this.genericOverlayService.hideOverlay()}enableBookerOpenJaw(){this.csmConfig.getSectionFeatureValue(s.b.GLOBAL,s.a.OpenJawBooker)&&(this.isOpenJawEnabled=!0,this.flightTypes.push({id:r.a.MULTI_CITY,name:"GLOBAL_LABEL_MULTICITY-TRIP",class:"fa-network-wired"}))}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(a.a),o.Tb(c.a),o.Tb(i.e))},e.\u0275cmp=o.Nb({type:e,selectors:[["app-flight-select"]],inputs:{flightType:"flightType",radioStyle:"radioStyle"},outputs:{selectedFlightType:"selectedFlightType"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["radioButtons",""],["bindLabel","name","bindValue","id",1,"select-small","flight-select",3,"items","ngModel","searchable","clearable","ngModelChange","change","open","close"],["selectTypeFlight",""],["ng-label-tmp",""],["ng-option-tmp",""],[1,"ng-option-label"],[1,"fas","fa-sm","mr-2",3,"ngClass"],[1,"d-flex"],["class","checkbox-container flight-selection mr-10",3,"for","ngClass",4,"ngFor","ngForOf"],[1,"checkbox-container","flight-selection","mr-10",3,"for","ngClass"],[1,"title"],["name","type","type","radio",3,"id","value","ngModel","ngModelChange"],[1,"radio"]],template:function(e,t){if(1&e&&(o.Qc(0,g,5,4,"ng-container",0),o.Qc(1,b,2,1,"ng-template",null,1,o.Rc)),2&e){const e=o.Ec(2);o.sc("ngIf",!t.radioStyle)("ngIfElse",e)}},directives:[i.u,l.a,u.u,u.x,l.e,l.c,i.r,i.t,u.C,u.d],pipes:[d.a],styles:[".flight-select[_ngcontent-%COMP%]     .ng-dropdown-panel{min-width:280px}.flight-select[_ngcontent-%COMP%]     .ng-dropdown-panel.ng-select-bottom{top:0;margin-top:23px}@media screen and (max-width:991px){.flight-selection[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:14px}}@media screen and (max-width:800px){  .ng-dropdown-panel .ng-dropdown-panel-items .ng-option:first-child{margin-top:0;padding:30px 30px 20px}  .ng-dropdown-panel .ng-dropdown-panel-items .ng-option:first-child>div{padding-top:0}  .ng-dropdown-panel .ng-dropdown-panel-items .ng-option{color:var(--bg4);padding:20px 30px!important}  .ng-dropdown-panel .ng-dropdown-panel-items .ng-option:last-child{margin-bottom:0;padding:20px 30px 30px}  .ng-dropdown-panel .ng-dropdown-panel-items .ng-option:last-child>div{padding-bottom:0}  .ng-dropdown-panel .ng-dropdown-panel-items .ng-option{margin:0}}"]}),e})()},NDEZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));class i{}var o=function(e){return e.NonStop="NonStop",e.MultiLeg="MultiLeg",e}({})},NJ4a:function(e,t,n){"use strict";function i(e){setTimeout(()=>{throw e},0)}n.d(t,"a",(function(){return i}))},NKxu:function(e,t,n){var i=n("lSCD"),o=n("E2jh"),r=n("GoyQ"),s=n("3Fdi"),a=/^\[object .+?Constructor\]$/,c=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!r(e)||o(e))&&(i(e)?c:a).test(s(e))}},NTcF:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=n("ffpz");t.AsyncScheduler=function(e){function t(n,i){void 0===i&&(i=o.Scheduler.now);var r=e.call(this,n,(function(){return t.delegate&&t.delegate!==r?t.delegate.now():i()}))||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}return i(t,e),t.prototype.schedule=function(n,i,o){return void 0===i&&(i=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,i,o):e.prototype.schedule.call(this,n,i,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(o.Scheduler)},NXyV:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("HDdC"),o=n("Cfvw"),r=n("EY2u");function s(e){return new i.a(t=>{let n;try{n=e()}catch(i){return void t.error(i)}return(n?Object(o.a)(n):Object(r.b)()).subscribe(t)})}},Npjl:function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},NykK:function(e,t,n){var i=n("nmnc"),o=n("AP2z"),r=n("KfNM"),s=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):r(e)}},O0oS:function(e,t,n){var i=n("Cwc5"),o=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},OBhP:function(e,t,n){var i=n("fmRc"),o=n("gFfm"),r=n("MrPd"),s=n("WwFo"),a=n("Dw+G"),c=n("5Tg0"),l=n("Q1l4"),u=n("VOtZ"),d=n("EEGq"),h=n("qZTm"),p=n("G6z8"),g=n("QqLw"),f=n("yHx3"),m=n("wrZu"),b=n("+iFO"),v=n("Z0cm"),y=n("DSRE"),_=n("zEVN"),C=n("GoyQ"),S=n("1+5i"),O=n("7GkX"),T={};T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T["[object Function]"]=T["[object WeakMap]"]=!1,e.exports=function e(t,n,w,k,A,E){var M,P=1&n,D=2&n,x=4&n;if(w&&(M=A?w(t,k,A,E):w(t)),void 0!==M)return M;if(!C(t))return t;var I=v(t);if(I){if(M=f(t),!P)return l(t,M)}else{var L=g(t),R="[object Function]"==L||"[object GeneratorFunction]"==L;if(y(t))return c(t,P);if("[object Object]"==L||"[object Arguments]"==L||R&&!A){if(M=D||R?{}:b(t),!P)return D?d(t,a(M,t)):u(t,s(M,t))}else{if(!T[L])return A?t:{};M=m(t,L,P)}}E||(E=new i);var N=E.get(t);if(N)return N;E.set(t,M),S(t)?t.forEach((function(i){M.add(e(i,n,w,i,t,E))})):_(t)&&t.forEach((function(i,o){M.set(o,e(i,n,w,o,t,E))}));var j=x?D?p:h:D?keysIn:O,B=I?void 0:j(t);return o(B||t,(function(i,o){B&&(i=t[o=i]),r(M,o,e(i,n,w,o,t,E))})),M}},OH9c:function(e,t,n){"use strict";e.exports=function(e,t,n,i,o){return e.config=t,n&&(e.code=n),e.request=i,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},OPfs:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("aSQu"),o=n("wd/R"),r=n("RJ73"),s=n("2Vo4"),a=n("XNiG"),c=n("fXoL"),l=n("BifP");let u=(()=>{class e{constructor(e){this.cmsConfig=e,this.sortingParameters=[{name:"BOOKER_SORTBY_BEST-OPTION",type:i.c.BEST_MATCH},{name:"BOOKER_SORTBY_DEPARTURE",type:i.c.DEPARTURE_TIME},{name:"BOOKER_SORTBY_PRICE",type:i.c.LOWEST_PRICE},{name:"BOOKER_SORTBY_DURATION",type:i.c.TRIP_DURATION}],this.sortingByOriginParams={name:"BOOKER_SORTBY_AIRPORT",type:i.c.ORIGIN_AIRPORT},this.filteringParameters=[{name:"BOOKER_SHOW_NON-STOP",type:i.b.DIRECT_TRIP,enabled:!1,count:0},{name:"BOOKER_SHOW_PROMOTIONS",type:i.b.SPECIAL_OFFERS,enabled:!1,count:0},{name:"BOOKER_SHOW_MORNING",type:i.b.MORNING_FLIGHTS,enabled:!1,count:0},{name:"BOOKER_SHOW_AFTERNOON",type:i.b.AFTERNOON_FLIGHTS,enabled:!1,count:0},{name:"BOOKER_SORTBY_SAME-ROUTE",type:i.b.SAME_ROUTE,enabled:!1,count:0}],this.filterGroups=[],this.morningFlightTime="12:00:00",this.defaultSortingOption=this.sortingParameters[0],this.$selectedSorting=new s.a(this.sortingParameters[0]),this.$onSortChange=new a.a,this.$onFilterChange=new a.a,this.$onVivaFanToggleChange=new s.a(!1),this.$onUserAddVivaFanMembership=new s.a(!1),this.userAddVivaFanMembership=!1,this.cunSortConfig={origin:!1,destination:!1},this.morningFlightTime=this.cmsConfig._cmsConfig.bookingSettings.morningFlightTime||this.morningFlightTime,this.filterGroups=[],i.a.forEach(e=>{const t=this.filteringParameters.filter(t=>e.includes(t.type));this.filterGroups.push(t)})}get _sortingParameters(){return this.sortingParameters}get _filteringParameters(){return this.filteringParameters}get _filterGroups(){return this.filterGroups}emitSelectedSorting(e){this.$selectedSorting.next(e)}get selectedSorting$(){return this.$selectedSorting.asObservable()}get _defaultSortingOption(){return this.defaultSortingOption}emitSortChanges(e){this.$onSortChange.next(e)}get onSortChange$(){return this.$onSortChange.asObservable()}emitFilterChanges(){this.$onFilterChange.next()}get onFilterChange$(){return this.$onFilterChange.asObservable()}emitVivaFanToggleChange(e){this.$onVivaFanToggleChange.next(e),!e&&this.userAddVivaFanMembership&&this.emitUpdateUserMembership(!1)}get onVivaFanToggleChange$(){return this.$onVivaFanToggleChange.asObservable()}get _UserAddVivaFanMembership(){return this.userAddVivaFanMembership}emitUpdateUserMembership(e){this.$onUserAddVivaFanMembership.next(e),this.userAddVivaFanMembership=e}get onGetUserVivaFanMembership$(){return this.$onUserAddVivaFanMembership.asObservable()}resetFilteringParams(){this.currentRouteDetails=void 0,this.resetFilters(),this.emitSortChanges(this.defaultSortingOption),this.emitSelectedSorting(this.defaultSortingOption),this.emitUpdateUserMembership(!1)}clearFilters(){this.filteringParameters.forEach(e=>{e.enabled=!1}),this.emitFilterChanges()}loadFiltersFromParams(e,t=0,n){if(!e||!Array.isArray(e)||!e.length||t)return;let o=null==e?void 0:e.filter(e=>Object.keys(i.d).includes(e)).map(e=>i.d[e]);n||(o=null==o?void 0:o.filter(e=>e!==i.b.SAME_ROUTE)),o.length&&this.filteringParameters.forEach(e=>{(null==o?void 0:o.includes(e.type))&&(e.enabled=!0)})}resetFilters(){this.filteringParameters.forEach(e=>{e.count=0,e.enabled=!1})}isJourneyResponseBetweenTimes(e,t,n){const i=o(t,"HH:mm:SS"),r=o(n,"HH:mm:SS"),s=o(o(e.departureDate).format("HH:mm:SS"),"HH:mm:SS");return s.isSameOrAfter(i,"seconds")&&s.isBefore(r,"seconds")}isJourneySameAsSearchedRoute(e){return!!this.currentRouteDetails&&e.origin.code===this.currentRouteDetails.origin.code&&e.destination.code===this.currentRouteDetails.destination.code}journeyResponseHasOffer(e){const t=this.getLowestJourneyFare(e);return t&&t.labels&&t.labels.length>0}journeyIsStationTravelType(e,t){return e.travelType===t}getLowestJourneyFare(e){return e.fares.find(t=>t.key===e.lowestFareKey)}sortJourneyResults(e,t){var n,s;if(!t||!e)return e;switch(t.type){case i.c.ARRIVAL_TIME:return e.sort((e,t)=>{const n=o(e.arrivalDate),i=o(t.arrivalDate);return n.isBefore(i)?-1:n.isAfter(i)?1:0});case i.c.DEPARTURE_TIME:return e.sort((e,t)=>{const n=o(e.departureDate),i=o(t.departureDate);return n.isBefore(i)?-1:n.isAfter(i)?1:0});case i.c.LOWEST_PRICE:return e.sort((e,t)=>{const n=this.getLowestJourneyFare(e),i=this.getLowestJourneyFare(t),o=n?n.fare.amount:Number.POSITIVE_INFINITY,r=i?i.fare.amount:Number.POSITIVE_INFINITY;return o<r?-1:o>r?1:0});case i.c.TRIP_DURATION:return e.sort((e,t)=>{const n=o.duration(e.journeyDuration).asMilliseconds(),i=o.duration(t.journeyDuration).asMilliseconds();return n<i?-1:n>i?1:0});case i.c.AVAILABILITY:return e.sort((e,t)=>!e.isSoldout&&t.isSoldout?-1:e.isSoldout&&!t.isSoldout?1:0);case i.c.BEST_MATCH:if((null===(n=this.cunSortConfig)||void 0===n?void 0:n.origin)||(null===(s=this.cunSortConfig)||void 0===s?void 0:s.destination))return this.getTqoCunSorting(e);const t=(e=e.filter(e=>!(e.travelType===r.h.CONNECTING&&e.isSoldout))).filter(e=>e.travelType===r.h.NONSTOP),a=e.filter(e=>e.travelType===r.h.DIRECT);let c=e.filter(e=>e.travelType===r.h.CONNECTING);return c=this.sortJourneyResults(Array.from(c),{name:"",type:i.c.TRIP_DURATION}),e=t.concat(a,c),this.sortJourneyResults(Array.from(e),{name:"",type:i.c.AVAILABILITY});case i.c.ORIGIN_AIRPORT:const l=this.sortJourneyResults(Array.from(e),{name:"",type:i.c.DEPARTURE_TIME}).sort((e,t)=>e.origin.code<t.origin.code?-1:e.origin.code>t.origin.code?1:0);return this.sortJourneyResults(Array.from(l),{name:"",type:i.c.AVAILABILITY});default:return e}}doFilterByType(e,t){switch(t.type){case i.b.DIRECT_TRIP:return e.filter(e=>this.journeyIsStationTravelType(e,r.h.NONSTOP)||this.journeyIsStationTravelType(e,r.h.DIRECT));case i.b.SPECIAL_OFFERS:return e.filter(e=>this.journeyResponseHasOffer(e));case i.b.MORNING_FLIGHTS:return e.filter(e=>this.isJourneyResponseBetweenTimes(e,"00:00:00",this.morningFlightTime));case i.b.AFTERNOON_FLIGHTS:return e.filter(e=>this.isJourneyResponseBetweenTimes(e,this.morningFlightTime,"23:59:59"));case i.b.SAME_ROUTE:return e.filter(e=>this.isJourneySameAsSearchedRoute(e));default:return e}}setCurrentRouteDetails(e){this.currentRouteDetails=e}toggleSortByOriginVisibility(e=!1){if(e)this.sortingParameters.includes(this.sortingByOriginParams)||this.sortingParameters.push(this.sortingByOriginParams);else{const e=this.sortingParameters.findIndex(e=>e===this.sortingByOriginParams);-1!==e&&this.sortingParameters.splice(e,1)}}setCunSortConfig(e){this.cunSortConfig=e}getTqoCunSorting(e){const t=this.cunSortConfig.origin?"origin":"destination",n=this.sortJourneyResults(Array.from(e),{name:"",type:i.c.DEPARTURE_TIME}),o=n.filter(e=>e.travelType===r.h.CONNECTING),s=n.filter(e=>e.travelType!==r.h.CONNECTING),a=s.filter(e=>"TQO"===e[t].code),c=s.filter(e=>"CUN"===e[t].code);return this.sortJourneyResults(Array.from(a.concat(c,o)),{name:"",type:i.c.AVAILABILITY})}}return e.\u0275fac=function(t){return new(t||e)(c.dc(l.a))},e.\u0275prov=c.Pb({token:e,factory:e.\u0275fac}),e})()},OTTw:function(e,t,n){"use strict";var i=n("xTJ+");e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=i.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},"Of+w":function(e,t,n){var i=n("Cwc5")(n("Kz5y"),"WeakMap");e.exports=i},PnAN:function(e,t,n){function i(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n("rOEr")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var o=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(r=o))})),e.splice(r,0,i)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=i,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())},PqYM:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("HDdC"),o=n("D0XW"),r=n("Y7HM"),s=n("z+Ro");function a(e=0,t,n){let a=-1;return Object(r.a)(t)?a=Number(t)<1?1:Number(t):Object(s.a)(t)&&(n=t),Object(s.a)(n)||(n=o.a),new i.a(t=>{const i=Object(r.a)(e)?e:+e-n.now();return n.schedule(c,i,{index:0,period:a,subscriber:t})})}function c(e){const{index:t,period:n,subscriber:i}=e;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}},Pqv9:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ofXK"),o=n("d0zJ"),r=n("o5mt"),s=n("kpjh"),a=n("fXoL");let c=(()=>{class e{}return e.\u0275mod=a.Rb({type:e}),e.\u0275inj=a.Qb({factory:function(t){return new(t||e)},imports:[[i.c,o.a,r.a,s.a]]}),e})()},PxKc:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return c}));var i=function(e){return e.Flights="Flights",e.Passengers="Passengers",e.Seats="Seats",e.Baggage="Baggage",e.Extras="Extras",e.Payment="Payment",e.Hotel="Hotel",e.FE_Calendar="FE_Calendar",e.Combos="Combos",e.NO_STEP="",e}({}),o=function(e){return e.Booking="Booking",e.CheckIn="CheckIn",e.Manage="Manage",e.Irop="Irop",e}({}),r=function(e){return e.Desktop="desktop",e.Mobile="mobile",e.Tablet="tablet",e.Other="other",e}({});const s={currentStep:i.NO_STEP,flowType:o.Booking,steps:[{name:i.Flights,isOptional:!1},{name:i.Passengers,isOptional:!1},{name:i.Seats,isOptional:!1},{name:i.Extras,isOptional:!1},{name:i.Payment,isOptional:!1}]},a={currentStep:i.Payment,flowType:o.Manage,steps:[{name:i.Flights,isOptional:!1},{name:i.Combos,isOptional:!1},{name:i.Seats,isOptional:!1},{name:i.Baggage,isOptional:!1},{name:i.Extras,isOptional:!1},{name:i.Payment,isOptional:!1}]},c={currentStep:i.Payment,flowType:o.CheckIn,steps:[{name:i.Combos,isOptional:!1},{name:i.Seats,isOptional:!1},{name:i.Baggage,isOptional:!1},{name:i.Extras,isOptional:!1},{name:i.Payment,isOptional:!1}]}},"Q+ex":function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var i=n("fXoL"),o=n("RBZv"),r=n("ofXK"),s=n("9O1C"),a=n("ib+v"),c=n("VXoX"),l=n("0o02");const u=function(e){return{color:e}},d=function(){return{}};function h(e,t){if(1&e&&i.Ub(0,"em",16),2&e){const e=i.jc(3);i.sc("ngClass",e.pickIconClass)("ngStyle",e.alertData.customDisplayColor?i.vc(2,u,e.alertData.customDisplayColor):i.uc(4,d))}}const p=function(e,t){return{"custom-image":e,"img-size-lg":t}};function g(e,t){if(1&e&&i.Ub(0,"img",17),2&e){const e=i.jc(3);i.sc("ngClass",i.wc(3,p,!e.sizeImg,"lg"===e.sizeImg))("src",e.alertData.customImage.fields.file.url,i.Kc)("alt",e.alertData.customImage.fields.title)}}const f=function(e,t,n,i){return{"mr-2":e,"mr-4":t,"ml-md-4 ml-sm-0":n,"default-title":i}};function m(e,t){if(1&e&&(i.Zb(0,"p",18),i.Sc(1),i.kc(2,"cmsRegexReplace"),i.Yb()),2&e){const e=i.jc(3);i.sc("ngStyle",e.alertData.customDisplayColor?i.vc(6,u,e.alertData.customDisplayColor):i.uc(8,d))("ngClass",i.yc(9,f,e.noClose,!e.noClose,!e.alertData.customImage&&!e.pickIconClass,e.defaultTitle)),i.Hb(1),i.Uc(" ",i.mc(2,3,e.alertData.title,e.cmsReplacementValues)," ")}}function b(e,t){1&e&&i.Vb(0)}function v(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",20),i.hc("click",(function(){return i.Hc(e),i.jc(4).ctaClicked()})),i.Sc(1),i.Yb()}if(2&e){const e=i.jc(4);i.Hb(1),i.Uc(" ",e.alertData.ctaText," ")}}function y(e,t){if(1&e&&(i.Xb(0),i.Qc(1,v,2,1,"div",19),i.Wb()),2&e){const e=i.jc(3),t=i.Ec(6);i.Hb(1),i.sc("ngIf",!e.warningStyle)("ngIfElse",t)}}const _=function(e,t){return{"ml-0 ml-md-30":e,"mt-2":t}};function C(e,t){if(1&e&&(i.Zb(0,"app-call-to-action",21),i.Zb(1,"span",22),i.Sc(2),i.Yb(),i.Yb()),2&e){const e=i.jc(3);i.sc("callToAction",e.alertData.callToAction.fields)("ngClass",i.wc(3,_,e.applyExpandedLayout,!e.applyExpandedLayout)),i.Hb(2),i.Uc(" ",e.alertData.callToAction.fields.text," ")}}const S=function(e){return{"margin-lg-img":e}};function O(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",7),i.Qc(2,h,1,5,"em",8),i.Qc(3,g,1,6,"img",9),i.Qc(4,m,3,14,"p",10),i.Yb(),i.Zb(5,"div",11),i.Zb(6,"div",12),i.Qc(7,b,1,0,"ng-container",13),i.Qc(8,y,2,2,"ng-container",14),i.Yb(),i.Qc(9,C,3,6,"app-call-to-action",15),i.Yb(),i.Wb()),2&e){const e=i.jc(2),t=i.Ec(4);i.Hb(2),i.sc("ngIf",!e.alertData.customImage&&e.pickIconClass),i.Hb(1),i.sc("ngIf",e.alertData.customImage),i.Hb(1),i.sc("ngIf",e.alertData.title&&!e.noTitle),i.Hb(1),i.sc("ngClass",i.vc(8,S,"lg"===e.sizeImg&&!e.isMobile)),i.Hb(1),i.sc("ngClass",e.applyExpandedLayout?"ml-md-4 ml-sm-0 mt-1 mb-2":""),i.Hb(1),i.sc("ngTemplateOutlet",t),i.Hb(1),i.sc("ngIf",e.alertData.ctaText&&e.useCtaAsButton),i.Hb(1),i.sc("ngIf",!(null==e.alertData.callToAction||!e.alertData.callToAction.fields))}}function T(e,t){if(1&e){const e=i.ac();i.Zb(0,"button",23),i.hc("click",(function(){return i.Hc(e),i.jc(2).close()})),i.Ub(1,"em",24),i.Yb()}if(2&e){const e=i.jc(2);i.sc("ngClass",e.alertData.displayColor)("ngStyle",e.alertData.customDisplayColor?i.vc(2,u,e.alertData.customDisplayColor):i.uc(4,d))}}const w=function(e,t,n,i,o,r,s,a,c,l,u){return[e,t,n,i,o,r,s,a,c,l,u]},k=function(e){return{"border-left-color":e}};function A(e,t){if(1&e&&(i.Zb(0,"div",4),i.Qc(1,O,10,10,"ng-container",5),i.Qc(2,T,2,5,"button",6),i.Yb()),2&e){const e=i.jc(),t=i.Ec(2);i.sc("ngClass",i.Cc(5,w,[e.alertData.displayColor?e.alertData.displayColor:"green-white",e.applyExpandedLayout?"flex-column":"",e.noRounded?"no-rounded":"",e.noMargin?"mb-0":"mb-2",e.isMobile&&e.alertData.title?"mobile-alert":"",e.confirmationStyle?"confirmation":"",e.profileAlert?"align-items-center":"",e.includeBorder?"gray-border":"",e.borderLeft?"":"border-0",e.noPadding?"p-0 p-md-0":"",e.extraClass]))("ngStyle",e.alertData.customDisplayColor?i.vc(17,k,e.alertData.customDisplayColor):i.uc(19,d)),i.Hb(1),i.sc("ngIf",!e.confirmationStyle)("ngIfElse",t),i.Hb(1),i.sc("ngIf",!e.noClose)}}function E(e,t){if(1&e&&(i.Zb(0,"h4",34),i.Sc(1),i.kc(2,"cmsRegexReplace"),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.Uc(" ",i.mc(2,1,e.alertData.title,e.cmsReplacementValues)," ")}}function M(e,t){1&e&&i.Vb(0)}function P(e,t){if(1&e&&(i.Zb(0,"p",35),i.Qc(1,M,1,0,"ng-container",13),i.Yb()),2&e){i.jc(2);const e=i.Ec(4);i.Hb(1),i.sc("ngTemplateOutlet",e)}}function D(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",25),i.Zb(1,"div",26),i.Ub(2,"em",27),i.Zb(3,"div",28),i.Qc(4,E,3,4,"h4",29),i.Qc(5,P,2,1,"p",30),i.Ub(6,"div",31),i.kc(7,"cmsRegexReplace"),i.Yb(),i.Yb(),i.Zb(8,"div",32),i.Zb(9,"button",33),i.hc("click",(function(){return i.Hc(e),i.jc().ctaClicked()})),i.Zb(10,"span"),i.Sc(11),i.kc(12,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&e){const e=i.jc();i.Hb(2),i.sc("ngClass",e.pickIconClass),i.Hb(2),i.sc("ngIf",e.alertData.title),i.Hb(1),i.sc("ngIf",e.alertData.message),i.Hb(1),i.sc("innerHTML",i.mc(7,5,e.getHtml(e.alertData.richMessage),e.cmsReplacementValues),i.Ic),i.Hb(5),i.Tc(i.lc(12,8,e.buttonCopyId?e.buttonCopyId:"GLOBAL_ACTION_PAY-NOW"))}}function x(e,t){if(1&e&&(i.Xb(0),i.Ub(1,"div",37),i.kc(2,"cmsRegexReplace"),i.kc(3,"richText"),i.Wb()),2&e){const e=i.jc(2);i.Hb(1),i.sc("innerHTML",i.mc(2,1,i.lc(3,4,e.alertData.richMessage),e.cmsReplacementValues),i.Ic)}}function I(e,t){if(1&e&&(i.Sc(0),i.kc(1,"cmsRegexReplace")),2&e){const e=i.jc(2);i.Uc(" ",i.mc(1,1,null==e.alertData?null:e.alertData.message,e.cmsReplacementValues)," ")}}function L(e,t){if(1&e&&(i.Qc(0,x,4,6,"ng-container",5),i.Qc(1,I,2,4,"ng-template",null,36,i.Rc)),2&e){const e=i.Ec(2),t=i.jc();i.sc("ngIf",(null==t.alertData?null:t.alertData.richMessage)&&t.useRichText)("ngIfElse",e)}}function R(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",38),i.hc("click",(function(){return i.Hc(e),i.jc().ctaClicked()})),i.Zb(1,"span"),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Ub(4,"em",39),i.Yb()}if(2&e){const e=i.jc();i.Hb(2),i.Tc(i.lc(3,1,e.alertData.ctaText))}}let N=(()=>{class e{constructor(e){this.cmsPageService=e,this.closeAlert=new i.p,this.clicked=new i.p,this.useRichText=!1,this.includeBorder=!1,this.forceExpandedLayout=!1,this.cmsReplacementValues=[],this.sizeImg="",this.isMobile=!1,this.noTitle=!1,this.profileAlert=!1,this.useCtaAsButton=!1,this.defaultTitle=!0,this.warningStyle=!1,this.borderLeft=!0,this.extraClass="",this.iconClasses={warning:"fa-exclamation-triangle",information:"fa-info-circle",flight:"fa-plane",announcement:"fa-bullhorn",promo:"fa-certificate","custom-image":"","custom-icon-class":""}}ngOnInit(){window.innerWidth<=800&&(this.isMobile=!0)}get pickIconClass(){var e;return this.alertData?(null===(e=this.alertData.displayImage)||void 0===e?void 0:e.includes("custom-icon"))&&this.alertData.customIconClass?this.alertData.customIconClass:this.iconClasses[this.alertData.displayImage]:""}close(){this.closeAlert.emit()}ctaClicked(){this.clicked.emit()}getHtml(e){return this.cmsPageService.richTextToHtmlString(e,{})}get applyExpandedLayout(){return this.forceExpandedLayout||this.alertData.title&&this.alertData.title.length>30&&!this.noTitle}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(o.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-flight-alert"]],inputs:{alertData:"alertData",noRounded:"noRounded",useRichText:"useRichText",includeBorder:"includeBorder",noMargin:"noMargin",noClose:"noClose",noPadding:"noPadding",confirmationStyle:"confirmationStyle",forceExpandedLayout:"forceExpandedLayout",cmsReplacementValues:"cmsReplacementValues",sizeImg:"sizeImg",noTitle:"noTitle",buttonCopyId:"buttonCopyId",profileAlert:"profileAlert",useCtaAsButton:"useCtaAsButton",defaultTitle:"defaultTitle",warningStyle:"warningStyle",borderLeft:"borderLeft",extraClass:"extraClass"},outputs:{closeAlert:"closeAlert",clicked:"clicked"},decls:7,vars:1,consts:[["class","\n    flight-alert\n    py-15\n    pl-15\n    pr-10 pr-md-4\n    d-flex\n    align-items-baseline\n    position-relative\n  ",3,"ngClass","ngStyle",4,"ngIf"],["confirmation",""],["messageTxt",""],["newLineCTA",""],[1,"flight-alert","py-15","pl-15","pr-10","pr-md-4","d-flex","align-items-baseline","position-relative",3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["class","flight-alert-close",3,"ngClass","ngStyle","click",4,"ngIf"],[1,"d-flex","align-items-center"],["class","fas mr-2",3,"ngClass","ngStyle",4,"ngIf"],[3,"ngClass","src","alt",4,"ngIf"],["class","medium-title my-0 font-weight-bold",3,"ngStyle","ngClass",4,"ngIf"],[3,"ngClass"],[1,"my-0","regular-text","p-content",3,"ngClass"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","d-flex align-items-center",3,"callToAction","ngClass",4,"ngIf"],[1,"fas","mr-2",3,"ngClass","ngStyle"],[3,"ngClass","src","alt"],[1,"medium-title","my-0","font-weight-bold",3,"ngStyle","ngClass"],["class","cta-txt small-title d-inline font-weight-bold cursor-pointer",3,"click",4,"ngIf","ngIfElse"],[1,"cta-txt","small-title","d-inline","font-weight-bold","cursor-pointer",3,"click"],[1,"d-flex","align-items-center",3,"callToAction","ngClass"],[1,"link","text-link","text","cta-text"],[1,"flight-alert-close",3,"ngClass","ngStyle","click"],[1,"fas","fa-times","opacity-5"],[1,"d-flex","flex-column","flex-lg-row","w-100","justify-content-between","py-5"],[1,"d-flex"],[1,"fas","mr-15","c-icon",3,"ngClass"],[1,"pr-40"],["class","h4 dark mt-0 mb-2",4,"ngIf"],["class","regular-text lower",4,"ngIf"],[1,"regular-text","gray","rt-paragraph-m-0","mb-3","mb-md-0",3,"innerHTML"],[1,"d-flex","align-items-center","btn-container"],[1,"viva-btn","shop","px-60",3,"click"],[1,"h4","dark","mt-0","mb-2"],[1,"regular-text","lower"],["message",""],[1,"rt-paragraph-m-0",3,"innerHTML"],[1,"warning-cta","medium-title","font-weight-bold","cursor-pointer","display-flex","align-items-center","mt-10",3,"click"],[1,"fas","fa-arrow-right","ml-10"]],template:function(e,t){1&e&&(i.Qc(0,A,3,20,"div",0),i.Qc(1,D,13,10,"ng-template",null,1,i.Rc),i.Qc(3,L,3,2,"ng-template",null,2,i.Rc),i.Qc(5,R,5,3,"ng-template",null,3,i.Rc)),2&e&&i.sc("ngIf",t.alertData)},directives:[r.u,r.r,r.x,r.B,s.a],pipes:[a.a,c.a,l.a],styles:[".flight-alert[_ngcontent-%COMP%]{border-radius:5px;border-left:5px solid;box-sizing:border-box}.flight-alert.py-15[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px}.flight-alert.pl-15[_ngcontent-%COMP%]{padding-left:15px}.flight-alert.profile-alert[_ngcontent-%COMP%]{align-items:center!important}@media screen and (max-width:720px){.flight-alert.confirmation[_ngcontent-%COMP%]{padding:20px!important;border-radius:5px;border-left:none}}.flight-alert[_ngcontent-%COMP%]   .warning-cta[_ngcontent-%COMP%], .flight-alert[_ngcontent-%COMP%]   .warning-cta[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:var(--bl9)!important}.flight-alert.no-rounded[_ngcontent-%COMP%]{border-radius:0}.flight-alert.gray-border[_ngcontent-%COMP%]{border-top:1px solid var(--gr15);border-right:1px solid var(--gr15);border-bottom:1px solid var(--gr15)}.flight-alert-btn[_ngcontent-%COMP%]{min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content}.flight-alert[_ngcontent-%COMP%]   .p-content[_ngcontent-%COMP%]{font-size:14px}@media screen and (max-width:800px){.flight-alert[_ngcontent-%COMP%]   .p-content[_ngcontent-%COMP%]{font-size:12px;line-height:14.4px}}.flight-alert[_ngcontent-%COMP%]   .fas.c-icon[_ngcontent-%COMP%]{font-size:18px}.flight-alert.red-solid[_ngcontent-%COMP%]{background:#ffe3dd;border-left-color:red}.flight-alert.red-solid[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .flight-alert.red-solid[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%], .flight-alert.red-solid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red}.flight-alert.red-white[_ngcontent-%COMP%]{background:var(--wh1);border-left-color:red}.flight-alert.red-white[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .flight-alert.red-white[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:red}.flight-alert.red-white[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.flight-alert.yellow-solid[_ngcontent-%COMP%]{background:#f6f2b1;border-left-color:#f9c22e}.flight-alert.yellow-solid[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:var(--bg6)}.flight-alert.yellow-solid[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:#f9c22e}.flight-alert.yellow-solid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.flight-alert.yellow-white[_ngcontent-%COMP%]{background:var(--wh1);border-left-color:#f9c22e}.flight-alert.yellow-white[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .flight-alert.yellow-white[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:#f9c22e}.flight-alert.yellow-white[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.flight-alert.green-solid[_ngcontent-%COMP%]{background:var(--sc-m2);border-left-color:var(--bg2)}.flight-alert.green-solid[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .flight-alert.green-solid[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:var(--bg2)}.flight-alert.green-solid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.flight-alert.green-white[_ngcontent-%COMP%]{background:var(--wh1);border-left-color:var(--bg2)}.flight-alert.green-white[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .flight-alert.green-white[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:var(--bg2)}.flight-alert.green-white[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.flight-alert.purple-solid[_ngcontent-%COMP%]{background:#f1e3ff;border-left-color:#402957}.flight-alert.purple-solid[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:var(--bg6)}.flight-alert.purple-solid[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:#402957}.flight-alert.purple-solid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.flight-alert.purple-white[_ngcontent-%COMP%]{background:var(--wh1);border-left-color:#402957}.flight-alert.purple-white[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .flight-alert.purple-white[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:#402957}.flight-alert.purple-white[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.flight-alert.dynamic-color[_ngcontent-%COMP%]{background:var(--wh1)}.flight-alert.dynamic-color[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.flight-alert[_ngcontent-%COMP%]   .cta-text[_ngcontent-%COMP%]{font-size:14px;font-weight:700;line-height:1.25;color:var(--bg4);border-bottom:1.5px solid;height:16.5px;display:block;text-decoration:none}@media screen and (max-width:800px){.flight-alert[_ngcontent-%COMP%]   .cta-text[_ngcontent-%COMP%]{font-size:12px;line-height:14.4px;height:auto}}.flight-alert[_ngcontent-%COMP%]   .custom-image[_ngcontent-%COMP%]{width:auto;height:16px;margin-right:10px}.flight-alert[_ngcontent-%COMP%]   .img-size-lg[_ngcontent-%COMP%]{margin:0;width:auto;height:54px}.flight-alert[_ngcontent-%COMP%]   .margin-lg-img[_ngcontent-%COMP%]{margin-left:90px}@media screen and (max-width:720px){.flight-alert[_ngcontent-%COMP%]   .margin-lg-img[_ngcontent-%COMP%]{margin-left:0}}.flight-alert-close[_ngcontent-%COMP%]{background:none;border:none;padding:0;position:absolute;right:15px;top:15px;cursor:pointer}.flight-alert-close[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{font-size:16px}.flight-alert-close.red[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:red}.flight-alert-close.green[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .flight-alert-close.yellow[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:var(--bg6)}.flight-alert-close.purple[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:#402957}.flight-alert[_ngcontent-%COMP%]   .default-title[_ngcontent-%COMP%]{color:var(--bg6)!important}.flight-alert[_ngcontent-%COMP%]   .cta-txt[_ngcontent-%COMP%]{color:var(--bg4);font-weight:700;font-size:14px;height:16px;display:inline-block!important;border-bottom:1.5px solid}@media screen and (max-width:720px){.flight-alert[_ngcontent-%COMP%]   .cta-txt[_ngcontent-%COMP%]{font-size:12px}}.flight-alert.cobrand-alert[_ngcontent-%COMP%]   .default-title[_ngcontent-%COMP%], .flight-alert.cobrand-alert[_ngcontent-%COMP%]   .p-content[_ngcontent-%COMP%]{font-size:12px;line-height:14px}.flight-alert.cobrand-alert[_ngcontent-%COMP%]   .p-content[_ngcontent-%COMP%]{margin-left:25px!important}.lower[_ngcontent-%COMP%]{font-size:12px;line-height:1.33}.btn-container[_ngcontent-%COMP%]{white-space:nowrap}.viva-btn[_ngcontent-%COMP%]{min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content}.mr-15[_ngcontent-%COMP%]{margin-right:15px}@media screen and (max-width:720px){.mobile-alert[_ngcontent-%COMP%]{border-radius:0;flex-direction:column!important}.mobile-alert[_ngcontent-%COMP%]   .p-content[_ngcontent-%COMP%]{margin-top:5px!important}}"]}),e})()},Q1FS:function(e,t,n){"use strict";var i=n("yx2s"),o=n("Xwq/"),r=n("zfKp"),s=n("9AGB"),a=n("n3uD");function c(e){if(e||(e=a.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}t.Observable=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i=this.operator,r=o.toSubscriber(e,t,n);if(r.add(i?i.call(r,this.source):this.source||a.config.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),a.config.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){a.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),i.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=c(t))((function(t,i){var o;o=n.subscribe((function(t){try{e(t)}catch(n){i(n),o&&o.unsubscribe()}}),i,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[r.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:s.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=c(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))},e.create=function(t){return new e(t)},e}()},Q1l4:function(e,t){e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},QSc6:function(e,t,n){"use strict";var i=n("0jNN"),o=n("sxOR"),r={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Date.prototype.toISOString,a={delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,serializeDate:function(e){return s.call(e)},skipNulls:!1,strictNullHandling:!1},c=function e(t,n,o,r,s,c,l,u,d,h,p,g){var f=t;if("function"==typeof l)f=l(n,f);else if(f instanceof Date)f=h(f);else if(null===f){if(r)return c&&!g?c(n,a.encoder):n;f=""}if("string"==typeof f||"number"==typeof f||"boolean"==typeof f||i.isBuffer(f))return c?[p(g?n:c(n,a.encoder))+"="+p(c(f,a.encoder))]:[p(n)+"="+p(String(f))];var m,b=[];if(void 0===f)return b;if(Array.isArray(l))m=l;else{var v=Object.keys(f);m=u?v.sort(u):v}for(var y=0;y<m.length;++y){var _=m[y];s&&null===f[_]||(b=Array.isArray(f)?b.concat(e(f[_],o(n,_),o,r,s,c,l,u,d,h,p,g)):b.concat(e(f[_],n+(d?"."+_:"["+_+"]"),o,r,s,c,l,u,d,h,p,g)))}return b};e.exports=function(e,t){var n=e,s=t?i.assign({},t):{};if(null!=s.encoder&&"function"!=typeof s.encoder)throw new TypeError("Encoder has to be a function.");var l=void 0===s.delimiter?a.delimiter:s.delimiter,u="boolean"==typeof s.strictNullHandling?s.strictNullHandling:a.strictNullHandling,d="boolean"==typeof s.skipNulls?s.skipNulls:a.skipNulls,h="boolean"==typeof s.encode?s.encode:a.encode,p="function"==typeof s.encoder?s.encoder:a.encoder,g="function"==typeof s.sort?s.sort:null,f=void 0!==s.allowDots&&s.allowDots,m="function"==typeof s.serializeDate?s.serializeDate:a.serializeDate,b="boolean"==typeof s.encodeValuesOnly?s.encodeValuesOnly:a.encodeValuesOnly;if(void 0===s.format)s.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,s.format))throw new TypeError("Unknown format option provided.");var v,y,_=o.formatters[s.format];"function"==typeof s.filter?n=(y=s.filter)("",n):Array.isArray(s.filter)&&(v=y=s.filter);var C=[];if("object"!=typeof n||null===n)return"";var S=r[s.arrayFormat in r?s.arrayFormat:"indices"in s?s.indices?"indices":"repeat":"indices"];v||(v=Object.keys(n)),g&&v.sort(g);for(var O=0;O<v.length;++O){var T=v[O];d&&null===n[T]||(C=C.concat(c(n[T],T,S,u,d,h?p:null,y,g,f,m,_,b)))}var w=C.join(l);return w.length>0?(!0===s.addQueryPrefix?"?":"")+w:""}},QcOe:function(e,t,n){var i=n("GoyQ"),o=n("6sVZ"),r=n("7Ix3"),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=o(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}},QkVE:function(e,t,n){var i=n("EpBk");e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},QqLw:function(e,t,n){var i=n("tadb"),o=n("ebwN"),r=n("HOxn"),s=n("yGk4"),a=n("Of+w"),c=n("NykK"),l=n("3Fdi"),u=l(i),d=l(o),h=l(r),p=l(s),g=l(a),f=c;(i&&"[object DataView]"!=f(new i(new ArrayBuffer(1)))||o&&"[object Map]"!=f(new o)||r&&"[object Promise]"!=f(r.resolve())||s&&"[object Set]"!=f(new s)||a&&"[object WeakMap]"!=f(new a))&&(f=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,i=n?l(n):"";if(i)switch(i){case u:return"[object DataView]";case d:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case g:return"[object WeakMap]"}return t}),e.exports=f},Qyje:function(e,t,n){"use strict";var i=n("QSc6"),o=n("nmq7"),r=n("sxOR");e.exports={formats:r,parse:o,stringify:i}},R0Ic:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return p})),n.d(t,"n",(function(){return s})),n.d(t,"o",(function(){return f})),n.d(t,"p",(function(){return y})),n.d(t,"q",(function(){return _}));class i{}class o{}const r="*";function s(e,t){return{type:7,name:e,definitions:t,options:{}}}function a(e,t=null){return{type:4,styles:t,timings:e}}function c(e,t=null){return{type:3,steps:e,options:t}}function l(e,t=null){return{type:2,steps:e,options:t}}function u(e){return{type:6,styles:e,offset:null}}function d(e,t,n){return{type:0,name:e,styles:t,options:n}}function h(e){return{type:5,steps:e}}function p(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function g(e,t=null){return{type:8,animation:e,options:t}}function f(e,t=null){return{type:10,animation:e,options:t}}function m(e,t,n=null){return{type:11,selector:e,animation:t,options:n}}function b(e){Promise.resolve(null).then(e)}class v{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){b(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class y{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,i=0;const o=this.players.length;0==o?b(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==o&&this._onFinish()}),e.onDestroy(()=>{++n==o&&this._onDestroy()}),e.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){let e=0;return this.players.forEach(t=>{const n=t.getPosition();e=Math.min(n,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}const _="!"},RBZv:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("mrSG"),o=n("/Yn+"),r=n("vbKG"),s=n("fXoL"),a=n("LYOT");const c={renderNode:{[r.INLINES.HYPERLINK]:(e,t)=>`<a target="_blank" rel='noopener noreferrer' href="${e.data.uri}">${t(e.content)}</a>`,[r.BLOCKS.PARAGRAPH]:(e,t)=>""+t(e.content).replace(/\n/g,"<br>"),[r.BLOCKS.UL_LIST]:(e,t)=>`<ul class="content-modules-ul-list">${t(e.content)}</ul>`}};let l=(()=>{class e{constructor(e){this.contentful=e}getPage(e,t){return Object(i.a)(this,void 0,void 0,(function*(){let n=null;const i=yield this.contentful.getEntries({content_type:"page","fields.slugTree.sys.contentType.sys.id":"slug","fields.slugTree.fields.slug":e,include:10,select:["sys","fields.slugTree","fields.title","fields.behavior","fields.breadcrumbs","fields.redirectLink","fields.permanentRedirect","fields.modules","fields.jsonld","fields.metaTags","fields.openGraph","fields.hreflang","fields.canonicalTag"].join(",")},t);return i.items.length>0&&(n=i.items[0]),n}))}richTextToHtmlString(e,t){const n=t||c;return Object(o.documentToHtmlString)(e,n)}getPageSlug(e,t){return Object(i.a)(this,void 0,void 0,(function*(){let n=null;const i=yield this.contentful.getEntries({content_type:"slug","fields.slug":e,include:7,select:["fields.slug","fields.title","fields.parentSlug"].join(",")},t);return i.items.length>0&&(n=i.items[0]),n}))}getPageSlugById(e,t){return Object(i.a)(this,void 0,void 0,(function*(){let n=null;const i=yield this.contentful.getEntries({content_type:"slug","sys.id":e,include:7,select:["fields.slug","fields.title","fields.parentSlug"].join(",")},t);return i.items.length>0&&(n=i.items[0]),n}))}}return e.\u0275fac=function(t){return new(t||e)(s.dc(a.a))},e.\u0275prov=s.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},RJ73:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"i",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d}));class i extends class{}{}class o extends class{}{}var r=function(e){return e.AIRPORT="Airport",e.BUS_STATION="BusStation",e}({}),s=function(e){return e.REGULAR="Regular",e.CHARTER="Charter",e.PART_CHARTER="PartCharter",e.MAAC="MAAC",e}({}),a=function(e){return e.AIR="Air",e.BUS="Bus",e.TRAIN="Train",e.MULTIMODAL="Multimodal",e}({}),c=function(e){return e.NONSTOP="NonStop",e.DIRECT="Direct",e.CONNECTING="Connecting",e.OTHER="Other",e}({}),l=function(e){return e[e.NAME=0]="NAME",e[e.CODE=1]="CODE",e[e.ALIAS=2]="ALIAS",e[e.COUNTRY=3]="COUNTRY",e}({});const u=[{type:r.AIRPORT,code:"@CMX",name:"Mexico City (All)",countryCode:"MX",destinations:[],productType:s.MAAC,timeZoneCode:null,maac:{areaCodes:["MEX","NLU","TLC"],searchCode:"MEX",lowfareConfig:{}}},{type:r.AIRPORT,code:"@QRR",name:"Riviera Maya",countryCode:"MX",destinations:[],productType:s.MAAC,timeZoneCode:null,maac:{areaCodes:["CUN","TUY","CZM"],searchCode:"CUN",lowfareConfig:{}}}],d=[{code:"@CMX",name:"Mexico City (All)",countryCode:"MX",transportationType:a.AIR,productType:s.MAAC,connectingStations:[],travelType:null,maac:{areaCodes:["MEX","NLU","TLC"],searchCode:"MEX",lowfareConfig:{}}},{code:"@QRR",name:"Riviera Maya",countryCode:"MX",transportationType:a.AIR,productType:s.MAAC,connectingStations:[],travelType:null,maac:{areaCodes:["CUN","TUY","CZM"],searchCode:"CUN",lowfareConfig:{}}}]},RK48:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("R0Ic");const o={openSidebar:Object(i.n)("openSidebar",[Object(i.k)("false",Object(i.l)({transform:"translateX(100%)"})),Object(i.k)("true",Object(i.l)({transform:"translateX(0)"})),Object(i.m)("true <=> false",[Object(i.e)(".3s cubic-bezier(0.165, 0.84, 0.44, 1)")])])}},RKpE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),o=n("ofXK");let r=(()=>{class e{constructor(e){this.document=e,this.showModal$=new i.p}openModal(){this.showModal$.emit(!0),this.document.body.classList.add("open-modal")}closeModal(){this.showModal$.emit(!1),this.document.body.classList.remove("open-modal")}}return e.\u0275fac=function(t){return new(t||e)(i.dc(o.e))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},RRjW:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));class i{}var o=function(e){return e.SUCCESS="SUCCESS",e.WARNING="WARNING",e.INVALID_PARAMETER="INVALID_PARAMETER",e.ERROR="ERROR",e.UNAUTHORIZED="UNAUTHORIZED",e}({}),r=function(e){return e.CONTINUE="CONTINUE",e.RETRY="RETRY",e.CANCEL="CANCEL",e.REFRESH_BASKET="REFRESH_BASKET",e}({}),s=function(e){return e.UNKNOWN_DOT_REZ_API_ERROR="UNKNOWN_DOT_REZ_API_ERROR",e.INVALID_CHANNEL_CODE="INVALID_CHANNEL_CODE",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.FEATURE_DISABLED="FEATURE_DISABLED",e.CANNOT_SELL_SSR="CANNOT_SELL_SSR",e.BOOKING_WAS_MODIFIED="BOOKING_WAS_MODIFIED",e.GENERIC_CONCURRENCY_ERROR="GENERIC_CONCURRENCY_ERROR",e.UNKNOWN_THIRD_PARTY_API_ERROR="UNKNOWN_THIRD_PARTY_API_ERROR",e.CLASS_NOT_AVAILABLE="CLASS_NOT_AVAILABLE",e.NO_PRODUCT_CLASS_FOR_LOW_FARE="NO_PRODUCT_CLASS_FOR_LOW_FARE",e.BASKET_EXPIRED="BASKET_EXPIRED",e.BASKET_PASSIVE="BASKET_PASSIVE",e.BASKET_ACTIVE="BASKET_ACTIVE",e.BASKET_FLOW_TYPE_NOT_ALLOWED="BASKET_FLOW_TYPE_NOT_ALLOWED",e.NO_JOURNEYS_INPUT_IN_BASKET="NO_JOURNEYS_INPUT_IN_BASKET",e.BASKET_BOOKING_COMMITTED="BASKET_BOOKING_COMMITTED",e.CUSTOM_FIELD_UPDATE_FAILED="CUSTOM_FIELD_UPDATE_FAILED",e.CHANGE_SEATS_FAILED="CHANGE_SEATS_FAILED",e.GENERIC_UNAUTHORIZED_ERROR="GENERIC_UNAUTHORIZED_ERROR",e.BASKET_ACCESS_NEEDS_USER="BASKET_ACCESS_NEEDS_USER",e.ACCESS_NEEDS_USER="ACCESS_NEEDS_USER",e.GENERIC_VALIDATION_ERROR="GENERIC_VALIDATION_ERROR",e.LOW_FARES_MAX_DAYS="LOW_FARES_MAX_DAYS",e.ROUTE_NOT_FOUND="ROUTE_NOT_FOUND",e.SERVICE_LIMIT_EXCEEDED="SERVICE_LIMIT_EXCEEDED",e.CUSTOM_FIELD_PATH_DOES_NOT_EXIST="CUSTOM_FIELD_PATH_DOES_NOT_EXIST",e.INVALID_BASKET_ID="INVALID_BASKET_ID",e.ACCOUNT_TYPE_UNKNOWN="ACCOUNT_TYPE_UNKNOWN",e.ACCOUNT_TYPE_DISABLED="ACCOUNT_TYPE_DISABLED",e.ACCOUNT_CREDENTIALS_INVALID="ACCOUNT_CREDENTIALS_INVALID",e.ACCOUNT_LOCKED="ACCOUNT_LOCKED",e.ACCOUNT_NOT_ACTIVE="ACCOUNT_NOT_ACTIVE",e.ACCOUNT_PASSWORD_EXPIRED="ACCOUNT_PASSWORD_EXPIRED",e.ACCOUNT_USER_INVALID="ACCOUNT_USER_INVALID",e.ACCOUNT_AGENT_INVALID="ACCOUNT_AGENT_INVALID",e.NO_TRAVEL_IN_BASKET="NO_TRAVEL_IN_BASKET",e.PAYMENT_NOT_AVAILABLE="PAYMENT_NOT_AVAILABLE",e.PAYMENT_PRE_BOOKING_ERROR="PAYMENT_PRE_BOOKING_ERROR",e.PAYMENT_COMMIT_BOOKING_ERROR="PAYMENT_COMMIT_BOOKING_ERROR",e.NO_PAYMENT_IN_BASKET="NO_PAYMENT_IN_BASKET",e.NO_FARE_APPLIED="NO_FARE_APPLIED",e.UNEXPECTED_COUNT_OF_PENDING_PAYMENTS="UNEXPECTED_COUNT_OF_PENDING_PAYMENTS",e.NO_PENDING_PAYMENTS="NO_PENDING_PAYMENTS",e.PENDING_PAYMENT_STATUS="PENDING_PAYMENT_STATUS",e.PAYMENT_PROCESS_INCORRECT_BOOKING_STATUS="PAYMENT_PROCESS_INCORRECT_BOOKING_STATUS",e.PAYMENT_PROCESS_INCORRECT_PASSENGER_NAMES="PAYMENT_PROCESS_INCORRECT_PASSENGER_NAMES",e.PAYMENT_PROCESS_INCORRECT_CURRENCY_CODE="PAYMENT_PROCESS_INCORRECT_CURRENCY_CODE",e.PAYMENT_PROCESS_INCORRECT_TOTAL_TO_PAY_AMOUNT="PAYMENT_PROCESS_INCORRECT_TOTAL_TO_PAY_AMOUNT",e.PAYMENT_PROCESS_NO_EXCHANGE_RATE="PAYMENT_PROCESS_NO_EXCHANGE_RATE",e.PAYMENT_PROCESS_EXCHANGED_AMOUNT_DO_NOT_MATCH="PAYMENT_PROCESS_EXCHANGED_AMOUNT_DO_NOT_MATCH",e.PAYMENT_PROCESS_CARD_PAYMENTS_LIMIT_HAS_BEEN_REACHED="PAYMENT_PROCESS_CARD_PAYMENTS_LIMIT_HAS_BEEN_REACHED",e.PAYMENT_PROCESS_TRANSACTION_ID_MISMATCH="PAYMENT_PROCESS_TRANSACTION_ID_MISMATCH",e.PAYMENT_PROCESS_FAILED_TO_ADD_PAYMENT="PAYMENT_PROCESS_FAILED_TO_ADD_PAYMENT",e.PAYMENT_PROCESS_SCOTIA_POINTS_ERROR="PAYMENT_PROCESS_SCOTIA_POINTS_ERROR",e.PAYMENT_SELECT_METHOD_SCOTIA="PAYMENT_SELECT_METHOD_SCOTIA",e.PAYMENT_PROCESS_SCOTIA_POINTS_AMOUNT="PAYMENT_PROCESS_SCOTIA_POINTS_AMOUNT",e.PAYMENT_PROCESS_SCOTIA_POINTS_AUTHORIZATION="PAYMENT_PROCESS_SCOTIA_POINTS_AUTHORIZATION",e.PAYMENT_VOUCHER_INVALID="PAYMENT_VOUCHER_INVALID",e.PAYMENT_VOUCHER_NO_AVAILABLE_AMOUNT="PAYMENT_VOUCHER_NO_AVAILABLE_AMOUNT",e.PAYMENT_VOUCHER_NOT_REDEEMABLE="PAYMENT_VOUCHER_NOT_REDEEMABLE",e.PAYMENT_VOUCHER_CURRENCY_MISMATCH="PAYMENT_VOUCHER_CURRENCY_MISMATCH",e.PAYMENT_VOUCHER_ALREADY_ADDED="PAYMENT_VOUCHER_ALREADY_ADDED",e.PAYMENT_VOUCHER_NOT_ADDED="PAYMENT_VOUCHER_NOT_ADDED",e.PAYMENT_VOUCHER_ADD_FAILED="PAYMENT_VOUCHER_ADD_FAILED",e.PAYMENT_VOUCHER_DELETE_FAILED="PAYMENT_VOUCHER_DELETE_FAILED",e.POINTS_REWARDS_OTP_VALIDATION_FAILED="POINTS_REWARDS_OTP_VALIDATION_FAILED",e.DOTERS_OTP_VALIDATION_FAILED="DOTERS_OTP_VALIDATION_FAILED",e.INVALID_BOOKING_PARAMS="INVALID_BOOKING_PARAMS",e.PRE_ADD_TUA_FAILED="PRE_ADD_TUA_FAILED",e.CHECKIN_NOT_AVAILABLE="CHECKIN_NOT_AVAILABLE",e.RESET_PASSWORD_EMAIL_NOT_SENT="RESET_PASSWORD_EMAIL_NOT_SENT",e.RESET_PASSWORD_VALIDATION_ERROR="RESET_PASSWORD_VALIDATION_ERROR",e.RESET_PASSWORD_HISTORY="RESET_PASSWORD_HISTORY",e.RESET_PASSWORD_POLICY="RESET_PASSWORD_POLICY",e.SCOTIA_BANK_ERROR="SCOTIA_BANK_ERROR",e.PAYMENT_PROCESS_PAYMENT_SCOTIA_FREE_SSRS="PAYMENT_PROCESS_PAYMENT_SCOTIA_FREE_SSRS",e.REGISTER_DISABLED="REGISTER_DISABLED",e.REGISTER_EMAIL_ALREADY_EXISTS="REGISTER_EMAIL_ALREADY_EXISTS",e.REGISTER_INVALID_PASSWORD="REGISTER_INVALID_PASSWORD",e.ACTIVATE_ACCOUNT_INVALID_INPUT="ACTIVATE_ACCOUNT_INVALID_INPUT",e.TRIP_DO_NOT_EXIST="TRIP_DO_NOT_EXIST",e.TRIP_ALREADY_EXIST="TRIP_ALREADY_EXIST",e.COULD_NOT_CHANGE_SEAT="COULD_NOT_CHANGE_SEAT",e.PAYMENT_PROCESS_DUPLICATE_BOOKING="PAYMENT_PROCESS_DUPLICATE_BOOKING",e.PAYMENT_PROCESS_TIMEOUT_DURING_ADDING_PAYMENT="PAYMENT_PROCESS_TIMEOUT_DURING_ADDING_PAYMENT",e.ANY_FLIGHT_NEEDS_TO_BE_IN_FUTURE="ANY_FLIGHT_NEEDS_TO_BE_IN_FUTURE",e.INVALID_USERNAME_OR_PASSWORD="INVALID_USERNAME_OR_PASSWORD",e.POINTS_INSUFFICIENT_BALANCE="POINTS_INSUFFICIENT_BALANCE",e.EXTERNAL_REFRESH_TOKEN_INVALID="EXTERNAL_REFRESH_TOKEN_INVALID",e.CONNECTION_ERROR="CONNECTION_ERROR",e.WAF_BLOCKED_ERROR="WAF_BLOCKED_ERROR",e.UNKNOWN_DOT_REZ_API_ERROR_AGENT_NOT_ALLOWED="UNKNOWN_DOT_REZ_API_ERROR_AGENT_NOT_ALLOWED",e.CHECKIN_SEATS_ASSIGNMENT_FAILED="CHECKIN_SEATS_ASSIGNMENT_FAILED",e.INVALID_OTP="INVALID_OTP",e.UNKNOWN_OTPSESSION="UNKNOWN_OTPSESSION",e.MAXRETRIES_OTP="MAXRETRIES_OTP",e}({})},RbsG:function(e,t,n){"use strict";n.d(t,"o",(function(){return o})),n.d(t,"k",(function(){return r})),n.d(t,"m",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"j",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"l",(function(){return g})),n.d(t,"i",(function(){return f})),n.d(t,"n",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return v}));var i=n("3E8+"),o=function(e){return e.Monthly="Monthly",e.Annual="Annual",e}({}),r=function(e){return e.Agency="Agency",e.Default="Default",e.Staff="Staff",e.Customer="Customer",e.Enterprise="Enterprise",e.Anonymous="Anonymous",e}({}),s=function(e){return e.UnderPaid="UnderPaid",e.PaidInFull="PaidInFull",e.OverPaid="OverPaid",e}({}),a=function(e){return e.Pending="Pending",e.Paid="Paid",e.OnHold="OnHold",e.PendingPayment="PendingPayment",e.Cancelled="Cancelled",e.Closed="Closed",e.Archived="Archived",e}({}),c=function(e){return e.Normal="Normal",e.Closed="Closed",e.Canceled="Canceled",e.Suspended="Suspended",e.ClosedPending="ClosedPending",e.BlockAllActivities="BlockAllActivities",e.Mishap="Mishap",e}({}),l=function(e){return e.Primary="Primary",e.Other="Other",e.Destination="Destination",e.Home="Home",e.Business="Business",e.Emergency="Emergency",e}({}),u=i.d,d=function(e){return e.Unknown="Unknown",e.Pending="Pending",e.PendingCustomerAction="PendingCustomerAction",e.Approved="Approved",e.Declined="Declined",e}({}),h=function(e){return e.Included="Included",e.Paid="Paid",e.NotPaid="NotPaid",e.NotAdded="NotAdded",e.None="None",e.PreAdded="PreAdded",e}({}),p=function(e){return e.DisplayBooking="DisplayBooking",e.DisplayTotalAmount="DisplayTotalAmount",e.DisplayPayments="DisplayPayments",e.DisplayPassengers="DisplayPassengers",e.ChangeJourneys="ChangeJourneys",e.ChangeJourneysAndRoute="ChangeJourneysAndRoute",e.ChangeJourneysFlyAhead="ChangeJourneysFlyAhead",e.FlyAheadCDMX="FlyAheadCDMX",e.ChangeServices="ChangeServices",e.ChangeSeats="ChangeSeats",e.ChangeBaggage="ChangeBaggage",e.ChangePassengerNames="ChangePassengerNames",e.PayTua="PayTua",e.AddArpel="AddArpel",e.ProcessPayment="ProcessPayment",e.DisplayCBX="DisplayCBX",e.DisplayBusTicket="DisplayBusTicket",e.DisplayPlayCodes="DisplayPlayCodes",e.CheckIn="Checkin",e.UndoCheckin="UndoCheckin",e.NoIropRedirect="NoIropRedirect",e.NoIropHelpCenterAccess="NoIropHelpCenterAccess",e.BuyBack="BuyBack",e.IropCancellation="IropCancellation",e.IropReimbursementPending="IropReimbursementPending",e.ChangeHotel="ChangeHotel",e.DotersRedemptionDisplay="DotersRedemptionDisplay",e.HSBCCobrandBenefits="HSBCCobrandBenefits",e.UpsellZero="UpsellZero",e.UpsellLight="UpsellLight",e.FixedCompensationCard="FixedCompensationCard",e.InsurancesStatus="InsurancesStatus",e.ProcessIropCompensation="ProcessIropCompensation",e.IropCompensation="IropCompensation",e.KeepFlightSelected="KeepFlightSelected",e.ChangeSeatsIrop="ChangeSeatsIrop",e.DisplayCustomerCancellation="DisplayCustomerCancellation",e.Binding="Binding",e.SoftBinding="SoftBinding",e.Peer2Peer="Peer2Peer",e.SellBack="SellBack",e.MarketplacePublished="MarketplacePublished",e}({}),g=function(e){return e.CheckinBlockedBookingIsNotPaid="CheckinBlockedBookingIsNotPaid",e.CheckinBlockedForAirport="CheckinBlockedForAirport",e.CheckinClosedTooEarly="CheckinClosedTooEarly",e.CheckinClosedTooLate="CheckinClosedTooLate",e.CheckinBlockedInReservationSystem="CheckinBlockedInReservationSystem",e}({}),f=function(e){return e.Pending="Pending",e.Committed="Committed",e}({}),m=function(e){return e.LoginRequired="LoginRequired",e.LoginRequiredStaff="LoginRequiredStaff",e.LoginRequiredAgency="LoginRequiredAgency",e.LoginRequiredEnterprise="LoginRequiredEnterprise",e}({}),b=function(e){return e.Pending="Pending",e.Processing="Processing",e.Success="Success",e.Failure="Failure",e}({}),v=function(e){return e.Normal="Normal",e.Delayed="Delayed",e.TimeChange="TimeChange",e.Canceled="Canceled",e.ScheduleChange="ScheduleChange",e}({})},"Rn+g":function(e,t,n){"use strict";var i=n("LYNF");e.exports=function(e,t,n){var o=n.config.validateStatus;!o||o(n.status)?e(n):t(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},SXaI:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("fXoL"),o=n("XNiG"),r=n("AytR"),s=n("EcEN"),a=n("ofXK"),c=n("lJxs"),l=n("CJ36"),u=n("tyNb"),d=n("tk/3");let h=(()=>{class e{constructor(e,t,n,i){this.localeSvc=e,this.platformId=t,this.route=n,this.http=i,this.$onPopOverToggle=new o.a}emitPopOverChange(e){this.$onPopOverToggle.next(e)}get onPopOverToggle$(){return this.$onPopOverToggle.asObservable()}goToSSOPage(e){const t=new URL(r.f),n={clientId:"viva-web",clientSecret:r.d,language:this.localeSvc.getAppLocale(),redirectUri:this.getRedirectUri(),state:Object(s.v4)().replace("-","").slice(0,10)};e&&(n.go_to_page=e),this.saveSSOState(n.state);const i=new URLSearchParams(n);t.search=i.toString(),location.href=t.toString()}saveSSOState(e){Object(a.L)(this.platformId)&&sessionStorage.setItem("viva-user-sso-state",e)}getRedirectUri(){const e=this.route.snapshot.queryParamMap;return e.has("redirectUrl")&&e.has("loginRedirect")?e.get("redirectUrl"):location.href}checkState(e){return!!Object(a.L)(this.platformId)&&sessionStorage.getItem("viva-user-sso-state")===e}hasAllParams(e){return["activation_code","sub","expires_in","token_type","state"].every(t=>e[t])}doLoginExternal(e){return this.http.post(r.g.ACCOUNT_LOGIN_EXTERNAL_URL,e).pipe(Object(c.a)(e=>e.data))}doLogoutExternal(){const e=localStorage.getItem("viva-user-esid"),t=btoa("viva-web:"+r.d);return this.http.post(r.e,{clientId:"viva-web",sessionId:e},{params:{external:"true"},headers:{"X-Channel":"web",Authorization:"Basic "+t}})}saveSessionIdExternal(e){Object(a.L)(this.platformId)&&e&&localStorage.setItem("viva-user-esid",e)}deleteSessionIdExternal(){Object(a.L)(this.platformId)&&localStorage.removeItem("viva-user-esid")}}return e.\u0275fac=function(t){return new(t||e)(i.dc(l.a),i.dc(i.G),i.dc(u.a),i.dc(d.b))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},SeVD:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("ngJS"),o=n("NJ4a"),r=n("Lhse"),s=n("kJWO"),a=n("I55L"),c=n("c2HN"),l=n("XoHu");const u=e=>{if(e&&"function"==typeof e[s.a])return u=e,e=>{const t=u[s.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(a.a)(e))return Object(i.a)(e);if(Object(c.a)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o.a),e);if(e&&"function"==typeof e[r.a])return t=e,e=>{const n=t[r.a]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=Object(l.a)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,u}},SfRM:function(e,t,n){var i=n("YESw");e.exports=function(){this.__data__=i?i(null):{},this.size=0}},SntB:function(e,t,n){"use strict";var i=n("xTJ+");e.exports=function(e,t){t=t||{};var n={},o=["url","method","params","data"],r=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];i.forEach(o,(function(e){void 0!==t[e]&&(n[e]=t[e])})),i.forEach(r,(function(o){i.isObject(t[o])?n[o]=i.deepMerge(e[o],t[o]):void 0!==t[o]?n[o]=t[o]:i.isObject(e[o])?n[o]=i.deepMerge(e[o]):void 0!==e[o]&&(n[o]=e[o])})),i.forEach(s,(function(i){void 0!==t[i]?n[i]=t[i]:void 0!==e[i]&&(n[i]=e[i])}));var a=o.concat(r).concat(s),c=Object.keys(t).filter((function(e){return-1===a.indexOf(e)}));return i.forEach(c,(function(i){void 0!==t[i]?n[i]=t[i]:void 0!==e[i]&&(n[i]=e[i])})),n}},SpAZ:function(e,t,n){"use strict";function i(e){return e}n.d(t,"a",(function(){return i}))},T6cn:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ofXK"),o=n("XNiG"),r=n("nnIW"),s=n("fXoL");let a=(()=>{class e{constructor(e){this.document=e,this.$showSidebar=new o.a,this.$manageExtraCharges=new o.a}openSidebar(){this.$showSidebar.next(!0),this.document.body.classList.add("open-modal")}closeSidebar(){this.$showSidebar.next(!1),this.document.body.classList.remove("open-modal")}get showSidebar$(){return this.$showSidebar.asObservable()}get manageExtraCharges$(){return this.$manageExtraCharges.asObservable()}setExtraCharges(e,t){this.$manageExtraCharges.next({action:r.f.ADD,key:e,charges:t})}removeExtraCharges(e){this.$manageExtraCharges.next({action:r.f.DELETE,key:e})}}return e.\u0275fac=function(t){return new(t||e)(s.dc(i.e))},e.\u0275prov=s.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},TUgU:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("mrSG"),o=n("fXoL"),r=n("LRne"),s=n("AytR"),a=n("ofXK"),c=n("LYOT"),l=n("CJ36");let u=(()=>{class e{constructor(e,t,n){this.platformId=e,this.contentful=t,this.localeService=n,this.COPY_LIMIT=1e3,this.translationsMap=new Map}load(){return new Promise((e,t)=>{if(this.loadMapFromLocalStorage(this.localeService.getAppLocale()))e();else try{this.getTranslations().then(()=>{e()})}catch(n){t(n)}})}getTranslations(){return Object(i.a)(this,void 0,void 0,(function*(){const e=yield this.getTranslationsFromCMS();this.addTranslationsToMap(e)}))}getTranslationsFromCMS(){return Object(i.a)(this,void 0,void 0,(function*(){const e=[],t=yield this.contentful.getEntries({content_type:"copy",select:"sys.id,fields",limit:this.COPY_LIMIT});if(e.push(...t.items.map(e=>e.fields)),t.total>this.COPY_LIMIT){const n=t.total;let i=this.COPY_LIMIT,o=1;do{const t=yield this.contentful.getEntries({content_type:"copy",select:"sys.id,fields",limit:this.COPY_LIMIT,skip:o*this.COPY_LIMIT});e.push(...t.items.map(e=>e.fields)),o++,i=o*this.COPY_LIMIT}while(i<n)}return e}))}addTranslationsToMap(e){e&&e.length&&e.forEach(e=>this.addTranslation(e)),s.g.contentful.services.translationCache&&this.saveTranslations()}getEntry(e){let t=e||"";const n=this.getCopyDeckEntry(e);return s.g.production||n&&!n.text&&console.warn('CMSTranslation: CopyId for "'+e+'" is of wrong type. Expected type to be "Text".'),t=(null==n?void 0:n.text)||t,t}getRichTextEntry(e){const t=this.getCopyDeckEntry(e);return s.g.production||t&&!t.richText&&console.warn('CMSTranslation: CopyId for "'+e+'" is of wrong type. Expected type to be "Rich Text".'),(null==t?void 0:t.richText)||this.getGenericRichTextStructure(e)}getHTMLTextEntry(e){let t=e||"";const n=this.getCopyDeckEntry(e);return s.g.production||n&&!n.html&&console.warn('CMSTranslation: CopyId for "'+e+'" is of wrong type. Expected type to be "LongText (HTML)".'),t=(null==n?void 0:n.html)||t,t}getCopyDeckEntry(e){const t=this.translationsMap.get(e);return t||s.g.production||console.warn('CMSTranslation: CopyId for "'+e+'" was not found.'),t}getEntry$(e){const t=this.getEntry(e);return Object(r.a)(t)}addTranslation(e){e&&e.copyId&&(e.text||e.richText||e.html)&&this.translationsMap.set(e.copyId,e)}saveTranslations(){const e=this.localeService.getAppLocale();this.saveMapToLocalStorage(e)}saveMapToLocalStorage(e){const t=Array.from(this.translationsMap.entries());Object(a.L)(this.platformId)&&localStorage.setItem(`viva-translation-[${e}]`,JSON.stringify(t))}loadMapFromLocalStorage(e){if(!s.g.contentful.services.translationCache)return s.g.production||console.warn("CMSTranslation cache disabled!"),!1;let t;if(Object(a.L)(this.platformId)&&(t=localStorage.getItem(`viva-translation-[${e}]`)),!t)return!1;try{return JSON.parse(t).forEach(e=>this.addTranslation(e[1])),!0}catch(n){return s.g.production||console.error("CMSTranslate:: Error loading entries from cache:",n),!1}}getGenericRichTextStructure(e){return{nodeType:"document",data:{},content:[{nodeType:"paragraph",content:[{nodeType:"text",value:e,marks:[],data:{}}],data:{},marks:[]}]}}}return e.\u0275fac=function(t){return new(t||e)(o.dc(o.G),o.dc(c.a),o.dc(l.a))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},TuWc:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("+tT9"),o=n("3kwf"),r=n("fXoL"),s=n("egL7");let a=(()=>{class e{constructor(e){this.gtmService=e}myTripAddBooking(e,t){this.gtmService.pushTag({event:"ev_profile_mytrips_add_booking",category:"profile",action:"mytrips_add_booking",label:t,reserve:{pnr:e}})}myTripRemoveBooking(e,t){this.gtmService.pushTag({event:"ev_profile_mytrips_remove_booking",category:"profile",action:"mytrips_remove_booking",label:t,reserve:{pnr:e}})}myTripCantFind(){this.gtmService.pushTag({event:"ev_ux_profile_mytrip_click_cant_find_mytrip",category:"ux_profile",action:"mytrip_click_cant_find_mytrip"})}boardClick(e){switch(e){case o.a.trips:this.boardMyTrips();break;case o.a.details:this.boardDetails();break;case o.a.vivafan:this.boardVivafan();break;case o.a.settings:this.boardSettings();break;case o.a.companions:this.boardCompanions();break;case o.a.payment_methods:this.boardPaymentMethods();break;case o.a.faceid:this.boardFaceRecognition();break;case o.a.doters:this.dotersCardClicked()}}boardMyTrips(){this.gtmService.pushTag({event:"ev_profile_board_click_mytrips",category:"profile",action:"board_click_mytrips"})}boardDetails(){this.gtmService.pushTag({event:"ev_profile_board_click_details",category:"profile",action:"board_click_details"})}boardVivafan(){this.gtmService.pushTag({event:"ev_profile_board_click_vivafan",category:"profile",action:"board_click_vivafan"})}boardSettings(){this.gtmService.pushTag({event:"ev_profile_board_click_settings",category:"profile",action:"board_click_settings"})}boardCompanions(){this.gtmService.pushTag({event:"ev_profile_board_click_companion",category:"profile",action:"board_click_companion"})}boardPaymentMethods(){this.gtmService.pushTag({event:"ev_profile_board_click_payment_methods",category:"profile",action:"board_click_payment_methods"})}boardFaceRecognition(){this.gtmService.pushTag({event:"ev_profile_board_click_face_id",category:"profile",action:"board_click_face_id"})}boardToggleVivacash(){this.gtmService.pushTag({event:"ev_profile_board_click_toggle_vivacash",category:"profile",action:"board_click_toggle_vivacash"})}boardSelectAvatar(e,t){this.gtmService.pushTag({event:"ev_profile_select_avatar",category:"profile",action:"select_avatar",label:e,avatar:{name:t}})}detailsPersonalInfo(e){e?this.detailsEditPersonalInfo():this.detailsPersonalInfoCancel()}detailsEditPersonalInfo(){this.gtmService.pushTag({event:"ev_profile_details_edit_personal_info",category:"profile",action:"details_edit_personal_info"})}detailsPersonalInfoCancel(){this.gtmService.pushTag({event:"ev_profile_details_edit_personal_info_click_cancel",category:"profile",action:"details_edit_personal_info_click_cancel"})}detailsClickSavePersonalInfo(e){e===i.a.PersonalDetails&&this.gtmService.pushTag({event:"ev_profile_details_edit_personal_info_click_save",category:"profile",action:"details_edit_personal_info_click_save"})}detailsSavePersonalInfo(e,t){e===i.a.PersonalDetails&&this.gtmService.pushTag({event:"ev_profile_details_save_personal_info",category:"profile",action:"details_save_personal_info",label:t})}detailsSpecialAssistance(e){e&&this.gtmService.pushTag({event:"ev_profile_details_contact_select_special_assistance",category:"profile",action:"details_contact_select_special_assistance"})}detailsContactInfo(e){e?this.detailsEditContactInfo():this.detailsCancelContactInfo()}detailsEditContactInfo(){this.gtmService.pushTag({event:"ev_profile_details_edit_contact_info",category:"profile",action:"details_edit_contact_info"})}detailsCancelContactInfo(){this.gtmService.pushTag({event:"ev_profile_details_edit_contact_info_click_cancel",category:"profile",action:"details_edit_contact_info_click_cancel"})}detailsSaveContactInfo(){this.gtmService.pushTag({event:"ev_profile_details_edit_contact_info_click_save",category:"profile",action:"details_edit_contact_info_click_save"})}detailsReceiveSms(e){var t;if(e.preferences&&Array.isArray(e.preferences.notificationPreferences)&&e.preferences.notificationPreferences.length>0){const n={event:"ev_profile_details_contact_info_receive_sms",category:"profile",action:"details_contact_info_receive_sms",label:null===(t=e.preferences.notificationPreferences[0])||void 0===t?void 0:t.value};this.gtmService.pushTag(n)}}detailsPhoneContact(){this.gtmService.pushTag({event:"ev_profile_details_edit_contact_info_add_phone",category:"profile",action:"details_edit_contact_info_add_phone"})}detailsTravelDocs(e){e?this.detailsEditTravelDocs():this.detailsTravelDocsCancel()}detailsEditTravelDocs(){this.gtmService.pushTag({event:"ev_profile_details_edit_travel_docs",category:"profile",action:"details_edit_travel_docs"})}detailsTravelDocsCancel(){this.gtmService.pushTag({event:"ev_profile_details_edit_traveldocs_click_cancel",category:"profile",action:"details_edit_traveldocs_click_cancel"})}detailsTravelDocsSave(e){const t=[];for(const n of e.travelDocuments)t.push(n.type);this.gtmService.pushTag({event:"ev_profile_details_edit_traveldocs_click_save",category:"profile",action:"details_edit_traveldocs_click_save",label:t})}vivafanSubscribe(){this.gtmService.pushTag({event:"ev_profile_vivafan_click_subscribe",category:"profile",action:"vivafan_click_subscribe"})}vivafanSeeMore(){this.gtmService.pushTag({event:"ev_ux_profile_click_see_more",category:"ux_profile_vivafan",action:"click_see_more"})}settingsPassword(e){e?this.settingsChangePassword():this.settingsCancelChangePassword()}settingsChangePassword(){this.gtmService.pushTag({event:"ev_profile_settings_change_password",category:"profile",action:"settings_change_password"})}settingsCancelChangePassword(){this.gtmService.pushTag({event:"ev_profile_settings_change_password_click_cancel",category:"profile",action:"settings_change_password_click_cancel"})}settingsValidateChangePassword(e){this.gtmService.pushTag({event:"ev_profile_settings_change_password_click_validate",category:"profile",action:"settings_change_password_click_validate",label:e})}settingsForgotPassword(){this.gtmService.pushTag({event:"ev_profile_settings_forgot_password",category:"profile",action:"settings_forgot_password"})}settingsRecoverPassword(e){e||this.gtmService.pushTag({event:"ev_profile_settings_recover_password",category:"profile",action:"settings_recover_password"})}settingsPasswordResend(){this.gtmService.pushTag({event:"ev_profile_settings_recover_password_resend",category:"profile",action:"settings_recover_password_resend"})}loginClickRecoverPassword(){this.gtmService.pushTag({event:"ev_profile_settings_recover_password",category:"profile",action:"login_click_recover_password"})}cancelRecoverPassword(){this.gtmService.pushTag({event:"ev_profile_settings_recover_password",category:"profile",action:"cancel_recover_password_process"})}settingsConfig(e){e?this.settingsEditConfig():this.settingsEditConfigCancel()}settingsEditConfig(){this.gtmService.pushTag({event:"ev_profile_settings_edit_config",category:"profile",action:"settings_edit_config"})}settingsEditConfigCancel(){this.gtmService.pushTag({event:"ev_profile_settings_change_config_click_cancel",category:"profile",action:"settings_change_config_click_cancel"})}settingsConfigSave(){this.gtmService.pushTag({event:"ev_profile_settings_change_config_click_save",category:"profile",action:"settings_change_config_click_save"})}settingsReceiveOffers(e){this.gtmService.pushTag({event:"ev_profile_settings_config_receive_offers",category:"profile",action:"settings_config_receive_offers",label:e})}settingsCurrency(e){this.gtmService.pushTag({event:"ev_profile_settings_change_config_change_currency",category:"profile",action:"settings_change_config_change_currency",label:e})}settingsLanguage(e){this.gtmService.pushTag({event:"ev_profile_settings_change_config_change_language",category:"profile",action:"settings_change_config_change_language",label:e})}companionsNoCompanions(){this.gtmService.pushTag({event:"ev_profile_companions_click_add_companions",category:"profile",action:"settings_companions_click_add_companions"})}companionsTravelDocs(e){e&&this.gtmService.pushTag({event:"ev_ux_profile_companions_toggle_travel_docs",category:"ux_profile",action:"companions_toggle_travel_docs"})}companionsSave(){this.gtmService.pushTag({event:"ev_profile_companions_save_companions",category:"profile",action:"companions_add_companions"})}companionsEdit(){this.gtmService.pushTag({event:"ev_profile_companions_edit_companion",category:"profile",action:"companions_edit_companion"})}companionsNewPassenger(){this.gtmService.pushTag({event:"ev_profile_companions_add_new_passenger",category:"profile",action:"companions_add_new_passenger"})}companionsRemove(){this.gtmService.pushTag({event:"ev_profile_companions_click_remove_companions",category:"profile",action:"companions_click_remove_companions"})}companionsRemoveConfirm(){this.gtmService.pushTag({event:"ev_profile_companions_remove_companions",category:"profile",action:"companions_remove_companions"})}vivaCashRecharge(){this.gtmService.pushTag({event:"ev_profile_payment_methods_vivacash_recharge",category:"profile",action:"payment_methods_vivacash_recharge"})}vivaCashGenerateReference(e,t){this.gtmService.pushTag({event:"ev_profile_payment_methods_vivacash_generate_reference",category:"profile",action:"payment_methods_vivacash_generate_reference",label:e,reference:{amount:e,currency_code:t}})}vivaCashViewReference(){this.gtmService.pushTag({event:"ev_profile_payment_method_vivacash_view_reference",category:"profile",action:"payment_method_vivacash_view_reference"})}vivaCashDownloadReference(){this.gtmService.pushTag({event:"ev_profile_payment_method_vivacash_download_reference",category:"profile",action:"payment_method_vivacash_download_reference"})}vivaCashEditReference(){this.gtmService.pushTag({event:"ev_profile_payment_method_vivacash_edit_reference",category:"profile",action:"payment_method_vivacash_edit_reference"})}vivaCashToggle(){this.gtmService.pushTag({event:"ev_ux_profile_vivacash_select_toggle",category:"ux_profile",action:"vivacash_select_toggle"})}vivaCashTerms(){this.gtmService.pushTag({event:"ev_ux_profile_vivacash_accept_terms",category:"ux_profile",action:"vivacash_accept_terms"})}vivaCashSeeMore(){this.gtmService.pushTag({event:"ev_ux_profile_click_see_more_vivacash",category:"ux_profile_vivacash",action:"click_see_more"})}faceIdPrivacy(){this.gtmService.pushTag({event:"ev_face_id",category:"face_id",action:"ux_notice_privacy"})}faceIdEditInformation(){this.gtmService.pushTag({event:"ev_face_id",category:"face_id",action:"edit_personal_identification_info"})}faceIdStartRegistration(){this.gtmService.pushTag({event:"ev_face_id",category:"face_id",action:"start_registration"})}faceIdQR(){this.gtmService.pushTag({event:"ev_face_id",category:"face_id",action:"view_qr_code"})}faceIdRegistration(e){this.gtmService.pushTag({event:"ev_face_id",category:"face_id",action:"complete_registration",label:e})}faceIdBackRegistration(){this.gtmService.pushTag({event:"ev_face_id",category:"face_id",action:"back_to_registration"})}faceIdDelete(){this.gtmService.pushTag({event:"ev_face_id",category:"face_id",action:"click_delete_record"})}faceIdModalDelete(e){this.gtmService.pushTag({event:"ev_face_id",category:"face_id",action:"delete_record",label:e})}faceIdSignUp(e){this.gtmService.pushTag({event:"ev_profile_faceid_signup",category:"profile",action:"faceid_signup",label:e})}faceIdSignUpBack(){this.gtmService.pushTag({event:"ev_profile_faceid_backto_signup",category:"profile",action:"faceid_backto_signup"})}faceIdDeleteRegistry(){this.gtmService.pushTag({event:"ev_profile_faceid_delete_registry",category:"profile",action:"faceid_delete_registry"})}dotersCardClicked(){this.gtmService.pushTag({event:"ev_profile_board_click_doters",category:"profile",action:"board_click_doters"})}dotersOptOut(e){this.gtmService.pushTag({event:"ev_doters",category:"Doters",action:"opt_out",label:e})}}return e.\u0275fac=function(t){return new(t||e)(r.dc(s.a))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},U9ZV:function(e,t,n){"use strict";function i(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function o(e){return"string"==typeof e}function r(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e){return e&&e.getTime&&!isNaN(e.getTime())}function a(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function h(e){return void 0===e}function p(e){const t=+e;let n=0;return 0!==t&&isFinite(t)&&(n=i(t)),n}n.d(t,"a",(function(){return et})),n.d(t,"b",(function(){return Te})),n.d(t,"c",(function(){return zt})),n.d(t,"d",(function(){return qt})),n.d(t,"e",(function(){return Ot})),n.d(t,"f",(function(){return M})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return x})),n.d(t,"i",(function(){return tt})),n.d(t,"j",(function(){return D})),n.d(t,"k",(function(){return xt})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return It})),n.d(t,"n",(function(){return r})),n.d(t,"o",(function(){return s})),n.d(t,"p",(function(){return Lt})),n.d(t,"q",(function(){return L})),n.d(t,"r",(function(){return Rt})),n.d(t,"s",(function(){return j})),n.d(t,"t",(function(){return R})),n.d(t,"u",(function(){return N})),n.d(t,"v",(function(){return Mt})),n.d(t,"w",(function(){return ve})),n.d(t,"x",(function(){return be})),n.d(t,"y",(function(){return Oe})),n.d(t,"z",(function(){return Pt}));const g={},f={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function m(e,t){const n=e.toLowerCase();let i=e;n in f&&(i=f[n]),g[n]=g[n+"s"]=g[t]=i}function b(e){return o(e)?g[e]||g[e.toLowerCase()]:void 0}function v(e,t,n){const i=""+Math.abs(e);return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,t-i.length)).toString().substr(1)+i}const y={},_={},C=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function S(e,t,n,i){e&&(_[e]=i),t&&(_[t[0]]=function(){return v(i.apply(null,arguments),t[1],t[2])}),n&&(_[n]=function(t,n){return n.locale.ordinal(i.apply(null,arguments),e)})}function O(e,t,n){const i=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(i.getUTCFullYear())&&i.setUTCFullYear(e),i}function T(e,t=0,n=1,i=0,o=0,r=0,s=0){const a=new Date(e,t,n,i,o,r,s);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function w(e,t=!1){return t?e.getUTCHours():e.getHours()}function k(e,t=!1){return t?e.getUTCMinutes():e.getMinutes()}function A(e,t=!1){return t?e.getUTCSeconds():e.getSeconds()}function E(e,t=!1){return t?e.getUTCMilliseconds():e.getMilliseconds()}function M(e,t=!1){return t?e.getUTCDay():e.getDay()}function P(e,t=!1){return t?e.getUTCDate():e.getDate()}function D(e,t=!1){return t?e.getUTCMonth():e.getMonth()}function x(e,t=!1){return t?e.getUTCFullYear():e.getFullYear()}function I(e){return T(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds())}function L(e,t){return e.getDay()===Number(t)}function R(e,t){return!(!e||!t)&&N(e,t)&&D(e)===D(t)}function N(e,t){return!(!e||!t)&&x(e)===x(t)}function j(e,t){return!(!e||!t)&&N(e,t)&&R(e,t)&&P(e)===P(t)}const B=/\d/,F=/\d\d/,H=/\d{3}/,U=/\d{4}/,Y=/[+-]?\d{6}/,G=/\d\d?/,V=/\d\d\d\d?/,Z=/\d\d\d\d\d\d?/,$=/\d{1,3}/,W=/\d{1,4}/,K=/[+-]?\d{1,6}/,z=/\d+/,Q=/[+-]?\d+/,X=/Z|[+-]\d\d(?::?\d\d)?/gi,q=/[+-]?\d+(\.\d{1,3})?/,J=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ee={};function te(e,t,n){ee[e]=a(t)?t:function(e,i){return e&&n?n:t}}function ne(e,t){return u(ee,e)?ee[e](!1,t):new RegExp(ie(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(e,t,n,i,o)=>t||n||i||o)))}function ie(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const oe={};function re(e,t){const n=o(e)?[e]:e;let i=t;if(c(t)&&(i=function(e,n,i){return n[t]=p(e),i}),l(n)&&a(i)){let e;for(e=0;e<n.length;e++)oe[n[e]]=i}}function se(e,t){re(e,(function(e,n,i,o){return i._w=i._w||{},t(e,i._w,i,o)}))}function ae(e,t,n){return null!=t&&u(oe,e)&&oe[e](t,n._a,n,e),n}const ce={};function le(e,t){ce[e]=t}function ue(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function de(e,t){return t.locale.getFullYear?t.locale.getFullYear(e,t.isUTC).toString():x(e,t.isUTC).toString()}function he(e){return p(e)+(p(e)>68?1900:2e3)}function pe(e){return ge(e)?366:365}function ge(e){return e%4==0&&e%100!=0||e%400==0}function fe(e,t){if(isNaN(e)||isNaN(t))return NaN;const n=(t%12+12)%12;return 1===n?ge(e+(t-n)/12)?29:28:31-n%7%2}const me={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function be(e,t){const n=Object.assign({},me,t),i=e.getFullYear()+(n.year||0),o=e.getMonth()+(n.month||0);let r=e.getDate()+(n.day||0);return n.month&&!n.day&&(r=Math.min(r,fe(i,o))),T(i,o,r,e.getHours()+(n.hour||0),e.getMinutes()+(n.minute||0),e.getSeconds()+(n.seconds||0))}function ve(e,t){return T(ye(e.getFullYear(),t.year),ye(e.getMonth(),t.month),1,ye(e.getHours(),t.hour),ye(e.getMinutes(),t.minute),ye(e.getSeconds(),t.seconds),ye(e.getMilliseconds(),t.milliseconds))}function ye(e,t){return c(t)?t:e}function _e(e,t,n){const i=Math.min(P(e),fe(x(e),t));return n?e.setUTCMonth(t,i):e.setMonth(t,i),e}function Ce(e,t,n){return n?e.setUTCDate(t):e.setDate(t),e}function Se(e){return new Date(e.getTime())}function Oe(e,t,n){const i=Se(e);switch(t){case"year":_e(i,0,n);case"quarter":case"month":Ce(i,1,n);case"week":case"isoWeek":case"day":case"date":!function(e,t,n){n?e.setUTCHours(0):e.setHours(0)}(i,0,n);case"hours":!function(e,t,n){n?e.setUTCMinutes(0):e.setMinutes(0)}(i,0,n);case"minutes":!function(e,t,n){n?e.setUTCSeconds(0):e.setSeconds(0)}(i,0,n);case"seconds":!function(e,t,n){n?e.setUTCMilliseconds(0):e.setMilliseconds(0)}(i,0,n)}return"week"===t&&function(e,t,n={}){Ut(e,0-Vt(e,n.locale,n.isUTC),"day")}(i,0,{isUTC:n}),"isoWeek"===t&&function(e,t,n={}){const i=function(e,t=tt()){return o(e)?t.weekdaysParse(e)%7||7:c(e)&&isNaN(e)?null:e}(1,n.locale);Gt(e,function(e,t){return M(e,void 0)}(e)%7?i:i-7)}(i),"quarter"===t&&_e(i,3*Math.floor(D(i,n)/3),n),i}function Te(e,t,n){let i=t;return"date"===i&&(i="day"),function(e,t,n,i){return Yt(e,Bt(1,"milliseconds"),-1,i)}(Ut(Oe(e,i,n),1,"isoWeek"===i?"week":i,n),0,0,n)}function we(e,t){const n=+Oe(e,"day",t),i=+Oe(e,"year",t);return Math.round((n-i)/864e5)+1}function ke(e,t,n){const i=t-n+7;return-(O(e,0,i).getUTCDay()-t+7)%7+i-1}function Ae(e,t,n,i){const o=ke(x(e,i),t,n),r=Math.floor((we(e,i)-o-1)/7)+1;let s,a;return r<1?(a=x(e,i)-1,s=r+Ee(a,t,n)):r>Ee(x(e,i),t,n)?(s=r-Ee(x(e,i),t,n),a=x(e,i)+1):(a=x(e,i),s=r),{week:s,year:a}}function Ee(e,t,n){const i=ke(e,t,n),o=ke(e+1,t,n);return(pe(e)-i+o)/7}const Me=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Pe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),De="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),xe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ie="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Le="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Re={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ne=J,je=J;class Be{constructor(e){e&&this.set(e)}set(e){let t;for(t in e){if(!e.hasOwnProperty(t))continue;const n=e[t];this[a(n)?t:"_"+t]=n}this._config=e}calendar(e,t,n){const i=this._calendar[e]||this._calendar.sameElse;return a(i)?i.call(null,t,n):i}longDateFormat(e){const t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])}get invalidDate(){return this._invalidDate}set invalidDate(e){this._invalidDate=e}ordinal(e,t){return this._ordinal.replace("%d",e.toString(10))}preparse(e,t){return e}getFullYear(e,t=!1){return x(e,t)}postformat(e){return e}relativeTime(e,t,n,i){const o=this._relativeTime[n];return a(o)?o(e,t,n,i):o.replace(/%d/i,e.toString(10))}pastFuture(e,t){const n=this._relativeTime[e>0?"future":"past"];return a(n)?n(t):n.replace(/%s/i,t)}months(e,t,n=!1){if(!e)return l(this._months)?this._months:this._months.standalone;if(l(this._months))return this._months[D(e,n)];const i=(this._months.isFormat||Me).test(t)?"format":"standalone";return this._months[i][D(e,n)]}monthsShort(e,t,n=!1){if(!e)return l(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(l(this._monthsShort))return this._monthsShort[D(e,n)];const i=Me.test(t)?"format":"standalone";return this._monthsShort[i][D(e,n)]}monthsParse(e,t,n){let i,o,r;if(this._monthsParseExact)return this.handleMonthStrictParse(e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=new Date(Date.UTC(2e3,r)),n&&!this._longMonthsParse[r]){const e=this.months(i,"",!0).replace(".",""),t=this.monthsShort(i,"",!0).replace(".","");this._longMonthsParse[r]=new RegExp(`^${e}$`,"i"),this._shortMonthsParse[r]=new RegExp(`^${t}$`,"i")}if(n||this._monthsParse[r]||(o=`^${this.months(i,"",!0)}|^${this.monthsShort(i,"",!0)}`,this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}monthsRegex(e){return this._monthsParseExact?(u(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=je),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}monthsShortRegex(e){return this._monthsParseExact?(u(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Ne),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}week(e,t){return Ae(e,this._week.dow,this._week.doy,t).week}firstDayOfWeek(){return this._week.dow}firstDayOfYear(){return this._week.doy}weekdays(e,t,n){if(!e)return l(this._weekdays)?this._weekdays:this._weekdays.standalone;if(l(this._weekdays))return this._weekdays[M(e,n)];const i=this._weekdays.isFormat.test(t)?"format":"standalone";return this._weekdays[i][M(e,n)]}weekdaysMin(e,t,n){return e?this._weekdaysMin[M(e,n)]:this._weekdaysMin}weekdaysShort(e,t,n){return e?this._weekdaysShort[M(e,n)]:this._weekdaysShort}weekdaysParse(e,t,n){let i,o;if(this._weekdaysParseExact)return this.handleWeekStrictParse(e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){const r=Gt(new Date(Date.UTC(2e3,1)),i,null,!0);if(n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp(`^${this.weekdays(r,"",!0).replace(".",".?")}$`,"i"),this._shortWeekdaysParse[i]=new RegExp(`^${this.weekdaysShort(r,"",!0).replace(".",".?")}$`,"i"),this._minWeekdaysParse[i]=new RegExp(`^${this.weekdaysMin(r,"",!0).replace(".",".?")}$`,"i")),this._weekdaysParse[i]||(o=`^${this.weekdays(r,"",!0)}|^${this.weekdaysShort(r,"",!0)}|^${this.weekdaysMin(r,"",!0)}`,this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),!(l(this._fullWeekdaysParse)&&l(this._shortWeekdaysParse)&&l(this._minWeekdaysParse)&&l(this._weekdaysParse)))return;if(n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}weekdaysRegex(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=J),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}weekdaysShortRegex(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=J),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}weekdaysMinRegex(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=J),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}isPM(e){return"p"===e.toLowerCase().charAt(0)}meridiem(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}formatLongDate(e){this._longDateFormat=this._longDateFormat?this._longDateFormat:Re;const t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,e=>e.slice(1)),this._longDateFormat[e])}handleMonthStrictParse(e,t,n){const i=e.toLocaleLowerCase();let o,r,s;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)s=new Date(2e3,o),this._shortMonthsParse[o]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?(r=this._shortMonthsParse.indexOf(i),-1!==r?r:null):(r=this._longMonthsParse.indexOf(i),-1!==r?r:null):"MMM"===t?(r=this._shortMonthsParse.indexOf(i),-1!==r?r:(r=this._longMonthsParse.indexOf(i),-1!==r?r:null)):(r=this._longMonthsParse.indexOf(i),-1!==r?r:(r=this._shortMonthsParse.indexOf(i),-1!==r?r:null))}handleWeekStrictParse(e,t,n){let i;const o=e.toLocaleLowerCase();if(!this._weekdaysParse){let e;for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],e=0;e<7;++e){const t=Gt(new Date(Date.UTC(2e3,1)),e,null,!0);this._minWeekdaysParse[e]=this.weekdaysMin(t).toLocaleLowerCase(),this._shortWeekdaysParse[e]=this.weekdaysShort(t).toLocaleLowerCase(),this._weekdaysParse[e]=this.weekdays(t,"").toLocaleLowerCase()}}if(l(this._weekdaysParse)&&l(this._shortWeekdaysParse)&&l(this._minWeekdaysParse))return n?"dddd"===t?(i=this._weekdaysParse.indexOf(o),-1!==i?i:null):"ddd"===t?(i=this._shortWeekdaysParse.indexOf(o),-1!==i?i:null):(i=this._minWeekdaysParse.indexOf(o),-1!==i?i:null):"dddd"===t?(i=this._weekdaysParse.indexOf(o),-1!==i?i:(i=this._shortWeekdaysParse.indexOf(o),-1!==i?i:(i=this._minWeekdaysParse.indexOf(o),-1!==i?i:null))):"ddd"===t?(i=this._shortWeekdaysParse.indexOf(o),-1!==i?i:(i=this._weekdaysParse.indexOf(o),-1!==i?i:(i=this._minWeekdaysParse.indexOf(o),-1!==i?i:null))):(i=this._minWeekdaysParse.indexOf(o),-1!==i?i:(i=this._weekdaysParse.indexOf(o),-1!==i?i:(i=this._shortWeekdaysParse.indexOf(o),-1!==i?i:null)))}computeMonthsParse(){const e=[],t=[],n=[];let i,o;for(o=0;o<12;o++)i=new Date(2e3,o),e.push(this.monthsShort(i,"")),t.push(this.months(i,"")),n.push(this.months(i,"")),n.push(this.monthsShort(i,""));for(e.sort(Fe),t.sort(Fe),n.sort(Fe),o=0;o<12;o++)e[o]=ie(e[o]),t[o]=ie(t[o]);for(o=0;o<24;o++)n[o]=ie(n[o]);this._monthsRegex=new RegExp(`^(${n.join("|")})`,"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._monthsShortStrictRegex=new RegExp(`^(${e.join("|")})`,"i")}computeWeekdaysParse(){const e=[],t=[],n=[],i=[];let o;for(o=0;o<7;o++){const r=Gt(new Date(Date.UTC(2e3,1)),o,null,!0),s=this.weekdaysMin(r),a=this.weekdaysShort(r),c=this.weekdays(r);e.push(s),t.push(a),n.push(c),i.push(s),i.push(a),i.push(c)}for(e.sort(Fe),t.sort(Fe),n.sort(Fe),i.sort(Fe),o=0;o<7;o++)t[o]=ie(t[o]),n[o]=ie(n[o]),i[o]=ie(i[o]);this._weekdaysRegex=new RegExp(`^(${i.join("|")})`,"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(`^(${n.join("|")})`,"i"),this._weekdaysShortStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._weekdaysMinStrictRegex=new RegExp(`^(${e.join("|")})`,"i")}}function Fe(e,t){return t.length-e.length}const He={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:Re,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Pe,monthsShort:De,week:{dow:0,doy:6},weekdays:xe,weekdaysMin:Le,weekdaysShort:Ie,meridiemParse:/[ap]\.?m?\.?/i};function Ue(e,t,n){const i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length);let r,s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&p(e[r])!==p(t[r]))&&s++;return s+o}function Ye(e,t){S(null,[e,e.length,!1],null,t)}function Ge(e,t){return Ze(e,t.locale).toString()}function Ve(e){return $e(e).toString()}function Ze(e,t=tt(),n){return Ae(e,t.firstDayOfWeek(),t.firstDayOfYear(),n).year}function $e(e,t){return Ae(e,1,4,t).year}function We(e,t){S(e,null,null,(function(e,n){let i=function(e,t={}){return t._isUTC?t._offset||0:function(e){return 15*-Math.round(e.getTimezoneOffset()/15)}(e)}(e,{_isUTC:n.isUTC,_offset:n.offset}),o="+";return i<0&&(i=-i,o="-"),o+v(~~(i/60),2)+t+v(~~i%60,2)}))}const Ke=/([\+\-]|\d\d)/gi,ze={},Qe={};let Xe;function qe(e){return e?e.toLowerCase().replace("_","-"):e}function Je(e,t){let n;return e&&(h(t)?n=tt(e):o(e)&&(n=et(e,t)),n&&(Xe=n)),Xe&&Xe._abbr}function et(e,t){if(null===t)return delete ze[e],Xe=tt("en"),null;if(!t)return;let n=He;if(t.abbr=e,null!=t.parentLocale){if(null==ze[t.parentLocale])return Qe[t.parentLocale]||(Qe[t.parentLocale]=[]),Qe[t.parentLocale].push({name:e,config:t}),null;n=ze[t.parentLocale]._config}return ze[e]=new Be(function(e,t){const n=Object.assign({},e);for(const i in t)u(t,i)&&(d(e[i])&&d(t[i])?(n[i]={},Object.assign(n[i],e[i]),Object.assign(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);for(const i in e)u(e,i)&&!u(t,i)&&d(e[i])&&(n[i]=Object.assign({},n[i]));return n}(n,t)),Qe[e]&&Qe[e].forEach((function(e){et(e.name,e.config)})),Je(e),ze[e]}function tt(e){return ze.en||(Je("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal(e){const t=e%10;return e+(1===p(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),S("w",["ww",2,!1],"wo",(function(e,t){return function(e,t=tt(),n){return t.week(e,void 0)}(e,t.locale).toString(10)})),S("W",["WW",2,!1],"Wo",(function(e){return function(e,t){return Ae(e,1,4,void 0).week}(e).toString(10)})),m("week","w"),m("isoWeek","W"),le("week",5),le("isoWeek",5),te("w",G),te("ww",G,F),te("W",G),te("WW",G,F),se(["w","ww","W","WW"],(function(e,t,n,i){return t[i.substr(0,1)]=p(e),n})),S(null,["gg",2,!1],null,(function(e,t){return(Ze(e,t.locale)%100).toString()})),S(null,["GG",2,!1],null,(function(e){return($e(e)%100).toString()})),Ye("gggg",Ge),Ye("ggggg",Ge),Ye("GGGG",Ve),Ye("GGGGG",Ve),m("weekYear","gg"),m("isoWeekYear","GG"),le("weekYear",1),le("isoWeekYear",1),te("G",Q),te("g",Q),te("GG",G,F),te("gg",G,F),te("GGGG",W,U),te("gggg",W,U),te("GGGGG",K,Y),te("ggggg",K,Y),se(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){return t[i.substr(0,2)]=p(e),n})),se(["gg","GG"],(function(e,t,n,i){return t[i]=he(e),n})),S("Y",null,null,(function(e,t){const n=x(e,t.isUTC);return n<=9999?n.toString(10):"+"+n})),S(null,["YY",2,!1],null,(function(e,t){return(x(e,t.isUTC)%100).toString(10)})),S(null,["YYYY",4,!1],null,de),S(null,["YYYYY",5,!1],null,de),S(null,["YYYYYY",6,!0],null,de),m("year","y"),le("year",1),te("Y",Q),te("YY",G,F),te("YYYY",W,U),te("YYYYY",K,Y),te("YYYYYY",K,Y),re(["YYYYY","YYYYYY"],0),re("YYYY",(function(e,t,n){return t[0]=2===e.length?he(e):p(e),n})),re("YY",(function(e,t,n){return t[0]=he(e),n})),re("Y",(function(e,t,n){return t[0]=parseInt(e,10),n})),S("z",null,null,(function(e,t){return t.isUTC?"UTC":""})),S("zz",null,null,(function(e,t){return t.isUTC?"Coordinated Universal Time":""})),S("X",null,null,(function(e){return function(e){return Math.floor(e.valueOf()/1e3)}(e).toString(10)})),S("x",null,null,(function(e){return e.valueOf().toString(10)})),te("x",Q),te("X",q),re("X",(function(e,t,n){return n._d=new Date(1e3*parseFloat(e)),n})),re("x",(function(e,t,n){return n._d=new Date(p(e)),n})),S("s",["ss",2,!1],null,(function(e,t){return A(e,t.isUTC).toString(10)})),m("second","s"),le("second",15),te("s",G),te("ss",G,F),re(["s","ss"],5),S("Q",null,"Qo",(function(e,t){return function(e,t=!1){return Math.ceil((D(e,t)+1)/3)}(e,t.isUTC).toString(10)})),m("quarter","Q"),le("quarter",7),te("Q",B),re("Q",(function(e,t,n){return t[1]=3*(p(e)-1),n})),We("Z",":"),We("ZZ",""),te("Z",X),te("ZZ",X),re(["Z","ZZ"],(function(e,t,n){return n._useUTC=!0,n._tzm=function(e,t){const n=(t||"").match(e);if(null===n)return null;const i=n[n.length-1].match(Ke)||["-","0","0"],o=60*parseInt(i[1],10)+p(i[2]);return 0===o?0:"+"===i[0]?o:-o}(X,e),n})),S("M",["MM",2,!1],"Mo",(function(e,t){return(D(e,t.isUTC)+1).toString(10)})),S("MMM",null,null,(function(e,t){return t.locale.monthsShort(e,t.format,t.isUTC)})),S("MMMM",null,null,(function(e,t){return t.locale.months(e,t.format,t.isUTC)})),m("month","M"),le("month",8),te("M",G),te("MM",G,F),te("MMM",(function(e,t){return t.monthsShortRegex(e)})),te("MMMM",(function(e,t){return t.monthsRegex(e)})),re(["M","MM"],(function(e,t,n){return t[1]=p(e)-1,n})),re(["MMM","MMMM"],(function(e,t,n,i){const o=n._locale.monthsParse(e,i,n._strict);return null!=o?t[1]=o:ue(n).invalidMonth=!!e,n})),S("m",["mm",2,!1],null,(function(e,t){return k(e,t.isUTC).toString(10)})),m("minute","m"),le("minute",14),te("m",G),te("mm",G,F),re(["m","mm"],4),function(){let e;for(S("S",null,null,(function(e,t){return(~~(E(e,t.isUTC)/100)).toString(10)})),S(null,["SS",2,!1],null,(function(e,t){return(~~(E(e,t.isUTC)/10)).toString(10)})),S(null,["SSS",3,!1],null,(function(e,t){return E(e,t.isUTC).toString(10)})),S(null,["SSSS",4,!1],null,(function(e,t){return(10*E(e,t.isUTC)).toString(10)})),S(null,["SSSSS",5,!1],null,(function(e,t){return(100*E(e,t.isUTC)).toString(10)})),S(null,["SSSSSS",6,!1],null,(function(e,t){return(1e3*E(e,t.isUTC)).toString(10)})),S(null,["SSSSSSS",7,!1],null,(function(e,t){return(1e4*E(e,t.isUTC)).toString(10)})),S(null,["SSSSSSSS",8,!1],null,(function(e,t){return(1e5*E(e,t.isUTC)).toString(10)})),S(null,["SSSSSSSSS",9,!1],null,(function(e,t){return(1e6*E(e,t.isUTC)).toString(10)})),m("millisecond","ms"),le("millisecond",16),te("S",$,B),te("SS",$,F),te("SSS",$,H),e="SSSS";e.length<=9;e+="S")te(e,z);function t(e,t,n){return t[6]=p(1e3*parseFloat("0."+e)),n}for(e="S";e.length<=9;e+="S")re(e,t)}(),function(){function e(e,t){return w(e,t)%12||12}function t(e,t){S(e,null,null,(function(e,n){return n.locale.meridiem(w(e,n.isUTC),k(e,n.isUTC),t)}))}function n(e,t){return t._meridiemParse}S("H",["HH",2,!1],null,(function(e,t){return w(e,t.isUTC).toString(10)})),S("h",["hh",2,!1],null,(function(t,n){return e(t,n.isUTC).toString(10)})),S("k",["kk",2,!1],null,(function(e,t){return function(e,t){return w(e,t)||24}(e,t.isUTC).toString(10)})),S("hmm",null,null,(function(t,n){return`${e(t,n.isUTC)}${v(k(t,n.isUTC),2)}`})),S("hmmss",null,null,(function(t,n){return`${e(t,n.isUTC)}${v(k(t,n.isUTC),2)}${v(A(t,n.isUTC),2)}`})),S("Hmm",null,null,(function(e,t){return`${w(e,t.isUTC)}${v(k(e,t.isUTC),2)}`})),S("Hmmss",null,null,(function(e,t){return`${w(e,t.isUTC)}${v(k(e,t.isUTC),2)}${v(A(e,t.isUTC),2)}`})),t("a",!0),t("A",!1),m("hour","h"),le("hour",13),te("a",n),te("A",n),te("H",G),te("h",G),te("k",G),te("HH",G,F),te("hh",G,F),te("kk",G,F),te("hmm",V),te("hmmss",Z),te("Hmm",V),te("Hmmss",Z),re(["H","HH"],3),re(["k","kk"],(function(e,t,n){const i=p(e);return t[3]=24===i?0:i,n})),re(["a","A"],(function(e,t,n){return n._isPm=n._locale.isPM(e),n._meridiem=e,n})),re(["h","hh"],(function(e,t,n){return t[3]=p(e),ue(n).bigHour=!0,n})),re("hmm",(function(e,t,n){const i=e.length-2;return t[3]=p(e.substr(0,i)),t[4]=p(e.substr(i)),ue(n).bigHour=!0,n})),re("hmmss",(function(e,t,n){const i=e.length-4,o=e.length-2;return t[3]=p(e.substr(0,i)),t[4]=p(e.substr(i,2)),t[5]=p(e.substr(o)),ue(n).bigHour=!0,n})),re("Hmm",(function(e,t,n){const i=e.length-2;return t[3]=p(e.substr(0,i)),t[4]=p(e.substr(i)),n})),re("Hmmss",(function(e,t,n){const i=e.length-4,o=e.length-2;return t[3]=p(e.substr(0,i)),t[4]=p(e.substr(i,2)),t[5]=p(e.substr(o)),n}))}(),S("DDD",["DDDD",3,!1],"DDDo",(function(e){return we(e).toString(10)})),m("dayOfYear","DDD"),le("dayOfYear",4),te("DDD",$),te("DDDD",H),re(["DDD","DDDD"],(function(e,t,n){return n._dayOfYear=p(e),n})),S("d",null,"do",(function(e,t){return M(e,t.isUTC).toString(10)})),S("dd",null,null,(function(e,t){return t.locale.weekdaysMin(e,t.format,t.isUTC)})),S("ddd",null,null,(function(e,t){return t.locale.weekdaysShort(e,t.format,t.isUTC)})),S("dddd",null,null,(function(e,t){return t.locale.weekdays(e,t.format,t.isUTC)})),S("e",null,null,(function(e,t){return Vt(e,t.locale,t.isUTC).toString(10)})),S("E",null,null,(function(e,t){return function(e,t){return M(e,t)||7}(e,t.isUTC).toString(10)})),m("day","d"),m("weekday","e"),m("isoWeekday","E"),le("day",11),le("weekday",11),le("isoWeekday",11),te("d",G),te("e",G),te("E",G),te("dd",(function(e,t){return t.weekdaysMinRegex(e)})),te("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),te("dddd",(function(e,t){return t.weekdaysRegex(e)})),se(["dd","ddd","dddd"],(function(e,t,n,i){const o=n._locale.weekdaysParse(e,i,n._strict);return null!=o?t.d=o:ue(n).invalidWeekday=!!e,n})),se(["d","e","E"],(function(e,t,n,i){return t[i]=p(e),n})),S("D",["DD",2,!1],"Do",(function(e,t){return P(e,t.isUTC).toString(10)})),m("date","D"),le("date",9),te("D",G),te("DD",G,F),te("Do",(function(e,t){return t._dayOfMonthOrdinalParse||t._ordinalParse})),re(["D","DD"],2),re("Do",(function(e,t,n){return t[2]=p(e.match(G)[0]),n}))),e?function(e){let t,n,i=0;for(;i<e.length;){const r=qe(e[i]).split("-");let s=r.length;for(t=qe(e[i+1]),t=t?t.split("-"):null;s>0;){if(o=r.slice(0,s).join("-"),ze[o]||console.error(`Khronos locale error: please load locale "${o}" before using it`),n=ze[o],n)return n;if(t&&t.length>=s&&Ue(r,t,!0)>=s-1)break;s--}i++}var o;return null}(l(e)?e:[e]):Xe}const nt=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],it=nt.reduce((e,t)=>(e[t]=!0,e),{});function ot(e){return e<0?Math.floor(e):Math.ceil(e)}function rt(e){return 4800*e/146097}function st(e){return 146097*e/4800}let at=Math.round;function ct(e,t,n,i,o){return o.relativeTime(t||1,!!n,e,i)}class lt{constructor(e,t={}){this._data={},this._locale=tt(),this._locale=t&&t._locale||tt();const n=e.year||0,o=e.quarter||0,r=e.month||0,s=e.week||0,a=e.day||0,c=e.hours||0,l=e.minutes||0,u=e.seconds||0,d=e.milliseconds||0;return this._isValid=function(e){if(Object.keys(e).some(t=>t in it&&null===e[t]||isNaN(e[t])))return!1;let t=!1;for(let n=0;n<nt.length;++n)if(e[nt[n]]){if(t)return!1;e[nt[n]]!==p(e[nt[n]])&&(t=!0)}return!0}(e),this._milliseconds=+d+1e3*u+60*l*1e3+1e3*c*60*60,this._days=+a+7*s,this._months=+r+3*o+12*n,function(e){let t=e._milliseconds,n=e._days,o=e._months;const r=e._data;t>=0&&n>=0&&o>=0||t<=0&&n<=0&&o<=0||(t+=864e5*ot(st(o)+n),n=0,o=0),r.milliseconds=t%1e3;const s=i(t/1e3);r.seconds=s%60;const a=i(s/60);r.minutes=a%60;const c=i(a/60);r.hours=c%24,n+=i(c/24);const l=i(rt(n));o+=l,n-=ot(st(l));const u=i(o/12);return o%=12,r.day=n,r.month=o,r.year=u,e}(this)}isValid(){return this._isValid}humanize(e){if(!this.isValid())return this.localeData().invalidDate;const t=this.localeData();let n=function(e,t,n){const i=Bt(e).abs(),o=at(i.as("s")),r=at(i.as("m")),s=at(i.as("h")),a=at(i.as("d")),c=at(i.as("M")),l=at(i.as("y")),u=o<=44&&["s",o]||o<45&&["ss",o]||r<=1&&["m"]||r<45&&["mm",r]||s<=1&&["h"]||s<22&&["hh",s]||a<=1&&["d"]||a<26&&["dd",a]||c<=1&&["M"]||c<11&&["MM",c]||l<=1&&["y"]||["yy",l];return ct.apply(null,[u[0],u[1],t,+e>0,n])}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}localeData(){return this._locale}locale(e){return e?(this._locale=tt(e)||this._locale,this):this._locale._abbr}abs(){const e=Math.abs,t=this._data;return this._milliseconds=e(this._milliseconds),this._days=e(this._days),this._months=e(this._months),t.milliseconds=e(t.milliseconds),t.seconds=e(t.seconds),t.minutes=e(t.minutes),t.hours=e(t.hours),t.month=e(t.month),t.year=e(t.year),this}as(e){if(!this.isValid())return NaN;let t,n;const i=this._milliseconds,o=b(e);if("month"===o||"year"===o)return t=this._days+i/864e5,n=this._months+rt(t),"month"===o?n:n/12;switch(t=this._days+Math.round(st(this._months)),o){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hours":return 24*t+i/36e5;case"minutes":return 1440*t+i/6e4;case"seconds":return 86400*t+i/1e3;case"milliseconds":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+o)}}valueOf(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*p(this._months/12):NaN}}function ut(e){if(null==e._isValid){const t=ue(e),n=Array.prototype.some.call(t.parsedDateParts,(function(e){return null!=e}));let i=!isNaN(e._d&&e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function dt(e,t){return e._d=new Date(NaN),Object.assign(ue(e),t||{userInvalidated:!0}),e}const ht=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/Z|[+-]\d\d(?::?\d\d)?/,ft=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],mt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],bt=/^\/?Date\((\-?\d+)/i,vt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},yt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function _t(e){if(!o(e._i))return e;const t=e._i,n=ht.exec(t)||pt.exec(t);let i,r,s,a,c,l;if(!n)return e._isValid=!1,e;for(c=0,l=ft.length;c<l;c++)if(ft[c][1].exec(n[1])){r=ft[c][0],i=!1!==ft[c][2];break}if(null==r)return e._isValid=!1,e;if(n[3]){for(c=0,l=mt.length;c<l;c++)if(mt[c][1].exec(n[3])){s=(n[2]||" ")+mt[c][0];break}if(null==s)return e._isValid=!1,e}if(!i&&null!=s)return e._isValid=!1,e;if(n[4]){if(!gt.exec(n[4]))return e._isValid=!1,e;a="Z"}return e._f=r+(s||"")+(a||""),Et(e)}function Ct(e){const t=parseInt(e,10);return t<=49?t+2e3:t}function St(e){if(!o(e._i))return e;const t=yt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(!t)return function(e){return e._isValid=!1,e}(e);const n=function(e,t,n,i,o,r){const s=[Ct(e),De.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(o,10)];return r&&s.push(parseInt(r,10)),s}(t[4],t[3],t[2],t[5],t[6],t[7]);return function(e,t,n){return!e||Ie.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(ue(n).weekdayMismatch=!0,n._isValid=!1,!1)}(t[1],n,e)?(e._a=n,e._tzm=function(e,t,n){if(e)return vt[e];if(t)return 0;{const e=parseInt(n,10),t=e%100;return(e-t)/100*60+t}}(t[8],t[9],t[10]),e._d=O.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),ue(e).rfc2822=!0,e):e}function Ot(e,t,n,i,o=0){const r=tt(n||"en");if(!r)throw new Error(`Locale "${n}" is not defined, please add it with "defineLocale(...)"`);const c=function(e,t,n,i,o=0){if(!s(e))return n.invalidDate;const r=Tt(t,n);return y[r]=y[r]||function(e){const t=e.match(C),n=t.length,i=new Array(n);for(let r=0;r<n;r++)i[r]=_[t[r]]?_[t[r]]:(o=t[r]).match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"");var o;return function(t,o,r,s=0){let c="";for(let l=0;l<n;l++)c+=a(i[l])?i[l].call(null,t,{format:e,locale:o,isUTC:r,offset:s}):i[l];return c}}(r),y[r](e,n,i,o)}(e,t||(i?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),r,i,o);return c?r.postformat(c):c}function Tt(e,t){let n=e,i=5;const o=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,r=e=>t.formatLongDate(e)||e;for(o.lastIndex=0;i>=0&&o.test(n);)n=n.replace(o,r),o.lastIndex=0,i-=1;return n}function wt(e,t,n){return null!=e?e:null!=t?t:n}function kt(e){const t=[];let n,i,o;if(e._d)return e;const r=function(e){const t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e);for(e._w&&null==e._a[2]&&null==e._a[1]&&function(e){let t,n,i,o,r,s,a;const c=e._w;if(null!=c.GG||null!=c.W||null!=c.E)o=1,r=4,t=wt(c.GG,e._a[0],Ae(new Date,1,4).year),n=wt(c.W,1),i=wt(c.E,1),(i<1||i>7)&&(a=!0);else{o=e._locale._week.dow,r=e._locale._week.doy;const s=Ae(new Date,o,r);t=wt(c.gg,e._a[0],s.year),n=wt(c.w,s.week),null!=c.d?(i=c.d,(i<0||i>6)&&(a=!0)):null!=c.e?(i=c.e+o,(c.e<0||c.e>6)&&(a=!0)):i=o}n<1||n>Ee(t,o,r)?ue(e)._overflowWeeks=!0:null!=a?ue(e)._overflowWeekday=!0:(s=function(e,t,n,i,o){const r=1+7*(t-1)+(7+n-i)%7+ke(e,i,o);let s,a;return r<=0?(s=e-1,a=pe(s)+r):r>pe(e)?(s=e+1,a=r-pe(e)):(s=e,a=r),{year:s,dayOfYear:a}}(t,n,i,o,r),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=wt(e._a[0],r[0]),(e._dayOfYear>pe(o)||0===e._dayOfYear)&&(ue(e)._overflowDayOfYear=!0),i=new Date(Date.UTC(o,0,e._dayOfYear)),e._a[1]=i.getUTCMonth(),e._a[2]=i.getUTCDate()),n=0;n<3&&null==e._a[n];++n)e._a[n]=t[n]=r[n];for(;n<7;n++)e._a[n]=t[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?O:T).apply(null,t);const s=e._useUTC?e._d.getUTCDay():e._d.getDay();return null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(ue(e).weekdayMismatch=!0),e}function At(e){let t;const n=e._a;return n&&-2===ue(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>fe(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,ue(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),ue(e)._overflowWeeks&&-1===t&&(t=7),ue(e)._overflowWeekday&&-1===t&&(t=8),ue(e).overflow=t),e}function Et(e){if("ISO_8601"===e._f)return _t(e);if("RFC_2822"===e._f)return St(e);if(e._a=[],ue(e).empty=!0,l(e._f)||!e._i&&0!==e._i)return e;let t=e._i.toString(),n=0;const i=t.length,o=Tt(e._f,e._locale).match(C)||[];let r,s,a,c;for(r=0;r<o.length;r++)s=o[r],a=(t.match(ne(s,e._locale))||[])[0],a&&(c=t.substr(0,t.indexOf(a)),c.length>0&&ue(e).unusedInput.push(c),t=t.slice(t.indexOf(a)+a.length),n+=a.length),_[s]?(a?ue(e).empty=!1:ue(e).unusedTokens.push(s),ae(s,a,e)):e._strict&&!a&&ue(e).unusedTokens.push(s);return ue(e).charsLeftOver=i-n,t.length>0&&ue(e).unusedInput.push(t),e._a[3]<=12&&!0===ue(e).bigHour&&e._a[3]>0&&(ue(e).bigHour=void 0),ue(e).parsedDateParts=e._a.slice(0),ue(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){let i=t;if(null==n)return i;if(null!=e.meridiemHour)return e.meridiemHour(i,n);if(null==e.isPM)return i;const o=e.isPM(n);return o&&i<12&&(i+=12),o||12!==i||(i=0),i}(e._locale,e._a[3],e._meridiem),kt(e),At(e)}function Mt(e,t,n,i,s){return r(e)?e:function(e,t,n,i,s){const a={};let p=e;return(d(p)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;let t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(p)||l(p)&&0===p.length)&&(p=void 0),a._useUTC=a._isUTC=s,a._l=n,a._i=p,a._f=t,a._strict=i,function(e){const t=At(function(e){let t=e._i;const n=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===n&&""===t?dt(e,{nullInput:!0}):(o(t)&&(e._i=t=e._locale.preparse(t,n)),r(t)?(e._d=Se(t),e):(l(n)?function(e){let t,n,i,o,r;if(!e._f||0===e._f.length)return ue(e).invalidFormat=!0,dt(e);for(r=0;r<e._f.length;r++)o=0,t=Object.assign({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Et(t),ut(t)&&(o+=ue(t).charsLeftOver,o+=10*ue(t).unusedTokens.length,ue(t).score=o,(null==i||o<i)&&(i=o,n=t));Object.assign(e,n||t)}(e):n?Et(e):function(e){const t=e._i;if(h(t))e._d=new Date;else if(r(t))e._d=Se(t);else if(o(t))!function(e){if(!o(e._i))return e;const t=bt.exec(e._i);null!==t?e._d=new Date(+t[1]):(_t(e),!1!==e._isValid||(delete e._isValid,St(e),!1!==e._isValid||(delete e._isValid,dt(e))))}(e);else if(l(t)&&t.length){const n=t.slice(0);e._a=n.map(e=>o(e)?parseInt(e,10):e),kt(e)}else if(d(t))!function(e){if(e._d)return e;const t=e._i;if(d(t)){const n=function(e){const t={};let n,i;for(i in e)u(e,i)&&(n=b(i),n&&(t[n]=e[i]));return t}(t);e._a=[n.year,n.month,n.day,n.hours,n.minutes,n.seconds,n.milliseconds].map(e=>o(e)?parseInt(e,10):e)}kt(e)}(e);else{if(!c(t))return dt(e);e._d=new Date(t)}}(e),ut(e)||(e._d=null),e))}(e));return t._d=new Date(null!=t._d?t._d.getTime():NaN),ut(Object.assign({},t,{_isValid:null}))||(t._d=new Date(NaN)),t}(a)}(e,t,n,i,s)._d}function Pt(e){return e instanceof Date?new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()):null}function Dt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function xt(e,t,n="milliseconds"){return!(!e||!t)&&("milliseconds"===n?e.valueOf()>t.valueOf():t.valueOf()<Oe(e,n).valueOf())}function It(e,t,n="milliseconds"){return!(!e||!t)&&("milliseconds"===n?e.valueOf()<t.valueOf():Te(e,n).valueOf()<t.valueOf())}function Lt(e,t){return!(void 0===t||!t||!t.length)&&t.some(t=>t===e.getDay())}function Rt(e,t,n="milliseconds"){if(!e||!t)return!1;if("milliseconds"===n)return e.valueOf()===t.valueOf();const i=t.valueOf();return Oe(e,n).valueOf()<=i&&i<=Te(e,n).valueOf()}const Nt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,jt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Bt(e,t,n={}){const i=function(e,t){if(null==e)return{};if(e instanceof lt)return{milliseconds:e._milliseconds,day:e._days,month:e._months};if(c(e))return t?{[t]:e}:{milliseconds:e};if(o(e)){let t=Nt.exec(e);if(t){const e="-"===t[1]?-1:1;return{year:0,day:p(t[2])*e,hours:p(t[3])*e,minutes:p(t[4])*e,seconds:p(t[5])*e,milliseconds:p(Dt(1e3*p(t[6])))*e}}if(t=jt.exec(e),t){const e="-"===t[1]?-1:1;return{year:Ft(t[2],e),month:Ft(t[3],e),week:Ft(t[4],e),day:Ft(t[5],e),hours:Ft(t[6],e),minutes:Ft(t[7],e),seconds:Ft(t[8],e)}}}if(d(e)&&("from"in e||"to"in e)){const t=function(e,t){if(!s(e)||!s(t))return{milliseconds:0,months:0};let n;const i=function(e,t,n={}){if(!n._isUTC)return e;const i=Se(t),o=6e4*(n._offset||0),r=e.valueOf()-i.valueOf()+o;return i.setTime(i.valueOf()+r),i}(t,e,{_offset:e.getTimezoneOffset()});return It(e,i)?n=Ht(e,i):(n=Ht(i,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}(Mt(e.from),Mt(e.to));return{milliseconds:t.milliseconds,month:t.months}}return e}(e,t);return new lt(i,n)}function Ft(e,t){const n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ht(e,t){const n={milliseconds:0,months:0};return n.months=D(t)-D(e)+12*(x(t)-x(e)),xt(Ut(Se(e),n.months,"month"),t)&&--n.months,n.milliseconds=+t-+Ut(Se(e),n.months,"month"),n}function Ut(e,t,n,i){return Yt(e,Bt(t,n),1,i)}function Yt(e,t,n,i){const o=t._milliseconds,r=Dt(t._days),s=Dt(t._months);return s&&_e(e,D(e,i)+s*n,i),r&&Ce(e,P(e,i)+r*n,i),o&&function(e,t){e.setTime(t)}(e,function(e){return e.getTime()}(e)+o*n),Se(e)}function Gt(e,t,n=tt(),i){const r=M(e,i);return Ut(e,function(e,t){if(!o(e))return e;const n=parseInt(e,10);if(!isNaN(n))return n;const i=t.weekdaysParse(e);return c(i)?i:null}(t,n)-r,"day")}function Vt(e,t=tt(),n){return(M(e,n)+7-t.firstDayOfWeek())%7}let Zt="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),$t="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),Wt=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],Kt=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;const zt={abbr:"es",months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:(e,t,n)=>e?/-MMM-/.test(t)?$t[D(e,n)]:Zt[D(e,n)]:Zt,monthsRegex:Kt,monthsShortRegex:Kt,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:Wt,longMonthsParse:Wt,shortMonthsParse:Wt,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:e=>"[hoy a la"+(1!==w(e)?"s":"")+"] LT",nextDay:e=>"[ma\xf1ana a la"+(1!==w(e)?"s":"")+"] LT",nextWeek:e=>"dddd [a la"+(1!==w(e)?"s":"")+"] LT",lastDay:e=>"[ayer a la"+(1!==w(e)?"s":"")+"] LT",lastWeek:e=>"[el] dddd [pasado a la"+(1!==w(e)?"s":"")+"] LT",sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}};let Qt="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Xt="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");const qt={abbr:"es-us",months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:(e,t,n)=>e?/-MMM-/.test(t)?Xt[D(e,n)]:Qt[D(e,n)]:Qt,monthsParseExact:!0,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY h:mm A",LLLL:"dddd, MMMM [de] D [de] YYYY h:mm A"},calendar:{sameDay:e=>"[hoy a la"+(1!==w(e)?"s":"")+"] LT",nextDay:e=>"[ma\xf1ana a la"+(1!==w(e)?"s":"")+"] LT",nextWeek:e=>"dddd [a la"+(1!==w(e)?"s":"")+"] LT",lastDay:e=>"[ayer a la"+(1!==w(e)?"s":"")+"] LT",lastWeek:e=>"[el] dddd [pasado a la"+(1!==w(e)?"s":"")+"] LT",sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}}},"UNi/":function(e,t){e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},UXnn:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var i=n("ofXK"),o=n("fXoL"),r=n("jtHE"),s=n("LRne"),a=n("z6cu"),c=n("PqYM"),l=n("2Vo4"),u=n("cp0P"),d=n("eIep"),h=n("vkgz"),p=n("MtjB"),g=n("5+tZ"),f=n("JIr8"),m=n("lJxs"),b=n("xbPD"),v=n("AytR"),y=n("1AID"),_=n("Elrx"),C=n("deb4"),S=n("tiZS"),O=n("tk/3"),T=n("imvL"),w=n("9YtQ"),k=n("BifP"),A=n("egL7");let E=(()=>{class e{constructor(e){this.gtmService=e}trackApiError(e,t,n){this.gtmService.pushTag({event:"boxever_message",message:{type:"error",id:e,code:t,message:n}})}}return e.\u0275fac=function(t){return new(t||e)(o.dc(A.a))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var M=n("jhN1"),P=n("y4Wf");let D=(()=>{class e{constructor(e,t,n,i,o,s,a,c,l,u,d,h){this.http=e,this.authService=t,this.deviceService=n,this.injector=i,this.cmsConfig=o,this.boxeverDatalayer=s,this.document=a,this.platformId=c,this.currency=l,this.localeId=u,this.sanitize=d,this.basketApi=h,this.svcInit=!1,this.loadBoxeverFromSDK=!0,this.ready=new r.a(1),this.isBoxeverEnabled=this.cmsConfig.getSectionFeatureValue(y.b.GLOBAL,y.a.BoxeverIntegration)}get boxeverSDK(){if(!this.isBoxeverEnabled)return{};try{return window.Boxever||Boxever}catch(e){return{}}}get boxeverUtils(){if(!this.isBoxeverEnabled)return{};try{return window._boxever_utils||_boxever_utils}catch(e){return{}}}get clientKey(){return this.boxeverSDK.client_key||null}get browserId(){return this.boxeverSDK.browser_id||null}get pointOfSale(){return this.boxeverUtils.getPOS()||null}get language(){return this.boxeverUtils.getLanguage()||"ES"}get channel(){return this.boxeverUtils.getChannel()||"WEB"}init(){if(!this.svcInit){if(this.svcInit=!0,!this.isBoxeverEnabled)return void this.onBoxeverDisabled();this.loadBoxeverFromSDK&&(Object(i.L)(this.platformId)?((e,t,n,i)=>{const o=e;o._boxeverq=o._boxeverq||[],o._boxever_settings={client_key:v.g.boxever.clientKey,target:v.g.boxever.apiTarget,cookie_domain:v.g.boxever.cookieDomain};const r=t.createElement("script");r.type="text/javascript",r.async=!0,r.src=`https://d1mj578wat5n4o.cloudfront.net/boxever-${v.g.boxever.clientVersion}.min.js`,n&&(r.onload=n),i&&(r.onerror=i),t.head.appendChild(r)})(window,this.document,this.onBoxeverLoad.bind(this),this.onBoxeverError.bind(this)):this.onBoxeverError())}}onBoxeverLoad(){const e=this.injector.get(C.a),t={currency:this.currency,locale:this.localeId,variant:this.deviceVariant,flowTypeFn:e?e._boxever_flowtype.bind(e):void 0};((e,t)=>{const n=e,i=t;n._boxever_utils={pushEventQueue:e=>{const t=n.BoxeverStorage.get(n.EVENTS_Q_COOKIE_NAME),i=null!=t&&t.length>0?t:[];i.push(e),n.BoxeverStorage.set(n.EVENTS_Q_COOKIE_NAME,i,n.JSTORAGE_OPTIONS)},processEventQueue:e=>{const t=n.BoxeverStorage.get(n.EVENTS_Q_COOKIE_NAME);if(null!=t&&t.length){n.BoxeverStorage.set(n.EVENTS_Q_COOKIE_NAME,[],n.JSTORAGE_OPTIONS);const i=[];for(let e=0;e<t.length;e++)t[e]&&i.push(t[e]);!function t(){if(i.length>0)try{const e=i.shift();n.Boxever.eventCreate(e,t,"json")}catch(o){n.BoxeverJERS.errors.push(o),t()}else e()}()}else e()},clearEventQueue:()=>{n.BoxeverStorage.set(n.EVENTS_Q_COOKIE_NAME,[],n.JSTORAGE_OPTIONS)},getDataLayer:e=>{let t;for(let i=0;i<n.dataLayer.length;i++)n.dataLayer[i].box===e&&(t=n.dataLayer[i]);return t},getChannel:e=>{let t="WEB";return"mobile"===(null==i?void 0:i.variant)&&(t="MOBILE_WEB"),t},getPage:e=>(null==i?void 0:i.flowTypeFn)&&i.flowTypeFn()||"",getLanguage:e=>(null==i?void 0:i.locale)?i.locale.substring(0,2).toUpperCase():"ES",getCurrency:e=>(null==i?void 0:i.currency)||"MXN",getPOS:e=>{let t=(null==i?void 0:i.locale)||"es-MX";return t="en-US"===t?"us":"es-MX"===t?"mx":"com","vivaaerobus."+t}},n.EVENTS_Q_COOKIE_NAME="beq_"+v.g.boxever.clientKey,n.JSTORAGE_OPTIONS={TTL:864e5}})(window,t),this.setReady(!0),v.g.production||console.log("[VIVAAERBOUS BOXEVER] -> SPA Script loaded")}onBoxeverError(){this.setReady(!1),v.g.production||console.error("[VIVAAERBOUS BOXEVER] -> SPA Script not loaded.")}onBoxeverDisabled(){this.setReady(!1),v.g.production||console.warn("[VIVAAERBOUS BOXEVER] -> Boxever integration is disabled.")}get deviceVariant(){return this.deviceService.isMobile()?"mobile":this.deviceService.isTablet()?"tablet":this.deviceService.isDesktop()?"desktop":"unknown"}setReady(e){this.ready.closed||(this.ready.next(e),this.ready.complete())}isBoxeverDefined$(){return this.isBoxeverEnabled?this.loadBoxeverFromSDK?this.ready.asObservable():this.isBoxeverDefined?this.isBoxeverDefined.asObservable():Object(s.a)({}).pipe(Object(d.a)(()=>Object(s.a)(!!this.clientKey&&!!this.browserId&&!!this.pointOfSale)),Object(h.a)(e=>{if(!e)throw new Error("Boxever values are not defined.")}),Object(p.a)(Object(g.a)((e,t)=>t+1>10?Object(a.a)(e):Object(c.a)(500))),Object(f.a)(this.handleError)):Object(s.a)(!1)}getPersonalizationSettings$(e){return this.isBoxeverDefined$().pipe(Object(d.a)(t=>(this.isBoxeverEnabled&&!this.loadBoxeverFromSDK&&(this.isBoxeverDefined=new l.a(t)),t?this.http.post(v.g.BOXEVER_API+"/v2/callFlows",{context:{clientKey:this.clientKey,channel:this.channel,language:this.language,currencyCode:this.currency,friendlyId:e,pointOfSale:this.pointOfSale,browserId:this.browserId,params:{language:this.language,isLoggedIn:this.authService.isLoggedIn}}}).pipe(Object(m.a)(t=>Object.assign(Object.assign({},t),{friendlyId:e})),Object(f.a)(t=>{const n=(null==t?void 0:t.error)||{},i=`Fetching personalization ${e}. Details: ${n.message||""}`;return this.boxeverDatalayer.trackApiError(e,n.code||"",JSON.stringify({message:i})),this.handleError(new Error(i))})):Object(s.a)(null))))}getSecondaryBannerSettings$(){var e,t;return Object(s.a)((null===(t=null===(e=this.cmsConfig._cmsConfig.globalSettings)||void 0===e?void 0:e.boxeverConfig)||void 0===t?void 0:t.secondaryBannerPersonalization)||[]).pipe(I(this.getPersonalizationSettings$.bind(this)),x("Secondary Banner"),Object(m.a)(e=>{const{type:t,boxeverSettings:n}=e;if(!t)throw new Error("Secondary Banner response object is not defined");if(n&&n.loginRequired&&!this.authService.isLoggedIn)throw new Error("Secondary Banner custom experience cannot be triggered if the user is not logged in.");return e}),Object(f.a)(this.handleError))}getConfirmationBannerSettings$(){var e,t;return Object(s.a)((null===(t=null===(e=this.cmsConfig._cmsConfig.globalSettings)||void 0===e?void 0:e.boxeverConfig)||void 0===t?void 0:t.confirmationBannerPersonalization)||[]).pipe(I(this.getPersonalizationSettings$.bind(this)),x("Confirmation Banner"),Object(m.a)(e=>{const{topBanner:t,bottomBanner:n}=e||{},i=[],o=e=>({html:this.sanitize.bypassSecurityTrustHtml(e)});return i.push(t?o(t):null),i.push(n?o(n):null),i}),Object(f.a)(this.handleError))}getAncillariesRecommendation$(e,t){var n,i;const o={CabinBaggage:null,CheckInBaggage:null,Recommended:null,Other:null};return Object(s.a)((null===(i=null===(n=this.cmsConfig._cmsConfig.globalSettings)||void 0===n?void 0:n.boxeverConfig)||void 0===i?void 0:i.extrasPagePersonalization)||[]).pipe(I(this.getPersonalizationSettings$.bind(this)),x("Ancillaries recommendation Banner"),function(e,t,n){return Object(d.a)(i=>n({basketId:e.basketId,flowType:e.flowType,bookingType:e.bookingType,customFieldUpdates:[{path:"Boxever",value:{friendlyId:i.friendlyId,browserId:t},updateType:S.a.Replace}]}).pipe(Object(m.a)(()=>i),Object(f.a)(()=>Object(s.a)(i))))}(e,this.browserId,this.basketApi.updateBasket.bind(this)),Object(m.a)(e=>(e.sortingGroups.forEach(e=>{const n=e.products.map(e=>{const n=t.services.find(t=>t.options.find(t=>t.ssrCode===e)),i=t.transportServices.find(t=>t.pickupLocations.find(t=>t.ssrCode===e));return n||i});o[e.type]=n.filter(e=>!!e)}),o)),Object(f.a)(this.handleError))}handleError(e){return v.g.production||console.error("[VIVAAEROBUS BOXEVER] -> "+e),Object(s.a)(null)}}return e.\u0275fac=function(t){return new(t||e)(o.dc(O.b),o.dc(T.a),o.dc(w.a),o.dc(o.u),o.dc(k.a),o.dc(E),o.dc(i.e),o.dc(o.G),o.dc(_.b),o.dc(o.y),o.dc(M.b),o.dc(P.a))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function x(e){return Object(m.a)(t=>{if(!(t=t.filter(e=>!!e&&"priority"in(e.boxeverSettings||{}))).length)throw new Error(`No personalizations available for ${e} component`);return t.sort((e,t)=>e.boxeverSettings.priority-t.boxeverSettings.priority)[0]})}function I(e){return Object(d.a)(t=>Object(u.a)(...t.map(t=>e(t.personalizationId))).pipe(Object(b.a)([])))}},UXun:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("jtHE");function o(e,t,n){let o;return o=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:o}){let r,s,a=0,c=!1,l=!1;return function(u){a++,r&&!c||(c=!1,r=new i.a(e,t,o),s=u.subscribe({next(e){r.next(e)},error(e){c=!0,r.error(e)},complete(){l=!0,s=void 0,r.complete()}}));const d=r.subscribe(this);this.add(()=>{a--,d.unsubscribe(),s&&!l&&n&&0===a&&(s.unsubscribe(),s=void 0,r=void 0)})}}(o))}},UnBK:function(e,t,n){"use strict";var i=n("xTJ+"),o=n("xAGQ"),r=n("Lmem"),s=n("JEQr");function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return r(t)||(a(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},UoSQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=n("mrSG"),o=n("fXoL"),r=n("wd/R"),s=n("PqYM"),a=n("AytR"),c=n("1AID"),l=n("Elrx"),u=n("AUkv"),d=n("BifP"),h=n("ofXK"),p=n("vxfF");const g=["vsViewPort"],f=function(e){return{"weekend-day":e}};function m(e,t){if(1&e&&(o.Zb(0,"div",6),o.Zb(1,"span"),o.Sc(2),o.kc(3,"uppercase"),o.Yb(),o.Yb()),2&e){const e=t.$implicit,n=t.index,i=o.jc();o.sc("ngClass",o.vc(4,f,i.isWeekendDay(e,n))),o.Hb(2),o.Tc(o.lc(3,2,i.weekDay(e)))}}function b(e,t){if(1&e&&(o.Xb(0),o.Zb(1,"p"),o.Sc(2),o.Yb(),o.Wb()),2&e){const e=o.jc().$implicit;o.Hb(2),o.Tc(e.format("D"))}}function v(e,t){1&e&&o.Ub(0,"div",15)}function y(e,t){if(1&e){const e=o.ac();o.Zb(0,"div",12),o.hc("click",(function(){o.Hc(e);const n=t.$implicit;return o.jc(3).chooseDate(n)})),o.Qc(1,b,3,1,"ng-container",13),o.Qc(2,v,1,0,"div",14),o.Yb()}if(2&e){const e=t.$implicit,n=o.jc(2).$implicit,i=o.jc();o.sc("hidden",e.format("M")!==n.number.toString())("ngClass",i.getDayClass(e)),o.Hb(1),o.sc("ngIf",e.format("M")===n.number.toString()),o.Hb(1),o.sc("ngIf",i.showPricesData&&i.loadingPrices&&i.dayIndex.format("M")===n.number.toString())}}function _(e,t){if(1&e&&(o.Zb(0,"div",10),o.Qc(1,y,3,4,"div",11),o.Yb()),2&e){const e=t.$implicit;o.Hb(1),o.sc("ngForOf",e)}}function C(e,t){if(1&e&&(o.Zb(0,"div",7),o.Zb(1,"p",8),o.Sc(2),o.kc(3,"titlecase"),o.Zb(4,"span"),o.Sc(5),o.Yb(),o.Yb(),o.Qc(6,_,2,1,"div",9),o.Yb()),2&e){const e=t.$implicit,n=o.jc();o.Hb(2),o.Uc("",o.lc(3,3,n.nameOfMonth(e.number-1))," "),o.Hb(3),o.Tc(e.year),o.Hb(1),o.sc("ngForOf",e.weeks)}}let S=(()=>{class e{constructor(e,t,n){this.lowFaresService=e,this.currencyCode=t,this.cmsConfig=n,this.isRoundTrip=!0,this.departureBookingDates=[],this.returnBookingDates=[],this.selectedDates={startDate:null,endDate:null},this.showPrices=!1,this.openCalendar=!1,this.keepPreviousDatesSelected=!1,this.selectedDatesChange=new o.p,this.closePicker=new o.p,this.rangePrices=new o.p,this.loadingPricesEvent=new o.p,this.minDate=r(),this.maxDate=r().add(60,"days"),this.chosenDate={startDate:null,endDate:null},this.bookingDates=[],this.outboundSelected=!1,this.calendarDays=[],this.months=[],this.calendar=[],this.showPricesData=!1,this.loadingPrices=!1,this.vivaFanPrices=!1,this.calendarDays=this.buildWeek()}ngOnInit(){this.startDate=r(),this.vivaFanPrices=this.cmsConfig.getBookingFeatureValue(c.a.DisplayVivaFanPriceLowFare)}ngOnChanges(e){var t;e.showPrices&&(this.showPricesData=this.showPrices),e.departureBookingDates&&!this.keepPreviousDatesSelected&&(this.startDate=r(),this.lastBookingDate=r(this.cmsConfig._cmsConfig.lastBookingDate),this.updateMinMaxDates(),this.buildCalendar(),this.selectValidDates(),this.showPricesData&&(this.dayIndex=null===(t=this.chosenDate)||void 0===t?void 0:t.startDate,this.getMonthLowFares(this.dayIndex)),this.initCalendarMobile()),this.openCalendar&&!this.chosenDate&&this.initCalendarMobile()}initCalendarMobile(e=!0){this.bookingDates=this.departureBookingDates,this.outboundSelected=!1,this.refreshCalendarDayClasses(),e&&Object(s.a)(0).subscribe(()=>{this.cdkScrollToStartMonth()})}selectValidDates(){var e,t,n,i;if(this.selectedDates&&(null===(e=this.selectedDates)||void 0===e?void 0:e.startDate)&&this.isAValidDate(null===(t=this.selectedDates)||void 0===t?void 0:t.startDate,this.departureBookingDates))return this.chosenDate.startDate=this.selectedDates.startDate.clone(),void((null===(n=this.selectedDates)||void 0===n?void 0:n.endDate)&&this.isAValidDate(null===(i=this.selectedDates)||void 0===i?void 0:i.endDate,this.returnBookingDates)&&(this.chosenDate.endDate=this.selectedDates.endDate.clone()))}isAValidDate(e,t){var n;return!(!this.generateValidDaysObjMapping(t)[e.format("YYYYMMDD")]||e.isBefore(this.startDate,"day")||this.outboundSelected&&e.isBefore(null===(n=this.chosenDate)||void 0===n?void 0:n.startDate,"day"))}updateMinMaxDates(){let e=r(),t=r();for(const n of this.departureBookingDates)n.date<e&&(e=n.date.clone()),n.date>t&&(t=n.date.clone());if(this.isRoundTrip)for(const n of this.returnBookingDates)n.date<e&&(e=n.date.clone()),n.date>t&&(t=n.date.clone());this.minDate=e.startOf("month").clone(),this.maxDate=this.lastBookingDate?this.lastBookingDate.clone():t.endOf("month").clone()}closeCalendar(){this.closePicker.emit()}buildWeek(e){const t=[],n=e||r(),i=r(n).startOf("week"),o=r(n).endOf("week");for(;i.isSameOrBefore(o,"day");)t.push(i.clone()),i.add(1,"day");return t}buildCalendarMonth(e){const t=r(e).startOf("month"),n=r(e).endOf("month"),i=t.clone().startOf("week"),o=[];for(;i.isSameOrBefore(n,"month");)o.push(this.buildWeek(i)),i.add(1,"week");return o}weekDay(e){return e.format("dd").substring(0,1)}dateRange(e,t){const n=e.split("-"),i=t.split("-"),o=parseInt(n[0],10),r=parseInt(i[0],10),s=[];for(let a=o;a<=r;a++){const e=a!==r?11:parseInt(i[1],10)-1;for(let t=a===o?parseInt(n[1],10)-1:0;t<=e;t=t>12?t%12||11:t+1){const e=t+1;s.push([a,e<10?"0"+e:e,"01"].join("-"))}}return this.months=s,s}buildCalendar(){this.dateRange(this.minDate.format("YYYY-MM-DD"),this.maxDate.format("YYYY-MM-DD"));const e=[];this.months.forEach(t=>{e.push({weeks:this.buildCalendarMonth(t),number:r(t).get("month")+1,year:r(t).format("YYYY")})}),this.calendar=e,this.generateDayPrices()}chooseDate(e){return this.chosenDate&&(this.chosenDate.startDate||this.chosenDate.endDate)&&this.isRoundTrip?this.isRoundTrip&&this.chosenDate&&this.chosenDate.startDate&&!this.chosenDate.endDate&&e.isSameOrAfter(this.chosenDate.startDate)?(this.chosenDate={startDate:this.chosenDate.startDate,endDate:r(e.clone()).endOf("day")},this.selectedDatesChange.emit(this.chosenDate),this.closeCalendar(),this.initCalendarMobile(!1),void this.getPricesRangesData()):this.isRoundTrip&&this.chosenDate&&(this.chosenDate.startDate&&this.chosenDate.endDate||this.chosenDate.startDate&&e.isBefore(this.chosenDate.startDate))?(this.chosenDate={startDate:e.clone(),endDate:null},this.selectedDatesChange.emit(this.chosenDate),this.bookingDates=this.returnBookingDates,this.outboundSelected=!0,this.refreshCalendarDayClasses(),void this.getPricesRangesData()):void 0:(this.chosenDate={startDate:e.clone(),endDate:null},this.selectedDatesChange.emit(this.chosenDate),this.isRoundTrip?(this.bookingDates=this.returnBookingDates,this.outboundSelected=!0,this.refreshCalendarDayClasses(),void this.getPricesRangesData()):(this.closeCalendar(),this.initCalendarMobile(!1),void this.getPricesRangesData()))}nameOfMonth(e){return r().month(e).format("MMMM")}isMiddleDay(e){var t,n;return!(!(null===(t=this.chosenDate)||void 0===t?void 0:t.startDate)||!(null===(n=this.chosenDate)||void 0===n?void 0:n.endDate))&&e.isBetween(this.chosenDate.startDate,this.chosenDate.endDate,"day","()")}isLastDay(e){var t,n;return!(!(null===(t=this.chosenDate)||void 0===t?void 0:t.endDate)||!(null===(n=this.chosenDate)||void 0===n?void 0:n.endDate.isSame(e,"day")))}isWeekendDay(e,t){return 6===e.isoWeekday()||1===e.isoWeekday()&&1===t}generateDayClass(e,t,n){var i,o,r,s,a,c,l,u;let d="";if(this.isWeekendDay(e,e.weekday())&&(d+=" weekend-day"),this.isMiddleDay(e)&&(d+=" isInRange"),(!t||e.isBefore(this.startDate,"day")||this.outboundSelected&&e.isBefore(null===(i=this.chosenDate)||void 0===i?void 0:i.startDate,"day")||this.forceMinDate&&e.isBefore(this.forceMinDate,"day")||this.forceMaxDate&&e.isAfter(this.forceMaxDate,"day"))&&(d+=" isDisabled"),e.isSame(this.startDate,"day")&&(d+=" today"),e.isSame(null===(o=this.chosenDate)||void 0===o?void 0:o.startDate,"day")&&(d+=" activeStart"),this.isLastDay(e)&&(d+=" activeEnd"),t&&!t.availableDirectFlights&&(d+=" connectFlight"),this.showPricesData&&!d.includes("isDisabled")&&!d.includes("activeStart")&&!d.includes("activeEnd")){const e=this.isRoundTrip&&(null===(r=this.chosenDate)||void 0===r?void 0:r.startDate)&&!(null===(s=this.chosenDate)||void 0===s?void 0:s.endDate)?1:0,t=this.vivaFanPrices?null===(c=null===(a=this.dayPrices[n][e])||void 0===a?void 0:a.vivaFanFare)||void 0===c?void 0:c.amount:null===(u=null===(l=this.dayPrices[n][e])||void 0===l?void 0:l.fare)||void 0===u?void 0:u.amount;t>=0&&this.maxRange&&this.minRange&&(d+=t>this.maxRange?" max-fare":t>this.minRange?" medium-fare":" min-fare")}return d}generateDayClasses(){this.dayClasses={};const e=this.generateValidDaysObjMapping(this.bookingDates);this.calendar.forEach(t=>{t.weeks.forEach(t=>{t.forEach(t=>{const n=t.format("YYYYMMDD");this.dayClasses[n]=this.generateDayClass(t,e[n],n)})})})}generateDayPrices(){this.dayIndex=null,this.minRange=null,this.maxRange=null,this.dayPrices={},this.calendar.forEach(e=>{e.weeks.forEach(e=>{e.forEach(e=>{const t=e.format("YYYYMMDD");this.dayPrices[t]=[null,null]})})})}generateValidDaysObjMapping(e){const t={};return e.forEach(e=>{const n=e.date.format("YYYYMMDD");t[n]=e}),t}refreshCalendarDayClasses(){this.generateDayClasses()}getDayClass(e){return this.dayClasses[e.format("YYYYMMDD")]}cdkScrollToStartMonth(){var e;if(this.vsViewPort){let t=null===(e=this.chosenDate.startDate)||void 0===e?void 0:e.diff(r().startOf("month"),"months");void 0===t&&(t=this.bookingDates[0].date.diff(r().startOf("month"),"months")),t>=0&&t<this.vsViewPort.getDataLength()&&this.vsViewPort.scrollToIndex(t)}}getMonthLowFares(e){return Object(i.a)(this,void 0,void 0,(function*(){if(this.queryParameters&&this.currencyCode&&this.showPricesData&&!this.dayPrices[e.format("YYYYMMDD")][0]&&!this.dayPrices[e.clone().endOf("month").format("YYYYMMDD")][0]&&!this.loadingPrices){this.loadingPrices=!0,this.loadingPricesEvent.emit(!0),yield this.lowFaresService.waitForAccountReadyIfUsingCacheEndpoint();try{const t=this.lowFaresService.generatePayload(e,this.currencyCode,this.queryParameters),n=this.lowFaresService.getMonthlyLowFares(t),i=yield n.toPromise();i&&(this.setPricesMonthPrices(i),this.loadingPrices=!1,this.loadingPricesEvent.emit(!1),this.getPricesRangesData(),e.format("YYYYMM")!==this.dayIndex.clone().format("YYYYMM")&&this.getMonthLowFares(this.dayIndex))}catch(t){a.g.production||console.error("getMonthlyLowFares: ",t),this.loadingPrices=!1,this.loadingPricesEvent.emit(!1)}}}))}setPricesMonthPrices(e){e.lowFares.forEach(e=>{const t=r(e.departureDate).format("YYYYMMDD");this.dayPrices[t][0]&&!this.dayPrices[t][1]?this.dayPrices[t][0].destination.code===e.origin.code&&(this.dayPrices[t][1]=e):this.dayPrices[t][0]||(this.dayPrices[t][0]=e)})}getPricesRangesData(){var e,t,n,i,o,s,a,c,l,u,d,h,p,g,f,m;if(this.showPricesData){const b=this.isRoundTrip&&(null===(e=this.chosenDate)||void 0===e?void 0:e.startDate)&&!(null===(t=this.chosenDate)||void 0===t?void 0:t.endDate)?1:0;let v=r().clone().startOf("month").format("YYYYMMDD");const y=r().set("year",parseInt(this.calendar[this.calendar.length-1].year,10)).set("month",this.calendar[this.calendar.length-1].number-1).endOf("month").format("YYYYMMDD");let _=((null===(n=this.queryParameters)||void 0===n?void 0:n.doters)?null===(o=null===(i=this.dayPrices[v][b])||void 0===i?void 0:i.fare)||void 0===o?void 0:o.pointAmount:this.vivaFanPrices?null===(a=null===(s=this.dayPrices[v][b])||void 0===s?void 0:s.vivaFanFare)||void 0===a?void 0:a.amount:null===(l=null===(c=this.dayPrices[v][b])||void 0===c?void 0:c.fare)||void 0===l?void 0:l.amount)||99999;const C=[];let S=0,O=0;for(;v<=y;){const e=(null===(u=this.queryParameters)||void 0===u?void 0:u.doters)?null===(h=null===(d=this.dayPrices[v][b])||void 0===d?void 0:d.fare)||void 0===h?void 0:h.pointAmount:this.vivaFanPrices?null===(g=null===(p=this.dayPrices[v][b])||void 0===p?void 0:p.vivaFanFare)||void 0===g?void 0:g.amount:null===(m=null===(f=this.dayPrices[v][b])||void 0===f?void 0:f.fare)||void 0===m?void 0:m.amount;e&&(O++,S+=e,C.push(e),e&&e<_&&(_=e)),v=r(v).add(1,"day").format("YYYYMMDD")}if(C.length){const e=S/O,t=this.getStandardDeviation(C,e);this.minRange=Math.max(e-t,_),this.maxRange=e+t,this.rangePrices.emit({minRange:this.minRange,maxRange:this.maxRange})}this.refreshCalendarDayClasses()}}getStandardDeviation(e,t){const n=e.length;return Math.sqrt(e.map(e=>Math.pow(e-t,2)).reduce((e,t)=>e+t)/n)}onScrollAction(){if(this.showPricesData){const e=r().set("year",parseInt(this.calendar[0].year,10)).set("month",this.calendar[0].number-1).startOf("month"),t=r().set("year",parseInt(this.calendar[this.calendar.length-1].year,10)).set("month",this.calendar[this.calendar.length-1].number).startOf("month"),n=this.vsViewPort.measureScrollOffset(),i=35;let o=0;if(n>157.5){const e=(n-i)/315;o=e-e%1+1}o>0&&e.add(o,"month"),!e.isSameOrAfter(this.startDate.clone().startOf("month"))||e.clone().format("YYYYMM")===this.dayIndex.clone().format("YYYYMM")&&this.dayIndex||!e.isBefore(t)||(this.dayIndex=e,Object(s.a)(800).subscribe(()=>{e.clone().format("YYYYMM")===this.dayIndex.format("YYYYMM")&&this.getMonthLowFares(this.dayIndex)}))}}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(u.a),o.Tb(l.b),o.Tb(d.a))},e.\u0275cmp=o.Nb({type:e,selectors:[["app-mobile-calendar-view"]],viewQuery:function(e,t){var n;1&e&&o.Yc(g,!0),2&e&&o.Dc(n=o.ic())&&(t.vsViewPort=n.first)},inputs:{isRoundTrip:"isRoundTrip",departureBookingDates:"departureBookingDates",returnBookingDates:"returnBookingDates",selectedDates:"selectedDates",showPrices:"showPrices",openCalendar:"openCalendar",queryParameters:"queryParameters",forceMinDate:"forceMinDate",forceMaxDate:"forceMaxDate",keepPreviousDatesSelected:"keepPreviousDatesSelected"},outputs:{selectedDatesChange:"selectedDatesChange",closePicker:"closePicker",rangePrices:"rangePrices",loadingPricesEvent:"loadingPricesEvent"},features:[o.Fb],decls:6,vars:2,consts:[[1,"week-header"],[1,"d-flex","w-100","header-days","px-20"],["class","d-flex col-calendar title text-center py-10",3,"ngClass",4,"ngFor","ngForOf"],["itemSize","315",1,"months-main-container",3,"scroll"],["vsViewPort",""],["class","months-container my-20",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"d-flex","col-calendar","title","text-center","py-10",3,"ngClass"],[1,"months-container","my-20"],[1,"h3","name-month","text-left"],["class","d-flex justify-content-between w-100 px-20",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","w-100","px-20"],["class","d-flex day",3,"hidden","ngClass","click",4,"ngFor","ngForOf"],[1,"d-flex","day",3,"hidden","ngClass","click"],[4,"ngIf"],["class","skeleton-loader",4,"ngIf"],[1,"skeleton-loader"]],template:function(e,t){1&e&&(o.Zb(0,"div",0),o.Zb(1,"div",1),o.Qc(2,m,4,6,"div",2),o.Yb(),o.Yb(),o.Zb(3,"cdk-virtual-scroll-viewport",3,4),o.hc("scroll",(function(){return t.onScrollAction()})),o.Qc(5,C,7,5,"div",5),o.Yb()),2&e&&(o.Hb(2),o.sc("ngForOf",t.calendarDays),o.Hb(3),o.sc("cdkVirtualForOf",t.calendar))},directives:[h.t,p.c,p.a,p.b,h.r,h.u],pipes:[h.I,h.G],styles:['.week-header{position:-webkit-sticky;position:sticky;width:100%;top:0;background-color:var(--wh1);z-index:1}.symbology>.d-flex:first-child .bullet{width:10px;height:10px;background-color:var(--gr20);border-radius:50%}.symbology>.d-flex:first-child p{color:var(--gr50);font-size:12px;font-family:Lato;margin:0}.symbology>.d-flex:last-child .bullet{width:10px;height:10px;background-color:var(--lg4);border-radius:50%}.symbology>.d-flex:last-child p{color:var(--gr50);font-size:12px;margin:0}.header-days{background-color:var(--wh2);justify-content:space-between}.header-days>div{width:14.3%;justify-content:center;position:relative}.header-days>div.weekend-day{border-left:1px solid var(--gr20)}.header-days>div p{font-size:14px;line-height:15px;color:var(--bg6);font-family:Axiforma}.months-main-container{width:100%;height:calc(100% - 40px);margin-top:0!important}.months-container{height:315px}.months-container .name-month{margin:0!important;padding:0 20px 10px!important;font-size:20px;color:var(--bg6)}.months-container .name-month span{color:var(--bg4);font-size:14px;font-weight:lighter}.months-container .day{width:14.3%;justify-content:center;border-radius:2px;height:48px;background-color:transparent}.months-container .day .skeleton-loader{position:absolute;height:3px;width:32px;margin-top:43px;border-radius:1.5px}.months-container .day:active,.months-container .day:focus,.months-container .day:hover{outline:none;box-shadow:none;border-color:transparent}.months-container .day[hidden]{opacity:0;display:none;pointer-events:none}.months-container .day.max-fare:after{background-color:var(--bg6)}.months-container .day.max-fare:after,.months-container .day.medium-fare:after{content:"";width:32px;height:3px;border-radius:1.5px;position:absolute;margin-top:43px}.months-container .day.medium-fare:after{background-color:var(--lg4)}.months-container .day.min-fare:after{content:"";background-color:var(--r4);width:32px;height:3px;border-radius:1.5px;position:absolute;margin-top:43px}.months-container .day.activeStart{border-radius:5px 0 0 5px;background-color:var(--vg4)}.months-container .day.activeStart p{color:var(--wh1);font-weight:600}.months-container .day.activeEnd{border-radius:0 5px 5px 0;background-color:var(--bg4)}.months-container .day.activeEnd p{color:var(--wh1);font-weight:600}.months-container .day.activeEnd.activeStart{border:2px solid var(--vg4);border-radius:5px 5px 5px 5px}.months-container .day.activeEnd.activeStart p{position:relative;top:-2px}.months-container .day.today{position:relative}.months-container .day.today>p{font-weight:700}.months-container .day.today:before{content:"";position:absolute;top:0;left:50%;transform:translateX(-50%);height:47px;width:47px;border:1px solid var(--bg2);border-radius:50%}.months-container .day.connectFlight{position:relative}.months-container .day.connectFlight:not(.today,.activeEnd,.activeStart,.isDisabled)>p{color:var(--bg6)}.months-container .day.connectFlight:after{content:"";background-color:var(--gr40);width:5px;height:5px;border-radius:50%;position:absolute;margin-top:8px}.months-container .day.isDisabled{pointer-events:none}.months-container .day.isDisabled p{color:var(--gr20)}.months-container .day.isInRange{background-color:var(--wh2)!important}.months-container .day.isInRange:not(.isDisabled){color:var(--bg6);font-weight:600}.months-container .day.weekend-day{border-left:1px solid var(--gr20)}.months-container .day p{font-family:Axiforma;font-size:16px;color:var(--bg2);font-weight:500}'],encapsulation:2,changeDetection:0}),e})()},V6Ve:function(e,t,n){var i=n("kekF")(Object.keys,Object);e.exports=i},VHOi:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("ofXK"),o=n("fXoL"),r=n("AytR");let s=(()=>{class e{constructor(e){this.platformId=e,this.userTokenName=r.g.cacheKeys.LOGIN_TOKEN}get authToken(){return Object(i.L)(this.platformId)?localStorage.getItem(this.userTokenName):null}set authToken(e){Object(i.L)(this.platformId)&&e&&localStorage.setItem(this.userTokenName,e)}clearToken(){Object(i.L)(this.platformId)&&null!==localStorage.getItem(this.userTokenName)&&localStorage.removeItem(this.userTokenName)}get isRefreshingToken(){return!!Object(i.L)(this.platformId)&&null!==localStorage.getItem(r.g.cacheKeys.MUTEX_REFRESH_TOKEN)}setRefreshingToken(e){Object(i.L)(this.platformId)&&(e?localStorage.setItem(r.g.cacheKeys.MUTEX_REFRESH_TOKEN,"true"):this.removeRefreshingToken())}removeRefreshingToken(){Object(i.L)(this.platformId)&&null!==localStorage.getItem(r.g.cacheKeys.MUTEX_REFRESH_TOKEN)&&localStorage.removeItem(r.g.cacheKeys.MUTEX_REFRESH_TOKEN)}}return e.\u0275fac=function(t){return new(t||e)(o.dc(o.G))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},VOtZ:function(e,t,n){var i=n("juv8"),o=n("MvSz");e.exports=function(e,t){return i(e,o(e),t)}},VRyK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("HDdC"),o=n("z+Ro"),r=n("bHdf"),s=n("yCtX");function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return Object(o.a)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof i.a?e[0]:Object(r.a)(t)(Object(s.a)(e,n))}},VXQe:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("2Vo4"),o=n("fXoL");let r=(()=>{class e{constructor(){this.$show=new i.a(!1)}showOverlay(){this.$show.next(!0)}hideOverlay(){this.$show.next(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},VXoX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),o=n("TUgU");let r=(()=>{class e{constructor(e){this.cmsTranslate=e}transform(e,t){if(!e)return e||"";let n=this.cmsTranslate.getEntry(e);return n===e&&t&&(n=t),n}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(o.a))},e.\u0275pipe=i.Sb({name:"cmsTranslate",type:e,pure:!0}),e})()},VaNO:function(e,t){e.exports=function(e){return this.__data__.has(e)}},Vclq:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(n("wd/R"))},WCtt:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("vbKG"),o=n("AytR");const r={renderNode:{[i.INLINES.HYPERLINK]:(e,t)=>`<a target="_blank" rel='noopener noreferrer' href="${e.data.uri}" class="inline-link">${t(e.content)}</a>`,[i.BLOCKS.UL_LIST]:(e,t)=>`<ul class="viva-ul-list">${t(e.content)}</ul>`,[i.BLOCKS.OL_LIST]:(e,t)=>`<ol class="viva-ol-list">${t(e.content)}</ol>`,[i.BLOCKS.HEADING_5]:(e,t)=>`<h5 class="title">${t(e.content)}</h5>`,[i.BLOCKS.HEADING_6]:(e,t)=>`<h6 class="medium-title">${t(e.content)}</h6>`,[i.BLOCKS.EMBEDDED_ASSET]:e=>function(e){const t=e.fields.file;return t.contentType.startsWith("video/")?`\n      <div>\n        <video controls>\n          <source src=${t.url} type="${t.contentType}"/>\n          <p>Your browser doesnt support HTML5 video.</p>\n        </video>\n      </div>\n    `:t.contentType.startsWith("image/")?`<img src=${t.url} alt="${t.fileName}" loading="lazy" />`:(o.g.production||console.warn("Unimplemented content type: "+t.contentType),`<p class="subheader">${t.fileName}</p>`)}(e.data.target)}}},WFqU:function(e,t){var n="object"==typeof global&&global&&global.Object===Object&&global;e.exports=n},WGbO:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("mrSG"),o=n("ofXK"),r=n("fXoL"),s=n("AytR"),a=n("EcEN"),c=n("egL7"),l=n("lALM"),u=n("G/yK"),d=n("9YtQ"),h=n("b6Qw");let p=(()=>{class e{constructor(e,t,n,i,o,r){this.platformId=e,this.gtmService=t,this.location=n,this.station=i,this.deviceService=o,this.cookieService=r,this.variant="unknown"}loadChannelInfo(){Object(o.L)(this.platformId)&&this.gtmChannelTagInfo()}gtmChannelTagInfo(){const e=window.location.hostname;let t="unknown";"localhost"===e||"127.0.0.1"===e?t="local":/^([0-9]{1,3}\.){3}[0-9]{1,3}$/.test(e)||(t=e.split(".")[0]),this.variant=this.deviceService.isMobile()?"mobile":this.deviceService.isTablet()?"tablet":this.deviceService.isDesktop()?"desktop":"unknown",this.gtmService.pushTag({channel:{id:"web",type:t,variant:this.variant,detail:{release_number:s.g.appVersion}}}),this.addLocationToDataLayer()}addLocationToDataLayer(){var e,t,n,o;return Object(i.a)(this,void 0,void 0,(function*(){yield this.location._isReady;const i=this.location._location;let r="";if(i.coords){yield this.station.ready;const e=this.station.getClosestStation(i.coords.latitude,i.coords.longitude);e&&(r=e.code)}const s={event:"ev_location",channel:{location:{country:(null===(e=i.details)||void 0===e?void 0:e.countryCode)||"ZZ",region:(null===(t=i.details)||void 0===t?void 0:t.regionCode)||"ZZ",coordinates:`${(null===(n=i.coords)||void 0===n?void 0:n.latitude)||0}|${(null===(o=i.coords)||void 0===o?void 0:o.longitude)||0}`,closest_airport:r}}};this.gtmService.pushTag(s)}))}addGtmId(){this.id={d:this.cookieService.get("id-d"),s:Object(a.v4)()},this.gtmService.pushTag({id:this.id})}getDeviceId(){this.cookieService.get("id-d")||this.cookieService.set("id-d",Object(a.v4)(),{expires:730,secure:!0})}}return e.\u0275fac=function(t){return new(t||e)(r.dc(r.G),r.dc(c.a),r.dc(l.a),r.dc(u.a),r.dc(d.a),r.dc(h.a))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},WMd4:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("EY2u"),o=n("LRne"),r=n("z6cu");let s=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(r.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})()},WSM3:function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d}));const i=["VVF","VFN"],o=["VSF"],r=["VLY"],s=["VFR"],a=["VEP","VEM","VED","VFY","VFO","VTC","VBN"],c=["VUI"],l=["VLZ"];var u=function(e){return e.GREEN="VLA",e.SILVER="VLB",e.GOLD="VLC",e}({}),d=function(e){return e.Entry="VLD",e.Plus="VLE",e}({})},WXp3:function(e,t,n){"use strict";n.d(t,"a",(function(){return be}));var i=n("fXoL"),o=n("wd/R"),r=n("quSY"),s=n("nnIW"),a=n("h/S9"),c=n("PxKc"),l=n("wtyH"),u=n("iWk1"),d=n("TUgU"),h=n("eE5r"),p=n("imvL"),g=n("kh7C"),f=n("KhLr"),m=n("ofXK"),b=n("LCdn"),v=n("8Awy"),y=n("08zf"),_=n("Q+ex"),C=n("eFla"),S=n("VXoX"),O=n("DflE"),T=n("0o02"),w=n("q/KQ");function k(e,t){1&e&&(i.Zb(0,"span",17),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"BOOKER_LABEL_DOTERS")," "))}function A(e,t){if(1&e&&(i.Zb(0,"div",14),i.Ub(1,"app-price",15),i.Qc(2,k,3,3,"span",16),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.sc("size","small")("currencyCode",e.currencyCode)("hideCAU",!0)("amount",e.bookingJourneyChargesTotal)("showDoters",e.isDotersActive),i.Hb(1),i.sc("ngIf",e.isDotersActive)}}function E(e,t){1&e&&(i.Xb(0),i.Sc(1),i.kc(2,"cmsTranslate"),i.Wb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"GLOBAL_LABEL_NON-STOP")," "))}function M(e,t){1&e&&(i.Xb(0),i.Sc(1),i.kc(2,"cmsTranslate"),i.Wb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"GLOBAL_LABEL_NON-STOP")," "))}function P(e,t){1&e&&(i.Xb(0),i.Sc(1),i.kc(2,"cmsTranslate"),i.Wb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"BOOKER_LABEL_FLY-THROUGH")," "))}function D(e,t){1&e&&(i.Xb(0),i.Sc(1),i.kc(2,"cmsTranslate"),i.Wb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"GLOBAL_LABEL_CONNECTION")," "))}function x(e,t){if(1&e&&i.Ub(0,"app-basket-item-group",24),2&e){const e=t.$implicit,n=i.jc(4);i.sc("chargesGroup",e)("currencyCode",n.currencyCode)("showItemAmount",e.groupCode===n.basketChargesGroupCode.FlightFare?"header":"all")("isDotersActive",n.isDotersActive)("passengers",n.passengers)}}function I(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",18),i.Zb(2,"div",19),i.Sc(3),i.kc(4,"flightStationName"),i.kc(5,"flightStationName"),i.Yb(),i.Zb(6,"div",20),i.Zb(7,"span"),i.Sc(8),i.kc(9,"titlecase"),i.kc(10,"date"),i.Yb(),i.Zb(11,"span"),i.Sc(12),i.kc(13,"date"),i.kc(14,"date"),i.Yb(),i.Zb(15,"span",21),i.Qc(16,E,3,3,"ng-container",22),i.Qc(17,M,3,3,"ng-container",22),i.Qc(18,P,3,3,"ng-container",22),i.Qc(19,D,3,3,"ng-container",22),i.Yb(),i.Yb(),i.Yb(),i.Zb(20,"div",9),i.Qc(21,x,1,5,"app-basket-item-group",23),i.Yb(),i.Wb()),2&e){const e=i.jc().$implicit,t=i.jc(2);i.Hb(3),i.Xc(" ",i.mc(4,12,e.origin.code,"short")," (",e.origin.code,") - ",i.mc(5,15,e.destination.code,"short")," (",e.destination.code,") "),i.Hb(5),i.Tc(i.lc(9,18,i.mc(10,20,e.departureDate,"EEE, d MMM"))),i.Hb(4),i.Tc(i.mc(13,23,e.departureDate,"hh:mm")+" "+i.oc(14,26,e.departureDate,"aa","","en-US")),i.Hb(3),i.sc("ngSwitch",e.flightType),i.Hb(1),i.sc("ngSwitchCase",t.travelType.NonStop),i.Hb(1),i.sc("ngSwitchCase",t.travelType.Direct),i.Hb(1),i.sc("ngSwitchCase",t.travelType.Through),i.Hb(1),i.sc("ngSwitchCase",t.travelType.Connect),i.Hb(2),i.sc("ngForOf",t.getJourneyCharges(e.journeyKey))}}function L(e,t){if(1&e&&(i.Xb(0),i.Qc(1,I,22,31,"ng-container",0),i.Wb()),2&e){const e=t.$implicit,n=i.jc(2);i.Hb(1),i.sc("ngIf",n.showCurrentJourney(e))}}function R(e,t){1&e&&(i.Zb(0,"div",18),i.Zb(1,"div",19),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Yb()),2&e&&(i.Hb(2),i.Uc(" ",i.lc(3,1,"BOOKER_LABEL_OTHER-SERVICES")," "))}function N(e,t){if(1&e&&i.Ub(0,"app-basket-item-group",25),2&e){const e=t.$implicit,n=i.jc(2);i.sc("chargesGroup",e)("currencyCode",n.currencyCode)("isDotersActive",n.isDotersActive)}}function j(e,t){if(1&e&&(i.Zb(0,"div"),i.Ub(1,"app-price",28),i.Yb()),2&e){const e=i.jc(3);i.Hb(1),i.sc("size","small")("currencyCode",e.currencyCode)("hideCAU",!0)("amount",e.hotelAccommodation.totalAmount.amount)}}function B(e,t){if(1&e&&i.Ub(0,"app-basket-item-group",29),2&e){const e=t.$implicit,n=i.jc(3);i.sc("chargesGroup",e)("currencyCode",n.currencyCode)("showChargesAmount","header")}}function F(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",3),i.Zb(2,"div",4),i.Zb(3,"div"),i.Ub(4,"i",26),i.Zb(5,"span"),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Yb(),i.Qc(8,j,2,4,"div",0),i.Yb(),i.Ub(9,"hr"),i.Yb(),i.Zb(10,"div",18),i.Zb(11,"div",19),i.Sc(12),i.Yb(),i.Zb(13,"div",20),i.Zb(14,"span"),i.Sc(15),i.kc(16,"titlecase"),i.kc(17,"date"),i.kc(18,"titlecase"),i.kc(19,"date"),i.Yb(),i.Zb(20,"span"),i.Sc(21),i.kc(22,"i18nPlural"),i.Yb(),i.Yb(),i.Yb(),i.Zb(23,"div",9),i.Qc(24,B,1,3,"app-basket-item-group",27),i.Yb(),i.Wb()),2&e){const e=t.ngIf,n=i.jc(2);i.Hb(6),i.Uc(" ",i.lc(7,7,"HEADER_BOOK_HOTEL")," "),i.Hb(2),i.sc("ngIf",n.showSubtotalAmount),i.Hb(4),i.Uc(" ",e.propertyName," "),i.Hb(3),i.Vc(" ",i.lc(16,9,i.mc(17,11,e.checkInDate,"EEE, d MMM"))," \u2014 ",i.lc(18,14,i.mc(19,16,e.checkOutDate,"EEE, d MMM"))," "),i.Hb(6),i.Tc(i.mc(22,19,n.accommodationNights,n.nightLabels)),i.Hb(3),i.sc("ngForOf",n.hotelCharges)}}function H(e,t){1&e&&(i.Zb(0,"span",17),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"BOOKER_LABEL_DOTERS")," "))}function U(e,t){if(1&e&&(i.Zb(0,"div",14),i.Ub(1,"app-price",15),i.Qc(2,H,3,3,"span",16),i.Yb()),2&e){const e=i.jc(3);i.Hb(1),i.sc("size","small")("currencyCode",e.currencyCode)("hideCAU",!0)("amount",e.otherBookingChargesTotal)("showDoters",e.isDotersActive),i.Hb(1),i.sc("ngIf",e.isDotersActive)}}function Y(e,t){if(1&e&&i.Ub(0,"app-basket-item-group",34),2&e){const e=t.$implicit,n=i.jc(4);i.sc("chargesGroup",e)("showItemAmount","none")("useTuaNaming",!0)("currencyCode",n.currencyCode)}}function G(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",31),i.Zb(2,"div",32),i.Sc(3),i.Yb(),i.Yb(),i.Zb(4,"div",9),i.Qc(5,Y,1,4,"app-basket-item-group",33),i.Yb(),i.Wb()),2&e){const e=i.jc(3);i.Hb(3),i.Uc(" ",null!=e.tuaCMSService&&e.tuaCMSService.name?e.tuaCMSService.name:"TUA"," "),i.Hb(2),i.sc("ngForOf",e.tuaCharges)}}function V(e,t){if(1&e&&i.Ub(0,"app-basket-item-group",36),2&e){const e=t.$implicit,n=i.jc(4);i.sc("chargesGroup",e)("showItemAmount","none")("useTuaNaming",!0)("currencyCode",n.currencyCode)("isDotersActive",n.isDotersActive)}}function Z(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",31),i.Zb(2,"div",32),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(5,"div",9),i.Qc(6,V,1,5,"app-basket-item-group",35),i.Yb(),i.Wb()),2&e){const e=i.jc(3);i.Hb(3),i.Uc(" ",i.lc(4,2,"BOOKER_LABEL_OTHER-CHARGES")," "),i.Hb(3),i.sc("ngForOf",e.otherCharges)}}function $(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",3),i.Zb(2,"div",4),i.Zb(3,"div"),i.Ub(4,"i",30),i.Zb(5,"span"),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Yb(),i.Qc(8,U,3,6,"div",6),i.Yb(),i.Ub(9,"hr"),i.Yb(),i.Qc(10,G,6,2,"ng-container",0),i.Qc(11,Z,7,4,"ng-container",0),i.Wb()),2&e){const e=i.jc(2);i.Hb(6),i.Uc(" ",i.lc(7,4,"BOOKER_LABEL_ADD-ONS")," "),i.Hb(2),i.sc("ngIf",e.showSubtotalAmount),i.Hb(2),i.sc("ngIf",e.tuaCharges.length>0),i.Hb(1),i.sc("ngIf",e.otherCharges.length>0)}}const W=function(e){return{regex:"%%tua amount%%",newValue:e}},K=function(e){return[e]};function z(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-flight-alert",39),i.hc("clicked",(function(){return i.Hc(e),i.jc(3).onTuaAddIntent()})),i.kc(1,"currency"),i.Yb()}if(2&e){const e=i.jc(3);i.sc("noRounded",!0)("noClose",!0)("noMargin",!0)("alertData",e.tuaNotIncludedAlert)("cmsReplacementValues",i.vc(12,K,i.vc(10,W,i.oc(1,5,e.tuaAmount,e.currencyCode,"symbol-narrow","1.0-0")+" "+e.currencyCode.toUpperCase())))}}function Q(e,t){if(1&e&&(i.Zb(0,"div",37),i.Qc(1,z,2,14,"app-flight-alert",38),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.sc("ngIf",e.tuaNotIncludedAlert)}}function X(e,t){1&e&&(i.Zb(0,"span",17),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"BOOKER_LABEL_DOTERS")," "))}const q=function(){return{priceType:"total",priceModel:"total",displayClass:"medium-title colored-bold",displayLogo:!0}};function J(e,t){if(1&e&&(i.Zb(0,"div",42),i.Ub(1,"app-up-from-pricing",49),i.Yb()),2&e){const e=i.jc(3);i.Hb(1),i.sc("price",e.totalBasketAmount)("config",i.uc(2,q))}}function ee(e,t){if(1&e&&(i.Zb(0,"div",50),i.Ub(1,"app-price",51),i.Zb(2,"span",17),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Yb()),2&e){const e=i.jc(3);i.Hb(1),i.sc("size","small")("currencyCode",e.currencyCode)("hideCAU",!0)("amount",e.dotersMissingAmount)("showDecimals",!0)("pricePrefix",e.dotersMissingAmount?"+":""),i.Hb(2),i.Uc(" ",i.lc(4,7,e.currencyCode)," ")}}function te(e,t){if(1&e&&(i.Xb(0),i.Ub(1,"hr"),i.Zb(2,"div",52),i.Ub(3,"app-basket-item-group",53),i.Yb(),i.Wb()),2&e){const e=i.jc(3);i.Hb(3),i.sc("chargesGroup",e.additionalCharges)("showItemAmount","none")("currencyCode",e.currencyCode)("isDotersActive",e.isDotersActive)}}function ne(e,t){1&e&&i.Vb(0)}function ie(e,t){if(1&e){const e=i.ac();i.Zb(0,"button",58),i.hc("click",(function(){return i.Hc(e),i.jc(4).onBasketPayIntent()})),i.Zb(1,"span"),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Yb()}if(2&e){const e=i.jc(4);i.sc("disabled",!e.showContinueButton&&!e.canPay),i.Hb(2),i.Uc(" ",i.lc(3,2,e.showContinueButton?"GLOBAL_ACTION_CONTINUE":"GLOBAL_ACTION_PAY")," ")}}function oe(e,t){if(1&e&&(i.Ub(0,"div",59),i.kc(1,"richText")),2&e){const e=i.jc(4);i.sc("innerHTML",i.lc(1,1,e.tuaCMSService.terms),i.Ic)}}const re=function(e){return{"btn-container":e}};function se(e,t){if(1&e&&(i.Zb(0,"div",54),i.Zb(1,"div",55),i.Qc(2,ie,4,4,"button",56),i.Qc(3,oe,2,3,"div",57),i.Yb(),i.Yb()),2&e){const e=i.jc(3);i.sc("ngClass",e.showDotersEarn?"":"pt-10"),i.Hb(1),i.sc("ngClass",i.vc(4,re,!e.showDotersEarn||e.isDotersActive)),i.Hb(1),i.sc("ngIf",!e.isIropFlow),i.Hb(1),i.sc("ngIf",0===e.tuaCharges.length&&e.tuaAmount>0&&!(null==e.tuaCMSService||!e.tuaCMSService.terms))}}function ae(e,t){1&e&&i.Vb(0)}function ce(e,t){if(1&e&&(i.Zb(0,"div",60),i.Qc(1,ae,1,0,"ng-container",45),i.Yb()),2&e){i.jc(3);const e=i.Ec(2);i.Hb(1),i.sc("ngTemplateOutlet",e)}}const le=function(e,t){return{"pt-10":e,"d-none d-lg-block":t}},ue=function(e){return{"mb-2":e}};function de(e,t){if(1&e&&(i.Zb(0,"div",40),i.Zb(1,"div",2),i.Zb(2,"div",41),i.Zb(3,"div"),i.Sc(4),i.kc(5,"cmsTranslate"),i.Yb(),i.Zb(6,"div"),i.Zb(7,"div",42),i.Ub(8,"app-price",15),i.Qc(9,X,3,3,"span",16),i.Yb(),i.Qc(10,J,2,3,"div",43),i.Qc(11,ee,5,9,"div",44),i.Yb(),i.Yb(),i.Qc(12,te,4,4,"ng-container",0),i.Yb(),i.Zb(13,"div",2),i.Qc(14,ne,1,0,"ng-container",45),i.Yb(),i.Ub(15,"app-months-interest-free-status-bar",46),i.Qc(16,se,4,6,"div",47),i.Qc(17,ce,2,1,"div",48),i.Yb()),2&e){const e=i.jc(2),t=i.Ec(2);i.Hb(1),i.sc("ngClass",e.sidebarContainer?"sidebar-p":"p-20"),i.Hb(3),i.Tc(i.lc(5,17,"GLOBAL_LABEL_TOTAL")),i.Hb(4),i.sc("size","small")("currencyCode",e.currencyCode)("hideCAU",!0)("amount",e.totalBasketAmount)("showDoters",e.isDotersActive),i.Hb(1),i.sc("ngIf",e.isDotersActive),i.Hb(1),i.sc("ngIf",e.canDisplayUpliftFromPricing),i.Hb(1),i.sc("ngIf",e.isDotersActive),i.Hb(1),i.sc("ngIf",!!e.additionalCharges),i.Hb(1),i.sc("ngClass",i.wc(19,le,!e.showDotersEarn&&!e.sidebarContainer,e.sidebarContainer)),i.Hb(1),i.sc("ngTemplateOutlet",t),i.Hb(1),i.sc("ngClass",i.vc(22,ue,e.sidebarContainer))("currencyCode",e.currencyCode),i.Hb(1),i.sc("ngIf",e.sidebarContainer),i.Hb(1),i.sc("ngIf",e.sidebarContainer)}}const he=function(){return[]};function pe(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",2),i.Xb(2),i.Zb(3,"div",3),i.Zb(4,"div",4),i.Zb(5,"div"),i.Ub(6,"i",5),i.Zb(7,"span"),i.Sc(8),i.kc(9,"cmsTranslate"),i.Yb(),i.Yb(),i.Qc(10,A,3,6,"div",6),i.Yb(),i.Ub(11,"hr"),i.Yb(),i.Qc(12,L,2,1,"ng-container",7),i.Xb(13),i.Qc(14,R,4,3,"div",8),i.Zb(15,"div",9),i.Qc(16,N,1,3,"app-basket-item-group",10),i.Yb(),i.Wb(),i.Wb(),i.Qc(17,F,25,22,"ng-container",0),i.Qc(18,$,12,6,"ng-container",0),i.Yb(),i.Qc(19,Q,2,1,"div",11),i.Ub(20,"app-months-interest-free-status-bar",12),i.Qc(21,de,18,24,"div",13),i.Wb()),2&e){const e=i.jc();i.Hb(1),i.sc("ngClass",e.sidebarContainer?"sidebar-p":"p-20"),i.Hb(7),i.Uc(" ",i.lc(9,11,"GLOBAL_LABEL_FLIGHTS")," "),i.Hb(2),i.sc("ngIf",e.showSubtotalAmount),i.Hb(2),i.sc("ngForOf",(null==e.fullBasket.basket.travel?null:e.fullBasket.basket.travel.journeys)||i.uc(13,he)),i.Hb(2),i.sc("ngIf",null==e.bookingCharges?null:e.bookingCharges.length),i.Hb(2),i.sc("ngForOf",e.bookingCharges),i.Hb(1),i.sc("ngIf",e.hotelAccommodation),i.Hb(1),i.sc("ngIf",e.showAdditionalChargesSection),i.Hb(1),i.sc("ngIf",e.sidebarContainer&&e.basketIsActive&&0===e.tuaCharges.length&&e.tuaAmount>0),i.Hb(1),i.sc("currencyCode",e.currencyCode),i.Hb(1),i.sc("ngIf",!e.sidebarContainer||e.sidebarContainer&&e.basketIsActive)}}const ge=function(e,t){return{radius:e,"mb-30":t}};function fe(e,t){if(1&e&&(i.Zb(0,"div",62),i.Zb(1,"div",63),i.Ub(2,"img",64),i.kc(3,"cmsStaticImage"),i.Zb(4,"div",65),i.Zb(5,"div"),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Zb(8,"div",32),i.Sc(9),i.kc(10,"currency"),i.kc(11,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&e){const e=i.jc(2);i.sc("ngClass",i.wc(16,ge,!e.sidebarContainer&&!e.showMonthsInterestFree,e.sidebarContainer&&!e.showMonthsInterestFree)),i.Hb(2),i.sc("src",i.lc(3,5,"BOOKER_DOTERS_LOGO"),i.Kc),i.Hb(4),i.Tc(i.lc(7,7,"BOOKER_LABEL_DOTERS-WILL-EARN")),i.Hb(3),i.Vc("",i.oc(10,9,e.dotersEarn,"","","1.0-0")," ",i.lc(11,14,"BOOKER_LABEL_DOTERS"),"")}}function me(e,t){if(1&e&&i.Qc(0,fe,12,19,"div",61),2&e){const e=i.jc();i.sc("ngIf",!e.isDotersActive&&e.showDotersEarn)}}let be=(()=>{class e{constructor(e,t,n,o,c,l,u){this.servicesSvc=e,this.dotersService=t,this.cmsTranslate=n,this.upPricingSvc=o,this.auth=c,this.utilsSvc=l,this.monthsInterestFreeSvc=u,this.sidebarContainer=!1,this.tuaAmount=0,this.canPay=!1,this.extraCharges=[],this.showContinueButton=!1,this.showSubtotalAmount=!1,this.basketPay=new i.p,this.tuaAdd=new i.p,this.isIropFlow=!1,this.bookingJourneyChargesTotal=0,this.journeyCharges={},this.bookingCharges=[],this.hotelCharges=[],this.otherBookingChargesTotal=0,this.otherCharges=[],this.tuaCharges=[],this.travelType=a.b,this.flightServiceGroups=[s.c.FlightFare,s.c.Seats,s.c.CarryOnBaggage,s.c.CheckedBaggage,s.c.SpecialBaggage,s.c.FlightServices],this.extraChargesTotal=0,this.basketIsActive=!1,this.basketChargesGroupCode=s.c,this.isDotersActive=!1,this.dotersEarn=0,this.nightLabels={"=1":"1 "+this.cmsTranslate.getEntry("BOOKER_LABEL_NIGHT-LODGING"),other:"# "+this.cmsTranslate.getEntry("BOOKER_LABEL_NIGHT-LODGING-COUNT")},this.onAccountSubscription=r.a.EMPTY,this.showDotersEarn=!1,this.passengers=0,this.servicesSvc.ready.toPromise().then(()=>{this.tuaCMSService=this.servicesSvc.getService(s.c.TUA)})}ngOnInit(){this.onAccountSubscription=this.auth.userAccountData$.subscribe(e=>{this.userData=e,this.showDotersEarn=this.dotersService.showEarnDotersComponents(this.userData,this.fullBasket)})}ngOnChanges(e){var t,n,i,o,r,s,a,c;e.fullBasket&&(this.isDotersActive="Points"===(null===(n=null===(t=this.fullBasket)||void 0===t?void 0:t.basket)||void 0===n?void 0:n.bookingType),this.userData&&(this.showDotersEarn=this.dotersService.showEarnDotersComponents(this.userData,this.fullBasket)),(null===(i=this.fullBasket)||void 0===i?void 0:i.basket)&&(this.generateGroups(),this.dotersEarn=0,null===(o=this.fullBasket)||void 0===o||o.basket.travel.passengers.forEach(e=>{var t;this.dotersEarn+=(null===(t=null==e?void 0:e.pointsEarned)||void 0===t?void 0:t.totalPointsEarned)||0}),this.passengers=null===(a=null===(s=null===(r=this.fullBasket)||void 0===r?void 0:r.basketBooking)||void 0===s?void 0:s.passengers)||void 0===a?void 0:a.filter(e=>null==e?void 0:e.passengerKey).length,e.fullBasket.isFirstChange&&this.canDisplayUpliftFromPricing&&this.upPricingSvc.resendUpliftPricing())),e.extraCharges&&(null===(c=this.fullBasket)||void 0===c?void 0:c.basket)&&(this.additionalCharges=this.generateAdditionalChargesGroup())}ngOnDestroy(){this.onAccountSubscription.closed||this.onAccountSubscription.unsubscribe()}generateGroups(){var e,t,n,i,o,r,c,l,u;if((null===(e=this.fullBasket)||void 0===e?void 0:e.basket)&&(null===(t=this.fullBasket)||void 0===t?void 0:t.basket.travel)&&(null===(n=this.fullBasket)||void 0===n?void 0:n.basket.travel.charges)&&(null===(i=this.fullBasket)||void 0===i?void 0:i.basket.travel.journeys)){const e=null===(o=this.fullBasket)||void 0===o?void 0:o.basket.travel.charges;e.forEach(e=>{"FlightVAT"===e.code&&(e.groupCode=s.c.FlightFare)}),this.basketIsActive=(null===(r=this.fullBasket)||void 0===r?void 0:r.basket.status)===a.d.Active,this.journeyCharges={},this.tuaCharges=[],null===(c=this.fullBasket)||void 0===c||c.basket.travel.journeys.forEach((t,n)=>{const i=t.journeyKey;this.journeyCharges[i]=this.generateChargesGroups(e,i,this.flightServiceGroups),0===n&&this.addGuestFeeCharge(i),Array.isArray(this.journeyCharges[i])&&this.journeyCharges[i].length>0&&(this.journeyCharges[i][0].fareType=this.hasAltProvider(t)?"FB":this.utilsSvc.getFareFromBasket(t)),this.tuaCharges=this.tuaCharges.concat(this.generateChargesGroups(e,i,s.c.TUA))}),this.bookingCharges=this.generateChargesGroups(e,null,s.c.FlightServices),this.additionalCharges=this.generateAdditionalChargesGroup(),this.otherCharges=this.generateChargesGroups(e,"any",[...this.flightServiceGroups,s.c.TUA],!0);const t=this.generateChargesGroups(null===(l=this.fullBasket)||void 0===l?void 0:l.basket.travel.misconfiguredCharges,"any");this.otherCharges=this.otherCharges.concat(t),this.hotelCharges=[];const n=null===(u=this.fullBasket)||void 0===u?void 0:u.basket.accommodation;n&&(n.rooms||[]).forEach((e,t)=>{const i=this.roomToCharge(e,0===t?n.totalAmount.amount:0);this.defaultChargeGroupHandling(i,this.hotelCharges)}),this.bookingJourneyChargesTotal=this.getBookingJourneysTotal(),this.otherBookingChargesTotal=this.getOtherBookingChargesTotal()}}showCurrentJourney(e){var t,n,i,o,r;return!(e&&(null===(o=null===(i=null===(n=null===(t=this.fullBasket)||void 0===t?void 0:t.basket)||void 0===n?void 0:n.customFields)||void 0===i?void 0:i.availabilityJourneyKeys)||void 0===o?void 0:o.length)&&!(null===(r=this.fullBasket)||void 0===r?void 0:r.basket.customFields.availabilityJourneyKeys.find(t=>t===e.journeyKey)))}generateChargesGroups(e,t,n,i=!1){var o;if(null===(o=this.fullBasket)||void 0===o?void 0:o.basket){const o=[];let r=e;return"any"!==t&&(r=r.filter(e=>e.journeyKey===t)),n&&(r=r.filter("string"==typeof n?e=>i?e.groupCode!==n:e.groupCode===n:e=>i?!n.includes(e.groupCode):n.includes(e.groupCode))),r.forEach(e=>{var t;switch(e.groupCode){case"FlightServices":this.flightServicesChargeGroupHandling(e,o);break;case"TUA":this.tuaServicesChargeGroupHandling(e,o,(null===(t=this.fullBasket)||void 0===t?void 0:t.basket.travel.journeys)||[]);break;default:this.defaultChargeGroupHandling(e,o)}}),o}return[]}defaultChargeGroupHandling(e,t){const n=t.find(t=>t.groupCode===e.groupCode);if(n)n.addCharge(e);else{const n=new s.b(e.groupCode,e.groupName);n.addCharge(e),t.push(n)}}flightServicesChargeGroupHandling(e,t){const n=e.code,i=t.find(e=>e.groupCode===n);if(i)i.addCharge(e);else{const i=new s.b(n,e.name);i.addCharge(e),t.push(i)}}generateAdditionalChargesGroup(){var e,t,n,i,o;const r=new s.b("AdditionalCharges","Additional Charges");return(null===(e=this.fullBasket)||void 0===e?void 0:e.basket)&&(null===(t=this.fullBasket)||void 0===t||t.basket.travel.additionalCharges.forEach(e=>{s.a.includes(e.code)||r.addCharge(e)}),Array.isArray(this.extraCharges)&&(this.extraCharges.forEach(e=>{const t=this.generateBasketChargeFromExtraCharge(e);t&&r.addCharge(t)}),this.getExtraChargesAmount()),Array.isArray(null===(i=null===(n=this.fullBasket)||void 0===n?void 0:n.basket.accommodation)||void 0===i?void 0:i.additionalCharges)&&(null===(o=this.fullBasket)||void 0===o||o.basket.accommodation.additionalCharges.forEach(e=>{r.addCharge(e)}))),r}tuaServicesChargeGroupHandling(e,t,n){var i,o,r,a;const c=(null===(o=null===(i=n.find(t=>t.journeyKey===e.journeyKey))||void 0===i?void 0:i.origin)||void 0===o?void 0:o.code)||"",l=new s.b(e.code,e.name);l.amount.amount=e.amount.amount,l.amount.pointAmount=(null===(r=e.amount)||void 0===r?void 0:r.pointAmount)||0,l.originalAmount.amount=e.originalAmount.amount,l.originalAmount.pointAmount=(null===(a=e.originalAmount)||void 0===a?void 0:a.pointAmount)||0,l.code=c,t.push(l)}getJourneyCharges(e){return this.journeyCharges[e]||[]}getBookingJourneysTotal(){var e;let t=0;return null===(e=this.fullBasket)||void 0===e||e.basket.travel.journeys.forEach(e=>{this.getJourneyCharges(e.journeyKey).forEach(e=>{var n;t+=(this.isDotersActive?null===(n=e.amount)||void 0===n?void 0:n.pointAmount:e.amount.amount)||0})}),this.bookingCharges.forEach(e=>{var n;t+=(this.isDotersActive?null===(n=e.amount)||void 0===n?void 0:n.pointAmount:e.amount.amount)||0}),t}getOtherBookingChargesTotal(){let e=0;return this.tuaCharges.forEach(t=>{var n;e+=this.isDotersActive?null===(n=t.amount)||void 0===n?void 0:n.pointAmount:t.amount.amount}),this.otherCharges.forEach(t=>{var n;e+=this.isDotersActive?null===(n=t.amount)||void 0===n?void 0:n.pointAmount:t.amount.amount}),e}get showAdditionalChargesSection(){return this.tuaCharges.length>0||this.otherCharges.length>0}get currencyCode(){var e,t;return(null===(t=null===(e=this.fullBasket)||void 0===e?void 0:e.basket)||void 0===t?void 0:t.currencyCode)||""}onBasketPayIntent(){this.basketPay.emit()}onTuaAddIntent(){this.tuaAdd.emit()}generateBasketChargeFromExtraCharge(e,t,n){if(e)return{journeyKey:null,segmentKey:null,passengerKey:null,groupCode:t||null,groupName:n||null,originalAmount:{amount:e.amount||0},amount:{amount:e.amount||0},code:e.chargeCode,name:e.chargeName||e.chargeCode,isIncluded:!1,details:null}}getExtraChargesAmount(){this.extraChargesTotal=0,Array.isArray(this.extraCharges)&&this.extraCharges.forEach(e=>{!0===e.includeInTotal&&e.amount&&(this.extraChargesTotal+=e.amount)})}get totalBasketAmount(){var e,t,n,i,o;return this.isDotersActive?(null===(e=this.dotersService)||void 0===e?void 0:e._dotersRedemptionPoints)>0?this.dotersService._dotersRedemptionPoints:(null===(t=this.dotersService)||void 0===t?void 0:t._dotersRedemptionPoints)<0?0:null===(i=null===(n=this.fullBasket)||void 0===n?void 0:n.basket.totalAmount)||void 0===i?void 0:i.pointAmount:(null===(o=this.fullBasket)||void 0===o?void 0:o.basket.totalAmount.amount)+this.extraChargesTotal}hasAltProvider(e){return!!e.segments.find(e=>"VB"!==e.flightReference.substr(9,2))}get dotersMissingAmount(){var e;return(null===(e=this.dotersService)||void 0===e?void 0:e._dotersMissingAmount)>0?this.dotersService._dotersMissingAmount:0}get hotelAccommodation(){var e;return null===(e=this.fullBasket)||void 0===e?void 0:e.basket.accommodation}get accommodationNights(){return this.hotelAccommodation?o(this.hotelAccommodation.checkOutDate).diff(this.hotelAccommodation.checkInDate,"days"):0}roomToCharge(e,t){return{journeyKey:null,segmentKey:null,passengerKey:null,groupCode:"HotelRoom",groupName:"Hotel Room",originalAmount:{amount:t},amount:{amount:t},code:e.name,name:e.name,isIncluded:!1,details:null}}addGuestFeeCharge(e){const t=this.fullBasket.basket.notifications.find(e=>"GuestFeeWaived"===e.code),n=this.journeyCharges[e].find(e=>"FlightFare"===e.groupCode);if(t&&n&&!n.options.find(e=>"GuestFee"===e.code)){const i=parseInt(t.description,10);n.addCharge({journeyKey:e,segmentKey:null,passengerKey:null,groupCode:"FlightFare",groupName:"Vuelo",originalAmount:{amount:0,pointAmount:0},amount:{amount:i,pointAmount:0},code:"GuestFee",name:"Guest Fee",isIncluded:!1,details:null})}}get canDisplayUpliftFromPricing(){var e,t,n;return(null===(t=null===(e=this.fullBasket)||void 0===e?void 0:e.basket)||void 0===t?void 0:t.status)===a.d.Active&&(null===(n=this.fullBasket)||void 0===n?void 0:n.basket.flowType)===c.b.Booking}get showMonthsInterestFree(){return this.monthsInterestFreeSvc._showMonthsInterestFree||this.monthsInterestFreeSvc._isZeroFare}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(l.a),i.Tb(u.a),i.Tb(d.a),i.Tb(h.a),i.Tb(p.a),i.Tb(g.a),i.Tb(f.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-basket-details-container"]],inputs:{fullBasket:"fullBasket",sidebarContainer:"sidebarContainer",tuaNotIncludedAlert:"tuaNotIncludedAlert",tuaAmount:"tuaAmount",canPay:"canPay",extraCharges:"extraCharges",showContinueButton:"showContinueButton",showSubtotalAmount:"showSubtotalAmount",isIropFlow:"isIropFlow"},outputs:{basketPay:"basketPay",tuaAdd:"tuaAdd"},features:[i.Fb],decls:3,vars:1,consts:[[4,"ngIf"],["DotersBar",""],[3,"ngClass"],[1,"section-header"],[1,"h4"],[1,"fas","fa-plane"],["class","d-flex align-items-end",4,"ngIf"],[4,"ngFor","ngForOf"],["class","section-subheader",4,"ngIf"],[1,"mb-20"],[3,"chargesGroup","currencyCode","isDotersActive",4,"ngFor","ngForOf"],["class","w-100",4,"ngIf"],[1,"d-block","d-lg-none",3,"currencyCode"],["class","basket-footer",4,"ngIf"],[1,"d-flex","align-items-end"],[3,"size","currencyCode","hideCAU","amount","showDoters"],["class","small-title ml-1 opacity-5",4,"ngIf"],[1,"small-title","ml-1","opacity-5"],[1,"section-subheader"],[1,"title","mb-5"],[1,"subheader-details","small-title","opacity-5"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"chargesGroup","currencyCode","showItemAmount","isDotersActive","passengers",4,"ngFor","ngForOf"],[3,"chargesGroup","currencyCode","showItemAmount","isDotersActive","passengers"],[3,"chargesGroup","currencyCode","isDotersActive"],[1,"fas","fa-hotel"],[3,"chargesGroup","currencyCode","showChargesAmount",4,"ngFor","ngForOf"],[3,"size","currencyCode","hideCAU","amount"],[3,"chargesGroup","currencyCode","showChargesAmount"],[1,"fas","fa-car-building"],[1,"section-subheader","mb-10"],[1,"title"],[3,"chargesGroup","showItemAmount","useTuaNaming","currencyCode",4,"ngFor","ngForOf"],[3,"chargesGroup","showItemAmount","useTuaNaming","currencyCode"],[3,"chargesGroup","showItemAmount","useTuaNaming","currencyCode","isDotersActive",4,"ngFor","ngForOf"],[3,"chargesGroup","showItemAmount","useTuaNaming","currencyCode","isDotersActive"],[1,"w-100"],[3,"noRounded","noClose","noMargin","alertData","cmsReplacementValues","clicked",4,"ngIf"],[3,"noRounded","noClose","noMargin","alertData","cmsReplacementValues","clicked"],[1,"basket-footer"],[1,"d-flex","justify-content-between","h4","pb-10"],[1,"d-flex","align-items-end","justify-content-end"],["class","d-flex align-items-end justify-content-end",4,"ngIf"],["class","d-flex align-items-end mt-1 justify-content-end",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"d-none","d-lg-block",3,"ngClass","currencyCode"],["class","px-30 mx-1 pb-20",3,"ngClass",4,"ngIf"],["class","d-block d-lg-none",4,"ngIf"],[3,"price","config"],[1,"d-flex","align-items-end","mt-1","justify-content-end"],[3,"size","currencyCode","hideCAU","amount","showDecimals","pricePrefix"],[1,"mb-10"],[3,"chargesGroup","showItemAmount","currencyCode","isDotersActive"],[1,"px-30","mx-1","pb-20",3,"ngClass"],[1,"pt-1",3,"ngClass"],["class","viva-btn shop w-100",3,"disabled","click",4,"ngIf"],["class","pt-10 small-text footer-disclaimer rt-paragraph-m-0",3,"innerHTML",4,"ngIf"],[1,"viva-btn","shop","w-100",3,"disabled","click"],[1,"pt-10","small-text","footer-disclaimer","rt-paragraph-m-0",3,"innerHTML"],[1,"d-block","d-lg-none"],["class","px-1 doters-earn",3,"ngClass",4,"ngIf"],[1,"px-1","doters-earn",3,"ngClass"],[1,"px-30","py-20","d-flex","justify-content-between","align-items-center"],["height","28","loading","lazy",1,"mb-1",3,"src"],[1,"small-title","text-right"]],template:function(e,t){1&e&&(i.Qc(0,pe,22,14,"ng-container",0),i.Qc(1,me,1,1,"ng-template",null,1,i.Rc)),2&e&&i.sc("ngIf",!(null==t.fullBasket||!t.fullBasket.basket))},directives:[m.u,m.r,m.t,b.a,v.a,m.y,m.z,y.a,_.a,m.B,C.a],pipes:[S.a,O.a,m.G,m.f,m.j,m.d,T.a,w.a],styles:['.section-header[_ngcontent-%COMP%]{padding-top:20px}.section-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.section-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child > i[_ngcontent-%COMP%]{color:var(--bg2);margin-right:5px}.section-header[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:calc(100% + 16px);margin:10px 0 10px -8px}.doters-earn[_ngcontent-%COMP%]{background-color:var(--b-l)}.doters-earn[_ngcontent-%COMP%]   .small-title[_ngcontent-%COMP%]{color:var(--wh1);font-size:10px}.doters-earn[_ngcontent-%COMP%]   .small-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--wh1)}.doters-earn.radius[_ngcontent-%COMP%]{border-radius:0 0 5px 5px}.sidebar-p[_ngcontent-%COMP%]{padding:20px 35px 0}.section-subheader[_ngcontent-%COMP%]{margin-bottom:20px}.section-subheader[_ngcontent-%COMP%]   .subheader-details[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative}.section-subheader[_ngcontent-%COMP%]   .subheader-details[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:only-child):not(:last-child){margin-right:20px}.section-subheader[_ngcontent-%COMP%]   .subheader-details[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:only-child):not(:last-child):after{content:"";position:absolute;top:calc(50% - 1.5px);right:-11.5px;width:3px;height:3px;border-radius:50%;background-color:var(--vg4)}.basket-footer[_ngcontent-%COMP%]{background-color:var(--wh2)}.basket-footer[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:10px 0}.basket-footer[_ngcontent-%COMP%]   .footer-disclaimer[_ngcontent-%COMP%]{line-height:normal}@media screen and (max-width:991px){.btn-container[_ngcontent-%COMP%]{margin-bottom:100px}}']}),e})()},Wdig:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n("mrSG"),o=n("RbsG"),r=n("3E8+"),s=n("9gjU"),a=n("PxKc"),c=n("WSM3"),l=n("AytR"),u=n("d/Sv"),d=n("ofgY"),h=n("tS1D"),p=n("fXoL"),g=n("egL7"),f=n("ChtM"),m=n("+EmV"),b=n("APqd");let v=(()=>{class e{constructor(){this.payment=[]}transactionObject(e,t,n,i,o,r,s,a,c,l,u,d=!1){this.transaction={flow_type:e,trip_type:t,checkout_type:n,basket_amount:i,currency:o,rute_list:r,segment_list:s,total_passenger_count:a,total_seat_count:c,market:l,modality:u,bundleAvailable:d?"yes":"no"}}paymentObject(e,t,n,i,o,r){this.payment.push({status:e,type:t,installments:n,code:i,reference:o,amount:r})}reserveObject(e,t,n){this.reserve={pnr:e,creationtime:t,status:n}}get transactionInfo(){return this.transaction}get paymentInfo(){return this.payment}get reserveInfo(){return this.reserve}setModalityValue(e){this.modality=e}get modalityTravel(){return this.modality}setUserData(e){this.currentUser=e}get currentUserData(){return this.currentUser}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=p.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var y=n("CPX7"),_=n("wtyH"),C=n("BifP"),S=n("kh7C");let O=(()=>{class e{constructor(e,t,n,i,o,r,s,a,c){var l;this.gtmService=e,this.currency=t,this.util=n,this.itemsService=i,this.checkoutObjectService=o,this.basketService=r,this.serviceServices=s,this.csmConfig=a,this.utilsSvc=c,this.defaultCat=(null===(l=this.csmConfig._cmsConfig)||void 0===l?void 0:l.globalSettings.default_category_ancillaries)||""}beginCheckOut(e,t=!1,n=!0,i){var o,r,s,a,l;const u="Points"===e.basket.bookingType,d=null===(o=null==i?void 0:i.affiliations)||void 0===o?void 0:o.find(e=>c.d.includes(e.code)),h=null==i?void 0:i.funds.find(e=>"Doters"===(null==e?void 0:e.type)),p={event:"begin_checkout",category:u?"booking_doters":"booking",action:"begin_checkout",vivafan_bf:t&&!u?"Yes":"No",transaction:{basket_amount:e.basketBooking.totalAmount.amount,currency:e.basketBooking.currencyCode},info_vf:{membership_type:t&&!u?(null===(s=null===(r=e.basketBooking)||void 0===r?void 0:r.passengers)||void 0===s?void 0:s.length)>1?"Team":"Single":"NA",periodicidad:t&&!u?n?"Mensual":"Anual":"NA",cant_beneficiarios:t&&!u?null===(l=null===(a=e.basketBooking)||void 0===a?void 0:a.passengers)||void 0===l?void 0:l.length:"NA"},doters:{level:u&&d?this.util.getDotersLevel(null==d?void 0:d.level):"NA",balance:u&&(null==h?void 0:h.totalAmount)>-1?null==h?void 0:h.totalAmount:"NA"},ec:{items:this.itemsService.returnRobustItemsGA4(e,t)},ecommerce:{add:{currencyCode:e.basketBooking.currencyCode,products:this.itemsService.returnRobustItemsGAU(e,t)}}};this.gtmService.pushTag(p)}cartSummary(e,t=!1,n=!0,i){var o,r,s,l,d,h,p,g,f,m,b,v,y,_,C,S,O;const T=this.util.getSegmentList(e.basketBooking.journeys);let w=!1;e.basket.flowType!==a.b.CheckIn&&e.basket.flowType!==a.b.Manage||(w=!0);const k="Points"===e.basket.bookingType,A=null===(o=null==i?void 0:i.affiliations)||void 0===o?void 0:o.find(e=>c.d.includes(e.code)),E=null==i?void 0:i.funds.find(e=>"Doters"===(null==e?void 0:e.type)),M=this.basketService.getTripTypeFromBasket(e.basket)===u.a.MULTI_CITY;this.checkoutObjectService.transactionObject(e.basket.flowType,1===e.basketBooking.journeys.length?"OW":M?"MC":"RT","normal",w?e.basket.totalAmount.amount:e.basketBooking.totalAmount.amount,e.basketBooking.currencyCode,this.util.getRouteType(e.basketBooking),T,e.basketBooking.passengers.length,e.basketBooking.seats.seats.length,this.util.getFlightType(e.basketBooking)?"international":"domestic",(null===(l=null===(s=null===(r=e.basketBooking.journeys)||void 0===r?void 0:r[0])||void 0===s?void 0:s.fare)||void 0===l?void 0:l.fareType)+""+((null===(p=null===(h=null===(d=e.basketBooking.journeys)||void 0===d?void 0:d[0])||void 0===h?void 0:h.fare)||void 0===p?void 0:p.bundleTypeName)?"_"+(null===(m=null===(f=null===(g=e.basketBooking.journeys)||void 0===g?void 0:g[0])||void 0===f?void 0:f.fare)||void 0===m?void 0:m.bundleType):""),!!(null===(y=null===(v=null===(b=e.basketBooking.journeys)||void 0===b?void 0:b[0])||void 0===v?void 0:v.fare)||void 0===y?void 0:y.bundleTypeName));const P={event:"add_to_cart",category:k?"booking_doters":"booking",vivafan_bf:t?"Yes":"No",detail:{module:"flight_availability",component:"summary",element:"continue_button",action:"add_to_cart"},info_vf:{membership_type:t?(null===(C=null===(_=null==e?void 0:e.basketBooking)||void 0===_?void 0:_.passengers)||void 0===C?void 0:C.length)>1?"Team":"Single":"NA",periodicidad:t?n?"Mensual":"Anual":"NA",cant_beneficiarios:t?null===(O=null===(S=null==e?void 0:e.basketBooking)||void 0===S?void 0:S.passengers)||void 0===O?void 0:O.length:"NA"},id:{t:e.basket.transactionId,b:e.basket.basketId},transaction:this.checkoutObjectService.transactionInfo,journeys:this.util.getJourneysFormat(e),doters:{level:k&&A?this.util.getDotersLevel(null==A?void 0:A.level):"NA",balance:k&&(null==E?void 0:E.totalAmount)>-1?null==E?void 0:E.totalAmount:"NA"},ec:{items:this.itemsService.returnRobustItemsGA4(e,t)},ecommerce:{add:{currencyCode:e.basketBooking.currencyCode,products:this.itemsService.returnRobustItemsGAU(e,t)}}};this.gtmService.pushTag(P)}changeFlightAddToCart(e){var t,n,i,o,r,s,a,c,l,u,d,h,p,g;if((null===(n=null===(t=null==e?void 0:e.basket)||void 0===t?void 0:t.totalAmount)||void 0===n?void 0:n.amount)>0){const t=this.util.getSegmentList(e.basketBooking.journeys);this.checkoutObjectService.transactionObject("manage_my_booking",1===e.basketBooking.journeys.length?"OW":"RT","normal",e.basket.totalAmount.amount,e.basketBooking.currencyCode,this.util.getRuteList(e.basketBooking),t,e.basketBooking.passengers.length,e.basketBooking.seats.seats.length,this.util.getFlightType(e.basketBooking)?"international":"domestic",(null===(r=null===(o=null===(i=e.basketBooking.journeys)||void 0===i?void 0:i[0])||void 0===o?void 0:o.fare)||void 0===r?void 0:r.fareType)+""+((null===(c=null===(a=null===(s=e.basketBooking.journeys)||void 0===s?void 0:s[0])||void 0===a?void 0:a.fare)||void 0===c?void 0:c.bundleTypeName)?"_"+(null===(d=null===(u=null===(l=e.basketBooking.journeys)||void 0===l?void 0:l[0])||void 0===u?void 0:u.fare)||void 0===d?void 0:d.bundleType):""),!!(null===(g=null===(p=null===(h=e.basketBooking.journeys)||void 0===h?void 0:h[0])||void 0===p?void 0:p.fare)||void 0===g?void 0:g.bundleTypeName));const n={event:"add_to_cart",id:{t:e.basket.transactionId,b:e.basket.basketId},transaction:this.checkoutObjectService.transactionInfo,ec:{items:this.itemsService.returnRobustItemsGA4(e,!1)},ecommerce:{add:{currencyCode:e.basketBooking.currencyCode,products:this.itemsService.returnRobustItemsGAU(e,!1)}}};this.gtmService.pushTag(n)}}sendBasketId(e){this.gtmService.pushTag({event:"load_booking",id:{b:e}})}sendTransactionId(e){this.gtmService.pushTag({event:"load_booking",id:{t:e}})}checkoutPassengers(e,t){var n;const i=e.basket.dynamicFlow.steps.findIndex(e=>a.f.Passengers===e.name);t&&!this.checkoutObjectService.currentUserData&&this.checkoutObjectService.setUserData(t);const o=e.basketBooking.services.services.find(e=>"VivaFan"===e.code),r=e.basket.travel.charges.find(e=>"FlightFanDiscount"===e.code),s="Points"===e.basket.bookingType,l=null===(n=null==t?void 0:t.affiliations)||void 0===n?void 0:n.find(e=>c.d.includes(e.code)),u=null==t?void 0:t.funds.find(e=>"Doters"===(null==e?void 0:e.type)),d={event:"checkout",category:s?"booking_doters":"booking",action:"checkout",label:"Passengers",vivafan_bf:o||r?"Yes":"No",checkout:{step:i,step_name:"Passengers",modality:e.basketBooking.journeys[0].fare.fareType},doters:{level:s&&l?this.util.getDotersLevel(null==l?void 0:l.level):"NA",balance:s&&(null==u?void 0:u.totalAmount)>-1?null==u?void 0:u.totalAmount:"NA"}};this.gtmService.pushTag(d)}passengerDemographics(e){e.forEach(e=>{this.gtmService.pushTag({event:"ev_passenger_demographics",category:"passenger_demographics",action:"passenger_info",label:{passenger_gender:e.gender,passenger_nationality:e.nationality,passenger_date_of_birth:e.dateOfBirth}})})}passengerInformation(e){var t;const n={event:"finish_step",detail:{module:"passenger_details",component:"passenger_form",element:"continue_button",action:"submit_form"},notification:{marketing:"Promotional"===(null===(t=e.basketBooking.contacts[0])||void 0===t?void 0:t.notificationPreference),whatsApp:!1},traveler:{contacts:this.util.getContactsInformation(e),passengers:this.util.getPassengerInformation(e)}};this.gtmService.pushTag(n)}checkoutSeatMap(e,t){var n;let i=e.basket.dynamicFlow.steps.findIndex(e=>a.f.Seats===e.name);e.basket.flowType===a.b.CheckIn?i=a.d.steps.findIndex(e=>a.f.Seats===e.name)+1:e.basket.flowType===a.b.Manage&&(i=a.e.steps.findIndex(e=>a.f.Seats===e.name)+1),t&&!this.checkoutObjectService.currentUserData&&this.checkoutObjectService.setUserData(t);const o=e.basketBooking.services.services.find(e=>"VivaFan"===e.code),r=e.basket.travel.charges.find(e=>"FlightFanDiscount"===e.code),s="Points"===e.basket.bookingType,l=null===(n=null==t?void 0:t.affiliations)||void 0===n?void 0:n.find(e=>c.d.includes(e.code)),u=null==t?void 0:t.funds.find(e=>"Doters"===(null==e?void 0:e.type)),d={event:"checkout",category:this.getBasketCategory(e.basket),action:"checkout",label:"Seatmap",vivafan_bf:o||r?"Yes":"No",checkout:{step:i,step_name:"Seatmap",modality:e.basketBooking.journeys[0].fare.fareType},doters:{level:s&&l?this.util.getDotersLevel(null==l?void 0:l.level):"NA",balance:s&&(null==u?void 0:u.totalAmount)>-1?null==u?void 0:u.totalAmount:"NA"}};this.gtmService.pushTag(d)}getBasketCategory(e,t=!1){switch(null==e?void 0:e.flowType){case a.b.Booking:let n="booking";return"Points"===(null==e?void 0:e.bookingType)&&(n="booking_doters"),n;case a.b.CheckIn:return"check_in";case a.b.Manage:return t?"MMB":"manage_my_booking";default:return"booking"}}preselectedSeat(e,t){const n=this.basketService._basketBooking,i={event:"preselect_seat",detail:{module:"seat_selection",component:"popup_preselection",element:"options",action:e},seat:{details:{flight:this.util.getSegmentsbyId(t,n.journeys).marketingCode,availableSeats:this.util.getSegmentsbyId(t,n.journeys).availableSeats}}};this.gtmService.pushTag(i)}preselectSeatOn(e,t,n){var i,o,r,s,a,c,l,u,d;const h=this.basketService._basketBooking,p={event:"preselect_seat",category:"ux_booking",action:"seat_preselection",label:e?"toggle_on":"toggle_reactivate",detail:t,modality:(null===(r=null===(o=null===(i=h.journeys)||void 0===i?void 0:i[0])||void 0===o?void 0:o.fare)||void 0===r?void 0:r.fareType)+""+((null===(c=null===(a=null===(s=h.journeys)||void 0===s?void 0:s[0])||void 0===a?void 0:a.fare)||void 0===c?void 0:c.bundleTypeName)?"_"+(null===(d=null===(u=null===(l=h.journeys)||void 0===l?void 0:l[0])||void 0===u?void 0:u.fare)||void 0===d?void 0:d.bundleType):""),seat:{details:{flight:this.util.getSegmentsbyId(n,h.journeys).marketingCode,availableSeats:this.util.getSegmentsbyId(n,h.journeys).availableSeats}}};this.gtmService.pushTag(p)}selectSeatBrand(e,t,n){var i,o,r,s,a,c,l,u,d;const h=this.basketService._basketBooking,p={event:"preselect_seat",category:"ux_booking",action:"seat_clicks",label:e?"radio_button":"seat_map",detail:t,modality:(null===(r=null===(o=null===(i=h.journeys)||void 0===i?void 0:i[0])||void 0===o?void 0:o.fare)||void 0===r?void 0:r.fareType)+""+((null===(c=null===(a=null===(s=h.journeys)||void 0===s?void 0:s[0])||void 0===a?void 0:a.fare)||void 0===c?void 0:c.bundleTypeName)?"_"+(null===(d=null===(u=null===(l=h.journeys)||void 0===l?void 0:l[0])||void 0===u?void 0:u.fare)||void 0===d?void 0:d.bundleType):""),seat:{details:{flight:this.util.getSegmentsbyId(n,h.journeys).marketingCode,availableSeats:this.util.getSegmentsbyId(n,h.journeys).availableSeats}}};this.gtmService.pushTag(p)}acceptPreselectionSeats(e,t){var n,i,o,r,s,a,c,l,u;const d=this.basketService._basketBooking,h={event:"preselect_seat",category:"ux_booking",action:"seat_preselection",label:"accept_preselection",detail:e,modality:(null===(o=null===(i=null===(n=d.journeys)||void 0===n?void 0:n[0])||void 0===i?void 0:i.fare)||void 0===o?void 0:o.fareType)+""+((null===(a=null===(s=null===(r=d.journeys)||void 0===r?void 0:r[0])||void 0===s?void 0:s.fare)||void 0===a?void 0:a.bundleTypeName)?"_"+(null===(u=null===(l=null===(c=d.journeys)||void 0===c?void 0:c[0])||void 0===l?void 0:l.fare)||void 0===u?void 0:u.bundleType):""),seat:{details:{flight:this.util.getSegmentsbyId(t,d.journeys).marketingCode,availableSeats:this.util.getSegmentsbyId(t,d.journeys).availableSeats}}};this.gtmService.pushTag(h)}declinePreselectionSeats(e,t,n){var i,o,r,s,a,c,l,u,d;const h=this.basketService._basketBooking,p={event:"preselect_seat",category:"ux_booking",action:"seat_preselection_decline",label:e,detail:t,modality:(null===(r=null===(o=null===(i=h.journeys)||void 0===i?void 0:i[0])||void 0===o?void 0:o.fare)||void 0===r?void 0:r.fareType)+""+((null===(c=null===(a=null===(s=h.journeys)||void 0===s?void 0:s[0])||void 0===a?void 0:a.fare)||void 0===c?void 0:c.bundleTypeName)?"_"+(null===(d=null===(u=null===(l=h.journeys)||void 0===l?void 0:l[0])||void 0===u?void 0:u.fare)||void 0===d?void 0:d.bundleType):""),seat:{details:{flight:this.util.getSegmentsbyId(n,h.journeys).marketingCode,availableSeats:this.util.getSegmentsbyId(n,h.journeys).availableSeats}}};this.gtmService.pushTag(p)}viewSeatOptions(e,t,n){const i=`${t.journeys[0].origin.code}-${t.journeys[0].destination.code}|${t.journeys[0].departureDate.substring(0,7)}`;let o="";if(n===a.b.CheckIn||n===a.b.Manage){const t=this.getBasketCategory(e.basket,!0);o="_"+(t.charAt(0).toUpperCase()+t.slice(1))}const r=`Seat Options${o}|${i}`,s=e.basketBooking.services.services.find(e=>"VivaFan"===e.code),c=e.basket.travel.charges.find(e=>"FlightFanDiscount"===e.code),l={event:"ev_view_seat_options",category:this.getBasketCategory(e.basket),action:"view_seat_options",label:r,vivafan_bf:s||c?"Yes":"No",ec:{items:this.itemsService.returnViewSeatsGA4(t,r,e.basketBooking.journeys[0])},ecommerce:{currencyCode:e.basketBooking.currencyCode,impressions:this.itemsService.returnViewSeatsGAU(t,r,e.basketBooking.journeys[0])}};this.gtmService.pushTag(l)}createAccountVivafan(e=!1){this.gtmService.pushTag({event:"ev_sign_up_vf",category:"vf_profile",action:"create_account_vf",label:e?"successful":"unsuccessful"})}paymentTypeVivafan(e=!0,t,n){this.gtmService.pushTag({event:"ev_payment_type_selection",category:"vf_membership",action:"click_payment_type_selection",label:e?"monthly":"annual",currency:n,amount:t})}clickSeatOptions(e,t){var n,i,o,r,s;const l=this.basketService._basketBooking,u=this.basketService._basket;let d="";if(u.flowType===a.b.CheckIn||u.flowType===a.b.Manage){const e=this.getBasketCategory(u,!0);d="_"+(e.charAt(0).toUpperCase()+e.slice(1))}const h=l.services.services.find(e=>"VivaFan"===e.code),p=u.travel.charges.find(e=>"FlightFanDiscount"===e.code),g="Points"===u.bookingType,f=null===(i=null===(n=this.checkoutObjectService.currentUserData)||void 0===n?void 0:n.affiliations)||void 0===i?void 0:i.find(e=>c.d.includes(e.code)),m=null===(o=this.checkoutObjectService.currentUserData)||void 0===o?void 0:o.funds.find(e=>"Doters"===(null==e?void 0:e.type)),b={event:"ev_click_seat_options",category:this.getBasketCategory(u),action:"click_seat_options",label:"Ancillary|Seat|"+(null===(r=null==e?void 0:e.brand)||void 0===r?void 0:r.code),info_vf:{membership_type:h?l.passengers.length>1?"Team":"Single":"NA",periodicidad:h?"VFSA"===(null===(s=h.options[0])||void 0===s?void 0:s.ssrCode)?"Anual":"Mensual":"NA",cant_beneficiarios:h?l.passengers.length:"NA"},vivafan_bf:h||p?"Yes":"No",doters:{level:g&&f?this.util.getDotersLevel(null==f?void 0:f.level):"NA",balance:g&&(null==m?void 0:m.totalAmount)>-1?null==m?void 0:m.totalAmount:"NA"},list_name:`Seat Options${d}|${this.itemsService.ecommerceObject?this.itemsService.ecommerceObject.listName:""+this.util.getListDetails(l)}`,ec:{items:[this.itemsService.returnClickSeatOptionsGA4(e,l,t,d,!!h)]},ecommerce:{click:{products:[this.itemsService.returnClickSeatOptionsGAU(e,l,t,d,!!h)]}}};this.gtmService.pushTag(b)}clickSeatMap(e,t,n){var i,o,r,s;const l=this.basketService._basketBooking,u=this.basketService._basket;let d="";if(u.flowType===a.b.CheckIn||u.flowType===a.b.Manage){const e=this.getBasketCategory(u,!0);d="_"+(e.charAt(0).toUpperCase()+e.slice(1))}const h="Points"===u.bookingType,p=null===(o=null===(i=this.checkoutObjectService.currentUserData)||void 0===i?void 0:i.affiliations)||void 0===o?void 0:o.find(e=>c.d.includes(e.code)),g=null===(r=this.checkoutObjectService.currentUserData)||void 0===r?void 0:r.funds.find(e=>"Doters"===(null==e?void 0:e.type));let f,m;for(const a of l.journeys)for(const e of a.segments)t===e.key&&(f=a,m=e);const b=l.services.services.find(e=>"VivaFan"===e.code),v=u.travel.charges.find(e=>"FlightFanDiscount"===e.code),y={event:"ev_click_seat_options",category:this.getBasketCategory(u),action:"click_seat_options",label:"Ancillary|Seat|"+e.brand,info_vf:{membership_type:b?l.passengers.length>1?"Team":"Single":"NA",periodicidad:b?"VFSA"===(null===(s=b.options[0])||void 0===s?void 0:s.ssrCode)?"Anual":"Mensual":"NA",cant_beneficiarios:b?l.passengers.length:"NA"},vivafan_bf:b||v?"Yes":"No",doters:{level:h&&p?this.util.getDotersLevel(null==p?void 0:p.level):"NA",balance:h&&(null==g?void 0:g.totalAmount)>-1?null==g?void 0:g.totalAmount:"NA"},list_name:`Seat Options${d}|${this.itemsService.ecommerceObject?this.itemsService.ecommerceObject.listName:`${f.origin.code}-${f.destination.code}|${f.departureDate.scheduled.substring(0,10)}`}`,ec:{items:this.itemsService.getClickSeatMapGA4(e,f,m,l,d,!!b,n)},ecommerce:{click:{products:this.itemsService.getClickSeatMapGAU(e,f,m,l,d,!!b,n)}}};this.gtmService.pushTag(y)}addToCartSeat(e,t){var n,i,o,r,s,l,u,d,h,p,g,f,m,b,v;let y=e.basketBooking.seats.seats,_=!1;if((e.basket.flowType===a.b.CheckIn||e.basket.flowType===a.b.Manage)&&(_=!0,null===(i=null===(n=e.basket)||void 0===n?void 0:n.customFields)||void 0===i?void 0:i.checkInPassengers.length)){const t=e.basketBooking.journeys.find(t=>{var n,i;return t.key===(null===(i=null===(n=e.basket)||void 0===n?void 0:n.customFields)||void 0===i?void 0:i.checkInPassengers[0].journeyKey)}).segments;y=e.basketBooking.seats.seats.filter(n=>{var i,o;return t.find(e=>e.key===n.segmentKey)&&(null===(o=null===(i=e.basket)||void 0===i?void 0:i.customFields)||void 0===o?void 0:o.checkInPassengers.find(e=>e.passengerKey===n.passengerKey))})}const C="Points"===e.basket.bookingType,S=null===(o=null==t?void 0:t.affiliations)||void 0===o?void 0:o.find(e=>c.d.includes(e.code)),O=null==t?void 0:t.funds.find(e=>"Doters"===(null==e?void 0:e.type));for(const a of y){const t=this.util.getSegmentList(e.basketBooking.journeys);this.checkoutObjectService.transactionObject(this.getBasketCategory(e.basket),1===e.basketBooking.journeys.length?"OW":"RT","normal",_?e.basket.totalAmount.amount:e.basketBooking.totalAmount.amount,e.basketBooking.currencyCode,this.util.getRouteType(e.basketBooking),t,e.basketBooking.passengers.length,e.basketBooking.seats.seats.length,this.util.getFlightType(e.basketBooking)?"international":"domestic",(null===(l=null===(s=null===(r=e.basketBooking.journeys)||void 0===r?void 0:r[0])||void 0===s?void 0:s.fare)||void 0===l?void 0:l.fareType)+""+((null===(h=null===(d=null===(u=e.basketBooking.journeys)||void 0===u?void 0:u[0])||void 0===d?void 0:d.fare)||void 0===h?void 0:h.bundleTypeName)?"_"+(null===(f=null===(g=null===(p=e.basketBooking.journeys)||void 0===p?void 0:p[0])||void 0===g?void 0:g.fare)||void 0===f?void 0:f.bundleType):""),!!(null===(v=null===(b=null===(m=e.basketBooking.journeys)||void 0===m?void 0:m[0])||void 0===b?void 0:b.fare)||void 0===v?void 0:v.bundleTypeName));const n={event:"add_to_cart",category:C?"booking_doters":this.getBasketCategory(e.basket),action:"add_to_cart",label:"Ancillary|Seat|"+a.brand,transaction:this.checkoutObjectService.transactionInfo,doters:{level:C&&S?this.util.getDotersLevel(null==S?void 0:S.level):"NA",balance:C&&(null==O?void 0:O.totalAmount)>-1?null==O?void 0:O.totalAmount:"NA"},ec:{items:[this.itemsService.returnRobustItemsBySegmentGA4(e,a)],item_list_name:{list:`Seat Options|${this.itemsService.returnSegmentWithKey(e,a.segmentKey).origin.code}-${this.itemsService.returnSegmentWithKey(e,a.segmentKey).destination.code}|${this.itemsService.returnSegmentWithKey(e,a.segmentKey).departureDate.scheduled.split("T")[0]}`}},ecommerce:{currencyCode:e.basketBooking.currencyCode,add:{actionField:{list:`Seat Options|${this.itemsService.returnSegmentWithKey(e,a.segmentKey).origin.code}-${this.itemsService.returnSegmentWithKey(e,a.segmentKey).destination.code}|${this.itemsService.returnSegmentWithKey(e,a.segmentKey).departureDate.scheduled.split("T")[0]}`},products:[this.itemsService.returnRobustItemsBySegmentGAU(e,a)]}}};this.gtmService.pushTag(n)}}addSeatBtnClick(e){const t={event:"add_seats",category:"Points"===e.basket.bookingType?"booking_doters":this.getBasketCategory(e.basket),action:"add_seats",products:this.util.getProductsInformation(e,!1,!1,!0)};this.gtmService.pushTag(t)}finishStep(){this.gtmService.pushTag({event:"finish_step",detail:{module:"seat_selection",component:"continue_footer",element:"continue_button",action:"submit_form"}})}checkoutBaggage(e,t){var n;let i=2;t&&!this.checkoutObjectService.currentUserData&&this.checkoutObjectService.setUserData(t),e.basket.flowType===a.b.CheckIn?i=a.d.steps.findIndex(e=>a.f.Baggage===e.name)+1:e.basket.flowType===a.b.Manage&&(i=a.e.steps.findIndex(e=>a.f.Baggage===e.name)+1);const o=e.basketBooking.services.services.find(e=>"VivaFan"===e.code),r=e.basket.travel.charges.find(e=>"FlightFanDiscount"===e.code),s="Points"===e.basket.bookingType,l=null===(n=null==t?void 0:t.affiliations)||void 0===n?void 0:n.find(e=>c.d.includes(e.code)),u=null==t?void 0:t.funds.find(e=>"Doters"===(null==e?void 0:e.type)),d={event:"checkout",category:s?"booking_doters":this.getBasketCategory(e.basket),action:"checkout",label:"Baggage",vivafan_bf:o||r?"Yes":"No",checkout:{step:i,step_name:"Baggage",modality:e.basketBooking.journeys[0].fare.fareType},doters:{level:s&&l?this.util.getDotersLevel(null==l?void 0:l.level):"NA",balance:s&&(null==u?void 0:u.totalAmount)>-1?null==u?void 0:u.totalAmount:"NA"}};this.gtmService.pushTag(d)}checkoutExtras(e,t){var n;let i=e.basket.dynamicFlow.steps.findIndex(e=>a.f.Extras===e.name);t&&!this.checkoutObjectService.currentUserData&&this.checkoutObjectService.setUserData(t),e.basket.flowType===a.b.CheckIn?i=a.d.steps.findIndex(e=>a.f.Extras===e.name)+1:e.basket.flowType===a.b.Manage&&(i=a.e.steps.findIndex(e=>a.f.Extras===e.name)+1);const o=e.basketBooking.services.services.find(e=>"VivaFan"===e.code),r=e.basket.travel.charges.find(e=>"FlightFanDiscount"===e.code),s="Points"===e.basket.bookingType,l=null===(n=null==t?void 0:t.affiliations)||void 0===n?void 0:n.find(e=>c.d.includes(e.code)),u=null==t?void 0:t.funds.find(e=>"Doters"===(null==e?void 0:e.type)),d={event:"checkout",category:s?"booking_doters":this.getBasketCategory(e.basket),action:"checkout",label:"Extras",vivafan_bf:o||r?"Yes":"No",checkout:{step:i,step_name:"Extras",modality:e.basketBooking.journeys[0].fare.fareType},doters:{level:s&&l?this.util.getDotersLevel(null==l?void 0:l.level):"NA",balance:s&&(null==u?void 0:u.totalAmount)>-1?null==u?void 0:u.totalAmount:"NA"}};this.gtmService.pushTag(d)}viewExtras(e,t,n){var i,o,r,s;const c=`${t.journeys[0].origin.code}-${t.journeys[0].destination.code}|${t.journeys[0].departureDate.scheduled.substring(0,7)}`,l=this.basketService._basket;let u="";if(n===a.b.CheckIn||n===a.b.Manage){const e=this.getBasketCategory(l,!0);u="_"+(e.charAt(0).toUpperCase()+e.slice(1))}const d=`Extras${u}|${c}`,h=t.services.services.find(e=>"VivaFan"===e.code),p=null===(s=null===(r=null===(o=null===(i=this.basketService)||void 0===i?void 0:i._basket)||void 0===o?void 0:o.travel)||void 0===r?void 0:r.charges)||void 0===s?void 0:s.find(e=>"FlightFanDiscount"===e.code),g={event:"ev_view_extras",category:this.getBasketCategory(l),action:"view_extras",label:d,vivafan_bf:h||p?"Yes":"No",ec:{items:this.itemsService.returnViewExtrasGA4(e,t,d,!!u,!1,!!h)},ecommerce:{currencyCode:e.currencyCode,impressions:this.itemsService.returnViewExtrasGAU(e,t,d,!!u,!1,!!h)}};this.gtmService.pushTag(g)}viewBaggage(e,t,n){const i=`${t.journeys[0].origin.code}-${t.journeys[0].destination.code}|${t.journeys[0].departureDate.scheduled.substring(0,7)}`,o=this.basketService._basket;let r="";if(n===a.b.CheckIn||n===a.b.Manage){const e=this.getBasketCategory(o,!0);r="_"+(e.charAt(0).toUpperCase()+e.slice(1))}const s=`Baggage${r}|${i}`,c={event:"ev_view_baggage",category:this.getBasketCategory(o),action:"view_baggage",label:s,ec:{items:this.itemsService.returnViewExtrasGA4(e,t,s,!1,!!r)},ecommerce:{currencyCode:e.currencyCode,impressions:this.itemsService.returnViewExtrasGAU(e,t,s,!1,!!r)}};this.gtmService.pushTag(c)}clickExtrasModal(e,t){var n,i,o,r,s;const l=this.basketService._basketBooking,u=this.basketService._basket;let d="";if(u.flowType===a.b.CheckIn||u.flowType===a.b.Manage){const e=this.getBasketCategory(u,!0);d="_"+(e.charAt(0).toUpperCase()+e.slice(1))}const h=(null===(n=this.serviceServices.getService(e[0].ssrCode))||void 0===n?void 0:n.jsonAttributes)||null,p=l.services.services.find(e=>"VivaFan"===e.code),g=u.travel.charges.find(e=>"FlightFanDiscount"===e.code),f="Points"===u.bookingType,m=null===(o=null===(i=this.checkoutObjectService.currentUserData)||void 0===i?void 0:i.affiliations)||void 0===o?void 0:o.find(e=>c.d.includes(e.code)),b=null===(r=this.checkoutObjectService.currentUserData)||void 0===r?void 0:r.funds.find(e=>"Doters"===(null==e?void 0:e.type)),v={event:"ev_click_extras",category:this.getBasketCategory(u),action:t,label:`Ancillary|${h?h.item_category_2:this.defaultCat.item_category_2}|${h?h.item_category_3:this.defaultCat.item_category_3}`,info_vf:{membership_type:p?l.passengers.length>1?"Team":"Single":"NA",periodicidad:p?"VFSA"===(null===(s=p.options[0])||void 0===s?void 0:s.ssrCode)?"Anual":"Mensual":"NA",cant_beneficiarios:p?l.passengers.length:"NA"},vivafan_bf:p||g?"Yes":"No",doters:{level:f&&m?this.util.getDotersLevel(null==m?void 0:m.level):"NA",balance:f&&(null==b?void 0:b.totalAmount)>-1?null==b?void 0:b.totalAmount:"NA"},list_name:`Extras${d}|${this.util.getListDetails(l)}`,ec:{items:this.itemsService.clickExtrasModalGA4(e,l,d,!!p)},ecommerce:{click:{actionField:`Extras${d}|${this.util.getListDetails(l)}`,products:this.itemsService.clickExtrasModalGAU(e,l,d,!!p)}}};this.gtmService.pushTag(v)}clickEditRecommendedExtras(e){var t;const n=this.basketService._basketBooking,i=this.basketService._basket;let o=n.journeys[0];if(i.flowType===a.b.CheckIn&&(null===(t=null==i?void 0:i.customFields)||void 0===t?void 0:t.checkInPassengers.length)&&(o=n.journeys.find(e=>{var t;return e.key===(null===(t=null==i?void 0:i.customFields)||void 0===t?void 0:t.checkInPassengers[0].journeyKey)})),o){const t={event:"ev_edit_recommended_extras",category:this.getBasketCategory(i),action:"edit_recommended_extras",label:e,reserve:{pnr:n.pnr},mmb:{route:`${o.origin.code}-${o.destination.code}`,journey_type:o===n.journeys[0]?"outbound":"inbound",trip_type:1===n.journeys.length?"one_way":"roundtrip",market:o.isInternational?"international":"domestic",departure_date:o.departureDate.scheduled.split("T")[0],modality:o.fare.fareType,total_passenger_count:n.passengers.length,check_in_window:this.util.getCheckInWindow(o)}};this.gtmService.pushTag(t)}}clickAddRecommendedExtras(e){var t;const n=this.basketService._basketBooking,i=this.basketService._basket;let o=n.journeys[0];if(i.flowType===a.b.CheckIn&&(null===(t=null==i?void 0:i.customFields)||void 0===t?void 0:t.checkInPassengers.length)&&(o=n.journeys.find(e=>{var t;return e.key===(null===(t=null==i?void 0:i.customFields)||void 0===t?void 0:t.checkInPassengers[0].journeyKey)})),o){const t={event:"ev_add_recommended_extras",category:this.getBasketCategory(i),action:"add_recommended_extras",label:e,reserve:{pnr:n.pnr},mmb:{route:`${o.origin.code}-${o.destination.code}`,journey_type:o===n.journeys[0]?"outbound":"inbound",trip_type:1===n.journeys.length?"one_way":"roundtrip",market:o.isInternational?"international":"domestic",departure_date:o.departureDate.scheduled.split("T")[0],modality:o.fare.fareType,total_passenger_count:n.passengers.length,check_in_window:this.util.getCheckInWindow(o)}};this.gtmService.pushTag(t)}}mmbFooterClickPayment(e){var t;const n=this.basketService._basketBooking,i=this.basketService._basket;let o=n.journeys[0];if(i.flowType===a.b.CheckIn&&(null===(t=null==i?void 0:i.customFields)||void 0===t?void 0:t.checkInPassengers.length)&&(o=n.journeys.find(e=>{var t;return e.key===(null===(t=null==i?void 0:i.customFields)||void 0===t?void 0:t.checkInPassengers[0].journeyKey)})),o){const t={event:"ev_click_payment",category:this.getBasketCategory(i),action:"click_payment",label:e,reserve:{pnr:n.pnr},mmb:{route:`${o.origin.code}-${o.destination.code}`,journey_type:o===n.journeys[0]?"outbound":"inbound",trip_type:1===n.journeys.length?"one_way":"roundtrip",market:o.isInternational?"international":"domestic",departure_date:o.departureDate.scheduled.split("T")[0],modality:o.fare.fareType,total_passenger_count:n.passengers.length,check_in_window:this.util.getCheckInWindow(o)}};this.gtmService.pushTag(t)}}clickExtrasTransport(e,t){var n,i,o,r,s;const l=this.basketService._basketBooking,u=this.basketService._basket,d=(null===(n=this.serviceServices.getService(e[0].pickupLocations[0].ssrCode))||void 0===n?void 0:n.jsonAttributes)||null;let h="";if(u.flowType===a.b.CheckIn||u.flowType===a.b.Manage){const e=this.getBasketCategory(u,!0);h="_"+(e.charAt(0).toUpperCase()+e.slice(1))}const p="Points"===u.bookingType,g=null===(o=null===(i=this.checkoutObjectService.currentUserData)||void 0===i?void 0:i.affiliations)||void 0===o?void 0:o.find(e=>c.d.includes(e.code)),f=null===(r=this.checkoutObjectService.currentUserData)||void 0===r?void 0:r.funds.find(e=>"Doters"===(null==e?void 0:e.type)),m=l.services.services.find(e=>"VivaFan"===e.code),b=u.travel.charges.find(e=>"FlightFanDiscount"===e.code),v={event:"ev_click_extras",category:this.getBasketCategory(u),action:t,label:`Ancillary|${d?d.item_category_2:this.defaultCat.item_category_2}|${d?d.item_category_3:this.defaultCat.item_category_3}`,info_vf:{membership_type:m?l.passengers.length>1?"Team":"Single":"NA",periodicidad:m?"VFSA"===(null===(s=m.options[0])||void 0===s?void 0:s.ssrCode)?"Anual":"Mensual":"NA",cant_beneficiarios:m?l.passengers.length:"NA"},vivafan_bf:m||b?"Yes":"No",doters:{level:p&&g?this.util.getDotersLevel(null==g?void 0:g.level):"NA",balance:p&&(null==f?void 0:f.totalAmount)>-1?null==f?void 0:f.totalAmount:"NA"},list_name:`Extras${h}|${this.util.getListDetails(l)}`,ec:{items:this.itemsService.clickExtrasTransportGA4(e,l,h,!!m),item_list_name:{list:`Extras${h}|${this.itemsService.ecommerceObject?this.itemsService.ecommerceObject.listName:""}`}},ecommerce:{click:{actionField:`Extras${h}|${this.util.getListDetails(l)}`,products:this.itemsService.clickExtrasTransportGAU(e,l,h,!!m)}}};this.gtmService.pushTag(v)}clickExtrasDocumented(e,t){var n,i,o,r,s;const l=this.basketService._basketBooking,u=this.basketService._basket,d=l.journeys.find(e=>e.key===t)||l.journeys[0],h=(null===(n=this.serviceServices.getService(e.ssrCode))||void 0===n?void 0:n.jsonAttributes)||null;let p=!1,g="Extras";if(u.flowType===a.b.CheckIn||u.flowType===a.b.Manage){p=!0;const e=this.getBasketCategory(u,!0);g="Baggage_"+(e.charAt(0).toUpperCase()+e.slice(1))}const f="Points"===u.bookingType,m=null===(o=null===(i=this.checkoutObjectService.currentUserData)||void 0===i?void 0:i.affiliations)||void 0===o?void 0:o.find(e=>c.d.includes(e.code)),b=null===(r=this.checkoutObjectService.currentUserData)||void 0===r?void 0:r.funds.find(e=>"Doters"===(null==e?void 0:e.type)),v=l.services.services.find(e=>"VivaFan"===e.code),y=u.travel.charges.find(e=>"FlightFanDiscount"===e.code),_={event:p?"ev_click_baggage":"ev_click_extras",category:this.getBasketCategory(u),action:p?"click_baggage":"click_extras",label:`Ancillary|${h?h.item_category_2:this.defaultCat.item_category_2}|${h?h.item_category_3:this.defaultCat.item_category_3}`,list_name:`${g}|${this.util.getListDetails(l,d)}`,ec:{items:this.itemsService.clickExtrasDocumentedGA4(e,l,g,v&&!p)},ecommerce:{click:{actionField:`${g}|${this.util.getListDetails(l)}`,products:this.itemsService.clickExtrasDocumentedGAU(e,l,g,v&&!p)}}};p||(_.info_vf={membership_type:v?l.passengers.length>1?"Team":"Single":"NA",periodicidad:v?"VFSA"===(null===(s=v.options[0])||void 0===s?void 0:s.ssrCode)?"Anual":"Mensual":"NA",cant_beneficiarios:v?l.passengers.length:"NA"},_.vivafan_bf=v||y?"Yes":"No",_.doters={level:f&&m?this.util.getDotersLevel(null==m?void 0:m.level):"NA",balance:f&&(null==b?void 0:b.totalAmount)>-1?null==b?void 0:b.totalAmount:"NA"}),this.gtmService.pushTag(_)}addToCartExtras(e,t=!1,n){var i,o,r,s,l,u,d,h,p,g,f,m,b;const v=this.util.getSegmentList(e.basketBooking.journeys);let y=!1;e.basket.flowType!==a.b.CheckIn&&e.basket.flowType!==a.b.Manage||(y=!0);const _="Points"===e.basket.bookingType,C=null===(i=null==n?void 0:n.affiliations)||void 0===i?void 0:i.find(e=>c.d.includes(e.code)),S=null==n?void 0:n.funds.find(e=>"Doters"===(null==e?void 0:e.type));this.checkoutObjectService.transactionObject(this.getBasketCategory(e.basket),1===e.basketBooking.journeys.length?"OW":"RT","normal",y?e.basket.totalAmount.amount:e.basketBooking.totalAmount.amount,e.basketBooking.currencyCode,this.util.getRouteType(e.basketBooking),v,e.basketBooking.passengers.length,e.basketBooking.seats.seats.length,this.util.getFlightType(e.basketBooking)?"international":"domestic",(null===(s=null===(r=null===(o=e.basketBooking.journeys)||void 0===o?void 0:o[0])||void 0===r?void 0:r.fare)||void 0===s?void 0:s.fareType)+""+((null===(d=null===(u=null===(l=e.basketBooking.journeys)||void 0===l?void 0:l[0])||void 0===u?void 0:u.fare)||void 0===d?void 0:d.bundleTypeName)?"_"+(null===(g=null===(p=null===(h=e.basketBooking.journeys)||void 0===h?void 0:h[0])||void 0===p?void 0:p.fare)||void 0===g?void 0:g.bundleType):""),!!(null===(b=null===(m=null===(f=e.basketBooking.journeys)||void 0===f?void 0:f[0])||void 0===m?void 0:m.fare)||void 0===b?void 0:b.bundleTypeName));const O={event:"add_to_cart",category:_?"booking_doters":this.getBasketCategory(e.basket),action:"add_to_cart",label:"Ancillary|"+(t?"Baggage":"Extras"),transaction:this.checkoutObjectService.transactionInfo,doters:{level:_&&C?this.util.getDotersLevel(null==C?void 0:C.level):"NA",balance:_&&(null==S?void 0:S.totalAmount)>-1?null==S?void 0:S.totalAmount:"NA"},ec:{items:this.itemsService.addToCartExtrasGA4(e,y,t),item_list_name:{list:(t?"Baggage":"Extras")+" Options"}},ecommerce:{add:{currencyCode:e.basketBooking.currencyCode,products:this.itemsService.addToCartExtrasGAU(e,y,t)}},products:this.util.getProductsInformation(e,y,t)};this.gtmService.pushTag(O)}gtmSelectHotelItem(e){const t=null==e?void 0:e.basketBooking;if(t.accommodation)try{const n=`Hotels_Booking|${t.journeys[0].origin.code}-${t.journeys[0].destination.code}|${t.journeys[0].arrivalDate.scheduled.split("T")[0].substring(0,7)}`,i={event:"ev_click_hotels",category:this.getBasketCategory(e.basket),action:"click_hotels",label:"Hotel|"+t.accommodation.propertyDetails.name,list_name:n,ec:{items:this.itemsService.accommodationLightGA4Items(t,n)},ecommerce:{actionField:{list:n},products:this.itemsService.accommodationLightGAUItems(t,n)}};this.gtmService.pushTag(i)}catch(n){l.g.production||console.error("::GTM::ev_click_hotels::",n)}}addToCartHotels(e){var t,n,i,o,r,s,a,c,u,d,h,p;try{const l=null==e?void 0:e.basketBooking,g=this.util.getSegmentList(e.basketBooking.journeys),f=`Hotels_Booking|${l.journeys[0].origin.code}-${l.journeys[0].destination.code}|${l.journeys[0].arrivalDate.scheduled.split("T")[0].substring(0,7)}`;this.checkoutObjectService.transactionObject(this.getBasketCategory(e.basket),1===l.journeys.length?"OW":"RT","normal",l.totalAmount.amount,l.currencyCode,this.util.getRouteType(l),g,l.passengers.filter(e=>!!e.passengerKey).length,l.seats.seats.length,this.util.getFlightType(l)?"international":"domestic",(null===(i=null===(n=null===(t=l.journeys)||void 0===t?void 0:t[0])||void 0===n?void 0:n.fare)||void 0===i?void 0:i.fareType)+""+((null===(s=null===(r=null===(o=l.journeys)||void 0===o?void 0:o[0])||void 0===r?void 0:r.fare)||void 0===s?void 0:s.bundleTypeName)?"_"+(null===(u=null===(c=null===(a=l.journeys)||void 0===a?void 0:a[0])||void 0===c?void 0:c.fare)||void 0===u?void 0:u.bundleType):""),!!(null===(p=null===(h=null===(d=l.journeys)||void 0===d?void 0:d[0])||void 0===h?void 0:h.fare)||void 0===p?void 0:p.bundleTypeName));const m={event:"add_to_cart",category:this.getBasketCategory(e.basket),action:"add_to_cart",label:"Hotel",transaction:this.checkoutObjectService.transactionInfo,ec:{items:this.itemsService.accommodationLightGA4Items(l,f)},ecommerce:{add:{currencyCode:e.basketBooking.currencyCode,products:this.itemsService.accommodationLightGAUItems(l,f)}}};this.gtmService.pushTag(m)}catch(g){l.g.production||console.error("::GTM::add_to_cart-hotels::",g)}}checkoutHotels(e){const t=e.basket.dynamicFlow.steps.findIndex(e=>a.f.Hotel===e.name),n=e.basketBooking.services.services.find(e=>"VivaFan"===e.code),i={event:"checkout",category:this.getBasketCategory(e.basket),action:"checkout",label:"Hotel",vivafan_bf:n?"Yes":"No",checkout:{step:t,step_name:"Hotel",modality:e.basketBooking.journeys[0].fare.fareType}};this.gtmService.pushTag(i)}viewPayment(e){const t=`${e.origin.code}-${e.destination.code}|${e.departureDate.substring(0,7)}`;this.gtmService.pushTag({event:"ev_view_payment",category:"ecommerce",action:"view_payment",label:"Payment|"+t,ec:{items:this.itemsService.getRobustItemsGA4},ecommerce:{currencyCode:this.currency.selectedCurrencyCode,impressions:this.itemsService.getRobustItemsGAU}})}checkoutPayment(e,t){var n;let i=e.basket.dynamicFlow.steps.findIndex(e=>a.f.Payment===e.name);t&&!this.checkoutObjectService.currentUserData&&this.checkoutObjectService.setUserData(t),e.basket.flowType===a.b.CheckIn?i=a.d.steps.findIndex(e=>a.f.Payment===e.name)+1:e.basket.flowType===a.b.Manage&&(i=a.e.steps.findIndex(e=>a.f.Payment===e.name)+1);const o=e.basketBooking.services.services.find(e=>"VivaFan"===e.code),r=e.basket.travel.charges.find(e=>"FlightFanDiscount"===e.code),s="Points"===e.basket.bookingType,l=null===(n=null==t?void 0:t.affiliations)||void 0===n?void 0:n.find(e=>c.d.includes(e.code)),u=null==t?void 0:t.funds.find(e=>"Doters"===(null==e?void 0:e.type)),d={event:"checkout",category:s?"booking_doters":this.getBasketCategory(e.basket),action:"checkout",label:"Payment",vivafan_bf:o||r?"Yes":"No",checkout:{step:i,step_name:"Payment",modality:e.basketBooking.journeys[0].fare.fareType},doters:{level:s&&l?this.util.getDotersLevel(null==l?void 0:l.level):"NA",balance:s&&(null==u?void 0:u.totalAmount)>-1?null==u?void 0:u.totalAmount:"NA"}};this.gtmService.pushTag(d)}acceptPayTuaModal(){this.gtmService.pushTag({event:"prepay_tua",detail:{module:"tua",component:"popup_prepay",element:"options",action:"accept_prepay"}})}declinePayTuaModal(){this.gtmService.pushTag({event:"prepay_tua",detail:{module:"tua",component:"popup_prepay",element:"options",action:"decline_prepay"}})}payTua(){this.gtmService.pushTag({event:"prepay_tua",detail:{module:"tua",component:"ancillary_card",element:"options",action:"accept_prepay"}})}tuaDetails(){this.gtmService.pushTag({event:"prepay_tua",detail:{module:"tua",component:"ancillary_card",element:"options",action:"see_more_prepay"}})}insuranceSelection(e){switch(e){case T.Basic:this.insuranceBasic();break;case T.Premium:this.insurancePremium()}}insuranceBasic(){this.gtmService.pushTag({event:"add_insurance",detail:{module:"insurance",component:"ancillary_card",element:"options",action:"add_basic"}})}insurancePremium(){this.gtmService.pushTag({event:"add_insurance",detail:{module:"insurance",component:"ancillary_card",element:"options",action:"add_premium"}})}addToCartPayment(e){const t=this.basketService._basketBooking,n=this.basketService._basket,i=n.flowType===a.b.Booking?t.charges.filter(e=>w.National===e.code||w.International===e.code):n.travel.charges.filter(e=>w.National===e.code||w.International===e.code),o=n.flowType===a.b.Booking?t.charges.filter(e=>T.Basic===e.code||T.Premium===e.code):n.travel.charges.filter(e=>T.Basic===e.code||T.Premium===e.code);i.length&&this.addToCartTua(t,i,e),o.length&&this.addToCartInsurance(t,o,e)}addToCartTua(e,t,n){var i,o,r,s,l,u,d,h,p,g,f,m,b;const v=this.util.getSegmentList(e.journeys),y=this.basketService._basket;let _=!1;y.flowType!==a.b.CheckIn&&y.flowType!==a.b.Manage||(_=!0);const C="Points"===y.bookingType,S=null===(i=null==n?void 0:n.affiliations)||void 0===i?void 0:i.find(e=>c.d.includes(e.code)),O=null==n?void 0:n.funds.find(e=>"Doters"===(null==e?void 0:e.type));this.checkoutObjectService.transactionObject(this.getBasketCategory(y),1===e.journeys.length?"OW":"RT","normal",_?y.totalAmount.amount:e.totalAmount.amount,e.currencyCode,this.util.getRouteType(e),v,e.passengers.length,e.seats.seats.length,this.util.getFlightType(e)?"international":"domestic",(null===(s=null===(r=null===(o=e.journeys)||void 0===o?void 0:o[0])||void 0===r?void 0:r.fare)||void 0===s?void 0:s.fareType)+""+((null===(d=null===(u=null===(l=e.journeys)||void 0===l?void 0:l[0])||void 0===u?void 0:u.fare)||void 0===d?void 0:d.bundleTypeName)?"_"+(null===(g=null===(p=null===(h=e.journeys)||void 0===h?void 0:h[0])||void 0===p?void 0:p.fare)||void 0===g?void 0:g.bundleType):""),!!(null===(b=null===(m=null===(f=e.journeys)||void 0===f?void 0:f[0])||void 0===m?void 0:m.fare)||void 0===b?void 0:b.bundleTypeName));const T={event:"add_to_cart",category:C?"booking_doters":this.getBasketCategory(y),action:"add_to_cart",label:"TUA",transaction:this.checkoutObjectService.transactionInfo,doters:{level:C&&S?this.util.getDotersLevel(null==S?void 0:S.level):"NA",balance:C&&(null==O?void 0:O.totalAmount)>-1?null==O?void 0:O.totalAmount:"NA"},ec:{items:this.itemsService.returnRobustItemsTuaGA4(e,t)},ecommerce:{add:{currencyCode:e.currencyCode,products:this.itemsService.returnRobustItemsTuaGAU(e,t)}}};this.gtmService.pushTag(T)}addToCartInsurance(e,t,n){var i,o,r,s,l,u,d,h,p,g,f,m,b;const v=this.util.getSegmentList(e.journeys),y=this.basketService._basket;let _=!1;y.flowType!==a.b.CheckIn&&y.flowType!==a.b.Manage||(_=!0);const C="Points"===y.bookingType,S=null===(i=null==n?void 0:n.affiliations)||void 0===i?void 0:i.find(e=>c.d.includes(e.code)),O=null==n?void 0:n.funds.find(e=>"Doters"===(null==e?void 0:e.type));this.checkoutObjectService.transactionObject(this.getBasketCategory(y),1===e.journeys.length?"OW":"RT","normal",_?y.totalAmount.amount:e.totalAmount.amount,e.currencyCode,this.util.getRouteType(e),v,e.passengers.length,e.seats.seats.length,this.util.getFlightType(e)?"international":"domestic",(null===(s=null===(r=null===(o=e.journeys)||void 0===o?void 0:o[0])||void 0===r?void 0:r.fare)||void 0===s?void 0:s.fareType)+""+((null===(d=null===(u=null===(l=e.journeys)||void 0===l?void 0:l[0])||void 0===u?void 0:u.fare)||void 0===d?void 0:d.bundleTypeName)?"_"+(null===(g=null===(p=null===(h=e.journeys)||void 0===h?void 0:h[0])||void 0===p?void 0:p.fare)||void 0===g?void 0:g.bundleType):""),!!(null===(b=null===(m=null===(f=e.journeys)||void 0===f?void 0:f[0])||void 0===m?void 0:m.fare)||void 0===b?void 0:b.bundleTypeName));const T={event:"add_to_cart",category:C?"booking_doters":this.getBasketCategory(y),action:"add_to_cart",label:"Insurance",transaction:this.checkoutObjectService.transactionInfo,doters:{level:C&&S?this.util.getDotersLevel(null==S?void 0:S.level):"NA",balance:C&&(null==O?void 0:O.totalAmount)>-1?null==O?void 0:O.totalAmount:"NA"},ec:{items:this.itemsService.returnRobustItemsInsuranceGA4(e,t)},ecommerce:{add:{currencyCode:e.currencyCode,products:this.itemsService.returnRobustItemsInsuranceGAU(e,t)}}};this.gtmService.pushTag(T)}paymentCheckScotiaPoints(){this.gtmService.pushTag({event:"ev_payment_check_scotia_points",category:"payment",action:"check_scotia_points",label:""})}paymentThirdparty(e){e!==r.d.PayPal&&e!==r.d.Uplift&&e!==r.d.Kueski&&e!==r.d.Rappi||this.gtmService.pushTag({event:"ev_payment_pay_thirdparty",category:"payment",action:"pay_thirdparty",label:e})}clickSearchReservation(e,t=!1){this.gtmService.pushTag({event:"ev_mmb_check_in_search_reservation",category:"search",action:"click_search_your_reservation",label:t?"found":"not found",reserve:{pnr:e}})}paymentAddedVoucher(e){this.gtmService.pushTag({event:"ev_payment_added_voucher",category:"payment",action:"added_voucher",label:e})}eventPurchase(e,t=!1,n){var i,o,s,l,d,h,p,g,f,m,b,v,y,_,C,S,O,T,w,k,A,E,M,P,D,x,I,L,R,N,j,B,F,H,U,Y,G;const V=JSON.parse(localStorage.getItem("limitPayment"));let Z=!1;(e.basket.flowType===a.b.CheckIn||e.basket.flowType===a.b.Manage||t)&&(Z=!0);const $="L1"===(null===(s=null===(o=null===(i=null==e?void 0:e.basketBooking)||void 0===i?void 0:i.journeys[0])||void 0===o?void 0:o.fare)||void 0===s?void 0:s.classOfService),W=null===(l=null==n?void 0:n.affiliations)||void 0===l?void 0:l.find(e=>c.d.includes(e.code)),K=null==n?void 0:n.funds.find(e=>"Doters"===(null==e?void 0:e.type)),z={pnr:e.basketBooking.pnr,creationTime:e.basketBooking.creationDate,status:e.basketBooking.status,limitPayment:(null==V?void 0:V.pnr)===e.basketBooking.pnr&&V.limitPayment},Q=[];if(e.basketBooking.payments.length)for(const a of e.basketBooking.payments){const t={status:a.status,type:a.type===r.d.PointsRewards?"Doters":a.type,installments:a.installments?"MSI"+(null===(d=a.installments)||void 0===d?void 0:d.toString()):"",code:a.type===r.d.PointsRewards?"XX":a.code,reference:null===(h=a.reference)||void 0===h?void 0:h.toString(),amount:a.type===r.d.PointsRewards?null==a?void 0:a.collectedAmount:a.amount,payment_doters:a.type===r.d.PointsRewards?e.basketBooking.payments.length>1?"Partial":"Yes":"No"};Q.push(t)}const X=this.util.getSegmentList(e.basketBooking.journeys),q=this.basketService.getTripTypeFromBasket(e.basket)===u.a.MULTI_CITY;this.checkoutObjectService.transactionObject($?"booking_doters":this.getBasketCategory(e.basket),1===e.basketBooking.journeys.length?"OW":q?"MC":"RT","normal",Z?e.basket.totalAmount.amount:e.basketBooking.totalAmount.amount,e.basketBooking.currencyCode,this.util.getRouteType(e.basketBooking),X,e.basketBooking.passengers.length,e.basketBooking.seats.seats.length,this.util.getFlightType(e.basketBooking)?"international":"domestic",(null===(f=null===(g=null===(p=e.basketBooking.journeys)||void 0===p?void 0:p[0])||void 0===g?void 0:g.fare)||void 0===f?void 0:f.fareType)+""+((null===(v=null===(b=null===(m=e.basketBooking.journeys)||void 0===m?void 0:m[0])||void 0===b?void 0:b.fare)||void 0===v?void 0:v.bundleTypeName)?"_"+(null===(C=null===(_=null===(y=e.basketBooking.journeys)||void 0===y?void 0:y[0])||void 0===_?void 0:_.fare)||void 0===C?void 0:C.bundleType):""),!!(null===(T=null===(O=null===(S=e.basketBooking.journeys)||void 0===S?void 0:S[0])||void 0===O?void 0:O.fare)||void 0===T?void 0:T.bundleTypeName));const J=[];e.basketBooking.journeys.forEach(e=>{e.segments.forEach(e=>{J.push(e.operatingCarrier)})});const ee=J.filter((e,t)=>J.indexOf(e)===t).join("|"),te=Object.assign(Object.assign({id:e.basket.transactionId},this.checkoutObjectService.transactionInfo),{basket_amount:Z?e.basket.totalAmount.amount:e.basketBooking.totalAmount.amount,doters_amount:$&&(null===(k=null===(w=e.basketBooking.payments.find(e=>e.type===r.d.PointsRewards))||void 0===w?void 0:w.amount)||void 0===k?void 0:k.value)||0,doters_price:(null===(E=null===(A=null==e?void 0:e.basketBooking)||void 0===A?void 0:A.totalAmount)||void 0===E?void 0:E.pointAmount)||"NA",payments:Q,carriers:ee}),ne=e.basket.flowType===a.b.CheckIn?"Payment_Check_in":e.basket.dynamicFlow.currentStep,ie=e.basketBooking.services.services.find(e=>"VivaFan"===e.code),oe=e.basket.travel.charges.find(e=>"FlightFanDiscount"===e.code),re=Z?e.basket.currencyCode:e.basketBooking.currencyCode;let se=this.util.getIvaTotalAmount(Z?e.basket.travel.additionalCharges:e.basketBooking.additionalCharges);const ae=Z?null===(M=null==e?void 0:e.basket)||void 0===M?void 0:M.accommodation:null===(P=null==e?void 0:e.basketBooking)||void 0===P?void 0:P.accommodation;ae&&(se+=this.util.getIvaTotalAmount(ae.additionalCharges));const ce={event:"purchase",create_account:ie?"Yes":"No",vivafan_bf:ie||oe?"Yes":"No",info_vf:{membership_type:ie?e.basketBooking.passengers.length>1?"Team":"Single":"NA",periodicidad:ie?"VFSA"===(null===(D=ie.options[0])||void 0===D?void 0:D.ssrCode)?"Anual":"Mensual":"NA",cant_beneficiarios:ie?e.basketBooking.passengers.length:"NA"},doters_payment:{level:$&&W?this.util.getDotersLevel(null==W?void 0:W.level):"NA",balance:$&&(null==K?void 0:K.totalAmount)>-1?null==K?void 0:K.totalAmount:"NA"},transaction:te,reserve:z,ec:{currency:re,value:(Z?null===(I=null===(x=null==e?void 0:e.basket)||void 0===x?void 0:x.totalAmount)||void 0===I?void 0:I.amount:null===(R=null===(L=e.basketBooking.payments[0])||void 0===L?void 0:L.collectedAmount)||void 0===R?void 0:R.value)||0,tax:this.util.getIvaTotalAmount(Z?e.basket.travel.additionalCharges:e.basketBooking.additionalCharges),shipping:this.util.getTuaTotalAmount(Z?e.basket.travel.charges:e.basketBooking.charges),coupon:this.util.couponPromocode,items:this.itemsService.itemsPurchase(e,"GA4",Z,!!ie),item_list_name:{affiliation:ne,revenue:(Z?null===(j=null===(N=null==e?void 0:e.basket)||void 0===N?void 0:N.totalAmount)||void 0===j?void 0:j.amount:null===(F=null===(B=e.basketBooking.payments[0])||void 0===B?void 0:B.collectedAmount)||void 0===F?void 0:F.value)||0,tax:se,shipping:this.util.getTuaTotalAmount(Z?e.basket.travel.charges:e.basketBooking.charges),coupon:this.util.couponPromocode}},ecommerce:{currencyCode:re,purchase:{actionField:{affiliation:ne,revenue:(Z?null===(U=null===(H=null==e?void 0:e.basket)||void 0===H?void 0:H.totalAmount)||void 0===U?void 0:U.amount:null===(G=null===(Y=e.basketBooking.payments[0])||void 0===Y?void 0:Y.collectedAmount)||void 0===G?void 0:G.value)||0,tax:this.util.getIvaTotalAmount(Z?e.basket.travel.additionalCharges:e.basketBooking.additionalCharges),shipping:this.util.getTuaTotalAmount(Z?e.basket.travel.charges:e.basketBooking.charges),coupon:this.util.couponPromocode},products:this.itemsService.itemsPurchase(e,"GAU",Z,!!ie)}}};localStorage.removeItem("limitPayment"),this.gtmService.pushTag(ce)}paymentAttempt(e,t){this.gtmService.pushTag({event:"ev_payment_payment_attempt",category:"payment",action:"payment_attempt",label:e,payment_type:t?null==t?void 0:t.paymentType:null,payment_amount:t?null==t?void 0:t.paymentAmount:null,payment_currency_code:t?null==t?void 0:t.paymentCurrencyCode:null,payment_detail:t?(null==t?void 0:t.paymentDetail)?null==t?void 0:t.paymentDetail:null==t?void 0:t.paymentType:null})}otpDoters(e,t){this.gtmService.pushTag({event:"ev_otp_doters",category:"Doters",action:"OTP",label:e,detail:t})}triggerEvent(e,t,n){var i;let o=this.addToCartStep;if(e.basket.flowType===a.b.Booking&&t){let n=e.basket.dynamicFlow.steps.findIndex(e=>t===e.name);o=null===(i=e.basket.dynamicFlow.steps[--n])||void 0===i?void 0:i.name}switch(o){case a.f.Passengers:this.passengerInformation(e);break;case a.f.Extras:this.addToCartExtras(e,!1,n);break;case a.f.Seats:this.addToCartSeat(e,n),e.basket.flowType===a.b.Booking&&this.finishStep();break;case a.f.Baggage:this.addToCartExtras(e,!0)}}preselectedTotalRefund(e,t){this.gtmService.pushTag({event:"ev_ux_booking",category:"ux_booking",action:"preselected_total_refund",label:e?"reaccept_preselection":"remove_preselection",transaction_payment_type:t})}infoTotalRefund(e){this.gtmService.pushTag({event:"ev_ux_booking",category:"ux_booking",action:"preselected_total_refund",label:"click_info",transaction_payment_type:e})}preselectedExtras(e,t,n){var i,o,r,s;const c=`${t.journeys[0].origin.code}-${t.journeys[0].destination.code}|${t.journeys[0].departureDate.scheduled.substring(0,7)}`,l=this.basketService._basket;let u="";if(n===a.b.CheckIn||n===a.b.Manage){const e=this.getBasketCategory(l,!0);u="_"+(e.charAt(0).toUpperCase()+e.slice(1))}const d=`Extras${u}|${c}`,h=t.services.services.find(e=>"VivaFan"===e.code),p=null===(s=null===(r=null===(o=null===(i=this.basketService)||void 0===i?void 0:i._basket)||void 0===o?void 0:o.travel)||void 0===r?void 0:r.charges)||void 0===s?void 0:s.find(e=>"FlightFanDiscount"===e.code),g={event:"ev_view_extras",category:this.getBasketCategory(l),action:"view_preselected_extras",label:d,vivafan_bf:h||p?"Yes":"No",ec:{items:this.itemsService.returnViewExtrasGA4(e,t,d,!!u,!1,!!h)},ecommerce:{currencyCode:e.currencyCode,impressions:this.itemsService.returnViewExtrasGAU(e,t,d,!!u,!1,!!h)}};this.gtmService.pushTag(g)}recommendedExtras(e){var t,n;const i=[...null===(n=null===(t=null==e?void 0:e.sortingGroups)||void 0===t?void 0:t.find(e=>(null==e?void 0:e.type)===s.c.Recommended))||void 0===n?void 0:n.services];if(null==i?void 0:i.length){let e="";i.forEach((t,n)=>{e=e+(n>0?"|":"")+t});const t={event:"ev_view_extras",category:this.getBasketCategory(this.basketService._basket),action:"view_recommended_extras",label:e};this.gtmService.pushTag(t)}}removePreselected(e,t){const n=t.basketBooking.journeys[0],i={event:"ev_remove",category:this.getBasketCategory(this.basketService._basket),action:"remove_preselected_extras",label:e,route:this.util.getRouteType(t.basketBooking),trip_type:1===t.basketBooking.journeys.length?"one_way":"roundtrip",market:n.isInternational?"international":"domestic",departure_date:n.departureDate.scheduled.split("T")[0],modality:n.fare.fareType,total_passenger_count:t.basketBooking.passengers.length,booking_window:this.util.getCheckInWindow(n)};this.gtmService.pushTag(i)}continueWithPreselectedServices(e){const t=this.basketService._basket,n=e.basketBooking.journeys[0];let i;const r=e.basket.customFields.preSelectedServices.filter(e=>!!e.active).map(e=>e.ssrCode);if(!r.length)return;i="",e.basketBooking.services.services.forEach(e=>{var t,n;if((null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.some(e=>r.includes(e.ssrCode)&&e.status===o.i.Pending))&&"TotalRefund"!==e.code){const t=null===(n=this.serviceServices.getService(e.code))||void 0===n?void 0:n.basketName;t&&(i+=i?" | "+t:t)}}),e.basket.customFields.preSelectedServices.find(e=>"transfer"===(null==e?void 0:e.serviceType))&&e.basketBooking.services.transportServices.forEach(e=>{if(null==e?void 0:e.pickupLocations.find(e=>r.includes(e.ssrCode))){const t=this.serviceServices.getService(e.pickupLocations[0].ssrCode),n=(null==t?void 0:t.basketName)||(null==t?void 0:t.name);n&&(i+=i?" | "+n:n)}});const s={event:"ev_add_recommended_extras",category:this.getBasketCategory(t),action:"add_recommended_extras",label:i,route:this.util.getRouteType(e.basketBooking),trip_type:1===e.basketBooking.journeys.length?"one_way":"roundtrip",market:n.isInternational?"international":"domestic",departure_date:n.departureDate.scheduled.split("T")[0],modality:n.fare.fareType,total_passenger_count:e.basketBooking.passengers.length,booking_window:this.util.getCheckInWindow(n)};this.gtmService.pushTag(s)}processPaymentPreselectedServices(e){var t,n,i,r,s,c,l,h,p,g,f,m;const b=e.basketBooking.journeys[0];let v="",y="",_=0;const C=e.basket.customFields.preSelectedServices.filter(e=>!!e.active).map(e=>e.ssrCode);let S=0;if(e.basketBooking.services.services.forEach(t=>{var n,i,r,s,a,c;if(null===(n=null==t?void 0:t.options)||void 0===n?void 0:n.some(e=>C.includes(e.ssrCode)&&e.status===o.i.Pending)){const e=null===(i=this.serviceServices.getService(t.code))||void 0===i?void 0:i.basketName;e&&(v+=(v?" | ":"")+e,y+=(y?" | ":"")+"Preselected");const n=null===(r=null==t?void 0:t.options)||void 0===r?void 0:r.filter(e=>C.includes(e.ssrCode));n&&n.length&&n.forEach(e=>{_+=e.price.amount})}if(e.basket.customFields.recommendedServices.find(e=>e===t.code)&&(null===(s=null==t?void 0:t.options)||void 0===s?void 0:s.some(e=>e.status===o.i.Pending))){const e=null===(a=this.serviceServices.getService(t.code))||void 0===a?void 0:a.basketName;e&&(v+=(v?" | ":"")+e,y+=(y?" | ":"")+"Recomended",S++);const n=null===(c=null==t?void 0:t.options)||void 0===c?void 0:c.filter(e=>e.status===o.i.Pending);n&&n.length&&n.forEach(e=>{_+=e.price.amount})}}),!C.length&&!S)return;e.basketBooking.services.transportServices.forEach(t=>{var n,i,r,s,a,c;if(null===(n=null==t?void 0:t.pickupLocations)||void 0===n?void 0:n.some(e=>C.includes(e.ssrCode)&&e.status===o.i.Pending)){const e=(null===(i=this.serviceServices.getService(t.transportType))||void 0===i?void 0:i.basketName)||t.name;e&&(v+=(v?" | ":"")+e,y+=(y?" | ":"")+"Preselected");const n=null===(r=null==t?void 0:t.pickupLocations)||void 0===r?void 0:r.filter(e=>C.includes(e.ssrCode));n&&n.length&&n.forEach(e=>{_+=e.price.amount})}if(e.basket.customFields.recommendedServices.find(e=>e===t.code)&&(null===(s=null==t?void 0:t.pickupLocations)||void 0===s?void 0:s.some(e=>e.status===o.i.Pending))){const e=null===(a=this.serviceServices.getService(t.code))||void 0===a?void 0:a.basketName;e&&(v+=(v?" | ":"")+e,y+=(y?" | ":"")+"Recomended",S++);const n=null===(c=null==t?void 0:t.pickupLocations)||void 0===c?void 0:c.filter(e=>e.status===o.i.Pending);n&&n.length&&n.forEach(e=>{_+=e.price.amount})}});const O={adt:0,chd:0,inf:0};e.basketBooking.passengers.forEach(e=>{switch(e.type){case d.i.ADT:O.adt++;break;case d.i.CHD:O.chd++;break;case d.i.INFT:O.inf++}});const T=`${O.adt}ADT:${O.chd}CHD:${O.inf}INF`;let w=!1;e.basket.flowType!==a.b.CheckIn&&e.basket.flowType!==a.b.Manage||(w=!0);const k=this.basketService.getTripTypeFromBasket(e.basket)===u.a.MULTI_CITY,A=this.util.getSegmentList(e.basketBooking.journeys);this.checkoutObjectService.transactionObject(e.basket.flowType,1===e.basketBooking.journeys.length?"OW":k?"MC":"RT","normal",w?e.basket.totalAmount.amount:e.basketBooking.totalAmount.amount,e.basketBooking.currencyCode,this.util.getRouteType(e.basketBooking),A,e.basketBooking.passengers.length,e.basketBooking.seats.seats.length,this.util.getFlightType(e.basketBooking)?"international":"domestic",(null===(i=null===(n=null===(t=e.basketBooking.journeys)||void 0===t?void 0:t[0])||void 0===n?void 0:n.fare)||void 0===i?void 0:i.fareType)+""+((null===(c=null===(s=null===(r=e.basketBooking.journeys)||void 0===r?void 0:r[0])||void 0===s?void 0:s.fare)||void 0===c?void 0:c.bundleTypeName)?"_"+(null===(p=null===(h=null===(l=e.basketBooking.journeys)||void 0===l?void 0:l[0])||void 0===h?void 0:h.fare)||void 0===p?void 0:p.bundleType):""),!!(null===(m=null===(f=null===(g=e.basketBooking.journeys)||void 0===g?void 0:g[0])||void 0===f?void 0:f.fare)||void 0===m?void 0:m.bundleTypeName));const E={event:"ev_process_payment",category:"booking",action:"process_payment",label:v,experiment:y,trip_type:1===e.basketBooking.journeys.length?"one_way":"roundtrip",market:b.isInternational?"international":"domestic",departure_date:b.departureDate.scheduled.split("T")[0],modality:b.fare.fareType,passenger_type:T,booking_window:this.util.getCheckInWindow(b),quantity:C.length+S,amount:_,transaction:this.checkoutObjectService.transactionInfo};this.gtmService.pushTag(E)}addToCartEcommerceSeats(e,t){const n=e.filter((e,t,n)=>t===n.findIndex(t=>t.seats[0].amount===e.seats[0].amount)).map(t=>{var n,i,o,r,s;return{type:"Seats",id:"Seat",price:null===(n=t.seats[0])||void 0===n?void 0:n.amount,amount:null===(i=t.seats[0])||void 0===i?void 0:i.amount,quantity:e.filter(e=>e.seats[0].amount===t.seats[0].amount).length,isIncluded:0===(null===(o=t.seats[0])||void 0===o?void 0:o.amount),details:{SeatBrand:null===(r=t.seats[0])||void 0===r?void 0:r.seatBrand,SeatNumber:null===(s=t.seats[0])||void 0===s?void 0:s.seatNumber}}});this.gtmService.pushTag({event:"addToCart",ecommerce:{currencyCode:t.currencyCode,add:{products:n}}})}paymentAttemptLimit(e,t=!1){this.gtmService.pushTag({event:"ev_message",message:{type:"WARNING",code:t?"PROCESS_PAYMENT_LIMIT_LAST_ATTEMPT":"PROCESS_PAYMENTS_LIMIT_NO_ATTEMPT_LEFT",message:e}})}addCobrandBenefits(e){var t,n,o,r,s,a,c,u,d,p,g,f;return Object(i.a)(this,void 0,void 0,(function*(){try{const i=this.basketService._basketBooking;yield this.basketService.syncDone$.pipe(Object(h.a)(5e3)).toPromise();const l=this.basketService._basketBooking,m=new Set;let b=!1;(null===(t=null==i?void 0:i.seats)||void 0===t?void 0:t.seatFees.length)>(null===(n=null==l?void 0:l.seats)||void 0===n?void 0:n.seatFees.length)&&m.add("SEAT"),null===(r=null===(o=null==l?void 0:l.services)||void 0===o?void 0:o.services)||void 0===r||r.forEach(e=>{e.options.length&&e.options.forEach(e=>{m.has(e.ssrCode)||!e.includedInHsbcCobrand&&!e.includedInHsbcCobrandPlus||0!==e.price.amount||m.add(e.ssrCode)})}),(null===(s=null==i?void 0:i.totalAmount)||void 0===s?void 0:s.amount)>(null===(a=null==l?void 0:l.totalAmount)||void 0===a?void 0:a.amount)&&(b=!0);const v=Object.keys(this.csmConfig._cmsConfig.bookingSettings.cobrandBenefits).find(t=>t.toLowerCase()===e.toLowerCase()),y=null===(c=this.csmConfig._cmsConfig.bookingSettings.cobrandBenefits[v])||void 0===c?void 0:c.join("|"),_={event:"ev_doters",category:"Doters",action:"cobrand",label:"add_benefits",card_detail:e,detail:y,transaction_ssr:null===(u=[...m])||void 0===u?void 0:u.join("|"),transaction_modality:this.utilsSvc.matchFares(null===(p=null===(d=null==l?void 0:l.journeys[0])||void 0===d?void 0:d.fare)||void 0===p?void 0:p.bundleType),discount:b?"yes":"no",original_amount:null===(g=null==i?void 0:i.totalAmount)||void 0===g?void 0:g.amount,new_amount:null===(f=null==l?void 0:l.totalAmount)||void 0===f?void 0:f.amount};this.gtmService.pushTag(_)}catch(i){l.g.production||console.error("addCobrandBenefits:",i)}}))}selectMyBalanceOpt(e,t=!1){this.gtmService.pushTag({event:"ev_purchase_payment",category:"payment",action:"payment_option",label:t?"click_pay_viva_cash":"click_pay_with_doters",amount:e})}clickApplyMyBalanceOpt(e,t,n){this.gtmService.pushTag({event:"ev_purchase_payment",category:"payment",action:"payment_option",label:n?n===r.d.VivaCash?"apply_pay_viva_cash":"apply_pay_with_doters":"cancel_payment",amount:e,split_amount:t})}appliedMyBalanceOpt(e,t,n,i=!1){this.gtmService.pushTag({event:"ev_purchase_payment",category:"payment",action:"payment_option",label:n===r.d.VivaCash?i?"cancel_payment_vivacash":"pay_viva_cash_applied":i?"cancel_payment_doters":"pay_with_doters_applied",amount:e,split_amount:t})}myBalanceOptAlerts(e,t){this.gtmService.pushTag({event:"ux_booking",channel:"payment",section:e===r.d.VivaCash?"pay_viva_cash":"pay_with_doters",action:t})}onShowCarbonModal(){this.gtmService.pushTag({event:"ev_ux_payment",category:"payment",action:"Carbon Modal",label:"view"})}clickCarbonModal(e){this.gtmService.pushTag({event:"ev_ux_payment",category:"payment",action:"Carbon Modal",label:e})}selectInsuranceOption(e,t){this.gtmService.pushTag({event:"select_insurance_option",action:e,modality:t})}insuranceMoreInfo(e){this.gtmService.pushTag({event:"ev_ux_payment_review",category:"insurance_options",action:"click_more_info",label:e})}withoutProtectionPopUp(e,t){this.gtmService.pushTag({event:"travel_without_protection_pop_up",action:e,modality:t})}}return e.\u0275fac=function(t){return new(t||e)(p.dc(g.a),p.dc(f.a),p.dc(m.a),p.dc(b.a),p.dc(v),p.dc(y.a),p.dc(_.a),p.dc(C.a),p.dc(S.a))},e.\u0275prov=p.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var T=function(e){return e.Basic="VSPB",e.Premium="VSPP",e}({}),w=function(e){return e.National="VTUA",e.International="VTUI",e}({})},WwFo:function(e,t,n){var i=n("juv8"),o=n("7GkX");e.exports=function(e,t){return e&&i(t,o(t),e)}},WyaX:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return z}));var i=n("lUod"),o=n("fXoL"),r=n("ofXK"),s=n("XNiG"),a=n("VRyK"),c=n("xgIS"),l=n("LRne"),u=n("eNwd"),d=function(e){return e.top="top",e.bottom="bottom",e.left="left",e.right="right",e.auto="auto",e.end="right",e.start="left",e["top left"]="top left",e["top right"]="top right",e["right top"]="right top",e["right bottom"]="right bottom",e["bottom right"]="bottom right",e["bottom left"]="bottom left",e["left bottom"]="left bottom",e["left top"]="left top",e["top start"]="top left",e["top end"]="top right",e["end top"]="right top",e["end bottom"]="right bottom",e["bottom end"]="bottom right",e["bottom start"]="bottom left",e["start bottom"]="start bottom",e["start top"]="left top",e}({}),h=function(e){return e.top="top",e.bottom="bottom",e.left="start",e.right="end",e.auto="auto",e.end="end",e.start="start",e["top left"]="top start",e["top right"]="top end",e["right top"]="end top",e["right bottom"]="end bottom",e["bottom right"]="bottom end",e["bottom left"]="bottom start",e["left bottom"]="start bottom",e["left top"]="start top",e["top start"]="top start",e["top end"]="top end",e["end top"]="end top",e["end bottom"]="end bottom",e["bottom end"]="bottom end",e["bottom start"]="bottom start",e["start bottom"]="start bottom",e["start top"]="start top",e}({});function p(e,t){if(1!==e.nodeType)return[];const n=e.ownerDocument.defaultView,i=null==n?void 0:n.getComputedStyle(e,null);return t?i&&i[t]:i}const g="undefined"!=typeof window&&"undefined"!=typeof document,f=g&&!(!window.MSInputMethodContext||!document.documentMode),m=g&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function b(e){return 11===e?f:10===e?m:f||m}function v(e){if(!e)return document.documentElement;const t=b(10)?document.body:null;let n=null==e?void 0:e.offsetParent,i=void 0;for(;n===t&&e.nextElementSibling&&i!==e.nextElementSibling;)i=e.nextElementSibling,n=i.offsetParent;const o=n&&n.nodeName;return o&&"BODY"!==o&&"HTML"!==o?n&&-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===p(n,"position")?v(n):n:i?i.ownerDocument.documentElement:document.documentElement}function y(e){return null!==e.parentNode?y(e.parentNode):e}function _(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;const n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,o=n?t:e,r=document.createRange();r.setStart(i,0),r.setEnd(o,0);const s=r.commonAncestorContainer;if(e!==s&&t!==s||i.contains(o))return function(e){const{nodeName:t}=e;return"BODY"!==t&&("HTML"===t||v(e.firstElementChild)===e)}(s)?s:v(s);const a=y(e);return a.host?_(a.host,t):_(e,y(t).host)}function C(e){if(!e||!e.parentElement||b())return document.documentElement;let t=e.parentElement;for(;(null==t?void 0:t.parentElement)&&"none"===p(t,"transform");)t=t.parentElement;return t||document.documentElement}function S(e,t){const n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e[`border${n}Width`])+parseFloat(e[`border${i}Width`])}function O(e,t,n,i){const o=n,r=i;return Math.max(t["offset"+e],t["scroll"+e],o["client"+e],o["offset"+e],o["scroll"+e],b(10)?parseInt(o["offset"+e],10)+parseInt(r["margin"+("Height"===e?"Top":"Left")],10)+parseInt(r["margin"+("Height"===e?"Bottom":"Right")],10):0)}function T(e){const t=e.body,n=e.documentElement,i=b(10)?getComputedStyle(n):void 0;return{height:O("Height",t,n,i),width:O("Width",t,n,i)}}function w(e,t="top"){const n="top"===t?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){const t=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||t)[n]}return e[n]}function k(e){return Object.assign(Object.assign({},e),{right:(e.left||0)+e.width,bottom:(e.top||0)+e.height})}function A(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function E(e){const t=e.getBoundingClientRect();try{if(b(10)){const n=w(e,"top"),i=w(e,"left");t&&A(t.top)&&A(t.left)&&A(t.bottom)&&A(t.right)&&(t.top+=n,t.left+=i,t.bottom+=n,t.right+=i)}}catch(c){return t}if(!(t&&A(t.top)&&A(t.left)&&A(t.bottom)&&A(t.right)))return t;const n={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?T(e.ownerDocument):void 0,o=(null==i?void 0:i.width)||e.clientWidth||A(t.right)&&A(n.left)&&t.right-n.left||0,r=(null==i?void 0:i.height)||e.clientHeight||A(t.bottom)&&A(n.top)&&t.bottom-n.top||0;let s=e.offsetWidth-o,a=e.offsetHeight-r;if(s||a){const t=p(e);s-=S(t,"x"),a-=S(t,"y"),n.width-=s,n.height-=a}return k(n)}function M(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function P(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}const{overflow:t,overflowX:n,overflowY:i}=p(e);return/(auto|scroll|overlay)/.test(String(t)+String(i)+String(n))?e:P(M(e))}function D(e,t,n=!1){var i,o,r,s,a,c;const l=b(10),u="HTML"===t.nodeName,d=E(e),h=E(t),g=P(e),f=p(t),m=parseFloat(f.borderTopWidth),v=parseFloat(f.borderLeftWidth);n&&u&&(h.top=Math.max(null!==(i=h.top)&&void 0!==i?i:0,0),h.left=Math.max(null!==(o=h.left)&&void 0!==o?o:0,0));let y=k({top:(null!==(r=d.top)&&void 0!==r?r:0)-(null!==(s=h.top)&&void 0!==s?s:0)-m,left:(null!==(a=d.left)&&void 0!==a?a:0)-(null!==(c=h.left)&&void 0!==c?c:0)-v,width:d.width,height:d.height});if(y.marginTop=0,y.marginLeft=0,!l&&u){const e=parseFloat(f.marginTop),t=parseFloat(f.marginLeft);A(y.top)&&(y.top-=m-e),A(y.bottom)&&(y.bottom-=m-e),A(y.left)&&(y.left-=v-t),A(y.right)&&(y.right-=v-t),y.marginTop=e,y.marginLeft=t}return(l&&!n?t.contains(g):t===g&&"BODY"!==g.nodeName)&&(y=function(e,t,n=!1){const i=w(t,"top"),o=w(t,"left"),r=n?-1:1;return A(e.top)&&(e.top+=i*r),A(e.bottom)&&(e.bottom+=i*r),A(e.left)&&(e.left+=o*r),A(e.right)&&(e.right+=o*r),e}(y,t)),y}function x(e,t,n=0,i,o=!1){let r={top:0,left:0};const s=o?C(e):_(e,t);if("viewport"===i)r=function(e,t=!1){const n=e.ownerDocument.documentElement,i=D(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:w(n),a=t?0:w(n,"left");return k({top:s-Number(null==i?void 0:i.top)+Number(null==i?void 0:i.marginTop),left:a-Number(null==i?void 0:i.left)+Number(null==i?void 0:i.marginLeft),width:o,height:r})}(s,o);else{let n;"scrollParent"===i?(n=P(M(t)),"BODY"===n.nodeName&&(n=e.ownerDocument.documentElement)):n="window"===i?e.ownerDocument.documentElement:i;const a=D(n,s,o);if(a&&"HTML"===n.nodeName&&!function e(t){const n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===p(t,"position")||e(M(t)))}(s)){const{height:t,width:n}=T(e.ownerDocument);A(r.top)&&A(a.top)&&A(a.marginTop)&&(r.top+=a.top-a.marginTop),A(r.top)&&(r.bottom=Number(t)+Number(a.top)),A(r.left)&&A(a.left)&&A(a.marginLeft)&&(r.left+=a.left-a.marginLeft),A(r.top)&&(r.right=Number(n)+Number(a.left))}else a&&(r=a)}return A(r.left)&&(r.left+=n),A(r.top)&&(r.top+=n),A(r.right)&&(r.right-=n),A(r.bottom)&&(r.bottom-=n),r}function I({width:e,height:t}){return e*t}function L(e,t,n,o,r=["top","bottom","right","left"],s="viewport",a=0){var c,l,u,d;if(-1===e.indexOf("auto"))return e;const p=x(n,o,a,s),g={top:{width:null!==(c=p.width)&&void 0!==c?c:0,height:t.top&&p.top?t.top-p.top:0},right:{width:p.right&&t.right?p.right-t.right:0,height:null!==(l=p.height)&&void 0!==l?l:0},bottom:{width:null!==(u=p.width)&&void 0!==u?u:0,height:p.bottom&&t.bottom?p.bottom-t.bottom:0},left:{width:t.left&&p.left?t.left-p.left:0,height:null!==(d=p.height)&&void 0!==d?d:0}},f=Object.keys(g).map(e=>Object.assign(Object.assign({key:e},g[e]),{area:I(g[e])})).sort((e,t)=>t.area-e.area);let m=f.filter(({width:e,height:t})=>e>=n.clientWidth&&t>=n.clientHeight);m=m.filter(e=>r.some(t=>t===e.key));const b=m.length>0?m[0].key:f[0].key,v=e.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,"bs-tooltip-"+(Object(i.b)().isBs5?h[b]:b)),b+(v?"-"+v:"")}const R=(e,t=0)=>e?parseFloat(e):t;function N(e){const t=e.ownerDocument.defaultView,n=null==t?void 0:t.getComputedStyle(e),i=R(null==n?void 0:n.marginTop)+R(null==n?void 0:n.marginBottom),o=R(null==n?void 0:n.marginLeft)+R(null==n?void 0:n.marginRight);return{width:Number(e.offsetWidth)+o,height:Number(e.offsetHeight)+i}}function j(e,t,n){return D(t,n?C(e):_(e,t),n)}function B(e,t,n){var i,o,r;const s=n.split(" ")[0],a=N(e),c={width:a.width,height:a.height},l=-1!==["right","left"].indexOf(s),u=l?"top":"left",d=l?"left":"top",h=l?"height":"width",p=l?"width":"height";return c[u]=(null!==(i=t[u])&&void 0!==i?i:0)+t[h]/2-a[h]/2,c[d]=s===d?(null!==(o=t[d])&&void 0!==o?o:0)-a[p]:null!==(r=t[function(e){const t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,e=>t[e])}(d)])&&void 0!==r?r:0,c}function F(e,t){var n;return!!(null===(n=e.modifiers[t])||void 0===n?void 0:n.enabled)}const H={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function U(e,t){return!!Object(i.b)().isBs5&&H[t].includes(e)}function Y(e,t,n){e&&t&&Object.keys(t).forEach(i=>{let o="";var r;-1!==["width","height","top","right","bottom","left"].indexOf(i)&&""!==(r=t[i])&&!isNaN(parseFloat(r))&&isFinite(Number(r))&&(o="px"),n?n.setStyle(e,i,`${String(t[i])}${o}`):e.style[i]=String(t[i])+o})}function G(e){var t,n,i,o,r,s;let a=e.offsets.target;const c=e.instance.target.querySelector(".arrow");if(!c)return e;const l=-1!==["left","right"].indexOf(e.placement.split(" ")[0]),u=l?"height":"width",d=l?"Top":"Left",h=d.toLowerCase(),g=l?"left":"top",f=l?"bottom":"right",m=N(c)[u],b=e.placement.split(" ")[1];(null!==(t=e.offsets.host[f])&&void 0!==t?t:0)-m<(null!==(n=a[h])&&void 0!==n?n:0)&&(a[h]-=(null!==(i=a[h])&&void 0!==i?i:0)-((null!==(o=e.offsets.host[f])&&void 0!==o?o:0)-m)),Number(e.offsets.host[h])+Number(m)>(null!==(r=a[f])&&void 0!==r?r:0)&&(a[h]+=Number(e.offsets.host[h])+Number(m)-Number(a[f])),a=k(a);const v=p(e.instance.target),y=parseFloat(v["margin"+d])||0,_=parseFloat(v[`border${d}Width`])||0;let C;if(b){const t=parseFloat(v.borderRadius)||0,n=Number(y+_+t);C=h===b?Number(e.offsets.host[h])+n:Number(e.offsets.host[h])+Number(e.offsets.host[u]-n)}else C=Number(e.offsets.host[h])+Number(e.offsets.host[u]/2-m/2);let S=C-(null!==(s=a[h])&&void 0!==s?s:0)-y-_;return S=Math.max(Math.min(a[u]-(m+5),S),0),e.offsets.arrow={[h]:Math.round(S),[g]:""},e.instance.arrow=c,e}function V(e){if(e.offsets.target=k(e.offsets.target),!F(e.options,"flip"))return e.offsets.target=Object.assign(Object.assign({},e.offsets.target),B(e.instance.target,e.offsets.host,e.placement)),e;const t=x(e.instance.target,e.instance.host,0,"viewport",!1);let n=e.placement.split(" ")[0],i=e.placement.split(" ")[1]||"";const o=L("auto",e.offsets.host,e.instance.target,e.instance.host,e.options.allowedPositions),r=[n,o];return r.forEach((o,s)=>{var a,c,l,u,d,h,p,g,f,m,b,v,y,_,C,S;if(n!==o||r.length===s+1)return;n=e.placement.split(" ")[0];const O="left"===n&&Math.floor(null!==(a=e.offsets.target.right)&&void 0!==a?a:0)>Math.floor(null!==(c=e.offsets.host.left)&&void 0!==c?c:0)||"right"===n&&Math.floor(null!==(l=e.offsets.target.left)&&void 0!==l?l:0)<Math.floor(null!==(u=e.offsets.host.right)&&void 0!==u?u:0)||"top"===n&&Math.floor(null!==(d=e.offsets.target.bottom)&&void 0!==d?d:0)>Math.floor(null!==(h=e.offsets.host.top)&&void 0!==h?h:0)||"bottom"===n&&Math.floor(null!==(p=e.offsets.target.top)&&void 0!==p?p:0)<Math.floor(null!==(g=e.offsets.host.bottom)&&void 0!==g?g:0),T=Math.floor(null!==(f=e.offsets.target.left)&&void 0!==f?f:0)<Math.floor(null!==(m=t.left)&&void 0!==m?m:0),w=Math.floor(null!==(b=e.offsets.target.right)&&void 0!==b?b:0)>Math.floor(null!==(v=t.right)&&void 0!==v?v:0),k=Math.floor(null!==(y=e.offsets.target.top)&&void 0!==y?y:0)<Math.floor(null!==(_=t.top)&&void 0!==_?_:0),A=Math.floor(null!==(C=e.offsets.target.bottom)&&void 0!==C?C:0)>Math.floor(null!==(S=t.bottom)&&void 0!==S?S:0),E="left"===n&&T||"right"===n&&w||"top"===n&&k||"bottom"===n&&A,M=-1!==["top","bottom"].indexOf(n),P=M&&"left"===i&&T||M&&"right"===i&&w||!M&&"left"===i&&k||!M&&"right"===i&&A;(O||E||P)&&((O||E)&&(n=r[s+1]),P&&(i=function(e){return"right"===e?"left":"left"===e?"right":e}(i)),e.placement=n+(i?" "+i:""),e.offsets.target=Object.assign(Object.assign({},e.offsets.target),B(e.instance.target,e.offsets.host,e.placement)))}),e}function Z(e){var t;if(!F(e.options,"preventOverflow"))return e;const n="transform",i=e.instance.target.style,{top:o,left:r,[n]:s}=i;i.top="",i.left="",i[n]="";const a=x(e.instance.target,e.instance.host,0,(null===(t=e.options.modifiers.preventOverflow)||void 0===t?void 0:t.boundariesElement)||"scrollParent",!1);i.top=o,i.left=r,i[n]=s;const c={primary(t){var n,i,o,r;let s=e.offsets.target[t];return(null!==(n=e.offsets.target[t])&&void 0!==n?n:0)<(null!==(i=a[t])&&void 0!==i?i:0)&&(s=Math.max(null!==(o=e.offsets.target[t])&&void 0!==o?o:0,null!==(r=a[t])&&void 0!==r?r:0)),{[t]:s}},secondary(t){var n,i,o,r,s,c,l,u;const d="right"===t?"left":"top";let h=e.offsets.target[d];return(null!==(n=e.offsets.target[t])&&void 0!==n?n:0)<(null!==(i=a[t])&&void 0!==i?i:0)&&"right"!==t&&(h=Math.min(null!==(o=e.offsets.target[d])&&void 0!==o?o:0,(null!==(r=a[t])&&void 0!==r?r:0)-e.offsets.target.height)),(null!==(s=e.offsets.target[t])&&void 0!==s?s:0)>(null!==(c=a[t])&&void 0!==c?c:0)&&"right"===t&&(h=Math.min(null!==(l=e.offsets.target[d])&&void 0!==l?l:0,(null!==(u=a[t])&&void 0!==u?u:0)-e.offsets.target.width)),{[d]:h}}};return["left","right","top","bottom"].forEach(t=>{const n=-1!==["left","top","start"].indexOf(t)?c.primary:c.secondary;e.offsets.target=Object.assign(Object.assign({},e.offsets.target),n(t))}),e}function $(e){var t;const n=e.placement,i=n.split(" ")[0],o=n.split(" ")[1];if(o){const{host:n,target:r}=e.offsets,s=-1!==["bottom","top"].indexOf(i),a=s?"left":"top",c=s?"width":"height",l={start:{[a]:n[a]},end:{[a]:(null!==(t=n[a])&&void 0!==t?t:0)+n[c]-r[c]}};e.offsets.target=Object.assign(Object.assign({},r),{[a]:a===o?l.start[a]:l.end[a]})}return e}class W{position(e,t){return this.offset(e,t)}offset(e,t){return j(t,e)}positionElements(e,t,n,i,o){const r=[V,$,Z,G],s=function(e,t,n,i){if(!e||!t)return;const o=j(e,t);n.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)||n.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)||(n="auto");const r=!!n.match(/auto/g);let s=n.match(/auto\s(left|right|top|bottom|start|end)/)?n.split(" ")[1]||"auto":n;const a=s.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return a&&(s=a[1]+(a[2]?" "+a[2]:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(s)&&(s="auto"),s=L(s,o,e,t,i?i.allowedPositions:void 0),{options:i||{modifiers:{}},instance:{target:e,host:t,arrow:void 0},offsets:{target:B(e,o,s),host:o,arrow:void 0},positionFixed:!1,placement:s,placementAuto:r}}(t,e,d[n],o);if(s)return r.reduce((e,t)=>t(e),s)}}const K=new W;let z=(()=>{class e{constructor(e,t,n){this.update$$=new s.a,this.positionElements=new Map,this.isDisabled=!1,Object(r.L)(n)&&e.runOutsideAngular(()=>{this.triggerEvent$=Object(a.a)(Object(c.a)(window,"scroll",{passive:!0}),Object(c.a)(window,"resize",{passive:!0}),Object(l.a)(0,u.a),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(e=>{!function(e,t,n,o,r,s){const a=K.positionElements(e,t,n,o,r);if(!a)return;const c=function(e){var t,n,i,o;return{width:e.offsets.target.width,height:e.offsets.target.height,left:Math.floor(null!==(t=e.offsets.target.left)&&void 0!==t?t:0),top:Math.round(null!==(n=e.offsets.target.top)&&void 0!==n?n:0),bottom:Math.round(null!==(i=e.offsets.target.bottom)&&void 0!==i?i:0),right:Math.floor(null!==(o=e.offsets.target.right)&&void 0!==o?o:0)}}(a);Y(t,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${c.left}px, ${c.top}px, 0px)`},s),a.instance.arrow&&Y(a.instance.arrow,a.offsets.arrow,s),function(e,t){const n=e.instance.target;let o=n.className;const r=Object(i.b)().isBs5?h[e.placement]:e.placement;var s;e.placementAuto&&(o=o.replace(/bs-popover-auto/g,"bs-popover-"+r),o=o.replace(/ms-2|me-2|mb-2|mt-2/g,""),o=o.replace(/bs-tooltip-auto/g,"bs-tooltip-"+r),o=o.replace(/\sauto/g," "+r),-1!==o.indexOf("popover")&&(o=o+" "+(s=r,Object(i.b)().isBs5?U(s,"end")?"ms-2":U(s,"start")?"me-2":U(s,"top")?"mb-2":U(s,"bottom")?"mt-2":"":"")),-1!==o.indexOf("popover")&&-1===o.indexOf("popover-auto")&&(o+=" popover-auto"),-1!==o.indexOf("tooltip")&&-1===o.indexOf("tooltip-auto")&&(o+=" tooltip-auto")),o=o.replace(/left|right|top|bottom|end|start/g,""+r.split(" ")[0]),t?t.setAttribute(n,"class",o):n.className=o}(a,s)}(Q(e.target),Q(e.element),e.attachment,e.appendToBody,this.options,t.createRenderer(null,null))})})})}position(e){this.addPositionElement(e)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(e){this.positionElements.set(Q(e.element),e)}calcPosition(){this.update$$.next()}deletePositionElement(e){this.positionElements.delete(Q(e))}setOptions(e){this.options=e}}return e.\u0275fac=function(t){return new(t||e)(o.dc(o.E),o.dc(o.J),o.dc(o.G))},e.\u0275prov=Object(o.Pb)({factory:function(){return new e(Object(o.dc)(o.E),Object(o.dc)(o.J),Object(o.dc)(o.G))},token:e,providedIn:"root"}),e})();function Q(e){return"string"==typeof e?document.querySelector(e):e instanceof o.n?e.nativeElement:null!=e?e:null}},XNiG:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var i=n("HDdC"),o=n("7o/Q"),r=n("quSY"),s=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class l extends o.a{constructor(e){super(e),this.destination=e}}let u=(()=>{class e extends i.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new l(this)}lift(e){const t=new d(this,this);return t.operator=e,t}next(e){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:t}=this,n=t.length,i=t.slice();for(let o=0;o<n;o++)i[o].next(e)}}error(e){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,i=t.slice();for(let o=0;o<n;o++)i[o].error(e);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let i=0;i<t;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new s.a;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new s.a;return this.hasError?(e.error(this.thrownError),r.a.EMPTY):this.isStopped?(e.complete(),r.a.EMPTY):(this.observers.push(e),new a.a(this,e))}asObservable(){const e=new i.a;return e.source=this,e}}return e.create=(e,t)=>new d(e,t),e})();class d extends u{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):r.a.EMPTY}}},XYm9:function(e,t,n){var i=n("+K+b");e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},Xi7e:function(e,t,n){var i=n("KMkd"),o=n("adU4"),r=n("tMB7"),s=n("+6XX"),a=n("Z8oC");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=r,c.prototype.has=s,c.prototype.set=a,e.exports=c},XoHu:function(e,t,n){"use strict";function i(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return i}))},XwP0:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("WSM3"),o=n("RbsG"),r=n("wd/R"),s=n("3E8+"),a=n("fXoL"),c=n("egL7"),l=n("tyNb"),u=n("kh7C"),d=n("+EmV");let h=(()=>{class e{constructor(e,t,n,i){this.gtmService=e,this.router=t,this.utilsSvc=n,this.util=i}saveVui(e){const t=e.affiliations.find(e=>"VUI"===e.code);t&&localStorage.setItem("vui",t.id)}deleteVui(){localStorage.removeItem("vui")}loginSuccess(e,t){var n,o,a,c,l,u,d,h,p,g,f,m,b,v;const y=e.affiliations.find(e=>"VUI"===e.code),_=e.affiliations.find(e=>i.i.includes(e.code)),C=null===(n=null==e?void 0:e.affiliations)||void 0===n?void 0:n.find(e=>i.d.includes(e.code)),S=null===(o=null==e?void 0:e.terms)||void 0===o?void 0:o.find(e=>"Loyalty"===e.type),O=null===(a=null==e?void 0:e.affiliations)||void 0===a?void 0:a.find(e=>i.f.includes(e.code)),T=null===(c=null==e?void 0:e.affiliations)||void 0===c?void 0:c.find(e=>i.a.includes(e.code)),w=this.utilsSvc.isAffiliationValid(_),k=C&&!(null==S?void 0:S.promptTerms)&&(null==S?void 0:S.acceptanceDate),A=this.utilsSvc.isDotersAffiliationValid(e),E=null===(l=null==e?void 0:e.funds)||void 0===l?void 0:l.find(e=>"Doters"===(null==e?void 0:e.type)),M=null===(u=null==e?void 0:e.funds)||void 0===u?void 0:u.find(e=>(null==e?void 0:e.type)===s.d.VivaCash),P=this.utilsSvc.isAffiliationValid(O),D=this.utilsSvc.isAffiliationValid(T);let x=this.triggerFlowBooking()?"booking":null;this.router.url.includes("check-in")?x="check_in":this.router.url.includes("manage")&&(x="manage_my_booking");const I={event:"ev_login",category:"profile",action:"login",label:"successful",vivafan_login:w?"Yes":"No",customer_type:this.getUserType(null==e?void 0:e.accountType),login:{status:"successful",method:e.socialLogin,flow:x,login_doters:A?"Yes":"No"},detail:{module:"login",component:"signin",section:["sideMenu"],element:t,action:"signIn",description:{status:"successful"},passenger_membership:k?w?"Doters | VivaFan":"Doters":w?"VivaFan":"Cobrand"},customer_programs:{vf_effective_date:_?r(null==_?void 0:_.startDate).format("DD/MM/YYYY"):"NA",vf_expiration_date:_?r(null==_?void 0:_.endDate).format("DD/MM/YYYY"):"NA",vf_plan_type:_&&(null===(d=null==_?void 0:_.id)||void 0===d?void 0:d.includes("_"))?Number(null===(h=null==_?void 0:_.id)||void 0===h?void 0:h.split("_")[1])>0?"viaja acompa\xf1ado":"viaja solo":"NA",vc_balance:(null==M?void 0:M.totalAmount)||"NA",vc_wallet:(null==M?void 0:M.totalAmount)?"Yes":"No",smile_and_fly:P?"Yes":"No",cobrand_card:D?(null==T?void 0:T.level)===i.b.Entry?"cobrand entry":"cobrand plus":"NA"},doters:{level:A?this.util.getDotersLevel(null==C?void 0:C.level):"NA",balance:A&&(null==E?void 0:E.totalAmount)>-1?null==E?void 0:E.totalAmount:"NA"},id:{v:null==y?void 0:y.id,n:e.customerNumber,u:e.username},user:{type:e.accountType},profile:{firstName:null===(g=null===(p=null==e?void 0:e.personalDetails)||void 0===p?void 0:p.name)||void 0===g?void 0:g.firstName,lastName:null===(m=null===(f=null==e?void 0:e.personalDetails)||void 0===f?void 0:f.name)||void 0===m?void 0:m.lastName,country:null===(v=null===(b=null==e?void 0:e.personalDetails)||void 0===b?void 0:b.residentCountry)||void 0===v?void 0:v.country}};this.gtmService.pushTag(I)}getUserType(e){switch(e){case o.k.Agency:return"Agency";case o.k.Enterprise:return"Enterprise";default:return"User"}}triggerFlowBooking(){return["/passenger","seats","extras","review","confirmation"].some(e=>this.router.url.includes(e))}loginFail(e,t){this.gtmService.pushTag({event:"ev_login",category:"profile",action:"login",label:"unsuccessful",login:{status:"unsuccessful",method:"NotLinked"},detail:{module:"login",component:"signin",section:["sideMenu"],element:t,action:"signIn",description:{status:"unsuccessful"}},message:[{type:"ERROR",code:e.name,message:e.message}]})}loginIntent(){this.gtmService.pushTag({event:"ev_login",login:{status:"login_intent"}})}logout(e){this.gtmService.pushTag({event:"ev_profile_logout",category:"profile",action:"logout",label:e,user:{type:"Anonymous"},id:{v:null,n:null,u:null}})}signUpDoters(e){this.gtmService.pushTag({event:"ev_sign_up_doters",category:"Doters",action:"sign_up",label:e})}loginSSOModal(e){this.gtmService.pushTag({event:"ev_profile_login_modal",action:e})}}return e.\u0275fac=function(t){return new(t||e)(a.dc(c.a),a.dc(l.g),a.dc(u.a),a.dc(d.a))},e.\u0275prov=a.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},XwRA:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("mrSG"),o=n("fXoL"),r=n("9Fhk"),s=n("oTAK"),a=n("ofXK");function c(e,t){if(1&e&&(o.Zb(0,"span"),o.Sc(1),o.Yb()),2&e){const e=o.jc(2);o.Hb(1),o.Uc(" ",e.textContent," ")}}function l(e,t){if(1&e&&o.Ub(0,"img",8),2&e){const e=o.jc(2);o.sc("src",e.avatarSrc,o.Kc)}}function u(e,t){if(1&e&&(o.Xb(0),o.Qc(1,c,2,1,"span",3),o.Qc(2,l,1,1,"img",7),o.Wb()),2&e){const e=o.jc();o.Hb(1),o.sc("ngIf",!e.avatarId),o.Hb(1),o.sc("ngIf",e.avatarId)}}function d(e,t){1&e&&o.Ub(0,"i",9)}const h=function(e,t,n,i,o,r,s,a){return{editable:e,"no-avatar-container":t,big:n,small:i,medium:o,large:r,"blue-border":s,"cursor-pointer":a}},p=function(e,t){return{"display-new":e,"no-avatar":t}};let g=(()=>{class e{constructor(e){this.avatarSvc=e,this.displayNew=!1,this.interactive=!1,this.textContent="",this.border=!1,this.pointer=!1,this.size="normal",this.avatarClicked=new o.p,this.avatarSrc=r.a}ngOnChanges(){this.avatarId&&this.setAvatarSrc()}setAvatarSrc(){return Object(i.a)(this,void 0,void 0,(function*(){yield this.avatarSvc.ready;const e=this.avatarSvc.getAvatarSrc(this.avatarId);this.avatarSrc=e||r.a}))}onAvatarClick(e){this.interactive&&(e.preventDefault(),e.stopPropagation(),this.avatarClicked.emit())}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(s.a))},e.\u0275cmp=o.Nb({type:e,selectors:[["app-avatar"]],inputs:{displayNew:"displayNew",interactive:"interactive",textContent:"textContent",border:"border",pointer:"pointer",avatarId:"avatarId",size:"size"},outputs:{avatarClicked:"avatarClicked"},features:[o.Fb],decls:7,vars:17,consts:[[1,"avatar-container","cursor-pointer",3,"ngClass","click"],[1,"inner-container",3,"ngClass"],[3,"ngClass"],[4,"ngIf"],["class","fas fa-user-plus",4,"ngIf"],[1,"edit-oval"],[1,"fas","fa-pencil"],["loading","lazy",3,"src",4,"ngIf"],["loading","lazy",3,"src"],[1,"fas","fa-user-plus"]],template:function(e,t){1&e&&(o.Zb(0,"button",0),o.hc("click",(function(e){return t.onAvatarClick(e)})),o.Zb(1,"div",1),o.Zb(2,"span",2),o.Qc(3,u,3,2,"ng-container",3),o.Qc(4,d,1,0,"i",4),o.Yb(),o.Yb(),o.Zb(5,"div",5),o.Ub(6,"i",6),o.Yb(),o.Yb()),2&e&&(o.sc("ngClass",o.Bc(5,h,t.interactive,!t.displayNew&&!t.avatarId,"big"===t.size,"small"===t.size,"medium"===t.size,"large"===t.size,t.border,t.pointer)),o.Hb(1),o.sc("ngClass",o.wc(14,p,t.displayNew,!t.displayNew&&!t.avatarId)),o.Hb(1),o.sc("ngClass","big"===t.size?"h3":"title"),o.Hb(1),o.sc("ngIf",!t.displayNew),o.Hb(1),o.sc("ngIf",t.displayNew))},directives:[a.r,a.u],styles:[".avatar-container[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;min-width:50px;min-height:50px;padding:0;border:none;font:inherit;color:inherit;border-radius:50%;background-color:transparent}.avatar-container[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;border-radius:50%;display:flex;align-items:center;justify-content:center}.avatar-container[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--wh1)}.avatar-container[_ngcontent-%COMP%]   .inner-container.no-avatar[_ngcontent-%COMP%]{background-color:var(--bg2)}.avatar-container[_ngcontent-%COMP%]   .inner-container.display-new[_ngcontent-%COMP%]{background-color:var(--bg6)}.avatar-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:50px;height:50px}.avatar-container.editable[_ngcontent-%COMP%]{cursor:pointer}.avatar-container.editable[_ngcontent-%COMP%]   .edit-oval[_ngcontent-%COMP%]{visibility:visible}.avatar-container.editable[_ngcontent-%COMP%]:hover   .edit-oval[_ngcontent-%COMP%]{background-color:var(--gr40)}.avatar-container.editable[_ngcontent-%COMP%]:hover   .edit-oval[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--wh1)}.avatar-container[_ngcontent-%COMP%]   .edit-oval[_ngcontent-%COMP%]{position:absolute;visibility:hidden;bottom:0;right:-5px;width:20px;height:20px;display:flex;align-items:center;justify-content:center;background-color:var(--gr15);border-radius:50%}.avatar-container[_ngcontent-%COMP%]   .edit-oval[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:7px;color:var(--bg4)}.avatar-container.blue-border[_ngcontent-%COMP%]{border:2px solid var(--b4)}.avatar-container.big[_ngcontent-%COMP%]{min-width:70px;min-height:70px}.avatar-container.big[_ngcontent-%COMP%], .avatar-container.big[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px}.avatar-container.big[_ngcontent-%COMP%]   .edit-oval[_ngcontent-%COMP%]{right:0;width:24px;height:24px;border:1px solid var(--gr40);border-radius:50%}.avatar-container.big[_ngcontent-%COMP%]   .edit-oval[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:8px}.avatar-container.large[_ngcontent-%COMP%]{width:30px;height:30px;min-width:30px;min-height:30px}.avatar-container.large[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px;height:36px}.avatar-container.large[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px!important}.avatar-container.medium[_ngcontent-%COMP%]{width:24px;height:24px;min-width:24px;min-height:24px;top:2px}.avatar-container.medium.no-avatar-container[_ngcontent-%COMP%]{top:0}.avatar-container.medium[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:28px}.avatar-container.medium[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px!important}.avatar-container.small[_ngcontent-%COMP%]{width:21px;height:21px;min-width:21px;min-height:21px;top:2px}.avatar-container.small.no-avatar-container[_ngcontent-%COMP%]{top:0}.avatar-container.small[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:21px;height:21px}.avatar-container.small[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px!important}"]}),e})()},"Xwq/":function(e,t,n){"use strict";var i=n("FWf1"),o=n("p//D"),r=n("GiSu");t.toSubscriber=function(e,t,n){if(e){if(e instanceof i.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||n?new i.Subscriber(e,t,n):new i.Subscriber(r.empty)}},"Y/Zp":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("wd/R"),o=n("RbsG"),r=n("3E8+"),s=n("d/Sv"),a=function(e){return e.oneway="oneway",e.roundtrip="roundtrip",e.open_jaw="open_jaw",e}({}),c=function(e){return e.cancellation="cancellation",e.travel="travel",e.bankruptcy="bankruptcy",e}({}),l=n("fXoL"),u=n("CPX7"),d=n("kh7C");let h=(()=>{class e{constructor(e,t){this.basket=e,this.utilsSvc=t}buildTripInfoAvailability(e,t,n){if(!Array.isArray(e))return null;const o=[];let r;switch(e.forEach(e=>{o.push({departure_apc:e.journey.origin.code,departure_time:i(e.journey.departureDate).format("YYYYMMDD"),arrival_apc:e.journey.origin.code,arrival_time:i(e.journey.arrivalDate).format("YYYYMMDD"),fare_class:e.selectedFare.fareType,carrier_code:this.getJourneyCarrierCode(e.journey)})}),n){case s.a.ONE_WAY:r=a.oneway;break;case s.a.ROUND_TRIP:r=a.roundtrip;break;default:r=a.open_jaw}return{order_amount:Math.floor(100*t),air_reservations:[{airline_name:this.getAirlineName(e.map(e=>e.journey)),origin:e[0].journey.origin.code,destination:e[0].journey.destination.code,trip_type:r,itinerary:o,insurance:[]}]}}buildTripInfo(e,t,n=!1){var r,l;const u=[];t.basketBooking.passengers.forEach((e,t)=>{u.push({id:t,first_name:e.firstName,last_name:e.lastName,date_of_birth:i(e.dateOfBirth).format("MM/DD/YYYY")})});const d=[];let h;if(t.basketBooking.journeys.forEach(e=>{d.push({departure_apc:e.origin.code,departure_time:i(e.departureDate.scheduledUtc).format("YYYYMMDD"),arrival_apc:e.destination.code,arrival_time:i(e.arrivalDate.scheduledUtc).format("YYYYMMDD"),fare_class:this.utilsSvc.getFareFromBooking(t.basketBooking),carrier_code:this.getJourneyCarrierCode(e)})}),n){const e=t.basketBooking.contacts.find(e=>e.contactType===o.c.Primary)||t.basketBooking.contacts[0];h={street_address:"",postal_code:"",city:"",email:(null==e?void 0:e.email)||"",first_name:(null==e?void 0:e.firstName)||"",last_name:(null==e?void 0:e.lastName)||"",phone:(null===(l=null===(r=e.phoneNumbers)||void 0===r?void 0:r.home)||void 0===l?void 0:l.slice(e.phoneNumbers.home.length-10))||"",region:"",country:t.basketBooking.passengers[0].nationality,date_of_birth:i(t.basketBooking.passengers[0].dateOfBirth).format("MM/DD/YYYY")}}const p=[],g=[];let f;switch(t.basketBooking.services.services.forEach(e=>{e.options.forEach(t=>{"Insurance"!==e.category?p.push({id:t.ssrCode,name:e.name,price:Math.floor(100*t.price.amount)}):g.push({id:t.ssrCode,types:[c.travel],price:Math.floor(100*t.price.amount)})})}),t.basketBooking.services.transportServices.forEach(e=>{e.pickupLocations.forEach(t=>{p.push({id:t.ssrCode,name:e.name,price:Math.floor(100*t.price.amount)})})}),this.basket.getTripTypeFromBasket(t.basket)){case s.a.ONE_WAY:f=a.oneway;break;case s.a.ROUND_TRIP:f=a.roundtrip;break;default:f=a.open_jaw}return Object.assign({order_amount:Math.floor(100*e),travelers:u,air_reservations:[{airline_name:this.getAirlineName(t.basketBooking.journeys),origin:t.basketBooking.journeys[0].origin.code,destination:t.basketBooking.journeys[0].destination.code,trip_type:f,itinerary:d,insurance:g}],add_ons:p},h&&{billing_contact:h})}mapTokenToAPIPayload(e,t){return{type:r.d.Uplift,cardPayload:{type:e.card_type,number:e.card_number,expiryDate:{month:e.expiration_month,year:e.expiration_year},cvv:e.card_ccv},cardHolderName:{first:e.contact.first_name,last:e.contact.last_name},cardHolderAddress:{street:e.contact.street_address,city:e.contact.city,postal:e.contact.postal_code,stateCode:e.contact.region,countryCode:e.contact.country},cardHolderContact:{email:e.contact.email,phoneNumber:e.contact.phone},paymentAmount:t}}getJourneyCarrierCode(e){var t;if(!e||!Array.isArray(e.segments)||e.segments.length<1)return null;const n=e.segments;return n.every(e=>"VB"===e.operatingCarrier)?"VB":(null===(t=n.find(e=>"VB"!==e.operatingCarrier))||void 0===t?void 0:t.operatingCarrier)||null}getAirlineName(e){if(!Array.isArray(e)||e.length<1)return null;if(e.every(e=>"VB"===this.getJourneyCarrierCode(e)))return"Viva Aerobus";{const t=e.find(e=>"VB"!==this.getJourneyCarrierCode(e));return this.getJourneyCarrierCode(t)}}areAllAvailabilityJourneysValid(e,t){if(!Array.isArray(e)||e.length<1)return!1;const n=i().add(t,"hours");return e.every(e=>i(e.departureDate).isAfter(n,"minutes"))}areAllBookingJourneysValid(e,t){if(!Array.isArray(e)||e.length<1)return!1;const n=i().add(t,"hours");return e.every(e=>i(e.departureDate.scheduledUtc).isAfter(n,"minutes"))}}return e.\u0275fac=function(t){return new(t||e)(l.dc(u.a),l.dc(d.a))},e.\u0275prov=l.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Y7HM:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("DH7j");function o(e){return!Object(i.a)(e)&&e-parseFloat(e)+1>=0}},YESw:function(e,t,n){var i=n("Cwc5")(Object,"create");e.exports=i},YO3V:function(e,t,n){var i=n("NykK"),o=n("LcsW"),r=n("ExA7"),s=Function.prototype.toString,a=Object.prototype.hasOwnProperty,c=s.call(Object);e.exports=function(e){if(!r(e)||"[object Object]"!=i(e))return!1;var t=o(e);if(null===t)return!0;var n=a.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==c}},Ylt2:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("quSY");class o extends i.a{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},Z0cm:function(e,t){e.exports=Array.isArray},Z8oC:function(e,t,n){var i=n("y1pI");e.exports=function(e,t){var n=this.__data__,o=i(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},ZCkC:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("fXoL"),o=n("kh7C"),r=n("ofXK"),s=n("VXoX");function a(e,t){if(1&e&&(i.Zb(0,"li",10),i.Zb(1,"p",11),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Ub(4,"div",12),i.Yb()),2&e){const e=t.$implicit,n=t.index,o=i.jc().$implicit;i.Hb(2),i.Uc(" ",i.lc(3,2,e)," "),i.Hb(2),i.sc("ngClass",n===o.length-1?"separator":"")}}function c(e,t){if(1&e&&(i.Zb(0,"div",7),i.Zb(1,"ul",8),i.Qc(2,a,5,4,"li",9),i.Yb(),i.Yb()),2&e){const e=t.$implicit;i.Hb(2),i.sc("ngForOf",e)}}function l(e,t){if(1&e&&(i.Xb(0),i.Qc(1,c,3,1,"div",6),i.Wb()),2&e){const e=i.jc(2);i.Hb(1),i.sc("ngForOf",e.checklistMultidimension)}}function u(e,t){if(1&e&&(i.Zb(0,"li",15),i.Zb(1,"p",11),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Yb()),2&e){const e=t.$implicit;i.Hb(2),i.Uc(" ",i.lc(3,1,e)," ")}}function d(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"ul",13),i.Qc(2,u,4,3,"li",14),i.Yb(),i.Wb()),2&e){const e=i.jc(2);i.Hb(2),i.sc("ngForOf",e.unidimensionalChecklist)}}function h(e,t){if(1&e&&(i.Zb(0,"div",1),i.Qc(1,l,2,1,"ng-container",5),i.Qc(2,d,3,1,"ng-container",5),i.Yb()),2&e){const e=i.jc();i.Hb(1),i.sc("ngIf",!e.hasOneColumn),i.Hb(1),i.sc("ngIf",e.hasOneColumn)}}let p=(()=>{class e{constructor(e){this.utils=e,this.hasOneColumn=!1,this.checklist=[],this.checklistMultidimension=[]}get unidimensionalChecklist(){return[...this.checklistMultidimension[0],...this.checklistMultidimension[1]]}ngOnInit(){}ngOnChanges(e){this.checklist&&this.checklist!==e.checklist.previousValue&&(this.checklistMultidimension=this.utils.simpleArrayToMultidimensionalArray(this.checklist,Math.ceil(this.checklist.length/2)))}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(o.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-flight-checklist"]],inputs:{hasOneColumn:"hasOneColumn",checklist:"checklist"},features:[i.Fb],decls:7,vars:4,consts:[[1,"flight-checklist"],[1,"row"],[1,"col-xl-12"],[1,"left-title"],["class","row",4,"ngIf"],[4,"ngIf"],["class","col-xl-5 col-sm-12",4,"ngFor","ngForOf"],[1,"col-xl-5","col-sm-12"],[1,"viva-ul-list","divider","my-0","my-lg-20"],["class","check-element",4,"ngFor","ngForOf"],[1,"check-element"],[1,"medium-title"],[3,"ngClass"],[1,"viva-ul-list","divider","my-0","my-lg-20","col-sm-12"],["class","check-element mx-2",4,"ngFor","ngForOf"],[1,"check-element","mx-2"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"h4",3),i.Sc(4),i.kc(5,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Qc(6,h,3,2,"div",4),i.Yb()),2&e&&(i.Hb(4),i.Uc(" ",i.lc(5,2,"HEADER_MANAGE_CHECKLIST-TITLE")," "),i.Hb(2),i.sc("ngIf",null==t.checklistMultidimension?null:t.checklistMultidimension.length))},directives:[r.u,r.t,r.r],pipes:[s.a],styles:[".flight-checklist[_ngcontent-%COMP%]   .left-title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:10px}@media only screen and (max-width:768px){.flight-checklist[_ngcontent-%COMP%]   .left-title[_ngcontent-%COMP%]{margin-bottom:0}}.flight-checklist[_ngcontent-%COMP%]   .check-element[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:36px 0}.flight-checklist[_ngcontent-%COMP%]   .check-element[_ngcontent-%COMP%]:after{bottom:-15px;background-color:var(--wh1);opacity:.6}.flight-checklist[_ngcontent-%COMP%]   .check-element[_ngcontent-%COMP%]:last-child   p[_ngcontent-%COMP%]{margin-bottom:14px}"]}),e})()},ZOAy:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ofXK"),o=n("b6Qw"),r=n("o5mt"),s=n("h3XU"),a=n("fXoL");let c=(()=>{class e{}return e.\u0275mod=a.Rb({type:e}),e.\u0275inj=a.Qb({factory:function(t){return new(t||e)},providers:[o.a],imports:[[i.c,r.a,s.a]]}),e})()},ZOsW:function(e,t,n){"use strict";n.d(t,"a",(function(){return De})),n.d(t,"b",(function(){return Le})),n.d(t,"c",(function(){return ce})),n.d(t,"d",(function(){return le})),n.d(t,"e",(function(){return ue})),n.d(t,"f",(function(){return de})),n.d(t,"g",(function(){return he})),n.d(t,"h",(function(){return pe})),n.d(t,"i",(function(){return ge})),n.d(t,"j",(function(){return fe})),n.d(t,"k",(function(){return me})),n.d(t,"l",(function(){return be})),n.d(t,"m",(function(){return ve})),n.d(t,"n",(function(){return Ee}));var i=n("fXoL"),o=n("3Pt+"),r=n("1G5W"),s=n("3UWI"),a=n("JX91"),c=n("vkgz"),l=n("Kj3r"),u=n("pLZG"),d=n("lJxs"),h=n("eNwd"),p=n("7Hc7"),g=n("XNiG"),f=n("xgIS"),m=n("VRyK"),b=n("ofXK");const v=["content"],y=["scroll"],_=["padding"],C=function(e){return{searchTerm:e}};function S(e,t){if(1&e&&(i.Zb(0,"div",6),i.Vb(1,7),i.Yb()),2&e){const e=i.jc();i.Hb(1),i.sc("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",i.vc(2,C,e.filterValue))}}function O(e,t){if(1&e&&(i.Zb(0,"div",8),i.Vb(1,7),i.Yb()),2&e){const e=i.jc();i.Hb(1),i.sc("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",i.vc(2,C,e.filterValue))}}const T=["*"],w=["searchInput"];function k(e,t){if(1&e){const e=i.ac();i.Zb(0,"span",15),i.hc("click",(function(){i.Hc(e);const t=i.jc().$implicit;return i.jc(2).unselect(t)})),i.Sc(1,"\xd7"),i.Yb(),i.Ub(2,"span",16)}if(2&e){const e=i.jc().$implicit,t=i.jc(2);i.Hb(2),i.sc("ngItemLabel",e.label)("escape",t.escapeHTML)}}function A(e,t){}const E=function(e,t,n){return{item:e,clear:t,label:n}};function M(e,t){if(1&e&&(i.Zb(0,"div",12),i.Qc(1,k,3,2,"ng-template",null,13,i.Rc),i.Qc(3,A,0,0,"ng-template",14),i.Yb()),2&e){const e=t.$implicit,n=i.Ec(2),o=i.jc(2);i.Lb("ng-value-disabled",e.disabled),i.Hb(3),i.sc("ngTemplateOutlet",o.labelTemplate||n)("ngTemplateOutletContext",i.xc(4,E,e.value,o.clearItem,e.label))}}function P(e,t){if(1&e&&(i.Xb(0),i.Qc(1,M,4,8,"div",11),i.Wb()),2&e){const e=i.jc();i.Hb(1),i.sc("ngForOf",e.selectedItems)("ngForTrackBy",e.trackByOption)}}function D(e,t){}const x=function(e,t){return{items:e,clear:t}};function I(e,t){if(1&e&&i.Qc(0,D,0,0,"ng-template",14),2&e){const e=i.jc();i.sc("ngTemplateOutlet",e.multiLabelTemplate)("ngTemplateOutletContext",i.wc(2,x,e.selectedValues,e.clearItem))}}function L(e,t){1&e&&i.Ub(0,"div",19)}function R(e,t){}function N(e,t){if(1&e&&(i.Xb(0),i.Qc(1,L,1,0,"ng-template",null,17,i.Rc),i.Qc(3,R,0,0,"ng-template",18),i.Wb()),2&e){const e=i.Ec(2),t=i.jc();i.Hb(3),i.sc("ngTemplateOutlet",t.loadingSpinnerTemplate||e)}}function j(e,t){if(1&e&&(i.Zb(0,"span",20),i.Zb(1,"span",21),i.Sc(2,"\xd7"),i.Yb(),i.Yb()),2&e){const e=i.jc();i.tc("title",e.clearAllText)}}function B(e,t){if(1&e&&i.Ub(0,"span",27),2&e){const e=i.jc().$implicit,t=i.jc(2);i.sc("ngItemLabel",e.label)("escape",t.escapeHTML)}}function F(e,t){}const H=function(e,t,n,i){return{item:e,item$:t,index:n,searchTerm:i}};function U(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",25),i.hc("click",(function(){i.Hc(e);const n=t.$implicit;return i.jc(2).toggleItem(n)}))("mouseover",(function(){i.Hc(e);const n=t.$implicit;return i.jc(2).onItemHover(n)})),i.Qc(1,B,1,2,"ng-template",null,26,i.Rc),i.Qc(3,F,0,0,"ng-template",14),i.Yb()}if(2&e){const e=t.$implicit,n=i.Ec(2),o=i.jc(2);i.Lb("ng-option-disabled",e.disabled)("ng-option-selected",e.selected)("ng-optgroup",e.children)("ng-option",!e.children)("ng-option-child",!!e.parent)("ng-option-marked",e===o.itemsList.markedItem),i.Ib("role",e.children?"group":"option")("aria-selected",e.selected)("id",null==e?null:e.htmlId),i.Hb(3),i.sc("ngTemplateOutlet",e.children?o.optgroupTemplate||n:o.optionTemplate||n)("ngTemplateOutletContext",i.yc(17,H,e.value,e,e.index,o.searchTerm))}}function Y(e,t){if(1&e&&(i.Zb(0,"span"),i.Zb(1,"span",30),i.Sc(2),i.Yb(),i.Sc(3),i.Yb()),2&e){const e=i.jc(3);i.Hb(2),i.Tc(e.addTagText),i.Hb(1),i.Uc('"',e.searchTerm,'"')}}function G(e,t){}function V(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",28),i.hc("mouseover",(function(){return i.Hc(e),i.jc(2).itemsList.unmarkItem()}))("click",(function(){return i.Hc(e),i.jc(2).selectTag()})),i.Qc(1,Y,4,2,"ng-template",null,29,i.Rc),i.Qc(3,G,0,0,"ng-template",14),i.Yb()}if(2&e){const e=i.Ec(2),t=i.jc(2);i.Lb("ng-option-marked",!t.itemsList.markedItem),i.Hb(3),i.sc("ngTemplateOutlet",t.tagTemplate||e)("ngTemplateOutletContext",i.vc(4,C,t.searchTerm))}}function Z(e,t){if(1&e&&(i.Zb(0,"div",32),i.Sc(1),i.Yb()),2&e){const e=i.jc(3);i.Hb(1),i.Tc(e.notFoundText)}}function $(e,t){}function W(e,t){if(1&e&&(i.Xb(0),i.Qc(1,Z,2,1,"ng-template",null,31,i.Rc),i.Qc(3,$,0,0,"ng-template",14),i.Wb()),2&e){const e=i.Ec(2),t=i.jc(2);i.Hb(3),i.sc("ngTemplateOutlet",t.notFoundTemplate||e)("ngTemplateOutletContext",i.vc(2,C,t.searchTerm))}}function K(e,t){if(1&e&&(i.Zb(0,"div",32),i.Sc(1),i.Yb()),2&e){const e=i.jc(3);i.Hb(1),i.Tc(e.typeToSearchText)}}function z(e,t){}function Q(e,t){if(1&e&&(i.Xb(0),i.Qc(1,K,2,1,"ng-template",null,33,i.Rc),i.Qc(3,z,0,0,"ng-template",18),i.Wb()),2&e){const e=i.Ec(2),t=i.jc(2);i.Hb(3),i.sc("ngTemplateOutlet",t.typeToSearchTemplate||e)}}function X(e,t){if(1&e&&(i.Zb(0,"div",32),i.Sc(1),i.Yb()),2&e){const e=i.jc(3);i.Hb(1),i.Tc(e.loadingText)}}function q(e,t){}function J(e,t){if(1&e&&(i.Xb(0),i.Qc(1,X,2,1,"ng-template",null,34,i.Rc),i.Qc(3,q,0,0,"ng-template",14),i.Wb()),2&e){const e=i.Ec(2),t=i.jc(2);i.Hb(3),i.sc("ngTemplateOutlet",t.loadingTextTemplate||e)("ngTemplateOutletContext",i.vc(2,C,t.searchTerm))}}function ee(e,t){if(1&e){const e=i.ac();i.Zb(0,"ng-dropdown-panel",22),i.hc("update",(function(t){return i.Hc(e),i.jc().viewPortItems=t}))("scroll",(function(t){return i.Hc(e),i.jc().scroll.emit(t)}))("scrollToEnd",(function(t){return i.Hc(e),i.jc().scrollToEnd.emit(t)}))("outsideClick",(function(){return i.Hc(e),i.jc().close()})),i.Xb(1),i.Qc(2,U,4,22,"div",23),i.Qc(3,V,4,6,"div",24),i.Wb(),i.Qc(4,W,4,4,"ng-container",3),i.Qc(5,Q,4,1,"ng-container",3),i.Qc(6,J,4,4,"ng-container",3),i.Yb()}if(2&e){const e=i.jc();i.Lb("ng-select-multiple",e.multiple),i.sc("virtualScroll",e.virtualScroll)("bufferAmount",e.bufferAmount)("appendTo",e.appendTo)("position",e.dropdownPosition)("headerTemplate",e.headerTemplate)("footerTemplate",e.footerTemplate)("filterValue",e.searchTerm)("items",e.itemsList.filteredItems)("markedItem",e.itemsList.markedItem)("ngClass",e.appendTo?e.classes:null)("id",e.dropdownId),i.Hb(2),i.sc("ngForOf",e.viewPortItems)("ngForTrackBy",e.trackByOption),i.Hb(1),i.sc("ngIf",e.showAddTag),i.Hb(1),i.sc("ngIf",e.showNoItemsFound()),i.Hb(1),i.sc("ngIf",e.showTypeToSearch()),i.Hb(1),i.sc("ngIf",e.loading&&0===e.itemsList.filteredItems.length)}}const te=/[&<>"']/g,ne=RegExp(te.source),ie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function oe(e){return null!=e}function re(e){return"object"==typeof e&&oe(e)}function se(e){return e instanceof Function}let ae=(()=>{class e{constructor(e){this.element=e,this.escape=!0}ngOnChanges(e){var t;this.element.nativeElement.innerHTML=this.escape?(t=this.ngItemLabel)&&ne.test(t)?t.replace(te,e=>ie[e]):t:this.ngItemLabel}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.n))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngItemLabel",""]],inputs:{escape:"escape",ngItemLabel:"ngItemLabel"},features:[i.Fb]}),e})(),ce=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-option-tmp",""]]}),e})(),le=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-optgroup-tmp",""]]}),e})(),ue=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-label-tmp",""]]}),e})(),de=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-multi-label-tmp",""]]}),e})(),he=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-header-tmp",""]]}),e})(),pe=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-footer-tmp",""]]}),e})(),ge=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-notfound-tmp",""]]}),e})(),fe=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-typetosearch-tmp",""]]}),e})(),me=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-loadingtext-tmp",""]]}),e})(),be=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-tag-tmp",""]]}),e})(),ve=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ng-loadingspinner-tmp",""]]}),e})(),ye=(()=>{class e{warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Pb)({factory:function(){return new e},token:e,providedIn:"root"}),e})();function _e(){return"axxxxxxxxxxx".replace(/[x]/g,(function(e){return(16*Math.random()|0).toString(16)}))}const Ce={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};function Se(e){return e.replace(/[^\u0000-\u007E]/g,e=>Ce[e]||e)}class Oe{constructor(e,t){this._ngSelect=e,this._selectionModel=t,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let e=this.selectedItems.length-1;for(;e>=0;e--){let t=this.selectedItems[e];if(!t.disabled)return t}return null}setItems(e){this._items=e.map((e,t)=>this.mapItem(e,t)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(e){if(e.selected||this.maxItemsSelected)return;const t=this._ngSelect.multiple;t||this.clearSelected(),this._selectionModel.select(e,t,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(e)}unselect(e){e.selected&&(this._selectionModel.unselect(e,this._ngSelect.multiple),this._ngSelect.hideSelected&&oe(e.index)&&this._ngSelect.multiple&&this._showSelected(e))}findItem(e){let t;return t=this._ngSelect.compareWith?t=>this._ngSelect.compareWith(t.value,e):this._ngSelect.bindValue?t=>!t.children&&this.resolveNested(t.value,this._ngSelect.bindValue)===e:t=>t.value===e||!t.children&&t.label&&t.label===this.resolveNested(e,this._ngSelect.bindLabel),this._items.find(e=>t(e))}addItem(e){const t=this.mapItem(e,this._items.length);return this._items.push(t),this._filteredItems.push(t),t}clearSelected(e=!1){this._selectionModel.clear(e),this._items.forEach(t=>{t.selected=e&&t.selected&&t.disabled,t.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(e){return e=Se(e).toLocaleLowerCase(),this.filteredItems.find(t=>Se(t.label).toLocaleLowerCase().substr(0,e.length)===e)}filter(e){if(!e)return void this.resetFilteredItems();this._filteredItems=[],e=this._ngSelect.searchFn?e:Se(e).toLocaleLowerCase();const t=this._ngSelect.searchFn||this._defaultSearchFn,n=this._ngSelect.hideSelected;for(const i of Array.from(this._groups.keys())){const o=[];for(const r of this._groups.get(i))n&&(r.parent&&r.parent.selected||r.selected)||t(e,this._ngSelect.searchFn?r.value:r)&&o.push(r);if(o.length>0){const[e]=o.slice(-1);if(e.parent){const t=this._items.find(t=>t===e.parent);this._filteredItems.push(t)}this._filteredItems.push(...o)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(e=>!e.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(e){this._markedIndex=this._filteredItems.indexOf(e)}markSelectedOrDefault(e){if(0===this._filteredItems.length)return;const t=this._getLastMarkedIndex();this._markedIndex=t>-1?t:e?this.filteredItems.findIndex(e=>!e.disabled):-1}resolveNested(e,t){if(!re(e))return e;if(-1===t.indexOf("."))return e[t];{let n=t.split("."),i=e;for(let e=0,t=n.length;e<t;++e){if(null==i)return null;i=i[n[e]]}return i}}mapItem(e,t){const n=oe(e.$ngOptionLabel)?e.$ngOptionLabel:this.resolveNested(e,this._ngSelect.bindLabel),i=oe(e.$ngOptionValue)?e.$ngOptionValue:e;return{index:t,label:oe(n)?n.toString():"",value:i,disabled:e.disabled,htmlId:`${this._ngSelect.dropdownId}-${t}`}}mapSelectedItems(){const e=this._ngSelect.multiple;for(const t of this.selectedItems){const n=this._ngSelect.bindValue?this.resolveNested(t.value,this._ngSelect.bindValue):t.value,i=oe(n)?this.findItem(n):null;this._selectionModel.unselect(t,e),this._selectionModel.select(i||t,e,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(e=>-1===this.selectedItems.indexOf(e)))}_showSelected(e){if(this._filteredItems.push(e),e.parent){const t=e.parent;this._filteredItems.find(e=>e===t)||this._filteredItems.push(t)}else if(e.children)for(const t of e.children)t.selected=!1,this._filteredItems.push(t);this._filteredItems=[...this._filteredItems.sort((e,t)=>e.index-t.index)]}_hideSelected(e){this._filteredItems=this._filteredItems.filter(t=>t!==e),e.parent?e.parent.children.every(e=>e.selected)&&(this._filteredItems=this._filteredItems.filter(t=>t!==e.parent)):e.children&&(this._filteredItems=this.filteredItems.filter(t=>t.parent!==e))}_defaultSearchFn(e,t){return Se(t.label).toLocaleLowerCase().indexOf(e)>-1}_getNextItemIndex(e){return e>0?this._markedIndex===this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(e){0===this._filteredItems.length||this._filteredItems.every(e=>e.disabled)||(this._markedIndex=this._getNextItemIndex(e),this.markedItem.disabled&&this._stepToItem(e))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected)return-1;if(this._markedIndex>-1&&void 0===this.markedItem)return-1;const e=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&e<0?-1:Math.max(this.markedIndex,e)}_groupBy(e,t){const n=new Map;if(0===e.length)return n;if(Array.isArray(e[0].value[t])){for(const i of e){const e=(i.value[t]||[]).map((e,t)=>this.mapItem(e,t));n.set(i,e)}return n}const i=se(this._ngSelect.groupBy),o=e=>{let n=i?t(e.value):e.value[t];return oe(n)?n:void 0};for(const r of e){let e=o(r);const t=n.get(e);t?t.push(r):n.set(e,[r])}return n}_flatten(e){const t=se(this._ngSelect.groupBy),n=[];for(const i of Array.from(e.keys())){let o=n.length;if(void 0===i){const t=e.get(void 0)||[];n.push(...t.map(e=>Object.assign(Object.assign({},e),{index:o++})));continue}const r=re(i),s={label:r?"":String(i),children:void 0,parent:null,index:o++,disabled:!this._ngSelect.selectableGroup,htmlId:_e()},a=t?this._ngSelect.bindLabel:this._ngSelect.groupBy,c=this._ngSelect.groupValue||(()=>r?i.value:{[a]:i}),l=e.get(i).map(e=>(e.parent=s,e.children=void 0,e.index=o++,e));s.children=l,s.value=c(i,l.map(e=>e.value)),n.push(s),n.push(...l)}return n}}const Te=function(){var e={Tab:9,Enter:13,Esc:27,Space:32,ArrowUp:38,ArrowDown:40,Backspace:8};return e[e.Tab]="Tab",e[e.Enter]="Enter",e[e.Esc]="Esc",e[e.Space]="Space",e[e.ArrowUp]="ArrowUp",e[e.ArrowDown]="ArrowDown",e[e.Backspace]="Backspace",e}();let we=(()=>{class e{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(e,t,n){const i=this._dimensions,o=i.itemHeight*t,r=Math.max(0,e)/o*t;let s=Math.min(t,Math.ceil(r)+(i.itemsPerViewport+1));const a=Math.max(0,s-i.itemsPerViewport);let c=Math.min(a,Math.floor(r)),l=i.itemHeight*Math.ceil(c)-i.itemHeight*Math.min(c,n);return l=isNaN(l)?0:l,c=isNaN(c)?-1:c,s=isNaN(s)?-1:s,c-=n,c=Math.max(0,c),s+=n,s=Math.min(t,s),{topPadding:l,scrollHeight:o,start:c,end:s}}setDimensions(e,t){const n=Math.max(1,Math.floor(t/e));this._dimensions={itemHeight:e,panelHeight:t,itemsPerViewport:n}}getScrollTo(e,t,n){const{panelHeight:i}=this.dimensions,o=e+t,r=n+i;return i>=o&&n===e?null:o>r?n+o-r:e<=n?e:null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})();const ke="undefined"!=typeof requestAnimationFrame?h.a:p.a;let Ae=(()=>{class e{constructor(e,t,n,o,r){this._renderer=e,this._zone=t,this._panelService=n,this._document=r,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new i.p,this.scroll=new i.p,this.scrollToEnd=new i.p,this.outsideClick=new i.p,this._destroy$=new g.a,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=o.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:e,panelHeight:t}=this._panelService.dimensions,n=this.markedItem.index*e;return t>n?0:n}return 0}handleMousedown(e){"INPUT"!==e.target.tagName&&e.preventDefault()}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown()}ngOnChanges(e){if(e.items){const t=e.items;this._onItemsChange(t.currentValue,t.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(e,t=!1){if(!e)return;const n=this.items.indexOf(e);if(n<0||n>=this.itemsLength)return;let i;if(this.virtualScroll){const e=this._panelService.dimensions.itemHeight;i=this._panelService.getScrollTo(n*e,e,this._lastScrollPosition)}else{const n=this._dropdown.querySelector("#"+e.htmlId);i=this._panelService.getScrollTo(n.offsetTop,n.clientHeight,t?n.offsetTop:this._lastScrollPosition)}oe(i)&&(this._scrollablePanel.scrollTop=i)}scrollToTag(){const e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}adjustPosition(){const e=this._parent.getBoundingClientRect(),t=this._select.getBoundingClientRect();this._setOffset(e,t)}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),"top"===this._currentPosition?(this._renderer.addClass(this._dropdown,"ng-select-top"),this._renderer.removeClass(this._dropdown,"ng-select-bottom"),this._renderer.addClass(this._select,"ng-select-top"),this._renderer.removeClass(this._select,"ng-select-bottom")):(this._renderer.addClass(this._dropdown,"ng-select-bottom"),this._renderer.removeClass(this._dropdown,"ng-select-top"),this._renderer.addClass(this._select,"ng-select-bottom"),this._renderer.removeClass(this._select,"ng-select-top")),this.appendTo&&this._updatePosition(),this._dropdown.style.opacity="1"}_handleScroll(){this._zone.runOutsideAngular(()=>{Object(f.a)(this.scrollElementRef.nativeElement,"scroll").pipe(Object(r.a)(this._destroy$),Object(s.a)(0,ke)).subscribe(e=>this._onContentScrolled(e.target.scrollTop))})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{Object(m.a)(Object(f.a)(this._document,"touchstart",{capture:!0}),Object(f.a)(this._document,"mousedown",{capture:!0})).pipe(Object(r.a)(this._destroy$)).subscribe(e=>this._checkToClose(e))})}_checkToClose(e){if(this._select.contains(e.target)||this._dropdown.contains(e.target))return;const t=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&t&&t[0]&&this._select.contains(t[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(e,t){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(t):this._updateItems(t)}_updateItems(e){this.update.emit(this.items),!1!==e&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,e)})})}_updateItemsRange(e){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{e?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}_updateVirtualHeight(e){this._updateScrollHeight&&(this._virtualPadding.style.height=e+"px",this._updateScrollHeight=!1)}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(e=null){if(e&&this._lastScrollPosition===e)return;const t=this._panelService.calculateItems(e=e||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(t.scrollHeight),this._contentPanel.style.transform=`translateY(${t.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(t.start,t.end)),this.scroll.emit({start:t.start,end:t.end})}),oe(e)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[e]=this.items;return this.update.emit([e]),Promise.resolve().then(()=>{const t=this._dropdown.querySelector("#"+e.htmlId).clientHeight;return this._virtualPadding.style.height=t*this.itemsLength+"px",this._panelService.setDimensions(t,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(e){this._scrollToEndFired||0===e||e+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(e){if("auto"!==this.position)return this.position;const t=this._select.getBoundingClientRect(),n=document.documentElement.scrollTop||document.body.scrollTop;return t.top+window.pageYOffset+t.height+e.getBoundingClientRect().height>n+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._parent.appendChild(this._dropdown)}}_updatePosition(){const e=this._select.getBoundingClientRect(),t=this._parent.getBoundingClientRect(),n=e.left-t.left;this._setOffset(t,e),this._dropdown.style.left=n+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}_setOffset(e,t){const n=t.height;"top"===this._currentPosition?(this._dropdown.style.bottom=e.bottom-t.bottom+n+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=t.top-e.top+n+"px",this._dropdown.style.bottom="auto")}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.I),i.Tb(i.E),i.Tb(we),i.Tb(i.n),i.Tb(b.e,8))},e.\u0275cmp=i.Nb({type:e,selectors:[["ng-dropdown-panel"]],viewQuery:function(e,t){var n;1&e&&(i.Nc(v,!0,i.n),i.Nc(y,!0,i.n),i.Nc(_,!0,i.n)),2&e&&(i.Dc(n=i.ic())&&(t.contentElementRef=n.first),i.Dc(n=i.ic())&&(t.scrollElementRef=n.first),i.Dc(n=i.ic())&&(t.paddingElementRef=n.first))},hostBindings:function(e,t){1&e&&i.hc("mousedown",(function(e){return t.handleMousedown(e)}))},inputs:{items:"items",position:"position",virtualScroll:"virtualScroll",filterValue:"filterValue",markedItem:"markedItem",appendTo:"appendTo",bufferAmount:"bufferAmount",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[i.Fb],ngContentSelectors:T,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(e,t){1&e&&(i.rc(),i.Qc(0,S,2,4,"div",0),i.Zb(1,"div",1,2),i.Ub(3,"div",null,3),i.Zb(5,"div",null,4),i.qc(7),i.Yb(),i.Yb(),i.Qc(8,O,2,4,"div",5)),2&e&&(i.sc("ngIf",t.headerTemplate),i.Hb(3),i.Lb("total-padding",t.virtualScroll),i.Hb(2),i.Lb("scrollable-content",t.virtualScroll&&t.items.length),i.Hb(3),i.sc("ngIf",t.footerTemplate))},directives:[b.u,b.B],encapsulation:2,changeDetection:0}),e})(),Ee=(()=>{class e{constructor(e){this.elementRef=e,this.stateChange$=new g.a,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=this._isDisabled(e)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(e){return null!=e&&""+e!="false"}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.n))},e.\u0275cmp=i.Nb({type:e,selectors:[["ng-option"]],inputs:{disabled:"disabled",value:"value"},features:[i.Fb],ngContentSelectors:T,decls:1,vars:0,template:function(e,t){1&e&&(i.rc(),i.qc(0))},encapsulation:2,changeDetection:0}),e})(),Me=(()=>{class e{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Pb)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const Pe=new i.t("ng-select-selection-model");let De=(()=>{class e{constructor(e,t,n,o,r,s,a){this.classes=e,this.autoFocus=t,this._cd=s,this._console=a,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=e=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new i.p,this.focusEvent=new i.p,this.changeEvent=new i.p,this.openEvent=new i.p,this.closeEvent=new i.p,this.searchEvent=new i.p,this.clearEvent=new i.p,this.addEvent=new i.p,this.removeEvent=new i.p,this.scroll=new i.p,this.scrollToEnd=new i.p,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=_e(),this.escapeHTML=!0,this.useDefaultClass=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new g.a,this._keyPress$=new g.a,this._onChange=e=>{},this._onTouched=()=>{},this.clearItem=e=>{const t=this.selectedItems.find(t=>t.value===e);this.unselect(t)},this.trackByOption=(e,t)=>this.trackByFn?this.trackByFn(t.value):t,this._mergeGlobalConfig(n),this.itemsList=new Oe(this,o()),this.element=r.nativeElement}get items(){return this._items}set items(e){this._itemsAreUsed=!0,this._items=e}get compareWith(){return this._compareWith}set compareWith(e){if(!se(e))throw Error("`compareWith` must be a function.");this._compareWith=e}get clearSearchOnAdd(){return oe(this._clearSearchOnAdd)?this._clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(e){this._clearSearchOnAdd=e}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(e=>e.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=oe(e.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),oe(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(e){if(Te[e.which]){if(!1===this.keyDownFn(e))return;this.handleKeyCode(e)}else e.key&&1===e.key.length&&this._keyPress$.next(e.key.toLocaleLowerCase())}handleKeyCode(e){switch(e.which){case Te.ArrowDown:this._handleArrowDown(e);break;case Te.ArrowUp:this._handleArrowUp(e);break;case Te.Space:this._handleSpace(e);break;case Te.Enter:this._handleEnter(e);break;case Te.Tab:this._handleTab(e);break;case Te.Esc:this.close(),e.preventDefault();break;case Te.Backspace:this._handleBackspace()}}handleMousedown(e){const t=e.target;"INPUT"!==t.tagName&&e.preventDefault(),t.classList.contains("ng-clear-wrapper")?this.handleClearClick():t.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():t.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this.itemsList.maxItemsSelected||this._manualOpen||(this._isTypeahead||this.addTag||!this.itemsList.noItemsToSelect)&&(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){this.isOpen&&!this._manualOpen&&(this.isOpen=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(e){!e||e.disabled||this.disabled||(this.multiple&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(e){e&&(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e))}selectTag(){let e;e=se(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const t=e=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(e,null):this.itemsList.addItem(e);e instanceof Promise?e.then(e=>this.select(t(e))).catch(()=>{}):e&&this.select(t(e))}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(t=>t.label.toLowerCase()===e)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(t=>t.label.toLowerCase()===e))&&!this.loading}showNoItemsFound(){const e=0===this.itemsList.filteredItems.length;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,this.searchWhileComposing||this.filter(e)}filter(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(e=>e.value)}),this.open())}onInputFocus(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}onInputBlur(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),this.isOpen||this.disabled||this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(e){e.disabled||this.itemsList.markItem(e)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const e=this.selectedItems&&this.selectedItems[0];this.searchTerm=e&&e.label||null}_setItems(e){const t=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=oe(t)?!re(t):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&oe(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const e=e=>{this.items=e.map(e=>({$ngOptionValue:e.value,$ngOptionLabel:e.elementRef.nativeElement.innerHTML,disabled:e.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},t=()=>{const e=Object(m.a)(this.ngOptions.changes,this._destroy$);Object(m.a)(...this.ngOptions.map(e=>e.stateChange$)).pipe(Object(r.a)(e)).subscribe(e=>{const t=this.itemsList.findItem(e.value);t.disabled=e.disabled,t.label=e.label||t.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(Object(a.a)(this.ngOptions),Object(r.a)(this._destroy$)).subscribe(n=>{this.bindLabel=this._defaultLabel,e(n),t()})}_isValidWriteValue(e){if(!oe(e)||this.multiple&&""===e||Array.isArray(e)&&0===e.length)return!1;const t=e=>!(!oe(this.compareWith)&&re(e)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(e)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(e)?e.every(e=>t(e)):(this._console.warn("Multiple select ngModel should be array."),!1):t(e)}_handleWriteValue(e){if(!this._isValidWriteValue(e))return;const t=e=>{let t=this.itemsList.findItem(e);if(t)this.itemsList.select(t);else{const n=re(e),i=!n&&!this.bindValue;n||i?this.itemsList.select(this.itemsList.mapItem(e,null)):this.bindValue&&(t={[this.bindLabel]:null,[this.bindValue]:e},this.itemsList.select(this.itemsList.mapItem(t,null)))}};this.multiple?e.forEach(e=>t(e)):t(e)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(Object(r.a)(this._destroy$),Object(c.a)(e=>this._pressedKeys.push(e)),Object(l.a)(200),Object(u.a)(()=>this._pressedKeys.length>0),Object(d.a)(()=>this._pressedKeys.join(""))).subscribe(e=>{const t=this.itemsList.findByLabel(e);t&&(this.isOpen?(this.itemsList.markItem(t),this._cd.markForCheck()):this.select(t)),this._pressedKeys=[]})}_setInputAttributes(){const e=this.searchInput.nativeElement,t=Object.assign({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs);for(const n of Object.keys(t))e.setAttribute(n,t[n])}_updateNgModel(){const e=[];for(const n of this.selectedItems)if(this.bindValue){let t=null;t=n.children?n.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(n.value,this.bindValue),e.push(t)}else e.push(n.value);const t=this.selectedItems.map(e=>e.value);this.multiple?(this._onChange(e),this.changeEvent.emit(t)):(this._onChange(oe(e[0])?e[0]:null),this.changeEvent.emit(t[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}_scrollToMarked(){this.isOpen&&this.dropdownPanel&&this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){this.isOpen&&this.dropdownPanel&&this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(e){(!1!==this.isOpen||this.addTag)&&(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close())}_handleEnter(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}e.preventDefault()}_handleSpace(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}_handleArrowDown(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}_handleArrowUp(e){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}_nextItemIsTag(e){const t=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(t<0||t===this.itemsList.filteredItems.length)}_handleBackspace(){!this.searchTerm&&this.clearable&&this.clearOnBackspace&&this.hasValue&&(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const e=this.searchTerm&&this.searchTerm.trim();return e&&e.length>=this.minTermLength}_mergeGlobalConfig(e){this.placeholder=this.placeholder||e.placeholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=oe(this.virtualScroll)?this.virtualScroll:!!oe(e.disableVirtualScroll)&&!e.disableVirtualScroll,this.openOnEnter=oe(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.appearance=this.appearance||e.appearance}}return e.\u0275fac=function(t){return new(t||e)(i.ec("class"),i.ec("autofocus"),i.Tb(Me),i.Tb(Pe),i.Tb(i.n),i.Tb(i.i),i.Tb(ye))},e.\u0275cmp=i.Nb({type:e,selectors:[["ng-select"]],contentQueries:function(e,t,n){var o;1&e&&(i.Mb(n,ce,!0,i.P),i.Mb(n,le,!0,i.P),i.Mb(n,ue,!0,i.P),i.Mb(n,de,!0,i.P),i.Mb(n,he,!0,i.P),i.Mb(n,pe,!0,i.P),i.Mb(n,ge,!0,i.P),i.Mb(n,fe,!0,i.P),i.Mb(n,me,!0,i.P),i.Mb(n,be,!0,i.P),i.Mb(n,ve,!0,i.P),i.Mb(n,Ee,!0)),2&e&&(i.Dc(o=i.ic())&&(t.optionTemplate=o.first),i.Dc(o=i.ic())&&(t.optgroupTemplate=o.first),i.Dc(o=i.ic())&&(t.labelTemplate=o.first),i.Dc(o=i.ic())&&(t.multiLabelTemplate=o.first),i.Dc(o=i.ic())&&(t.headerTemplate=o.first),i.Dc(o=i.ic())&&(t.footerTemplate=o.first),i.Dc(o=i.ic())&&(t.notFoundTemplate=o.first),i.Dc(o=i.ic())&&(t.typeToSearchTemplate=o.first),i.Dc(o=i.ic())&&(t.loadingTextTemplate=o.first),i.Dc(o=i.ic())&&(t.tagTemplate=o.first),i.Dc(o=i.ic())&&(t.loadingSpinnerTemplate=o.first),i.Dc(o=i.ic())&&(t.ngOptions=o))},viewQuery:function(e,t){var n;1&e&&(i.Yc(Ae,!0),i.Nc(w,!0)),2&e&&(i.Dc(n=i.ic())&&(t.dropdownPanel=n.first),i.Dc(n=i.ic())&&(t.searchInput=n.first))},hostAttrs:["role","listbox"],hostVars:20,hostBindings:function(e,t){1&e&&i.hc("keydown",(function(e){return t.handleKeyDown(e)})),2&e&&i.Lb("ng-select",t.useDefaultClass)("ng-select-single",!t.multiple)("ng-select-multiple",t.multiple)("ng-select-taggable",t.addTag)("ng-select-searchable",t.searchable)("ng-select-clearable",t.clearable)("ng-select-opened",t.isOpen)("ng-select-disabled",t.disabled)("ng-select-filtered",t.filtered)("ng-select-typeahead",t.typeahead)},inputs:{markFirst:"markFirst",dropdownPosition:"dropdownPosition",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",bufferAmount:"bufferAmount",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",bindLabel:"bindLabel",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",virtualScroll:"virtualScroll",openOnEnter:"openOnEnter",appendTo:"appendTo",bindValue:"bindValue",appearance:"appearance",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",tabIndex:"tabIndex",typeahead:"typeahead"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[i.Gb([{provide:o.s,useExisting:Object(i.Y)(()=>e),multi:!0},we]),i.Fb],decls:14,vars:18,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],[1,"ng-input"],["role","combobox",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],[1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",0),i.hc("mousedown",(function(e){return t.handleMousedown(e)})),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Sc(3),i.Yb(),i.Qc(4,P,2,2,"ng-container",3),i.Qc(5,I,1,5,void 0,3),i.Zb(6,"div",4),i.Zb(7,"input",5,6),i.hc("input",(function(){i.Hc(e);const n=i.Ec(8);return t.filter(n.value)}))("compositionstart",(function(){return t.onCompositionStart()}))("compositionend",(function(){i.Hc(e);const n=i.Ec(8);return t.onCompositionEnd(n.value)}))("focus",(function(e){return t.onInputFocus(e)}))("blur",(function(e){return t.onInputBlur(e)}))("change",(function(e){return e.stopPropagation()})),i.Yb(),i.Yb(),i.Yb(),i.Qc(9,N,4,1,"ng-container",3),i.Qc(10,j,3,1,"span",7),i.Zb(11,"span",8),i.Ub(12,"span",9),i.Yb(),i.Yb(),i.Qc(13,ee,7,19,"ng-dropdown-panel",10)}2&e&&(i.Lb("ng-appearance-outline","outline"===t.appearance)("ng-has-value",t.hasValue),i.Hb(3),i.Tc(t.placeholder),i.Hb(1),i.sc("ngIf",!t.multiLabelTemplate&&t.selectedItems.length>0),i.Hb(1),i.sc("ngIf",t.multiLabelTemplate&&t.selectedValues.length>0),i.Hb(2),i.sc("readOnly",!t.searchable||t.itemsList.maxItemsSelected)("disabled",t.disabled)("value",t.searchTerm?t.searchTerm:""),i.Ib("id",t.labelForId)("tabindex",t.tabIndex)("aria-expanded",t.isOpen)("aria-owns",t.isOpen?t.dropdownId:null)("aria-activedescendant",t.isOpen?null==t.itemsList||null==t.itemsList.markedItem?null:t.itemsList.markedItem.htmlId:null),i.Hb(2),i.sc("ngIf",t.loading),i.Hb(1),i.sc("ngIf",t.showClear()),i.Hb(3),i.sc("ngIf",t.isOpen))},directives:[b.u,b.t,b.B,ae,Ae,b.r],styles:[".ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:0;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute;z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);-webkit-animation:.8s linear infinite load8;animation:.8s linear infinite load8}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes load8{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}"],encapsulation:2,changeDetection:0}),e})();class xe{constructor(){this._selected=[]}get value(){return this._selected}select(e,t,n){if(e.selected=!0,(!e.children||!t&&n)&&this._selected.push(e),t)if(e.parent){const t=e.parent.children.length,n=e.parent.children.filter(e=>e.selected).length;e.parent.selected=t===n}else e.children&&(this._setChildrenSelectedState(e.children,!0),this._removeChildren(e),this._selected=n&&this._activeChildren(e)?[...this._selected.filter(t=>t.parent!==e),e]:[...this._selected,...e.children.filter(e=>!e.disabled)])}unselect(e,t){if(this._selected=this._selected.filter(t=>t!==e),e.selected=!1,t)if(e.parent&&e.parent.selected){const t=e.parent.children;this._removeParent(e.parent),this._removeChildren(e.parent),this._selected.push(...t.filter(t=>t!==e&&!t.disabled)),e.parent.selected=!1}else e.children&&(this._setChildrenSelectedState(e.children,!1),this._removeChildren(e))}clear(e){this._selected=e?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(e,t){for(const n of e)n.disabled||(n.selected=t)}_removeChildren(e){this._selected=[...this._selected.filter(t=>t.parent!==e),...e.children.filter(t=>t.parent===e&&t.disabled&&t.selected)]}_removeParent(e){this._selected=this._selected.filter(t=>t!==e)}_activeChildren(e){return e.children.every(e=>!e.disabled||e.selected)}}const Ie=function(){return new xe};let Le=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},providers:[{provide:Pe,useValue:Ie}],imports:[[b.c]]}),e})()},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("51Dv"),o=n("SeVD"),r=n("HDdC");function s(e,t,n,s,a=new i.a(e,n,s)){if(!a.closed)return t instanceof r.a?t.subscribe(a):Object(o.a)(t)(a)}},Zy1z:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("7o/Q");function o(){return e=>e.lift(new r)}class r{call(e,t){return t.subscribe(new s(e))}}class s extends i.a{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}},aQpe:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("tyNb"),o=n("quSY"),r=n("pLZG"),s=n("lJxs"),a=n("fXoL"),c=n("TUgU"),l=n("ngAm"),u=n("deb4");let d=(()=>{class e{constructor(e,t,n,i,r){this.router=e,this.route=t,this.cmsTranslation=n,this.seoService=i,this.datalayerHome=r,this.titleSuffix="",this.isRunning=!1,this.routerNavigationSub=o.a.EMPTY,this.getDefaultTitleFromCMS()}start(){this.isRunning||(this.startRouterNavigationHandler(),this.isRunning=!0)}stop(){this.isRunning&&(this.routerNavigationSub.closed||this.routerNavigationSub.unsubscribe(),this.isRunning=!1)}getDefaultTitleFromCMS(){if(!this.titleSuffix){let t="";t=this.cmsTranslation.getEntry(e.TITLE_SUFFIX_CMS_ID),this.titleSuffix=t!==e.TITLE_SUFFIX_CMS_ID?t:e.FALLBACK_APP_TITLE}}startRouterNavigationHandler(){this.routerNavigationSub=this.router.events.pipe(Object(r.a)(e=>e instanceof i.c),Object(s.a)(()=>{var e,t;let n=this.route.firstChild;for(;n.firstChild;)n=n.firstChild;const i=!0===n.snapshot.data.manualPageView,o=!0===n.snapshot.data.hideTitleSuffix;if(n.snapshot.data.title){let e="";if(e=this.cmsTranslation.getEntry(n.snapshot.data.title),e!==n.snapshot.data.title)return{title:this.formatTitle(e,!o),url:this.router.url,manualPageView:i}}else if(null===(t=null===(e=n.snapshot.data.page)||void 0===e?void 0:e.fields)||void 0===t?void 0:t.title)return{title:this.formatTitle(n.snapshot.data.page.fields.title,!1),url:this.router.url,manualPageView:!1};return{title:this.formatTitle(""),url:this.router.url,manualPageView:i}})).subscribe(e=>{this.seoService.setTitle(e.title),e.manualPageView||this.datalayerHome.pageViewEvent(e.title,e.url)})}formatTitle(e,t=!0){return e?t?`${e} | ${this.titleSuffix}`:e:this.titleSuffix}}return e.FALLBACK_APP_TITLE="Viva Aerobus",e.TITLE_SUFFIX_CMS_ID="TITLE_APP_SUFFIX",e.\u0275fac=function(t){return new(t||e)(a.dc(i.g),a.dc(i.a),a.dc(c.a),a.dc(l.a),a.dc(u.a))},e.\u0275prov=a.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},aSQu:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return s}));var i=function(e){return e.BEST_MATCH="BEST_MATCH",e.DEPARTURE_TIME="DEPARTURE_TIME",e.ARRIVAL_TIME="ARRIVAL_TIME",e.LOWEST_PRICE="LOWEST_PRICE",e.TRIP_DURATION="TRIP_DURATION",e.AVAILABILITY="AVAILABILITY",e.ORIGIN_AIRPORT="ORIGIN_AIRPORT",e}({}),o=function(e){return e.DIRECT_TRIP="DIRECT_TRIP",e.SPECIAL_OFFERS="SPECIAL_OFFERS",e.MORNING_FLIGHTS="MORNING_FLIGHTS",e.AFTERNOON_FLIGHTS="AFTERNOON_FLIGHTS",e.SAME_ROUTE="SAME_ROUTE",e}({});const r=[[o.SPECIAL_OFFERS],[o.DIRECT_TRIP],[o.MORNING_FLIGHTS,o.AFTERNOON_FLIGHTS],[o.SAME_ROUTE]],s={direct:o.DIRECT_TRIP,promo:o.SPECIAL_OFFERS,morning:o.MORNING_FLIGHTS,afternoon:o.AFTERNOON_FLIGHTS,"same-route":o.SAME_ROUTE}},adU4:function(e,t,n){var i=n("y1pI"),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},b2z7:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},b3gp:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));class i{constructor(){this.adults=0,this.kids=0,this.babies=0}}var o=function(e){return e.ADULTS="adults",e.KIDS="kids",e.BABIES="babies",e}({})},b6Qw:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),o=n("ofXK");let r=(()=>{class e{constructor(e,t){this.document=e,this.platformId=t,this.documentIsAccessible=Object(o.L)(this.platformId)}check(e){return!!this.documentIsAccessible&&(e=encodeURIComponent(e),this.getCookieRegExp(e).test(this.document.cookie))}get(e){if(this.documentIsAccessible&&this.check(e)){e=encodeURIComponent(e);const t=this.getCookieRegExp(e).exec(this.document.cookie);return this.safeDecodeURIComponent(t[1])}return""}getAll(){if(!this.documentIsAccessible)return{};const e={},t=this.document;return t.cookie&&""!==t.cookie&&t.cookie.split(";").forEach(t=>{const[n,i]=t.split("=");e[this.safeDecodeURIComponent(n.replace(/^ /,""))]=this.safeDecodeURIComponent(i)}),e}set(e,t,n,i,o,r,s){if(!this.documentIsAccessible)return;if("number"==typeof n||n instanceof Date||i||o||r||s)return void this.set(e,t,{expires:n,path:i,domain:o,secure:r,sameSite:s||"Lax"});let a=encodeURIComponent(e)+"="+encodeURIComponent(t)+";";const c=n||{};c.expires&&(a+="number"==typeof c.expires?"expires="+new Date((new Date).getTime()+1e3*c.expires*60*60*24).toUTCString()+";":"expires="+c.expires.toUTCString()+";"),c.path&&(a+="path="+c.path+";"),c.domain&&(a+="domain="+c.domain+";"),!1===c.secure&&"None"===c.sameSite&&(c.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${e} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),c.secure&&(a+="secure;"),c.sameSite||(c.sameSite="Lax"),a+="sameSite="+c.sameSite+";",this.document.cookie=a}delete(e,t,n,i,o="Lax"){if(!this.documentIsAccessible)return;const r=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(e,"",{expires:r,path:t,domain:n,secure:i,sameSite:o})}deleteAll(e,t,n,i="Lax"){if(!this.documentIsAccessible)return;const o=this.getAll();for(const r in o)o.hasOwnProperty(r)&&this.delete(r,e,t,n,i)}getCookieRegExp(e){const t=e.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+t+"|;\\s*"+t+")=(.*?)(?:;|$)","g")}safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch(t){return e}}}return e.\u0275fac=function(t){return new(t||e)(i.dc(o.e),i.dc(i.G))},e.\u0275prov=Object(i.Pb)({factory:function(){return new e(Object(i.dc)(o.e),Object(i.dc)(i.G))},token:e,providedIn:"root"}),e})()},b80T:function(e,t,n){var i=n("UNi/"),o=n("03A+"),r=n("Z0cm"),s=n("DSRE"),a=n("wJg7"),c=n("c6wG"),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=r(e),u=!n&&o(e),d=!n&&!u&&s(e),h=!n&&!u&&!d&&c(e),p=n||u||d||h,g=p?i(e.length,String):[],f=g.length;for(var m in e)!t&&!l.call(e,m)||p&&("length"==m||d&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,f))||g.push(m);return g}},b8LB:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ofXK"),o=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})()},bEA1:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var i=n("9yTC");n("NDEZ");class o extends i.a{}class r{}var s=function(e){return e.EarlyMorningDeparture="EarlyMorningDeparture",e.NextDayDeparture="NextDayDeparture",e.NextDayArrival="NextDayArrival",e.MultipleCarriers="MultipleCarriers",e}({}),a=function(e){return e.CapacityLeft="CapacityLeft",e}({}),c=function(e){return e.Change="Change",e.Reaccomm="Reaccomm",e.FlyAhead="FlyAhead",e.FlyAheadCDMX="FlyAheadCDMX",e}({})},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("5+tZ"),o=n("SpAZ");function r(e=Number.POSITIVE_INFINITY){return Object(i.a)(o.a,e)}},bJP1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));let i=(()=>{class e{static validateDay(t,n){return i=>{if(Number.isInteger(i.value)&&((null==n?void 0:n.min)||(null==n?void 0:n.max))){const{month:o,year:r}=t.getRawValue(),s=i.value;if(Number.isInteger(o)&&Number.isInteger(r)){if(n.min){const t=n.min;if(e.elementsToString(r,o,s)<e.elementsToString(t.year,t.month,t.day))return{minDate:!0}}if(n.max){const t=n.max;if(e.elementsToString(r,o,s)>e.elementsToString(t.year,t.month,t.day))return{maxDate:!0}}}}return null}}static validateMonth(t,n){return i=>{if(Number.isInteger(i.value)&&((null==n?void 0:n.min)||(null==n?void 0:n.max))){const{year:o}=t.getRawValue(),r=i.value;if(Number.isInteger(o)){if(n.min){const t=n.min;if(e.elementsToString(o,r)<e.elementsToString(t.year,t.month))return{minDate:!0}}if(n.max){const t=n.max;if(e.elementsToString(o,r)>e.elementsToString(t.year,t.month))return{maxDate:!0}}}}return null}}static validateYear(e){return t=>{if(Number.isInteger(t.value)&&((null==e?void 0:e.min)||(null==e?void 0:e.max))){if(e.min){const{year:n}=e.min;if(t.value<n)return{minDate:!0}}if(e.max){const{year:n}=e.max;if(t.value>n)return{maxDate:!0}}}return null}}}return e.elementsToString=(e=0,t=0,n=0)=>e.toString(10).padStart(4,"0")+t.toString(10).padStart(2,"0")+n.toString(10).padStart(2,"0"),e})()},bOdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("5+tZ");function o(e,t){return Object(i.a)(e,t,1)}},bSk5:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ofXK"),o=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})()},c2HN:function(e,t,n){"use strict";function i(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return i}))},c6wG:function(e,t,n){var i=n("dD9F"),o=n("sEf8"),r=n("mdPL"),s=r&&r.isTypedArray,a=s?o(s):i;e.exports=a},cPaJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e.ORIGIN="origin",e.DESTINATION="destination",e}({})},cbbM:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e.ENABLED="enabled",e.DISABLED="disabled",e.SOLD_OUT="sold-out",e}({})},ckWZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("fXoL"),o=n("ofXK"),r=n("PqYM"),s=n("JK/P");const a=function(e,t,n,i){return{"overlay-open":e,"overlay-close":t,expiration:n,"show-first":i}};function c(e,t){if(1&e&&i.Ub(0,"div",3),2&e){const e=i.jc();i.sc("ngClass",i.yc(1,a,e.isOpen,e.closeAnimation&&e.isOpen,"expiration-modal"===e.id,e.showFirst))}}const l=function(e,t,n,i,o){return{"modal-container-open":e,"no-full-height":t,"modal-container-close":n,expiration:i,"show-first":o}},u=function(e,t,n){return{"mini-modal":e,"md-h-auto":t,"align-items-end":n}},d=["*"];let h=(()=>{class e{constructor(e,t,n,o){this.document=e,this.renderer=t,this.modalSvc=n,this.el=o,this.showFirst=!1,this.dismissable=!0,this.noAnimation=!1,this.noFullHeight=!1,this.responsiveFullHeight=!0,this.miniModal=!1,this.itemsEnd=!1,this.openEvent=new i.p,this.closeEvent=new i.p,this.closeAnimation=!1,this.element=this.el.nativeElement}ngOnInit(){this.id?(this.document.body.appendChild(this.element),this.outsideClickEvt=this.renderer.listen("document","click",e=>this.closeModalOnBackdrop(e)),this.modalSvc.add(this.id,this)):console.error("modal must have an id")}ngOnDestroy(){this.modalSvc.remove(this.id),this.outsideClickEvt&&this.outsideClickEvt(),this.element.parentNode.removeChild(this.element)}open(){this.isOpen=!0,this.document.body.classList.add("open-modal"),this.openEvent.emit()}closeModalOnBackdrop(e){var t;this.dismissable&&(e.target.className.includes("modal-container modal-container-open")||(null===(t=e.target.parentElement)||void 0===t?void 0:t.className.includes("modal-container modal-container-open")))&&this.close()}close(){!this.noAnimation&&this.isOpen?(this.closeAnimation=!0,Object(r.a)(400).subscribe(()=>{this.closeAnimation=!1,this.isOpen=!1,this.document.body.classList.remove("open-modal"),this.closeEvent.emit()})):(this.closeAnimation=!1,this.isOpen=!1,this.document.body.classList.remove("open-modal"),this.closeEvent.emit())}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(o.e),i.Tb(i.I),i.Tb(s.a),i.Tb(i.n))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-modal"]],inputs:{id:"id",showFirst:"showFirst",dismissable:"dismissable",noAnimation:"noAnimation",noFullHeight:"noFullHeight",responsiveFullHeight:"responsiveFullHeight",miniModal:"miniModal",itemsEnd:"itemsEnd"},outputs:{openEvent:"openEvent",closeEvent:"closeEvent"},ngContentSelectors:d,decls:4,vars:13,consts:[[1,"modal-container",3,"ngClass"],[1,"modal",3,"ngClass"],["class","overlay",3,"ngClass",4,"ngIf"],[1,"overlay",3,"ngClass"]],template:function(e,t){1&e&&(i.rc(),i.Zb(0,"div",0),i.Zb(1,"div",1),i.qc(2),i.Yb(),i.Yb(),i.Qc(3,c,1,6,"div",2)),2&e&&(i.sc("ngClass",i.zc(3,l,t.isOpen,t.noFullHeight||!t.responsiveFullHeight,t.closeAnimation&&t.isOpen,"expiration-modal"===t.id,t.showFirst)),i.Hb(1),i.sc("ngClass",i.xc(9,u,t.miniModal,!t.responsiveFullHeight,t.itemsEnd)),i.Hb(2),i.sc("ngIf",t.isOpen))},directives:[o.r,o.u],styles:[".overlay[_ngcontent-%COMP%]{background-color:rgba(var(--bl9-rgb),.7);opacity:1}.overlay-open[_ngcontent-%COMP%]{-webkit-animation:fadeInOverlay .5s ease 0s normal forwards;animation:fadeInOverlay .5s ease 0s normal forwards}.overlay-close[_ngcontent-%COMP%]{-webkit-animation:fadeOutOverlay .4s ease 0s normal forwards;animation:fadeOutOverlay .4s ease 0s normal forwards}.overlay.expiration[_ngcontent-%COMP%]{z-index:100}.overlay.show-first[_ngcontent-%COMP%]{z-index:19}.modal-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:15;display:none;width:100%;height:100%;overflow:hidden;outline:0;justify-content:center;align-items:center}.modal-container.show-first[_ngcontent-%COMP%]{z-index:20}.modal-container-open[_ngcontent-%COMP%]{display:flex;overflow-x:hidden;overflow-y:auto;-webkit-animation:fadeInModal .5s ease 0s normal forwards;animation:fadeInModal .5s ease 0s normal forwards;transform:translateY(0)}@media screen and (max-width:991px){.modal-container-open[_ngcontent-%COMP%]{-webkit-animation:fadeInUpBig .5s ease 0s normal forwards;animation:fadeInUpBig .5s ease 0s normal forwards}}.modal-container-close[_ngcontent-%COMP%]{display:flex;overflow:hidden;-webkit-animation:fadeOutModal .4s ease 0s normal forwards;animation:fadeOutModal .4s ease 0s normal forwards}@media screen and (max-width:991px){.modal-container-close[_ngcontent-%COMP%]{-webkit-animation:fadeOutDown .4s ease 0s normal forwards;animation:fadeOutDown .4s ease 0s normal forwards}}.modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content;padding:4.75em 0;margin:auto;display:flex;align-content:center;justify-content:center}@media screen and (max-width:720px){.modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{padding:0}.modal-container[_ngcontent-%COMP%]   .modal.md-h-auto[_ngcontent-%COMP%]{padding:30px 0}}@media screen and (max-width:575px){.modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{padding:0;width:100%;border-radius:0;min-height:100%}.modal-container[_ngcontent-%COMP%]   .modal.md-h-auto[_ngcontent-%COMP%]{padding:20px 0}}@media screen and (max-width:720px){.modal-container[_ngcontent-%COMP%]{min-height:100%}}.modal-container.expiration[_ngcontent-%COMP%]{z-index:101}@media screen and (max-width:720px){.modal[_ngcontent-%COMP%]:not(.md-h-auto){height:100%}.no-full-height[_ngcontent-%COMP%]{height:auto!important}}.mini-modal[_ngcontent-%COMP%]{padding:0!important;height:100%}@media screen and (max-width:575px){.modal[_ngcontent-%COMP%]:not(.md-h-auto){height:100%}.modal[_ngcontent-%COMP%]   .viva-card[_ngcontent-%COMP%]{border-radius:0!important}}@-webkit-keyframes fadeInUpBig{0%{opacity:0;-webkit-transform:translateY(2000px)}to{opacity:1;-webkit-transform:translateY(0)}}@keyframes fadeInUpBig{0%{opacity:0;transform:translateY(2000px)}to{opacity:1;transform:translateY(0)}}@-webkit-keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translateY(0)}to{opacity:0;-webkit-transform:translateY(20px)}}@keyframes fadeOutDown{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(20px)}}@keyframes fadeInModal{0%{opacity:0}66%{opacity:0}to{opacity:1}}@-webkit-keyframes fadeInModal{0%{opacity:0}66%{opacity:0}to{opacity:1}}@-webkit-keyframes fadeOutModal{0%{opacity:1}to{opacity:0}}@keyframes fadeOutModal{0%{opacity:1}to{opacity:0}}@keyframes fadeInOverlay{0%{opacity:0}66%{opacity:0}to{opacity:1}}@-webkit-keyframes fadeInOverlay{0%{opacity:0}66%{opacity:0}to{opacity:1}}@-webkit-keyframes fadeOutOverlay{0%{opacity:1}to{opacity:0}}@keyframes fadeOutOverlay{0%{opacity:1}to{opacity:0}}"]}),e})()},cp0P:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("HDdC"),o=n("DH7j"),r=n("lJxs"),s=n("XoHu"),a=n("Cfvw");function c(...e){if(1===e.length){const t=e[0];if(Object(o.a)(t))return l(t,null);if(Object(s.a)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return l(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return l(e=1===e.length&&Object(o.a)(e[0])?e[0]:e,null).pipe(Object(r.a)(e=>t(...e)))}return l(e,null)}function l(e,t){return new i.a(n=>{const i=e.length;if(0===i)return void n.complete();const o=new Array(i);let r=0,s=0;for(let c=0;c<i;c++){const l=Object(a.a)(e[c]);let u=!1;n.add(l.subscribe({next:e=>{u||(u=!0,s++),o[c]=e},error:e=>n.error(e),complete:()=>{r++,r!==i&&u||(s===i&&n.next(t?t.reduce((e,t,n)=>(e[t]=o[n],e),{}):o),n.complete())}}))}})}},"d/Sv":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e.ONE_WAY="one-way",e.ROUND_TRIP="round-trip",e.MULTI_CITY="multi-city",e}({})},d0zJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ofXK"),o=n("tyNb"),r=n("o5mt"),s=n("fXoL");let a=(()=>{class e{}return e.\u0275mod=s.Rb({type:e}),e.\u0275inj=s.Qb({factory:function(t){return new(t||e)},imports:[[i.c,o.k,r.a]]}),e})()},dD9F:function(e,t,n){var i=n("NykK"),o=n("shjB"),r=n("ExA7"),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return r(e)&&o(e.length)&&!!s[i(e)]}},dTAl:function(e,t,n){var i=n("GoyQ"),o=Object.create,r=function(){function e(){}return function(t){if(!i(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=r},dc3y:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("z6cu"),o=n("lJxs"),r=n("JIr8"),s=n("AytR"),a=n("waG0"),c=n("fXoL"),l=n("tk/3"),u=n("CJ36");let d=(()=>{class e{constructor(e,t){this.http=e,this.localSvc=t}getFlightStatus(e){const t=s.g.FLIGHT_STATUS_URL+e+this.getLanguageParam();return this.http.get(t).pipe(Object(o.a)(e=>e.data),Object(r.a)(e=>Object(i.a)(e)))}createDates(){const e=new Array(3),t=new Date;return e[0]=(new Date).setDate(t.getDate()-1),e[1]=t,e[2]=(new Date).setDate(t.getDate()+1),e}addFlightStatusNotification(e){return this.http.post(s.g.FLIGHT_STATUS_ADD_NOTIFICATION_URL,[e],{headers:{"X-Channel":"web","x-api-key":s.g.apiKey}})}getSubscriptions(e){return this.http.get(s.g.FLIGHT_STATUS_SUBSCRIPTIONS_URL,{headers:{"X-Channel":"web","x-api-key":s.g.apiKey},params:{phone:e}})}cancelSubscription(e){return this.http.post(s.g.FLIGHT_STATUS_CANCEL_SUBSCRIPTION_URL,{subscriptionId:e},{headers:{"X-Channel":"web","x-api-key":s.g.apiKey}})}getLanguageParam(){return"&lang="+(this.localSvc.getAppLocale().includes("es")?"esp":"eng")}generateAlert(e,t=!1){var n,i;let o,r,s="yellow-white";return t&&(s="red-white"),e.iconLink?r={fields:{file:{url:e.iconLink,title:null==e?void 0:e.title}}}:o=e.type===a.a.WEATHER?"fas fa-cloud-showers-heavy":"fas fa-info-circle",{code:null==e?void 0:e.code,display:"InPage",displayColor:s,displayImage:"custom-icon",message:null==e?void 0:e.message,title:null==e?void 0:e.title,type:"FlightStatus",ctaText:null===(n=e.callToAction)||void 0===n?void 0:n.text,ctaLink:null===(i=e.callToAction)||void 0===i?void 0:i.link,customIconClass:o,customImage:r}}}return e.\u0275fac=function(t){return new(t||e)(c.dc(l.b),c.dc(u.a))},e.\u0275prov=c.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},ddoJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r}));var i=function(e){return e.FLIGHT_SEARCH="IBE_BOOKER_MENU_FLIGHTS",e.FLIGHT_PLUS_HOTEL="IBE_BOOKER_MENU_PACKAGES",e.HOTEL_SEARCH="IBE_BOOKER_MENU_HOTELS",e.MENU_CARS="IBE_BOOKER_MENU_CARS",e.MENU_BUSES="IBE_BOOKER_MENU_BUSES",e.MENU_RENTALS="IBE_BOOKER_MENU_RENTALS",e}({});const o="IBE_BOOKER_MENU",r="SF_HEADER_LINKS_BOOKING"},deb4:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("ofXK"),o=n("d/Sv"),r=n("wd/R"),s=n("rmK9"),a=n("fXoL"),c=n("egL7"),l=n("ChtM"),u=n("CJ36"),d=n("+EmV"),h=n("imvL");let p=(()=>{class e{constructor(e,t,n,i,o,r,s){this.document=e,this.gtmService=t,this.currency=n,this.localeService=i,this.utilsService=o,this.auth=r,this.baseHref=s,this.flowType=""}pageViewEvent(e,t){var n;let i="homepage";if(t.includes("/manage"))i="manage_my_booking";else if(t.includes("/check-in"))i="check_in";else if(t.includes("/book")){i="booking";const e=this.auth.userAccountTerms;(null==e?void 0:e.length)&&(null==e?void 0:e.find(e=>(null==e?void 0:e.type)===s.a.Loyalty&&!(null==e?void 0:e.promptTerms)))&&(i="booking_doters")}if(t!==this.utilsService.previousRouteValue){const o={event:"ev_pageview",page_path:`${this.baseHref}${t}`,page_referrer:null!==(n=this.utilsService.previousRouteValue)&&void 0!==n?n:"",channel:{flow_type:i,culture:this.localeService.getAppLocale()},page_title:e,detail:{currency:this.currency.selectedCurrencyCode,page:this.document.title}};this.flowType=i,this.utilsService.setPreviousRoute(t),this.gtmService.pushTag(o)}}flowTypeHome(){const e={event:"ev_flow_type",channel:{flow_type:"homepage",culture:this.localeService.getAppLocale()},box:"Start",detail:{currency:this.currency.selectedCurrencyCode,page:this.document.title}};this.flowType="homepage",this.gtmService.pushTag(e)}searchBoxEvent(e,t,n,i){const s=`${e.journeys[0].origin.code}-${e.journeys[0].destination.code}`,a=`${e.journeys[0].destination.code}-${e.journeys[0].origin.code}`,c=e.passengers.adults+e.passengers.babies+e.passengers.kids,l=new Date(e.journeys[0].journeyDates.startDate.format()).getTime()-Date.now(),u={event:"ev_search_flight_search",category:"search",action:"flight_search",search:{booking_window:Math.ceil(l/1e3/60/60/24),rute_list:e.tripType===o.a.ROUND_TRIP?`${s}|${a}`:s,tab_type:"HEADER_BOOK_FLIGHTS",type:e.journeys[0].destination.transportationType,source:"home",total_passenger_count:c,searchTermOrigin:i.origin||null,searchTermDestination:i.destination||null,passenger:{adt:e.passengers.adults,chd:e.passengers.kids,inf:e.passengers.babies},promo_code:e.promoCode,view_type:t?"monthly_calendar":"list_flights",search_using_points:n,language:this.localeService.getAppLocale(),currency:this.currency.selectedCurrencyCode,trip_type:e.tripType,origin:e.journeys[0].origin.code,destination:e.journeys[0].destination.code,departure_date:r(e.journeys[0].journeyDates.startDate).format("YYYY-MM-DD"),arrival_date:e.journeys[0].journeyDates.endDate?r(e.journeys[0].journeyDates.endDate).format("YYYY-MM-DD"):"null"}};this.gtmService.pushTag(u)}siteSearch(e){this.gtmService.pushTag({event:"site_search",detail:{module:"header",component:"search_widget",element:"search_button",action:"do_search",description:{term:e}}})}saveVui(e){const t=e.affiliations.find(e=>"VUI"===e.code);t&&localStorage.setItem("vui",t.id)}deleteVui(){localStorage.removeItem("vui")}loginSuccess(e,t){const n=e.affiliations.find(e=>"VUI"===e.code);this.gtmService.pushTag({event:"ev_login",category:"profile",action:"login",label:"successful",login:{status:"successful",method:e.socialLogin},detail:{module:"login",component:"signin",section:["sideMenu"],element:t,action:"signIn",description:{status:"successful"}},id:{v:n.id,n:e.customerNumber,u:e.username}})}loginFail(e,t){this.gtmService.pushTag({event:"ev_login",category:"profile",action:"login",label:"unsuccessful",login:{status:"unsuccessful",method:"NotLinked"},detail:{module:"login",component:"signin",section:["sideMenu"],element:t,action:"signIn",description:{status:"unsuccessful"}},message:[{type:"ERROR",code:e.name,message:e.message}]})}loginIntent(){this.gtmService.pushTag({event:"ev_login",login:{status:"login_intent"}})}signUp(e,t,n=!1){this.gtmService.pushTag({event:"ev_sign_up",category:"profile",action:n?"sign_up_sidebar":"sign_up",label:e,sign_up:{status:e,method:t}})}_boxever_flowtype(){return this.flowType}multicitySearch(e,t,n){let i="";e.journeys.forEach((e,t)=>{t&&(i+="|"),i+=`${e.origin.code}-${e.destination.code}`});const o=e.passengers.adults+e.passengers.babies+e.passengers.kids,s=new Date(e.journeys[0].journeyDates.startDate.format()).getTime()-Date.now(),a={event:"ev_search_multicity_search",category:"search",action:"flight_search",search:{booking_window:Math.ceil(s/1e3/60/60/24),rute_list:i,tab_type:"HEADER_BOOK_FLIGHTS",type:"Air",source:"home",total_passenger_count:o,passenger:{adt:e.passengers.adults,chd:e.passengers.kids,inf:e.passengers.babies},view_type:t?"monthly_calendar":"list_flights",search_using_points:n,language:this.localeService.getAppLocale(),currency:this.currency.selectedCurrencyCode,trip_type:e.tripType,origin:e.journeys[0].origin.code,destination:e.journeys[0].destination.code,search_from_one:e.journeys[0].origin.code,search_to_one:e.journeys[0].destination.code,search_date_one:r(e.journeys[0].journeyDates.startDate).format("YYYY-MM-DD"),search_from_two:e.journeys[e.journeys.length-1].origin.code,search_to_two:e.journeys[e.journeys.length-1].destination.code,search_date_two:e.journeys[e.journeys.length-1].journeyDates.startDate?r(e.journeys[e.journeys.length-1].journeyDates.startDate).format("YYYY-MM-DD"):"null",departure_date:r(e.journeys[0].journeyDates.startDate).format("YYYY-MM-DD"),arrival_date:e.journeys[e.journeys.length-1].journeyDates.startDate?r(e.journeys[e.journeys.length-1].journeyDates.startDate).format("YYYY-MM-DD"):"null"}};this.gtmService.pushTag(a)}}return e.\u0275fac=function(t){return new(t||e)(a.dc(i.e),a.dc(c.a),a.dc(l.a),a.dc(u.a),a.dc(d.a),a.dc(h.a),a.dc(i.a))},e.\u0275prov=a.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},djEO:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("fXoL"),o=n("lJxs"),r=n("AytR"),s=n("rmK9"),a=n("kh7C"),c=n("tk/3");let l=(()=>{class e{constructor(e,t){this.http=e,this.localeId=t}postLogin(e){return this.http.post(r.g.LOGIN_URL,e).pipe(Object(o.a)(e=>e.data))}postSocialLogin(e){return this.http.post(r.g.SOCIAL_LOGIN_URL,e).pipe(Object(o.a)(e=>e.data))}getAccount(e){return this.http.get(r.g.ACCOUNT_URL,{params:Object.assign({},e&&{RetrieveFundsAmounts:"true"})}).pipe(Object(o.a)(e=>e.data))}getAccountFunds(e){return this.http.get(r.g.ACCOUNT_FUNDS_URL+""+(e?"?Type="+e:"")).pipe(Object(o.a)(e=>e.data))}accountRestore(){return this.http.post(r.g.ACCOUNT_RESTORE_URL,{}).pipe(Object(o.a)(e=>e.data))}validateToken(){return this.http.get(r.g.VALIDATE_TOKEN_URL)}registerAccount(e){return this.http.post(r.g.ACCOUNT_REGISTER_URL,e)}registerAccountV2(e,t=!1){const n=Object.assign(Object.assign({},e),{language:this.localeId,loyaltyDetails:{enrollingSponsor:r.g.ENROLLING_SPONSOR_KEY,enrollmentChannel:t?s.c.WEBGUEST:s.c.WEBSITE}});return this.http.post(r.g.ACCOUNT_REGISTER_V2_URL,n)}confirmAccount(e){return this.http.post(r.g.ACCOUNT_CONFIRM_URL,e)}confirmAccountV2(e){return this.http.post(r.g.ACCOUNT_CONFIRM_V2_URL,e)}updateAccountInfo(e){return this.http.post(r.g.ACCOUNT_UPDATE_URL,e)}requestPasswordReset(e){return this.http.post(r.g.ACCOUNT_PWD_RESET_REQ_URL,e)}requestPasswordResetV2(e){const t=Object.assign(Object.assign({},e),{language:this.localeId,loyaltyDetails:{enrollingSponsor:r.g.ENROLLING_SPONSOR_KEY,enrollmentChannel:s.c.WEBSITE}});return this.http.post(r.g.ACCOUNT_PWD_RESET_REQ_V2_URL,t)}resetPassword(e){return this.http.post(r.g.ACCOUNT_RESET_PWD,e)}resetPasswordV2(e){return this.http.post(r.g.ACCOUNT_RESET_PWD_V2,e)}changePassword(e){return this.http.post(r.g.ACCOUNT_CHANGE_PWD,e)}getCompanions(){return this.http.get(r.g.ACCOUNT_COMPANIONS).pipe(Object(o.a)(e=>{var t;return this.processCompanionsTravelDocumentExpireDates(null===(t=e.data)||void 0===t?void 0:t.companions),e.data}))}postCompanion(e){return this.http.post(r.g.ACCOUNT_ADD_COMPANIONS,e).pipe(Object(o.a)(e=>(e.data&&this.processCompanionTravelDocumentExpireDates(e.data),e.data)))}deleteCompanion(e){return this.http.post(r.g.ACCOUNT_DELETE_COMPANIONS,{id:e}).pipe(Object(o.a)(e=>e.data))}updateCompanion(e){return this.http.post(r.g.ACCOUNT_UPDATE_COMPANIONS,e).pipe(Object(o.a)(e=>(e.data&&this.processCompanionTravelDocumentExpireDates(e.data),e.data)))}acceptTerms(e){return this.http.post(r.g.ACCOUNT_ACCEPT_TERMS,{type:e})}validateUserEmail(e){return this.http.get(`${r.g.ACCOUNT_VALIDATE_USER_EMAIL}?Email=${e}`)}getTravelIdURL(){return this.http.post(r.g.ACCOUNT_STAFF_STANDBY,void 0,{headers:{"X-Channel":"web","x-api-key":r.g.TEST_PAYMENT_REFERENCES_API_KEY}}).pipe(Object(o.a)(e=>e.data))}processCompanionsTravelDocumentExpireDates(e){Object(a.e)(e)&&e.forEach(e=>{this.processCompanionTravelDocumentExpireDates(e)})}processCompanionTravelDocumentExpireDates(e){try{if(e){const{passport:t,visa:n}=e;(null==t?void 0:t.expireDate)&&(t.expireDate=Object(a.g)(t.expireDate)),(null==n?void 0:n.expireDate)&&(n.expireDate=Object(a.g)(n.expireDate))}}catch(t){r.g.production||console.error("::processCompanionTravelDocumentExpireDates::",t)}}}return e.\u0275fac=function(t){return new(t||e)(i.dc(c.b),i.dc(i.y))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},dwco:function(e,t,n){!function(){"use strict";e.exports={polyfill:function(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style)||!0===e.__forceSmoothScrollPolyfill__){var n,i=e.HTMLElement||e.Element,o={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:i.prototype.scroll||a,scrollIntoView:i.prototype.scrollIntoView},r=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,s=(n=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?p.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):o.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?o.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):p.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},i.prototype.scroll=i.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==c(arguments[0])){var e=arguments[0].left,t=arguments[0].top;p.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},i.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},i.prototype.scrollIntoView=function(){if(!0!==c(arguments[0])){var n=h(this),i=n.getBoundingClientRect(),r=this.getBoundingClientRect();n!==t.body?(p.call(this,n,n.scrollLeft+r.left-i.left,n.scrollTop+r.top-i.top),"fixed"!==e.getComputedStyle(n).position&&e.scrollBy({left:i.left,top:i.top,behavior:"smooth"})):e.scrollBy({left:r.left,top:r.top,behavior:"smooth"})}else o.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function a(e,t){this.scrollLeft=e,this.scrollTop=t}function c(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function l(e,t){return"Y"===t?e.clientHeight+s<e.scrollHeight:"X"===t?e.clientWidth+s<e.scrollWidth:void 0}function u(t,n){var i=e.getComputedStyle(t,null)["overflow"+n];return"auto"===i||"scroll"===i}function d(e){var t=l(e,"Y")&&u(e,"Y"),n=l(e,"X")&&u(e,"X");return t||n}function h(e){for(;e!==t.body&&!1===d(e);)e=e.parentNode||e.host;return e}function p(n,i,s){var c,l,u,d,h=r();n===t.body?(c=e,l=e.scrollX||e.pageXOffset,u=e.scrollY||e.pageYOffset,d=o.scroll):(c=n,l=n.scrollLeft,u=n.scrollTop,d=a),function t(n){var i,o,s,a=(r()-n.startTime)/468;a=a>1?1:a,i=.5*(1-Math.cos(Math.PI*a)),n.method.call(n.scrollable,o=n.startX+(n.x-n.startX)*i,s=n.startY+(n.y-n.startY)*i),o===n.x&&s===n.y||e.requestAnimationFrame(t.bind(e,n))}({scrollable:c,method:d,startTime:h,startX:l,startY:u,x:i,y:s})}}}}()},e4Nc:function(e,t,n){var i=n("fGT3"),o=n("k+1r"),r=n("JHgL"),s=n("pSRY"),a=n("H8j4");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=r,c.prototype.has=s,c.prototype.set=a,e.exports=c},eE5r:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("fXoL"),o=n("XNiG"),r=n("PqYM"),s=n("9gjU"),a=n("Elrx"),c=n("1AID"),l=n("AytR"),u=n("Ha0k"),d=n("Y/Zp"),h=n("BifP");let p=(()=>{class e{constructor(e,t,n,i,r){var s,a;this.locale=e,this.currency=t,this.injector=n,this.upUtils=i,this.cmsConfig=r,this.allowedCurrencies=["USD"],this.allowedLocales=["en-US"],this.$upliftPromoValue=new o.a,this.$upFPReset=new o.a,this.serviceEnabled=this.cmsConfig.getBookingFeatureValue(c.a.ShowUpliftPricingNodes),this.hoursInTheFuture=(null===(s=this.cmsConfig._cmsConfig.bookingSettings.upliftFPConfig)||void 0===s?void 0:s.hoursInTheFuture)||72,this.hoursInTheFutureAvailability=(null===(a=this.cmsConfig._cmsConfig.bookingSettings.upliftFPConfig)||void 0===a?void 0:a.hoursInTheFutureAvailability)||75}getUpliftService(){this.upliftService||(this.upliftService=this.injector.get(u.a))}canRunMethod(e,t){return this.serviceEnabled&&this.allowedCurrencies.includes(e)&&this.allowedLocales.includes(t)}get injectedService(){try{this.getUpliftService()}catch(e){return l.g.production||console.error("::UpPricingHelper::","Dependency Injection Error!",e),!1}return!!this.upliftService}setUpliftPricingOnAvailability(e,t,n){this.canRunMethod(this.currency,this.locale)&&this.injectedService&&(this.selectedJourneysAreValid(e)?this.upliftService.ready.then(()=>{this.upliftService.initPayMonthly();const i=this.upUtils.buildTripInfoAvailability(e,t,n);i&&(this.tripInfo=i,this.loadTripInfo(i))}).catch(e=>{}):this.resetUpliftPricing())}setUpliftPricingFromBasket(e,t=!1){e&&this.canRunMethod(e.basket.currencyCode,e.basket.language)&&this.injectedService&&(this.isBasketValid(e.basket)&&this.bookingJourneysAreValid(e.basketBooking)?this.upliftService.ready.then(()=>{t?"checkout"!==this.upliftService._upliftInitMode&&this.upliftService.initPayMonthly():this.upliftService.initPayMonthly();const n=this.upUtils.buildTripInfo(e.basket.totalAmount.amount,e,!1);n&&(this.tripInfo=n,this.loadTripInfo(n))}).catch(e=>{}):this.resetUpliftPricing())}resendUpliftPricing(){return!(!this.serviceEnabled||!this.tripInfo||(this.loadTripInfo(this.tripInfo),0))}resetUpliftPricing(){this.tripInfo=void 0}loadTripInfo(e){e&&Object(r.a)(0).subscribe(()=>{this.upliftService.Uplift.Payments.load(e)})}selectedJourneysAreValid(e){return!(!e||!Array.isArray(e))&&this.upUtils.areAllAvailabilityJourneysValid(e.map(e=>e.journey),this.hoursInTheFutureAvailability)}isBasketValid(e){var t;if(!e)return!1;const n=[...s.f,...s.e];return"Points"!==e.bookingType&&0===((null===(t=e.travel)||void 0===t?void 0:t.charges)||[]).filter(e=>n.includes(e.code)).length}bookingJourneysAreValid(e){return!(!(null==e?void 0:e.journeys)||!Array.isArray(e.journeys))&&this.upUtils.areAllBookingJourneysValid(e.journeys,this.hoursInTheFuture)}get upliftPromoValue$(){return this.$upliftPromoValue.asObservable()}emitUpliftPriceAmount(e){this.serviceEnabled&&this.$upliftPromoValue.next(e>0)}get upFPDisplayReset$(){return this.$upFPReset.asObservable()}emitUpFPDisplayReset(){this.$upFPReset.next()}}return e.\u0275fac=function(t){return new(t||e)(i.dc(i.y),i.dc(a.b),i.dc(i.u),i.dc(d.a),i.dc(h.a))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},eFla:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("fXoL"),o=n("quSY"),r=n("PqYM"),s=function(e){return e.total="total",e.insurance="insurance",e.hotel_option="hotel_option",e.room_option="room_option",e.departure_option="departure_option",e.return_option="return_option",e.seat_option="seat_option",e.bag_option="bag_option",e.cruise_option="cruise_option",e.stateroom_option="stateroom_option",e.deck_option="deck_option",e.activity_option="activity_option",e.addon_option="addon_option",e.meal_option="meal_option",e.car_option="car_option",e}({}),a=function(e){return e.total="total",e.per_night="per_night",e.per_day="per_day",e.avg_per_night="avg_per_night",e.per_person="per_person",e.per_night_per_person="per_night_per_person",e.per_day_per_person="per_day_per_person",e.avg_per_night_per_person="avg_per_night_per_person",e}({}),c=n("1AID"),l=n("BifP"),u=n("imvL"),d=n("eE5r"),h=n("ofXK"),p=n("q/KQ");const g=["upFromSpan"];function f(e,t){if(1&e&&(i.Zb(0,"span",3),i.Sc(1),i.Ub(2,"img",10),i.kc(3,"cmsStaticImage"),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.Uc(" "," with"," "),i.Hb(1),i.sc("src",i.lc(3,2,e.isLightClass?"BOOKER_LOGO_UPLIFT-LIGHT":"BOOKER_LOGO_UPLIFT-DARK"),i.Kc)}}function m(e,t){if(1&e&&(i.Zb(0,"span",11),i.Sc(1," \xa0 "),i.Yb()),2&e){const e=i.jc(2);i.sc("ngClass",e.iConfig.displayClass)}}function b(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"span",1,2),i.Zb(3,"span",3),i.Sc(4),i.Yb(),i.Zb(5,"span",4),i.Sc(6,"$"),i.Yb(),i.Ub(7,"span",5),i.Zb(8,"span",4),i.Sc(9),i.Yb(),i.Zb(10,"span",6),i.Sc(11),i.Ub(12,"em",7),i.Yb(),i.Qc(13,f,4,4,"span",8),i.Yb(),i.Qc(14,m,2,1,"span",9),i.Wb()),2&e){const e=i.jc();i.Hb(1),i.sc("ngClass",e.iConfig.displayClass),i.Ib("data-up-price-value",e.upliftPrice)("data-up-price-type",e.iConfig.priceType)("data-up-price-model",e.iConfig.priceModel)("data-up-taxes-included",e.iConfig.taxesIncluded),i.Hb(3),i.Tc(e.iConfig.fromString+" "),i.Hb(5),i.Tc(e.iConfig.unitDenominator),i.Hb(2),i.Uc(" "," ",""),i.Hb(2),i.sc("ngIf",e.iConfig.displayLogo),i.Hb(1),i.sc("ngIf",e.iConfig.forceSpacingDisplay&&!e.isOfferDisplayed)}}let v=(()=>{class e{constructor(e,t,n){var r;this.cmsConfig=e,this.auth=t,this.upPricingSvc=n,this.price=0,this.priceShown=new i.p,this.iConfig=y,this.internalDisplayFlag=!0,this.showComponentFromAccountType=!0,this.accountDataSub=o.a.EMPTY,this.upFPDisplayResetSub=o.a.EMPTY,this.isLightClass=!1,this.isOfferDisplayed=!1,this.showComponentCmsFlag=this.cmsConfig.getBookingFeatureValue(c.a.ShowUpliftPricingNodes),this.allowedAccountTypes=(null===(r=this.cmsConfig._cmsConfig.bookingSettings.upliftFPConfig)||void 0===r?void 0:r.allowedAccountTypes)||[]}ngOnInit(){this.showComponentCmsFlag&&(this.handleOnAuthDataChange(),this.handlePricingDisplayEvent())}ngOnChanges(e){e.config&&(this.iConfig=this.config?Object.assign(Object.assign({},y),this.config):y,this.isLightClass=this.isLight)}ngOnDestroy(){this.accountDataSub.closed||this.accountDataSub.unsubscribe(),this.upFPDisplayResetSub.closed||this.upFPDisplayResetSub.unsubscribe(),this.disconnectMObserver()}ngAfterViewInit(){this.showComponent&&this.upFPRef&&this.iConfig.emitPriceDisplayChanges&&this.initMObserver()}get upliftPrice(){return Math.floor(100*(this.price||0)).toString()}get isLight(){const e=this.iConfig.displayClass.split(" ");return e.includes("light")||e.includes("contrast")}handleOnAuthDataChange(){this.accountDataSub=this.auth.userAccountData$.subscribe(e=>{this.showComponentFromAccountType=this.allowedAccountTypes.includes(e?e.accountType:"Anonymous")})}handlePricingDisplayEvent(){this.upFPDisplayResetSub=this.upPricingSvc.upFPDisplayReset$.subscribe(()=>{if(this.showComponent){const e=this.disconnectMObserver();this.internalDisplayFlag=!1,Object(r.a)(0).subscribe(()=>{this.internalDisplayFlag=!0,Object(r.a)(0).subscribe(()=>{e&&this.initMObserver()})})}})}get showComponent(){return this.showComponentCmsFlag&&this.showComponentFromAccountType&&this.internalDisplayFlag}initMObserver(){if(!this.mObserver&&this.upFPRef){const e={attributes:!0,attributeFilter:["style"]};this.mObserver=new MutationObserver(this.onAttrChange.bind(this)),this.mObserver.observe(this.upFPRef.nativeElement,e)}}disconnectMObserver(){return!!this.mObserver&&(this.mObserver.disconnect(),this.mObserver=void 0,!0)}onAttrChange(e){e.forEach(e=>{var t,n;if("attributes"===e.type){const e=null===(n=null===(t=this.upFPRef)||void 0===t?void 0:t.nativeElement)||void 0===n?void 0:n.style.display;if(e){const t="none"!==e;this.isOfferDisplayed=t,this.priceShown.emit(t)}}})}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(l.a),i.Tb(u.a),i.Tb(d.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-up-from-pricing"]],viewQuery:function(e,t){var n;1&e&&i.Yc(g,!0),2&e&&i.Dc(n=i.ic())&&(t.upFPRef=n.first)},inputs:{price:"price",config:"config"},outputs:{priceShown:"priceShown"},features:[i.Fb],decls:1,vars:1,consts:[[4,"ngIf"],[1,"cursor-pointer","vb-up-modal",2,"display","none",3,"ngClass"],["upFromSpan",""],[1,"font-weight-normal"],[1,"font-weight-bold"],["data-up-from-currency-unit-major","",1,"font-weight-bold"],["data-up-tooltip","",1,"font-weight-bold"],[1,"fas","fa-info-circle"],["class","font-weight-normal",4,"ngIf"],[3,"ngClass",4,"ngIf"],["alt","up-logo","loading","lazy",1,"display-inline-block",3,"src"],[3,"ngClass"]],template:function(e,t){1&e&&i.Qc(0,b,15,10,"ng-container",0),2&e&&i.sc("ngIf",t.showComponent)},directives:[h.u,h.r],pipes:[p.a],styles:[".vb-up-modal[_ngcontent-%COMP%]:hover   em.fas[_ngcontent-%COMP%]{color:var(--vg4)}.vb-up-modal[_ngcontent-%COMP%]:hover.light   em.fas[_ngcontent-%COMP%]{color:var(--gr25)}.vb-up-modal[_ngcontent-%COMP%]{pointer-events:auto}.vb-up-modal[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:middle;height:24px;width:auto}@media screen and (max-width:720px){.vb-up-modal[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:22px}}.small-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}@media screen and (max-width:720px){.small-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px}}.title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px}@media screen and (max-width:720px){.title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:22px}}.medium-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:22px}@media screen and (max-width:720px){.medium-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}}.up-title[_ngcontent-%COMP%]{font-family:Axiforma,Arial;font-weight:700;font-size:16px;line-height:20px;color:var(--bg6)}@media screen and (max-width:991px){.up-title[_ngcontent-%COMP%]{font-family:Axiforma,Arial;font-weight:500;font-size:14px;line-height:18px;color:var(--bg6);font-size:12px;line-height:16px}}.up-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px}@media screen and (max-width:991px){.up-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px}}.colored-bold.vb-up-modal[_ngcontent-%COMP%]:hover   em.fas[_ngcontent-%COMP%]{color:#164844}.colored-bold[_ngcontent-%COMP%]   .font-weight-bold[_ngcontent-%COMP%]{color:#34aa9f}"]}),e})();const y=Object.freeze({fromString:"or from",unitDenominator:"/mo",displayLogo:!1,displayClass:"small-title",priceType:s.total,priceModel:a.total,taxesIncluded:!0,forceSpacingDisplay:!1,emitPriceDisplayChanges:!1})},eIep:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("l7GE"),o=n("51Dv"),r=n("ZUHj"),s=n("lJxs"),a=n("Cfvw");function c(e,t){return"function"==typeof t?n=>n.pipe(c((n,i)=>Object(a.a)(e(n,i)).pipe(Object(s.a)((e,o)=>t(n,e,i,o))))):t=>t.lift(new l(e))}class l{constructor(e){this.project=e}call(e,t){return t.subscribe(new u(e,this.project))}}class u extends i.a{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t,e,n)}_innerSub(e,t,n){const i=this.innerSubscription;i&&i.unsubscribe();const s=new o.a(this,t,n),a=this.destination;a.add(s),this.innerSubscription=Object(r.a)(this,e,void 0,void 0,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,i,o){this.destination.next(t)}}},eJ3O:function(e,t,n){"use strict";var i=n("Q1FS"),o=n("1pIY"),r=n("p0+S"),s=n("nzqU");function a(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}t.timer=function(e,t,n){void 0===e&&(e=0);var c=-1;return r.isNumeric(t)?c=Number(t)<1?1:Number(t):s.isScheduler(t)&&(n=t),s.isScheduler(n)||(n=o.async),new i.Observable((function(t){var i=r.isNumeric(e)?e:+e-n.now();return n.schedule(a,i,{index:0,period:c,subscriber:t})}))}},eNwd:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("3N8a");class o extends i.a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}var r=n("IjjT");class s extends r.a{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,i=-1,o=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++i<o&&(e=t.shift()));if(this.active=!1,n){for(;++i<o&&(e=t.shift());)e.unsubscribe();throw n}}}const a=new s(o)},ebwN:function(e,t,n){var i=n("Cwc5")(n("Kz5y"),"Map");e.exports=i},egL7:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL");let o=(()=>{class e{constructor(e,t,n){this.googleTagManagerId=e,this.googleTagManagerAuth=t,this.googleTagManagerPreview=n,this.isLoaded=!1,this.browserGlobals={windowRef:()=>window,documentRef:()=>document},this.gtmId=e,this.gtmAuth=t,this.gtmPreview=n}getDataLayer(){const e=this.browserGlobals.windowRef();return e.dataLayer=e.dataLayer||[],e.dataLayer}pushOnDataLayer(e){this.getDataLayer().push(e)}addGtmToDom(){if(this.isLoaded)return;const e=this.browserGlobals.documentRef();this.pushOnDataLayer({"gtm.start":(new Date).getTime(),event:"gtm.js"});const t=e.createElement("script");t.id="GTMscript",t.async=!0,t.src=this.applyGtmQueryParams("//www.googletagmanager.com/gtm.js"),e.head.insertBefore(t,e.head.firstChild);const n=e.createElement("iframe");n.setAttribute("src",this.applyGtmQueryParams("//www.googletagmanager.com/ns.html")),n.style.width="0",n.style.height="0",n.style.display="none",n.style.visibility="hidden";const i=e.createElement("noscript");i.id="GTMiframe",i.appendChild(n),e.body.insertBefore(i,e.body.firstChild),this.isLoaded=!0}pushTag(e){this.isLoaded||this.addGtmToDom(),this.pushOnDataLayer(e)}applyGtmQueryParams(e){const t=["id="+this.gtmId];return this.gtmAuth&&t.push("gtm_auth="+this.gtmAuth),this.gtmPreview&&t.push("gtm_preview="+this.gtmPreview),-1===e.indexOf("?")&&(e+="?"),e+t.join("&")}}return e.\u0275fac=function(t){return new(t||e)(i.dc("googleTagManagerId"),i.dc("googleTagManagerAuth",8),i.dc("googleTagManagerPreview",8))},e.\u0275prov=Object(i.Pb)({factory:function(){return new e(Object(i.dc)("googleTagManagerId"),Object(i.dc)("googleTagManagerAuth",8),Object(i.dc)("googleTagManagerPreview",8))},token:e,providedIn:"root"}),e})()},ekgI:function(e,t,n){var i=n("YESw"),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:o.call(t,e)}},endd:function(e,t,n){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i},eqyj:function(e,t,n){"use strict";var i=n("xTJ+");e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,o,r,s){var a=[];a.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(o)&&a.push("path="+o),i.isString(r)&&a.push("domain="+r),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},f0Wu:function(e,t,n){(e.exports=n("Dvum")).tz.load(n("2xm2"))},f0i7:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("2Vo4"),o=n("XNiG"),r=n("st0d"),s=n("fXoL");let a=(()=>{class e{constructor(){this.highestPriorityType=r.a.UNDEFINED,this.$availabilityQueryParams=new i.a(void 0),this.$editSeachNotify=new o.a}pushBookingQueryParams(e,t){t>=this.highestPriorityType&&(this.$availabilityQueryParams.next({availabilityQueryParams:e,source:t}),this.highestPriorityType=t)}resetPriority(){this.highestPriorityType=r.a.UNDEFINED}get _availabilityQueryParams$(){return this.$availabilityQueryParams.asObservable()}get editSeachNotify$(){return this.$editSeachNotify.asObservable()}emitEditSeachActive(e){this.$editSeachNotify.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},fGT3:function(e,t,n){var i=n("4kuk"),o=n("Xi7e"),r=n("ebwN");e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(r||o),string:new i}}},"fR/l":function(e,t,n){var i=n("CH3K"),o=n("Z0cm");e.exports=function(e,t,n){var r=t(e);return o(e)?r:i(r,n(e))}},fXoL:function(e,t,n){"use strict";n.d(t,"a",(function(){return Os})),n.d(t,"b",(function(){return $h})),n.d(t,"c",(function(){return Uh})),n.d(t,"d",(function(){return Fh})),n.d(t,"e",(function(){return Hh})),n.d(t,"f",(function(){return Bp})),n.d(t,"g",(function(){return Ep})),n.d(t,"h",(function(){return Me})),n.d(t,"i",(function(){return Kr})),n.d(t,"j",(function(){return ip})),n.d(t,"k",(function(){return xh})),n.d(t,"l",(function(){return Ml})),n.d(t,"m",(function(){return zh})),n.d(t,"n",(function(){return Pl})),n.d(t,"o",(function(){return $n})),n.d(t,"p",(function(){return Bd})),n.d(t,"q",(function(){return Lh})),n.d(t,"r",(function(){return ie})),n.d(t,"s",(function(){return m})),n.d(t,"t",(function(){return ne})),n.d(t,"u",(function(){return Ss})),n.d(t,"v",(function(){return Ih})),n.d(t,"w",(function(){return zl})),n.d(t,"x",(function(){return Ql})),n.d(t,"y",(function(){return Kh})),n.d(t,"z",(function(){return jh})),n.d(t,"A",(function(){return ye})),n.d(t,"B",(function(){return Pp})),n.d(t,"C",(function(){return ve})),n.d(t,"D",(function(){return Op})),n.d(t,"E",(function(){return ap})),n.d(t,"F",(function(){return b})),n.d(t,"G",(function(){return Zh})),n.d(t,"H",(function(){return Vh})),n.d(t,"I",(function(){return Ll})),n.d(t,"J",(function(){return xl})),n.d(t,"K",(function(){return Il})),n.d(t,"L",(function(){return Nl})),n.d(t,"M",(function(){return Li})),n.d(t,"N",(function(){return y})),n.d(t,"O",(function(){return Ip})),n.d(t,"P",(function(){return eu})),n.d(t,"Q",(function(){return fp})),n.d(t,"R",(function(){return jl})),n.d(t,"S",(function(){return nu})),n.d(t,"T",(function(){return Pe})),n.d(t,"U",(function(){return xs})),n.d(t,"V",(function(){return Tp})),n.d(t,"W",(function(){return k})),n.d(t,"X",(function(){return ui})),n.d(t,"Y",(function(){return F})),n.d(t,"Z",(function(){return ge})),n.d(t,"ab",(function(){return li})),n.d(t,"bb",(function(){return Np})),n.d(t,"cb",(function(){return vp})),n.d(t,"db",(function(){return Wh})),n.d(t,"eb",(function(){return cs})),n.d(t,"fb",(function(){return vu})),n.d(t,"gb",(function(){return xi})),n.d(t,"hb",(function(){return ji})),n.d(t,"ib",(function(){return gi})),n.d(t,"jb",(function(){return ei})),n.d(t,"kb",(function(){return ni})),n.d(t,"lb",(function(){return si})),n.d(t,"mb",(function(){return oi})),n.d(t,"nb",(function(){return ii})),n.d(t,"ob",(function(){return ri})),n.d(t,"pb",(function(){return gu})),n.d(t,"qb",(function(){return Rp})),n.d(t,"rb",(function(){return fu})),n.d(t,"sb",(function(){return mu})),n.d(t,"tb",(function(){return ti})),n.d(t,"ub",(function(){return $})),n.d(t,"vb",(function(){return Is})),n.d(t,"wb",(function(){return Ca})),n.d(t,"xb",(function(){return _a})),n.d(t,"yb",(function(){return Ds})),n.d(t,"zb",(function(){return pu})),n.d(t,"Ab",(function(){return ud})),n.d(t,"Bb",(function(){return it})),n.d(t,"Cb",(function(){return N})),n.d(t,"Db",(function(){return Jn})),n.d(t,"Eb",(function(){return al})),n.d(t,"Fb",(function(){return ml})),n.d(t,"Gb",(function(){return kl})),n.d(t,"Hb",(function(){return po})),n.d(t,"Ib",(function(){return Us})),n.d(t,"Jb",(function(){return sc})),n.d(t,"Kb",(function(){return Pc})),n.d(t,"Lb",(function(){return ic})),n.d(t,"Mb",(function(){return Jd})),n.d(t,"Nb",(function(){return Le})),n.d(t,"Ob",(function(){return Ye})),n.d(t,"Pb",(function(){return w})),n.d(t,"Qb",(function(){return A})),n.d(t,"Rb",(function(){return Fe})),n.d(t,"Sb",(function(){return Ge})),n.d(t,"Tb",(function(){return ca})),n.d(t,"Ub",(function(){return fa})),n.d(t,"Vb",(function(){return va})),n.d(t,"Wb",(function(){return ba})),n.d(t,"Xb",(function(){return ma})),n.d(t,"Yb",(function(){return ga})),n.d(t,"Zb",(function(){return pa})),n.d(t,"ac",(function(){return ya})),n.d(t,"bc",(function(){return Yn})),n.d(t,"cc",(function(){return il})),n.d(t,"dc",(function(){return he})),n.d(t,"ec",(function(){return la})),n.d(t,"fc",(function(){return ah})),n.d(t,"gc",(function(){return ua})),n.d(t,"hc",(function(){return Sa})),n.d(t,"ic",(function(){return nh})),n.d(t,"jc",(function(){return Aa})),n.d(t,"kc",(function(){return Pd})),n.d(t,"lc",(function(){return Dd})),n.d(t,"mc",(function(){return xd})),n.d(t,"nc",(function(){return Id})),n.d(t,"oc",(function(){return Ld})),n.d(t,"pc",(function(){return Rd})),n.d(t,"qc",(function(){return xa})),n.d(t,"rc",(function(){return Ma})),n.d(t,"sc",(function(){return da})),n.d(t,"tc",(function(){return Ia})),n.d(t,"uc",(function(){return gd})),n.d(t,"vc",(function(){return fd})),n.d(t,"wc",(function(){return md})),n.d(t,"xc",(function(){return bd})),n.d(t,"yc",(function(){return vd})),n.d(t,"zc",(function(){return yd})),n.d(t,"Ac",(function(){return _d})),n.d(t,"Bc",(function(){return Sd})),n.d(t,"Cc",(function(){return Od})),n.d(t,"Dc",(function(){return zd})),n.d(t,"Ec",(function(){return aa})),n.d(t,"Fc",(function(){return Sn})),n.d(t,"Gc",(function(){return Cn})),n.d(t,"Hc",(function(){return wt})),n.d(t,"Ic",(function(){return Bi})),n.d(t,"Jc",(function(){return Ui})),n.d(t,"Kc",(function(){return Hi})),n.d(t,"Lc",(function(){return Re})),n.d(t,"Mc",(function(){return He})),n.d(t,"Nc",(function(){return Qd})),n.d(t,"Oc",(function(){return oc})),n.d(t,"Pc",(function(){return nc})),n.d(t,"Qc",(function(){return sa})),n.d(t,"Rc",(function(){return sh})),n.d(t,"Sc",(function(){return yc})),n.d(t,"Tc",(function(){return _c})),n.d(t,"Uc",(function(){return Cc})),n.d(t,"Vc",(function(){return Sc})),n.d(t,"Wc",(function(){return Oc})),n.d(t,"Xc",(function(){return Tc})),n.d(t,"Yc",(function(){return Xd}));var i=n("XNiG"),o=n("quSY"),r=n("HDdC"),s=n("VRyK"),a=n("w1tV");function c(e){return{toString:e}.toString()}const l="__annotations__",u="__parameters__",d="__prop__metadata__";function h(e,t,n,i,o){return c(()=>{const r=p(t);function s(...e){if(this instanceof s)return r.call(this,...e),this;const t=new s(...e);return function(n){return o&&o(n,...e),(n.hasOwnProperty(l)?n[l]:Object.defineProperty(n,l,{value:[]})[l]).push(t),i&&i(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}function p(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function g(e,t,n){return c(()=>{const i=p(t);function o(...e){if(this instanceof o)return i.apply(this,e),this;const t=new o(...e);return n.annotation=t,n;function n(e,n,i){const o=e.hasOwnProperty(u)?e[u]:Object.defineProperty(e,u,{value:[]})[u];for(;o.length<=i;)o.push(null);return(o[i]=o[i]||[]).push(t),e}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function f(e,t,n,i){return c(()=>{const o=p(t);function r(...e){if(this instanceof r)return o.apply(this,e),this;const t=new r(...e);return function(n,o){const r=n.constructor,s=r.hasOwnProperty(d)?r[d]:Object.defineProperty(r,d,{value:{}})[d];s[o]=s.hasOwnProperty(o)&&s[o]||[],s[o].unshift(t),i&&i(n,o,...e)}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}const m=g("Inject",e=>({token:e})),b=g("Optional"),v=g("Self"),y=g("SkipSelf"),_=g("Host"),C=g("Attribute",e=>({attributeName:e}));var S=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function O(e){for(let t in e)if(e[t]===O)return t;throw Error("Could not find renamed property on target object.")}function T(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function w(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}const k=w;function A(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function E(e){return M(e,e[D])||M(e,e[L])}function M(e,t){return t&&t.token===e?t:null}function P(e){return e&&(e.hasOwnProperty(x)||e.hasOwnProperty(R))?e[x]:null}const D=O({"\u0275prov":O}),x=O({"\u0275inj":O}),I=O({"\u0275provFallback":O}),L=O({ngInjectableDef:O}),R=O({ngInjectorDef:O});function N(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(N).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function j(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const B=O({__forward_ref__:O});function F(e){return e.__forward_ref__=F,e.toString=function(){return N(this())},e}function H(e){return U(e)?e():e}function U(e){return"function"==typeof e&&e.hasOwnProperty(B)&&e.__forward_ref__===F}const Y="undefined"!=typeof globalThis&&globalThis,G="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Z="undefined"!=typeof global&&global,$=Y||Z||G||V;var W=function(e){return e[e.Token=0]="Token",e[e.Attribute=1]="Attribute",e[e.ChangeDetectorRef=2]="ChangeDetectorRef",e[e.Invalid=3]="Invalid",e}({});function K(){const e=$.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}const z=O({"\u0275cmp":O}),Q=O({"\u0275dir":O}),X=O({"\u0275pipe":O}),q=O({"\u0275mod":O}),J=O({"\u0275loc":O}),ee=O({"\u0275fac":O}),te=O({__NG_ELEMENT_ID__:O});class ne{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=w({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const ie=new ne("INJECTOR",-1),oe={},re=/\n/gm,se=O({provide:String,useValue:O});let ae,ce=void 0;function le(e){const t=ce;return ce=e,t}function ue(e){const t=ae;return ae=e,t}function de(e,t=S.Default){if(void 0===ce)throw new Error("inject() must be called from an injection context");return null===ce?fe(e,void 0,t):ce.get(e,t&S.Optional?null:void 0,t)}function he(e,t=S.Default){return(ae||de)(H(e),t)}function pe(e){throw new Error("invalid")}const ge=he;function fe(e,t,n){const i=E(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&S.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${N(e)}]`)}function me(e){const t=[];for(let n=0;n<e.length;n++){const i=H(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=S.Default;for(let t=0;t<i.length;t++){const o=i[t];o instanceof b||"Optional"===o.ngMetadataName||o===b?n|=S.Optional:o instanceof y||"SkipSelf"===o.ngMetadataName||o===y?n|=S.SkipSelf:o instanceof v||"Self"===o.ngMetadataName||o===v?n|=S.Self:e=o instanceof m||o===m?o.token:o}t.push(he(e,n))}else t.push(he(i))}return t}class be{get(e,t=oe){if(t===oe){const t=new Error(`NullInjectorError: No provider for ${N(e)}!`);throw t.name="NullInjectorError",t}return t}}class ve{}class ye{}function _e(e,t){for(let n=0;n<e.length;n++)t.push(e[n])}function Ce(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),Ce(i,t)):t!==e&&t.push(i)}return t}function Se(e,t){e.forEach(e=>Array.isArray(e)?Se(e,t):t(e))}function Oe(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Te(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function we(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function ke(e,t,n){let i=Ee(e,t);return i>=0?e[1|i]=n:(i=~i,function(e,t,n,i){let o=e.length;if(o==t)e.push(n,i);else if(1===o)e.push(i,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function Ae(e,t){const n=Ee(e,t);if(n>=0)return e[1|n]}function Ee(e,t){return function(e,t,n){let i=0,o=e.length>>1;for(;o!==i;){const n=i+(o-i>>1),r=e[n<<1];if(t===r)return n<<1;r>t?o=n:i=n+1}return~(o<<1)}(e,t)}const Me=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),Pe=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),De={},xe=[];let Ie=0;function Le(e){return c(()=>{const t=e.type,n=t.prototype,i={},o={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===Me.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||xe,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Pe.Emulated,id:"c",styles:e.styles||xe,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,s=e.features,a=e.pipes;return o.id+=Ie++,o.inputs=Ue(e.inputs,i),o.outputs=Ue(e.outputs),s&&s.forEach(e=>e(o)),o.directiveDefs=r?()=>("function"==typeof r?r():r).map(Ne):null,o.pipeDefs=a?()=>("function"==typeof a?a():a).map(je):null,o})}function Re(e,t,n){const i=e.\u0275cmp;i.directiveDefs=()=>t.map(Ne),i.pipeDefs=()=>n.map(je)}function Ne(e){return Ve(e)||Ze(e)}function je(e){return $e(e)}const Be={};function Fe(e){const t={type:e.type,bootstrap:e.bootstrap||xe,declarations:e.declarations||xe,imports:e.imports||xe,exports:e.exports||xe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&c(()=>{Be[e.id]=e.type}),t}function He(e,t){return c(()=>{const n=Ke(e,!0);n.declarations=t.declarations||xe,n.imports=t.imports||xe,n.exports=t.exports||xe})}function Ue(e,t){if(null==e)return De;const n={};for(const i in e)if(e.hasOwnProperty(i)){let o=e[i],r=o;Array.isArray(o)&&(r=o[1],o=o[0]),n[o]=i,t&&(t[o]=r)}return n}const Ye=Le;function Ge(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ve(e){return e[z]||null}function Ze(e){return e[Q]||null}function $e(e){return e[X]||null}function We(e,t){return e.hasOwnProperty(ee)?e[ee]:null}function Ke(e,t){const n=e[q]||null;if(!n&&!0===t)throw new Error(`Type ${N(e)} does not have '\u0275mod' property.`);return n}function ze(e){return Array.isArray(e)&&"object"==typeof e[1]}function Qe(e){return Array.isArray(e)&&!0===e[1]}function Xe(e){return 0!=(8&e.flags)}function qe(e){return 2==(2&e.flags)}function Je(e){return 1==(1&e.flags)}function et(e){return null!==e.template}function tt(e){return 0!=(512&e[2])}let nt=void 0;function it(e){nt=e}function ot(){return void 0!==nt?nt:"undefined"!=typeof document?document:void 0}function rt(e){return!!e.listen}const st={createRenderer:(e,t)=>ot()};function at(e){for(;Array.isArray(e);)e=e[0];return e}function ct(e,t){return at(t[e+20])}function lt(e,t){return at(t[e.index])}function ut(e,t){return e.data[t+20]}function dt(e,t){return e[t+20]}function ht(e,t){const n=t[e];return ze(n)?n:n[0]}function pt(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function gt(e){return 4==(4&e[2])}function ft(e){return 128==(128&e[2])}function mt(e,t){return null===e||null==t?null:e[t]}function bt(e){e[18]=0}function vt(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const yt={lFrame:Zt(null),bindingsEnabled:!0,checkNoChangesMode:!1};function _t(){return yt.bindingsEnabled}function Ct(){yt.bindingsEnabled=!0}function St(){yt.bindingsEnabled=!1}function Ot(){return yt.lFrame.lView}function Tt(){return yt.lFrame.tView}function wt(e){yt.lFrame.contextLView=e}function kt(){return yt.lFrame.previousOrParentTNode}function At(e,t){yt.lFrame.previousOrParentTNode=e,yt.lFrame.isParent=t}function Et(){return yt.lFrame.isParent}function Mt(){yt.lFrame.isParent=!1}function Pt(){return yt.checkNoChangesMode}function Dt(e){yt.checkNoChangesMode=e}function xt(){const e=yt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function It(){return yt.lFrame.bindingIndex}function Lt(e){return yt.lFrame.bindingIndex=e}function Rt(){return yt.lFrame.bindingIndex++}function Nt(e){const t=yt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function jt(e,t){const n=yt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Bt(t)}function Bt(e){yt.lFrame.currentDirectiveIndex=e}function Ft(e){const t=yt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Ht(){return yt.lFrame.currentQueryIndex}function Ut(e){yt.lFrame.currentQueryIndex=e}function Yt(e,t){const n=Vt();yt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function Gt(e,t){const n=Vt(),i=e[1];yt.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex}function Vt(){const e=yt.lFrame,t=null===e?null:e.child;return null===t?Zt(e):t}function Zt(e){const t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function $t(){const e=yt.lFrame;return yt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}const Wt=$t;function Kt(){const e=$t();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function zt(){return yt.lFrame.selectedIndex}function Qt(e){yt.lFrame.selectedIndex=e}function Xt(){const e=yt.lFrame;return ut(e.tView,e.selectedIndex)}function qt(){yt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Jt(){yt.lFrame.currentNamespace="http://www.w3.org/1998/MathML/"}function en(){yt.lFrame.currentNamespace=null}function tn(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const t=e.data[n];t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked)),t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked)),null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}}function nn(e,t,n){sn(e,t,3,n)}function on(e,t,n,i){(3&e[2])===n&&sn(e,t,n,i)}function rn(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function sn(e,t,n,i){const o=null!=i?i:-1;let r=0;for(let s=void 0!==i?65535&e[18]:0;s<t.length;s++)if("number"==typeof t[s+1]){if(r=t[s],null!=i&&r>=i)break}else t[s]<0&&(e[18]+=65536),(r<o||-1==o)&&(an(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function an(e,t,n,i){const o=n[i]<0,r=n[i+1],s=e[o?-n[i]:n[i]];o?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,r.call(s)):r.call(s)}class cn{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function ln(e,t,n){const i=rt(e);let o=0;for(;o<n.length;){const r=n[o];if("number"==typeof r){if(0!==r)break;o++;const s=n[o++],a=n[o++],c=n[o++];i?e.setAttribute(t,a,c,s):t.setAttributeNS(s,a,c)}else{const s=r,a=n[++o];dn(s)?i&&e.setProperty(t,s,a):i?e.setAttribute(t,s,a):t.setAttribute(s,a),o++}}return o}function un(e){return 3===e||4===e||6===e}function dn(e){return 64===e.charCodeAt(0)}function hn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const o=t[i];"number"==typeof o?n=o:0===n||pn(e,n,o,null,-1===n||2===n?t[++i]:null)}}return e}function pn(e,t,n,i,o){let r=0,s=e.length;if(-1===t)s=-1;else for(;r<e.length;){const n=e[r++];if("number"==typeof n){if(n===t){s=-1;break}if(n>t){s=r-1;break}}}for(;r<e.length;){const t=e[r];if("number"==typeof t)break;if(t===n){if(null===i)return void(null!==o&&(e[r+1]=o));if(i===e[r+1])return void(e[r+2]=o)}r++,null!==i&&r++,null!==o&&r++}-1!==s&&(e.splice(s,0,t),r=s+1),e.splice(r++,0,n),null!==i&&e.splice(r++,0,i),null!==o&&e.splice(r++,0,o)}function gn(e){return-1!==e}function fn(e){return 32767&e}function mn(e){return e>>16}function bn(e,t){let n=mn(e),i=t;for(;n>0;)i=i[15],n--;return i}function vn(e){return"string"==typeof e?e:null==e?"":""+e}function yn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():vn(e)}const _n=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($))();function Cn(e){return{name:"window",target:e.ownerDocument.defaultView}}function Sn(e){return{name:"document",target:e.ownerDocument}}function On(e){return{name:"body",target:e.ownerDocument.body}}function Tn(e){return e instanceof Function?e():e}let wn=!0;function kn(e){const t=wn;return wn=e,t}let An=0;function En(e,t){const n=Pn(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,Mn(i.data,e),Mn(t,null),Mn(i.blueprint,null));const o=Dn(e,t),r=e.injectorIndex;if(gn(o)){const e=fn(o),n=bn(o,t),i=n[1].data;for(let o=0;o<8;o++)t[r+o]=n[e+o]|i[e+o]}return t[r+8]=o,r}function Mn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Pn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Dn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=t[6],i=1;for(;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function xn(e,t,n){!function(e,t,n){let i="string"!=typeof n?n[te]:n.charCodeAt(0)||0;null==i&&(i=n[te]=An++);const o=255&i,r=1<<o,s=64&o,a=32&o,c=t.data;128&o?s?a?c[e+7]|=r:c[e+6]|=r:a?c[e+5]|=r:c[e+4]|=r:s?a?c[e+3]|=r:c[e+2]|=r:a?c[e+1]|=r:c[e]|=r}(e,t,n)}function In(e,t,n,i=S.Default,o){if(null!==e){const o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e[te];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){Yt(t,e);try{const e=o();if(null!=e||i&S.Optional)return e;throw new Error(`No provider for ${yn(n)}!`)}finally{Wt()}}else if("number"==typeof o){if(-1===o)return new Hn(e,t);let r=null,s=Pn(e,t),a=-1,c=i&S.Host?t[16][6]:null;for((-1===s||i&S.SkipSelf)&&(a=-1===s?Dn(e,t):t[s+8],Fn(i,!1)?(r=t[1],s=fn(a),t=bn(a,t)):s=-1);-1!==s;){a=t[s+8];const e=t[1];if(Bn(o,s,e.data)){const e=Rn(s,t,n,r,i,c);if(e!==Ln)return e}Fn(i,t[1].data[s+8]===c)&&Bn(o,s,t)?(r=e,s=fn(a),t=bn(a,t)):s=-1}}}if(i&S.Optional&&void 0===o&&(o=null),0==(i&(S.Self|S.Host))){const e=t[9],r=ue(void 0);try{return e?e.get(n,o,i&S.Optional):fe(n,o,i&S.Optional)}finally{ue(r)}}if(i&S.Optional)return o;throw new Error(`NodeInjector: NOT_FOUND [${yn(n)}]`)}const Ln={};function Rn(e,t,n,i,o,r){const s=t[1],a=s.data[e+8],c=Nn(a,s,n,null==i?qe(a)&&wn:i!=s&&3===a.type,o&S.Host&&r===a);return null!==c?jn(t,s,c,a):Ln}function Nn(e,t,n,i,o){const r=e.providerIndexes,s=t.data,a=65535&r,c=e.directiveStart,l=r>>16,u=o?a+l:e.directiveEnd;for(let d=i?a:a+l;d<u;d++){const e=s[d];if(d<c&&n===e||d>=c&&e.type===n)return d}if(o){const e=s[c];if(e&&et(e)&&e.type===n)return c}return null}function jn(e,t,n,i){let o=e[n];const r=t.data;if(o instanceof cn){const s=o;if(s.resolving)throw new Error("Circular dep for "+yn(r[n]));const a=kn(s.canSeeViewProviders);let c;s.resolving=!0,s.injectImpl&&(c=ue(s.injectImpl)),Yt(e,i);try{o=e[n]=s.factory(void 0,r,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){const{onChanges:i,onInit:o,doCheck:r}=t;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i)),o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,o),r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r))}(n,r[n],t)}finally{s.injectImpl&&ue(c),kn(a),s.resolving=!1,Wt()}}return o}function Bn(e,t,n){const i=64&e,o=32&e;let r;return r=128&e?i?o?n[t+7]:n[t+6]:o?n[t+5]:n[t+4]:i?o?n[t+3]:n[t+2]:o?n[t+1]:n[t],!!(r&1<<e)}function Fn(e,t){return!(e&S.Self||e&S.Host&&t)}class Hn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return In(this._tNode,this._lView,e,void 0,t)}}function Un(e){const t=e;if(U(e))return()=>{const e=Un(H(t));return e?e():null};let n=We(t);if(null===n){const e=P(t);n=e&&e.factory}return n||null}function Yn(e){return c(()=>{const t=Object.getPrototypeOf(e.prototype).constructor,n=t[ee]||Un(t);return null!==n?n:e=>new e})}function Gn(e){return e.ngDebugContext}function Vn(e){return e.ngOriginalError}function Zn(e,...t){e.error(...t)}class $n{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||Zn}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?Gn(e)?Gn(e):this._findContext(Vn(e)):null}_findOriginalError(e){let t=Vn(e);for(;t&&Vn(t);)t=Vn(t);return t}}class Wn{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Kn extends Wn{getTypeName(){return"HTML"}}class zn extends Wn{getTypeName(){return"Style"}}class Qn extends Wn{getTypeName(){return"Script"}}class Xn extends Wn{getTypeName(){return"URL"}}class qn extends Wn{getTypeName(){return"ResourceURL"}}function Jn(e){return e instanceof Wn?e.changingThisBreaksApplicationSecurity:e}function ei(e,t){const n=ti(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===t}function ti(e){return e instanceof Wn&&e.getTypeName()||null}function ni(e){return new Kn(e)}function ii(e){return new zn(e)}function oi(e){return new Qn(e)}function ri(e){return new Xn(e)}function si(e){return new qn(e)}let ai=!0,ci=!1;function li(){return ci=!0,ai}function ui(){if(ci)throw new Error("Cannot enable prod mode after platform setup.");ai=!1}class di{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let t=this.inertDocument.body;if(null==t){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),t=this.inertDocument.createElement("body"),e.appendChild(t)}t.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!t.querySelector||t.querySelector("svg")?(t.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=t.querySelector&&t.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(i){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;const n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const n=t.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const hi=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,pi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function gi(e){return(e=String(e)).match(hi)||e.match(pi)?e:(li()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function fi(e){return(e=String(e)).split(",").map(e=>gi(e.trim())).join(", ")}function mi(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function bi(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const vi=mi("area,br,col,hr,img,wbr"),yi=mi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_i=mi("rp,rt"),Ci=bi(_i,yi),Si=bi(vi,bi(yi,mi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bi(_i,mi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ci),Oi=mi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ti=mi("srcset"),wi=bi(Oi,Ti,mi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ki=mi("script,style,template");class Ai{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Si.hasOwnProperty(t))return this.sanitizedSomething=!0,!ki.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,o=t.toLowerCase();if(!wi.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let r=e.value;Oi[o]&&(r=gi(r)),Ti[o]&&(r=fi(r)),this.buf.push(" ",t,'="',Pi(r),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Si.hasOwnProperty(t)&&!vi.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Pi(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}const Ei=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mi=/([^\#-~ |!])/g;function Pi(e){return e.replace(/&/g,"&amp;").replace(Ei,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Mi,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Di;function xi(e,t){let n=null;try{Di=Di||new di(e);let i=t?String(t):"";n=Di.getInertBodyElement(i);let o=5,r=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,i=r,r=n.innerHTML,n=Di.getInertBodyElement(i)}while(i!==r);const s=new Ai,a=s.sanitizeChildren(Ii(n)||n);return li()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=Ii(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Ii(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const Li=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),Ri=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ni=/^url\(([^)]+)\)$/;function ji(e){if(!(e=String(e).trim()))return"";const t=e.match(Ni);return t&&gi(t[1])===t[1]||e.match(Ri)&&function(e){let t=!0,n=!0;for(let i=0;i<e.length;i++){const o=e.charAt(i);"'"===o&&n?t=!t:'"'===o&&t&&(n=!n)}return t&&n}(e)?e:(li()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}function Bi(e){const t=$i();return t?t.sanitize(Li.HTML,e)||"":ei(e,"HTML")?Jn(e):xi(ot(),vn(e))}function Fi(e){const t=$i();return t?t.sanitize(Li.STYLE,e)||"":ei(e,"Style")?Jn(e):ji(vn(e))}function Hi(e){const t=$i();return t?t.sanitize(Li.URL,e)||"":ei(e,"URL")?Jn(e):gi(vn(e))}function Ui(e){const t=$i();if(t)return t.sanitize(Li.RESOURCE_URL,e)||"";if(ei(e,"ResourceURL"))return Jn(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function Yi(e){const t=$i();if(t)return t.sanitize(Li.SCRIPT,e)||"";if(ei(e,"Script"))return Jn(e);throw new Error("unsafe value used in a script context")}function Gi(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Ui:Hi}(t,n)(e)}const Vi=function(e,t,n){if(void 0===t&&void 0===n)return Fi(e);let i=!0;return 1&(n=n||3)&&(i=Zi(e)),2&n?i?Fi(t):Jn(t):i};function Zi(e){return"background-image"===e||"backgroundImage"===e||"background"===e||"border-image"===e||"borderImage"===e||"border-image-source"===e||"borderImageSource"===e||"filter"===e||"list-style"===e||"listStyle"===e||"list-style-image"===e||"listStyleImage"===e||"clip-path"===e||"clipPath"===e}function $i(){const e=Ot();return e&&e[12]}function Wi(e,t){e.__ngContext__=t}function Ki(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function zi(){throw new Error("Cannot mix multi providers and regular providers")}function Qi(e,t,n){let i=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const n=t.length;if(o+n===i||e.charCodeAt(o+n)<=32)return o}n=o+1}}function Xi(e,t,n){let i=0;for(;i<e.length;){let o=e[i++];if(n&&"class"===o){if(o=e[i],-1!==Qi(o.toLowerCase(),t,0))return!0}else if(1===o){for(;i<e.length&&"string"==typeof(o=e[i++]);)if(o.toLowerCase()===t)return!0;return!1}}return!1}function qi(e){return 0===e.type&&"ng-template"!==e.tagName}function Ji(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function eo(e,t,n){let i=4;const o=e.attrs||[],r=function(e){for(let t=0;t<e.length;t++)if(un(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!Ji(e,c,n)||""===c&&1===t.length){if(to(i))return!1;s=!0}}else{const l=8&i?c:t[++a];if(8&i&&null!==e.attrs){if(!Xi(e.attrs,l,n)){if(to(i))return!1;s=!0}continue}const u=no(8&i?"class":c,o,qi(e),n);if(-1===u){if(to(i))return!1;s=!0;continue}if(""!==l){let e;e=u>r?"":o[u+1].toLowerCase();const t=8&i?e:null;if(t&&-1!==Qi(t,l,0)||2&i&&l!==e){if(to(i))return!1;s=!0}}}}else{if(!s&&!to(i)&&!to(c))return!1;if(s&&to(c))continue;s=!1,i=c|1&i}}return to(i)||s}function to(e){return 0==(1&e)}function no(e,t,n,i){if(null===t)return-1;let o=0;if(i||!n){let n=!1;for(;o<t.length;){const i=t[o];if(i===e)return o;if(3===i||6===i)n=!0;else{if(1===i||2===i){let e=t[++o];for(;"string"==typeof e;)e=t[++o];continue}if(4===i)break;if(0===i){o+=4;continue}}o+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function io(e,t,n=!1){for(let i=0;i<t.length;i++)if(eo(e,t[i],n))return!0;return!1}function oo(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let t=0;t<e.length;t++)if(e[t]!==i[t])continue e;return!0}}return!1}function ro(e,t){return e?":not("+t.trim()+")":t}function so(e){let t=e[0],n=1,i=2,o="",r=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&i){const t=e[++n];o+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&i?o+="."+s:4&i&&(o+=" "+s);else""===o||to(s)||(t+=ro(r,o),o=""),i=s,r=r||!to(i);n++}return""!==o&&(t+=ro(r,o)),t}const ao={};function co(e){const t=e[3];return Qe(t)?t[3]:t}function lo(e){return ho(e[13])}function uo(e){return ho(e[4])}function ho(e){for(;null!==e&&!Qe(e);)e=e[4];return e}function po(e){fo(Tt(),Ot(),zt()+e,Pt())}function go(e){fo(Tt(),Ot(),e,Pt())}function fo(e,t,n,i){if(!i)if(3==(3&t[2])){const i=e.preOrderCheckHooks;null!==i&&nn(t,i,n)}else{const i=e.preOrderHooks;null!==i&&on(t,i,0,n)}Qt(n)}const mo={marker:"element"},bo={marker:"comment"};function vo(e,t){return e<<17|t<<2}function yo(e){return e>>17&32767}function _o(e){return 2|e}function Co(e){return(131068&e)>>2}function So(e,t){return-131069&e|t<<2}function Oo(e){return 1|e}function To(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const o=n[i],r=n[i+1];if(-1!==r){const n=e.data[r];Ut(o),n.contentQueries(2,t[r],r)}}}function wo(e,t,n){return rt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function ko(e,t,n,i,o,r,s,a,c,l){const u=t.blueprint.slice();return u[0]=o,u[2]=140|i,bt(u),u[3]=u[15]=e,u[8]=n,u[10]=s||e&&e[10],u[11]=a||e&&e[11],u[12]=c||e&&e[12]||null,u[9]=l||e&&e[9]||null,u[6]=r,u[16]=2==t.type?e[16]:u,u}function Ao(e,t,n,i,o,r){const s=n+20,a=e.data[s]||function(e,t,n,i,o,r){const s=kt(),a=Et(),c=a?s:s&&s.parent,l=e.data[n]=jo(0,c&&c!==t?c:null,i,n,o,r);return null===e.firstChild&&(e.firstChild=l),s&&(!a||null!=s.child||null===l.parent&&2!==s.type?a||(s.next=l):s.child=l),l}(e,t,s,i,o,r);return At(a,!0),a}function Eo(e,t,n){Gt(t,t[6]);try{const i=e.viewQuery;null!==i&&sr(1,i,n);const o=e.template;null!==o&&Do(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&To(e,t),e.staticViewQueries&&sr(2,e.viewQuery,n);const r=e.components;null!==r&&function(e,t){for(let n=0;n<t.length;n++)tr(e,t[n])}(t,r)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),i}finally{t[2]&=-5,Kt()}}function Mo(e,t,n,i){const o=t[2];if(256==(256&o))return;Gt(t,t[6]);const r=Pt();try{bt(t),Lt(e.bindingStartIndex),null!==n&&Do(e,t,n,2,i);const s=3==(3&o);if(!r)if(s){const n=e.preOrderCheckHooks;null!==n&&nn(t,n,null)}else{const n=e.preOrderHooks;null!==n&&on(t,n,0,null),rn(t,0)}if(function(e){for(let t=lo(e);null!==t;t=uo(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],i=n[3];0==(1024&n[2])&&vt(i,1),n[2]|=1024}}}(t),function(e){for(let t=lo(e);null!==t;t=uo(t))for(let e=10;e<t.length;e++){const n=t[e],i=n[1];ft(n)&&Mo(i,n,i.template,n[8])}}(t),null!==e.contentQueries&&To(e,t),!r)if(s){const n=e.contentCheckHooks;null!==n&&nn(t,n)}else{const n=e.contentHooks;null!==n&&on(t,n,1),rn(t,1)}!function(e,t){try{const n=e.expandoInstructions;if(null!==n){let i=e.expandoStartIndex,o=-1,r=-1;for(let e=0;e<n.length;e++){const s=n[e];"number"==typeof s?s<=0?(r=0-s,Qt(r),i+=9+n[++e],o=i):i+=s:(null!==s&&(jt(i,o),s(2,t[o])),o++)}}}finally{Qt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)er(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&sr(2,c,i),!r)if(s){const n=e.viewCheckHooks;null!==n&&nn(t,n)}else{const n=e.viewHooks;null!==n&&on(t,n,2),rn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,vt(t[3],-1))}finally{Kt()}}function Po(e,t,n,i){const o=t[10],r=!Pt(),s=gt(t);try{r&&!s&&o.begin&&o.begin(),s&&Eo(e,t,i),Mo(e,t,n,i)}finally{r&&!s&&o.end&&o.end()}}function Do(e,t,n,i,o){const r=zt();try{Qt(-1),2&i&&t.length>20&&fo(e,t,0,Pt()),n(i,o)}finally{Qt(r)}}function xo(e,t,n){if(Xe(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const t=e.data[o];t.contentQueries&&t.contentQueries(1,n[o],o)}}}function Io(e,t,n){_t()&&(function(e,t,n,i){const o=n.directiveStart,r=n.directiveEnd;e.firstCreatePass||En(n,t),Wi(i,t);const s=n.initialInputs;for(let a=o;a<r;a++){const i=e.data[a],r=et(i);r&&zo(t,n,i);const c=jn(t,e,a,n);Wi(c,t),null!==s&&Xo(0,a-o,c,i,0,s),r&&(ht(n.index,t)[8]=c)}}(e,t,n,lt(n,t)),128==(128&n.flags)&&function(e,t,n){const i=n.directiveStart,o=n.directiveEnd,r=e.expandoInstructions,s=e.firstCreatePass,a=n.index-20,c=yt.lFrame.currentDirectiveIndex;try{Qt(a);for(let n=i;n<o;n++){const i=e.data[n],o=t[n];Bt(n),null!==i.hostBindings||0!==i.hostVars||null!==i.hostAttrs?Go(i,o):s&&r.push(null)}}finally{Qt(-1),Bt(c)}}(e,t,n))}function Lo(e,t,n=lt){const i=t.localNames;if(null!==i){let o=t.index+1;for(let r=0;r<i.length;r+=2){const s=i[r+1],a=-1===s?n(t,e):e[s];e[o++]=a}}}function Ro(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=No(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function No(e,t,n,i,o,r,s,a,c,l){const u=20+i,d=u+o,h=function(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:ao);return n}(u,d);return h[1]={type:e,id:t,blueprint:h,template:n,queries:null,viewQuery:a,node:null,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:l,incompleteFirstPass:!1}}function jo(e,t,n,i,o,r){return{type:n,index:i,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:o,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Bo(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const o=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,o):n[i]=[t,o]}return n}function Fo(e,t,n,i,o,r,s,a){const c=lt(t,n);let l,u=t.inputs;var d;!a&&null!=u&&(l=u[i])?(hr(e,n,l,i,o),qe(t)&&function(e,t){const n=ht(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(i="class"===(d=i)?"className":"for"===d?"htmlFor":"formaction"===d?"formAction":"innerHtml"===d?"innerHTML":"readonly"===d?"readOnly":"tabindex"===d?"tabIndex":d,o=null!=s?s(o,t.tagName||"",i):o,rt(r)?r.setProperty(c,i,o):dn(i)||(c.setProperty?c.setProperty(i,o):c[i]=o))}function Ho(e,t,n,i){let o=!1;if(_t()){const r=function(e,t,n){const i=e.directiveRegistry;let o=null;if(i)for(let r=0;r<i.length;r++){const s=i[r];io(n,s.selectors,!1)&&(o||(o=[]),xn(En(n,t),e,s.type),et(s)?(2&n.flags&&Ki(n),Zo(e,n),o.unshift(s)):o.push(s))}return o}(e,t,n),s=null===i?null:{"":-1};if(null!==r){let i=0;o=!0,Wo(n,e.data.length,r.length);for(let e=0;e<r.length;e++){const t=r[e];t.providersResolver&&t.providersResolver(t)}Vo(e,n,r.length);let a=!1,c=!1;for(let o=0;o<r.length;o++){const l=r[o];n.mergedAttrs=hn(n.mergedAttrs,l.hostAttrs),Ko(e,t,l),$o(e.data.length-1,l,s),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128),!a&&(l.onChanges||l.onInit||l.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),a=!0),c||!l.onChanges&&!l.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),c=!0),Uo(e,l),i+=l.hostVars}!function(e,t){const n=t.directiveEnd,i=e.data,o=t.attrs,r=[];let s=null,a=null;for(let c=t.directiveStart;c<n;c++){const e=i[c],n=e.inputs,l=null===o||qi(t)?null:qo(n,o);r.push(l),s=Bo(n,c,s),a=Bo(e.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=r,t.inputs=s,t.outputs=a}(e,n),Yo(e,t,i)}s&&function(e,t,n){if(t){const i=e.localNames=[];for(let e=0;e<t.length;e+=2){const o=n[t[e+1]];if(null==o)throw new Error(`Export of name '${t[e+1]}' not found!`);i.push(t[e],o)}}}(n,i,s)}return n.mergedAttrs=hn(n.mergedAttrs,n.attrs),o}function Uo(e,t){const n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function Yo(e,t,n){for(let i=0;i<n;i++)t.push(ao),e.blueprint.push(ao),e.data.push(null)}function Go(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Vo(e,t,n){const i=20-t.index,o=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(i,o,n)}function Zo(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function $o(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;et(t)&&(n[""]=e)}}function Wo(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ko(e,t,n){e.data.push(n);const i=n.factory||(n.factory=We(n.type)),o=new cn(i,et(n),null);e.blueprint.push(o),t.push(o)}function zo(e,t,n){const i=lt(t,e),o=Ro(n),r=e[10],s=nr(e,ko(e,o,null,n.onPush?64:16,i,t,r,r.createRenderer(i,n)));e[t.index]=s}function Qo(e,t,n,i,o,r){const s=lt(e,t),a=t[11];if(null==i)rt(a)?a.removeAttribute(s,n,r):s.removeAttribute(n);else{const t=null==o?vn(i):o(i,e.tagName||"",n);rt(a)?a.setAttribute(s,n,t,r):r?s.setAttributeNS(r,n,t):s.setAttribute(n,t)}}function Xo(e,t,n,i,o,r){const s=r[t];if(null!==s){const e=i.setInput;for(let t=0;t<s.length;){const o=s[t++],r=s[t++],a=s[t++];null!==e?i.setInput(n,a,o,r):n[r]=a}}}function qo(e,t){let n=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;e.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,e[o],t[i+1])),i+=2}else i+=2;else i+=4}return n}function Jo(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function er(e,t){const n=ht(t,e);if(ft(n)){const e=n[1];80&n[2]?Mo(e,n,e.template,n[8]):n[5]>0&&function e(t){for(let i=lo(t);null!==i;i=uo(i))for(let t=10;t<i.length;t++){const n=i[t];if(1024&n[2]){const e=n[1];Mo(e,n,e.template,n[8])}else n[5]>0&&e(n)}const n=t[1].components;if(null!==n)for(let i=0;i<n.length;i++){const o=ht(n[i],t);ft(o)&&o[5]>0&&e(o)}}(n)}}function tr(e,t){const n=ht(t,e),i=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n),Eo(i,n,n[8])}function nr(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function ir(e){for(;e;){e[2]|=64;const t=co(e);if(tt(e)&&!t)return e;e=t}return null}function or(e,t,n){const i=t[10];i.begin&&i.begin();try{Mo(e,t,e.template,n)}catch(o){throw dr(t,o),o}finally{i.end&&i.end()}}function rr(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],i=pt(n),o=i[1];Po(o,i,o.template,n)}}(e[8])}function sr(e,t,n){Ut(0),t(e,n)}const ar=(()=>Promise.resolve(null))();function cr(e){return e[7]||(e[7]=[])}function lr(e){return e.cleanup||(e.cleanup=[])}function ur(e,t,n){return(null===e||et(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function dr(e,t){const n=e[9],i=n?n.get($n,null):null;i&&i.handleError(t)}function hr(e,t,n,i,o){for(let r=0;r<n.length;){const s=n[r++],a=n[r++],c=t[s],l=e.data[s];null!==l.setInput?l.setInput(c,o,i,a):c[a]=o}}function pr(e,t,n){const i=ct(t,e),o=e[11];rt(o)?o.setValue(i,n):i.textContent=n}function gr(e,t){const n=t[3];return-1===e.index?Qe(n)?n:null:n}function fr(e,t){const n=gr(e,t);return n?Er(t[11],n[7]):null}function mr(e,t,n,i,o){if(null!=i){let r,s=!1;Qe(i)?r=i:ze(i)&&(s=!0,i=i[0]);const a=at(i);0===e&&null!==n?null==o?kr(t,n,a):wr(t,n,a,o||null):1===e&&null!==n?wr(t,n,a,o||null):2===e?xr(t,a,s):3===e&&t.destroyNode(a),null!=r&&function(e,t,n,i,o){const r=n[7];r!==at(n)&&mr(t,e,i,r,o);for(let s=10;s<n.length;s++){const o=n[s];Lr(o[1],o,e,t,i,r)}}(t,e,r,n,o)}}function br(e,t){return rt(t)?t.createText(e):t.createTextNode(e)}function vr(e,t,n,i){const o=fr(e.node,t);o&&Lr(e,t,t[11],n?1:2,o,i)}function yr(e,t){const n=e[9],i=n.indexOf(t);1024&t[2]&&vt(t[3],-1),n.splice(i,1)}function _r(e,t){if(e.length<=10)return;const n=10+t,i=e[n];if(i){const o=i[17];null!==o&&o!==e&&yr(o,i),t>0&&(e[n-1][4]=i[4]);const r=Te(e,10+t);vr(i[1],i,!1,null);const s=r[19];null!==s&&s.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Cr(e,t){if(!(256&t[2])){const n=t[11];rt(n)&&n.destroyNode&&Lr(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Or(e[1],e);for(;t;){let n=null;if(ze(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)ze(t)&&Or(t[1],t),t=Sr(t,e);null===t&&(t=e),ze(t)&&Or(t[1],t),n=t&&t[4]}t=n}}(t)}}function Sr(e,t){let n;return ze(e)&&(n=e[6])&&2===n.type?gr(n,e):e[3]===t?null:e[3]}function Or(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const e=t[n[i]];if(!(e instanceof cn)){const t=n[i+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2)t[n+1].call(e[t[n]]);else t.call(e)}}}(e,t),function(e,t){const n=e.cleanup;if(null!==n){const e=t[7];for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const o=n[i+1],r="function"==typeof o?o(t):at(t[o]),s=e[n[i+2]],a=n[i+3];"boolean"==typeof a?r.removeEventListener(n[i],s,a):a>=0?e[a]():e[-a].unsubscribe(),i+=2}else n[i].call(e[n[i+1]]);t[7]=null}}(e,t);const n=t[6];n&&3===n.type&&rt(t[11])&&t[11].destroy();const i=t[17];if(null!==i&&Qe(t[3])){i!==t[3]&&yr(i,t);const n=t[19];null!==n&&n.detachView(e)}}}function Tr(e,t,n){let i=t.parent;for(;null!=i&&(4===i.type||5===i.type);)i=(t=i).parent;if(null==i){const e=n[6];return 2===e.type?fr(e,n):n[0]}if(t&&5===t.type&&4&t.flags)return lt(t,n).parentNode;if(2&i.flags){const t=e.data,n=t[t[i.index].directiveStart].encapsulation;if(n!==Pe.ShadowDom&&n!==Pe.Native)return null}return lt(i,n)}function wr(e,t,n,i){rt(e)?e.insertBefore(t,n,i):t.insertBefore(n,i,!0)}function kr(e,t,n){rt(e)?e.appendChild(t,n):t.appendChild(n)}function Ar(e,t,n,i){null!==i?wr(e,t,n,i):kr(e,t,n)}function Er(e,t){return rt(e)?e.parentNode(t):t.parentNode}function Mr(e,t){if(2===e.type){const n=gr(e,t);return null===n?null:Dr(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?lt(e,t):null}function Pr(e,t,n,i){const o=Tr(e,i,t);if(null!=o){const e=t[11],r=Mr(i.parent||t[6],t);if(Array.isArray(n))for(let t=0;t<n.length;t++)Ar(e,o,n[t],r);else Ar(e,o,n,r)}}function Dr(e,t){const n=10+e+1;if(n<t.length){const e=t[n],i=e[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){const i=n.type;if(3===i)return lt(n,t);if(0===i)return Dr(-1,t[n.index]);if(4===i||5===i){const i=n.child;if(null!==i)return e(t,i);{const e=t[n.index];return Qe(e)?Dr(-1,e):at(e)}}{const i=t[16],o=i[6],r=co(i),s=o.projection[n.projection];return null!=s?e(r,s):e(t,n.next)}}return null}(e,i)}return t[7]}function xr(e,t,n){const i=Er(e,t);i&&function(e,t,n,i){rt(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}function Ir(e,t,n,i,o,r,s){for(;null!=n;){const a=i[n.index],c=n.type;s&&0===t&&(a&&Wi(at(a),i),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(Ir(e,t,n.child,i,o,r,!1),mr(t,e,o,a,r)):1===c?Nr(e,t,i,n,o,r):mr(t,e,o,a,r)),n=s?n.projectionNext:n.next}}function Lr(e,t,n,i,o,r){Ir(n,i,e.node.child,t,o,r,!1)}function Rr(e,t,n){Nr(t[11],0,t,n,Tr(e,n,t),Mr(n.parent||t[6],t))}function Nr(e,t,n,i,o,r){const s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)mr(t,e,o,a[c],r);else Ir(e,t,a,s[3],o,r,!0)}function jr(e,t,n){rt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Br(e,t,n){rt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}class Fr{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const e=this._lView;return null==e[0]?function e(t,n,i,o,r=!1){for(;null!==i;){const s=n[i.index];if(null!==s&&o.push(at(s)),Qe(s))for(let t=10;t<s.length;t++){const n=s[t],i=n[1].firstChild;null!==i&&e(n[1],n,i,o)}const a=i.type;if(4===a||5===a)e(t,n,i.child,o);else if(1===a){const t=n[16],r=t[6].projection[i.projection];if(Array.isArray(r))o.push(...r);else{const n=co(t);e(n[1],n,r,o,!0)}}i=r?i.projectionNext:i.next}return o}(e[1],e,e[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Cr(this._lView[1],this._lView)}onDestroy(e){var t,n,i;t=this._lView[1],i=e,cr(n=this._lView).push(i),t.firstCreatePass&&lr(t).push(n[7].length-1,null)}markForCheck(){ir(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){or(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Dt(!0);try{or(e,t,n)}finally{Dt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,Lr(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Hr extends Fr{constructor(e){super(e),this._view=e}detectChanges(){rr(this._view)}checkNoChanges(){!function(e){Dt(!0);try{rr(e)}finally{Dt(!1)}}(this._view)}get context(){return null}}let Ur,Yr,Gr;function Vr(e,t,n){return Ur||(Ur=class extends e{}),new Ur(lt(t,n))}function Zr(e,t,n,i){return Yr||(Yr=class extends e{constructor(e,t,n){super(),this._declarationView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=ko(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];const i=this._declarationView[19];return null!==i&&(n[19]=i.createEmbeddedView(t)),Eo(t,n,e),new Fr(n)}}),0===n.type?new Yr(i,n,Vr(t,n,i)):null}function $r(e,t,n,i){let o;Gr||(Gr=class extends e{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostView=n}get element(){return Vr(t,this._hostTNode,this._hostView)}get injector(){return new Hn(this._hostTNode,this._hostView)}get parentInjector(){const e=Dn(this._hostTNode,this._hostView),t=bn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){const e=n.parent.injectorIndex;let t=n.parent;for(;null!=t.parent&&e==t.parent.injectorIndex;)t=t.parent;return t}let i=mn(e),o=t,r=t[6];for(;i>1;)o=o[15],r=o[6],i--;return r}(e,this._hostView,this._hostTNode);return gn(e)&&null!=n?new Hn(n,t):new Hn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,n){const i=e.createEmbeddedView(t||{});return this.insert(i,n),i}createComponent(e,t,n,i,o){const r=n||this.parentInjector;if(!o&&null==e.ngModule&&r){const e=r.get(ve,null);e&&(o=e)}const s=e.create(r,i,void 0,o);return this.insert(s.hostView,t),s}insert(e,t){const n=e._lView,i=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Qe(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],i=new Gr(t,t[6],t[3]);i.detach(i.indexOf(e))}}const o=this._adjustIndex(t);return function(e,t,n,i){const o=10+i,r=n.length;i>0&&(n[o-1][4]=t),i<r-10?(t[4]=n[o],Oe(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,n,this._lContainer,o),vr(i,n,!0,Dr(o,this._lContainer)),e.attachToViewContainerRef(this),Oe(this._lContainer[8],o,e),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}indexOf(e){const t=this._lContainer[8];return null!==t?t.indexOf(e):-1}remove(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1);!function(e,t){const n=_r(e,t);n&&Cr(n[1],n)}(this._lContainer,t),Te(this._lContainer[8],t)}detach(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),n=_r(this._lContainer,t);return n&&null!=Te(this._lContainer[8],t)?new Fr(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const r=i[n.index];if(Qe(r))o=r;else{let e;if(4===n.type)e=at(r);else if(e=i[11].createComment(""),tt(i)){const t=i[11],o=lt(n,i);wr(t,Er(t,o),e,function(e,t){return rt(e)?e.nextSibling(t):t.nextSibling}(t,o))}else Pr(i[1],i,e,n);i[n.index]=o=Jo(r,i,e,n),nr(i,o)}return new Gr(o,n,i)}function Wr(e=!1){return function(e,t,n){if(!n&&qe(e)){const n=ht(e.index,t);return new Fr(n,n)}return 3===e.type||0===e.type||4===e.type||5===e.type?new Fr(t[16],t):null}(kt(),Ot(),e)}let Kr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>zr(),e})();const zr=Wr,Qr=Function;function Xr(e){return"function"==typeof e}const qr=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Jr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,es=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,ts=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class ns{constructor(e){this._reflect=e||$.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=we(void 0===e?t.length:e.length);for(let i=0;i<n.length;i++)n[i]=void 0===e?[]:e[i]&&e[i]!=Object?[e[i]]:[],t&&null!=t[i]&&(n[i]=n[i].concat(t[i]));return n}_ownParameters(e,t){if(n=e.toString(),qr.test(n)||ts.test(n)||Jr.test(n)&&!es.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const i=e.ctorParameters;if(i&&i!==t.ctorParameters){const e="function"==typeof i?i():i,t=e.map(e=>e&&e.type),n=e.map(e=>e&&is(e.decorators));return this._zipTypesAndAnnotations(t,n)}const o=e.hasOwnProperty(u)&&e[u],r=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return r||o?this._zipTypesAndAnnotations(r,o):we(e.length)}parameters(e){if(!Xr(e))return[];const t=os(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?is(e.decorators):e.hasOwnProperty(l)?e[l]:null}annotations(e){if(!Xr(e))return[];const t=os(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=is(t[e])}),n}return e.hasOwnProperty(d)?e[d]:null}propMetadata(e){if(!Xr(e))return{};const t=os(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const i=this._ownPropMetadata(e,t);return i&&Object.keys(i).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...i[e]),n[e]=t}),n}ownPropMetadata(e){return Xr(e)&&this._ownPropMetadata(e,os(e))||{}}hasLifecycleHook(e,t){return e instanceof Qr&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:"./"+N(e)}resourceUri(e){return"./"+N(e)}resolveIdentifier(e,t,n,i){return i}resolveEnum(e,t){return e[t]}}function is(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function os(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}let rs=null;function ss(){return rs=rs||new ns}function as(e){return function(e){const t=K();return e.map(e=>function(e,t){const n={token:null,host:!1,optional:!1,resolved:e.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function i(t){n.resolved=e.R3ResolvedDependencyType.Token,n.token=t}if(Array.isArray(t)&&t.length>0)for(let o=0;o<t.length;o++){const r=t[o];if(void 0===r)continue;const s=Object.getPrototypeOf(r);if(r instanceof b||"Optional"===s.ngMetadataName)n.optional=!0;else if(r instanceof y||"SkipSelf"===s.ngMetadataName)n.skipSelf=!0;else if(r instanceof v||"Self"===s.ngMetadataName)n.self=!0;else if(r instanceof _||"Host"===s.ngMetadataName)n.host=!0;else if(r instanceof m)n.token=r.token;else if(r instanceof C){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");n.token=r.attributeName,n.resolved=e.R3ResolvedDependencyType.Attribute}else r===Kr?(n.token=r,n.resolved=e.R3ResolvedDependencyType.ChangeDetectorRef):i(r)}else void 0===t||Array.isArray(t)&&0===t.length?(n.token=void 0,n.resolved=W.Invalid):i(t);return n}(t,e))}(ss().parameters(e))}const cs=new ne("Set Injector scope."),ls={},us={},ds=[];let hs=void 0;function ps(){return void 0===hs&&(hs=new be),hs}function gs(e,t=null,n=null,i){return new fs(e,n,t||ps(),i)}class fs{constructor(e,t,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];t&&Se(t,n=>this.processProvider(n,e,t)),Se([e],e=>this.processInjectorType(e,[],o)),this.records.set(ie,vs(void 0,this));const r=this.records.get(cs);this.scope=null!=r?r.value:null,this.source=i||("object"==typeof e?null:N(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=oe,n=S.Default){this.assertNotDestroyed();const i=le(this);try{if(!(n&S.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(o=e)||"object"==typeof o&&o instanceof ne)&&E(e);t=n&&this.injectableDefInScope(n)?vs(ms(e),ls):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&S.Self?ps():this.parent).get(e,t=n&S.Optional&&t===oe?null:t)}catch(r){if("NullInjectorError"===r.name){if((r.ngTempTokenPath=r.ngTempTokenPath||[]).unshift(N(e)),i)throw r;return function(e,t,n,i){const o=e.ngTempTokenPath;throw t.__source&&o.unshift(t.__source),e.message=function(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let o=N(t);if(Array.isArray(t))o=t.map(N).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];e.push(n+":"+("string"==typeof i?JSON.stringify(i):N(i)))}o=`{${e.join(", ")}}`}return`${n}${i?"("+i+")":""}[${o}]: ${e.replace(re,"\n  ")}`}("\n"+e.message,o,n,i),e.ngTokenPath=o,e.ngTempTokenPath=null,e}(r,e,"R3InjectorError",this.source)}throw r}finally{le(i)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(N(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=H(e)))return!1;let i=P(e);const o=null==i&&e.ngModule||void 0,r=void 0===o?e:o,s=-1!==n.indexOf(r);if(void 0!==o&&(i=P(o)),null==i)return!1;if(null!=i.imports&&!s){let e;n.push(r);try{Se(i.imports,i=>{this.processInjectorType(i,t,n)&&(void 0===e&&(e=[]),e.push(i))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:i}=e[t];Se(i,e=>this.processProvider(e,n,i||ds))}}this.injectorDefTypes.add(r),this.records.set(r,vs(i.factory,ls));const a=i.providers;if(null!=a&&!s){const t=e;Se(a,e=>this.processProvider(e,t,a))}return void 0!==o&&void 0!==e.providers}processProvider(e,t,n){let i=_s(e=H(e))?e:H(e&&e.provide);const o=function(e,t,n){return ys(e)?vs(void 0,e.useValue):vs(bs(e,t,n),ls)}(e,t,n);if(_s(e)||!0!==e.multi){const e=this.records.get(i);e&&void 0!==e.multi&&zi()}else{let t=this.records.get(i);t?void 0===t.multi&&zi():(t=vs(void 0,ls,!0),t.factory=()=>me(t.multi),this.records.set(i,t)),i=e,t.multi.push(e)}this.records.set(i,o)}hydrate(e,t){var n;return t.value===us?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(N(e)):t.value===ls&&(t.value=us,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function ms(e){const t=E(e),n=null!==t?t.factory:We(e);if(null!==n)return n;const i=P(e);if(null!==i)return i.factory;if(e instanceof ne)throw new Error(`Token ${N(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=we(t,"?");throw new Error(`Can't resolve all parameters for ${N(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[D]||e[L]||e[I]&&e[I]());if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function bs(e,t,n){let i=void 0;if(_s(e)){const t=H(e);return We(t)||ms(t)}if(ys(e))i=()=>H(e.useValue);else if((o=e)&&o.useFactory)i=()=>e.useFactory(...me(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))i=()=>he(H(e.useExisting));else{const o=H(e&&(e.useClass||e.provide));if(o||function(e,t,n){let i="";throw e&&t&&(i=` - only instances of Provider and Type are allowed, got: [${t.map(e=>e==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${N(e)}'`+i)}(t,n,e),!function(e){return!!e.deps}(e))return We(o)||ms(o);i=()=>new o(...me(e.deps))}var o;return i}function vs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ys(e){return null!==e&&"object"==typeof e&&se in e}function _s(e){return"function"==typeof e}const Cs=function(e,t,n){return function(e,t=null,n=null,i){const o=gs(e,t,n,i);return o._resolveInjectorDefTypes(),o}({name:n},t,e,n)};let Ss=(()=>{class e{static create(e,t){return Array.isArray(e)?Cs(e,t,""):Cs(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=oe,e.NULL=new be,e.\u0275prov=w({token:e,providedIn:"any",factory:()=>he(ie)}),e.__NG_ELEMENT_ID__=-1,e})();const Os=new ne("AnalyzeForEntryComponents");let Ts=new Map;const ws=new Set;function ks(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function As(e){return"string"==typeof e?e:e.text()}function Es(e,t,n){let i=n?e.styles:null,o=n?e.classes:null,r=0;if(null!==t)for(let s=0;s<t.length;s++){const e=t[s];"number"==typeof e?r=e:1==r?o=j(o,e):2==r&&(i=j(i,e+": "+t[++s]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=o:e.classesWithoutHost=o}let Ms=null;function Ps(){if(!Ms){const e=$.Symbol;if(e&&e.iterator)Ms=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ms=n)}}}return Ms}function Ds(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}class xs{constructor(e){this.wrapped=e}static wrap(e){return new xs(e)}static unwrap(e){return xs.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof xs}}function Is(e){return!!Ls(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ps()in e)}function Ls(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Rs(e,t,n){return e[t]=n}function Ns(e,t){return e[t]}function js(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Bs(e,t,n,i){const o=js(e,t,n);return js(e,t+1,i)||o}function Fs(e,t,n,i,o){const r=Bs(e,t,n,i);return js(e,t+2,o)||r}function Hs(e,t,n,i,o,r){const s=Bs(e,t,n,i);return Bs(e,t+2,o,r)||s}function Us(e,t,n,i){const o=Ot();return js(o,Rt(),t)&&(Tt(),Qo(Xt(),o,e,t,n,i)),Us}function Ys(e,t){let n=!1,i=It();for(let r=1;r<t.length;r+=2)n=js(e,i++,t[r])||n;if(Lt(i),!n)return ao;let o=t[0];for(let r=1;r<t.length;r+=2)o+=vn(t[r])+t[r+1];return o}function Gs(e,t,n,i){return js(e,Rt(),n)?t+vn(n)+i:ao}function Vs(e,t,n,i,o,r){const s=Bs(e,It(),n,o);return Nt(2),s?t+vn(n)+i+vn(o)+r:ao}function Zs(e,t,n,i,o,r,s,a){const c=Fs(e,It(),n,o,s);return Nt(3),c?t+vn(n)+i+vn(o)+r+vn(s)+a:ao}function $s(e,t,n,i,o,r,s,a,c,l){const u=Hs(e,It(),n,o,s,c);return Nt(4),u?t+vn(n)+i+vn(o)+r+vn(s)+a+vn(c)+l:ao}function Ws(e,t,n,i,o,r,s,a,c,l,u,d){const h=It();let p=Hs(e,h,n,o,s,c);return p=js(e,h+4,u)||p,Nt(5),p?t+vn(n)+i+vn(o)+r+vn(s)+a+vn(c)+l+vn(u)+d:ao}function Ks(e,t,n,i,o,r,s,a,c,l,u,d,h,p){const g=It();let f=Hs(e,g,n,o,s,c);return f=Bs(e,g+4,u,h)||f,Nt(6),f?t+vn(n)+i+vn(o)+r+vn(s)+a+vn(c)+l+vn(u)+d+vn(h)+p:ao}function zs(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f){const m=It();let b=Hs(e,m,n,o,s,c);return b=Fs(e,m+4,u,h,g)||b,Nt(7),b?t+vn(n)+i+vn(o)+r+vn(s)+a+vn(c)+l+vn(u)+d+vn(h)+p+vn(g)+f:ao}function Qs(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m,b){const v=It();let y=Hs(e,v,n,o,s,c);return y=Hs(e,v+4,u,h,g,m)||y,Nt(8),y?t+vn(n)+i+vn(o)+r+vn(s)+a+vn(c)+l+vn(u)+d+vn(h)+p+vn(g)+f+vn(m)+b:ao}function Xs(e,t,n,i,o,r){const s=Ot(),a=Gs(s,t,n,i);return a!==ao&&Qo(Xt(),s,e,a,o,r),Xs}function qs(e,t,n,i,o,r,s,a){const c=Ot(),l=Vs(c,t,n,i,o,r);return l!==ao&&Qo(Xt(),c,e,l,s,a),qs}function Js(e,t,n,i,o,r,s,a,c,l){const u=Ot(),d=Zs(u,t,n,i,o,r,s,a);return d!==ao&&Qo(Xt(),u,e,d,c,l),Js}function ea(e,t,n,i,o,r,s,a,c,l,u,d){const h=Ot(),p=$s(h,t,n,i,o,r,s,a,c,l);return p!==ao&&Qo(Xt(),h,e,p,u,d),ea}function ta(e,t,n,i,o,r,s,a,c,l,u,d,h,p){const g=Ot(),f=Ws(g,t,n,i,o,r,s,a,c,l,u,d);return f!==ao&&Qo(Xt(),g,e,f,h,p),ta}function na(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f){const m=Ot(),b=Ks(m,t,n,i,o,r,s,a,c,l,u,d,h,p);return b!==ao&&Qo(Xt(),m,e,b,g,f),na}function ia(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m,b){const v=Ot(),y=zs(v,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f);return y!==ao&&Qo(Xt(),v,e,y,m,b),ia}function oa(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m,b,v,y){const _=Ot(),C=Qs(_,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m,b);return C!==ao&&Qo(Xt(),_,e,C,v,y),oa}function ra(e,t,n,i){const o=Ot(),r=Ys(o,t);return r!==ao&&Qo(Xt(),o,e,r,n,i),ra}function sa(e,t,n,i,o,r,s,a){const c=Ot(),l=Tt(),u=e+20,d=l.firstCreatePass?function(e,t,n,i,o,r,s,a,c){const l=t.consts,u=Ao(t,n[6],e,0,s||null,mt(l,a));Ho(t,n,u,mt(l,c)),tn(t,u);const d=u.tViews=No(2,-1,i,o,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l),h=jo(0,null,2,-1,null,null);return h.injectorIndex=u.injectorIndex,d.node=h,null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(e,l,c,t,n,i,o,r,s):l.data[u];At(d,!1);const h=c[11].createComment("");Pr(l,c,h,d),Wi(h,c),nr(c,c[u]=Jo(h,c,h,d)),Je(d)&&Io(l,c,d),null!=s&&Lo(c,d,a)}function aa(e){return dt(yt.lFrame.contextLView,e)}function ca(e,t=S.Default){const n=Ot();return null==n?he(e,t):In(kt(),n,H(e),t)}function la(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let i=0;for(;i<e;){const o=n[i];if(un(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<e&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(kt(),e)}function ua(){throw new Error("invalid")}function da(e,t,n){const i=Ot();return js(i,Rt(),t)&&Fo(Tt(),Xt(),i,e,t,i[11],n,!1),da}function ha(e,t,n,i,o){const r=o?"class":"style";hr(e,n,t.inputs[r],r,i)}function pa(e,t,n,i){const o=Ot(),r=Tt(),s=20+e,a=o[11],c=o[s]=wo(t,a,yt.lFrame.currentNamespace),l=r.firstCreatePass?function(e,t,n,i,o,r,s){const a=t.consts,c=mt(a,r),l=Ao(t,n[6],e,3,o,c);return Ho(t,n,l,mt(a,s)),null!==l.attrs&&Es(l,l.attrs,!1),null!==l.mergedAttrs&&Es(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(e,r,o,0,t,n,i):r.data[s];At(l,!0);const u=l.mergedAttrs;null!==u&&ln(a,c,u);const d=l.classes;null!==d&&Br(a,c,d);const h=l.styles;null!==h&&jr(a,c,h),Pr(r,o,c,l),0===yt.lFrame.elementDepthCount&&Wi(c,o),yt.lFrame.elementDepthCount++,Je(l)&&(Io(r,o,l),xo(r,l,o)),null!==i&&Lo(o,l)}function ga(){let e=kt();Et()?Mt():(e=e.parent,At(e,!1));const t=e;yt.lFrame.elementDepthCount--;const n=Tt();n.firstCreatePass&&(tn(n,e),Xe(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ha(n,t,Ot(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&ha(n,t,Ot(),t.stylesWithoutHost,!1)}function fa(e,t,n,i){pa(e,t,n,i),ga()}function ma(e,t,n){const i=Ot(),o=Tt(),r=e+20,s=o.firstCreatePass?function(e,t,n,i,o){const r=t.consts,s=mt(r,i),a=Ao(t,n[6],e,4,"ng-container",s);return null!==s&&Es(a,s,!0),Ho(t,n,a,mt(r,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(e,o,i,t,n):o.data[r];At(s,!0);const a=i[r]=i[11].createComment("");Pr(o,i,a,s),Wi(a,i),Je(s)&&(Io(o,i,s),xo(o,s,i)),null!=n&&Lo(i,s)}function ba(){let e=kt();const t=Tt();Et()?Mt():(e=e.parent,At(e,!1)),t.firstCreatePass&&(tn(t,e),Xe(e)&&t.queries.elementEnd(e))}function va(e,t,n){ma(e,t,n),ba()}function ya(){return Ot()}function _a(e){return!!e&&"function"==typeof e.then}function Ca(e){return!!e&&"function"==typeof e.subscribe}function Sa(e,t,n=!1,i){const o=Ot(),r=Tt(),s=kt();return Ta(r,o,o[11],s,e,t,n,i),Sa}function Oa(e,t,n=!1,i){const o=kt(),r=Ot(),s=Tt();return Ta(s,r,ur(Ft(s.data),o,r),o,e,t,n,i),Oa}function Ta(e,t,n,i,o,r,s=!1,a){const c=Je(i),l=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),u=cr(t);let d=!0;if(3===i.type){const h=lt(i,t),p=a?a(h):De,g=p.target||h,f=u.length,m=a?e=>a(at(e[i.index])).target:i.index;if(rt(n)){let s=null;if(!a&&c&&(s=function(e,t,n,i){const o=e.cleanup;if(null!=o)for(let r=0;r<o.length-1;r+=2){const e=o[r];if(e===n&&o[r+1]===i){const e=t[7],n=o[r+2];return e.length>n?e[n]:null}"string"==typeof e&&(r+=2)}return null}(e,t,o,i.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=r,s.__ngLastListenerFn__=r,d=!1;else{r=ka(i,t,r,!1);const e=n.listen(p.name||g,o,r);u.push(r,e),l&&l.push(o,m,f,f+1)}}else r=ka(i,t,r,!0),g.addEventListener(o,r,s),u.push(r),l&&l.push(o,m,f,s)}const h=i.outputs;let p;if(d&&null!==h&&(p=h[o])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(r),s=u.length;u.push(r,e),l&&l.push(o,i.index,s,-(s+1))}}}function wa(e,t,n){try{return!1!==t(n)}catch(i){return dr(e,i),!1}}function ka(e,t,n,i){return function o(r){if(r===Function)return n;const s=2&e.flags?ht(e.index,t):t;0==(32&t[2])&&ir(s);let a=wa(t,n,r),c=o.__ngNextListenerFn__;for(;c;)a=wa(t,c,r)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(r.preventDefault(),r.returnValue=!1),a}}function Aa(e=1){return function(e){return(yt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,yt.lFrame.contextLView))[8]}(e)}function Ea(e,t){let n=null;const i=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let o=0;o<t.length;o++){const r=t[o];if("*"!==r){if(null===i?io(e,r,!0):oo(i,r))return o}else n=o}return n}function Ma(e){const t=Ot()[16][6];if(!t.projection){const n=t.projection=we(e?e.length:1,null),i=n.slice();let o=t.child;for(;null!==o;){const t=e?Ea(o,e):0;null!==t&&(i[t]?i[t].projectionNext=o:n[t]=o,i[t]=o),o=o.next}}}let Pa=!1;function Da(e){Pa=e}function xa(e,t=0,n){const i=Ot(),o=Tt(),r=Ao(o,i[6],e,1,null,n||null);null===r.projection&&(r.projection=t),Mt(),Pa||Rr(o,i,r)}function Ia(e,t,n){return La(e,"",t,"",n),Ia}function La(e,t,n,i,o){const r=Ot(),s=Gs(r,t,n,i);return s!==ao&&Fo(Tt(),Xt(),r,e,s,r[11],o,!1),La}function Ra(e,t,n,i,o,r,s){const a=Ot(),c=Vs(a,t,n,i,o,r);return c!==ao&&Fo(Tt(),Xt(),a,e,c,a[11],s,!1),Ra}function Na(e,t,n,i,o,r,s,a,c){const l=Ot(),u=Zs(l,t,n,i,o,r,s,a);return u!==ao&&Fo(Tt(),Xt(),l,e,u,l[11],c,!1),Na}function ja(e,t,n,i,o,r,s,a,c,l,u){const d=Ot(),h=$s(d,t,n,i,o,r,s,a,c,l);return h!==ao&&Fo(Tt(),Xt(),d,e,h,d[11],u,!1),ja}function Ba(e,t,n,i,o,r,s,a,c,l,u,d,h){const p=Ot(),g=Ws(p,t,n,i,o,r,s,a,c,l,u,d);return g!==ao&&Fo(Tt(),Xt(),p,e,g,p[11],h,!1),Ba}function Fa(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g){const f=Ot(),m=Ks(f,t,n,i,o,r,s,a,c,l,u,d,h,p);return m!==ao&&Fo(Tt(),Xt(),f,e,m,f[11],g,!1),Fa}function Ha(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m){const b=Ot(),v=zs(b,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f);return v!==ao&&Fo(Tt(),Xt(),b,e,v,b[11],m,!1),Ha}function Ua(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m,b,v){const y=Ot(),_=Qs(y,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m,b);return _!==ao&&Fo(Tt(),Xt(),y,e,_,y[11],v,!1),Ua}function Ya(e,t,n){const i=Ot(),o=Ys(i,t);return o!==ao&&Fo(Tt(),Xt(),i,e,o,i[11],n,!1),Ya}const Ga=[];function Va(e,t,n,i,o){const r=e[n+1],s=null===t;let a=i?yo(r):Co(r),c=!1;for(;0!==a&&(!1===c||s);){const n=e[a+1];Za(e[a],t)&&(c=!0,e[a+1]=i?Oo(n):_o(n)),a=i?yo(n):Co(n)}c&&(e[n+1]=i?_o(r):Oo(r))}function Za(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ee(e,t)>=0}const $a={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Wa(e){return e.substring($a.key,$a.keyEnd)}function Ka(e){return e.substring($a.value,$a.valueEnd)}function za(e,t){const n=$a.textEnd;return n===t?-1:(t=$a.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,$a.key=t,n),qa(e,t,n))}function Qa(e,t){const n=$a.textEnd;let i=$a.key=qa(e,t,n);return n===i?-1:(i=$a.keyEnd=function(e,t,n){let i;for(;t<n&&(45===(i=e.charCodeAt(t))||95===i||(-33&i)>=65&&(-33&i)<=90);)t++;return t}(e,i,n),i=Ja(e,i,n),i=$a.value=qa(e,i,n),i=$a.valueEnd=function(e,t,n){let i=-1,o=-1,r=-1,s=t,a=s;for(;s<n;){const c=e.charCodeAt(s++);if(59===c)return a;34===c||39===c?a=s=ec(e,c,s,n):t===s-4&&85===r&&82===o&&76===i&&40===c?a=s=ec(e,41,s,n):c>32&&(a=s),r=o,o=i,i=-33&c}return a}(e,i,n),Ja(e,i,n))}function Xa(e){$a.key=0,$a.keyEnd=0,$a.value=0,$a.valueEnd=0,$a.textEnd=e.length}function qa(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Ja(e,t,n,i){return(t=qa(e,t,n))<n&&t++,t}function ec(e,t,n,i){let o=-1,r=n;for(;r<i;){const n=e.charCodeAt(r++);if(n==t&&92!==o)return r;o=92==n&&92===o?0:n}throw new Error}function tc(e){!function(e){yt.lFrame.currentSanitizer=e}(e)}function nc(e,t,n){return cc(e,t,n,!1),nc}function ic(e,t){return cc(e,t,null,!0),ic}function oc(e){lc(gc,rc,e,!1)}function rc(e,t){for(let n=function(e){return Xa(e),Qa(e,qa(e,0,$a.textEnd))}(t);n>=0;n=Qa(t,n))gc(e,Wa(t),Ka(t))}function sc(e){lc(ke,ac,e,!0)}function ac(e,t){for(let n=function(e){return Xa(e),za(e,qa(e,0,$a.textEnd))}(t);n>=0;n=za(t,n))ke(e,Wa(t),!0)}function cc(e,t,n,i){const o=Ot(),r=Tt(),s=Nt(2);if(r.firstUpdatePass&&dc(r,e,s,i),t!==ao&&js(o,s,t)){let a;null==n&&(a=function(){const e=yt.lFrame;return null===e?null:e.currentSanitizer}())&&(n=a),fc(r,r.data[zt()+20],o,o[11],e,o[s+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=N(Jn(e)))),e}(t,n),i,s)}}function lc(e,t,n,i){const o=Tt(),r=Nt(2);o.firstUpdatePass&&dc(o,null,r,i);const s=Ot();if(n!==ao&&js(s,r,n)){const a=o.data[zt()+20];if(vc(a,i)&&!uc(o,r)){let e=i?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(n=j(e,n||"")),ha(o,a,s,n,i)}else!function(e,t,n,i,o,r,s,a){o===ao&&(o=Ga);let c=0,l=0,u=0<o.length?o[0]:null,d=0<r.length?r[0]:null;for(;null!==u||null!==d;){const h=c<o.length?o[c+1]:void 0,p=l<r.length?r[l+1]:void 0;let g=null,f=void 0;u===d?(c+=2,l+=2,h!==p&&(g=d,f=p)):null===d||null!==u&&u<d?(c+=2,g=u):(l+=2,g=d,f=p),null!==g&&fc(e,t,n,i,g,f,s,a),u=c<o.length?o[c]:null,d=l<r.length?r[l]:null}}(o,a,s,s[11],s[r+1],s[r+1]=function(e,t,n){if(null==n||""===n)return Ga;const i=[],o=Jn(n);if(Array.isArray(o))for(let r=0;r<o.length;r++)e(i,o[r],!0);else if("object"==typeof o)for(const r in o)o.hasOwnProperty(r)&&e(i,r,o[r]);else"string"==typeof o&&t(i,o);return i}(e,t,n),i,r)}}function uc(e,t){return t>=e.expandoStartIndex}function dc(e,t,n,i){const o=e.data;if(null===o[n+1]){const r=o[zt()+20],s=uc(e,n);vc(r,i)&&null===t&&!s&&(t=!1),t=function(e,t,n,i){const o=Ft(e);let r=i?t.residualClasses:t.residualStyles;if(null===o)0===(i?t.classBindings:t.styleBindings)&&(n=pc(n=hc(null,e,t,n,i),t.attrs,i),r=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(n=hc(o,e,t,n,i),null===r){let n=function(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==Co(i))return e[yo(i)]}(e,t,i);void 0!==n&&Array.isArray(n)&&(n=hc(null,e,t,n[1],i),n=pc(n,t.attrs,i),function(e,t,n,i){e[yo(n?t.classBindings:t.styleBindings)]=i}(e,t,i,n))}else r=function(e,t,n){let i=void 0;const o=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<o;r++)i=pc(i,e[r].hostAttrs,n);return pc(i,t.attrs,n)}(e,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),n}(o,r,t,i),function(e,t,n,i,o,r){let s=r?t.classBindings:t.styleBindings,a=yo(s),c=Co(s);e[i]=n;let l,u=!1;if(Array.isArray(n)){const e=n;l=e[1],(null===l||Ee(e,l)>0)&&(u=!0)}else l=n;if(o)if(0!==c){const t=yo(e[a+1]);e[i+1]=vo(t,a),0!==t&&(e[t+1]=So(e[t+1],i)),e[a+1]=131071&e[a+1]|i<<17}else e[i+1]=vo(a,0),0!==a&&(e[a+1]=So(e[a+1],i)),a=i;else e[i+1]=vo(c,0),0===a?a=i:e[c+1]=So(e[c+1],i),c=i;u&&(e[i+1]=_o(e[i+1])),Va(e,l,i,!0),Va(e,l,i,!1),function(e,t,n,i,o){const r=o?e.residualClasses:e.residualStyles;null!=r&&"string"==typeof t&&Ee(r,t)>=0&&(n[i+1]=Oo(n[i+1]))}(t,l,e,i,r),s=vo(a,c),r?t.classBindings=s:t.styleBindings=s}(o,r,t,n,s,i)}}function hc(e,t,n,i,o){let r=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(r=t[a],i=pc(i,r.hostAttrs,o),r!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function pc(e,t,n){const i=n?1:2;let o=-1;if(null!==t)for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?o=s:o===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ke(e,s,!!n||t[++r]))}return void 0===e?null:e}function gc(e,t,n){Zi(t)&&(n=Fi(n)),ke(e,t,n)}function fc(e,t,n,i,o,r,s,a){if(3!==t.type)return;const c=e.data,l=c[a+1];bc(1==(1&l)?mc(c,t,n,o,Co(l),s):void 0)||(bc(r)||function(e){return 2==(2&e)}(l)&&(r=mc(c,null,n,o,a,s)),function(e,t,n,i,o){const r=rt(e);if(t)o?r?e.addClass(n,i):n.classList.add(i):r?e.removeClass(n,i):n.classList.remove(i);else{const t=-1==i.indexOf("-")?void 0:2;null==o?r?e.removeStyle(n,i,t):n.style.removeProperty(i):r?e.setStyle(n,i,o,t):n.style.setProperty(i,o)}}(i,s,ct(zt(),n),o,r))}function mc(e,t,n,i,o,r){const s=null===t;let a=void 0;for(;o>0;){const t=e[o],r=Array.isArray(t),c=r?t[1]:t,l=null===c;let u=n[o+1];u===ao&&(u=l?Ga:void 0);let d=l?Ae(u,i):c===i?u:void 0;if(r&&!bc(d)&&(d=Ae(t,i)),bc(d)&&(a=d,s))return a;const h=e[o+1];o=s?yo(h):Co(h)}if(null!==t){let e=r?t.residualClasses:t.residualStyles;null!=e&&(a=Ae(e,i))}return a}function bc(e){return void 0!==e}function vc(e,t){return 0!=(e.flags&(t?16:32))}function yc(e,t=""){const n=Ot(),i=Tt(),o=e+20,r=i.firstCreatePass?Ao(i,n[6],e,3,null,null):i.data[o],s=n[o]=br(t,n[11]);Pr(i,n,s,r),At(r,!1)}function _c(e){return Cc("",e,""),_c}function Cc(e,t,n){const i=Ot(),o=Gs(i,e,t,n);return o!==ao&&pr(i,zt(),o),Cc}function Sc(e,t,n,i,o){const r=Ot(),s=Vs(r,e,t,n,i,o);return s!==ao&&pr(r,zt(),s),Sc}function Oc(e,t,n,i,o,r,s){const a=Ot(),c=Zs(a,e,t,n,i,o,r,s);return c!==ao&&pr(a,zt(),c),Oc}function Tc(e,t,n,i,o,r,s,a,c){const l=Ot(),u=$s(l,e,t,n,i,o,r,s,a,c);return u!==ao&&pr(l,zt(),u),Tc}function wc(e,t,n,i,o,r,s,a,c,l,u){const d=Ot(),h=Ws(d,e,t,n,i,o,r,s,a,c,l,u);return h!==ao&&pr(d,zt(),h),wc}function kc(e,t,n,i,o,r,s,a,c,l,u,d,h){const p=Ot(),g=Ks(p,e,t,n,i,o,r,s,a,c,l,u,d,h);return g!==ao&&pr(p,zt(),g),kc}function Ac(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g){const f=Ot(),m=zs(f,e,t,n,i,o,r,s,a,c,l,u,d,h,p,g);return m!==ao&&pr(f,zt(),m),Ac}function Ec(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m){const b=Ot(),v=Qs(b,e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m);return v!==ao&&pr(b,zt(),v),Ec}function Mc(e){const t=Ot(),n=Ys(t,e);return n!==ao&&pr(t,zt(),n),Mc}function Pc(e,t,n){lc(ke,ac,Gs(Ot(),e,t,n),!0)}function Dc(e,t,n,i,o){lc(ke,ac,Vs(Ot(),e,t,n,i,o),!0)}function xc(e,t,n,i,o,r,s){lc(ke,ac,Zs(Ot(),e,t,n,i,o,r,s),!0)}function Ic(e,t,n,i,o,r,s,a,c){lc(ke,ac,$s(Ot(),e,t,n,i,o,r,s,a,c),!0)}function Lc(e,t,n,i,o,r,s,a,c,l,u){lc(ke,ac,Ws(Ot(),e,t,n,i,o,r,s,a,c,l,u),!0)}function Rc(e,t,n,i,o,r,s,a,c,l,u,d,h){lc(ke,ac,Ks(Ot(),e,t,n,i,o,r,s,a,c,l,u,d,h),!0)}function Nc(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g){lc(ke,ac,zs(Ot(),e,t,n,i,o,r,s,a,c,l,u,d,h,p,g),!0)}function jc(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m){lc(ke,ac,Qs(Ot(),e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m),!0)}function Bc(e){lc(ke,ac,Ys(Ot(),e),!0)}function Fc(e,t,n){oc(Gs(Ot(),e,t,n))}function Hc(e,t,n,i,o){oc(Vs(Ot(),e,t,n,i,o))}function Uc(e,t,n,i,o,r,s){oc(Zs(Ot(),e,t,n,i,o,r,s))}function Yc(e,t,n,i,o,r,s,a,c){oc($s(Ot(),e,t,n,i,o,r,s,a,c))}function Gc(e,t,n,i,o,r,s,a,c,l,u){oc(Ws(Ot(),e,t,n,i,o,r,s,a,c,l,u))}function Vc(e,t,n,i,o,r,s,a,c,l,u,d,h){oc(Ks(Ot(),e,t,n,i,o,r,s,a,c,l,u,d,h))}function Zc(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g){oc(zs(Ot(),e,t,n,i,o,r,s,a,c,l,u,d,h,p,g))}function $c(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m){oc(Qs(Ot(),e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m))}function Wc(e){oc(Ys(Ot(),e))}function Kc(e,t,n,i,o){return cc(e,Gs(Ot(),t,n,i),o,!1),Kc}function zc(e,t,n,i,o,r,s){return cc(e,Vs(Ot(),t,n,i,o,r),s,!1),zc}function Qc(e,t,n,i,o,r,s,a,c){return cc(e,Zs(Ot(),t,n,i,o,r,s,a),c,!1),Qc}function Xc(e,t,n,i,o,r,s,a,c,l,u){return cc(e,$s(Ot(),t,n,i,o,r,s,a,c,l),u,!1),Xc}function qc(e,t,n,i,o,r,s,a,c,l,u,d,h){return cc(e,Ws(Ot(),t,n,i,o,r,s,a,c,l,u,d),h,!1),qc}function Jc(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g){return cc(e,Ks(Ot(),t,n,i,o,r,s,a,c,l,u,d,h,p),g,!1),Jc}function el(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m){return cc(e,zs(Ot(),t,n,i,o,r,s,a,c,l,u,d,h,p,g,f),m,!1),el}function tl(e,t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m,b,v){return cc(e,Qs(Ot(),t,n,i,o,r,s,a,c,l,u,d,h,p,g,f,m,b),v,!1),tl}function nl(e,t,n){return cc(e,Ys(Ot(),t),n,!1),nl}function il(e,t,n){const i=Ot();return js(i,Rt(),t)&&Fo(Tt(),Xt(),i,e,t,i[11],n,!0),il}function ol(e,t,n){const i=Ot();if(js(i,Rt(),t)){const o=Tt(),r=Xt();Fo(o,r,i,e,t,ur(Ft(o.data),r,i),n,!0)}return ol}function rl(e,t){const n=pt(e)[1],i=n.data.length-1;tn(n,{directiveStart:i,directiveEnd:i+1})}function sl(e){return Object.getPrototypeOf(e.prototype).constructor}function al(e){let t=sl(e.type),n=!0;const i=[e];for(;t;){let o=void 0;if(et(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");o=t.\u0275dir}if(o){if(n){i.push(o);const t=e;t.inputs=cl(e.inputs),t.declaredInputs=cl(e.declaredInputs),t.outputs=cl(e.outputs);const n=o.hostBindings;n&&dl(e,n);const r=o.viewQuery,s=o.contentQueries;if(r&&ll(e,r),s&&ul(e,s),T(e.inputs,o.inputs),T(e.declaredInputs,o.declaredInputs),T(e.outputs,o.outputs),et(o)&&o.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(o.data.animation)}t.afterContentChecked=t.afterContentChecked||o.afterContentChecked,t.afterContentInit=e.afterContentInit||o.afterContentInit,t.afterViewChecked=e.afterViewChecked||o.afterViewChecked,t.afterViewInit=e.afterViewInit||o.afterViewInit,t.doCheck=e.doCheck||o.doCheck,t.onDestroy=e.onDestroy||o.onDestroy,t.onInit=e.onInit||o.onInit}const t=o.features;if(t)for(let i=0;i<t.length;i++){const o=t[i];o&&o.ngInherit&&o(e),o===al&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const o=e[i];o.hostVars=t+=o.hostVars,o.hostAttrs=hn(o.hostAttrs,n=hn(n,o.hostAttrs))}}(i)}function cl(e){return e===De?{}:e===xe?[]:e}function ll(e,t){const n=e.viewQuery;e.viewQuery=n?(e,i)=>{t(e,i),n(e,i)}:t}function ul(e,t){const n=e.contentQueries;e.contentQueries=n?(e,i,o)=>{t(e,i,o),n(e,i,o)}:t}function dl(e,t){const n=e.hostBindings;e.hostBindings=n?(e,i)=>{t(e,i),n(e,i)}:t}const hl=["providersResolver"],pl=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function gl(e){let t=sl(e.type),n=void 0;n=et(e)?t.\u0275cmp:t.\u0275dir;const i=e;for(const o of hl)i[o]=n[o];if(et(n))for(const o of pl)i[o]=n[o]}class fl{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function ml(e){e.type.prototype.ngOnChanges&&(e.setInput=bl,e.onChanges=function(){const e=vl(this),t=e&&e.current;if(t){const n=e.previous;if(n===De)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}})}function bl(e,t,n,i){const o=vl(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:De,current:null}),r=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[n],c=s[a];r[a]=new fl(c&&c.currentValue,t,s===De),e[i]=t}function vl(e){return e.__ngSimpleChanges__||null}function yl(e,t,n,i,o){if(e=H(e),Array.isArray(e))for(let r=0;r<e.length;r++)yl(e[r],t,n,i,o);else{const r=Tt(),s=Ot();let a=_s(e)?e:H(e.provide),c=bs(e);const l=kt(),u=65535&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>16;if(_s(e)||!e.multi){const i=new cn(c,o,ca),p=Sl(a,t,o?u:u+h,d);-1===p?(xn(En(l,s),r,a),_l(r,e,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,o&&(l.providerIndexes+=65536),n.push(i),s.push(i)):(n[p]=i,s[p]=i)}else{const p=Sl(a,t,u+h,d),g=Sl(a,t,u,u+h),f=p>=0&&n[p],m=g>=0&&n[g];if(o&&!m||!o&&!f){xn(En(l,s),r,a);const u=function(e,t,n,i,o){const r=new cn(e,n,ca);return r.multi=[],r.index=t,r.componentProviders=0,Cl(r,o,i&&!n),r}(o?Tl:Ol,n.length,o,i,c);!o&&m&&(n[g].providerFactory=u),_l(r,e,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,o&&(l.providerIndexes+=65536),n.push(u),s.push(u)}else _l(r,e,p>-1?p:g,Cl(n[o?g:p],c,!o&&i));!o&&i&&m&&n[g].componentProviders++}}}function _l(e,t,n,i){const o=_s(t);if(o||t.useClass){const r=(t.useClass||t).prototype.ngOnDestroy;if(r){const s=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const e=s.indexOf(n);-1===e?s.push(n,[i,r]):s[e+1].push(i,r)}else s.push(n,r)}}}function Cl(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Sl(e,t,n,i){for(let o=n;o<i;o++)if(t[o]===e)return o;return-1}function Ol(e,t,n,i){return wl(this.multi,[])}function Tl(e,t,n,i){const o=this.multi;let r;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=jn(n,n[1],this.providerFactory.index,i);r=t.slice(0,e),wl(o,r);for(let n=e;n<t.length;n++)r.push(t[n])}else r=[],wl(o,r);return r}function wl(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function kl(e,t=[]){return n=>{n.providersResolver=(n,i)=>function(e,t,n){const i=Tt();if(i.firstCreatePass){const o=et(e);yl(n,i.data,i.blueprint,o,!0),yl(t,i.data,i.blueprint,o,!1)}}(n,i?i(e):e,t)}}ml.ngInherit=!0;class Al{}class El{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${N(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let Ml=(()=>{class e{}return e.NULL=new El,e})(),Pl=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>Dl(e),e})();const Dl=function(e){return Vr(e,kt(),Ot())};class xl{}const Il=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let Ll=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Rl(),e})();const Rl=function(){const e=Ot(),t=ht(kt().index,e);return function(e){const t=e[11];if(rt(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(ze(t)?t:e)};let Nl=(()=>{class e{}return e.\u0275prov=w({token:e,providedIn:"root",factory:()=>null}),e})();class jl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Bl=new jl("9.1.10");class Fl{constructor(){}supports(e){return Is(e)}create(e){return new Ul(e)}}const Hl=(e,t)=>t;class Ul{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Hl}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,i=0,o=null;for(;t||n;){const r=!n||t&&t.currentIndex<Zl(n,i,o)?t:n,s=Zl(r,i,o),a=r.currentIndex;if(r===n)i--,n=n._nextRemoved;else if(t=t._next,null==r.previousIndex)i++;else{o||(o=[]);const e=s-i,t=a-i;if(e!=t){for(let n=0;n<e;n++){const i=n<o.length?o[n]:o[n]=0,r=i+n;t<=r&&r<e&&(o[n]=i+1)}o[r.previousIndex]=t-e}}s!==a&&e(r,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Is(e))throw new Error(`Error trying to diff '${N(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,i,o=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],i=this._trackByFn(t,n),null!==o&&Ds(o.trackById,i)?(r&&(o=this._verifyReinsertion(o,n,i,t)),Ds(o.item,n)||this._addIdentityChange(o,n)):(o=this._mismatch(o,n,i,t),r=!0),o=o._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ps()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(e,e=>{i=this._trackByFn(t,e),null!==o&&Ds(o.trackById,i)?(r&&(o=this._verifyReinsertion(o,e,i,t)),Ds(o.item,e)||this._addIdentityChange(o,e)):(o=this._mismatch(o,e,i,t),r=!0),o=o._next,t++}),this.length=t;return this._truncate(o),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Ds(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ds(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):e=this._addAfter(new Yl(t,n),o,i),e}_verifyReinsertion(e,t,n,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Vl),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Yl{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Gl{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Ds(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Vl{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Gl,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zl(e,t,n){const i=e.previousIndex;if(null===i)return i;let o=0;return n&&i<n.length&&(o=n[i]),i+t+o}class $l{constructor(){}supports(e){return e instanceof Map||Ls(e)}create(){return new Wl}}class Wl{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Ls(e)))throw new Error(`Error trying to diff '${N(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const i=n._prev,o=n._next;return i&&(i._next=o),o&&(o._prev=i),n._next=null,n._prev=null,n}const n=new Kl(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Ds(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Kl{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let zl=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new y,new b]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=w({token:e,providedIn:"root",factory:()=>new e([new Fl])}),e})(),Ql=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new y,new b]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=w({token:e,providedIn:"root",factory:()=>new e([new $l])}),e})();const Xl=[new $l],ql=new zl([new Fl]),Jl=new Ql(Xl);let eu=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>tu(e,Pl),e})();const tu=function(e,t){return Zr(e,t,kt(),Ot())};let nu=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>iu(e,Pl),e})();const iu=function(e,t){return $r(e,t,kt(),Ot())},ou={};class ru extends Ml{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ve(e);return new cu(t,this.ngModule)}}function su(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const au=new ne("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_n});class cu extends Al{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(so).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return su(this.componentDef.inputs)}get outputs(){return su(this.componentDef.outputs)}create(e,t,n,i){const o=(i=i||this.ngModule)?function(e,t){return{get:(n,i,o)=>{const r=e.get(n,ou,o);return r!==ou||i===ou?r:t.get(n,i,o)}}}(e,i.injector):e,r=o.get(xl,st),s=o.get(Nl,null),a=r.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(e,t,n){if(rt(e))return e.selectRootElement(t,n===Pe.ShadowDom);let i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(a,n,this.componentDef.encapsulation):wo(c,r.createRenderer(null,this.componentDef),function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),h={components:[],scheduler:_n,clean:ar,playerHandler:null,flags:0},p=No(0,-1,null,1,0,null,null,null,null,null),g=ko(null,p,h,u,null,null,r,a,s,o);let f,m;Gt(g,null);try{const e=function(e,t,n,i,o,r){const s=n[1];n[20]=e;const a=Ao(s,null,0,3,null,null),c=a.mergedAttrs=t.hostAttrs;null!==c&&(Es(a,c,!0),null!==e&&(ln(o,e,c),null!==a.classes&&Br(o,e,a.classes),null!==a.styles&&jr(o,e,a.styles)));const l=i.createRenderer(e,t),u=ko(n,Ro(t),null,t.onPush?64:16,n[20],a,i,l,void 0);return s.firstCreatePass&&(xn(En(a,n),s,t.type),Zo(s,a),Wo(a,n.length,1)),nr(n,u),n[20]=u}(l,this.componentDef,g,r,a);if(l)if(n)ln(a,l,["ng-version",Bl.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let i=1,o=2;for(;i<e.length;){let r=e[i];if("string"==typeof r)2===o?""!==r&&t.push(r,e[++i]):8===o&&n.push(r);else{if(!to(o))break;o=r}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&ln(a,l,e),t&&t.length>0&&Br(a,l,t.join(" "))}if(m=ut(p,0),void 0!==t){const e=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=t[n];e.push(null!=i?Array.from(i):null)}}f=function(e,t,n,i,o){const r=n[1],s=function(e,t,n){const i=kt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Vo(e,i,1),Ko(e,t,n));const o=jn(t,e,t.length-1,i);Wi(o,t);const r=lt(i,t);return r&&Wi(r,t),o}(r,n,t);i.components.push(s),e[8]=s,o&&o.forEach(e=>e(s,t)),t.contentQueries&&t.contentQueries(1,s,n.length-1);const a=kt();if(r.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){Qt(a.index-20);const e=n[1];Uo(e,t),Yo(e,n,t.hostVars),Go(t,s)}return s}(e,this.componentDef,g,h,[rl]),Eo(p,g,null)}finally{Kt()}const b=new lu(this.componentType,f,Vr(Pl,m,g),g,m);return n&&!d||(p.node.child=m),b}}class lu extends class{}{constructor(e,t,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new Hr(i),function(e,t,n,i){let o=e.node;null==o&&(e.node=o=jo(0,null,2,-1,null,null)),i[6]=o}(i[1],0,0,i),this.componentType=e}get injector(){return new Hn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(e){this.destroyCbs&&this.destroyCbs.push(e)}}const uu=void 0;var du=["en",[["a","p"],["AM","PM"],uu],[["AM","PM"],uu,uu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],uu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],uu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",uu,"{1} 'at' {0}",uu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let hu={};function pu(e,t,n){"string"!=typeof t&&(n=t,t=e[vu.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),hu[t]=e,n&&(hu[t][vu.ExtraData]=n)}function gu(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=bu(t);if(n)return n;const i=t.split("-")[0];if(n=bu(i),n)return n;if("en"===i)return du;throw new Error(`Missing locale data for the locale "${e}".`)}function fu(e){return gu(e)[vu.CurrencyCode]||null}function mu(e){return gu(e)[vu.PluralCase]}function bu(e){return e in hu||(hu[e]=$.ng&&$.ng.common&&$.ng.common.locales&&$.ng.common.locales[e]),hu[e]}const vu=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),yu=["zero","one","two","few","many"],_u=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Cu=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Su=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,Ou=/\ufffd(\d+):?\d*\ufffd/gi,Tu=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,wu=/\[(\ufffd.+?\ufffd?)\]/,ku=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Au=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Eu=/{([A-Z0-9_]+)}/g,Mu=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Pu=/\/\*/,Du=/\d+\:(\d+)/;function xu(e){if(!e)return[];let t=0;const n=[],i=[],o=/[{}]/g;let r;for(o.lastIndex=0;r=o.exec(e);){const o=r.index;if("}"==r[0]){if(n.pop(),0==n.length){const n=e.substring(t,o);_u.test(n)?i.push(Iu(n)):i.push(n),t=o+1}}else{if(0==n.length){const n=e.substring(t,o);i.push(n),t=o+1}n.push("{")}}const s=e.substring(t);return i.push(s),i}function Iu(e){const t=[],n=[];let i=1,o=0;const r=xu(e=e.replace(_u,(function(e,t,n){return i="select"===n?0:1,o=parseInt(t.substr(1),10),""})));for(let s=0;s<r.length;){let e=r[s++].trim();1===i&&(e=e.replace(/\s*(?:=)?(\w+)\s*/,"$1")),e.length&&t.push(e);const o=xu(r[s++]);t.length>n.length&&n.push(o)}return{type:i,mainBinding:o,cases:t,values:n}}function Lu(e){let t,n,i="",o=0,r=!1;for(;null!==(t=Cu.exec(e));)r?t[0]===`\ufffd/*${n}\ufffd`&&(o=t.index,r=!1):(i+=e.substring(o,t.index+t[0].length),n=t[1],r=!0);return i+=e.substr(o),i}function Ru(e,t,n,i=null){const o=[null,null],r=e.split(Ou);let s=0;for(let a=0;a<r.length;a++){const e=r[a];if(1&a){const t=parseInt(e,10);o.push(-1-t),s|=Fu(t)}else""!==e&&o.push(e)}return o.push(t<<2|(n?1:0)),n&&o.push(n,i),o[0]=s,o[1]=o.length-2,o}function Nu(e,t=0){let n;t|=Fu(e.mainBinding);for(let i=0;i<e.values.length;i++){const o=e.values[i];for(let e=0;e<o.length;e++){const i=o[e];if("string"==typeof i)for(;n=Ou.exec(i);)t|=Fu(parseInt(n[1],10));else t=Nu(i,t)}}return t}const ju=[];let Bu=-1;function Fu(e){return 1<<Math.min(e,31)}const Hu=[];function Uu(e,t,n){const i=Tt();ju[++Bu]=e,Da(!0),i.firstCreatePass&&null===i.data[e+20]&&function(e,t,n,i,o){const r=t.blueprint.length-20;Yu=0;const s=kt(),a=Et()?s:s&&s.parent;let c=a&&a!==e[6]?a.index-20:n,l=0;Hu[l]=c;const u=[];if(n>0&&s!==a){let e=s.index-20;Et()||(e=~e),u.push(e<<3|0)}const d=[],h=[];if(""===i&&Zu(o))u.push(i,Gu(r),c<<17|1);else{const e=function(e,t){if(Zu(t))return Lu(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,i=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return Lu(e.substring(n,i))}}(i,o),t=(p=e,p.replace(ad," ")).split(Su);for(let n=0;n<t.length;n++){let i=t[n];if(1&n)if("/"===i.charAt(0)){if("#"===i.charAt(1)){const e=parseInt(i.substr(2),10);c=Hu[--l],u.push(e<<3|5)}}else{const e=parseInt(i.substr(1),10),t="#"===i.charAt(0);u.push((t?e:~e)<<3|0,c<<17|1),t&&(Hu[++l]=c=e)}else{const t=xu(i);for(let n=0;n<t.length;n++)if(1&n){const i=t[n];if("object"!=typeof i)throw new Error(`Unable to parse ICU expression in "${e}" message.`);const o=Gu(r);u.push(bo,"",o,c<<17|1);const s=Nu(i);od(h,i,o,o);const a=h.length-1;d.push(Fu(i.mainBinding),3,-1-i.mainBinding,o<<2|2,a,s,2,o<<2|3,a)}else if(""!==t[n]){const e=t[n],i=e.match(Ou),o=Gu(r);u.push(i?"":e,o,c<<17|1),i&&_e(Ru(e,o),d)}}}}var p;Yu>0&&function(e,t,n){if(n>0&&e.firstCreatePass){for(let i=0;i<n;i++)e.blueprint.push(null),e.data.push(null),t.push(null);e.expandoInstructions?e.expandoInstructions.push(n):e.expandoStartIndex+=n}}(t,e,Yu),t.data[n+20]={vars:Yu,create:u,update:d,icus:h.length?h:null}}(Ot(),i,e,t,n)}let Yu;function Gu(e){return e+Yu++}function Vu(e,t,n,i,o){const r=t.next;i||(i=n),i===n&&t!==n.child?(t.next=n.child,n.child=t):i!==n&&t!==i.next?(t.next=i.next,i.next=t):t.next=null,n!==o[6]&&(t.parent=n);let s=t.next;for(;s;)s.next===t&&(s.next=r),s=s.next;if(1===t.type)return Rr(e,o,t),t;Pr(e,o,lt(t,o),t);const a=o[t.index];return 0!==t.type&&Qe(a)&&Pr(e,o,a[7],t),t}function Zu(e){return void 0===e}function $u(e,t={}){let n=e;if(wu.test(e)){const e={},t=[0];n=n.replace(ku,(n,i,o)=>{const r=i||o,s=e[r]||[];if(s.length||(r.split("|").forEach(e=>{const t=e.match(Du),n=t?parseInt(t[1],10):0,i=Pu.test(e);s.push([n,i,e])}),e[r]=s),!s.length)throw new Error("i18n postprocess: unmatched placeholder - "+r);const a=t[t.length-1];let c=0;for(let e=0;e<s.length;e++)if(s[e][0]===a){c=e;break}const[l,u,d]=s[c];return u?t.pop():a!==l&&t.push(l),s.splice(c,1),d})}return Object.keys(t).length?(n=n.replace(Au,(e,n,i,o,r,s)=>t.hasOwnProperty(i)?`${n}${t[i]}${s}`:e),n=n.replace(Eu,(e,n)=>t.hasOwnProperty(n)?t[n]:e),n=n.replace(Mu,(e,n)=>{if(t.hasOwnProperty(n)){const i=t[n];if(!i.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return i.shift()}return e}),n):n}function Wu(){const e=Ot();!function(e,t){const n=ju[Bu--],i=e.data[n+20],o=kt(),r=zu(n,i.create,e,t);let s=n+1;for(;s<=o.index-20;){-1===r.indexOf(s)&&Qu(e,t,s,!0);const n=ut(e,s);!n||0!==n.type&&3!==n.type&&4!==n.type||null===n.localNames||(s+=n.localNames.length>>1),s++}}(Tt(),e),Da(!1)}function Ku(e,t,n,i,o,r){const s=kt();t[n+20]=o;const a=Ao(e,t[6],n,i,r,null);return s&&s.next===a&&(s.next=null),a}function zu(e,t,n,i){const o=i[11];let r=null,s=null;const a=[];for(let c=0;c<t.length;c++){const l=t[c];if("string"==typeof l){const e=br(l,o),u=t[++c];s=r,r=Ku(n,i,u,3,e,null),a.push(u),Mt()}else if("number"==typeof l)switch(7&l){case 1:const o=l>>>17;let u;u=o===e?i[6]:ut(n,o),s=Vu(n,r,u,s,i);break;case 0:const d=l>=0,h=(d?l:~l)>>>3;a.push(h),s=r,r=ut(n,h),r&&At(r,d);break;case 5:s=r=ut(n,l>>>3),At(r,!1);break;case 4:const p=t[++c],g=t[++c];Qo(ut(n,l>>>3),i,p,g,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${l}"`)}else switch(l){case bo:const e=t[++c],u=t[++c],d=o.createComment(e);s=r,r=Ku(n,i,u,5,d,null),a.push(u),Wi(d,i),r.activeCaseIndex=null,Mt();break;case mo:const h=t[++c],p=t[++c];s=r,r=Ku(n,i,p,3,o.createElement(h),h),a.push(p);break;default:throw new Error(`Unable to determine the type of mutate operation for "${l}"`)}}return Mt(),a}function Qu(e,t,n,i){const o=ut(e,n),r=ct(n,t);r&&xr(t[11],r);const s=dt(t,n);if(Qe(s)){const e=s;0!==o.type&&xr(t[11],e[7])}i&&(o.flags|=64)}function Xu(e,t,n){Uu(e,t,n),Wu()}function qu(e,t){!function(e,t,n,i){const o=kt().index-20,r=[];for(let s=0;s<i.length;s+=2){const a=i[s],c=i[s+1].split(Tu);for(let i=0;i<c.length;i++){const s=c[i];if(1&i)throw new Error("ICU expressions are not yet supported in attributes");if(""!==s)if(s.match(Ou))t.firstCreatePass&&null===t.data[n+20]&&_e(Ru(s,o,a),r);else{const n=ut(t,o);3===n.type&&Qo(n,e,a,s,null,null);const i=null!==n.inputs&&n.inputs[a];i&&hr(t,e,i,a,s)}}}t.firstCreatePass&&null===t.data[n+20]&&(t.data[n+20]=r)}(Ot(),Tt(),e,t)}let Ju=0,ed=0;function td(e){return js(Ot(),Rt(),e)&&(Ju|=1<<ed),ed++,td}function nd(e){if(ed){const t=Tt(),n=t.data[e+20];let i,o=null;Array.isArray(n)?i=n:(i=n.update,o=n.icus);const r=It()-ed-1,s=Ot();!function e(t,n,i,o,r,s,a=!1){let c=!1;for(let l=0;l<t.length;l++){const u=t[l],d=t[++l];if(a||u&o){let a="";for(let u=l+1;u<=l+d;u++){const l=t[u];if("string"==typeof l)a+=l;else if("number"==typeof l)if(l<0)a+=vn(s[i-l]);else{const d=l>>>2;let h,p,g;switch(3&l){case 1:const l=t[++u],f=t[++u];Fo(r,ut(r,d),s,l,a,s[11],f,!1);break;case 0:pr(s,d,a);break;case 2:if(h=t[++u],p=n[h],g=ut(r,d),null!==g.activeCaseIndex){const e=p.remove[g.activeCaseIndex];for(let t=0;t<e.length;t++){const i=e[t];switch(7&i){case 3:Qu(r,s,i>>>3,!1);break;case 6:const o=ut(r,e[t+1]>>>3).activeCaseIndex;null!==o&&_e(n[i>>>3].remove[o],e)}}}const m=id(p,a);g.activeCaseIndex=-1!==m?m:null,m>-1&&(zu(-1,p.create[m],r,s),c=!0);break;case 3:h=t[++u],p=n[h],g=ut(r,d),null!==g.activeCaseIndex&&e(p.update[g.activeCaseIndex],n,i,o,r,s,c)}}}}l+=d}}(i,o,r,Ju,t,s),Ju=0,ed=0}}function id(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const i=function(e,t){const n=mu(t)(parseInt(e,10)),i=yu[n];return void 0!==i?i:"other"}(t,cd);n=e.cases.indexOf(i),-1===n&&"other"!==i&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return n}function od(e,t,n,i){const o=[],r=[],s=[],a=[],c=[];for(let l=0;l<t.values.length;l++){const u=t.values[l],d=[];for(let e=0;e<u.length;e++){const t=u[e];if("string"!=typeof t){const n=d.push(t)-1;u[e]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}const h=rd(u.join(""),n,d,e,i);o.push(h.create),r.push(h.remove),s.push(h.update),a.push(h.vars),c.push(h.childIcus)}e.push({type:t.type,vars:a,childIcus:c,cases:t.cases,create:o,remove:r,update:s}),Yu+=Math.max(...a)}function rd(e,t,n,i,o){const r=new di(ot()).getInertBodyElement(e);if(!r)throw new Error("Unable to generate inert body element");const s={vars:0,childIcus:[],create:[],remove:[],update:[]};return function e(t,n,i,o,r,s){if(t){const a=[];for(;t;){const c=t.nextSibling,l=s+ ++n.vars;switch(t.nodeType){case Node.ELEMENT_NODE:const c=t,u=c.tagName.toLowerCase();if(Si.hasOwnProperty(u)){n.create.push(mo,u,l,i<<17|1);const a=c.attributes;for(let e=0;e<a.length;e++){const t=a.item(e),i=t.name.toLowerCase();t.value.match(Ou)?wi.hasOwnProperty(i)&&_e(Oi[i]?Ru(t.value,l,t.name,gi):Ti[i]?Ru(t.value,l,t.name,fi):Ru(t.value,l,t.name),n.update):n.create.push(l<<3|4,t.name,t.value)}e(t.firstChild,n,l,o,r,s),n.remove.push(l<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const d=t.textContent||"",h=d.match(Ou);n.create.push(h?"":d,l,i<<17|1),n.remove.push(l<<3|3),h&&_e(Ru(d,l),n.update);break;case Node.COMMENT_NODE:const p=sd.exec(t.textContent||"");if(p){const e=parseInt(p[1],10);n.create.push(bo,"",l,i<<17|1),a.push([o[e],l])}else n.vars--;break;default:n.vars--}t=c}for(let e=0;e<a.length;e++){const t=a[e][0],i=a[e][1];od(r,t,i,s+n.vars);const o=r.length-1;n.vars+=Math.max(...r[o].vars),n.childIcus.push(o);const c=Nu(t);n.update.push(Fu(t.mainBinding),3,-1-t.mainBinding,i<<2|2,o,c,2,i<<2|3,o),n.remove.push(o<<3|6,i<<3|3)}}}((Ii(r)||r).firstChild,s,t,n,i,o),s}const sd=/\ufffd(\d+)\ufffd/,ad=/\uE500/g;let cd="en-US";function ld(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,i){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(cd=e.toLowerCase().replace(/_/g,"-"))}function ud(e,t,n,i){return c(()=>{const o=e,r=o.prototype?Object.getPrototypeOf(o.prototype):null,s=r&&r.constructor;null!==t&&(void 0===o.decorators||s&&s.decorators===o.decorators?o.decorators=t:o.decorators.push(...t)),null!==n&&(o.ctorParameters=n),null!==i&&(o.propDecorators=void 0===o.propDecorators||s&&s.propDecorators===o.propDecorators?i:Object.assign(Object.assign({},o.propDecorators),i))})}const dd=new Map;class hd extends ve{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ru(this);const n=Ke(e),i=e[J]||null;i&&ld(i),this._bootstrapComponents=Tn(n.bootstrap),this._r3Injector=gs(e,t,[{provide:ve,useValue:this},{provide:Ml,useValue:this.componentFactoryResolver}],N(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Ss.THROW_IF_NOT_FOUND,n=S.Default){return e===Ss||e===ve||e===ie?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class pd extends ye{constructor(e){super(),this.moduleType=e,null!==Ke(e)&&function e(t){if(null!==t.\u0275mod.id){const e=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${N(t)} vs ${N(t.name)}`)})(e,dd.get(e),t),dd.set(e,t)}let n=t.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(t=>e(t))}(e)}create(e){return new hd(this.moduleType,e)}}function gd(e,t,n){const i=xt()+e,o=Ot();return o[i]===ao?Rs(o,i,n?t.call(n):t()):Ns(o,i)}function fd(e,t,n,i){return wd(Ot(),xt(),e,t,n,i)}function md(e,t,n,i,o){return kd(Ot(),xt(),e,t,n,i,o)}function bd(e,t,n,i,o,r){return Ad(Ot(),xt(),e,t,n,i,o,r)}function vd(e,t,n,i,o,r,s){return Ed(Ot(),xt(),e,t,n,i,o,r,s)}function yd(e,t,n,i,o,r,s,a){const c=xt()+e,l=Ot(),u=Hs(l,c,n,i,o,r);return js(l,c+4,s)||u?Rs(l,c+5,a?t.call(a,n,i,o,r,s):t(n,i,o,r,s)):Ns(l,c+5)}function _d(e,t,n,i,o,r,s,a,c){const l=xt()+e,u=Ot(),d=Hs(u,l,n,i,o,r);return Bs(u,l+4,s,a)||d?Rs(u,l+6,c?t.call(c,n,i,o,r,s,a):t(n,i,o,r,s,a)):Ns(u,l+6)}function Cd(e,t,n,i,o,r,s,a,c,l){const u=xt()+e,d=Ot();let h=Hs(d,u,n,i,o,r);return Fs(d,u+4,s,a,c)||h?Rs(d,u+7,l?t.call(l,n,i,o,r,s,a,c):t(n,i,o,r,s,a,c)):Ns(d,u+7)}function Sd(e,t,n,i,o,r,s,a,c,l,u){const d=xt()+e,h=Ot(),p=Hs(h,d,n,i,o,r);return Hs(h,d+4,s,a,c,l)||p?Rs(h,d+8,u?t.call(u,n,i,o,r,s,a,c,l):t(n,i,o,r,s,a,c,l)):Ns(h,d+8)}function Od(e,t,n,i){return Md(Ot(),xt(),e,t,n,i)}function Td(e,t){const n=e[t];return n===ao?void 0:n}function wd(e,t,n,i,o,r){const s=t+n;return js(e,s,o)?Rs(e,s+1,r?i.call(r,o):i(o)):Td(e,s+1)}function kd(e,t,n,i,o,r,s){const a=t+n;return Bs(e,a,o,r)?Rs(e,a+2,s?i.call(s,o,r):i(o,r)):Td(e,a+2)}function Ad(e,t,n,i,o,r,s,a){const c=t+n;return Fs(e,c,o,r,s)?Rs(e,c+3,a?i.call(a,o,r,s):i(o,r,s)):Td(e,c+3)}function Ed(e,t,n,i,o,r,s,a,c){const l=t+n;return Hs(e,l,o,r,s,a)?Rs(e,l+4,c?i.call(c,o,r,s,a):i(o,r,s,a)):Td(e,l+4)}function Md(e,t,n,i,o,r){let s=t+n,a=!1;for(let c=0;c<o.length;c++)js(e,s++,o[c])&&(a=!0);return a?Rs(e,s,i.apply(r,o)):Td(e,s)}function Pd(e,t){const n=Tt();let i;const o=e+20;n.firstCreatePass?(i=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const i=t[n];if(e===i.name)return i}throw new Error(`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[o]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(o,i.onDestroy)):i=n.data[o];const r=i.factory||(i.factory=We(i.type)),s=ue(ca),a=kn(!1),c=r();return kn(a),ue(s),function(e,t,n,i){const o=n+20;o>=e.data.length&&(e.data[o]=null,e.blueprint[o]=null),t[o]=i}(n,Ot(),e,c),c}function Dd(e,t,n){const i=Ot(),o=dt(i,e);return jd(i,Nd(i,e)?wd(i,xt(),t,o.transform,n,o):o.transform(n))}function xd(e,t,n,i){const o=Ot(),r=dt(o,e);return jd(o,Nd(o,e)?kd(o,xt(),t,r.transform,n,i,r):r.transform(n,i))}function Id(e,t,n,i,o){const r=Ot(),s=dt(r,e);return jd(r,Nd(r,e)?Ad(r,xt(),t,s.transform,n,i,o,s):s.transform(n,i,o))}function Ld(e,t,n,i,o,r){const s=Ot(),a=dt(s,e);return jd(s,Nd(s,e)?Ed(s,xt(),t,a.transform,n,i,o,r,a):a.transform(n,i,o,r))}function Rd(e,t,n){const i=Ot(),o=dt(i,e);return jd(i,Nd(i,e)?Md(i,xt(),t,o.transform,n,o):o.transform.apply(o,n))}function Nd(e,t){return e[1].data[t+20].pure}function jd(e,t){return xs.isWrapped(t)&&(t=xs.unwrap(t),e[It()]=ao),t}class Bd extends i.a{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let i,r=e=>null,s=()=>null;e&&"object"==typeof e?(i=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(r=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(s=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(i,r,s);return e instanceof o.a&&e.add(a),a}}function Fd(){return this._results[Ps()]()}class Hd{constructor(){this.dirty=!0,this._results=[],this.changes=new Bd,this.length=0;const e=Ps(),t=Hd.prototype;t[e]||(t[e]=Fd)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=Ce(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ud{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ud(this.queryList)}setDirty(){this.queryList.setDirty()}}class Yd{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);i.push(this.queries[n.indexInDeclarationView].clone())}return new Yd(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==rh(e,t).matches&&this.queries[t].setDirty()}}class Gd{constructor(e,t,n,i=null){this.predicate=e,this.descendants=t,this.isStatic=n,this.read=i}}class Vd{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const i=null!==t?t.length:0,o=this.getByIndex(n).embeddedTView(e,i);o&&(o.indexInDeclarationView=n,null!==t?t.push(o):t=[o])}return null!==t?new Vd(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Zd{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Zd(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let i=0;i<n.length;i++)this.matchTNodeWithReadOption(e,t,$d(t,n[i]))}else{const n=this.metadata.predicate;n===eu?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Nn(t,e,n,!1,!1))}}matchTNodeWithReadOption(e,t,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Pl||i===nu||i===eu&&0===t.type)this.addMatch(t.index,-2);else{const n=Nn(t,e,i,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function $d(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function Wd(e,t,n,i){return-1===n?function(e,t){return 3===e.type||4===e.type?Vr(Pl,e,t):0===e.type?Zr(eu,Pl,e,t):null}(t,e):-2===n?function(e,t,n){return n===Pl?Vr(Pl,t,e):n===eu?Zr(eu,Pl,t,e):n===nu?$r(nu,Pl,t,e):void 0}(e,t,i):jn(e,e[1],n,t)}function Kd(e,t,n,i){const o=t[19].queries[i];if(null===o.matches){const i=e.data,r=n.matches,s=[];for(let e=0;e<r.length;e+=2){const o=r[e];s.push(o<0?null:Wd(t,i[o],r[e+1],n.metadata.read))}o.matches=s}return o.matches}function zd(e){const t=Ot(),n=Tt(),i=Ht();Ut(i+1);const o=rh(n,i);if(e.dirty&&gt(t)===o.metadata.isStatic){if(null===o.matches)e.reset([]);else{const r=o.crossesNgTemplate?function e(t,n,i,o){const r=t.queries.getByIndex(i),s=r.matches;if(null!==s){const a=Kd(t,n,r,i);for(let t=0;t<s.length;t+=2){const i=s[t];if(i>0)o.push(a[t/2]);else{const r=s[t+1],a=n[-i];for(let t=10;t<a.length;t++){const n=a[t];n[17]===n[3]&&e(n[1],n,r,o)}if(null!==a[9]){const t=a[9];for(let n=0;n<t.length;n++){const i=t[n];e(i[1],i,r,o)}}}}}return o}(n,t,i,[]):Kd(n,t,o,i);e.reset(r),e.notifyOnChanges()}return!0}return!1}function Qd(e,t,n){qd(Tt(),Ot(),e,t,n,!0)}function Xd(e,t,n){qd(Tt(),Ot(),e,t,n,!1)}function qd(e,t,n,i,o,r){e.firstCreatePass&&(oh(e,new Gd(n,i,r,o),-1),r&&(e.staticViewQueries=!0)),ih(e,t)}function Jd(e,t,n,i){th(Tt(),Ot(),t,n,i,!1,kt(),e)}function eh(e,t,n,i){th(Tt(),Ot(),t,n,i,!0,kt(),e)}function th(e,t,n,i,o,r,s,a){e.firstCreatePass&&(oh(e,new Gd(n,i,r,o),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,a),r&&(e.staticContentQueries=!0)),ih(e,t)}function nh(){return e=Ot(),t=Ht(),e[19].queries[t].queryList;var e,t}function ih(e,t){const n=new Hd;!function(e,t,n,i){const o=cr(t);o.push(n),e.firstCreatePass&&lr(e).push(i,o.length-1)}(e,t,n,n.destroy),null===t[19]&&(t[19]=new Yd),t[19].queries.push(new Ud(n))}function oh(e,t,n){null===e.queries&&(e.queries=new Vd),e.queries.track(new Zd(t,n))}function rh(e,t){return e.queries.getByIndex(t)}function sh(e,t){return Zr(eu,Pl,e,t)}function ah(e=S.Default){const t=Wr(!0);if(null!=t||e&S.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}const ch=(()=>({"\u0275\u0275attribute":Us,"\u0275\u0275attributeInterpolate1":Xs,"\u0275\u0275attributeInterpolate2":qs,"\u0275\u0275attributeInterpolate3":Js,"\u0275\u0275attributeInterpolate4":ea,"\u0275\u0275attributeInterpolate5":ta,"\u0275\u0275attributeInterpolate6":na,"\u0275\u0275attributeInterpolate7":ia,"\u0275\u0275attributeInterpolate8":oa,"\u0275\u0275attributeInterpolateV":ra,"\u0275\u0275defineComponent":Le,"\u0275\u0275defineDirective":Ye,"\u0275\u0275defineInjectable":w,"\u0275\u0275defineInjector":A,"\u0275\u0275defineNgModule":Fe,"\u0275\u0275definePipe":Ge,"\u0275\u0275directiveInject":ca,"\u0275\u0275getFactoryOf":Un,"\u0275\u0275getInheritedFactory":Yn,"\u0275\u0275inject":he,"\u0275\u0275injectAttribute":la,"\u0275\u0275invalidFactory":ua,"\u0275\u0275invalidFactoryDep":pe,"\u0275\u0275injectPipeChangeDetectorRef":ah,"\u0275\u0275templateRefExtractor":sh,"\u0275\u0275NgOnChangesFeature":ml,"\u0275\u0275ProvidersFeature":kl,"\u0275\u0275CopyDefinitionFeature":gl,"\u0275\u0275InheritDefinitionFeature":al,"\u0275\u0275nextContext":Aa,"\u0275\u0275namespaceHTML":en,"\u0275\u0275namespaceMathML":Jt,"\u0275\u0275namespaceSVG":qt,"\u0275\u0275enableBindings":Ct,"\u0275\u0275disableBindings":St,"\u0275\u0275elementStart":pa,"\u0275\u0275elementEnd":ga,"\u0275\u0275element":fa,"\u0275\u0275elementContainerStart":ma,"\u0275\u0275elementContainerEnd":ba,"\u0275\u0275elementContainer":va,"\u0275\u0275pureFunction0":gd,"\u0275\u0275pureFunction1":fd,"\u0275\u0275pureFunction2":md,"\u0275\u0275pureFunction3":bd,"\u0275\u0275pureFunction4":vd,"\u0275\u0275pureFunction5":yd,"\u0275\u0275pureFunction6":_d,"\u0275\u0275pureFunction7":Cd,"\u0275\u0275pureFunction8":Sd,"\u0275\u0275pureFunctionV":Od,"\u0275\u0275getCurrentView":ya,"\u0275\u0275restoreView":wt,"\u0275\u0275listener":Sa,"\u0275\u0275projection":xa,"\u0275\u0275updateSyntheticHostBinding":ol,"\u0275\u0275componentHostSyntheticListener":Oa,"\u0275\u0275pipeBind1":Dd,"\u0275\u0275pipeBind2":xd,"\u0275\u0275pipeBind3":Id,"\u0275\u0275pipeBind4":Ld,"\u0275\u0275pipeBindV":Rd,"\u0275\u0275projectionDef":Ma,"\u0275\u0275hostProperty":il,"\u0275\u0275property":da,"\u0275\u0275propertyInterpolate":Ia,"\u0275\u0275propertyInterpolate1":La,"\u0275\u0275propertyInterpolate2":Ra,"\u0275\u0275propertyInterpolate3":Na,"\u0275\u0275propertyInterpolate4":ja,"\u0275\u0275propertyInterpolate5":Ba,"\u0275\u0275propertyInterpolate6":Fa,"\u0275\u0275propertyInterpolate7":Ha,"\u0275\u0275propertyInterpolate8":Ua,"\u0275\u0275propertyInterpolateV":Ya,"\u0275\u0275pipe":Pd,"\u0275\u0275queryRefresh":zd,"\u0275\u0275viewQuery":Xd,"\u0275\u0275staticViewQuery":Qd,"\u0275\u0275staticContentQuery":eh,"\u0275\u0275loadQuery":nh,"\u0275\u0275contentQuery":Jd,"\u0275\u0275reference":aa,"\u0275\u0275classMap":sc,"\u0275\u0275classMapInterpolate1":Pc,"\u0275\u0275classMapInterpolate2":Dc,"\u0275\u0275classMapInterpolate3":xc,"\u0275\u0275classMapInterpolate4":Ic,"\u0275\u0275classMapInterpolate5":Lc,"\u0275\u0275classMapInterpolate6":Rc,"\u0275\u0275classMapInterpolate7":Nc,"\u0275\u0275classMapInterpolate8":jc,"\u0275\u0275classMapInterpolateV":Bc,"\u0275\u0275styleMap":oc,"\u0275\u0275styleMapInterpolate1":Fc,"\u0275\u0275styleMapInterpolate2":Hc,"\u0275\u0275styleMapInterpolate3":Uc,"\u0275\u0275styleMapInterpolate4":Yc,"\u0275\u0275styleMapInterpolate5":Gc,"\u0275\u0275styleMapInterpolate6":Vc,"\u0275\u0275styleMapInterpolate7":Zc,"\u0275\u0275styleMapInterpolate8":$c,"\u0275\u0275styleMapInterpolateV":Wc,"\u0275\u0275styleProp":nc,"\u0275\u0275stylePropInterpolate1":Kc,"\u0275\u0275stylePropInterpolate2":zc,"\u0275\u0275stylePropInterpolate3":Qc,"\u0275\u0275stylePropInterpolate4":Xc,"\u0275\u0275stylePropInterpolate5":qc,"\u0275\u0275stylePropInterpolate6":Jc,"\u0275\u0275stylePropInterpolate7":el,"\u0275\u0275stylePropInterpolate8":tl,"\u0275\u0275stylePropInterpolateV":nl,"\u0275\u0275styleSanitizer":tc,"\u0275\u0275classProp":ic,"\u0275\u0275select":go,"\u0275\u0275advance":po,"\u0275\u0275template":sa,"\u0275\u0275text":yc,"\u0275\u0275textInterpolate":_c,"\u0275\u0275textInterpolate1":Cc,"\u0275\u0275textInterpolate2":Sc,"\u0275\u0275textInterpolate3":Oc,"\u0275\u0275textInterpolate4":Tc,"\u0275\u0275textInterpolate5":wc,"\u0275\u0275textInterpolate6":kc,"\u0275\u0275textInterpolate7":Ac,"\u0275\u0275textInterpolate8":Ec,"\u0275\u0275textInterpolateV":Mc,"\u0275\u0275i18n":Xu,"\u0275\u0275i18nAttributes":qu,"\u0275\u0275i18nExp":td,"\u0275\u0275i18nStart":Uu,"\u0275\u0275i18nEnd":Wu,"\u0275\u0275i18nApply":nd,"\u0275\u0275i18nPostprocess":$u,"\u0275\u0275resolveWindow":Cn,"\u0275\u0275resolveDocument":Sn,"\u0275\u0275resolveBody":On,"\u0275\u0275setComponentScope":Re,"\u0275\u0275setNgModuleScope":He,"\u0275\u0275sanitizeHtml":Bi,"\u0275\u0275sanitizeStyle":Fi,"\u0275\u0275defaultStyleSanitizer":Vi,"\u0275\u0275sanitizeResourceUrl":Ui,"\u0275\u0275sanitizeScript":Yi,"\u0275\u0275sanitizeUrl":Hi,"\u0275\u0275sanitizeUrlOrResourceUrl":Gi}))(),lh=[],uh=[];let dh=!1;function hh(e){return Array.isArray(e)?e.every(hh):!!H(e)}function ph(e,t){const n=Ce(t.declarations||lh),i=fh(e);n.forEach(t=>{t.hasOwnProperty(z)?gh(Ve(t),i):t.hasOwnProperty(Q)||t.hasOwnProperty(X)||(t.ngSelectorScope=e)})}function gh(e,t){e.directiveDefs=()=>Array.from(t.compilation.directives).map(e=>e.hasOwnProperty(z)?Ve(e):Ze(e)).filter(e=>!!e),e.pipeDefs=()=>Array.from(t.compilation.pipes).map(e=>$e(e)),e.schemas=t.schemas,e.tView=null}function fh(e){if(!bh(e))throw new Error(e.name+" does not have a module def (\u0275mod property)");const t=Ke(e);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;const n={schemas:t.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Tn(t.imports).forEach(e=>{const t=e;if(!bh(t))throw new Error(`Importing ${t.name} which does not have a \u0275mod property`);const i=fh(t);i.exported.directives.forEach(e=>n.compilation.directives.add(e)),i.exported.pipes.forEach(e=>n.compilation.pipes.add(e))}),Tn(t.declarations).forEach(e=>{$e(e)?n.compilation.pipes.add(e):n.compilation.directives.add(e)}),Tn(t.exports).forEach(e=>{const t=e;if(bh(t)){const e=fh(t);e.exported.directives.forEach(e=>{n.compilation.directives.add(e),n.exported.directives.add(e)}),e.exported.pipes.forEach(e=>{n.compilation.pipes.add(e),n.exported.pipes.add(e)})}else $e(t)?n.exported.pipes.add(t):n.exported.directives.add(t)}),t.transitiveCompileScopes=n,n}function mh(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function bh(e){return!!Ke(e)}function vh(e,t){let n=null;_h(e,t||{}),Object.defineProperty(e,Q,{get:()=>{if(null===n){const i=yh(e,t||{});n=K().compileDirective(ch,i.sourceMapUrl,i.metadata)}return n},configurable:!1})}function yh(e,t){const n=e&&e.name,i=`ng:///${n}/\u0275dir.js`,o=K(),r=Sh(e,t);return r.typeSourceSpan=o.createParseSourceSpan("Directive",n,i),r.usesInheritance&&Oh(e),{metadata:r,sourceMapUrl:i}}function _h(e,t){let n=null;Object.defineProperty(e,ee,{get:()=>{if(null===n){const i=yh(e,t),o=K();n=o.compileFactory(ch,`ng:///${e.name}/\u0275fac.js`,Object.assign(Object.assign({},i.metadata),{injectFn:"directiveInject",target:o.R3FactoryTarget.Directive}))}return n},configurable:!1})}function Ch(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function Sh(e,t){const n=ss(),i=n.ownPropMetadata(e);return{name:e.name,type:e,typeArgumentCount:0,selector:void 0!==t.selector?t.selector:null,deps:as(e),host:t.host||De,propMetadata:i,inputs:t.inputs||xe,outputs:t.outputs||xe,queries:wh(e,i,kh),lifecycle:{usesOnChanges:n.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!Ch(e),exportAs:(o=t.exportAs,void 0===o?null:Mh(o)),providers:t.providers||null,viewQueries:wh(e,i,Ah)};var o}function Oh(e){const t=Object.prototype;let n=Object.getPrototypeOf(e.prototype).constructor;for(;n&&n!==t;)Ze(n)||Ve(n)||!Dh(n)||vh(n,null),n=Object.getPrototypeOf(n)}function Th(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?Mh(n):H(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static};var n}function wh(e,t,n){const i=[];for(const o in t)if(t.hasOwnProperty(o)){const r=t[o];r.forEach(t=>{if(n(t)){if(!t.selector)throw new Error(`Can't construct a query for the property "${o}" of "${yn(e)}" since the query selector wasn't defined.`);if(r.some(Eh))throw new Error("Cannot combine @Input decorators with query decorators");i.push(Th(o,t))}})}return i}function kh(e){const t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function Ah(e){const t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function Eh(e){return"Input"===e.ngMetadataName}function Mh(e){return e.split(",").map(e=>e.trim())}const Ph=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Dh(e){const t=ss();if(Ph.some(n=>t.hasLifecycleHook(e,n)))return!0;const n=t.propMetadata(e);for(const i in n){const e=n[i];for(let t=0;t<e.length;t++){const n=e[t],i=n.ngMetadataName;if(Eh(n)||kh(n)||Ah(n)||"Output"===i||"HostBinding"===i||"HostListener"===i)return!0}}return!1}const xh=h("Component",(e={})=>Object.assign({changeDetection:Me.Default},e),h("Directive",(e={})=>e,void 0,void 0,(e,t)=>Nh(e,t)),void 0,(e,t)=>Rh(e,t)),Ih=f("Input",e=>({bindingPropertyName:e})),Lh=f("HostBinding",e=>({hostPropertyName:e})),Rh=function(e,t){let n=null;!function(e,t){ks(t)&&(Ts.set(e,t),ws.add(e))}(e,t),_h(e,t),Object.defineProperty(e,z,{get:()=>{if(null===n){const i=K();if(ks(t)){const n=[`Component '${e.name}' is not resolved:`];throw t.templateUrl&&n.push(" - templateUrl: "+t.templateUrl),t.styleUrls&&t.styleUrls.length&&n.push(" - styleUrls: "+JSON.stringify(t.styleUrls)),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const o=null;let r=t.preserveWhitespaces;void 0===r&&(r=null!==o&&void 0!==o.preserveWhitespaces&&o.preserveWhitespaces);let s=t.encapsulation;void 0===s&&(s=null!==o&&void 0!==o.defaultEncapsulation?o.defaultEncapsulation:Pe.Emulated);const a=t.templateUrl||`ng:///${e.name}/template.html`,c=Object.assign(Object.assign({},Sh(e,t)),{typeSourceSpan:i.createParseSourceSpan("Component",e.name,a),template:t.template||"",preserveWhitespaces:r,styles:t.styles||xe,animations:t.animations,directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:s,interpolation:t.interpolation,viewProviders:t.viewProviders||null});if(c.usesInheritance&&Oh(e),n=i.compileComponent(ch,a,c),function(){if(!dh){dh=!0;try{for(let e=uh.length-1;e>=0;e--){const{moduleType:t,ngModule:n}=uh[e];n.declarations&&n.declarations.every(hh)&&(uh.splice(e,1),ph(t,n))}}finally{dh=!1}}}(),void 0!==e.ngSelectorScope){const t=fh(e.ngSelectorScope);gh(n,t)}}return n},configurable:!1})},Nh=vh,jh=h("NgModule",e=>e,void 0,void 0,(e,t)=>Bh(e,t)),Bh=function(e,t={}){!function(e,t,n=!1){const i=Ce(t.declarations||lh);let o=null;Object.defineProperty(e,q,{configurable:!0,get:()=>(null===o&&(o=K().compileNgModule(ch,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:Ce(t.bootstrap||lh).map(H),declarations:i.map(H),imports:Ce(t.imports||lh).map(H).map(mh),exports:Ce(t.exports||lh).map(H).map(mh),schemas:t.schemas?Ce(t.schemas):null,id:t.id||null}),o.schemas||(o.schemas=[])),o)});let r=null;Object.defineProperty(e,x,{get:()=>{if(null===r){const n={name:e.name,type:e,deps:as(e),providers:t.providers||lh,imports:[(t.imports||lh).map(H),(t.exports||lh).map(H)]};r=K().compileInjector(ch,`ng:///${e.name}/\u0275inj.js`,n)}return r},configurable:!1})}(e,t),function(e,t){uh.push({moduleType:e,ngModule:t})}(e,t)},Fh=new ne("Application Initializer");let Hh=(()=>{class e{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();_a(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(he(Fh,8))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();const Uh=new ne("AppId"),Yh={provide:Uh,useFactory:function(){return`${Gh()}${Gh()}${Gh()}`},deps:[]};function Gh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Vh=new ne("Platform Initializer"),Zh=new ne("Platform ID"),$h=new ne("appBootstrapListener");let Wh=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();const Kh=new ne("LocaleId"),zh=new ne("DefaultCurrencyCode");class Qh{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Xh=function(e){return new pd(e)},qh=Xh,Jh=function(e){return Promise.resolve(Xh(e))},ep=function(e){const t=Xh(e),n=Tn(Ke(e).declarations).reduce((e,t)=>{const n=Ve(t);return n&&e.push(new cu(n)),e},[]);return new Qh(t,n)},tp=ep,np=function(e){return Promise.resolve(ep(e))};let ip=(()=>{class e{constructor(){this.compileModuleSync=qh,this.compileModuleAsync=Jh,this.compileModuleAndAllComponentsSync=tp,this.compileModuleAndAllComponentsAsync=np}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();const op=new ne("compilerOptions"),rp=(()=>Promise.resolve(0))();function sp(e){"undefined"==typeof Zone?rp.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class ap{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bd(!1),this.onMicrotaskEmpty=new Bd(!1),this.onStable=new Bd(!1),this.onError=new Bd(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=t,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let e=$.requestAnimationFrame,t=$.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call($,()=>{e.lastRequestAnimationFrameId=-1,dp(e),up(e)}),dp(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(n,i,o,r,s,a)=>{try{return hp(e),n.invokeTask(o,r,s,a)}finally{t&&"eventTask"===r.type&&t(),pp(e)}},onInvoke:(t,n,i,o,r,s,a)=>{try{return hp(e),t.invoke(i,o,r,s,a)}finally{pp(e)}},onHasTask:(t,n,i,o)=>{t.hasTask(i,o),n===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,dp(e),up(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,n,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ap.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ap.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,i){const o=this._inner,r=o.scheduleEventTask("NgZoneEvent: "+i,e,lp,cp,cp);try{return o.runTask(r,t,n)}finally{o.cancelTask(r)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function cp(){}const lp={};function up(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function dp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function hp(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function pp(e){e._nesting--,up(e)}class gp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bd,this.onMicrotaskEmpty=new Bd,this.onStable=new Bd,this.onError=new Bd}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,i){return e.apply(t,n)}}let fp=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ap.assertNotInAngularZone(),sp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sp(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let i=-1;t&&t>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==i),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(he(ap))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})(),mp=(()=>{class e{constructor(){this._applications=new Map,_p.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return _p.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();class bp{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function vp(e){_p=e}let yp,_p=new bp,Cp=function(e,t,n){const i=e.get(op,[]).concat(t),o=new pd(n);if(0===Ts.size)return Promise.resolve(o);const r=function(e){const t=[];return e.forEach(e=>e&&t.push(...e)),t}(i.map(e=>e.providers));if(0===r.length)return Promise.resolve(o);const s=K(),a=Ss.create({providers:r}).get(s.ResourceLoader);return function(e){const t=[],n=new Map;function i(e){let t=n.get(e);if(!t){const i=(e=>Promise.resolve(a.get(e)))(e);n.set(e,t=i.then(As))}return t}return Ts.forEach((e,n)=>{const o=[];e.templateUrl&&o.push(i(e.templateUrl).then(t=>{e.template=t}));const r=e.styleUrls,s=e.styles||(e.styles=[]),a=e.styles.length;r&&r.forEach((t,n)=>{s.push(""),o.push(i(t).then(i=>{s[a+n]=i,r.splice(r.indexOf(t),1),0==r.length&&(e.styleUrls=void 0)}))});const c=Promise.all(o).then(()=>function(e){ws.delete(e)}(n));t.push(c)}),Ts=new Map,Promise.all(t).then(()=>{})}().then(()=>o)};const Sp=new ne("AllowMultipleToken");class Op{constructor(e,t){this.name=e,this.token=t}}function Tp(e,t,n=[]){const i="Platform: "+t,o=new ne(i);return(t=[])=>{let r=wp();if(!r||r.injector.get(Sp,!1))if(e)e(n.concat(t).concat({provide:o,useValue:!0}));else{const e=n.concat(t).concat({provide:o,useValue:!0},{provide:cs,useValue:"platform"});!function(e){if(yp&&!yp.destroyed&&!yp.injector.get(Sp,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yp=e.get(kp);const t=e.get(Vh,null);t&&t.forEach(e=>e())}(Ss.create({providers:e,name:i}))}return function(e){const t=wp();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(o)}}function wp(){return yp&&!yp.destroyed?yp:null}let kp=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new gp:("zone.js"===e?void 0:e)||new ap({enableLongStackTrace:li(),shouldCoalesceEventChangeDetection:t}),n}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),i=[{provide:ap,useValue:n}];return n.run(()=>{const t=Ss.create({providers:i,parent:this.injector,name:e.moduleType.name}),o=e.create(t),r=o.injector.get($n,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.onDestroy(()=>Mp(this._modules,o)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{r.handleError(e)}})),function(e,t,n){try{const i=n();return _a(i)?i.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(r,n,()=>{const e=o.injector.get(Hh);return e.runInitializers(),e.donePromise.then(()=>(ld(o.injector.get(Kh,"en-US")||"en-US"),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,t=[]){const n=Ap({},t);return Cp(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Ep);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${N(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(he(Ss))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();function Ap(e,t){return Array.isArray(t)?t.reduce(Ap,e):Object.assign(Object.assign({},e),t)}let Ep=(()=>{class e{constructor(e,t,n,i,o,c){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=li(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new r.a(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),u=new r.a(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{ap.assertNotInAngularZone(),sp(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ap.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,u.pipe(Object(a.a)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Al?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(ve),o=n.create(Ss.NULL,[],t||n.selector,i);o.onDestroy(()=>{this._unloadComponent(o)});const r=o.injector.get(fp,null);return r&&o.injector.get(mp).registerApplication(o.location.nativeElement,r),this._loadComponent(o),li()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Mp(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get($h,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Mp(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(he(ap),he(Wh),he(Ss),he($n),he(Ml),he(Hh))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();function Mp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Pp{}class Dp{}const xp={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ip=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||xp}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,i]=e.split("#");return void 0===i&&(i="default"),n("zn8P")(t).then(e=>e[i]).then(e=>Lp(e,t,i)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,i]=e.split("#"),o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[i+o]).then(e=>Lp(e,t,i))}}return e.\u0275fac=function(t){return new(t||e)(he(ip),he(Dp,8))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();function Lp(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const Rp=function(e){return null},Np=Tp(null,"core",[{provide:Zh,useValue:"unknown"},{provide:kp,deps:[Ss]},{provide:mp,deps:[]},{provide:Wh,deps:[]}]),jp=[{provide:Ep,useClass:Ep,deps:[ap,Wh,Ss,$n,Ml,Hh]},{provide:au,deps:[ap],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Hh,useClass:Hh,deps:[[new b,Fh]]},{provide:ip,useClass:ip,deps:[]},Yh,{provide:zl,useFactory:function(){return ql},deps:[]},{provide:Ql,useFactory:function(){return Jl},deps:[]},{provide:Kh,useFactory:function(e){return ld(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new m(Kh),new b,new y]]},{provide:zh,useValue:"USD"}];let Bp=(()=>{class e{constructor(e){}}return e.\u0275mod=Fe({type:e}),e.\u0275inj=A({factory:function(t){return new(t||e)(he(Ep))},providers:jp}),e})()},ffpz:function(e,t,n){"use strict";t.Scheduler=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},fmRc:function(e,t,n){var i=n("Xi7e"),o=n("77Zs"),r=n("L8xA"),s=n("gCq4"),a=n("VaNO"),c=n("0Cz8");function l(e){var t=this.__data__=new i(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=a,l.prototype.set=c,e.exports=l},g7np:function(e,t,n){"use strict";var i=n("2SVd"),o=n("5oMp");e.exports=function(e,t){return e&&!i(t)?o(e,t):t}},gAzV:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ofXK"),o=n("fXoL");const r=new o.t("mid-init.config");var s=n("bJP1");let a=(()=>{class e{constructor(e,t){this.localeId=e,this.config=t,this.initDateElements(this.config)}initDateElements(e){let{minYear:t,maxYear:n}=e||{};Number.isInteger(t)||(t=1900),Number.isInteger(n)||(n=t+200),t>n&&(console.warn("::MultiInputDate::",`Calculated year ranges are invalid: minYear (${t}) is greater than maxYear (${n})! Falling back to default range values: minYear 1900, maxYear (2100).`),t=1900,n=2100),this.defaultMin={day:1,month:0,year:t},this.defaultMax={day:31,month:11,year:n}}buildDayOptions(e,t,n=this.dayStringReplace){const i=Number.isInteger(e)?e:1,o=Number.isInteger(t)?t:1970,r=this.getDaysInMonth(i,o),s=[];for(let a=1;a<=r;a++)s.push({value:a,display:n(a)});return s}buildMonthOptions(e=this.monthStringReplace){return Object(i.K)(this.localeId||"en-US",i.h.Standalone,i.H.Abbreviated).map((t,n)=>({value:n,display:e(t)}))}buildYearOptions(e=1900,t=2100){if(e>t)throw Error("::MultiInputDate::buildYearOptions: min value is greater than max value!");const n=[];for(let i=t;i>=e;i--)n.push({value:i,display:String(i)});return n}generateDateElement(e){const t=this.getDateFromValue(e);if(t&&!Number.isNaN(t.valueOf()))return{day:t.getDate(),month:t.getMonth(),year:t.getFullYear()}}getDateFromValue(e){let t;if(e instanceof Date)Number.isNaN(e.valueOf())||(t=e);else if(e&&"string"==typeof e)try{const n=new Date(e);Number.isNaN(n.valueOf())||(t=n)}catch(_){}return t}validateControlValue(e,t,n){const i=this.getDateFromValue(e);if(i){if(Number.isNaN(i.valueOf()))return{[this.getKeyValue(n,"invalid")]:!0};const{day:e,month:o,year:r}=this.generateDateElement(i);if(t.min){const i=t.min;if(s.a.elementsToString(r,o,e)<s.a.elementsToString(i.year,i.month,i.day))return{[this.getKeyValue(n,"minDate")]:new Date(i.year,i.month,i.day)}}if(t.max){const i=t.max;if(s.a.elementsToString(r,o,e)>s.a.elementsToString(i.year,i.month,i.day))return{[this.getKeyValue(n,"maxDate")]:new Date(i.year,i.month,i.day)}}}return null}areDateRangesValid(e,t){return this.isDateElementValid(e)&&this.isDateElementValid(t)&&s.a.elementsToString(e.year,e.month,e.day)<=s.a.elementsToString(t.year,t.month,t.day)}getKeyValue(e,t){return(e||{})[t]||t||void 0}getDaysInMonth(e,t){return new Date(t,e,0).getDate()}monthStringReplace(e){return e&&"string"==typeof e?null==e?void 0:e.toUpperCase().replace(".",""):e}dayStringReplace(e){return Number.isInteger(e)?String(e).padStart(2,"0"):"-"}isDateElementValid(e){return!!e&&Number.isInteger(e.day)&&Number.isInteger(e.month)&&Number.isInteger(e.year)&&!Number.isNaN(new Date(e.year,e.day,e.month).valueOf())}}return e.\u0275fac=function(t){return new(t||e)(o.dc(o.y,8),o.dc(r,8))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},gCq4:function(e,t){e.exports=function(e){return this.__data__.get(e)}},gFfm:function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},gH2X:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("fXoL"),o=n("ofXK"),r=n("1AID"),s=n("RbsG"),a=n("tyNb"),c=n("CPX7"),l=n("BifP");let u=(()=>{class e{constructor(e,t,n,o,s){var a;this.document=e,this.router=t,this.basket=n,this.cmsConfig=o,this.locale=s,this.showModal$=new i.p,this.cmsBookingGuestFee=!1,this.availableGuestFeeRoutes=["/book/passenger","/book/seats","/book/extras","/book/review"],this.cmsBookingGuestFee=this.cmsConfig.getBookingFeatureValue(r.a.BookingGuestFee)||!1,this.cmsGuestFeeConfig=(null===(a=this.cmsConfig._cmsConfig.bookingSettings)||void 0===a?void 0:a.guestFeeConfig)||null}openModal(e=!0){this.showModal$.emit({open:!0,animation:e}),this.document.body.classList.add("open-modal")}closeModal(e=!0){this.showModal$.emit({open:!1,animation:e}),this.document.body.classList.remove("open-modal")}showNewAccountSidebar(e=s.k.Anonymous){var t,n,i;return this.isGuestFeeSidebarActive&&(null===(t=this.cmsGuestFeeConfig)||void 0===t?void 0:t.locales.includes(this.locale))&&(null===(i=null===(n=this.cmsGuestFeeConfig)||void 0===n?void 0:n.agentTypes)||void 0===i?void 0:i.includes(e))&&this.availableGuestFeeRoutes.includes(this.router.url)&&this.isBookingValidForGuestFee}get isBookingValidForGuestFee(){var e,t,n,i,o;return(null===(e=this.basket)||void 0===e?void 0:e._basketBooking)&&!(null===(o=null===(i=null===(n=null===(t=this.basket)||void 0===t?void 0:t._basketBooking)||void 0===n?void 0:n.services)||void 0===i?void 0:i.services)||void 0===o?void 0:o.find(e=>"VivaFan"===e.code))}get isGuestFeeSidebarActive(){return this.cmsBookingGuestFee}get isGuestFeeActive(){var e;return this.isGuestFeeSidebarActive&&(null===(e=this.cmsGuestFeeConfig)||void 0===e?void 0:e.locales.includes(this.locale))}}return e.\u0275fac=function(t){return new(t||e)(i.dc(o.e),i.dc(a.g),i.dc(c.a),i.dc(l.a),i.dc(i.y))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("2fFW"),o=n("NJ4a");const r={closed:!0,next(e){},error(e){if(i.a.useDeprecatedSynchronousErrorHandling)throw e;Object(o.a)(e)},complete(){}}},gVin:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("mrSG"),o=n("AytR"),r=n("fXoL"),s=n("wtyH");let a=(()=>{class e{constructor(e){this.servicesSvc=e,this.prevCodeValue="",this.serviceName=""}transform(e,t){return e||"string"==typeof e?(this.prevCodeValue===e||(this.prevCodeValue=e,this.serviceName=e,this.getBasketName(e,t)),this.serviceName):this.serviceName}getBasketName(e,t){return Object(i.a)(this,void 0,void 0,(function*(){yield this.servicesSvc.ready.toPromise();const n=this.servicesSvc.getService(e);n&&(n.basketName||n.name)?this.serviceName=n.basketName||n.name:(o.g.production||console.warn("::BasketNamePipe::","No service found for code: "+e),this.serviceName=t||e)}))}}return e.\u0275fac=function(t){return new(t||e)(r.Tb(s.a))},e.\u0275pipe=r.Sb({name:"basketName",type:e,pure:!1}),e})()},"h/S9":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return a}));class i{}class o{constructor(){this.tij2TjxSwitch=!1,this.checkInPassengers=[],this.checkInNextView="",this.bookingSeats=null,this.checkInPaidCharges=null,this.passengerChanges=null,this.availabilityJourneyKeys=[],this.originalJourneyKeys=[],this.availabilitySearchType=null,this.bfHotelsOfferAvailable=!1,this.Boxever={trackingId:"",browserId:""},this.preSelectedServices=[],this.recommendedServices=[],this.calledGuestFee=!1,this.iropActionApplied=null,this.allowIropAccess=!1,this.iropBlackoutPeriods=[],this.reasonForTravel=null,this.carbonOffsetModalShowed=!1,this.otpDetail="",this.originalFare=null,this.iropAvailabilityParams={itineraryCode:"",passengers:""}}}var r=function(e){return e.Active="Active",e.Passive="Passive",e.Expired="Expired",e}({}),s=function(e){return e.None="None",e.NonStop="NonStop",e.Through="Through",e.Direct="Direct",e.Connect="Connect",e.All="All",e}({}),a=function(e){return e.Transfer="transfer",e.CarryOn="carryOn",e.CheckedBaggage="checkedBaggage",e.Other="other",e.Recommended="recommended",e}({})},h2JM:function(e,t,n){"use strict";n.d(t,"a",(function(){return Et}));var i=n("mrSG"),o=n("fXoL"),r=n("RJ73"),s=n("3Pt+"),a=n("Kj3r"),c=n("quSY"),l=n("cPaJ"),u=n("rdGu"),d=n("AytR"),h=n("EcEN"),p=n("d/Sv"),g=n("1AID"),f=n("kh7C"),m=n("G/yK"),b=n("BifP"),v=n("lALM"),y=n("/XB6"),_=n("JK/P"),C=n("B8vn"),S=n("y4gz"),O=n("tyNb"),T=n("ofXK"),w=n("mGSR"),k=n("ckWZ"),A=n("K6W5"),E=n("ZOsW"),M=n("VXoX"),P=n("q/KQ"),D=n("ib+v");function x(e,t){1&e&&(o.Xb(0),o.Zb(1,"div",23),o.Sc(2),o.kc(3,"cmsTranslate"),o.Yb(),o.Zb(4,"div",24),o.Sc(5),o.kc(6,"cmsTranslate"),o.Yb(),o.Wb()),2&e&&(o.Hb(2),o.Tc(o.lc(3,2,"BOOKER_SUBTITLE_DESTINATION-CITY")),o.Hb(3),o.Tc(o.lc(6,4,"GLOBAL_LABEL_ORIGIN-PLACEHOLDER")))}function I(e,t){if(1&e&&(o.Xb(0),o.Zb(1,"div",23),o.Sc(2),o.kc(3,"cmsTranslate"),o.Yb(),o.Zb(4,"div",24),o.Sc(5),o.Yb(),o.Wb()),2&e){const e=o.jc();o.Hb(2),o.Tc(o.lc(3,2,"BOOKER_SUBTITLE_DESTINATIONS")),o.Hb(3),o.Tc(null==e.selectedOrigin?null:e.selectedOrigin.name)}}function L(e,t){if(1&e){const e=o.ac();o.Zb(0,"app-tablist-bar",25),o.hc("activeTabChange",(function(t){return o.Hc(e),o.jc().changeTab(t)})),o.Yb()}if(2&e){const e=o.jc();o.sc("tabOptions",e.tabOptions)("activeTab",e.activeTab.tab)("theme","light")}}function R(e,t){1&e&&(o.Xb(0),o.Sc(1),o.kc(2,"cmsTranslate"),o.Wb()),2&e&&(o.Hb(1),o.Uc(" ",o.lc(2,1,"BOOKER_LABEL_INTERNATIONAL-DESTINATIONS")," "))}function N(e,t){if(1&e&&(o.Xb(0),o.Sc(1),o.Wb()),2&e){const e=o.jc().item;o.Hb(1),o.Uc(" ",e.name," ")}}function j(e,t){if(1&e&&(o.Qc(0,R,3,3,"ng-container",5),o.Qc(1,N,2,1,"ng-container",5)),2&e){const e=t.item;o.sc("ngIf","AA"===e.code),o.Hb(1),o.sc("ngIf","AA"!==e.code)}}function B(e,t){1&e&&(o.Xb(0),o.Sc(1),o.kc(2,"cmsTranslate"),o.Wb()),2&e&&(o.Hb(1),o.Uc(" ",o.lc(2,1,"BOOKER_LABEL_ALL-DESTINATIONS")," "))}function F(e,t){if(1&e&&(o.Xb(0),o.Sc(1),o.Wb()),2&e){const e=o.jc().item;o.Hb(1),o.Uc(" ",e.name," ")}}const H=function(e){return{regex:"%%count%%",newValue:e}},U=function(e){return[e]};function Y(e,t){if(1&e&&(o.Zb(0,"span",29),o.Zb(1,"div",30),o.Zb(2,"div",31),o.Zb(3,"span",32),o.Qc(4,B,3,3,"ng-container",5),o.Qc(5,F,2,1,"ng-container",5),o.Yb(),o.Zb(6,"span",33),o.Sc(7),o.kc(8,"cmsRegexReplace"),o.kc(9,"cmsTranslate"),o.Yb(),o.Yb(),o.Yb(),o.Yb()),2&e){const e=t.item;o.Hb(4),o.sc("ngIf","AA"===e.code),o.Hb(1),o.sc("ngIf","AA"!==e.code),o.Hb(2),o.Uc(" ",o.mc(8,3,o.lc(9,6,"BOOKER_LABEL_DESTINATIONS-COUNT"),o.vc(10,U,o.vc(8,H,e.amount.toString())))," ")}}function G(e,t){if(1&e){const e=o.ac();o.Zb(0,"ng-select",26),o.hc("ngModelChange",(function(t){return o.Hc(e),o.jc().selectedInternationalCountryCode=t}))("ngModelChange",(function(t){return o.Hc(e),o.jc().onInternationalSelection(t)})),o.kc(1,"cmsTranslate"),o.Qc(2,j,2,2,"ng-template",27),o.Qc(3,Y,10,12,"ng-template",28),o.Yb()}if(2&e){const e=o.jc();o.sc("items",e.internationalOptions)("bindValue","code")("searchable",!1)("clearable",!1)("placeholder",o.lc(1,6,"BOOKER_LABEL_INTERNATIONAL-DESTINATIONS"))("ngModel",e.selectedInternationalCountryCode)}}function V(e,t){1&e&&o.Vb(0)}function Z(e,t){if(1&e&&(o.Xb(0),o.Qc(1,V,1,0,"ng-container",34),o.Wb()),2&e){o.jc();const e=o.Ec(32);o.Hb(1),o.sc("ngTemplateOutlet",e)}}function $(e,t){1&e&&o.Vb(0)}const W=function(e){return{station:e}};function K(e,t){if(1&e&&(o.Xb(0),o.Qc(1,$,1,0,"ng-container",37),o.Wb()),2&e){const e=t.$implicit;o.jc(2);const n=o.Ec(30);o.Hb(1),o.sc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.vc(2,W,e))}}function z(e,t){if(1&e&&(o.Zb(0,"div",35),o.Qc(1,K,2,4,"ng-container",36),o.Yb()),2&e){const e=t.$implicit;o.Hb(1),o.sc("ngForOf",e)}}function Q(e,t){1&e&&o.Vb(0)}function X(e,t){if(1&e&&(o.Xb(0),o.Qc(1,Q,1,0,"ng-container",37),o.Wb()),2&e){const e=t.$implicit;o.jc(2);const n=o.Ec(30);o.Hb(1),o.sc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.vc(2,W,e))}}function q(e,t){if(1&e&&(o.Zb(0,"div",38),o.Qc(1,X,2,4,"ng-container",36),o.Yb()),2&e){const e=t.$implicit;o.Hb(1),o.sc("ngForOf",e)}}const J=function(e){return{active:e}};function ee(e,t){if(1&e&&(o.Xb(0),o.Ub(1,"div",44),o.Wb()),2&e){const e=t.index,n=o.jc(2);o.Hb(1),o.sc("ngClass",o.vc(1,J,n.pageNo===e))}}const te=function(){return[]};function ne(e,t){if(1&e){const e=o.ac();o.Zb(0,"div",39),o.Qc(1,ee,2,3,"ng-container",36),o.Zb(2,"div",40),o.Zb(3,"button",41),o.hc("click",(function(){return o.Hc(e),o.jc().previousPage()})),o.Ub(4,"i",42),o.Yb(),o.Zb(5,"button",41),o.hc("click",(function(){return o.Hc(e),o.jc().nextPage()})),o.Ub(6,"i",43),o.Yb(),o.Yb(),o.Yb()}if(2&e){const e=o.jc();o.Hb(1),o.sc("ngForOf",o.uc(3,te).constructor(e.pageTotal)),o.Hb(2),o.sc("disabled",!e.canGoBack),o.Hb(2),o.sc("disabled",!e.canGoNext)}}function ie(e,t){1&e&&o.Ub(0,"em",17)}function oe(e,t){1&e&&(o.Ub(0,"img",51),o.kc(1,"cmsStaticImage")),2&e&&o.sc("src",o.lc(1,1,"BOOKER-ICON-INTERLINE"),o.Kc)}function re(e,t){if(1&e&&(o.Zb(0,"span",52),o.Sc(1),o.Yb()),2&e){const e=o.jc().station;o.Hb(1),o.Uc(" ",e.code," ")}}const se=function(e){return{extended:e}};function ae(e,t){if(1&e){const e=o.ac();o.Zb(0,"button",45),o.hc("click",(function(){o.Hc(e);const n=t.station;return o.jc().onStationSelect(n)})),o.Zb(1,"span",46),o.Sc(2),o.Yb(),o.Zb(3,"div",47),o.Qc(4,ie,1,0,"em",48),o.Qc(5,oe,2,3,"img",49),o.Qc(6,re,2,1,"span",50),o.Yb(),o.Yb()}if(2&e){const e=t.station,n=o.jc();o.Hb(1),o.sc("title",e.name)("ngClass",o.vc(6,se,n.isMaacStation(e))),o.Hb(1),o.Uc(" ",e.name," "),o.Hb(2),o.sc("ngIf",!n.isOriginSelection&&n.stationIsConnecting(e)),o.Hb(1),o.sc("ngIf",n.altOperatorList[null==e?null:e.code]),o.Hb(1),o.sc("ngIf",!n.isMaacStation(e))}}function ce(e,t){if(1&e){const e=o.ac();o.Zb(0,"div",53),o.Zb(1,"label",54),o.Zb(2,"input",55),o.hc("ngModelChange",(function(t){return o.Hc(e),o.jc().partnerToggleValue=t}))("ngModelChange",(function(t){return o.Hc(e),o.jc().partnerToggleChange(t)})),o.Yb(),o.Ub(3,"span",56),o.Zb(4,"label",57),o.Sc(5),o.kc(6,"cmsTranslate"),o.Yb(),o.Yb(),o.Yb()}if(2&e){const e=o.jc();o.Hb(2),o.sc("ngModel",e.partnerToggleValue),o.Hb(3),o.Uc(" ",o.lc(6,2,"BOOKER_LABEL_SHOW-VIVA-DESTINATIONS")," ")}}const le=function(e){return{"has-partner-toggle":e}};let ue=(()=>{class e{constructor(e,t){this.utils=e,this.operatingCarrierSrv=t,this.id="station-selector-modal",this.closeModal=new o.p,this.stationSelect=new o.p,this.stations=[],this.stationType=l.a.DESTINATION,this.ITEMS_PER_COL=7,this.NATIONAL_COUNTRY_CODE="MX",this.ALL_COUNTRIES_CODE="AA",this.colsPerPage=3,this.pageNo=0,this.pageTotal=1,this.activeTab={tab:-1,view:de.MEXICO},this.tabOptions=[],this.nationalStationCols=[],this.internationalStationsCols=[],this.internationalStationsMap=new Map,this.internationalOptions=[],this.altOperatorList={},this.partnerToggleValue=!1,this.stationTabView=de}ngOnInit(){}ngOnChanges(e){this.init(),this.changesRequireTabReset(e)&&(0===this.tabOptions.length&&this.internationalStationsMap.size>0?this.onInternationalSelection(this.ALL_COUNTRIES_CODE):this.changeTab(0))}init(){var e;const t=this.stations.filter(e=>e.countryCode===this.NATIONAL_COUNTRY_CODE);this.internationalStationsMap=new Map;const n=this.stations.filter(e=>e.countryCode!==this.NATIONAL_COUNTRY_CODE);if(Object(f.e)(n)){this.internationalStationsMap.set(this.ALL_COUNTRIES_CODE,n);for(const e of n){const{countryCode:t}=null!=e?e:{};e&&t&&(this.internationalStationsMap.has(t)?this.internationalStationsMap.get(t).push(e):this.internationalStationsMap.set(t,[e]))}}this.internationalOptions=[];const i=null===(e=Array.from(this.internationalStationsMap.keys()))||void 0===e?void 0:e.sort();for(const o of i){const e=this.internationalStationsMap.get(o);Object(f.e)(e)&&this.internationalOptions.push({code:o,name:o===this.ALL_COUNTRIES_CODE?"All destinations":e[0].countryName,amount:e.length})}this.tabOptions=[],t.length>0&&this.tabOptions.push(he[de.MEXICO]),this.nationalStationCols=this.utils.simpleArrayToMultidimensionalArray(t,this.ITEMS_PER_COL),this.setStationAltOperatorFlag()}nextPage(){this.canGoNext&&this.pageNo++}previousPage(){this.canGoBack&&this.pageNo--}get canGoNext(){return this.pageNo+1<this.pageTotal}get canGoBack(){return this.pageNo>0}changeTab(e){var t,n;this.onInternationalSelection(void 0),this.activeTab.tab=e,this.activeTab.view=null===(n=null===(t=this.tabOptions[e])||void 0===t?void 0:t.data)||void 0===n?void 0:n.tabView,this.pageTotal=this.getPageTotal(this.activeTab.view),this.pageNo=0}onInternationalSelection(e){this.partnerToggleValue=!1,this.selectedInternationalCountryCode=e,e&&this.setInternationalStationCols(e)}partnerToggleChange(e){this.partnerToggleValue=e;const t=this.selectedInternationalCountryCode;t&&this.setInternationalStationCols(t,this.partnerToggleValue)}setInternationalStationCols(e,t=!1){let n=this.internationalStationsMap.get(e);Object(f.e)(n)&&(t&&(n=n.filter(e=>!this.altOperatorList[e.code])),this.internationalStationsCols=this.utils.simpleArrayToMultidimensionalArray(n,this.ITEMS_PER_COL),this.activeTab.tab=-1,this.activeTab.view=de.INTERNATIONAL,this.pageTotal=this.getPageTotal(this.activeTab.view),this.pageNo=0)}onCloseModal(){this.closeModal.emit()}onStationSelect(e){this.stationSelect.emit({station:e,type:this.stationType})}stationIsConnecting(e){return e instanceof r.b&&e.travelType===r.h.CONNECTING}setStationAltOperatorFlag(){this.altOperatorList={},this.stations.forEach(e=>{this.altOperatorList[null==e?void 0:e.code]=!!this.operatingCarrierSrv.getExternalOperatorInStation(null==e?void 0:e.code)})}getPageTotal(e=de.MEXICO){const t=this.getStationCols(e);return Math.ceil(t.length/this.colsPerPage)}get isOriginSelection(){return this.stationType===l.a.ORIGIN}isMaacStation(e){return!!(null==e?void 0:e.maac)}getStationCols(e){switch(e){case de.INTERNATIONAL:return this.internationalStationsCols;case de.MEXICO:default:return this.nationalStationCols}}get currentStationCols(){return this.getStationCols(this.activeTab.view)}changesRequireTabReset(e){return Object.keys(e||{}).some(e=>["stations","stationType"].includes(e))}get showPartnerToggle(){return this.activeTab.view!==de.MEXICO}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(f.a),o.Tb(w.a))},e.\u0275cmp=o.Nb({type:e,selectors:[["app-station-selector"]],inputs:{id:"id",stations:"stations",selectedOrigin:"selectedOrigin",stationType:"stationType"},outputs:{closeModal:"closeModal",stationSelect:"stationSelect"},features:[o.Fb],decls:33,vars:28,consts:[[3,"id"],[1,"viva-card","white","border-0","modal-container"],[1,"modal-header","light","w-100"],[1,"modal-close","green",3,"click"],[1,"fas","fa-times"],[4,"ngIf"],[1,"modal-body","w-100",3,"ngClass"],[1,"tablist-container","bottom-border"],[3,"tabOptions","activeTab","theme","activeTabChange",4,"ngIf"],["class","select-station-selector",3,"items","bindValue","searchable","clearable","placeholder","ngModel","ngModelChange",4,"ngIf"],[1,"w-100","stations",3,"ngClass"],[1,"w-100","stations-container"],["class","stations-col d-lg-flex flex-column d-none",4,"ngFor","ngForOf"],["class","stations-col d-lg-none flex-column d-flex",4,"ngFor","ngForOf"],[1,"modal-footer","w-100","d-flex","flex-row","align-items-center","justify-content-between"],[1,"d-flex","flex-row","align-items-center","symbology"],[1,"small-text","mr-30"],[1,"fas","fa-random","mr-5","icon-connecting"],[1,"small-text","mr-30","d-flex","align-items-center"],["height","13","loading","lazy","alt","",1,"mr-1",3,"src"],["class","d-none d-lg-flex flex-row align-items-center",4,"ngIf"],["stationButton",""],["partnerToggle",""],[1,"subheader","pb-5"],[1,"h3"],[3,"tabOptions","activeTab","theme","activeTabChange"],[1,"select-station-selector",3,"items","bindValue","searchable","clearable","placeholder","ngModel","ngModelChange"],["ng-label-tmp",""],["ng-option-tmp",""],[1,"ng-option-label"],[1,"d-inline-block","w-100"],[1,"d-flex","justify-content-between","align-items-center"],[1,"medium-title","dark","country-selector-name"],[1,"pl-10","small-title","opacity-4"],[4,"ngTemplateOutlet"],[1,"stations-col","d-lg-flex","flex-column","d-none"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"stations-col","d-lg-none","flex-column","d-flex"],[1,"d-none","d-lg-flex","flex-row","align-items-center"],[1,"paginator-control"],[1,"viva-btn",3,"disabled","click"],[1,"fas","fa-chevron-left"],[1,"fas","fa-chevron-right"],[1,"round-paginator",3,"ngClass"],[1,"viva-btn","tertiary","height-auto","station-row","d-flex","flex-row","align-items-center","justify-content-between",3,"click"],[1,"medium-title","station-title",3,"title","ngClass"],[1,"station-code","d-flex","ml-10"],["class","fas fa-random mr-5 icon-connecting",4,"ngIf"],["height","15","loading","lazy","alt","",3,"src",4,"ngIf"],["class","small-title opacity-5 text-right",4,"ngIf"],["height","15","loading","lazy","alt","",3,"src"],[1,"small-title","opacity-5","text-right"],[1,"partner-toggle","d-flex","align-items-center","justify-content-end"],[1,"toggle-container"],["type","checkbox","id","partner-station-toggle","name","partner-station-toggle",3,"ngModel","ngModelChange"],[1,"toggle"],["for","partner-station-toggle",1,"font-weight-bold","regular-text","dark","pl-20"]],template:function(e,t){1&e&&(o.Zb(0,"app-modal",0),o.Zb(1,"div",1),o.Zb(2,"div",2),o.Zb(3,"button",3),o.hc("click",(function(){return t.onCloseModal()})),o.Ub(4,"i",4),o.Yb(),o.Qc(5,x,7,6,"ng-container",5),o.Qc(6,I,6,4,"ng-container",5),o.Yb(),o.Zb(7,"div",6),o.Zb(8,"div",7),o.Qc(9,L,1,3,"app-tablist-bar",8),o.Qc(10,G,4,8,"ng-select",9),o.Yb(),o.Qc(11,Z,2,1,"ng-container",5),o.Zb(12,"div",10),o.Zb(13,"div",11),o.Qc(14,z,2,1,"div",12),o.kc(15,"slice"),o.Qc(16,q,2,1,"div",13),o.Yb(),o.Yb(),o.Yb(),o.Zb(17,"div",14),o.Zb(18,"div",15),o.Zb(19,"span",16),o.Ub(20,"i",17),o.Sc(21),o.kc(22,"cmsTranslate"),o.Yb(),o.Zb(23,"span",18),o.Ub(24,"img",19),o.kc(25,"cmsStaticImage"),o.Sc(26),o.kc(27,"cmsTranslate"),o.Yb(),o.Yb(),o.Qc(28,ne,7,4,"div",20),o.Yb(),o.Yb(),o.Yb(),o.Qc(29,ae,7,8,"ng-template",null,21,o.Rc),o.Qc(31,ce,7,4,"ng-template",null,22,o.Rc)),2&e&&(o.sc("id",t.id),o.Hb(5),o.sc("ngIf",t.isOriginSelection),o.Hb(1),o.sc("ngIf",!t.isOriginSelection),o.Hb(1),o.sc("ngClass",o.vc(24,le,t.showPartnerToggle)),o.Hb(2),o.sc("ngIf",t.tabOptions.length>0),o.Hb(1),o.sc("ngIf",t.internationalOptions.length>0),o.Hb(1),o.sc("ngIf",t.showPartnerToggle),o.Hb(1),o.sc("ngClass",o.vc(26,le,t.showPartnerToggle)),o.Hb(2),o.sc("ngForOf",o.nc(15,14,t.currentStationCols,t.pageNo*t.colsPerPage,t.colsPerPage*(t.pageNo+1))),o.Hb(2),o.sc("ngForOf",t.currentStationCols),o.Hb(5),o.Uc(" ",o.lc(22,18,"BOOKER_LABEL_CONNECTING-FLIGHTS")," "),o.Hb(3),o.sc("src",o.lc(25,20,"BOOKER-ICON-INTERLINE"),o.Kc),o.Hb(2),o.Uc(" ",o.lc(27,22,"BOOKER_LABEL_PARTNERSHIP-FLIGHTS")," "),o.Hb(2),o.sc("ngIf",t.pageTotal>1))},directives:[k.a,T.u,T.r,T.t,A.a,E.a,s.u,s.x,E.e,E.c,T.B,s.b],pipes:[T.F,M.a,P.a,D.a],styles:['.modal-container[_ngcontent-%COMP%]{position:relative;width:100%}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]{border-radius:0;min-height:-webkit-fill-available;height:100%;width:100%;position:fixed;top:0}}.modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background-color:var(--bg4);padding:40px 50px}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:30px 20px 20px}}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:30px 50px;min-width:930px}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:20px 0;height:calc(100% - 150px);overflow:hidden;min-width:auto}}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tablist-container[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-start;width:100%}@media screen and (max-width:575px){.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tablist-container[_ngcontent-%COMP%]{justify-content:space-between}}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .bottom-border[_ngcontent-%COMP%]{border-bottom:1px solid var(--gr60)}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .stations[_ngcontent-%COMP%]{height:250px;margin-top:40px}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .stations[_ngcontent-%COMP%]{margin-top:20px;padding:0 20px;height:calc(100% - 70px);overflow-y:auto;overflow-x:hidden}}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .stations[_ngcontent-%COMP%]   .stations-container[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-columns:repeat(3,1fr);grid-column-gap:60px}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .stations[_ngcontent-%COMP%]   .stations-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:auto}}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .stations-col[_ngcontent-%COMP%]{position:relative}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .stations-col[_ngcontent-%COMP%]:not(:first-child):after{position:absolute;content:"";left:-29px;bottom:0;width:1px;height:100%;background-color:var(--gr15)}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .stations-col[_ngcontent-%COMP%]   .station-row[_ngcontent-%COMP%]{margin-top:20px}}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .stations-col[_ngcontent-%COMP%]   .station-row[_ngcontent-%COMP%]:not(:first-child){margin-top:17px}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .stations-col[_ngcontent-%COMP%]   .station-row[_ngcontent-%COMP%]:not(:first-child){margin-top:20px}}.modal-container[_ngcontent-%COMP%]   .modal-body.has-partner-toggle[_ngcontent-%COMP%]{padding-bottom:0}.modal-container[_ngcontent-%COMP%]   .modal-body.has-partner-toggle[_ngcontent-%COMP%]   .stations[_ngcontent-%COMP%]{margin-top:5px}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]   .modal-body.has-partner-toggle[_ngcontent-%COMP%]   .stations[_ngcontent-%COMP%]{margin-top:0;height:calc(100% - 130px)}}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:20px 50px}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:14px}}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .symbology[_ngcontent-%COMP%]{min-height:20px;border:none}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .round-paginator[_ngcontent-%COMP%]{width:14px;height:14px;margin:0 7px;border-radius:50%;background-color:var(--gr20);transition:background-color .3s cubic-bezier(.165,.84,.44,1)}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .round-paginator.active[_ngcontent-%COMP%]{background-color:var(--bg4)}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .paginator-control[_ngcontent-%COMP%]{margin-left:33px}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .paginator-control[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:0;background-color:transparent;width:20px;height:20px}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .paginator-control[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:var(--bg6);font-size:12px;pointer-events:none}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .paginator-control[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{background-color:var(--gr20)}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .paginator-control[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover > i[_ngcontent-%COMP%]{color:var(--bg2)}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .paginator-control[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:disabled > i[_ngcontent-%COMP%]{color:var(--gr20)}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .paginator-control[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:disabled:hover{background-color:transparent}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .paginator-control[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:not(:last-child){margin-right:16px}.icon-connecting[_ngcontent-%COMP%]{color:var(--bg2);font-size:13px}.station-title[_ngcontent-%COMP%]{text-align:left;width:150px;white-space:nowrap;word-wrap:none;overflow:hidden;text-overflow:ellipsis}@media screen and (max-width:991px){.station-title[_ngcontent-%COMP%]{font-size:14px;width:auto;color:var(--bg4)}}.station-title.extended[_ngcontent-%COMP%]{width:190px}.station-code[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:35px}.country-selector-name[_ngcontent-%COMP%]{font-weight:700;text-wrap:nowrap;overflow:hidden;text-overflow:ellipsis}.partner-toggle[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px}@media screen and (max-width:991px){.partner-toggle[_ngcontent-%COMP%]{padding-top:15px;padding-right:15px;padding-left:15px}}.partner-toggle[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked ~ .toggle[_ngcontent-%COMP%]{background-color:var(--lg4);border-color:var(--lg4)}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tablist-container[_ngcontent-%COMP%]{width:auto;margin:0 15px}@media screen and (max-width:991px){.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tablist-container[_ngcontent-%COMP%]     .booker-tablist-list{padding:0}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tablist-container[_ngcontent-%COMP%]     .booker-tablist-item{text-align:center}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tablist-container[_ngcontent-%COMP%]     .booker-tablist-link{padding-left:35px;padding-right:35px}}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tablist-container[_ngcontent-%COMP%]     .booker-tablist-link:after{background-color:transparent}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tablist-container[_ngcontent-%COMP%]     .booker-tablist-link.active:after, .modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tablist-container[_ngcontent-%COMP%]     .booker-tablist-link:hover:after{background-color:var(--vg4)}']}),e})();var de=function(e){return e[e.MEXICO=0]="MEXICO",e[e.USA=1]="USA",e[e.INTERNATIONAL=2]="INTERNATIONAL",e}({});const he={[de.MEXICO]:{title:"LOWFARE_LABEL_COUNTRY-MEX",data:{tabView:de.MEXICO}},[de.USA]:{title:"GLOBAL_LABEL_USA",data:{tabView:de.USA}},[de.INTERNATIONAL]:{title:"BOOKER_LABEL_INTERNATIONAL-DESTINATIONS",data:{tabView:de.INTERNATIONAL}}};var pe=n("VXQe"),ge=n("wd/R");function fe(e,t){if(1&e&&(o.Xb(0),o.Sc(1),o.kc(2,"date"),o.Wb()),2&e){const e=o.jc(3);o.Hb(1),o.Uc(" "," - "+o.mc(2,1,e.station.endDate,"d MMM")," ")}}function me(e,t){if(1&e&&(o.Zb(0,"span",8),o.Sc(1),o.kc(2,"date"),o.Qc(3,fe,3,4,"ng-container",9),o.Yb()),2&e){const e=o.jc(2);o.Hb(1),o.Uc(" ",o.mc(2,2,e.station.startDate,"d MMM")," "),o.Hb(2),o.sc("ngIf",e.station.endDate)}}function be(e,t){if(1&e&&(o.Zb(0,"div",1),o.Zb(1,"div",2),o.Ub(2,"i",3),o.Zb(3,"div",4),o.Zb(4,"div",5),o.Zb(5,"span",6),o.Sc(6),o.Yb(),o.Qc(7,me,4,5,"span",7),o.Yb(),o.Yb(),o.Yb(),o.Yb()),2&e){const e=o.jc();o.Hb(6),o.Vc(" ",e.station.origin.name||e.station.origin.code," - ",e.station.destination.name||e.station.destination.code," "),o.Hb(1),o.sc("ngIf",e.showDate)}}let ve=(()=>{class e{constructor(){this.currentDate=new Date,this.showDate=!1}ngOnInit(){}ngOnChanges(){this.showDate=!1,this.station&&ge(this.station.startDate).isSameOrAfter(ge(this.currentDate),"D")&&(this.showDate=!0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Nb({type:e,selectors:[["app-station-saved-item"]],inputs:{station:"station"},features:[o.Fb],decls:1,vars:1,consts:[["class","station-item main-container",4,"ngIf"],[1,"station-item","main-container"],[1,"inner-container"],[1,"station-icon","fas","fa-history"],[1,"sub-container"],[1,"left-inner-container"],[1,"title"],["class","small-title opacity-50",4,"ngIf"],[1,"small-title","opacity-50"],[4,"ngIf"]],template:function(e,t){1&e&&o.Qc(0,be,8,3,"div",0),2&e&&o.sc("ngIf",t.station)},directives:[T.u],pipes:[T.f],styles:[".station-item.main-container[_ngcontent-%COMP%]{margin:5px 0;min-height:45px;width:100%;overflow:hidden;cursor:pointer}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%]{margin:5px 20px;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{text-align:center;flex:0 0 20px;color:var(--bg4);font-size:15px;margin-top:5px;margin-right:10px}.station-item[_ngcontent-%COMP%]:hover{background-color:var(--sih)}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .left-inner-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-start}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .left-inner-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bg6)}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .right-inner-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-end}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .result-history[_ngcontent-%COMP%]{justify-content:flex-start}.station-item[_ngcontent-%COMP%]   .station-badge.badge-destination[_ngcontent-%COMP%]{background-color:var(--bg4)}.station-item[_ngcontent-%COMP%]   .station-badge.badge-connection[_ngcontent-%COMP%]{background-color:var(--vg4)}.station-item[_ngcontent-%COMP%]   .station-icon[_ngcontent-%COMP%]{font-size:15px!important}.station-item[_ngcontent-%COMP%]   .opacity-50[_ngcontent-%COMP%]{opacity:.5}.station-item[_ngcontent-%COMP%]   .support-box[_ngcontent-%COMP%]{font-size:10px;color:var(--bg4);background-color:var(--sc-g);height:15px;border-radius:3px}.station-item[_ngcontent-%COMP%]   .support-box.mex[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.nlu[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.tlc[_ngcontent-%COMP%]{color:var(--wh1)}.station-item[_ngcontent-%COMP%]   .support-box.mex[_ngcontent-%COMP%]{background-color:var(--gr60)}.station-item[_ngcontent-%COMP%]   .support-box.nlu[_ngcontent-%COMP%]{background-color:var(--lg4)}.station-item[_ngcontent-%COMP%]   .support-box.tlc[_ngcontent-%COMP%]{background-color:var(--bg4)}.station-item[_ngcontent-%COMP%]   .support-box.cun[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.tuy[_ngcontent-%COMP%]{font-weight:100}.station-item[_ngcontent-%COMP%]   .support-box.cun[_ngcontent-%COMP%]{background-color:var(--wh1);color:var(--gr60);border:1px solid var(--gr60)}.station-item[_ngcontent-%COMP%]   .support-box.tuy[_ngcontent-%COMP%]{background-color:var(--wh1);color:var(--lg4);border:1px solid var(--lg4)}.station-item[_ngcontent-%COMP%]   .support-box.tjx[_ngcontent-%COMP%]{background-color:#fff3f9;color:#3f2b56}@media screen and (max-width:720px){.station-item[_ngcontent-%COMP%]   .support-box[_ngcontent-%COMP%]{height:13px;margin:4px 0 2px}}"]}),e})();function ye(e,t){if(1&e&&(o.Zb(0,"div",11),o.Sc(1),o.Yb()),2&e){const e=o.jc(2);o.sc("ngClass",e.station.code.toLowerCase()),o.Hb(1),o.Uc(" ",e.station.supportText," ")}}function _e(e,t){1&e&&(o.Ub(0,"img",12),o.kc(1,"cmsStaticImage")),2&e&&o.sc("src",o.lc(1,1,"BOOKER-ICON-INTERLINE"),o.Kc)}function Ce(e,t){if(1&e&&(o.Zb(0,"div",1),o.Zb(1,"div",2),o.Ub(2,"i"),o.Zb(3,"div",3),o.Zb(4,"div",4),o.Zb(5,"div",5),o.Zb(6,"span"),o.Sc(7),o.Yb(),o.Qc(8,ye,2,2,"div",6),o.Yb(),o.Zb(9,"span",7),o.Sc(10),o.Yb(),o.Yb(),o.Zb(11,"div",8),o.Zb(12,"div",9),o.Qc(13,_e,2,3,"img",10),o.Zb(14,"span",7),o.Sc(15),o.Yb(),o.Yb(),o.Yb(),o.Yb(),o.Yb(),o.Yb()),2&e){const e=o.jc();o.Hb(2),o.Kb("station-icon fas ",e.iconType,""),o.Hb(5),o.Tc(e.station.name),o.Hb(1),o.sc("ngIf",(null==e.station?null:e.station.supportText)&&e.station.productType!==e.productType.MAAC),o.Hb(2),o.Uc(" ",e.station.countryName," "),o.Hb(3),o.sc("ngIf",e.operatedByFlag),o.Hb(2),o.Uc(" ",null!=e.station&&e.station.maac?e.areaCodes:e.station.code," ")}}let Se=(()=>{class e{constructor(e,t){this.flightStationsService=e,this.operatingCarrierSrv=t,this.isDefaultStation=!1,this.iconType="",this.areaCodes="",this.stationType=r.i,this.productType=r.e,this.operatedByFlag=!1}ngOnInit(){}ngOnChanges(){var e;this.iconType=this.getStationType(this.station),this.operatedByFlag=!!this.operatingCarrierSrv.getExternalOperatorInStation(null===(e=this.station)||void 0===e?void 0:e.code)}getStationType(e){if(!e||!e.type)return"fa-map-marker-question";if(e.productType===r.e.MAAC&&e.maac)return this.areaCodes=this.flightStationsService.getAreaCodes(e.code),"fa-map-marker-alt";if(this.isDefaultStation)return"fa-map-marker-alt";switch(e.type){case this.stationType.AIRPORT:return"fa-plane fa-rotate-270";case this.stationType.BUS_STATION:return"fa-bus";default:return"fa-map-marker-question"}}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(m.a),o.Tb(w.a))},e.\u0275cmp=o.Nb({type:e,selectors:[["app-station-item"]],inputs:{station:"station",isDefaultStation:"isDefaultStation"},features:[o.Fb],decls:1,vars:1,consts:[["class","station-item main-container",4,"ngIf"],[1,"station-item","main-container"],[1,"inner-container"],[1,"sub-container"],[1,"left-inner-container"],[1,"d-flex","flex-md-row","flex-column","title","align-items-md-center","align-items-start","pb-1"],["class","support-box d-flex justify-content-center align-items-center px-5 ml-md-1 ml-0",3,"ngClass",4,"ngIf"],[1,"small-title","opacity-50"],[1,"right-inner-container"],[1,"d-flex","pb-1"],["height","15","loading","lazy","alt","","class","pr-1",3,"src",4,"ngIf"],[1,"support-box","d-flex","justify-content-center","align-items-center","px-5","ml-md-1","ml-0",3,"ngClass"],["height","15","loading","lazy","alt","",1,"pr-1",3,"src"]],template:function(e,t){1&e&&o.Qc(0,Ce,16,8,"div",0),2&e&&o.sc("ngIf",t.station)},directives:[T.u,T.r],pipes:[P.a],styles:[".station-item.main-container[_ngcontent-%COMP%]{margin:5px 0;min-height:45px;width:100%;overflow:hidden;cursor:pointer}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%]{margin:5px 20px;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{text-align:center;flex:0 0 20px;color:var(--bg4);font-size:15px;margin-top:5px;margin-right:10px}.station-item[_ngcontent-%COMP%]:hover{background-color:var(--sih)}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .left-inner-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-start}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .left-inner-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bg6)}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .right-inner-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-end}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .result-history[_ngcontent-%COMP%]{justify-content:flex-start}.station-item[_ngcontent-%COMP%]   .station-badge.badge-destination[_ngcontent-%COMP%]{background-color:var(--bg4)}.station-item[_ngcontent-%COMP%]   .station-badge.badge-connection[_ngcontent-%COMP%]{background-color:var(--vg4)}.station-item[_ngcontent-%COMP%]   .station-icon[_ngcontent-%COMP%]{font-size:15px!important}.station-item[_ngcontent-%COMP%]   .opacity-50[_ngcontent-%COMP%]{opacity:.5}.station-item[_ngcontent-%COMP%]   .support-box[_ngcontent-%COMP%]{font-size:10px;color:var(--bg4);background-color:var(--sc-g);height:15px;border-radius:3px}.station-item[_ngcontent-%COMP%]   .support-box.mex[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.nlu[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.tlc[_ngcontent-%COMP%]{color:var(--wh1)}.station-item[_ngcontent-%COMP%]   .support-box.mex[_ngcontent-%COMP%]{background-color:var(--gr60)}.station-item[_ngcontent-%COMP%]   .support-box.nlu[_ngcontent-%COMP%]{background-color:var(--lg4)}.station-item[_ngcontent-%COMP%]   .support-box.tlc[_ngcontent-%COMP%]{background-color:var(--bg4)}.station-item[_ngcontent-%COMP%]   .support-box.cun[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.tuy[_ngcontent-%COMP%]{font-weight:100}.station-item[_ngcontent-%COMP%]   .support-box.cun[_ngcontent-%COMP%]{background-color:var(--wh1);color:var(--gr60);border:1px solid var(--gr60)}.station-item[_ngcontent-%COMP%]   .support-box.tuy[_ngcontent-%COMP%]{background-color:var(--wh1);color:var(--lg4);border:1px solid var(--lg4)}.station-item[_ngcontent-%COMP%]   .support-box.tjx[_ngcontent-%COMP%]{background-color:#fff3f9;color:#3f2b56}@media screen and (max-width:720px){.station-item[_ngcontent-%COMP%]   .support-box[_ngcontent-%COMP%]{height:13px;margin:4px 0 2px}}"]}),e})();function Oe(e,t){if(1&e&&(o.Zb(0,"div",10),o.Sc(1),o.Yb()),2&e){const e=o.jc(2);o.sc("ngClass",e.station.stationCode.toLowerCase()),o.Hb(1),o.Uc(" ",e.station.supportText," ")}}function Te(e,t){if(1&e&&(o.Zb(0,"span",7),o.Sc(1),o.Yb()),2&e){const e=o.jc(2);o.Hb(1),o.Uc(" ",e.station.stationCode," ")}}function we(e,t){if(1&e&&(o.Zb(0,"div",1),o.Zb(1,"div",2),o.Ub(2,"i"),o.Zb(3,"div",3),o.Zb(4,"div",4),o.Zb(5,"div",5),o.Zb(6,"span"),o.Sc(7),o.Yb(),o.Qc(8,Oe,2,2,"div",6),o.Yb(),o.Zb(9,"span",7),o.Sc(10),o.Yb(),o.Yb(),o.Zb(11,"div",8),o.Qc(12,Te,2,1,"span",9),o.Yb(),o.Yb(),o.Yb(),o.Yb()),2&e){const e=o.jc();o.Hb(2),o.Kb("station-icon fas ",e.iconType,""),o.Hb(5),o.Tc(e.station.stationName),o.Hb(1),o.sc("ngIf",(null==e.station?null:e.station.supportText)&&!e.isMaacStation),o.Hb(2),o.Uc(" ",e.station.countryName," "),o.Hb(2),o.sc("ngIf",!e.isMaacStation)}}let ke=(()=>{class e{constructor(){this.iconType="fa-plane fa-rotate-270",this.isMaacStation=!1}ngOnInit(){this.validateMaacStation()}validateMaacStation(){var e;(null===(e=this.station)||void 0===e?void 0:e.stationCode)&&(this.isMaacStation=this.station.stationCode.startsWith("@"),this.isMaacStation&&(this.iconType="fa-map-marker-alt"))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Nb({type:e,selectors:[["app-station-cms-item"]],inputs:{station:"station"},decls:1,vars:1,consts:[["class","station-item main-container",4,"ngIf"],[1,"station-item","main-container"],[1,"inner-container"],[1,"sub-container"],[1,"left-inner-container"],[1,"d-flex","flex-md-row","flex-column","title","align-items-md-center","align-items-start"],["class","support-box d-flex justify-content-center align-items-center px-5 ml-md-1 ml-0",3,"ngClass",4,"ngIf"],[1,"small-title","opacity-50"],[1,"right-inner-container"],["class","small-title opacity-50",4,"ngIf"],[1,"support-box","d-flex","justify-content-center","align-items-center","px-5","ml-md-1","ml-0",3,"ngClass"]],template:function(e,t){1&e&&o.Qc(0,we,13,7,"div",0),2&e&&o.sc("ngIf",t.station)},directives:[T.u,T.r],styles:[".station-item.main-container[_ngcontent-%COMP%]{margin:5px 0;min-height:45px;width:100%;overflow:hidden;cursor:pointer}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%]{margin:5px 20px;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{text-align:center;flex:0 0 20px;color:var(--bg4);font-size:15px;margin-top:5px;margin-right:10px}.station-item[_ngcontent-%COMP%]:hover{background-color:var(--sih)}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .left-inner-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-start}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .left-inner-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bg6)}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .right-inner-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-end}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .result-history[_ngcontent-%COMP%]{justify-content:flex-start}.station-item[_ngcontent-%COMP%]   .station-badge.badge-destination[_ngcontent-%COMP%]{background-color:var(--bg4)}.station-item[_ngcontent-%COMP%]   .station-badge.badge-connection[_ngcontent-%COMP%]{background-color:var(--vg4)}.station-item[_ngcontent-%COMP%]   .station-icon[_ngcontent-%COMP%]{font-size:15px!important}.station-item[_ngcontent-%COMP%]   .opacity-50[_ngcontent-%COMP%]{opacity:.5}.station-item[_ngcontent-%COMP%]   .support-box[_ngcontent-%COMP%]{font-size:10px;color:var(--bg4);background-color:var(--sc-g);height:15px;border-radius:3px}.station-item[_ngcontent-%COMP%]   .support-box.mex[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.nlu[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.tlc[_ngcontent-%COMP%]{color:var(--wh1)}.station-item[_ngcontent-%COMP%]   .support-box.mex[_ngcontent-%COMP%]{background-color:var(--gr60)}.station-item[_ngcontent-%COMP%]   .support-box.nlu[_ngcontent-%COMP%]{background-color:var(--lg4)}.station-item[_ngcontent-%COMP%]   .support-box.tlc[_ngcontent-%COMP%]{background-color:var(--bg4)}.station-item[_ngcontent-%COMP%]   .support-box.cun[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.tuy[_ngcontent-%COMP%]{font-weight:100}.station-item[_ngcontent-%COMP%]   .support-box.cun[_ngcontent-%COMP%]{background-color:var(--wh1);color:var(--gr60);border:1px solid var(--gr60)}.station-item[_ngcontent-%COMP%]   .support-box.tuy[_ngcontent-%COMP%]{background-color:var(--wh1);color:var(--lg4);border:1px solid var(--lg4)}.station-item[_ngcontent-%COMP%]   .support-box.tjx[_ngcontent-%COMP%]{background-color:#fff3f9;color:#3f2b56}@media screen and (max-width:720px){.station-item[_ngcontent-%COMP%]   .support-box[_ngcontent-%COMP%]{height:13px;margin:4px 0 2px}}"]}),e})();function Ae(e,t){if(1&e&&(o.Zb(0,"div",14),o.Sc(1),o.Yb()),2&e){const e=o.jc(2);o.sc("ngClass",e.station.code.toLowerCase()),o.Hb(1),o.Uc(" ",e.station.supportText," ")}}function Ee(e,t){1&e&&(o.Ub(0,"img",15),o.kc(1,"cmsStaticImage")),2&e&&o.sc("src",o.lc(1,1,"BOOKER-ICON-INTERLINE"),o.Kc)}function Me(e,t){if(1&e&&(o.Zb(0,"div",16),o.Zb(1,"label"),o.Sc(2),o.kc(3,"cmsTranslate"),o.Yb(),o.Yb()),2&e){const e=o.jc(2);o.Hb(2),o.Vc(" ",o.lc(3,2,"GLOBAL_LABEL_CONNECTION")," ",e.station.connectingStations.length>0?" - "+e.station.connectingStations[0]:""," ")}}function Pe(e,t){1&e&&(o.Zb(0,"div",17),o.Zb(1,"label"),o.Sc(2),o.kc(3,"cmsTranslate"),o.Yb(),o.Yb()),2&e&&(o.Hb(2),o.Tc(o.lc(3,1,"BOOKER_LABEL_NON-STOP")))}function De(e,t){1&e&&(o.Zb(0,"div",17),o.Zb(1,"label"),o.Sc(2),o.kc(3,"cmsTranslate"),o.Yb(),o.Yb()),2&e&&(o.Hb(2),o.Tc(o.lc(3,1,"GLOBAL_LABEL_NON-STOP")))}function xe(e,t){if(1&e&&(o.Zb(0,"div",1),o.Zb(1,"div",2),o.Ub(2,"i"),o.Zb(3,"div",3),o.Zb(4,"div",4),o.Zb(5,"div",5),o.Zb(6,"span"),o.Sc(7),o.Yb(),o.Qc(8,Ae,2,2,"div",6),o.Yb(),o.Zb(9,"span",7),o.Sc(10),o.Yb(),o.Yb(),o.Zb(11,"div",8),o.Zb(12,"div",9),o.Qc(13,Ee,2,3,"img",10),o.Zb(14,"span",7),o.Sc(15),o.Yb(),o.Yb(),o.Xb(16,11),o.Qc(17,Me,4,4,"div",12),o.Qc(18,Pe,4,3,"div",13),o.Qc(19,De,4,3,"div",13),o.Wb(),o.Yb(),o.Yb(),o.Yb(),o.Yb()),2&e){const e=o.jc();o.Hb(2),o.Kb("station-icon fas ",e.iconType,""),o.Hb(5),o.Tc(e.station.name),o.Hb(1),o.sc("ngIf",(null==e.station?null:e.station.supportText)&&e.station.productType!==e.productType.MAAC),o.Hb(2),o.Uc(" ",e.station.countryName," "),o.Hb(3),o.sc("ngIf",e.operatedByFlag),o.Hb(2),o.Uc(" ",null!=e.station&&e.station.maac?e.areaCodes:e.station.code," "),o.Hb(1),o.sc("ngSwitch",e.station.travelType),o.Hb(1),o.sc("ngSwitchCase",e.travelType.CONNECTING),o.Hb(1),o.sc("ngSwitchCase",e.travelType.DIRECT),o.Hb(1),o.sc("ngSwitchCase",e.travelType.NONSTOP)}}let Ie=(()=>{class e{constructor(e){this.operatingCarrierSrv=e,this.iconType="",this.areaCodes="",this.stationType=r.g,this.travelType=r.h,this.productType=r.e,this.operatedByFlag=!1}ngOnInit(){}ngOnChanges(){var e;this.iconType=this.getStationType(this.station),this.operatedByFlag=!!this.operatingCarrierSrv.getExternalOperatorInStation(null===(e=this.station)||void 0===e?void 0:e.code)}getStationType(e){if(e.productType===r.e.MAAC&&e.maac)return this.areaCodes=e.maac.areaCodes.toString().replace(/,/g,", "),"fa-map-marker-alt";if(!e||!e.transportationType)return"fa-map-marker-question";switch(e.transportationType){case this.stationType.AIR:return"fa-plane fa-rotate-270";case this.stationType.BUS:return"fa-bus";default:return"fa-map-marker-question"}}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(w.a))},e.\u0275cmp=o.Nb({type:e,selectors:[["app-station-destination-item"]],inputs:{station:"station"},features:[o.Fb],decls:1,vars:1,consts:[["class","station-item main-container",4,"ngIf"],[1,"station-item","main-container"],[1,"inner-container"],[1,"sub-container"],[1,"left-inner-container"],[1,"d-flex","flex-md-row","flex-column","title","align-items-md-center","align-items-start","pb-1"],["class","support-box d-flex justify-content-center align-items-center px-5 ml-md-1 ml-0",3,"ngClass",4,"ngIf"],[1,"small-title","opacity-50"],[1,"right-inner-container"],[1,"d-flex","pb-1"],["height","15","loading","lazy","alt","","class","pr-1",3,"src",4,"ngIf"],[3,"ngSwitch"],["class","viva-badge small station-badge badge-connection",4,"ngSwitchCase"],["class","viva-badge small station-badge badge-destination",4,"ngSwitchCase"],[1,"support-box","d-flex","justify-content-center","align-items-center","px-5","ml-md-1","ml-0",3,"ngClass"],["height","15","loading","lazy","alt","",1,"pr-1",3,"src"],[1,"viva-badge","small","station-badge","badge-connection"],[1,"viva-badge","small","station-badge","badge-destination"]],template:function(e,t){1&e&&o.Qc(0,xe,20,12,"div",0),2&e&&o.sc("ngIf",t.station)},directives:[T.u,T.y,T.z,T.r],pipes:[P.a,M.a],styles:[".station-item.main-container[_ngcontent-%COMP%]{margin:5px 0;min-height:45px;width:100%;overflow:hidden;cursor:pointer}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%]{margin:5px 20px;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none}.station-item.main-container[_ngcontent-%COMP%] > .inner-container[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{text-align:center;flex:0 0 20px;color:var(--bg4);font-size:15px;margin-top:5px;margin-right:10px}.station-item[_ngcontent-%COMP%]:hover{background-color:var(--sih)}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .left-inner-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-start}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .left-inner-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bg6)}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .right-inner-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-end}.station-item[_ngcontent-%COMP%]   .sub-container[_ngcontent-%COMP%]   .result-history[_ngcontent-%COMP%]{justify-content:flex-start}.station-item[_ngcontent-%COMP%]   .station-badge.badge-destination[_ngcontent-%COMP%]{background-color:var(--bg4)}.station-item[_ngcontent-%COMP%]   .station-badge.badge-connection[_ngcontent-%COMP%]{background-color:var(--vg4)}.station-item[_ngcontent-%COMP%]   .station-icon[_ngcontent-%COMP%]{font-size:15px!important}.station-item[_ngcontent-%COMP%]   .opacity-50[_ngcontent-%COMP%]{opacity:.5}.station-item[_ngcontent-%COMP%]   .support-box[_ngcontent-%COMP%]{font-size:10px;color:var(--bg4);background-color:var(--sc-g);height:15px;border-radius:3px}.station-item[_ngcontent-%COMP%]   .support-box.mex[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.nlu[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.tlc[_ngcontent-%COMP%]{color:var(--wh1)}.station-item[_ngcontent-%COMP%]   .support-box.mex[_ngcontent-%COMP%]{background-color:var(--gr60)}.station-item[_ngcontent-%COMP%]   .support-box.nlu[_ngcontent-%COMP%]{background-color:var(--lg4)}.station-item[_ngcontent-%COMP%]   .support-box.tlc[_ngcontent-%COMP%]{background-color:var(--bg4)}.station-item[_ngcontent-%COMP%]   .support-box.cun[_ngcontent-%COMP%], .station-item[_ngcontent-%COMP%]   .support-box.tuy[_ngcontent-%COMP%]{font-weight:100}.station-item[_ngcontent-%COMP%]   .support-box.cun[_ngcontent-%COMP%]{background-color:var(--wh1);color:var(--gr60);border:1px solid var(--gr60)}.station-item[_ngcontent-%COMP%]   .support-box.tuy[_ngcontent-%COMP%]{background-color:var(--wh1);color:var(--lg4);border:1px solid var(--lg4)}.station-item[_ngcontent-%COMP%]   .support-box.tjx[_ngcontent-%COMP%]{background-color:#fff3f9;color:#3f2b56}@media screen and (max-width:720px){.station-item[_ngcontent-%COMP%]   .support-box[_ngcontent-%COMP%]{height:13px;margin:4px 0 2px}}"]}),e})();function Le(e,t){1&e&&(o.Zb(0,"span",7),o.Sc(1),o.kc(2,"cmsTranslate"),o.Yb()),2&e&&(o.Hb(1),o.Uc(" ",o.lc(2,1,"GLOBAL_LABEL_DESTINATION-NOTFOUND")," "))}function Re(e,t){1&e&&(o.Zb(0,"span",7),o.Sc(1),o.kc(2,"cmsTranslate"),o.Yb()),2&e&&(o.Hb(1),o.Uc(" ",o.lc(2,1,"GLOBAL_LABEL_DESTINATION-NOTFOUND")," "))}function Ne(e,t){1&e&&o.Vb(0)}function je(e,t){if(1&e&&(o.Xb(0),o.Zb(1,"div",3),o.Xb(2,4),o.Qc(3,Le,3,3,"span",5),o.Qc(4,Re,3,3,"span",5),o.Wb(),o.Yb(),o.Qc(5,Ne,1,0,"ng-container",6),o.Wb()),2&e){const e=o.jc(),t=o.Ec(5);o.Hb(2),o.sc("ngSwitch",e.resultsType),o.Hb(1),o.sc("ngSwitchCase",e.stationResultsType.ORIGIN),o.Hb(1),o.sc("ngSwitchCase",e.stationResultsType.DESTINATION),o.Hb(1),o.sc("ngTemplateOutlet",t)}}function Be(e,t){if(1&e){const e=o.ac();o.Xb(0),o.Zb(1,"div",9),o.Zb(2,"span",10),o.Sc(3),o.kc(4,"cmsTranslate"),o.Yb(),o.Yb(),o.Zb(5,"div",11),o.Zb(6,"app-station-saved-item",12),o.hc("click",(function(){o.Hc(e);const t=o.jc(2);return t.onSavedStationSearchSelect(t.savedSearch)})),o.Yb(),o.Yb(),o.Wb()}if(2&e){const e=o.jc(2);o.Hb(3),o.Uc(" ",o.lc(4,2,"GLOBAL_LABEL_RECENTSEARCHES")," "),o.Hb(3),o.sc("station",e.savedSearch)}}function Fe(e,t){1&e&&(o.Zb(0,"span",10),o.Sc(1),o.kc(2,"cmsTranslate"),o.Yb()),2&e&&(o.Hb(1),o.Uc(" ",o.lc(2,1,"GLOBAL_LABEL_POPULARDESTINATIONS")," "))}function He(e,t){1&e&&(o.Zb(0,"span",10),o.Sc(1),o.kc(2,"cmsTranslate"),o.Yb()),2&e&&(o.Hb(1),o.Uc(" ",o.lc(2,1,"GLOBAL_LABEL_POPULARDESTINATIONS")," "))}function Ue(e,t){if(1&e){const e=o.ac();o.Xb(0),o.Zb(1,"app-station-item",16),o.hc("click",(function(){o.Hc(e);const t=o.jc(3);return t.onStationSelect(t.defaultStation)})),o.Yb(),o.Wb()}if(2&e){const e=o.jc(3);o.Hb(1),o.sc("station",e.defaultStation)("isDefaultStation",!0)}}function Ye(e,t){if(1&e){const e=o.ac();o.Zb(0,"app-station-cms-item",12),o.hc("click",(function(){o.Hc(e);const t=o.jc().$implicit;return o.jc(3).onRecommendedStationSelect(t)})),o.Yb()}if(2&e){const e=o.jc().$implicit;o.sc("station",e)}}function Ge(e,t){if(1&e&&(o.Xb(0),o.Qc(1,Ye,1,1,"app-station-cms-item",17),o.Wb()),2&e){const e=t.$implicit,n=o.jc(3);o.Hb(1),o.sc("ngIf",n.isNotDefaultStation(e))}}function Ve(e,t){if(1&e&&(o.Xb(0),o.Zb(1,"div",9),o.Xb(2,4),o.Qc(3,Fe,3,3,"span",13),o.Qc(4,He,3,3,"span",13),o.Wb(),o.Yb(),o.Zb(5,"div",14),o.Qc(6,Ue,2,2,"ng-container",1),o.Qc(7,Ge,2,1,"ng-container",15),o.Yb(),o.Wb()),2&e){const e=o.jc(2);o.Hb(2),o.sc("ngSwitch",e.resultsType),o.Hb(1),o.sc("ngSwitchCase",e.stationResultsType.ORIGIN),o.Hb(1),o.sc("ngSwitchCase",e.stationResultsType.DESTINATION),o.Hb(2),o.sc("ngIf",e.defaultStation),o.Hb(1),o.sc("ngForOf",e.popularStations)}}function Ze(e,t){1&e&&(o.Zb(0,"div"),o.Zb(1,"span",18),o.Sc(2),o.kc(3,"cmsTranslate"),o.Yb(),o.Yb()),2&e&&(o.Hb(2),o.Tc(o.lc(3,1,"BOOKER_LABEL_ENTER-DESTINATION-PLACEHOLDER")))}function $e(e,t){1&e&&o.Vb(0)}function We(e,t){if(1&e&&(o.Xb(0),o.Zb(1,"div",8),o.Qc(2,Be,7,4,"ng-container",1),o.Qc(3,Ve,8,5,"ng-container",1),o.Qc(4,Ze,4,3,"div",1),o.Yb(),o.Qc(5,$e,1,0,"ng-container",6),o.Wb()),2&e){const e=o.jc(),t=o.Ec(5);o.Hb(2),o.sc("ngIf",!!e.savedSearch),o.Hb(1),o.sc("ngIf",e.hasPopularStations||e.defaultStation),o.Hb(1),o.sc("ngIf",!e.savedSearch&&!e.hasPopularStations),o.Hb(1),o.sc("ngTemplateOutlet",t)}}function Ke(e,t){if(1&e){const e=o.ac();o.Zb(0,"app-station-item",12),o.hc("click",(function(){o.Hc(e);const n=t.$implicit;return o.jc(3).onStationSelect(n)})),o.Yb()}2&e&&o.sc("station",t.$implicit)}function ze(e,t){if(1&e&&(o.Xb(0),o.Qc(1,Ke,1,1,"app-station-item",20),o.Wb()),2&e){const e=o.jc(2);o.Hb(1),o.sc("ngForOf",e.stations)}}function Qe(e,t){if(1&e){const e=o.ac();o.Zb(0,"app-station-destination-item",12),o.hc("click",(function(){o.Hc(e);const n=t.$implicit;return o.jc(3).onStationSelect(n)})),o.Yb()}2&e&&o.sc("station",t.$implicit)}function Xe(e,t){if(1&e&&(o.Xb(0),o.Qc(1,Qe,1,1,"app-station-destination-item",20),o.Wb()),2&e){const e=o.jc(2);o.Hb(1),o.sc("ngForOf",e.stationDestinations)}}function qe(e,t){if(1&e&&(o.Xb(0),o.Zb(1,"div",8),o.Zb(2,"div",9),o.Zb(3,"span",10),o.Sc(4),o.kc(5,"cmsTranslate"),o.Yb(),o.Yb(),o.Zb(6,"div",14),o.Xb(7,4),o.Qc(8,ze,2,1,"ng-container",19),o.Qc(9,Xe,2,1,"ng-container",19),o.Wb(),o.Yb(),o.Yb(),o.Wb()),2&e){const e=o.jc();o.Hb(4),o.Uc(" ",o.lc(5,4,"GLOBAL_LABEL_RESULTS")," "),o.Hb(3),o.sc("ngSwitch",e.resultsType),o.Hb(1),o.sc("ngSwitchCase",e.stationResultsType.ORIGIN),o.Hb(1),o.sc("ngSwitchCase",e.stationResultsType.DESTINATION)}}function Je(e,t){1&e&&(o.Xb(0),o.Zb(1,"span",24),o.Sc(2),o.kc(3,"cmsTranslate"),o.Yb(),o.Wb()),2&e&&(o.Hb(2),o.Uc(" ",o.lc(3,1,"GLOBAL_ACTION_FLIGHTDESTINATIONS")," "))}function et(e,t){1&e&&(o.Xb(0),o.Zb(1,"span",24),o.Sc(2),o.kc(3,"cmsTranslate"),o.Yb(),o.Wb()),2&e&&(o.Hb(2),o.Uc(" ",o.lc(3,1,"GLOBAL_ACTION_FLIGHTDESTINATIONS")," "))}function tt(e,t){if(1&e){const e=o.ac();o.Zb(0,"div",22),o.Zb(1,"a",23),o.hc("click",(function(){return o.Hc(e),o.jc(2).emitShowStationSelector()})),o.Xb(2,4),o.Qc(3,Je,4,3,"ng-container",19),o.Qc(4,et,4,3,"ng-container",19),o.Wb(),o.Yb(),o.Yb()}if(2&e){const e=o.jc(2);o.Hb(2),o.sc("ngSwitch",e.resultsType),o.Hb(1),o.sc("ngSwitchCase",e.stationResultsType.ORIGIN),o.Hb(1),o.sc("ngSwitchCase",e.stationResultsType.DESTINATION)}}function nt(e,t){if(1&e&&o.Qc(0,tt,5,3,"div",21),2&e){const e=o.jc();o.sc("ngIf",!e.onlySameCountry&&!e.forceDisableFooter)}}const it=function(e){return{"d-none":e}};let ot=(()=>{class e{constructor(e,t,n){this.element=e,this.document=t,this.genericOverlayService=n,this.caller=void 0,this.searching=!1,this.resultsType=void 0,this.stations=[],this.stationDestinations=[],this.defaultStation=void 0,this.popularStations=[],this.savedSearch=void 0,this.onlySameCountry=!1,this.forceDisableFooter=!1,this.selectedStation=new o.p,this.recommendedStation=new o.p,this.selectedSavedSearch=new o.p,this.showStationSelectorModal=new o.p,this.outsideClickClose=new o.p,this.stationResultsType=l.a,this.isOpen=!1}clickOutSide(e){this.element.nativeElement.contains(e)||this.caller&&this.caller.contains(e)||this.close(),e.classList.contains("generic-overlay")&&this.close()}ngOnInit(){}open(){this.isOpen=!0;const{clientWidth:e}=this.document.body;e<800&&this.genericOverlayService.showOverlay()}close(){this.isOpen&&this.outsideClickClose.emit(this.resultsType),this.isOpen=!1;const{clientWidth:e}=this.document.body;e<800&&(this.document.body.style.overflow="auto",this.genericOverlayService.hideOverlay())}onStationSelect(e){this.selectedStation.emit({station:e,type:this.resultsType})}onRecommendedStationSelect(e){this.recommendedStation.emit({station:e,type:this.resultsType})}onSavedStationSearchSelect(e){this.selectedSavedSearch.emit(e)}get hasStationResults(){return this.stations&&this.stations.length>0||this.stationDestinations&&this.stationDestinations.length>0}get hasPopularStations(){return this.popularStations&&this.popularStations.length>0}isNotDefaultStation(e){return!(this.defaultStation&&e.stationCode===this.defaultStation.code)}emitShowStationSelector(){this.showStationSelectorModal.emit(this.resultsType)}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(o.n),o.Tb(T.e),o.Tb(pe.a))},e.\u0275cmp=o.Nb({type:e,selectors:[["app-station-results"]],hostBindings:function(e,t){1&e&&o.hc("click",(function(e){return t.clickOutSide(e.target)}),!1,o.Fc)},inputs:{caller:"caller",searching:"searching",resultsType:"resultsType",stations:"stations",stationDestinations:"stationDestinations",defaultStation:"defaultStation",popularStations:"popularStations",savedSearch:"savedSearch",onlySameCountry:"onlySameCountry",forceDisableFooter:"forceDisableFooter"},outputs:{selectedStation:"selectedStation",recommendedStation:"recommendedStation",selectedSavedSearch:"selectedSavedSearch",showStationSelectorModal:"showStationSelectorModal",outsideClickClose:"outsideClickClose"},decls:6,vars:6,consts:[["tabindex","-1",1,"station-results","main-container",3,"ngClass"],[4,"ngIf"],["flightsLink",""],[1,"no-results"],[3,"ngSwitch"],["class","title",4,"ngSwitchCase"],[4,"ngTemplateOutlet"],[1,"title"],[1,"results-section"],[1,"section-header"],[1,"medium-title"],[1,"results-container","mb-10"],[3,"station","click"],["class","medium-title",4,"ngSwitchCase"],[1,"results-container"],[4,"ngFor","ngForOf"],[3,"station","isDefaultStation","click"],[3,"station","click",4,"ngIf"],[1,"medium-title","mx-20"],[4,"ngSwitchCase"],[3,"station","click",4,"ngFor","ngForOf"],["class","section-footer",4,"ngIf"],[1,"section-footer"],[1,"viva-btn","tertiary","height-auto","px-5","py-10",3,"click"],[1,"text-left","link-color"]],template:function(e,t){1&e&&(o.Zb(0,"div",0),o.Qc(1,je,6,4,"ng-container",1),o.Qc(2,We,6,4,"ng-container",1),o.Qc(3,qe,10,6,"ng-container",1),o.Yb(),o.Qc(4,nt,1,1,"ng-template",null,2,o.Rc)),2&e&&(o.sc("ngClass",o.vc(4,it,!t.isOpen)),o.Hb(1),o.sc("ngIf",t.searching&&!t.hasStationResults),o.Hb(1),o.sc("ngIf",!t.searching),o.Hb(1),o.sc("ngIf",t.searching&&t.hasStationResults))},directives:[T.r,T.u,T.y,T.z,T.B,ve,T.t,Se,ke,Ie],pipes:[M.a],styles:['.station-results.main-container[_ngcontent-%COMP%]{overflow:hidden;z-index:10000;width:100%;position:absolute;left:0;top:calc(100% + 2px);border:1px solid var(--gr25);border-radius:5px;background-color:var(--wh1);box-shadow:0 1px 5px 0 rgba(95,95,95,.07),0 0 50px 0 hsla(0,0%,55.3%,.07)}.station-results.main-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{padding:20px;opacity:.5;background-color:var(--gr20);text-align:center}.station-results.main-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--gr60)}.station-results.main-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%] + .section-footer[_ngcontent-%COMP%]{margin-top:0}.station-results.main-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%] + .section-footer[_ngcontent-%COMP%]:before{content:unset}.station-results.main-container[_ngcontent-%COMP%]   .results-section[_ngcontent-%COMP%]{margin:20px 0}.station-results.main-container[_ngcontent-%COMP%]   .results-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{position:relative;text-align:left;margin:0 20px 20px}.station-results.main-container[_ngcontent-%COMP%]   .results-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.8}.station-results.main-container[_ngcontent-%COMP%]   .results-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:-10px;width:100%;height:1px;background-color:var(--gr20)}.station-results.main-container[_ngcontent-%COMP%]   .results-section[_ngcontent-%COMP%]:not(:only-child){margin-bottom:0}.station-results.main-container[_ngcontent-%COMP%]   .results-section[_ngcontent-%COMP%]   .results-container[_ngcontent-%COMP%]{max-height:280px;overflow-y:auto}.station-results.main-container[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%]{position:relative;box-sizing:content-box;margin:10px 20px 5px}.station-results.main-container[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:block;margin-right:0;margin-left:auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}@media screen and (max-width:800px){.station-results.main-container[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{-webkit-appearance:none}}.station-results.main-container[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .link-color[_ngcontent-%COMP%]{color:var(--bg6)}.station-results.main-container[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:1px;background-color:var(--gr20)}']}),e})();const rt=["resultsOrigin"],st=["resultsDest"];function at(e,t){if(1&e&&(o.Zb(0,"span",25),o.Sc(1),o.Yb()),2&e){const e=o.jc(2);o.Hb(1),o.Tc(e.selectedOrigin.code)}}function ct(e,t){if(1&e){const e=o.ac();o.Zb(0,"div",22),o.hc("focus",(function(){o.Hc(e);const t=o.jc();return t.onOverlayClick(!0,t.stationResultsType.ORIGIN)})),o.Zb(1,"span",23),o.Sc(2),o.Yb(),o.Qc(3,at,2,1,"span",24),o.Yb()}if(2&e){const e=o.jc();o.Hb(2),o.Tc(e.selectedOrigin.name),o.Hb(1),o.sc("ngIf",!e.selectedOrigin.maac)}}function lt(e,t){1&e&&o.Ub(0,"i",26)}function ut(e,t){1&e&&o.Vb(0)}function dt(e,t){if(1&e&&(o.Zb(0,"div",27),o.Zb(1,"div",28),o.Qc(2,ut,1,0,"ng-container",29),o.Yb(),o.Yb()),2&e){o.jc();const e=o.Ec(27);o.Hb(2),o.sc("ngTemplateOutlet",e)}}function ht(e,t){if(1&e&&(o.Zb(0,"span",25),o.Sc(1),o.Yb()),2&e){const e=o.jc(2);o.Hb(1),o.Tc(e.selectedDestination.code)}}function pt(e,t){if(1&e){const e=o.ac();o.Zb(0,"div",22),o.hc("focus",(function(){o.Hc(e);const t=o.jc();return t.onOverlayClick(!0,t.stationResultsType.DESTINATION)})),o.Zb(1,"span",23),o.Sc(2),o.Yb(),o.Qc(3,ht,2,1,"span",24),o.Yb()}if(2&e){const e=o.jc();o.Hb(2),o.Tc(e.selectedDestination.name),o.Hb(1),o.sc("ngIf",!e.selectedDestination.maac)}}function gt(e,t){1&e&&o.Ub(0,"i",30)}function ft(e,t){1&e&&o.Vb(0)}function mt(e,t){if(1&e&&(o.Zb(0,"div",31),o.Zb(1,"div",28),o.Qc(2,ft,1,0,"ng-container",29),o.Yb(),o.Yb()),2&e){o.jc();const e=o.Ec(25);o.Hb(2),o.sc("ngTemplateOutlet",e)}}function bt(e,t){1&e&&o.Vb(0)}function vt(e,t){1&e&&o.Vb(0)}function yt(e,t){if(1&e&&(o.Zb(0,"div",32),o.Zb(1,"div",28),o.Qc(2,bt,1,0,"ng-container",29),o.Qc(3,vt,1,0,"ng-container",29),o.Yb(),o.Yb()),2&e){o.jc();const e=o.Ec(27),t=o.Ec(25);o.Hb(2),o.sc("ngTemplateOutlet",e),o.Hb(1),o.sc("ngTemplateOutlet",t)}}function _t(e,t){1&e&&o.Ub(0,"i",33)}function Ct(e,t){if(1&e){const e=o.ac();o.Zb(0,"label",34),o.Zb(1,"app-station-results",35,36),o.hc("selectedSavedSearch",(function(t){return o.Hc(e),o.jc().onSavedSearchSelect(t)}))("selectedStation",(function(t){return o.Hc(e),o.jc().onStationSelect(t)}))("recommendedStation",(function(t){return o.Hc(e),o.jc().onRecommendationSelect(t)}))("showStationSelectorModal",(function(t){return o.Hc(e),o.jc().doShowStationSelectorModal(t)}))("outsideClickClose",(function(t){return o.Hc(e),o.jc().onModalClose(t)})),o.Yb(),o.Yb()}if(2&e){const e=o.jc(),t=o.Ec(12);o.Hb(1),o.sc("caller",t)("searching",e.destinationSearching||!(null==e.allowedDestinationStations||!e.allowedDestinationStations.length))("stationDestinations",e.destinationStations)("popularStations",e.destCMSStations)("savedSearch",e.onlySameCountry?null:e.savedSearch)("resultsType",e.stationResultsType.DESTINATION)("forceDisableFooter",!(null==e.allowedDestinationStations||!e.allowedDestinationStations.length))("onlySameCountry",e.onlySameCountry)}}function St(e,t){if(1&e){const e=o.ac();o.Zb(0,"label",37),o.Zb(1,"app-station-results",38,39),o.hc("selectedSavedSearch",(function(t){return o.Hc(e),o.jc().onSavedSearchSelect(t)}))("selectedStation",(function(t){return o.Hc(e),o.jc().onStationSelect(t)}))("recommendedStation",(function(t){return o.Hc(e),o.jc().onRecommendationSelect(t)}))("showStationSelectorModal",(function(t){return o.Hc(e),o.jc().doShowStationSelectorModal(t)}))("outsideClickClose",(function(t){return o.Hc(e),o.jc().onModalClose(t)})),o.Yb(),o.Yb()}if(2&e){const e=o.jc(),t=o.Ec(3);o.Hb(1),o.sc("caller",t)("searching",e.originSearching||!(null==e.allowedOriginStations||!e.allowedOriginStations.length))("stations",e.originStations)("defaultStation",e.onlySameCountry?null:e.defaultStation)("popularStations",e.originCMSStations)("savedSearch",e.onlySameCountry?null:e.savedSearch)("resultsType",e.stationResultsType.ORIGIN)("forceDisableFooter",!(null==e.allowedOriginStations||!e.allowedOriginStations.length))("onlySameCountry",e.onlySameCountry)}}const Ot=function(e,t,n){return{active:e,"anticipate-breakpoint":t,"gray-border":n}},Tt=function(e){return{"mobile-border":e}},wt=function(e){return{"d-none":e}},kt=function(e,t){return{"fa-long-arrow-right":e,"fa-exchange-alt":t}},At=function(e){return{"d-block":e}};let Et=(()=>{class e{constructor(e,t,n,i,r,s,a,u,d,f){this.fb=e,this.flightStations=t,this.renderer=n,this.config=i,this.geolocation=r,this.stationSearchHistory=s,this.modalSvc=a,this.datalayerFlightStatus=u,this.datalayerUxHome=d,this.route=f,this.useMaacStation=!1,this.customInputIds={origin:"originInput",destination:"destInput"},this.activeForBookingStationsOnly=!0,this.activeDirectStationsOnly=!1,this.grayBorder=!1,this.borderClass=!1,this.showLastFlightStatusSearch=!1,this.showLastFlightSearch=!0,this.useFlightStatusDatalayer=!1,this.flightType=p.a.ONE_WAY,this.includeMaacStations=!1,this.onlySameCountry=!1,this.allowedOriginStations=[],this.allowedDestinationStations=[],this.allowSetParamsFromUrl=!1,this.selectedStationsChanged=new o.p,this.savedSearchSelected=new o.p,this.searchTerms=new o.p,this.focusOrigin=!1,this.focusDestination=!1,this.originSearching=!1,this.originCMSStations=[],this.defaultStation=void 0,this.destinationSearching=!1,this.destCMSStations=[],this.stations=[],this.originStations=[],this.showOriginInput=!0,this.destinationStations=[],this.showDestinationInput=!0,this.selectedOrigin=void 0,this.selectedDestination=void 0,this.originInputSubscription=c.a.EMPTY,this.destinationInputSubscription=c.a.EMPTY,this.stationResultsType=l.a,this.locationSubscription=c.a.EMPTY,this.isLoading=!0,this.showStationSelectorModal=!1,this.stationSelectorStations=[],this.stationSelectorType=void 0,this.isMobile=!1,this.setLastDestinationAsOrigin=!1,this.inputSearchTerms={origin:null,destination:null},this.stationSelectorId="ssm-"+Object(h.v4)(),this.useMaacStation=this.config.getBookingFeatureValue(g.a.UseMaacStationsAsDefault)||!1}onResize(e){this.isMobile=e.target.innerWidth<=800}ngOnInit(){var e,t;this.selectedStations&&this.onlySameCountry&&this.flightStations._stations.length&&(this.destinationCountry=(null===(e=this.flightStations._stations.find(e=>{var t;return e.code===(null===(t=this.selectedStations)||void 0===t?void 0:t.selectedDestinationCode)}))||void 0===e?void 0:e.countryCode)||null,this.originCountry=(null===(t=this.flightStations._stations.find(e=>{var t;return e.code===(null===(t=this.selectedStations)||void 0===t?void 0:t.selectedOriginCode)}))||void 0===t?void 0:t.countryCode)||null),this.allowSetParamsFromUrl&&this.getSearchParamsFromUrl(),this.initialize(),this.formGroup=this.generateForm(),this.originInputSubscription=this.formGroup.get("origin").valueChanges.pipe(Object(a.a)(300)).subscribe(e=>this.searchOriginStations(e)),this.destinationInputSubscription=this.formGroup.get("destination").valueChanges.pipe(Object(a.a)(300)).subscribe(e=>this.searchDestinationStations(e)),this.windowSize()}ngOnDestroy(){this.originInputSubscription.unsubscribe(),this.destinationInputSubscription.unsubscribe(),this.locationSubscription===c.a.EMPTY||this.locationSubscription.closed||this.locationSubscription.unsubscribe()}ngOnChanges(e){e.selectedStations&&e.selectedStations.currentValue!==e.selectedStations.previousValue&&this.setStationsFromChange(),(e.forceMaxDate||e.forceMinDate)&&this.getLastBookerSearch(),e.prevJourney&&e.prevJourney.isFirstChange()&&e.selectedStations&&e.selectedStations.previousValue&&!e.selectedStations.previousValue.selectedOriginCode&&(this.setLastDestinationAsOrigin=!0)}onStationChange(){this.selectedStationsChanged.emit({selectedOrigin:this.selectedOrigin,selectedDestination:this.selectedDestination})}getSearchParamsFromUrl(){this.itineraryCodes=[];const e=this.route.snapshot.queryParamMap;if(e.has("itineraryCode")){const t=new RegExp("^[a-zA-Z]{3}$"),n=e.get("itineraryCode").split("_").filter(e=>t.test(e));Object(f.d)(n,2)&&(this.itineraryCodes=n.map(e=>e.toUpperCase()))}}initialize(){this.flightStations.ready.then(()=>{this.setOriginCMSStations();let e=this.activeForBookingStationsOnly?this.flightStations._bookingStations:this.flightStations._stations;this.includeMaacStations&&(e=[...this.flightStations._maacStations,...e]),this.stations=e.sort((e,t)=>this.sortStationResultsByName(e,t)),this.stations.length>0&&(this.selectedStations||this.setOriginStationOnInit(),this.getLastBookerSearch()),this.allowedOriginStations.length&&(this.originStations=this.stations.filter(e=>this.allowedOriginStations.includes(e.code)))})}setComponentAsReady(){this.formGroup.get("origin").enable(),this.isLoading=!1}generateForm(){return this.fb.group({origin:[{value:"",disabled:!0},[s.I.minLength(1)]],destination:[{value:"",disabled:!0},[s.I.minLength(1)]]})}setOriginStationOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){this.setOriginFromParams()||this.setUserOriginStation()||(yield this.getStationFromGeo(!0))?(this.setDestinationFromParams(),this.setDestinationStationFromGeo(),this.setComponentAsReady()):(this.setOriginStationFromCMSConfig(),this.setComponentAsReady())}))}setUserOriginStation(){return!1}setOriginFromParams(){if(Object(f.e)(this.itineraryCodes)){const e=this.flightStations.getStation(this.itineraryCodes[0]);return e?(this.setOriginStation(e,!0),this.setComponentAsReady()):Object(f.e)(this.flightStations._stations)&&(this.setOriginStation(this.flightStations._stations[0],!0),this.setComponentAsReady()),!0}return!1}setDestinationFromParams(){if(Object(f.e)(this.itineraryCodes)){const e=this.flightStations.getDestinationStationFromOrigin(this.selectedOrigin,this.itineraryCodes[1]);return e&&this.setDestinationStation(e),!0}return!1}getStationFromGeo(e){return Object(i.a)(this,void 0,void 0,(function*(){yield this.geolocation._isReady;const t=this.geolocation._location;return t.type!==u.b.IP_LOCATION_ERROR&&t.type!==u.b.NO_LOCATION&&(this.locationSubscription.closed||this.locationSubscription.unsubscribe(),this.locationSubscription=this.geolocation.locationChanged.subscribe(t=>{let n=this.flightStations.getClosestStation(t.coords.latitude,t.coords.longitude);n&&(this.includeMaacStations&&this.useMaacStation&&(n=this.flightStations.getMaacStationByAreaCode(n.code)||n),e&&this.setOriginStation(n,!0),this.defaultStation=n)}),!0)}))}setDestinationStationFromGeo(){}setOriginStationFromCMSConfig(){var e;const t=null===(e=this.config._cmsConfig)||void 0===e?void 0:e.defaultOriginStation,n=this.flightStations.getStation(t.fields.stationCode);n?(this.setOriginStation(n,!0),this.setComponentAsReady()):Array.isArray(this.flightStations)&&this.flightStations.length>0&&(this.setOriginStation(this.flightStations[0],!0),this.setComponentAsReady())}setOriginCMSStations(){var e;const t=null===(e=this.config._cmsConfig)||void 0===e?void 0:e.preferredOrigins;if(t){let e=t.map(e=>e.fields);if(!this.includeMaacStations){const t=this.flightStations._maacStations.map(e=>e.code);e=e.filter(e=>!t.includes(e.stationCode))}this.originCMSStations=this.activeForBookingStationsOnly?e.filter(e=>!1!==e.activeForBooking):e,this.onlySameCountry&&this.originCountry&&(this.originCMSStations=this.originCMSStations.filter(e=>e.countryCode===this.originCountry))}}setDestinationCMSStations(){var e;const t=this.flightStations.getCMSStation(this.selectedOrigin.code),n=t?t.preferredDestinations.map(e=>e.fields):[];if(this.destCMSStations=this.activeForBookingStationsOnly?n.filter(e=>!1!==e.activeForBooking):n,!this.destCMSStations.length){const n=(null===(e=this.config._cmsConfig.globalSettings)||void 0===e?void 0:e.defaultDestinations)||[];n&&Array.isArray(n)&&n.length&&n.forEach(e=>{const n=this.flightStations.getCMSStation(e);n&&n.stationCode!==t.stationCode&&(this.activeForBookingStationsOnly&&n.activeForBooking||!this.activeForBookingStationsOnly)&&this.destCMSStations.push(n)})}if(!this.includeMaacStations){const e=this.flightStations._maacStations.map(e=>e.code);this.destCMSStations=this.destCMSStations.filter(t=>!e.includes(t.stationCode))}this.onlySameCountry&&this.destinationCountry&&(this.destCMSStations=this.destCMSStations.filter(e=>e.countryCode===this.destinationCountry))}getLastBookerSearch(){this.getLastUserSearch()||this.getLastAnonSearch()}getLastUserSearch(){return!1}checkValidSavedSearch(){var e;let t=!0;if(this.forceMinDate&&this.savedSearch&&(t=this.forceMinDate.isSameOrBefore(this.savedSearch.startDate,"D"),t||(this.savedSearch=Object.assign(Object.assign({},this.savedSearch),{endDate:void 0,startDate:void 0}))),this.forceMaxDate&&this.savedSearch){let n=this.savedSearch.startDate;(null===(e=this.savedSearch)||void 0===e?void 0:e.endDate)&&(n=this.savedSearch.endDate),t=this.forceMaxDate.isAfter(n,"D"),t||(this.savedSearch=Object.assign(Object.assign({},this.savedSearch),{endDate:void 0,startDate:void 0}))}}getLastAnonSearch(){return Object(i.a)(this,void 0,void 0,(function*(){let e;if(yield this.stationSearchHistory.ready,e=this.showLastFlightStatusSearch?this.stationSearchHistory._lastFlightStatusSearch:this.stationSearchHistory._flightSearches,e&&e.length>0&&this.showLastFlightSearch){const n=e[0];try{n.startDate=new Date(Date.parse(n.startDate)).toISOString(),n.endDate&&(n.endDate=new Date(Date.parse(n.endDate)).toISOString());const e=this.flightStations.getStation(n.origin.code);e&&(n.origin.name=e.name);const t=this.flightStations.getStation(n.destination.code);if(t&&(n.destination.name=t.name),!this.includeMaacStations){const e=this.flightStations._maacStations.map(e=>e.code);if(e.includes(n.origin.code)||e.includes(n.destination.code))return void(this.savedSearch=void 0)}this.savedSearch=n,this.checkValidSavedSearch()}catch(t){d.g.production||console.error("Error while trying to fetch last booking search: ",t),this.savedSearch=void 0}}}))}setStationsFromChange(){this.selectedStations&&this.selectedStations.selectedOriginCode&&this.flightStations.ready.then(()=>{const e=this.flightStations.getStation(this.selectedStations.selectedOriginCode);if(e&&(this.setOriginStation(e,!0),this.selectedStations.selectedDestinationCode)){const e=this.flightStations.getDestinationStationFromOrigin(this.selectedOrigin,this.selectedStations.selectedDestinationCode);e&&this.setDestinationStation(e)}this.isLoading&&(this.setComponentAsReady(),this.getStationFromGeo(!1))})}searchOriginStations(e){if(this.showOriginInput&&e&&e.trim()){const t=e.trim();this.originSearching=!0,this.inputSearchTerms.origin=t,this.inputSearchTerms.destination&&(this.inputSearchTerms.destination=null),this.originStations=this.stations.filter(e=>this.stationSearch(e,t)).sort((e,t)=>this.sortStationResultsByWeight(e,t)).sort((e,t)=>this.sortMaacStationResults(e,t)),this.onlySameCountry&&this.originCountry&&(this.originStations=this.originStations.filter(e=>e.countryCode===this.originCountry)),this.allowedOriginStations.length&&(this.originStations=this.originStations.filter(e=>this.allowedOriginStations.includes(e.code)))}else e||(this.inputSearchTerms.origin=null),this.originSearching=!1;this.searchTerms.emit(this.inputSearchTerms)}searchDestinationStations(e){if(this.showDestinationInput&&this.selectedOrigin&&e&&e.trim()){const t=e.trim();this.destinationSearching=!0,this.inputSearchTerms.destination=t;let n=this.activeForBookingStationsOnly?this.selectedOrigin.destinations.filter(e=>e.activeForBooking):this.selectedOrigin.destinations;this.includeMaacStations&&(n=[...this.flightStations.getDestinationMaacStationsFromOrigin(this.selectedOrigin),...n]),this.allowedDestinationStations.length&&(n=n.filter(e=>this.allowedDestinationStations.includes(e.code))),this.destinationStations=n.filter(e=>!this.activeDirectStationsOnly||e.travelType===r.h.DIRECT).filter(e=>this.stationSearch(e,t)).sort((e,t)=>this.sortStationResultsByName(e,t)).sort((e,t)=>this.sortDestinationStationsByTravelType(e,t)).sort((e,t)=>this.sortStationResultsByWeight(e,t)).sort((e,t)=>this.sortMaacStationResults(e,t)),this.onlySameCountry&&this.destinationCountry&&(this.destinationStations=this.destinationStations.filter(e=>e.countryCode===this.destinationCountry))}else e||(this.inputSearchTerms.destination=null),this.destinationSearching=!1;this.searchTerms.emit(this.inputSearchTerms)}onFocus(e){e===this.stationResultsType.ORIGIN&&(this.focusOrigin||(this.formGroup.get("origin").patchValue(""),this.originSearching=!1),this.focusOrigin=!0,this.originResultsPopup.open()),e===this.stationResultsType.DESTINATION&&(this.focusDestination||(this.formGroup.get("destination").patchValue(""),this.destinationSearching=!1),this.focusDestination=!0,this.destResultsPopup.open())}triggerInputFocusOut(e){e&&e!==l.a.ORIGIN||(this.focusOrigin=!1,this.selectedOrigin?(this.formGroup.get("origin").patchValue(this.selectedOrigin.name),this.toggleInput(!1,l.a.ORIGIN)):this.formGroup.get("origin").patchValue("")),e&&e!==l.a.DESTINATION||(this.focusDestination=!1,this.selectedDestination?(this.formGroup.get("destination").patchValue(this.selectedDestination.name),this.toggleInput(!1,l.a.DESTINATION)):this.formGroup.get("destination").patchValue(""))}onTabOrEnterPress(e,t){"Tab"!==e.code&&"Enter"!==e.code||(e.shiftKey||(this.selectFirstResultOfSearch(t),"Enter"===e.code&&this.inputEnterKeyBlur(t)),this.closePopup(t))}inputEnterKeyBlur(e){let t;switch(e){case l.a.ORIGIN:t=this.renderer.selectRootElement("#"+this.customInputIds.origin);break;case l.a.DESTINATION:t=this.renderer.selectRootElement("#"+this.customInputIds.destination)}t&&t.blur()}selectFirstResultOfSearch(e){e===l.a.ORIGIN&&this.originSearching&&this.originStations.length>0&&(this.setOriginStation(this.originStations[0],!0),this.useFlightStatusDatalayer||this.datalayerUxHome.selectedLocationEvent(e,"Search",this.originStations[0].type,"",this.originStations[0].code,"",this.inputSearchTerms)),e===l.a.DESTINATION&&this.destinationSearching&&this.destinationStations.length>0&&(this.setDestinationStation(this.destinationStations[0]),this.useFlightStatusDatalayer||this.datalayerUxHome.selectedLocationEvent(e,"Search",this.selectedOrigin.type,this.destinationStations[0].travelType,this.selectedOrigin.code,this.destinationStations[0].code,this.inputSearchTerms))}onOverlayClick(e,t){this.toggleInput(e,t),t===l.a.ORIGIN&&this.closePopup(l.a.DESTINATION),t===l.a.DESTINATION&&this.closePopup(l.a.ORIGIN)}toggleInput(e,t){t===l.a.ORIGIN&&(this.showOriginInput=e,e&&setTimeout(()=>{this.renderer.selectRootElement("#"+this.customInputIds.origin).focus()},0)),t===l.a.DESTINATION&&(this.showDestinationInput=e,e&&setTimeout(()=>{this.renderer.selectRootElement("#"+this.customInputIds.destination).focus()},0))}onStationSelect(e){e&&e.station&&(e.station instanceof r.a&&(this.useFlightStatusDatalayer||this.datalayerUxHome.selectedLocationEvent(e.type,"Search",e.station.type,"",e.station.code,"",this.inputSearchTerms),this.setOriginStation(e.station,!0)),e.station instanceof r.b&&(this.useFlightStatusDatalayer||this.datalayerUxHome.selectedLocationEvent(e.type,"Search",this.selectedOrigin.type,e.station.travelType,this.selectedOrigin.code,e.station.code,this.inputSearchTerms),this.setDestinationStation(e.station))),e.type&&this.closePopup(e.type),this.toggleStationSelectorModal(!1)}onRecommendationSelect(e){if(e.type){if(e.type===l.a.ORIGIN&&this.getStationFromCode(e.station.stationCode).then(t=>{this.useFlightStatusDatalayer||this.datalayerUxHome.selectedLocationEvent(e.type,"Search",t.type,"",t.code,"",this.inputSearchTerms),this.setOriginStation(t,!0)}),e.type===l.a.DESTINATION){const t=e.station.stationCode;this.flightStations.ready.then(()=>{const n=this.flightStations.getDestinationStationFromOrigin(this.selectedOrigin,t);n?(this.setDestinationStation(n),this.useFlightStatusDatalayer||this.datalayerUxHome.selectedLocationEvent(e.type,"Search",this.selectedOrigin.type,this.flightType,this.selectedOrigin.code,this.selectedDestination.code,this.inputSearchTerms)):alert("ERROR: Estaci\xf3n destino inv\xe1lida para el origen "+this.selectedOrigin.name+"!")})}this.closePopup(e.type)}}onSavedSearchSelect(e){this.savedSearchSelected.emit(e),this.useFlightStatusDatalayer||this.datalayerUxHome.selectedLocationEvent("origin-destination","Recent Searches",e.stationType,e.travelType,e.origin.code,e.destination.code,this.inputSearchTerms),this.closePopup(l.a.ORIGIN),this.closePopup(l.a.DESTINATION)}setOriginStation(e,t=!1){var n;if(!this.selectedOrigin||this.selectedOrigin.code!==e.code){if(this.selectedOrigin=e,this.prevJourney&&this.setLastDestinationAsOrigin){let e;if(this.prevJourney.destination&&(e=this.flightStations.getStation(this.prevJourney.destination.code)),this.setLastDestinationAsOrigin=!1,this.selectedOrigin=e,!this.selectedOrigin)return void this.clearFields()}this.formGroup.get("origin").patchValue(this.selectedOrigin.name),this.toggleInput(!1,l.a.ORIGIN),t&&(null===(n=this.selectedOrigin)||void 0===n?void 0:n.destinations)&&(this.destinationStations=this.activeForBookingStationsOnly?this.selectedOrigin.destinations.filter(e=>e.activeForBooking):this.selectedOrigin.destinations,this.onlySameCountry&&this.destinationCountry&&(this.destinationStations=this.destinationStations.filter(e=>e.countryCode===this.destinationCountry)),this.allowedDestinationStations.length&&(this.destinationStations=this.destinationStations.filter(e=>this.allowedDestinationStations.includes(e.code))),this.selectedDestination=void 0,this.formGroup.get("destination").enable(),this.formGroup.get("destination").patchValue(""),this.setDestinationCMSStations(),this.showDestinationInput=!0),this.onStationChange()}}setDestinationStation(e){e.code!==this.selectedOrigin.code&&(this.selectedDestination=e,this.formGroup.get("destination").patchValue(this.selectedDestination.name),this.toggleInput(!1,l.a.DESTINATION),this.onStationChange())}getStationFromCode(e){return Object(i.a)(this,void 0,void 0,(function*(){return yield this.flightStations.ready,this.flightStations.getStation(e)}))}closePopup(e){switch(e){case l.a.ORIGIN:this.originResultsPopup.close();break;case l.a.DESTINATION:this.destResultsPopup.close();break;default:console.warn("[FlightInputComponent::closePopup] Unsupported type: ",e)}}clearFields(){this.selectedOrigin=void 0,this.selectedDestination=void 0,this.formGroup.reset(),this.formGroup.get("destination").disable(),this.showOriginInput=!0,this.showDestinationInput=!0,this.onStationChange()}switchStations(){return Object(i.a)(this,void 0,void 0,(function*(){if(this.selectedOrigin&&this.selectedDestination){yield this.flightStations.ready;const e=this.selectedOrigin.code,t=this.flightStations.getStation(this.selectedDestination.code);this.setOriginStation(t);const n=this.flightStations.getDestinationStationFromOrigin(this.selectedOrigin,e);n&&this.setDestinationStation(n),this.useFlightStatusDatalayer?this.datalayerFlightStatus.flipOriginDestination():this.datalayerUxHome.flipOriginDestination()}}))}stationSearch(e,t){if(t&&t.trim()){const n=this.formatStringForSearch(t);if(e&&e.activeForBooking){if(e.name&&this.formatStringForSearch(e.name).includes(n))return e.sortWeight=r.f.NAME,!0;if(e.code&&this.formatStringForSearch(e.code).includes(n))return e.sortWeight=r.f.CODE,!0;if(e.aliases&&e.aliases.find(e=>this.formatStringForSearch(e).includes(n)))return e.sortWeight=r.f.ALIAS,!0;if(e.countryName&&this.formatStringForSearch(e.countryName).includes(n))return e.sortWeight=r.f.COUNTRY,!0}}return!1}formatStringForSearch(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}sortStationResultsByWeight(e,t){return e.sortWeight>t.sortWeight?1:e.sortWeight<t.sortWeight?-1:0}sortMaacStationResults(e,t){return t.maac&&!e.maac?1:e.maac&&!t.maac?-1:0}sortStationResultsByName(e,t){const n=e.name.toLowerCase(),i=t.name.toLowerCase();return n>i?1:n<i?-1:0}sortDestinationStationsByTravelType(e,t){const n=this.getTravelTypeWeightMapping(e),i=this.getTravelTypeWeightMapping(t);return n>i?1:n<i?-1:0}getTravelTypeWeightMapping(e){if(e&&e.travelType)switch(e.travelType){case r.h.NONSTOP:return 1;case r.h.DIRECT:return 2;case r.h.CONNECTING:return 3;case r.h.OTHER:return 4;default:return 5}return 10}doShowStationSelectorModal(e){switch(this.stationSelectorType=e,e){case l.a.ORIGIN:this.stationSelectorStations=this.stations||[];break;case l.a.DESTINATION:if(this.selectedOrigin){const e=this.selectedOrigin.destinations||[];this.stationSelectorStations=this.activeForBookingStationsOnly?e.filter(e=>e.activeForBooking):e}else this.stationSelectorStations=[];break;default:this.stationSelectorStations=[]}Array.isArray(this.stationSelectorStations)&&this.stationSelectorStations.length>0&&(this.toggleStationSelectorModal(!0),this.closePopup(e))}toggleStationSelectorModal(e){e?this.modalSvc.open(this.stationSelectorId):this.modalSvc.close(this.stationSelectorId)}onModalClose(e){this.triggerInputFocusOut(e)}windowSize(){this.isMobile=window.innerWidth<=800}get isSwitchStationDisabled(){var e,t;return!(this.selectedOrigin&&this.selectedDestination)||this.onlySameCountry&&(null===(e=this.selectedOrigin)||void 0===e?void 0:e.countryCode)!==(null===(t=this.selectedDestination)||void 0===t?void 0:t.countryCode)||!!this.allowedOriginStations.length||!!this.allowedDestinationStations.length}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(s.h),o.Tb(m.a),o.Tb(o.I),o.Tb(b.a),o.Tb(v.a),o.Tb(y.a),o.Tb(_.a),o.Tb(C.a),o.Tb(S.a),o.Tb(O.a))},e.\u0275cmp=o.Nb({type:e,selectors:[["app-flight-input"]],viewQuery:function(e,t){var n;1&e&&(o.Yc(rt,!0),o.Yc(st,!0)),2&e&&(o.Dc(n=o.ic())&&(t.originResultsPopup=n.first),o.Dc(n=o.ic())&&(t.destResultsPopup=n.first))},hostBindings:function(e,t){1&e&&o.hc("resize",(function(e){return t.onResize(e)}),!1,o.Gc)},inputs:{customInputIds:"customInputIds",selectedStations:"selectedStations",activeForBookingStationsOnly:"activeForBookingStationsOnly",activeDirectStationsOnly:"activeDirectStationsOnly",grayBorder:"grayBorder",borderClass:"borderClass",showLastFlightStatusSearch:"showLastFlightStatusSearch",showLastFlightSearch:"showLastFlightSearch",useFlightStatusDatalayer:"useFlightStatusDatalayer",forceMinDate:"forceMinDate",forceMaxDate:"forceMaxDate",prevJourney:"prevJourney",flightType:"flightType",includeMaacStations:"includeMaacStations",onlySameCountry:"onlySameCountry",allowedOriginStations:"allowedOriginStations",allowedDestinationStations:"allowedDestinationStations",allowSetParamsFromUrl:"allowSetParamsFromUrl",anticipateBreakpoint:"anticipateBreakpoint"},outputs:{selectedStationsChanged:"selectedStationsChanged",savedSearchSelected:"savedSearchSelected",searchTerms:"searchTerms"},features:[o.Fb],decls:28,vars:47,consts:[["autocomplete","off",3,"formGroup"],[1,"flight-input","main-container",3,"ngClass"],[1,"input-section",3,"ngClass"],["originContainer",""],["tabindex","0","class","station-input-overlay",3,"focus",4,"ngIf"],["formControlName","origin","type","text",1,"h4","station-input",3,"id","placeholder","ngClass","focus","keydown"],["class","fas fa-plane-departure input-icon",4,"ngIf","ngIfElse"],["class","container origin",4,"ngIf"],[1,"flight-switch-button","d-flex","align-items-center","justify-content-center",3,"disabled","click"],[1,"fas","flight-button",3,"ngClass"],[1,"input-section","secondary-section",3,"ngClass"],["destContainer",""],["formControlName","destination","type","text",1,"h4","station-input",3,"id","placeholder","ngClass","focus","keydown"],["class","fas fa-plane-arrival input-icon",4,"ngIf","ngIfElse"],["class","container destination",4,"ngIf"],[1,"clear-button",3,"ngClass","click"],[1,"fas","fa-times"],["class","container",4,"ngIf"],["spinnerIcon",""],[3,"id","stations","stationType","selectedOrigin","closeModal","stationSelect"],["destInput",""],["originInput",""],["tabindex","0",1,"station-input-overlay",3,"focus"],[1,"h4","station-name"],["class","medium-title station-code",4,"ngIf"],[1,"medium-title","station-code"],[1,"fas","fa-plane-departure","input-icon"],[1,"container","origin"],[1,"row","no-gutter","no-mb-20"],[4,"ngTemplateOutlet"],[1,"fas","fa-plane-arrival","input-icon"],[1,"container","destination"],[1,"container"],[1,"fas","fa-spinner","fa-pulse","loading-icon"],["for","destInput",1,"d-block","col-lg-6","popup-anchor"],[3,"caller","searching","stationDestinations","popularStations","savedSearch","resultsType","forceDisableFooter","onlySameCountry","selectedSavedSearch","selectedStation","recommendedStation","showStationSelectorModal","outsideClickClose"],["resultsDest",""],["for","originInput",1,"d-block","col-lg-6","popup-anchor"],[3,"caller","searching","stations","defaultStation","popularStations","savedSearch","resultsType","forceDisableFooter","onlySameCountry","selectedSavedSearch","selectedStation","recommendedStation","showStationSelectorModal","outsideClickClose"],["resultsOrigin",""]],template:function(e,t){if(1&e&&(o.Zb(0,"form",0),o.Zb(1,"div",1),o.Zb(2,"div",2,3),o.Qc(4,ct,4,2,"div",4),o.Zb(5,"input",5),o.hc("focus",(function(){return t.onFocus(t.stationResultsType.ORIGIN)}))("keydown",(function(e){return t.onTabOrEnterPress(e,t.stationResultsType.ORIGIN)})),o.kc(6,"cmsTranslate"),o.Yb(),o.Qc(7,lt,1,0,"i",6),o.Yb(),o.Qc(8,dt,3,1,"div",7),o.Zb(9,"button",8),o.hc("click",(function(){return t.switchStations()})),o.Ub(10,"i",9),o.Yb(),o.Zb(11,"div",10,11),o.Qc(13,pt,4,2,"div",4),o.Zb(14,"input",12),o.hc("focus",(function(){return t.onFocus(t.stationResultsType.DESTINATION)}))("keydown",(function(e){return t.onTabOrEnterPress(e,t.stationResultsType.DESTINATION)})),o.kc(15,"cmsTranslate"),o.Yb(),o.Qc(16,gt,1,0,"i",13),o.Yb(),o.Qc(17,mt,3,1,"div",14),o.Zb(18,"button",15),o.hc("click",(function(){return t.clearFields()})),o.Ub(19,"i",16),o.Yb(),o.Yb(),o.Yb(),o.Qc(20,yt,4,2,"div",17),o.Qc(21,_t,1,0,"ng-template",null,18,o.Rc),o.Zb(23,"app-station-selector",19),o.hc("closeModal",(function(){return t.toggleStationSelectorModal(!1)}))("stationSelect",(function(e){return t.onStationSelect(e)})),o.Yb(),o.Qc(24,Ct,3,8,"ng-template",null,20,o.Rc),o.Qc(26,St,3,9,"ng-template",null,21,o.Rc)),2&e){const e=o.Ec(22);o.sc("formGroup",t.formGroup),o.Hb(1),o.sc("ngClass",o.xc(30,Ot,t.focusOrigin||t.focusDestination,t.anticipateBreakpoint,t.grayBorder)),o.Hb(1),o.sc("ngClass",o.vc(34,Tt,t.borderClass)),o.Hb(2),o.sc("ngIf",!t.showOriginInput&&t.selectedOrigin),o.Hb(1),o.sc("id",(null==t.customInputIds?null:t.customInputIds.origin)||"originInput")("placeholder",o.lc(6,26,"GLOBAL_LABEL_ORIGIN-PLACEHOLDER"))("ngClass",o.vc(36,wt,!t.showOriginInput)),o.Hb(2),o.sc("ngIf",!t.isLoading)("ngIfElse",e),o.Hb(1),o.sc("ngIf",t.isMobile),o.Hb(1),o.sc("disabled",t.isSwitchStationDisabled),o.Hb(1),o.sc("ngClass",o.wc(38,kt,t.isSwitchStationDisabled,!t.isSwitchStationDisabled)),o.Hb(1),o.sc("ngClass",o.vc(41,Tt,t.borderClass)),o.Hb(2),o.sc("ngIf",!t.showDestinationInput&&t.selectedDestination),o.Hb(1),o.sc("id",(null==t.customInputIds?null:t.customInputIds.destination)||"destInput")("placeholder",o.lc(15,28,"GLOBAL_LABEL_DESTINATION-PLACEHOLDER"))("ngClass",o.vc(43,wt,!t.showDestinationInput)),o.Hb(2),o.sc("ngIf",!t.isLoading)("ngIfElse",e),o.Hb(1),o.sc("ngIf",t.isMobile),o.Hb(1),o.sc("ngClass",o.vc(45,At,t.selectedOrigin||t.selectedDestination)),o.Hb(2),o.sc("ngIf",!t.isMobile),o.Hb(3),o.sc("id",t.stationSelectorId)("stations",t.stationSelectorStations)("stationType",t.stationSelectorType)("selectedOrigin",t.selectedOrigin)}},directives:[s.K,s.v,s.m,T.r,T.u,s.d,s.u,s.k,ue,T.B,ot],pipes:[M.a],styles:['.flight-input.main-container[_ngcontent-%COMP%]{background:var(--wh1);width:100%;height:60px;display:flex;justify-content:space-between;border-radius:10px;overflow:hidden;box-sizing:border-box;border:2px solid var(--wh1);position:relative}.flight-input.main-container.gray-border[_ngcontent-%COMP%]{border:1px solid var(--gr20)}@media screen and (max-width:800px){.flight-input.main-container[_ngcontent-%COMP%]{overflow:initial}}.flight-input.main-container.active[_ngcontent-%COMP%]{border-color:var(--vg4)}.flight-input[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%;height:100%;display:block;position:relative;background:var(--wh1)}.flight-input[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]:first-child{border-right:1px solid var(--gr20)}.flight-input[_ngcontent-%COMP%]   .input-section.secondary-section[_ngcontent-%COMP%]{flex:0 0 48%;max-width:48%}.flight-input[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]:after{content:"";position:absolute;top:13px;left:60px;height:30px;width:1px;background-color:var(--gr20);pointer-events:none}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]{color:var(--bg6);width:-webkit-fill-available;width:-moz-available;width:stretch;height:auto;position:relative;padding:16px 30px 15px 70px;border:none;caret-color:var(--vg4);box-sizing:border-box;background-color:var(--wh1)}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:focus{outline:none}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:focus ~ .input-icon[_ngcontent-%COMP%]{color:var(--vg4)}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:focus::-moz-placeholder{opacity:0}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:focus::-ms-input-placeholder{opacity:0}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:focus::placeholder{opacity:0}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:disabled ~ .input-icon[_ngcontent-%COMP%]{color:var(--gr40)}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:disabled::-moz-placeholder{color:var(--gr40)}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:disabled::-ms-input-placeholder{color:var(--gr40)}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]:disabled::placeholder{color:var(--gr40)}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]::-moz-placeholder{font-family:Lato,Arial;font-size:16px;letter-spacing:0;line-height:21px;color:var(--bg6);margin:0;opacity:1;font-weight:400;color:var(--gr60)}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]::-ms-input-placeholder{font-family:Lato,Arial;font-size:16px;letter-spacing:0;line-height:21px;color:var(--bg6);margin:0;opacity:1;font-weight:400;color:var(--gr60)}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%]::placeholder{font-family:Lato,Arial;font-size:16px;letter-spacing:0;line-height:21px;color:var(--bg6);margin:0;opacity:1;font-weight:400;color:var(--gr60)}.flight-input[_ngcontent-%COMP%]   .station-input-overlay[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;cursor:text;width:100%;height:60px;position:relative;padding:12px 30px 18px 70px;border:none;box-sizing:border-box;background-color:var(--wh1)}.flight-input[_ngcontent-%COMP%]   .station-input-overlay[_ngcontent-%COMP%]   .station-name[_ngcontent-%COMP%]{display:inline-block;box-sizing:content-box;max-width:calc(100% - 40px);color:var(--bg6);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.flight-input[_ngcontent-%COMP%]   .station-input-overlay[_ngcontent-%COMP%]   .station-code[_ngcontent-%COMP%]{display:inline-block;opacity:.8;margin-left:5px;margin-bottom:-5px}.flight-input[_ngcontent-%COMP%]   .loading-icon[_ngcontent-%COMP%]{color:var(--gr60);top:calc(50% - 7px)}.flight-input[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%], .flight-input[_ngcontent-%COMP%]   .loading-icon[_ngcontent-%COMP%]{font-size:15px;line-height:1;vertical-align:middle;position:absolute;left:20px;z-index:1;pointer-events:none}.flight-input[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{color:var(--bg4);top:50%;margin-right:10px;transform:translateY(-50%)}.flight-input[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]   .flight-button[_ngcontent-%COMP%]{position:static;margin-right:0;transform:none}.flight-input[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]   .flight-button[_ngcontent-%COMP%]:after{content:none}.flight-input[_ngcontent-%COMP%]   .flight-switch-button[_ngcontent-%COMP%]{cursor:pointer;border-radius:50%;border:1px solid rgba(var(--bg4-rgb),.5);height:40px;width:40px;position:absolute;top:50%;left:50%;background:var(--wh1);transform:translate(-50%,-50%);z-index:1}.flight-input[_ngcontent-%COMP%]   .flight-switch-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:15px;line-height:1;color:var(--bg4);vertical-align:middle}.flight-input[_ngcontent-%COMP%]   .flight-switch-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--vg4)}.flight-input[_ngcontent-%COMP%]   .flight-switch-button[_ngcontent-%COMP%]:disabled{border-color:rgba(var(--gr40-rgb),.5);cursor:not-allowed}.flight-input[_ngcontent-%COMP%]   .flight-switch-button[_ngcontent-%COMP%]:disabled   i.fas[_ngcontent-%COMP%]{color:var(--gr40)}.flight-input[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]{display:none;cursor:pointer;height:20px;width:20px;background:transparent;border:none;position:absolute;top:50%;right:20px;transform:translateY(-50%);z-index:1}.flight-input[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--gr60)}.flight-input[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bl9)}.flight-input[_ngcontent-%COMP%]   .popup-anchor[_ngcontent-%COMP%]{position:relative;width:100%}@media screen and (max-width:1024px){.flight-input.anticipate-breakpoint[_ngcontent-%COMP%]{border-radius:10px}.flight-input.anticipate-breakpoint.main-container[_ngcontent-%COMP%]{height:auto;flex-wrap:wrap;background:transparent;border:none}.flight-input.anticipate-breakpoint[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]{max-width:100%;width:100%;height:unset;flex:unset;margin:5px 0;border-radius:10px}.flight-input.anticipate-breakpoint[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]:first-child{border-right:unset}.flight-input.anticipate-breakpoint[_ngcontent-%COMP%]   .input-section.secondary-section[_ngcontent-%COMP%]{max-width:unset;flex:unset;border-radius:10px}.flight-input.anticipate-breakpoint[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%], .flight-input.anticipate-breakpoint[_ngcontent-%COMP%]   .station-input-overlay[_ngcontent-%COMP%]{border-radius:10px}.flight-input.anticipate-breakpoint[_ngcontent-%COMP%]   .flight-switch-button[_ngcontent-%COMP%]{left:unset;right:0}.flight-input.anticipate-breakpoint[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]{display:none!important}}@media screen and (max-width:720px){.mobile-border[_ngcontent-%COMP%]{border:1px solid var(--gr20)!important}}@media screen and (max-width:800px){.flight-input[_ngcontent-%COMP%]{border-radius:10px}.flight-input.main-container[_ngcontent-%COMP%]{height:auto;flex-wrap:wrap;background:transparent;border:none}.flight-input[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]{max-width:100%;width:100%;height:unset;flex:unset;margin:5px 0;border-radius:10px}.flight-input[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]:first-child{border-right:unset}.flight-input[_ngcontent-%COMP%]   .input-section.secondary-section[_ngcontent-%COMP%]{max-width:unset;flex:unset;border-radius:10px}.flight-input[_ngcontent-%COMP%]   .station-input[_ngcontent-%COMP%], .flight-input[_ngcontent-%COMP%]   .station-input-overlay[_ngcontent-%COMP%]{border-radius:10px}.flight-input[_ngcontent-%COMP%]   .flight-switch-button[_ngcontent-%COMP%]{left:unset;right:0}.flight-input[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]{display:none!important}}']}),e})()},h3XU:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ofXK"),o=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})()},hypo:function(e,t,n){var i=n("O0oS");e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},hzby:function(e,t,n){"use strict";n.d(t,"a",(function(){return nt})),n.d(t,"b",(function(){return Ye})),n.d(t,"c",(function(){return Ze})),n.d(t,"d",(function(){return me}));var i=n("fXoL"),o=n("pLZG"),r=n("lJxs"),s=n("IzEk"),a=n("1G5W"),c=n("/uUt"),l=n("U9ZV"),u=n("WyaX"),d=n("R0Ic"),h=n("quSY"),p=n("2Vo4"),g=n("itXk"),f=n("XNiG"),m=n("qgXg"),b=n("HDdC"),v=n("pxpQ"),y=n("Kqap");class _ extends p.a{constructor(e,t,n){super(e),t.pipe(Object(v.b)(m.a)).pipe(Object(y.a)((e,t)=>t?n(e,t):e,e)).subscribe(e=>this.next(e))}}class C extends b.a{constructor(e,t,n){super(),this._dispatcher=e,this._reducer=t,this.source=n}select(e){return this.source.pipe(Object(r.a)(e)).pipe(Object(c.a)())}lift(e){const t=new C(this._dispatcher,this._reducer,this);return t.operator=e,t}dispatch(e){this._dispatcher.next(e)}next(e){this._dispatcher.next(e)}error(e){this._dispatcher.error(e)}complete(){}}var S=n("3XJ7"),O=n("3Pt+"),T=n("lUod"),w=n("ofXK");function k(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var A=n("PqYM");const E=["*"];let M=(()=>{class e{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Pb)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),P=(()=>{class e{constructor(e){Object.assign(this,e)}get _bsVersions(){return Object(T.b)()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=u.a[this.placement]),this.classMap[this.placement]=!0),this.classMap["tooltip-"+this.placement]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(M))},e.\u0275cmp=i.Nb({type:e,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:7,hostBindings:function(e,t){2&e&&(i.Ib("id",t.id),i.Jb("tooltip in tooltip-"+t.placement+" bs-tooltip-"+t.placement+" "+t.placement+" "+t.containerClass),i.Lb("show",!t._bsVersions.isBs3)("bs3",t._bsVersions.isBs3))},ngContentSelectors:E,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(e,t){1&e&&(i.rc(),i.Ub(0,"div",0),i.Zb(1,"div",1),i.qc(2),i.Yb())},styles:[".tooltip[_nghost-%COMP%] {\n      display: block;\n      pointer-events: none;\n    }\n    .bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%] {\n      margin-left: -2px;\n    }\n    .bs3.tooltip.bottom[_nghost-%COMP%] {\n      margin-top: 0px;\n    }\n    .bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{\n      margin: 0px;\n    }\n    .bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      margin: .3rem 0;\n    }"],changeDetection:0}),e})(),D=0,x=(()=>{class e{constructor(e,t,n,o,r,s){this._elementRef=o,this._renderer=r,this._positionService=s,this.tooltipId=D++,this.adaptivePosition=!0,this.tooltipChange=new i.p,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new i.p,this._tooltip=t.createLoader(this._elementRef,e,this._renderer).provide({provide:M,useValue:n}),Object.assign(this,n),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(e){e?this.show():this.hide()}set htmlContent(e){Object(T.i)("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=e}set _placement(e){Object(T.i)("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=e}set _isOpen(e){Object(T.i)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=e}get _isOpen(){return Object(T.i)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(e){Object(T.i)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!e}get _enable(){return Object(T.i)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(e){Object(T.i)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=e?"body":this.container}get _appendToBody(){return Object(T.i)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(e){Object(T.i)("tooltipClass deprecated")}set _tooltipContext(e){Object(T.i)("tooltipContext deprecated")}set _tooltipPopupDelay(e){Object(T.i)("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=e}get _tooltipTrigger(){return Object(T.i)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(e){Object(T.i)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(e||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(e=>{e||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?"tooltip-"+this.tooltipId:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const e=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(P).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:"tooltip-"+this.tooltipId})},t=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=Object(A.a)(this.delay).subscribe(()=>{e(),t()}),this.triggers&&Object(T.e)(this.triggers).forEach(e=>{e.close&&(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,e.close,()=>{var e;null===(e=this._delaySubscription)||void 0===e||e.unsubscribe(),t()}))})):e()}hide(){var e;this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&((null===(e=this._tooltip.instance)||void 0===e?void 0:e.classMap)&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.S),i.Tb(S.a),i.Tb(M),i.Tb(i.n),i.Tb(i.I),i.Tb(u.b))},e.\u0275dir=i.Ob({type:e,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",placement:"placement",triggers:"triggers",containerClass:"containerClass",isDisabled:"isDisabled",delay:"delay",tooltipAnimation:"tooltipAnimation",tooltipFadeDuration:"tooltipFadeDuration",isOpen:"isOpen",htmlContent:["tooltipHtml","htmlContent"],tooltip:"tooltip",_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],container:"container",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"],boundariesElement:"boundariesElement"},outputs:{tooltipChange:"tooltipChange",tooltipStateChanged:"tooltipStateChanged",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-tooltip"]}),function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([Object(T.a)(),k("design:type",Object)],e.prototype,"tooltip",void 0),e})(),I=(()=>{class e{static forRoot(){return{ngModule:e,providers:[S.a,u.b]}}}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[w.c]]}),e})();function L(e,t){if(1&e){const e=i.ac();i.Zb(0,"bs-days-calendar-view",9),i.hc("onNavigate",(function(t){return i.Hc(e),i.jc(3).navigateTo(t)}))("onViewMode",(function(t){return i.Hc(e),i.jc(3).setViewMode(t)}))("onHover",(function(t){return i.Hc(e),i.jc(3).dayHoverHandler(t)}))("onHoverWeek",(function(t){return i.Hc(e),i.jc(3).weekHoverHandler(t)}))("onSelect",(function(t){return i.Hc(e),i.jc(3).daySelectHandler(t)})),i.kc(1,"async"),i.Yb()}if(2&e){const e=t.$implicit,n=i.jc(3);i.Lb("bs-datepicker-multiple",n.multipleCalendars),i.sc("calendar",e)("options",i.lc(1,4,n.options$))}}function R(e,t){if(1&e&&(i.Zb(0,"div",7),i.Qc(1,L,2,6,"bs-days-calendar-view",8),i.kc(2,"async"),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.sc("ngForOf",i.lc(2,1,e.daysCalendar$))}}function N(e,t){if(1&e){const e=i.ac();i.Zb(0,"bs-month-calendar-view",11),i.hc("onNavigate",(function(t){return i.Hc(e),i.jc(3).navigateTo(t)}))("onViewMode",(function(t){return i.Hc(e),i.jc(3).setViewMode(t)}))("onHover",(function(t){return i.Hc(e),i.jc(3).monthHoverHandler(t)}))("onSelect",(function(t){return i.Hc(e),i.jc(3).monthSelectHandler(t)})),i.Yb()}if(2&e){const e=t.$implicit,n=i.jc(3);i.Lb("bs-datepicker-multiple",n.multipleCalendars),i.sc("calendar",e)}}function j(e,t){if(1&e&&(i.Zb(0,"div",7),i.Qc(1,N,1,3,"bs-month-calendar-view",10),i.kc(2,"async"),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.sc("ngForOf",i.lc(2,1,e.monthsCalendar))}}function B(e,t){if(1&e){const e=i.ac();i.Zb(0,"bs-years-calendar-view",11),i.hc("onNavigate",(function(t){return i.Hc(e),i.jc(3).navigateTo(t)}))("onViewMode",(function(t){return i.Hc(e),i.jc(3).setViewMode(t)}))("onHover",(function(t){return i.Hc(e),i.jc(3).yearHoverHandler(t)}))("onSelect",(function(t){return i.Hc(e),i.jc(3).yearSelectHandler(t)})),i.Yb()}if(2&e){const e=t.$implicit,n=i.jc(3);i.Lb("bs-datepicker-multiple",n.multipleCalendars),i.sc("calendar",e)}}function F(e,t){if(1&e&&(i.Zb(0,"div",7),i.Qc(1,B,1,3,"bs-years-calendar-view",10),i.kc(2,"async"),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.sc("ngForOf",i.lc(2,1,e.yearsCalendar))}}function H(e,t){1&e&&(i.Zb(0,"div",12),i.Zb(1,"button",13),i.Sc(2,"Apply"),i.Yb(),i.Zb(3,"button",14),i.Sc(4,"Cancel"),i.Yb(),i.Yb())}function U(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",17),i.Zb(1,"button",18),i.hc("click",(function(){return i.Hc(e),i.jc(3).setToday()})),i.Sc(2),i.Yb(),i.Yb()}if(2&e){const e=i.jc(3);i.Lb("today-left","left"===e.todayPos)("today-right","right"===e.todayPos)("today-center","center"===e.todayPos),i.Hb(2),i.Tc(e.todayBtnLbl)}}function Y(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",19),i.Zb(1,"button",18),i.hc("click",(function(){return i.Hc(e),i.jc(3).clearDate()})),i.Sc(2),i.Yb(),i.Yb()}if(2&e){const e=i.jc(3);i.Lb("clear-left","left"===e.clearPos)("clear-right","right"===e.clearPos)("clear-center","center"===e.clearPos),i.Hb(2),i.Tc(e.clearBtnLbl)}}function G(e,t){if(1&e&&(i.Zb(0,"div",12),i.Qc(1,U,3,7,"div",15),i.Qc(2,Y,3,7,"div",16),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.sc("ngIf",e.showTodayBtn),i.Hb(1),i.sc("ngIf",e.showClearBtn)}}function V(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",20),i.Zb(1,"bs-custom-date-view",21),i.hc("onSelect",(function(t){return i.Hc(e),i.jc(2).setRangeOnCalendar(t)})),i.Yb(),i.Yb()}if(2&e){const e=i.jc(2);i.Hb(1),i.sc("selectedRange",e.chosenRange)("ranges",e.customRanges)("customRangeLabel",e.customRangeBtnLbl)}}function Z(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",1),i.Zb(1,"div",2),i.hc("@datepickerAnimation.done",(function(){return i.Hc(e),i.jc().positionServiceEnable()})),i.Zb(2,"div",3),i.kc(3,"async"),i.Qc(4,R,3,3,"div",4),i.Qc(5,j,3,3,"div",4),i.Qc(6,F,3,3,"div",4),i.Yb(),i.Qc(7,H,5,0,"div",5),i.Qc(8,G,3,2,"div",5),i.Yb(),i.Qc(9,V,2,3,"div",6),i.Yb()}if(2&e){const e=i.jc();i.sc("ngClass",e.containerClass),i.Hb(1),i.sc("@datepickerAnimation",e.animationState),i.Hb(1),i.sc("ngSwitch",i.lc(3,9,e.viewMode)),i.Hb(2),i.sc("ngSwitchCase","day"),i.Hb(1),i.sc("ngSwitchCase","month"),i.Hb(1),i.sc("ngSwitchCase","year"),i.Hb(1),i.sc("ngIf",!1),i.Hb(1),i.sc("ngIf",e.showTodayBtn||e.showClearBtn),i.Hb(1),i.sc("ngIf",e.customRanges&&e.customRanges.length>0)}}function $(e,t){1&e&&i.Ub(0,"bs-current-date",4)}function W(e,t){1&e&&i.Ub(0,"bs-timepicker")}const K=[[["bs-datepicker-navigation-view"]],"*"],z=["bs-datepicker-navigation-view","*"];function Q(e,t){if(1&e){const e=i.ac();i.Zb(0,"button",2),i.hc("click",(function(){i.Hc(e);const n=t.$implicit;return i.jc().selectFromRanges(n)})),i.Sc(1),i.Yb()}if(2&e){const e=t.$implicit,n=i.jc();i.Lb("selected",e.value===n.selectedRange),i.Hb(1),i.Uc(" ",e.label," ")}}const X=["bsDatepickerDayDecorator",""];function q(e,t){if(1&e){const e=i.ac();i.Xb(0),i.Sc(1," \u200b "),i.Zb(2,"button",2),i.hc("click",(function(){return i.Hc(e),i.jc().view("month")})),i.Zb(3,"span"),i.Sc(4),i.Yb(),i.Yb(),i.Wb()}if(2&e){const e=i.jc();i.Hb(4),i.Tc(e.calendar.monthTitle)}}function J(e,t){1&e&&i.Ub(0,"th")}function ee(e,t){if(1&e&&(i.Zb(0,"th",5),i.Sc(1),i.Yb()),2&e){const e=t.index,n=i.jc();i.Hb(1),i.Uc("",n.calendar.weekdays[e]," ")}}function te(e,t){if(1&e){const e=i.ac();i.Zb(0,"span",11),i.hc("click",(function(){i.Hc(e);const t=i.jc(2).$implicit;return i.jc().selectWeek(t)})),i.Sc(1),i.Yb()}if(2&e){const e=i.jc(2).index,t=i.jc();i.Hb(1),i.Tc(t.calendar.weekNumbers[e])}}function ne(e,t){if(1&e){const e=i.ac();i.Zb(0,"span",12),i.hc("click",(function(){i.Hc(e);const t=i.jc(2).$implicit;return i.jc().selectWeek(t)}))("mouseenter",(function(){i.Hc(e);const t=i.jc(2).$implicit;return i.jc().weekHoverHandler(t,!0)}))("mouseleave",(function(){i.Hc(e);const t=i.jc(2).$implicit;return i.jc().weekHoverHandler(t,!1)})),i.Sc(1),i.Yb()}if(2&e){const e=i.jc(2).index,t=i.jc();i.Hb(1),i.Tc(t.calendar.weekNumbers[e])}}function ie(e,t){if(1&e&&(i.Zb(0,"td",8),i.Qc(1,te,2,1,"span",9),i.Qc(2,ne,2,1,"span",10),i.Yb()),2&e){const e=i.jc(2);i.Lb("active-week",e.isWeekHovered),i.Hb(1),i.sc("ngIf",e.isiOS),i.Hb(1),i.sc("ngIf",!e.isiOS)}}function oe(e,t){if(1&e){const e=i.ac();i.Zb(0,"span",17),i.hc("click",(function(){i.Hc(e);const t=i.jc().$implicit;return i.jc(2).selectDay(t)}))("mouseenter",(function(){i.Hc(e);const t=i.jc().$implicit;return i.jc(2).hoverDay(t,!0)}))("mouseleave",(function(){i.Hc(e);const t=i.jc().$implicit;return i.jc(2).hoverDay(t,!1)})),i.Sc(1),i.Yb()}if(2&e){const e=i.jc().$implicit;i.tc("tooltip",e.tooltipText),i.sc("day",e),i.Hb(1),i.Uc("",e.label," 3")}}function re(e,t){if(1&e){const e=i.ac();i.Zb(0,"span",18),i.hc("click",(function(){i.Hc(e);const t=i.jc().$implicit;return i.jc(2).selectDay(t)}))("mouseenter",(function(){i.Hc(e);const t=i.jc().$implicit;return i.jc(2).hoverDay(t,!0)}))("mouseleave",(function(){i.Hc(e);const t=i.jc().$implicit;return i.jc(2).hoverDay(t,!1)})),i.Sc(1),i.Yb()}if(2&e){const e=i.jc().$implicit;i.sc("day",e),i.Hb(1),i.Uc("",e.label," 2")}}function se(e,t){if(1&e){const e=i.ac();i.Zb(0,"span",19),i.hc("click",(function(){i.Hc(e);const t=i.jc().$implicit;return i.jc(2).selectDay(t)})),i.Sc(1),i.Yb()}if(2&e){const e=i.jc().$implicit;i.sc("day",e),i.Hb(1),i.Uc("",e.label," 1")}}function ae(e,t){if(1&e&&(i.Zb(0,"td",13),i.Qc(1,oe,2,3,"span",14),i.Qc(2,re,2,2,"span",15),i.Qc(3,se,2,2,"span",16),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.sc("ngIf",!e.isiOS&&e.isShowTooltip),i.Hb(1),i.sc("ngIf",!e.isiOS&&!e.isShowTooltip),i.Hb(1),i.sc("ngIf",e.isiOS)}}function ce(e,t){if(1&e&&(i.Zb(0,"tr"),i.Qc(1,ie,3,4,"td",6),i.Qc(2,ae,4,3,"td",7),i.Yb()),2&e){const e=t.$implicit,n=i.jc();i.Hb(1),i.sc("ngIf",n.options&&n.options.showWeekNumbers),i.Hb(1),i.sc("ngForOf",e.days)}}function le(e,t){if(1&e){const e=i.ac();i.Zb(0,"td",4),i.hc("click",(function(){i.Hc(e);const n=t.$implicit;return i.jc(2).viewMonth(n)}))("mouseenter",(function(){i.Hc(e);const n=t.$implicit;return i.jc(2).hoverMonth(n,!0)}))("mouseleave",(function(){i.Hc(e);const n=t.$implicit;return i.jc(2).hoverMonth(n,!1)})),i.Zb(1,"span"),i.Sc(2),i.Yb(),i.Yb()}if(2&e){const e=t.$implicit;i.Lb("disabled",e.isDisabled)("is-highlighted",e.isHovered),i.Hb(1),i.Lb("selected",e.isSelected),i.Hb(1),i.Tc(e.label)}}function ue(e,t){if(1&e&&(i.Zb(0,"tr"),i.Qc(1,le,3,7,"td",3),i.Yb()),2&e){const e=t.$implicit;i.Hb(1),i.sc("ngForOf",e)}}function de(e,t){if(1&e){const e=i.ac();i.Zb(0,"td",4),i.hc("click",(function(){i.Hc(e);const n=t.$implicit;return i.jc(2).viewYear(n)}))("mouseenter",(function(){i.Hc(e);const n=t.$implicit;return i.jc(2).hoverYear(n,!0)}))("mouseleave",(function(){i.Hc(e);const n=t.$implicit;return i.jc(2).hoverYear(n,!1)})),i.Zb(1,"span"),i.Sc(2),i.Yb(),i.Yb()}if(2&e){const e=t.$implicit;i.Lb("disabled",e.isDisabled)("is-highlighted",e.isHovered),i.Hb(1),i.Lb("selected",e.isSelected),i.Hb(1),i.Tc(e.label)}}function he(e,t){if(1&e&&(i.Zb(0,"tr"),i.Qc(1,de,3,7,"td",3),i.Yb()),2&e){const e=t.$implicit;i.Hb(1),i.sc("ngForOf",e)}}let pe=(()=>{class e{constructor(){this.adaptivePosition=!1,this.useUtc=!1,this.isAnimated=!1,this.startView="day",this.returnFocusToInput=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w",this.showTodayButton=!1,this.showClearButton=!1,this.todayPosition="center",this.clearPosition="right",this.todayButtonLabel="Today",this.clearButtonLabel="Clear",this.customRangeButtonLabel="Custom Range"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Pb)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const ge=Object(d.n)("datepickerAnimation",[Object(d.k)("animated-down",Object(d.l)({height:"*",overflow:"hidden"})),Object(d.m)("* => animated-down",[Object(d.l)({height:0,overflow:"hidden"}),Object(d.e)("220ms cubic-bezier(0, 0, 0.2, 1)")]),Object(d.k)("animated-up",Object(d.l)({height:"*",overflow:"hidden"})),Object(d.m)("* => animated-up",[Object(d.l)({height:"*",overflow:"hidden"}),Object(d.e)("220ms cubic-bezier(0, 0, 0.2, 1)")]),Object(d.m)("* => unanimated",Object(d.e)("0s"))]);let fe=(()=>{class e{calculate(){return{type:e.CALCULATE}}format(){return{type:e.FORMAT}}flag(){return{type:e.FLAG}}select(t){return{type:e.SELECT,payload:t}}changeViewMode(t){return{type:e.CHANGE_VIEWMODE,payload:t}}navigateTo(t){return{type:e.NAVIGATE_TO,payload:t}}navigateStep(t){return{type:e.NAVIGATE_OFFSET,payload:t}}setOptions(t){return{type:e.SET_OPTIONS,payload:t}}selectRange(t){return{type:e.SELECT_RANGE,payload:t}}hoverDay(t){return{type:e.HOVER,payload:t.isHovered?t.cell.date:null}}minDate(t){return{type:e.SET_MIN_DATE,payload:t}}maxDate(t){return{type:e.SET_MAX_DATE,payload:t}}daysDisabled(t){return{type:e.SET_DAYSDISABLED,payload:t}}datesDisabled(t){return{type:e.SET_DATESDISABLED,payload:t}}datesEnabled(t){return{type:e.SET_DATESENABLED,payload:t}}isDisabled(t){return{type:e.SET_IS_DISABLED,payload:t}}setDateCustomClasses(t){return{type:e.SET_DATE_CUSTOM_CLASSES,payload:t}}setDateTooltipTexts(t){return{type:e.SET_DATE_TOOLTIP_TEXTS,payload:t}}setLocale(t){return{type:e.SET_LOCALE,payload:t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e.CALCULATE="[datepicker] calculate dates matrix",e.FORMAT="[datepicker] format datepicker values",e.FLAG="[datepicker] set flags",e.SELECT="[datepicker] select date",e.NAVIGATE_OFFSET="[datepicker] shift view date",e.NAVIGATE_TO="[datepicker] change view date",e.SET_OPTIONS="[datepicker] update render options",e.HOVER="[datepicker] hover date",e.CHANGE_VIEWMODE="[datepicker] switch view mode",e.SET_MIN_DATE="[datepicker] set min date",e.SET_MAX_DATE="[datepicker] set max date",e.SET_DAYSDISABLED="[datepicker] set days disabled",e.SET_DATESDISABLED="[datepicker] set dates disabled",e.SET_DATESENABLED="[datepicker] set dates enabled",e.SET_IS_DISABLED="[datepicker] set is disabled",e.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes",e.SET_DATE_TOOLTIP_TEXTS="[datepicker] set date tooltip texts",e.SET_LOCALE="[datepicker] set datepicker locale",e.SELECT_RANGE="[daterangepicker] select dates range",e})(),me=(()=>{class e{constructor(){this._defaultLocale="en",this._locale=new p.a(this._defaultLocale),this._localeChange=this._locale.asObservable()}get locale(){return this._locale}get localeChange(){return this._localeChange}get currentLocale(){return this._locale.getValue()}use(e){e!==this.currentLocale&&this._locale.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})(),be=(()=>{class e{constructor(e,t){this._actions=e,this._localeService=t,this._subs=[]}init(e){return this._store=e,this}setValue(e){var t;null===(t=this._store)||void 0===t||t.dispatch(this._actions.select(e))}setRangeValue(e){var t;null===(t=this._store)||void 0===t||t.dispatch(this._actions.selectRange(e))}setMinDate(e){var t;return null===(t=this._store)||void 0===t||t.dispatch(this._actions.minDate(e)),this}setMaxDate(e){var t;return null===(t=this._store)||void 0===t||t.dispatch(this._actions.maxDate(e)),this}setDaysDisabled(e){var t;return null===(t=this._store)||void 0===t||t.dispatch(this._actions.daysDisabled(e)),this}setDatesDisabled(e){var t;return null===(t=this._store)||void 0===t||t.dispatch(this._actions.datesDisabled(e)),this}setDatesEnabled(e){var t;return null===(t=this._store)||void 0===t||t.dispatch(this._actions.datesEnabled(e)),this}setDisabled(e){var t;return null===(t=this._store)||void 0===t||t.dispatch(this._actions.isDisabled(e)),this}setDateCustomClasses(e){var t;return null===(t=this._store)||void 0===t||t.dispatch(this._actions.setDateCustomClasses(e)),this}setDateTooltipTexts(e){var t;return null===(t=this._store)||void 0===t||t.dispatch(this._actions.setDateTooltipTexts(e)),this}setOptions(e){var t;const n=Object.assign({locale:this._localeService.currentLocale},e);return null===(t=this._store)||void 0===t||t.dispatch(this._actions.setOptions(n)),this}setBindings(e){return this._store?(e.daysCalendar$=this._store.select(e=>e.flaggedMonths).pipe(Object(o.a)(e=>!!e)),e.monthsCalendar=this._store.select(e=>e.flaggedMonthsCalendar).pipe(Object(o.a)(e=>!!e)),e.yearsCalendar=this._store.select(e=>e.yearsCalendarFlagged).pipe(Object(o.a)(e=>!!e)),e.viewMode=this._store.select(e=>{var t;return null===(t=e.view)||void 0===t?void 0:t.mode}),e.options$=Object(g.a)([this._store.select(e=>e.showWeekNumbers),this._store.select(e=>e.displayMonths)]).pipe(Object(r.a)(e=>({showWeekNumbers:e[0],displayMonths:e[1]}))),this):this}setEventHandlers(e){return e.setViewMode=e=>{var t;null===(t=this._store)||void 0===t||t.dispatch(this._actions.changeViewMode(e))},e.navigateTo=e=>{var t;null===(t=this._store)||void 0===t||t.dispatch(this._actions.navigateStep(e.step))},e.dayHoverHandler=e=>{var t;const n=e.cell;n.isOtherMonth||n.isDisabled||(null===(t=this._store)||void 0===t||t.dispatch(this._actions.hoverDay(e)),n.isHovered=e.isHovered)},e.monthHoverHandler=e=>{e.cell.isHovered=e.isHovered},e.yearHoverHandler=e=>{e.cell.isHovered=e.isHovered},this}registerDatepickerSideEffects(){return this._store?(this._subs.push(this._store.select(e=>e.view).subscribe(()=>{var e;null===(e=this._store)||void 0===e||e.dispatch(this._actions.calculate())})),this._subs.push(this._store.select(e=>e.monthsModel).pipe(Object(o.a)(e=>!!e)).subscribe(()=>{var e;return null===(e=this._store)||void 0===e?void 0:e.dispatch(this._actions.format())})),this._subs.push(this._store.select(e=>e.formattedMonths).pipe(Object(o.a)(e=>!!e)).subscribe(()=>{var e;return null===(e=this._store)||void 0===e?void 0:e.dispatch(this._actions.flag())})),this._subs.push(this._store.select(e=>e.selectedDate).pipe(Object(o.a)(e=>!!e)).subscribe(()=>{var e;return null===(e=this._store)||void 0===e?void 0:e.dispatch(this._actions.flag())})),this._subs.push(this._store.select(e=>e.selectedRange).pipe(Object(o.a)(e=>!!e)).subscribe(()=>{var e;return null===(e=this._store)||void 0===e?void 0:e.dispatch(this._actions.flag())})),this._subs.push(this._store.select(e=>e.monthsCalendar).subscribe(()=>{var e;return null===(e=this._store)||void 0===e?void 0:e.dispatch(this._actions.flag())})),this._subs.push(this._store.select(e=>e.yearsCalendarModel).pipe(Object(o.a)(e=>!!e)).subscribe(()=>{var e;return null===(e=this._store)||void 0===e?void 0:e.dispatch(this._actions.flag())})),this._subs.push(this._store.select(e=>e.hoveredDate).pipe(Object(o.a)(e=>!!e)).subscribe(()=>{var e;return null===(e=this._store)||void 0===e?void 0:e.dispatch(this._actions.flag())})),this._subs.push(this._store.select(e=>e.dateCustomClasses).pipe(Object(o.a)(e=>!!e)).subscribe(()=>{var e;return null===(e=this._store)||void 0===e?void 0:e.dispatch(this._actions.flag())})),this._subs.push(this._store.select(e=>e.dateTooltipTexts).pipe(Object(o.a)(e=>!!e)).subscribe(()=>{var e;return null===(e=this._store)||void 0===e?void 0:e.dispatch(this._actions.flag())})),this._subs.push(this._localeService.localeChange.subscribe(e=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.setLocale(e))})),this):this}destroy(){for(const e of this._subs)e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.dc(fe),i.dc(me))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})();const ve={date:new Date,mode:"day"},ye=Object.assign(new pe,{locale:"en",view:ve,selectedRange:[],monthViewOptions:{width:7,height:6}});function _e(e,t,n){const i=t&&Object(l.m)(Object(l.b)(e,"month"),t,"day"),o=n&&Object(l.k)(Object(l.y)(e,"month"),n,"day");return i||o||!1}function Ce(e,t,n){const i=t&&Object(l.m)(Object(l.b)(e,"year"),t,"day"),o=n&&Object(l.k)(Object(l.y)(e,"year"),n,"day");return i||o||!1}function Se(e,t=0){const n=e&&e.yearsCalendarModel&&e.yearsCalendarModel[t];return(null==n?void 0:n.years[0])&&n.years[0][0]&&n.years[0][0].date}function Oe(e,t){return e&&t&&(e.length||e[0].value)?(e.forEach(n=>n&&n.value?n.value instanceof Date?e:n.value instanceof Array&&n.value.length?(n.value=Te(n.value,t),e):e:e),e):e}function Te(e,t){return e instanceof Array?e.map(e=>e?(Object(l.k)(e,t,"date")&&(e=t),e):e):e}function we(e,t){let n=e.initialDate;const i=new Array(e.height);for(let o=0;o<e.height;o++){i[o]=new Array(e.width);for(let r=0;r<e.width;r++)i[o][r]=t(n),n=Object(l.x)(n,e.shift)}return i}function ke(e,t){const n=Object(l.g)(e),i=function(e,t){if(Object(l.q)(e,t.firstDayOfWeek))return e;const n=function(e,t){const n=Number(t);if(isNaN(n))return 0;if(0===n)return e;const i=e-n%7;return i<0?i+7:i}(Object(l.f)(e),t.firstDayOfWeek);return Object(l.x)(e,{day:-n})}(n,t);return{daysMatrix:we({width:t.width||0,height:t.height||0,initialDate:i,shift:{day:1}},e=>e),month:n}}function Ae(e){const t=Object(l.i)(e),n=t.weekdaysShort(),i=t.firstDayOfWeek();return[...n.slice(i),...n.slice(0,i)]}function Ee(e,t){return!t||e>=t}const Me={month:1};function Pe(e,t){return{months:we({width:3,height:4,initialDate:Object(l.y)(e,"year"),shift:Me},e=>({date:e,label:Object(l.e)(e,t.monthLabel,t.locale)})),monthTitle:"",yearTitle:Object(l.e)(e,t.yearTitle,t.locale),hideRightArrow:!1,hideLeftArrow:!1,disableRightArrow:!1,disableLeftArrow:!1}}const De=-1*(Math.floor(8)-1),xe={year:1};function Ie(e,t,n){const i=we({width:4,height:4,initialDate:function(e,t){return t&&e.getFullYear()>=t.getFullYear()&&e.getFullYear()<t.getFullYear()+16?t:Object(l.x)(e,{year:De})}(e,n),shift:xe},e=>({date:e,label:Object(l.e)(e,t.yearLabel,t.locale)}));return{years:i,monthTitle:"",yearTitle:function(e,t){return`${Object(l.e)(e[0][0].date,t.yearTitle,t.locale)} - ${Object(l.e)(e[3][3].date,t.yearTitle,t.locale)}`}(i,t),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}function Le(e=ye,t){switch(t.type){case fe.CALCULATE:return function(e){if(!e.view)return e;let t;t=e.displayOneMonthRange&&je(e.view.date,e.minDate,e.maxDate)?1:e.displayMonths||1;let n=e.view.date;if("day"===e.view.mode&&e.monthViewOptions){e.showPreviousMonth&&e.selectedRange&&0===e.selectedRange.length&&(n=Object(l.x)(n,{month:-1})),e.monthViewOptions.firstDayOfWeek=Object(l.i)(e.locale).firstDayOfWeek();let i=new Array(t);for(let o=0;o<t;o++)i[o]=ke(n,e.monthViewOptions),n=Object(l.x)(n,{month:1});if(e.preventChangeToNextMonth&&e.flaggedMonths&&e.hoveredDate){const t=ke(e.view.date,e.monthViewOptions);e.flaggedMonths.length&&e.flaggedMonths[1].month.getMonth()===t.month.getMonth()&&(i=e.flaggedMonths.map(t=>e.monthViewOptions?ke(t.month,e.monthViewOptions):null).filter(e=>null!==e))}return Object.assign({},e,{monthsModel:i})}if("month"===e.view.mode){const i=new Array(t);for(let o=0;o<t;o++)i[o]=Pe(n,Re(e)),n=Object(l.x)(n,{year:1});return Object.assign({},e,{monthsCalendar:i})}if("year"===e.view.mode){const i=new Array(t);for(let o=0;o<t;o++)i[o]=Ie(n,Re(e),"year"===e.minMode?Se(e,o):void 0),n=Object(l.x)(n,{year:16});return Object.assign({},e,{yearsCalendarModel:i})}return e}(e);case fe.FORMAT:return function(e){if(!e.view)return e;if("day"===e.view.mode&&e.monthsModel){const t=e.monthsModel.map((t,n)=>function(e,t,n){return{month:e.month,monthTitle:Object(l.e)(e.month,t.monthTitle,t.locale),yearTitle:Object(l.e)(e.month,t.yearTitle,t.locale),weekNumbers:(i=e.daysMatrix,o=t.weekNumbers,r=t.locale,i.map(e=>e[0]?Object(l.e)(e[0],o,r):"")),weekdays:Ae(t.locale),weeks:e.daysMatrix.map((e,i)=>({days:e.map((e,o)=>({date:e,label:Object(l.e)(e,t.dayLabel,t.locale),monthIndex:n,weekIndex:i,dayIndex:o}))})),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1};var i,o,r}(t,Re(e),n));return Object.assign({},e,{formattedMonths:t})}const t=e.displayMonths||1;let n=e.view.date;if("month"===e.view.mode){const i=new Array(t);for(let o=0;o<t;o++)i[o]=Pe(n,Re(e)),n=Object(l.x)(n,{year:1});return Object.assign({},e,{monthsCalendar:i})}if("year"===e.view.mode){const i=new Array(t);for(let o=0;o<t;o++)i[o]=Ie(n,Re(e)),n=Object(l.x)(n,{year:16});return Object.assign({},e,{yearsCalendarModel:i})}return e}(e);case fe.FLAG:return function(e){if(!e.view)return e;const t=je(e.view.date,e.minDate,e.maxDate)?1:e.displayMonths;if(e.formattedMonths&&"day"===e.view.mode){const n=e.formattedMonths.map((n,i)=>function(e,t){return e.weeks.forEach(n=>{n.days.forEach((i,o)=>{const r=!Object(l.t)(i.date,e.month),s=!r&&Object(l.s)(i.date,t.hoveredDate),a=!r&&t.selectedRange&&Object(l.s)(i.date,t.selectedRange[0]),c=!r&&t.selectedRange&&Object(l.s)(i.date,t.selectedRange[1]),u=!r&&Object(l.s)(i.date,t.selectedDate)||a||c,d=!r&&t.selectedRange&&function(e,t,n){return!!(e&&t&&t[0])&&(t[1]?e>t[0]&&e<=t[1]:!!n&&e>t[0]&&e<=n)}(i.date,t.selectedRange,t.hoveredDate),h=t.isDisabled||Object(l.m)(i.date,t.minDate,"day")||Object(l.k)(i.date,t.maxDate,"day")||Object(l.p)(i.date,t.daysDisabled)||(p=i.date,!!((g=t.datesDisabled)&&Object(l.l)(g)&&g.length)&&g.some(e=>Object(l.r)(p,e,"date")))||function(e,t){return!!(t&&Object(l.l)(t)&&t.length)&&!t.some(t=>Object(l.r)(e,t,"date"))}(i.date,t.datesEnabled);var p,g;const f=new Date,m=!r&&Object(l.s)(i.date,f),b=t.dateCustomClasses&&t.dateCustomClasses.map(e=>Object(l.s)(i.date,e.date)?e.classes:[]).reduce((e,t)=>e.concat(t),[]).join(" ")||"",v=t.dateTooltipTexts&&t.dateTooltipTexts.map(e=>Object(l.s)(i.date,e.date)?e.tooltipText:"").reduce((e,t)=>(e.push(t),e),[]).join(" ")||"",y=Object.assign({},i,{isOtherMonth:r,isHovered:s,isSelected:u,isSelectionStart:a,isSelectionEnd:c,isInRange:d,isDisabled:h,isToday:m,customClasses:b,tooltipText:v});i.isOtherMonth===y.isOtherMonth&&i.isHovered===y.isHovered&&i.isSelected===y.isSelected&&i.isSelectionStart===y.isSelectionStart&&i.isSelectionEnd===y.isSelectionEnd&&i.isDisabled===y.isDisabled&&i.isInRange===y.isInRange&&i.customClasses===y.customClasses&&i.tooltipText===y.tooltipText||(n.days[o]=y)})}),e.hideLeftArrow=t.isDisabled||!!t.monthIndex&&t.monthIndex>0&&t.monthIndex!==t.displayMonths,e.hideRightArrow=t.isDisabled||(!!t.monthIndex||0===t.monthIndex)&&!!t.displayMonths&&t.monthIndex<t.displayMonths&&t.monthIndex+1!==t.displayMonths,e.disableLeftArrow=_e(Object(l.x)(e.month,{month:-1}),t.minDate,t.maxDate),e.disableRightArrow=_e(Object(l.x)(e.month,{month:1}),t.minDate,t.maxDate),e}(n,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,daysDisabled:e.daysDisabled,datesDisabled:e.datesDisabled,datesEnabled:e.datesEnabled,hoveredDate:e.hoveredDate,selectedDate:e.selectedDate,selectedRange:e.selectedRange,displayMonths:t,dateCustomClasses:e.dateCustomClasses,dateTooltipTexts:e.dateTooltipTexts,monthIndex:i}));return Object.assign({},e,{flaggedMonths:n})}if("month"===e.view.mode&&e.monthsCalendar){const n=e.monthsCalendar.map((n,i)=>{return r={isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,hoveredMonth:e.hoveredMonth,selectedDate:e.selectedDate,selectedRange:e.selectedRange,displayMonths:t,monthIndex:i},(o=n).months.forEach((e,t)=>{e.forEach((e,n)=>{let i;const s=Object(l.t)(e.date,r.hoveredMonth),a=r.isDisabled||_e(e.date,r.minDate,r.maxDate);!r.selectedDate&&r.selectedRange?(i=Object(l.t)(e.date,r.selectedRange[0]),i||(i=Object(l.t)(e.date,r.selectedRange[1]))):i=Object(l.t)(e.date,r.selectedDate);const c=Object.assign(e,{isHovered:s,isDisabled:a,isSelected:i});e.isHovered===c.isHovered&&e.isDisabled===c.isDisabled&&e.isSelected===c.isSelected||(o.months[t][n]=c)})}),o.hideLeftArrow=!!r.monthIndex&&r.monthIndex>0&&r.monthIndex!==r.displayMonths,o.hideRightArrow=(!!r.monthIndex||0===r.monthIndex)&&(!!r.displayMonths||0===r.displayMonths)&&r.monthIndex<r.displayMonths&&r.monthIndex+1!==r.displayMonths,o.disableLeftArrow=Ce(Object(l.x)(o.months[0][0].date,{year:-1}),r.minDate,r.maxDate),o.disableRightArrow=Ce(Object(l.x)(o.months[0][0].date,{year:1}),r.minDate,r.maxDate),o;var o,r});return Object.assign({},e,{flaggedMonthsCalendar:n})}if("year"===e.view.mode&&e.yearsCalendarModel){const n=e.yearsCalendarModel.map((n,i)=>function(e,t){e.years.forEach((n,i)=>{n.forEach((n,o)=>{let r;const s=Object(l.u)(n.date,t.hoveredYear),a=t.isDisabled||Ce(n.date,t.minDate,t.maxDate);!t.selectedDate&&t.selectedRange?(r=Object(l.u)(n.date,t.selectedRange[0]),r||(r=Object(l.u)(n.date,t.selectedRange[1]))):r=Object(l.u)(n.date,t.selectedDate);const c=Object.assign(n,{isHovered:s,isDisabled:a,isSelected:r});n.isHovered===c.isHovered&&n.isDisabled===c.isDisabled&&n.isSelected===c.isSelected||(e.years[i][o]=c)})}),e.hideLeftArrow=!!t.yearIndex&&t.yearIndex>0&&t.yearIndex!==t.displayMonths,e.hideRightArrow=!!t.yearIndex&&!!t.displayMonths&&t.yearIndex<t.displayMonths&&t.yearIndex+1!==t.displayMonths,e.disableLeftArrow=Ce(Object(l.x)(e.years[0][0].date,{year:-1}),t.minDate,t.maxDate);const n=e.years.length-1,i=e.years[n].length-1;return e.disableRightArrow=Ce(Object(l.x)(e.years[n][i].date,{year:1}),t.minDate,t.maxDate),e}(n,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,hoveredYear:e.hoveredYear,selectedDate:e.selectedDate,selectedRange:e.selectedRange,displayMonths:t,yearIndex:i}));return Object.assign({},e,{yearsCalendarFlagged:n})}return e}(e);case fe.NAVIGATE_OFFSET:return function(e,t){if(!e.view)return e;const n=function(e,t){if(e.view){if("year"===e.view.mode&&"year"===e.minMode){const n=Se(e,0);if(n){const e=Object(l.x)(n,{year:-De});return Object(l.x)(e,t.payload)}}return Object(l.x)(Object(l.y)(e.view.date,"month"),t.payload)}}(e,t);return n?Object.assign({},e,{view:{mode:e.view.mode,date:n}}):e}(e,t);case fe.NAVIGATE_TO:{const n=t.payload;if(!e.view||!n.unit)return e;const i=Object(l.w)(e.view.date,n.unit);let o,r;return Ee(n.viewMode,e.minMode)?(r=n.viewMode,o={view:{date:i,mode:r}}):(r=e.view.mode,o={selectedDate:i,view:{date:i,mode:r}}),Object.assign({},e,o)}case fe.CHANGE_VIEWMODE:return Ee(t.payload,e.minMode)&&e.view?Object.assign({},e,{view:{date:e.view.date,mode:t.payload}}):e;case fe.HOVER:return Object.assign({},e,{hoveredDate:t.payload});case fe.SELECT:{if(!e.view)return e;const n={selectedDate:t.payload,view:e.view},i=e.view.mode,o=Ne(t.payload||e.view.date,e.minDate,e.maxDate);return n.view={mode:i,date:o},Object.assign({},e,n)}case fe.SET_OPTIONS:{if(!e.view)return e;const n=t.payload,i=n.minMode?n.minMode:e.view.mode,o=Ne(Object(l.o)(n.value)&&n.value||Object(l.l)(n.value)&&Object(l.o)(n.value[0])&&n.value[0]||e.view.date,n.minDate,n.maxDate);return n.view={mode:i,date:o},n.value&&(Object(l.l)(n.value)&&(n.selectedRange=n.value),n.value instanceof Date&&(n.selectedDate=n.value)),Object.assign({},e,n)}case fe.SELECT_RANGE:{if(!e.view)return e;const n={selectedRange:t.payload,view:e.view},i=e.view.mode,o=Ne(t.payload&&t.payload[0]||e.view.date,e.minDate,e.maxDate);return n.view={mode:i,date:o},Object.assign({},e,n)}case fe.SET_MIN_DATE:return Object.assign({},e,{minDate:t.payload});case fe.SET_MAX_DATE:return Object.assign({},e,{maxDate:t.payload});case fe.SET_IS_DISABLED:return Object.assign({},e,{isDisabled:t.payload});case fe.SET_DATE_CUSTOM_CLASSES:return Object.assign({},e,{dateCustomClasses:t.payload});case fe.SET_DATE_TOOLTIP_TEXTS:return Object.assign({},e,{dateTooltipTexts:t.payload});default:return e}}function Re(e){return{locale:e.locale,monthTitle:e.monthTitle,yearTitle:e.yearTitle,dayLabel:e.dayLabel,monthLabel:e.monthLabel,yearLabel:e.yearLabel,weekNumbers:e.weekNumbers}}function Ne(e,t,n){const i=Array.isArray(e)?e[0]:e;return t&&Object(l.k)(t,i,"day")?t:n&&Object(l.m)(n,i,"day")?n:i}function je(e,t,n){return!(!n||!Object(l.r)(n,e,"day"))||t&&n&&t.getMonth()===n.getMonth()}let Be=(()=>{class e extends C{constructor(){const e=new p.a({type:"[datepicker] dispatcher init"});super(e,Le,new _(ye,e,Le))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})(),Fe=(()=>{class e extends class{constructor(){this.containerClass="",this.customRanges=[],this.chosenRange=[],this._daysCalendarSub=new h.a}set minDate(e){var t;null===(t=this._effects)||void 0===t||t.setMinDate(e)}set maxDate(e){var t;null===(t=this._effects)||void 0===t||t.setMaxDate(e)}set daysDisabled(e){var t;null===(t=this._effects)||void 0===t||t.setDaysDisabled(e)}set datesDisabled(e){var t;null===(t=this._effects)||void 0===t||t.setDatesDisabled(e)}set datesEnabled(e){var t;null===(t=this._effects)||void 0===t||t.setDatesEnabled(e)}set isDisabled(e){var t;null===(t=this._effects)||void 0===t||t.setDisabled(e)}set dateCustomClasses(e){var t;null===(t=this._effects)||void 0===t||t.setDateCustomClasses(e)}set dateTooltipTexts(e){var t;null===(t=this._effects)||void 0===t||t.setDateTooltipTexts(e)}set daysCalendar$(e){this._daysCalendar$=e,this._daysCalendarSub.unsubscribe(),this._daysCalendarSub.add(this._daysCalendar$.subscribe(e=>{this.multipleCalendars=!!e&&e.length>1}))}get daysCalendar$(){return this._daysCalendar$}setViewMode(e){}navigateTo(e){}dayHoverHandler(e){}weekHoverHandler(e){}monthHoverHandler(e){}yearHoverHandler(e){}daySelectHandler(e){}monthSelectHandler(e){}yearSelectHandler(e){}setRangeOnCalendar(e){}setToday(){}clearDate(){}_stopPropagation(e){e.stopPropagation()}}{constructor(e,t,n,o,r,s,a){super(),this._config=t,this._store=n,this._element=o,this._actions=r,this._positionService=a,this.valueChange=new i.p,this.animationState="void",this._rangeStack=[],this.chosenRange=[],this._subs=[],this._effects=s,this.customRanges=this._config.ranges||[],this.customRangeBtnLbl=this._config.customRangeButtonLabel,e.setStyle(o.nativeElement,"display","block"),e.setStyle(o.nativeElement,"position","absolute")}set value(e){var t;null===(t=this._effects)||void 0===t||t.setRangeValue(e)}ngOnInit(){var e,t;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition}},allowedPositions:["top","bottom"]}),null===(e=this._positionService.event$)||void 0===e||e.pipe(Object(s.a)(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,null===(t=this._effects)||void 0===t||t.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(e=>e.selectedRange).subscribe(e=>{this.valueChange.emit(e),this.chosenRange=e||[]}))}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}daySelectHandler(e){e&&((this.isOtherMonthsActive?e.isDisabled:e.isOtherMonth||e.isDisabled)||this.rangesProcessing(e))}monthSelectHandler(e){if(e&&!e.isDisabled)if(e.isSelected=!0,"month"===this._config.minMode)this.rangesProcessing(e);else{if(e.isDisabled)return;this._store.dispatch(this._actions.navigateTo({unit:{month:Object(l.j)(e.date),year:Object(l.h)(e.date)},viewMode:"day"}))}}yearSelectHandler(e){if(e&&!e.isDisabled)if(e.isSelected=!0,"year"===this._config.minMode)this.rangesProcessing(e);else{if(e.isDisabled)return;this._store.dispatch(this._actions.navigateTo({unit:{year:Object(l.h)(e.date)},viewMode:"month"}))}}rangesProcessing(e){1===this._rangeStack.length&&(this._rangeStack=e.date>=this._rangeStack[0]?[this._rangeStack[0],e.date]:[e.date]),this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(e.date),0===this._rangeStack.length&&(this._rangeStack=[e.date],this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(e.date)),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[])}ngOnDestroy(){var e;for(const t of this._subs)t.unsubscribe();null===(e=this._effects)||void 0===e||e.destroy()}setRangeOnCalendar(e){e&&(this._rangeStack=e.value instanceof Date?[e.value]:e.value),this._store.dispatch(this._actions.selectRange(this._rangeStack))}setMaxDateRangeOnCalendar(e){var t;let n=new Date(e);if(this._config.maxDate){const t=this._config.maxDate.getTime(),i=e.getTime()+864e5*(this._config.maxDateRange||0);n=i>t?new Date(this._config.maxDate):new Date(i)}else n.setDate(e.getDate()+(this._config.maxDateRange||0));null===(t=this._effects)||void 0===t||t.setMaxDate(n)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.I),i.Tb(pe),i.Tb(Be),i.Tb(i.n),i.Tb(fe),i.Tb(be),i.Tb(u.b))},e.\u0275cmp=i.Nb({type:e,selectors:[["bs-daterangepicker-container"]],hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(e,t){1&e&&i.hc("click",(function(e){return t._stopPropagation(e)}))},features:[i.Gb([Be,be]),i.Eb],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(e,t){1&e&&(i.Qc(0,Z,10,11,"div",0),i.kc(1,"async")),2&e&&i.sc("ngIf",i.lc(1,1,t.viewMode))},directives:function(){return[w.u,w.r,w.y,w.z,w.t,qe,Je,tt,Ke]},pipes:function(){return[w.b]},encapsulation:2,data:{animation:[ge]}}),e})(),He=(()=>{class e extends pe{constructor(){super(...arguments),this.displayMonths=2}}return e.\u0275fac=function(t){return Ue(t||e)},e.\u0275prov=Object(i.Pb)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const Ue=i.bc(He);let Ye=(()=>{class e{constructor(e,t,n,o,r){this._config=e,this._elementRef=t,this._renderer=n,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new f.a,this.isDisabled=!1,this.bsValueChange=new i.p,this._subs=[],this._rangeInputFormat$=new f.a,this._datepicker=r.createLoader(t,o,n),Object.assign(this,e),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new p.a(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(e){this.isOpen$.next(e)}set bsValue(e){this._bsValue!==e&&(this._bsValue=e,this.bsValueChange.emit(e))}set bsConfig(e){this._bsConfig=e,this.setConfig(),this._rangeInputFormat$.next(e&&e.rangeInputFormat)}get bsConfig(){return this._bsConfig}get rangeInputFormat$(){return this._rangeInputFormat$}ngOnInit(){this.isDestroy$=new f.a,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(e){var t;this._datepickerRef&&this._datepickerRef.instance&&(e.minDate&&(this._datepickerRef.instance.minDate=this.minDate),e.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),e.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),e.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),e.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),e.isDisabled&&((null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement)&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),e.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses))}ngAfterViewInit(){this.isOpen$.pipe(Object(o.a)(e=>e!==this.isOpen),Object(a.a)(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:pe,useValue:this._config}).attach(Fe).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this._subs.push(this.bsValueChange.subscribe(e=>{this._datepickerRef&&(this._datepickerRef.instance.value=e)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.pipe(Object(o.a)(e=>e&&e[0]&&!!e[1])).subscribe(e=>{this.bsValue=e,this.hide()})))}setConfig(){var e,t;this._config=Object.assign({},this._config,this.bsConfig,{value:(e=this._bsValue,t=this.maxDate||this.bsConfig&&this.bsConfig.maxDate,e&&t?e instanceof Array&&!e.length||e instanceof Date?e:Te(e,t):e),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:Oe(this.bsConfig&&this.bsConfig.ranges,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange})}hide(){this.isOpen&&this._datepicker.hide();for(const e of this._subs)e.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(),this.isDestroy$.complete())}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(He),i.Tb(i.n),i.Tb(i.I),i.Tb(i.S),i.Tb(S.a))},e.\u0275dir=i.Ob({type:e,selectors:[["","bsDaterangepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isDisabled:"isDisabled",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{bsValueChange:"bsValueChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bsDaterangepicker"],features:[i.Fb]}),e})();const Ge={provide:O.s,useExisting:Object(i.Y)(()=>Ze),multi:!0},Ve={provide:O.r,useExisting:Object(i.Y)(()=>Ze),multi:!0};let Ze=(()=>{class e{constructor(e,t,n,i,o){this._picker=e,this._localeService=t,this._renderer=n,this._elRef=i,this.changeDetection=o,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new h.a}ngOnInit(){this._picker._bsValue&&(e=>{this._setInputValue(e),this._value!==e&&(this._value=e,this._onChange(e),this._onTouched()),this.changeDetection.markForCheck()})(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(e=>{this._setInputValue(e),this._value!==e&&(this._value=e,this._onChange(e),this._onTouched()),this.changeDetection.markForCheck()})),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.rangeInputFormat$.pipe(Object(c.a)()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(e){13!==e.keyCode&&"Enter"!==e.code||this.hide()}_setInputValue(e){let t="";if(e){const n=e[0]?Object(l.e)(e[0],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"",i=e[1]?Object(l.e)(e[1],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"";t=n&&i?n+this._picker._config.rangeSeparator+i:""}this._renderer.setProperty(this._elRef.nativeElement,"value",t)}onChange(e){this.writeValue(e.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(e){let t=e.value;const n=[];if(null==t||!Object(l.l)(t))return null;t=t.slice().sort((e,t)=>e.getTime()-t.getTime());const i=Object(l.o)(t[0]),o=Object(l.o)(t[1]);return i?o?(this._picker&&this._picker.minDate&&Object(l.m)(t[0],this._picker.minDate,"date")&&(t[0]=this._picker.minDate,n.push({bsDate:{minDate:this._picker.minDate}})),this._picker&&this._picker.maxDate&&Object(l.k)(t[1],this._picker.maxDate,"date")&&(t[1]=this._picker.maxDate,n.push({bsDate:{maxDate:this._picker.maxDate}})),n.length>0?(this.writeValue(t),n):null):{bsDate:{invalid:t[1]}}:{bsDate:{invalid:t[0]}}}registerOnValidatorChange(e){this._validatorChange=e}writeValue(e){if(e){const t=this._localeService.currentLocale;if(!Object(l.i)(t))throw new Error(`Locale "${t}" is not defined, please add it with "defineLocale(...)"`);let n=[];if("string"==typeof e){const t=this._picker._config.rangeSeparator.trim();n=e.split(t.length>0?t:this._picker._config.rangeSeparator).map(e=>e.trim())}Array.isArray(e)&&(n=e),this._value=n.map(e=>this._picker._config.useUtc?Object(l.z)(Object(l.v)(e,this._picker._config.rangeInputFormat,this._localeService.currentLocale)):Object(l.v)(e,this._picker._config.rangeInputFormat,this._localeService.currentLocale)).map(e=>isNaN(e.valueOf())?void 0:e)}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(e){this._picker.isDisabled=e,e?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(Ye,1),i.Tb(me),i.Tb(i.I),i.Tb(i.n),i.Tb(i.i))},e.\u0275dir=i.Ob({type:e,selectors:[["input","bsDaterangepicker",""]],hostBindings:function(e,t){1&e&&i.hc("change",(function(e){return t.onChange(e)}))("keyup.esc",(function(){return t.hide()}))("keydown",(function(e){return t.onKeydownEvent(e)}))("blur",(function(){return t.onBlur()}))},features:[i.Gb([Ge,Ve])]}),e})(),$e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["bs-calendar-layout"]],ngContentSelectors:z,decls:6,vars:2,consts:[["title","hey there",4,"ngIf"],[1,"bs-datepicker-head"],[1,"bs-datepicker-body"],[4,"ngIf"],["title","hey there"]],template:function(e,t){1&e&&(i.rc(K),i.Qc(0,$,1,0,"bs-current-date",0),i.Zb(1,"div",1),i.qc(2),i.Yb(),i.Zb(3,"div",2),i.qc(4,1),i.Yb(),i.Qc(5,W,1,0,"bs-timepicker",3)),2&e&&(i.sc("ngIf",!1),i.Hb(5),i.sc("ngIf",!1))},directives:function(){return[w.u,We,et]},encapsulation:2}),e})(),We=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["bs-current-date"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"current-timedate"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"span"),i.Sc(2),i.Yb(),i.Yb()),2&e&&(i.Hb(2),i.Tc(t.title))},encapsulation:2}),e})(),Ke=(()=>{class e{constructor(){this.onSelect=new i.p}selectFromRanges(e){this.onSelect.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["bs-custom-date-view"]],inputs:{ranges:"ranges",selectedRange:"selectedRange",customRangeLabel:"customRangeLabel"},outputs:{onSelect:"onSelect"},decls:2,vars:1,consts:[[1,"bs-datepicker-predefined-btns"],["type","button","class","btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn",3,"click"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Qc(1,Q,2,3,"button",1),i.Yb()),2&e&&(i.Hb(1),i.sc("ngForOf",t.ranges))},directives:[w.t],encapsulation:2,changeDetection:0}),e})(),ze=(()=>{class e{constructor(e,t,n){this._config=e,this._elRef=t,this._renderer=n,this.day={date:new Date,label:""}}ngOnInit(){var e,t,n;(null===(e=this.day)||void 0===e?void 0:e.isToday)&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof(null===(t=this.day)||void 0===t?void 0:t.customClasses)&&(null===(n=this.day)||void 0===n||n.customClasses.split(" ").filter(e=>e).forEach(e=>{this._renderer.addClass(this._elRef.nativeElement,e)}))}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(pe),i.Tb(i.n),i.Tb(i.I))},e.\u0275cmp=i.Nb({type:e,selectors:[["","bsDatepickerDayDecorator",""]],hostVars:16,hostBindings:function(e,t){2&e&&i.Lb("disabled",t.day.isDisabled)("is-highlighted",t.day.isHovered)("is-other-month",t.day.isOtherMonth)("is-active-other-month",t.day.isOtherMonthHovered)("in-range",t.day.isInRange)("select-start",t.day.isSelectionStart)("select-end",t.day.isSelectionEnd)("selected",t.day.isSelected)},inputs:{day:"day"},attrs:X,decls:1,vars:1,template:function(e,t){1&e&&i.Sc(0),2&e&&i.Tc(t.day&&t.day.label||"")},encapsulation:2,changeDetection:0}),e})();var Qe=function(e){return e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e}({});let Xe=(()=>{class e{constructor(){this.onNavigate=new i.p,this.onViewMode=new i.p}navTo(e){this.onNavigate.emit(e?Qe.DOWN:Qe.UP)}view(e){this.onViewMode.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["bs-datepicker-navigation-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode"},decls:12,vars:8,consts:[["type","button",1,"previous",3,"disabled","click"],[4,"ngIf"],["type","button",1,"current",3,"click"],["type","button",1,"next",3,"disabled","click"]],template:function(e,t){1&e&&(i.Zb(0,"button",0),i.hc("click",(function(){return t.navTo(!0)})),i.Zb(1,"span"),i.Sc(2,"\u2039"),i.Yb(),i.Yb(),i.Qc(3,q,5,1,"ng-container",1),i.Sc(4," \u200b "),i.Zb(5,"button",2),i.hc("click",(function(){return t.view("year")})),i.Zb(6,"span"),i.Sc(7),i.Yb(),i.Yb(),i.Sc(8," \u200b "),i.Zb(9,"button",3),i.hc("click",(function(){return t.navTo(!1)})),i.Zb(10,"span"),i.Sc(11,"\u203a"),i.Yb(),i.Yb()),2&e&&(i.Pc("visibility",t.calendar.hideLeftArrow?"hidden":"visible"),i.sc("disabled",t.calendar.disableLeftArrow),i.Hb(3),i.sc("ngIf",t.calendar&&t.calendar.monthTitle),i.Hb(4),i.Tc(t.calendar.yearTitle),i.Hb(2),i.Pc("visibility",t.calendar.hideRightArrow?"hidden":"visible"),i.sc("disabled",t.calendar.disableRightArrow))},directives:[w.u],encapsulation:2,changeDetection:0}),e})(),qe=(()=>{class e{constructor(e){this._config=e,this.onNavigate=new i.p,this.onViewMode=new i.p,this.onSelect=new i.p,this.onHover=new i.p,this.onHoverWeek=new i.p,this.isiOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._config.dateTooltipTexts&&this._config.dateTooltipTexts.length>0&&(this.isShowTooltip=!0)}navigateTo(e){this.onNavigate.emit({step:{month:Qe.DOWN===e?-1:1}})}changeViewMode(e){this.onViewMode.emit(e)}selectDay(e){this.onSelect.emit(e)}selectWeek(e){if(!this._config.selectWeek&&!this._config.selectWeekDateRange)return;if(0===e.days.length)return;if(this._config.selectWeek&&e.days[0]&&!e.days[0].isDisabled&&this._config.selectFromOtherMonth)return void this.onSelect.emit(e.days[0]);const t=e.days.find(e=>(this._config.selectFromOtherMonth||!e.isOtherMonth)&&!e.isDisabled);if(this.onSelect.emit(t),this._config.selectWeekDateRange){const t=e.days.slice(0).reverse().find(e=>(this._config.selectFromOtherMonth||!e.isOtherMonth)&&!e.isDisabled);this.onSelect.emit(t)}}weekHoverHandler(e,t){(this._config.selectWeek||this._config.selectWeekDateRange)&&e.days.find(e=>(this._config.selectFromOtherMonth||!e.isOtherMonth)&&!e.isDisabled)&&(e.isHovered=t,this.isWeekHovered=t,this.onHoverWeek.emit(e))}hoverDay(e,t){this._config.selectFromOtherMonth&&e.isOtherMonth&&(e.isOtherMonthHovered=t),this._config.dateTooltipTexts&&(e.tooltipText="",this._config.dateTooltipTexts.forEach(t=>{Object(l.s)(t.date,e.date)&&(e.tooltipText=t.tooltipText)})),this.onHover.emit({cell:e,isHovered:t})}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(pe))},e.\u0275cmp=i.Nb({type:e,selectors:[["bs-days-calendar-view"]],inputs:{calendar:"calendar",options:"options"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"},decls:9,vars:4,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"days","weeks"],[4,"ngIf"],["aria-label","weekday",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["aria-label","weekday"],["class","week",3,"active-week",4,"ngIf"],["role","gridcell",4,"ngFor","ngForOf"],[1,"week"],[3,"click",4,"ngIf"],[3,"click","mouseenter","mouseleave",4,"ngIf"],[3,"click"],[3,"click","mouseenter","mouseleave"],["role","gridcell"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click"]],template:function(e,t){1&e&&(i.Zb(0,"bs-calendar-layout"),i.Zb(1,"bs-datepicker-navigation-view",0),i.hc("onNavigate",(function(e){return t.navigateTo(e)}))("onViewMode",(function(e){return t.changeViewMode(e)})),i.Yb(),i.Zb(2,"table",1),i.Zb(3,"thead"),i.Zb(4,"tr"),i.Qc(5,J,1,0,"th",2),i.Qc(6,ee,2,1,"th",3),i.Yb(),i.Yb(),i.Zb(7,"tbody"),i.Qc(8,ce,3,2,"tr",4),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(1),i.sc("calendar",t.calendar),i.Hb(4),i.sc("ngIf",t.options&&t.options.showWeekNumbers),i.Hb(1),i.sc("ngForOf",t.calendar.weekdays),i.Hb(2),i.sc("ngForOf",t.calendar.weeks))},directives:[$e,Xe,w.u,w.t,ze,x],encapsulation:2}),e})(),Je=(()=>{class e{constructor(){this.onNavigate=new i.p,this.onViewMode=new i.p,this.onSelect=new i.p,this.onHover=new i.p}navigateTo(e){this.onNavigate.emit({step:{year:Qe.DOWN===e?-1:1}})}viewMonth(e){this.onSelect.emit(e)}hoverMonth(e,t){this.onHover.emit({cell:e,isHovered:t})}changeViewMode(e){this.onViewMode.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["bs-month-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"months"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(e,t){1&e&&(i.Zb(0,"bs-calendar-layout"),i.Zb(1,"bs-datepicker-navigation-view",0),i.hc("onNavigate",(function(e){return t.navigateTo(e)}))("onViewMode",(function(e){return t.changeViewMode(e)})),i.Yb(),i.Zb(2,"table",1),i.Zb(3,"tbody"),i.Qc(4,ue,2,1,"tr",2),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(1),i.sc("calendar",t.calendar),i.Hb(3),i.sc("ngForOf",null==t.calendar?null:t.calendar.months))},directives:[$e,Xe,w.t],encapsulation:2}),e})(),et=(()=>{class e{constructor(){this.ampm="ok",this.hours=0,this.minutes=0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["bs-timepicker"]],decls:16,vars:3,consts:[[1,"bs-timepicker-container"],[1,"bs-timepicker-controls"],["type","button",1,"bs-decrease"],["type","text","placeholder","00",3,"value"],["type","button",1,"bs-increase"],["type","button",1,"switch-time-format"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==","alt",""]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"button",2),i.Sc(3,"-"),i.Yb(),i.Ub(4,"input",3),i.Zb(5,"button",4),i.Sc(6,"+"),i.Yb(),i.Yb(),i.Zb(7,"div",1),i.Zb(8,"button",2),i.Sc(9,"-"),i.Yb(),i.Ub(10,"input",3),i.Zb(11,"button",4),i.Sc(12,"+"),i.Yb(),i.Yb(),i.Zb(13,"button",5),i.Sc(14),i.Ub(15,"img",6),i.Yb(),i.Yb()),2&e&&(i.Hb(4),i.sc("value",t.hours),i.Hb(6),i.sc("value",t.minutes),i.Hb(4),i.Uc("",t.ampm," "))},encapsulation:2}),e})(),tt=(()=>{class e{constructor(){this.onNavigate=new i.p,this.onViewMode=new i.p,this.onSelect=new i.p,this.onHover=new i.p}navigateTo(e){this.onNavigate.emit({step:{year:16*(Qe.DOWN===e?-1:1)}})}viewYear(e){this.onSelect.emit(e)}hoverYear(e,t){this.onHover.emit({cell:e,isHovered:t})}changeViewMode(e){this.onViewMode.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["bs-years-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"years"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(e,t){1&e&&(i.Zb(0,"bs-calendar-layout"),i.Zb(1,"bs-datepicker-navigation-view",0),i.hc("onNavigate",(function(e){return t.navigateTo(e)}))("onViewMode",(function(e){return t.changeViewMode(e)})),i.Yb(),i.Zb(2,"table",1),i.Zb(3,"tbody"),i.Qc(4,he,2,1,"tr",2),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(1),i.sc("calendar",t.calendar),i.Hb(3),i.sc("ngForOf",null==t.calendar?null:t.calendar.years))},directives:[$e,Xe,w.t],encapsulation:2}),e})(),nt=(()=>{class e{static forRoot(){return{ngModule:e,providers:[S.a,u.b,Be,fe,be,me]}}}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[w.c,I]]}),e})()},"iU+o":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("9Fhk"),o=n("fXoL"),r=n("MPf+");let s=(()=>{class e{constructor(e){this.webPCompat=e}transform(e,t){if(!e||!t||e===i.b||e===i.a)return e||i.b;let n=e;const o=this.webPCompat.hasFullWebPFeatureSet;return Object.keys(t).forEach((e,i)=>{switch(n+=i>0?"&":"?",e){case"format":n+="webp"!==t[e]||o?"fm="+t[e]:"fm=jpg";break;case"fully":n+="fl="+t[e];break;case"width":n+="w="+t[e];break;case"height":n+="h="+t[e];break;case"fit":n+="fit="+t[e];break;case"focus":n+="f="+t[e];break;case"radius":n+="r="+t[e];break;case"quality":n+="q="+t[e];break;case"background":n+="bg="+t[e]}}),n}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(r.a))},e.\u0275pipe=o.Sb({name:"cmsImage",type:e,pure:!0}),e})()},iWk1:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("ofXK"),o=n("fXoL"),r=n("XNiG"),s=n("rmK9"),a=n("RbsG"),c=n("PxKc"),l=n("1AID"),u=n("imvL"),d=n("BifP"),h=n("kh7C");let p=(()=>{class e{constructor(e,t,n,i){this.platformId=e,this.auth=t,this.cmsConfig=n,this.utilsSvc=i,this.showDotersTerms$=new o.p,this.dotersToogleActive$=new o.p,this.dotersCardBarInx$=new o.p,this.termsAccepted$=new r.a,this.dotersOtpStep=0,this.cmsDoters=!1,this.showDotersEarn=!1,this.showDotersEarnInMMB=!1,this.$autoDotersPayment=new r.a,this.cmsDoters=this.cmsConfig.getSectionFeatureValue(l.b.GLOBAL,l.a.Doters),this.showDotersEarn=this.cmsConfig.getBookingFeatureValue(l.a.ShowDotersEarnGlobal)||!1,this.showDotersEarnInMMB=this.cmsConfig.getBookingFeatureValue(l.a.ShowDotersEarnInMMB)||!1}set _dotersRedemptionPoints(e){"number"==typeof e&&(this.dotersRedemptionPoints=e)}get _dotersRedemptionPoints(){return this.dotersRedemptionPoints}set _dotersMissingAmount(e){"number"==typeof e&&(this.dotersMissingAmount=e)}get _dotersMissingAmount(){return this.dotersMissingAmount}get autoDotersPayment$(){return this.$autoDotersPayment.asObservable()}dotersSidebar(e){this.showDotersTerms$.emit(e)}dotersToogle(e){this.dotersToogleActive$.emit(e)}dotersCardBarIndex(e){this.dotersCardBarInx$.emit(e)}emitAcceptedTerms(){this.termsAccepted$.next()}emitAutoDotersPayment(){this.$autoDotersPayment.next()}resetDotersValues(){this.otpSuccess=!1,this.dotersOtpStep=0,this.dotersMissingAmount=void 0,this.dotersRedemptionPoints=void 0}showEarnDotersComponents(e,t){var n,o;if(!this.showDotersEarn||t&&(!this.showDotersEarnInMMB&&(null===(n=t.basket)||void 0===n?void 0:n.flowType)!==c.b.Booking||t.basketBooking.journeys.find(e=>this.utilsSvc.hasAlternativeProviderInSegments(e.segments,"operatingCarrier"))))return!1;if(e&&this.cmsDoters&&Object(i.L)(this.platformId)&&this.auth.getDotersAffiliation(e)&&e.accountType!==a.k.Agency&&e.accountType!==a.k.Enterprise&&e.accountType!==a.k.Staff&&!sessionStorage.getItem("loginReferral")){const t=null===(o=null==e?void 0:e.terms)||void 0===o?void 0:o.find(e=>e.type===s.a.Loyalty);if(t&&!(null==t?void 0:t.promptTerms))return!0}return!1}}return e.\u0275fac=function(t){return new(t||e)(o.dc(o.G),o.dc(u.a),o.dc(d.a),o.dc(h.a))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},iYuL:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(n("wd/R"))},"ib+v":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL");let o=(()=>{class e{constructor(){}transform(e,t){if(!e||(null==t?void 0:t.length)<1)return e||"";let n=e;return t.forEach(e=>{n=n.replace(new RegExp(e.regex,"g"),e.newValue)}),n}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Sb({name:"cmsRegexReplace",type:e,pure:!0}),e})()},im7C:function(e,t){var n=1e3,i=6e4,o=60*i,r=24*o;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var a,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*r;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*i;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===c&&!1===isNaN(e))return t.long?s(a=e,r,"day")||s(a,o,"hour")||s(a,i,"minute")||s(a,n,"second")||a+" ms":function(e){return e>=r?Math.round(e/r)+"d":e>=o?Math.round(e/o)+"h":e>=i?Math.round(e/i)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},imvL:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var i=n("mrSG"),o=n("WSM3"),r=n("ofXK"),s=n("fXoL"),a=n("tyNb"),c=n("wd/R"),l=n("2Vo4"),u=n("quSY"),d=n("z6cu"),h=n("l5mm"),p=n("pLZG"),g=n("IzEk"),f=n("AytR"),m=n("rmK9"),b=n("RRjW"),v=n("h/S9"),y=n("ATtC"),C=n.n(y),S=n("RbsG"),O=n("LRne");let T=(()=>{class e{static get hasTokenData(){var t;return!!(null===(t=localStorage||{})||void 0===t?void 0:t.getItem(e.tokenName))}persistData(t,n){var i;if(t){const o={res:t,email:n,tokenExpirationDate:this.generateTokenExpirationDate(t.tokenExpirationTime)},r=btoa(JSON.stringify(o));return null===(i=localStorage||{})||void 0===i||i.setItem(e.tokenName,r),o}console.warn("::QuickLoginResponseHandler::","Payload was not given to function. Did not persist data to Storage!")}clearPersistedData(){var t;null===(t=localStorage||{})||void 0===t||t.removeItem(e.tokenName)}loadData(){var t;const n=null===(t=localStorage||{})||void 0===t?void 0:t.getItem(e.tokenName);if(n)return JSON.parse(atob(n));throw new Error("No payload data was found!")}getResponse(e){if(e){const{res:t,email:n,tokenExpirationDate:i}=e,o=this.getRemainingDuration(i);if(!o)return Object(d.a)({status:400,error:{detail:"Token is expired or invalid!"}});const r={authToken:t.authToken,tokenExpirationTime:o,accountType:S.k.Customer,userDetails:{firstName:t.firstName,lastName:t.lastName,customerNumber:t.customerNumber,gender:void 0,email:n},notifications:t.notifications,activeFeatures:t.activeFeatures};return Object(O.a)(r)}return Object(d.a)({status:400,error:{detail:"Token is invalid!"}})}generateTokenExpirationDate(e){const t=c.duration(e);if(t.isValid())return c().add(t).subtract(5,"seconds").toISOString();console.warn("::QuickLoginResponseHandler::","Session duration could not be set!")}getRemainingDuration(e){const t=c(e).diff(c(),"seconds");if("number"==typeof t&&t>0){const e=c.duration(t,"seconds");return c.utc(e.as("milliseconds")).format("HH:mm:ss")}}}return e.tokenName=f.g.cacheKeys.LOGIN_TOKEN+"-ql-data",e})();var w=n("djEO"),k=n("VHOi"),A=n("CPX7"),E=n("CJ36"),M=n("ChtM"),P=n("XwP0"),D=n("FE/U"),x=n("SXaI");let I=(()=>{class e{constructor(e,t,n,i,r,s,a,c,d,h,p){this.platformId=e,this.document=t,this.account=n,this.router=i,this.token=r,this.basket=s,this.localeSvc=a,this.currencySvc=c,this.datalayerLoginSvc=d,this.srcChannel=h,this.ssoSvc=p,this.$referralLogin=new l.a(void 0),this.$userDetails=new l.a(void 0),this.$userAccountData=new l.a(void 0),this.$syncing=new l.a(!0),this.userDataSub=u.a.EMPTY,this.userDetailsSub=u.a.EMPTY,this.tokenValidityIntervalSub=u.a.EMPTY,this.threadIsRefreshing=!1,this.tokenSecondsToRefresh=300,this.validityIntervalPolling=5,this.newAccountCodes=["NEW_ACCOUNT_CREATED","IncompleteProfile"],this.vivaFanAffiliationCodes=o.i,this.dotersAffiliationCodes=o.d,this.smileAndFlyAffiliationCodes=o.f,this.debugAffiliationCodes=o.c,this.incompleteDataToken=f.g.cacheKeys.INCOMPLETE_PROFILE,this.intervalSubscribtion=u.a.EMPTY,this.loadPersistedTokenData(),this.addLSEventListener(),this.addBeforeUnloadListener(),this.loadTokenFromURL()}ngOnDestroy(){this.removeLSEventListener(),this.stopTokenHandler()}doLogin(e,t,n,o,r,s=!0){return Object(i.a)(this,void 0,void 0,(function*(){const i=Object.assign(Object.assign(Object.assign({username:e,password:t,rememberMe:n},r&&{domain:r}),this.basketIsValid&&{basketId:this.basket.basketId}),{accountType:o});try{this.$syncing.next(!0);const e=yield this.account.postLogin(i).toPromise();return this.setTokenAndUserDetails(e),this.$syncing.next(!1),this.getUserData(this.shouldGetAccountFunds(o),s,"system"),this.validateIfNewAccount(e),this.datalayerLoginSvc.loginIntent(),!0}catch(a){if(this.$syncing.next(!1),400===a.status&&this.datalayerLoginSvc.loginFail(a,"system"),401===a.status||400===a.status){const e=a.error;if((null==e?void 0:e.code)===b.b.ACCOUNT_CREDENTIALS_INVALID)return!1}throw a}}))}doExternalLogin(e,t=!1){return Object(i.a)(this,void 0,void 0,(function*(){this.router.navigate([this.router.url.split("?")[0].split("#")[0]],{replaceUrl:!0,queryParams:{activation_code:void 0,sub:void 0,expires_in:void 0,token_type:void 0,state:void 0},queryParamsHandling:"merge"});try{this.$syncing.next(!0);const n={username:e.sub,providerType:"SAC"===e.token_type?m.d.SsoAuthCode:m.d.SsoAccessToken,token:e.activation_code,basketId:null},i=yield this.ssoSvc.doLoginExternal(n).toPromise();return this.setTokenAndUserDetails(i),this.$syncing.next(!1),this.getUserData(this.shouldGetAccountFunds(i.accountType),t,"system"),this.validateIfNewAccount(i),!0}catch(n){if(this.$syncing.next(!1),400===n.status&&this.datalayerLoginSvc.loginFail(n,"system"),401===n.status||400===n.status){const e=n.error;if((null==e?void 0:e.code)===b.b.ACCOUNT_CREDENTIALS_INVALID)return!1}throw n}}))}doSocialLogin(e,t){return Object(i.a)(this,void 0,void 0,(function*(){const n=Object.assign(Object.assign({},e),this.basketIsValid&&{basketId:this.basket.basketId});try{this.$syncing.next(!0);const e=yield this.account.postSocialLogin(n).toPromise();return this.setTokenAndUserDetails(e),this.$syncing.next(!1),this.getUserData(this.shouldGetAccountFunds(null),!0,t),this.validateIfNewAccount(e),this.datalayerLoginSvc.loginIntent(),!0}catch(i){throw 400===i.status&&this.datalayerLoginSvc.loginFail(i,t),this.$syncing.next(!1),i}}))}doQuickLoginFromRegistration(e,t){return Object(i.a)(this,void 0,void 0,(function*(){try{if(!(null==e?void 0:e.authToken))throw new Error("Response has no authToken detected. Cannot login!");this.$syncing.next(!0);const n=new T,i=n.persistData(e,t),o=yield n.getResponse(i).toPromise();this.setTokenAndUserDetails(o),this.$syncing.next(!1),this.getUserData(!1,!0,"system")}catch(n){throw this.$syncing.next(!1),f.g.production||console.error("Error",n),n}}))}doLogout(e=!0){Object(r.L)(this.platformId)&&localStorage.getItem("viva-user-esid")&&this.ssoSvc.doLogoutExternal().toPromise().catch(e=>{f.g.production||console.error("doLogoutExternal",e)}).finally(()=>{this.ssoSvc.deleteSessionIdExternal()}),this.closeIntervalSubscription(),this.doQuickLoginLogout(),this.token.clearToken(),this.deleteAuthTokenExpiration(),this.basket.clearBasket(),this.stopHandlers(),this._userAccountType=void 0,this._userDetails=void 0,this._userAccountData=void 0,this.fundsData=void 0,this.$syncing.next(!1),e&&this.router.navigate([""]),this.removeContactData(),this.datalayerLoginSvc.deleteVui(),this.datalayerLoginSvc.logout("successful")}doQuickLoginLogout(){this.isQuickLogin&&this.clearQuickLoginAuthData()}getUpdatedAccountData(e=!1){var t;this.isLoggedIn?this.getUserData(e?this.shouldGetAccountFunds(null===(t=this.userAccountData)||void 0===t?void 0:t.accountType):e):f.g.production||console.warn("::AUTH:getUpdatedAccountData::","Tried to sync logged-in user data for anonymous session!")}shouldGetAccountFunds(e){switch(e){case S.k.Agency:case S.k.Enterprise:return!1;default:return!0}}get isLoggedIn(){return!!this.authToken&&!!this.userDetails}_bf_authenticated(){return!!this.authToken}persistToken(e){this.token.authToken=e}loadPersistedTokenData(){this.authToken?(this.$syncing.next(!0),this.userDetailsSub.closed||this.userDetailsSub.unsubscribe(),this.userDetailsSub=this.apiUserDetails.subscribe(e=>{this.setTokenAndUserDetails(e),this.$syncing.next(!1),this.getUserData(this.shouldGetAccountFunds(null==e?void 0:e.accountType)),this.datalayerLoginSvc.loginIntent()},e=>{this.datalayerLoginSvc.loginIntent(),this.onSessionError(e,"::LoadSessionDetailsError::"),this.$syncing.value&&this.$syncing.next(!1)})):this.$syncing.next(!1)}onSessionError(e,t){f.g.production||console.error(t,e),401!==e.status&&400!==e.status||(this.doLogout(),this.setMutexInnerFlag(!1))}getUserData(e,t=!1,n){this.userDataSub.closed||this.userDataSub.unsubscribe(),this.userDataSub=this.getApiUserAccountData(e).subscribe(i=>{var o;e?this.fundsData=i.funds:this.fundsData&&(i.funds=this.fundsData),this._userAccountData=i,this.saveContactData(i.contactDetails),this.datalayerLoginSvc.saveVui(i),this.datalayerLoginSvc.loginSuccess(i,n),t&&(null===(o=this.userAccountData.basket)||void 0===o?void 0:o.basketId)&&this.userAccountData.basket.status!==v.d.Expired&&this.basket.syncBasketInfo(this.userAccountData.basket.basketId)},e=>{this.onSessionError(e,"::GetUserData::")})}get apiUserDetails(){return this.isQuickLogin?this.sessionTokenRestore():this.account.accountRestore()}sessionTokenRestore(){const e=new T;let t;try{t=e.loadData()}catch(_){Object(d.a)({status:400,error:{detail:"Token parse error!"}})}return e.getResponse(t)}getApiUserAccountData(e=!1){return this.account.getAccount(e)}setTokenAndUserDetails(e){this.persistToken(e.authToken),this.ssoSvc.saveSessionIdExternal(null==e?void 0:e.sessionIdExternal),this.validateToken(),this._userAccountType=e.accountType,this._userDetails=e.userDetails,this.setTokenExpirationData(e.tokenExpirationTime),this.initTokenHandler()}saveContactData(e){var t,n,o;return Object(i.a)(this,void 0,void 0,(function*(){if(Object(r.L)(this.platformId)&&(null===(t=null==e?void 0:e.emailAddress)||void 0===t?void 0:t.email))try{let t=yield this.encodeData(null===(n=null==e?void 0:e.emailAddress)||void 0===n?void 0:n.email);const i=null===(o=null==e?void 0:e.phoneNumbers.find(e=>(null==e?void 0:e.type)===m.h.Home&&!!(null==e?void 0:e.number)))||void 0===o?void 0:o.number;i&&(t+="."+(yield this.encodeData(i))),localStorage.setItem("vb-hash-udata",t)}catch(i){f.g.production||console.error("saveHashData",i)}}))}encodeData(e){return Object(i.a)(this,void 0,void 0,(function*(){const t=(new TextEncoder).encode(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}))}removeContactData(){Object(r.L)(this.platformId)&&localStorage.removeItem("vb-hash-udata")}validateIfNewAccount(e){if(Array.isArray(null==e?void 0:e.notifications)&&e.notifications.find(e=>this.newAccountCodes.includes(e.code)))return this.router.navigate(["register","complete-registration"]),void localStorage.setItem(this.incompleteDataToken,"true");this.router.url.includes("/register")&&this.router.navigate([""])}get authToken(){return this.token.authToken}set _userDetails(e){this.userDetails=e,this.$userDetails.next(this.userDetails)}set _userAccountType(e){this.userAccountType=e}get authenticatedAccountType(){return this.userAccountType?this.userAccountType:this.referralLogin?S.k.Agency:S.k.Anonymous}get userAccountTerms(){var e;return this.userAccountData?null===(e=this.userAccountData)||void 0===e?void 0:e.terms:[]}set _referralLogin(e){this.referralLogin=e,this.$referralLogin.next(this.referralLogin)}set _userAccountData(e){this.userAccountData=e,this.$userAccountData.next(this.userAccountData)}get userAccountData$(){return this.$userAccountData.asObservable()}get userDetails$(){return this.$userDetails.asObservable()}get referralLogin$(){return this.$referralLogin.asObservable()}get authSyncing$(){return this.$syncing.asObservable()}get onSyncDone(){return this.authSyncing$.pipe(Object(p.a)(e=>!1===e))}get onSyncDonePromise(){return this.onSyncDone.pipe(Object(g.a)(1)).toPromise()}basketIsValid(){return this.basket.basketId&&this.basket._basket.status===v.d.Active&&!this.basket._basket.user}addLSEventListener(){Object(r.L)(this.platformId)&&(this.listenerFn=this.handleLocalStorageEvent.bind(this),window.addEventListener("storage",this.listenerFn))}removeLSEventListener(){Object(r.L)(this.platformId)&&this.listenerFn&&window.removeEventListener("storage",this.listenerFn)}handleLocalStorageEvent(e){e.storageArea===localStorage&&e.key===this.token.userTokenName&&(e.newValue?this.isLoggedIn||this.loadPersistedTokenData():this.doLogout())}addBeforeUnloadListener(){Object(r.L)(this.platformId)&&(this.beforeUnloadFn=this.beforeSvcUnload.bind(this),window.addEventListener("beforeunload",this.beforeUnloadFn))}stopHandlers(){this.stopTokenHandler(),this.userDetailsSub.closed||this.userDetailsSub.unsubscribe(),this._userAccountType=void 0,this._userDetails=void 0,this.userDataSub.closed||this.userDataSub.unsubscribe()}initTokenHandler(){if(Object(r.L)(this.platformId)){this.stopTokenHandler();const e=this.tokenValidityHandlerFn.bind(this);this.tokenValidityIntervalSub=Object(h.a)(1e3*this.validityIntervalPolling).subscribe(()=>{e()})}}stopTokenHandler(){this.tokenValidityIntervalSub.closed||this.tokenValidityIntervalSub.unsubscribe()}tokenValidityHandler(){if(this.isLoggedIn){if(this.tokenRemainingTimeInSeconds<this.tokenSecondsToRefresh){const e=new C.a;e.lock(f.g.cacheKeys.MUTEX_REFRESH_TOKEN).then(()=>(this.token.isRefreshingToken||(this.setMutexInnerFlag(!0),this.apiUserDetails.subscribe(e=>{this.token.authToken=e.authToken,this.setTokenExpirationData(e.tokenExpirationTime),this.setMutexInnerFlag(!1)},e=>{this.setMutexInnerFlag(!1),this.onSessionError(e,"::TokenRefreshError::")})),e.release(f.g.cacheKeys.MUTEX_REFRESH_TOKEN)))}}else this.stopTokenHandler()}sessionTokenValidityHandler(){this.isLoggedIn?this.tokenRemainingTimeInSeconds<0&&this.onSessionError({status:400,description:"Session has expired!"},"::SessionTokenError::"):this.stopTokenHandler()}get tokenValidityHandlerFn(){return this.isQuickLogin?this.sessionTokenValidityHandler:this.tokenValidityHandler}setMutexInnerFlag(e){this.token.setRefreshingToken(e),this.threadIsRefreshing=e}beforeSvcUnload(){Object(r.L)(this.platformId)&&(this.threadIsRefreshing&&this.setMutexInnerFlag(!1),this.beforeUnloadFn&&window.removeEventListener("beforeunload",this.beforeUnloadFn))}getVivaFanAffiliation(e){const t=e||this.userAccountData;if(t)return t.affiliations.find(e=>this.vivaFanAffiliationCodes.includes(e.code))}getDotersAffiliation(e){const t=e||this.userAccountData;if(Object(r.L)(this.platformId)&&t&&t.accountType!==S.k.Agency&&t.accountType!==S.k.Enterprise&&t.accountType!==S.k.Staff&&!sessionStorage.getItem("loginReferral"))return t.affiliations.find(e=>this.dotersAffiliationCodes.includes(e.code)&&c().add(1,"days").isBefore(c(e.endDate)))}getActiveSmileAndFlyAffiliation(e){const t=e||this.userAccountData;if(t)return t.affiliations.find(e=>this.smileAndFlyAffiliationCodes.includes(e.code)&&"AC"===e.level)}getDebugAffiliation(e){const t=e||this.userAccountData;if(t)return t.affiliations.find(e=>this.debugAffiliationCodes.includes(e.code)&&"DEB"===e.level)}loadUserLocaleSettings(){let e=!1,t=!1;this.userAccountData.preferences.language&&(e=this.localeSvc.changeLocaleData(this.userAccountData.preferences.language)),this.userAccountData.preferences.currencyCode&&(t=this.currencySvc.changeAppCurrency(this.userAccountData.preferences.currencyCode)),(e||t)&&Object(r.L)(this.platformId)&&(e?(sessionStorage.setItem("viva-lang","true"),this.localeSvc.reloadAppWithLocale(this.userAccountData.preferences.language)):this.document.location.reload())}setTokenExpirationData(e){const t=c.duration(e);if(t.isValid()){const e=c().add(t);e.isValid()&&(this.authTokenExpiration=e.toISOString())}}set authTokenExpiration(e){Object(r.L)(this.platformId)&&localStorage.setItem(f.g.cacheKeys.LOGIN_TOKEN+"-expires",e)}get authTokenExpiration(){return Object(r.L)(this.platformId)?localStorage.getItem(f.g.cacheKeys.LOGIN_TOKEN+"-expires"):null}deleteAuthTokenExpiration(){Object(r.L)(this.platformId)&&(localStorage.removeItem(f.g.cacheKeys.LOGIN_TOKEN+"-expires"),localStorage.removeItem(f.g.cacheKeys.STAFF_TOKEN),localStorage.removeItem(f.g.cacheKeys.INCOMPLETE_PROFILE))}get tokenRemainingTimeInSeconds(){const e=this.authTokenExpiration;if(e){const t=c(e);if(t.isValid())return t.diff(c(),"seconds")}return-1}loadTokenFromURL(){this.router.events.pipe(Object(p.a)(e=>e instanceof a.c),Object(g.a)(1)).toPromise().then(e=>{if(e instanceof a.c){const e=this.router.routerState.snapshot.root.queryParams;e.authToken&&(this.persistToken(e.authToken),this.loadPersistedTokenData()),e.fromChannel&&this.srcChannel.setChannelValue(e.fromChannel),(e.authToken||e.fromChannel)&&this.router.navigate([this.router.url.split("?")[0].split("#")[0]],{queryParams:{authToken:void 0,fromChannel:void 0},queryParamsHandling:"merge"}),e.displayHotel&&"true"===e.displayHotel&&Object(r.L)(this.platformId)&&sessionStorage.setItem("vb-display-hotel-in-booking","true"),this.ssoSvc.hasAllParams(e)&&this.ssoSvc.checkState(null==e?void 0:e.state)&&this.doExternalLogin(e)}})}clearQuickLoginAuthData(){(new T).clearPersistedData()}get isQuickLogin(){return this.token.authToken&&T.hasTokenData}validateToken(){Object(r.L)(this.platformId)&&localStorage.getItem("viva-user-esid")&&(this.intervalSubscribtion=Object(h.a)(6e4).subscribe(()=>Object(i.a)(this,void 0,void 0,(function*(){try{yield this.account.validateToken().toPromise()}catch(e){this.onSessionError(e,"::validateTokenError::")}}))))}closeIntervalSubscription(){this.intervalSubscribtion.closed||this.intervalSubscribtion.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(s.dc(s.G),s.dc(r.e),s.dc(w.a),s.dc(a.g),s.dc(k.a),s.dc(A.a),s.dc(E.a),s.dc(M.a),s.dc(P.a),s.dc(D.b),s.dc(x.a))},e.\u0275prov=s.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},itXk:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("z+Ro"),o=n("DH7j"),r=n("l7GE"),s=n("ZUHj"),a=n("yCtX");const c={};function l(...e){let t=null,n=null;return Object(i.a)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(o.a)(e[0])&&(e=e[0]),Object(a.a)(e,n).lift(new u(t))}class u{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new d(e,this.resultSelector))}}class d extends r.a{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(c),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(Object(s.a)(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,i,o){const r=this.values,s=this.toRespond?r[n]===c?--this.toRespond:this.toRespond:0;r[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},iyif:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var i=n("R0Ic");Object(i.f)([Object(i.l)({opacity:"0",transition:"opacity 0.8s"}),Object(i.e)("800ms",Object(i.l)({opacity:1}))]);const o=Object(i.f)([Object(i.l)({opacity:0}),Object(i.e)("501ms",Object(i.l)({opacity:1}))]),r=Object(i.f)([Object(i.l)({opacity:1}),Object(i.e)("301ms",Object(i.l)({opacity:0}))])},jRmn:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("fXoL"),o=n("ofXK"),r=n("9yTC"),s=n("b6Qw"),a=n("BifP"),c=n("5KMX");let l=(()=>{class e{constructor(e,t,n,i){this.document=e,this.cookiesSvc=t,this.cmsConfig=n,this.sanitizer=i}saveReferral(e){const t=this.cmsConfig._cmsConfig.globalSettings.sessionTime.metasearchSession.find(t=>t.metasearchCode===e);this.cookiesSvc.set("metasearchReferral",e,{expires:t&&t.sessionInHours?t.sessionInHours/24:1})}saveKayakClickId(e){const t=this.cmsConfig._cmsConfig.globalSettings.sessionTime.metasearchSession.find(e=>e.metasearchCode===this.cookiesSvc.get("metasearchReferral"));this.cookiesSvc.set("metasearchId",e,{expires:t&&t.sessionInHours?t.sessionInHours/24:1})}getCookie(){return this.cookiesSvc.get("metasearchReferral")?this.cookiesSvc.get("metasearchReferral"):""}showPixel(e,t){const n=this.cmsConfig._cmsConfig.globalSettings.sessionTime.metasearchSession.find(e=>e.metasearchCode===this.cookiesSvc.get("metasearchReferral"));if(null==n?void 0:n.triggerPixel){const n=e.basket.travel.passengers.filter(e=>e.passengerTypeCode===r.g.ADULT),i=e.basket.travel.passengers.filter(e=>e.passengerTypeCode===r.g.CHILD),o=e.basket.travel.passengers.filter(e=>e.passengerTypeCode===r.g.BABY);switch(this.cookiesSvc.get("metasearchReferral")){case u.GoogleFlight:this.showGoogleFlights(e,n,i,o,t);break;case u.KayakMx:this.showKayakMX(e,t);break;case u.KayakUs:this.showKayakUS(e,t);break;case u.SkyScanner:this.showSkyScanner(e);break;case u.SkyScannerIntl:this.showSkyScannerIntl(e);break;case u.Viajala:this.showViajala(e)}}}showGoogleFlights(e,t,n,o,r){const s=r.createElement("div"),a=this.sanitizer.sanitize(i.M.HTML,((e,t,n,i)=>{var o,r,s,a,c,l;return`\n  <div style="display:inline;">\n  <img height="1" width="1" style="border-style:none;" alt="" src="https://www.googletraveladservices.com/travel/flights/clk/pagead/conversion/268/?label=GFS&guid=ON&script=0&ord=${e.basket.basketId}&data=gfs_partner_id%3D268%3Bgfs_trip_type%3D${e.basketBooking.journeys[0].travelType}%3Bgfs_origin%3D${e.basketBooking.journeys[0].origin.code}%3Bgfs_destination%3D${e.basketBooking.journeys[0].destination.code}%3Bgfs_departure_date%3D${e.basketBooking.journeys[0].departureDate.scheduled}%3Bgfs_return_date%3D${1===e.basketBooking.journeys.length?e.basketBooking.journeys[0].departureDate.scheduled:e.basketBooking.journeys[1].departureDate.scheduled}%3Bgfs_total_price%3D${e.basketBooking.totalAmount.amount}%3Bgfs_currency%3D${e.basketBooking.currencyCode}%3Bgfs_passengers_total%3D${e.basketBooking.passengers.length}%3Bgfs_passengers_adult%3D${t.length}%3Bgfs_passengers_child%3D${n.length}%3Bgfs_passengers_infant_in_seat%3D0%3Bgfs_passengers_infant_in_lap%3D${i.length}%3Bgfs_passengers_senior%3D0%3Bgfs_cabins%3DEconomy%3Bgfs_fare_products%3D${(null===(s=null===(r=null===(o=e.basketBooking.journeys)||void 0===o?void 0:o[0])||void 0===r?void 0:r.fare)||void 0===s?void 0:s.bundleTypeName)?null===(l=null===(c=null===(a=e.basketBooking.journeys)||void 0===a?void 0:a[0])||void 0===c?void 0:c.fare)||void 0===l?void 0:l.bundleType:e.basketBooking.journeys[0].fare.fareType}%3Bgfs_booking_codes%3D${e.basketBooking.journeys[0].fare.fareCode}%3Bgfs_flights%3D${e.basketBooking.journeys[0].segments[0].flightNumber}%3B"></img>\n  </div>`})(e,t,n,o),{ALLOWED_ATTR:["src","style","width","height","alt"]});r.setProperty(s,"innerHTML",a),r.appendChild(this.document.getElementById("pixelReferral"),s),this.cookiesSvc.delete("metasearchReferral")}showKayakMX(e,t){const n=t.createElement("div"),o=this.sanitizer.sanitize(i.M.HTML,((e,t)=>`\n      <div id="kayak-confirmation" style="display:none;">\n      <img src="https://www.kayak.com/s/kayakpixel/confirm/VB?kayakclickid=${this.cookiesSvc.get("metasearchId")}&price=${e.basketBooking.totalAmount.amount}&currency=${e.basketBooking.currencyCode}&confirmation=${e.basket.travel.pnr}&rand=${Math.ceil(1e4*Math.random())}"/>\n      </div>`)(e),{ALLOWED_ATTR:["id","style","src"]});t.setProperty(n,"innerHTML",o),t.appendChild(this.document.getElementById("pixelReferral"),n),this.cookiesSvc.delete("metasearchReferral"),this.cookiesSvc.delete("metasearchId")}showKayakUS(e,t){const n=t.createElement("div"),o=this.sanitizer.sanitize(i.M.HTML,((e,t)=>`\n      <div id="kayak-confirmation" style="display:none;">\n      <img src="https://www.kayak.com/s/kayakpixel/confirm/VB?kayakclickid=${this.cookiesSvc.get("metasearchId")}&price=${e.basketBooking.totalAmount.amount}&currency=${e.basketBooking.currencyCode}&confirmation=${e.basket.travel.pnr}&rand=${Math.ceil(1e4*Math.random())}"/>\n      </div>`)(e),{ALLOWED_ATTR:["id","style","src"]});t.setProperty(n,"innerHTML",o),t.appendChild(this.document.getElementById("pixelReferral"),n),this.cookiesSvc.delete("metasearchReferral"),this.cookiesSvc.delete("metasearchId")}showSkyScanner(e){const t=this.document.createElement("script");t.text=(e=>`\n    (function(s,k,y,t,a,g){s['SkyscannerAnalyticsTag']=t;s[t]=s[t]||function(){ (s[t].buffer=s[t].buffer||[]).push(arguments)};s[t].u=y;var l=k.createElement("script"); l.src=y+"/tag.js";l.async=1;var h=k.getElementsByTagName("head")[0];h.appendChild(l); })(window, document, 'https://analytics.skyscanner.net', 'sat');\n    sat('init', 'SAT-709135-1');\n    sat('send', 'conversion', {\n      bookingReference: '${e.basket.travel.pnr}'\n    });`)(e),t.type="text/javascript",t.async=!1,this.document.getElementById("pixelReferral").append(t),this.cookiesSvc.delete("metasearchReferral")}showSkyScannerIntl(e){const t=this.document.createElement("script");t.text=(e=>`\n    (function(s,k,y,t,a,g){s['SkyscannerAnalyticsTag']=t;s[t]=s[t]||function(){ (s[t].buffer=s[t].buffer||[]).push(arguments)};s[t].u=y;var l=k.createElement("script"); l.src=y+"/tag.js";l.async=1;var h=k.getElementsByTagName("head")[0];h.appendChild(l); })(window, document, 'https://analytics.skyscanner.net', 'sat');\n    sat('init', 'SAT-709135-1');\n    sat('send', 'conversion', {\n      bookingReference: '${e.basket.travel.pnr}'\n    });`)(e),t.type="text/javascript",t.async=!1,this.document.getElementById("pixelReferral").append(t),this.cookiesSvc.delete("metasearchReferral")}showViajala(e){const t=this.document.createElement("script"),n=this.document.createElement("script");t.text=(e=>`\n      var vjlValue = Math.round(${e.basketBooking.totalAmount.amount});\n      console.log("vjl "+vjlValue);\n      var viajala_conversion_params = {\n        supplier: 'vivaaerobus',\n        origin: '${e.basketBooking.journeys[0].origin.code}',\n        destination: '${e.basketBooking.journeys[0].destination.code}',\n        grossBooking: vjlValue,\n        currency: '${e.basketBooking.currencyCode}'\n      };\n    `)(e),t.type="text/javascript",n.type="text/javascript",n.src="//cdn.viajala.com/tracking/conversion.js",t.async=!1;const i=this.document.createElement("div");i.append(t),i.append(n),this.document.getElementById("pixelReferral").appendChild(i),this.cookiesSvc.delete("metasearchReferral")}}return e.\u0275fac=function(t){return new(t||e)(i.dc(o.e),i.dc(s.a),i.dc(a.a),i.dc(c.d))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=function(e){return e.GoogleFlight="GoogleFlight",e.KayakMx="KayakMx",e.KayakUs="KayakUs",e.SkyScanner="SkyScanner",e.SkyScannerIntl="SkyScannerIntl",e.Viajala="Viajala",e}({})},jZKg:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("HDdC"),o=n("quSY");function r(e,t){return new i.a(n=>{const i=new o.a;let r=0;return i.add(t.schedule((function(){r!==e.length?(n.next(e[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i})}},"jfS+":function(e,t,n){"use strict";var i=n("endd");function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},jhN1:function(e,t,n){"use strict";n.d(t,"a",(function(){return G})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return M})),n.d(t,"e",(function(){return D})),n.d(t,"f",(function(){return Z})),n.d(t,"g",(function(){return W})),n.d(t,"h",(function(){return z})),n.d(t,"i",(function(){return K})),n.d(t,"j",(function(){return U})),n.d(t,"k",(function(){return C}));var i=n("ofXK"),o=n("fXoL");class r extends i.O{constructor(){super()}supportsDOMEvents(){return!0}}class s extends r{static makeCurrent(){Object(i.S)(new s)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=c||(c=document.querySelector("base"),c)?c.getAttribute("href"):null;return null==t?null:(n=t,a||(a=document.createElement("a")),a.setAttribute("href",n),"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname);var n}resetBaseElement(){c=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return Object(i.R)(document.cookie,e)}}let a,c=null;const l=new o.t("TRANSITION_ID"),u=[{provide:o.d,useFactory:function(e,t,n){return()=>{n.get(o.e).donePromise.then(()=>{const n=Object(i.Q)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[l,i.e,o.u],multi:!0}];class d{static init(){Object(o.cb)(new d)}addToWindow(e){o.ub.getAngularTestability=(t,n=!0)=>{const i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},o.ub.getAllAngularTestabilities=()=>e.getAllTestabilities(),o.ub.getAllAngularRootElements=()=>e.getAllRootElements(),o.ub.frameworkStabilizers||(o.ub.frameworkStabilizers=[]),o.ub.frameworkStabilizers.push(e=>{const t=o.ub.getAllAngularTestabilities();let n=t.length,i=!1;const r=function(t){i=i||t,n--,0==n&&e(i)};t.forEach((function(e){e.whenStable(r)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:n?Object(i.Q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const h=new o.t("EventManagerPlugins");let p=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let i=0;i<n.length;i++){const t=n[i];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(o.dc(h),o.dc(o.E))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e})();class g{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const o=Object(i.Q)().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,n)}}let f=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e})(),m=(()=>{class e extends f{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>Object(i.Q)().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(o.dc(i.e))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e})();const b={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},v=/%COMP%/g;function y(e,t,n){for(let i=0;i<t.length;i++){let o=t[i];Array.isArray(o)?y(e,o,n):(o=o.replace(v,e),n.push(o))}return n}function _(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let C=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new S(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case o.T.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new O(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case o.T.Native:case o.T.ShadowDom:return new T(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=y(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(o.dc(p),o.dc(m),o.dc(o.c))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e})();class S{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(b[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,i){if(i){t=i+":"+t;const o=b[i];o?e.setAttributeNS(o,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const i=b[n];i?e.removeAttributeNS(i,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&o.K.DashCase?e.style.setProperty(t,n,i&o.K.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&o.K.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,_(n)):this.eventManager.addEventListener(e,t,_(n))}}class O extends S{constructor(e,t,n,i){super(e),this.component=n;const o=y(i+"-"+n.id,n.styles,[]);t.addStyles(o),this.contentAttr="_ngcontent-%COMP%".replace(v,i+"-"+n.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(v,e)}(i+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class T extends S{constructor(e,t,n,i){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===o.T.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=y(i.id,i.styles,[]);for(let o=0;o<r.length;o++){const e=document.createElement("style");e.textContent=r[o],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let w=(()=>{class e extends g{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(o.dc(i.e))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e})();const k={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},A=new o.t("HammerGestureConfig"),E=new o.t("HammerLoader");let M=(()=>{class e{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e})();const P=[{provide:h,useClass:(()=>{class e extends g{constructor(e,t,n,i){super(e),this._config=t,this.console=n,this.loader=i}supports(e){return!(!k.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(e,t,n){const i=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let i=!1,o=()=>{i=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(o=()=>{});i||(o=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom Hammer.JS loader failed.`),o=()=>{}}),()=>{o()}}return i.runOutsideAngular(()=>{const o=this._config.buildHammer(e),r=function(e){i.runGuarded((function(){n(e)}))};return o.on(t,r),()=>{o.off(t,r),"function"==typeof o.destroy&&o.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}return e.\u0275fac=function(t){return new(t||e)(o.dc(i.e),o.dc(A),o.dc(o.db),o.dc(E,8))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e})(),multi:!0,deps:[i.e,A,o.db,[new o.F,E]]},{provide:A,useClass:M,deps:[]}];let D=(()=>{class e{}return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)},providers:P}),e})();const x=["alt","control","meta","shift"],I={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},L={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},R={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let N=(()=>{class e extends g{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,o){const r=e.parseEventName(n),s=e.eventCallback(r.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(i.Q)().onAndCancel(t,r.domEventName,s))}static parseEventName(t){const n=t.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(n.pop());let r="";if(x.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),r+=e+".")}),r+=o,0!=n.length||0===o.length)return null;const s={};return s.domEventName=i,s.fullKey=r,s}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&L.hasOwnProperty(t)&&(t=L[t]))}return I[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),x.forEach(i=>{i!=n&&(0,R[i])(e)&&(t+=i+".")}),t+=n,t}static eventCallback(t,n,i){return o=>{e.getEventFullKey(o)===t&&i.runGuarded(()=>n(o))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(o.dc(i.e))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e})(),j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(o.Pb)({factory:function(){return Object(o.dc)(F)},token:e,providedIn:"root"}),e})();function B(e){return new F(e.get(i.e))}let F=(()=>{class e extends j{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case o.M.NONE:return t;case o.M.HTML:return Object(o.jb)(t,"HTML")?Object(o.Db)(t):Object(o.gb)(this._doc,String(t));case o.M.STYLE:return Object(o.jb)(t,"Style")?Object(o.Db)(t):Object(o.hb)(t);case o.M.SCRIPT:if(Object(o.jb)(t,"Script"))return Object(o.Db)(t);throw new Error("unsafe value used in a script context");case o.M.URL:return Object(o.tb)(t),Object(o.jb)(t,"URL")?Object(o.Db)(t):Object(o.ib)(String(t));case o.M.RESOURCE_URL:if(Object(o.jb)(t,"ResourceURL"))return Object(o.Db)(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return Object(o.kb)(e)}bypassSecurityTrustStyle(e){return Object(o.nb)(e)}bypassSecurityTrustScript(e){return Object(o.mb)(e)}bypassSecurityTrustUrl(e){return Object(o.ob)(e)}bypassSecurityTrustResourceUrl(e){return Object(o.lb)(e)}}return e.\u0275fac=function(t){return new(t||e)(o.dc(i.e))},e.\u0275prov=Object(o.Pb)({factory:function(){return B(Object(o.dc)(o.r))},token:e,providedIn:"root"}),e})();const H=[{provide:o.G,useValue:i.P},{provide:o.H,useValue:function(){s.makeCurrent(),d.init()},multi:!0},{provide:i.e,useFactory:function(){return Object(o.Bb)(document),document},deps:[]}],U=Object(o.V)(o.bb,"browser",H),Y=[[],{provide:o.eb,useValue:"root"},{provide:o.o,useFactory:function(){return new o.o},deps:[]},{provide:h,useClass:w,multi:!0,deps:[i.e,o.E,o.G]},{provide:h,useClass:N,multi:!0,deps:[i.e]},[],{provide:C,useClass:C,deps:[p,m,o.c]},{provide:o.J,useExisting:C},{provide:f,useExisting:m},{provide:m,useClass:m,deps:[i.e]},{provide:o.Q,useClass:o.Q,deps:[o.E]},{provide:p,useClass:p,deps:[h,o.E]},[]];let G=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:o.c,useValue:t.appId},{provide:l,useExisting:o.c},u]}}}return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)(o.dc(e,12))},providers:Y,imports:[i.c,o.f]}),e})();function V(){return new Z(Object(o.dc)(i.e))}let Z=(()=>{class e{constructor(e){this._doc=e,this._dom=Object(i.Q)()}addTag(e,t=!1){return e?this._getOrCreateElement(e,t):null}addTags(e,t=!1){return e?e.reduce((e,n)=>(n&&e.push(this._getOrCreateElement(n,t)),e),[]):[]}getTag(e){return e&&this._doc.querySelector(`meta[${e}]`)||null}getTags(e){if(!e)return[];const t=this._doc.querySelectorAll(`meta[${e}]`);return t?[].slice.call(t):[]}updateTag(e,t){if(!e)return null;t=t||this._parseSelector(e);const n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,t=!1){if(!t){const t=this._parseSelector(e),n=this.getTag(t);if(n&&this._containsAttributes(e,n))return n}const n=this._dom.createElement("meta");return this._setMetaElementAttributes(e,n),this._doc.getElementsByTagName("head")[0].appendChild(n),n}_setMetaElementAttributes(e,t){return Object.keys(e).forEach(n=>t.setAttribute(n,e[n])),t}_parseSelector(e){const t=e.name?"name":"property";return`${t}="${e[t]}"`}_containsAttributes(e,t){return Object.keys(e).every(n=>t.getAttribute(n)===e[n])}}return e.\u0275fac=function(t){return new(t||e)(o.dc(i.e))},e.\u0275prov=Object(o.Pb)({factory:V,token:e,providedIn:"root"}),e})();function $(){return new W(Object(o.dc)(i.e))}let W=(()=>{class e{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return e.\u0275fac=function(t){return new(t||e)(o.dc(i.e))},e.\u0275prov=Object(o.Pb)({factory:$,token:e,providedIn:"root"}),e})();function K(e){return e}"undefined"!=typeof window&&window;let z=(()=>{class e{constructor(){this.store={},this.onSerializeCallbacks={}}static init(t){const n=new e;return n.store=t,n}get(e,t){return void 0!==this.store[e]?this.store[e]:t}set(e,t){this.store[e]=t}remove(e){delete this.store[e]}hasKey(e){return this.store.hasOwnProperty(e)}onSerialize(e,t){this.onSerializeCallbacks[e]=t}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e})()},jtHE:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("XNiG"),o=n("qgXg"),r=n("quSY"),s=n("pxpQ"),a=n("9ppp"),c=n("Ylt2");class l extends i.a{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new u(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=n.length;let l;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?l=r.a.EMPTY:(this.observers.push(e),l=new c.a(this,e)),i&&e.add(e=new s.a(e,i)),t)for(let r=0;r<o&&!e.closed;r++)e.next(n[r]);else for(let r=0;r<o&&!e.closed;r++)e.next(n[r].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),l}_getNow(){return(this.scheduler||o.a).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,o=i.length;let r=0;for(;r<o&&!(e-i[r].time<n);)r++;return o>t&&(r=Math.max(r,o-t)),r>0&&i.splice(0,r),i}}class u{constructor(e,t){this.time=e,this.value=t}}},juv8:function(e,t,n){var i=n("MrPd"),o=n("hypo");e.exports=function(e,t,n,r){var s=!n;n||(n={});for(var a=-1,c=t.length;++a<c;){var l=t[a],u=r?r(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),s?o(n,l,u):i(n,l,u)}return n}},"k+1r":function(e,t,n){var i=n("QkVE");e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},kWhM:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("d/Sv"),o=n("wd/R"),r=n("RJ73"),s=n("fXoL"),a=n("ChtM"),c=n("CJ36"),l=n("BifP");let u=(()=>{class e{constructor(e,t,n){this.currencySvc=e,this.locale=t,this.csmConfig=n}isValidForm(e){const t=void 0!==e.tripType&&void 0!==e.passengers;let n=!0;if(e.journeys&&e.journeys.length>0){for(const t of e.journeys)if(!this.isValidJourney(e.tripType,t)){n=!1;break}}else n=!1;return t&&n}isValidJourney(e,t){const n=void 0!==t&&void 0!==t.origin&&void 0!==t.destination;return e===i.a.ROUND_TRIP?n&&void 0!==t.journeyDates&&o.isMoment(t.journeyDates.startDate)&&o.isMoment(t.journeyDates.endDate):n&&void 0!==t.journeyDates&&o.isMoment(t.journeyDates.startDate)}createFlightAvailabilityJourneyArray(e){var t,n,o,r,s,a,c,l;let u=[];if(e.tripType!==i.a.ROUND_TRIP)u=e.journeys.map(e=>{var t,n,i,o;return{origin:{code:(null===(n=null===(t=e.origin)||void 0===t?void 0:t.maac)||void 0===n?void 0:n.searchCode)?e.origin.maac.searchCode:e.origin.code},destination:{code:(null===(o=null===(i=e.destination)||void 0===i?void 0:i.maac)||void 0===o?void 0:o.searchCode)?e.destination.maac.searchCode:e.destination.code},date:e.journeyDates.startDate}});else{const i=e.journeys[0];u=[{origin:{code:(null===(n=null===(t=i.origin)||void 0===t?void 0:t.maac)||void 0===n?void 0:n.searchCode)?i.origin.maac.searchCode:i.origin.code},destination:{code:(null===(r=null===(o=i.destination)||void 0===o?void 0:o.maac)||void 0===r?void 0:r.searchCode)?i.destination.maac.searchCode:i.destination.code},date:i.journeyDates.startDate},{origin:{code:(null===(a=null===(s=i.destination)||void 0===s?void 0:s.maac)||void 0===a?void 0:a.searchCode)?i.destination.maac.searchCode:i.destination.code},destination:{code:(null===(l=null===(c=i.origin)||void 0===c?void 0:c.maac)||void 0===l?void 0:l.searchCode)?i.origin.maac.searchCode:i.origin.code},date:i.journeyDates.endDate}]}return u}createFlightSearchParams(e){let t="";this.createFlightAvailabilityJourneyArray(e).forEach((e,n)=>{0!==n&&(t+="."),t+=this.journeyToString(e)});let n="";n+="A"+e.passengers.adults,e.passengers.kids>0&&(n+="_C"+e.passengers.kids),e.passengers.babies>0&&(n+="_I"+e.passengers.babies);const i={itineraryCode:t,passengers:n};return e.promoCode&&(i.promoCode=e.promoCode),e.journeys.some(e=>!!e.origin.maac||!!e.destination.maac)&&(i.alternateStations=this.createAlternateStationsParameter(e)),i}journeyToString(e){if(e){let t=`${e.origin.code}_${e.destination.code}_`;return t+="string"==typeof e.date?o(e.date).format("YYYYMMDD"):e.date.format("YYYYMMDD"),t}return""}createStationSearchObject(e,t=0){var n;return{startDate:e.journeys[t].journeyDates.startDate.toISOString(),endDate:(null===(n=e.journeys[t].journeyDates.endDate)||void 0===n?void 0:n.toISOString())||void 0,origin:{code:e.journeys[t].origin.code},destination:{code:e.journeys[t].destination.code},passengers:e.passengers,stationType:r.i.AIRPORT,travelType:e.tripType}}createVivaRedirectLink(e,t=!1,n=0){var i,r,s,a;let c=((null===(s=null===(r=null===(i=this.csmConfig._cmsConfig)||void 0===i?void 0:i.globalSettings)||void 0===r?void 0:r.webRedirects)||void 0===s?void 0:s.originURL)||"https://www.vivaaerobus.com")+"/Booking/PostCriteria?";c+="DepartureCity="+e.journeys[n].origin.code,c+="&ArrivalCity="+e.journeys[n].destination.code,c+=e.journeys[n].journeyDates.startDate?"&DepartureDate="+o(e.journeys[n].journeyDates.startDate).format("MM/DD/YYYY"):"",c+=e.journeys[n].journeyDates.endDate?"&ReturnDate="+o(e.journeys[n].journeyDates.endDate).format("MM/DD/YYYY"):"",c+=t?"&CalendarSearch=True":"",c+=e.passengers.adults?"&Adults="+e.passengers.adults:"",c+=e.passengers.kids?"&Children="+e.passengers.kids:"",c+=e.passengers.babies?"&Infants="+e.passengers.babies:"";const l=this.currencySvc._selectedCurrency;c+="MXN"===l.code||"USD"===l.code?"&Currency="+l.code:"";const u=null===(a=this.locale.getAppLocale())||void 0===a?void 0:a.split("-")[0];return c+="es"===u||"en"===u?"&Lang="+u:"",c+=e.promoCode?"&PromoCode="+e.promoCode:"",c+="&utm_campaign=colombia-searches",c+="&utm_medium=website",c+="&utm_source=homepage-pwa",c}createAlternateStationsParameter(e){var t,n,o,r;const s=[];if(e.tripType===i.a.ROUND_TRIP){const i=e.journeys[0];s.push(Number(!!(null===(t=i.origin)||void 0===t?void 0:t.maac)),Number(!!(null===(n=i.destination)||void 0===n?void 0:n.maac)),Number(!!(null===(o=i.destination)||void 0===o?void 0:o.maac)),Number(!!(null===(r=i.origin)||void 0===r?void 0:r.maac)))}else e.journeys.forEach(e=>{var t,n;s.push(Number(!!(null===(t=e.origin)||void 0===t?void 0:t.maac)),Number(!!(null===(n=e.destination)||void 0===n?void 0:n.maac)))});return s.join("")}}return e.\u0275fac=function(t){return new(t||e)(s.dc(a.a),s.dc(c.a),s.dc(l.a))},e.\u0275prov=s.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},kekF:function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},kh7C:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"f",(function(){return w})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return A})),n.d(t,"c",(function(){return E})),n.d(t,"g",(function(){return M}));var i=n("ofXK"),o=n("fXoL"),r=n("tyNb"),s=n("wd/R"),a=n("PqYM"),c=n("pLZG"),l=n("l7GE"),u=n("ZUHj");class d{constructor(e){this.closingNotifier=e}call(e,t){return t.subscribe(new h(e,this.closingNotifier))}}class h extends l.a{constructor(e,t){super(e),this.buffer=[],this.add(Object(u.a)(this,t))}_next(e){this.buffer.push(e)}notifyNext(e,t,n,i,o){const r=this.buffer;this.buffer=[],this.destination.next(r)}}var p=n("Kj3r"),g=n("lJxs"),f=n("RbsG"),m=n("WSM3"),b=n("PxKc"),v=n("9yTC"),y=n("1AID"),_=n("/M7d"),C=n("BifP");let S=(()=>{class e{constructor(e,t,n,i,o){this.document=e,this.locale=t,this.platformId=n,this.router=i,this.cmsConfig=o,this.currentUrl=this.router.url,i.events.subscribe(e=>{e instanceof r.c&&(this.previousUrl=this.currentUrl,this.currentUrl=e.url)})}static getFieldErrors(e,t){if(t){if(e&&e.get(t).invalid&&e.get(t).touched)return Object.keys(e.get(t).errors)}else if(e&&e.invalid&&e.touched)return Object.keys(e.errors);return null}static getDateFromString(e){if(e){const t=s(e);if(t.isValid())return t.toDate()}}static trimStr(e,t){if("string"!=typeof e)return"";let n=0,i=e.length;for(;n<i&&e[n]===t;)++n;for(;i>n&&e[i-1]===t;)--i;return n>0||i<e.length?e.substring(n,i):e}simpleArrayToMultidimensionalArray(e,t=2){const n=[];let i=[];for(const[o,r]of e.entries())i.length<t&&o!==e.length-1?i.push(r):(i.length===t&&(n.push(i),i=[]),i.push(r),o===e.length-1&&n.push(i));return n}getDistance(e,t,n,i,o="M"){if(e===n&&t===i)return 0;{const r=Math.PI*e/180,s=Math.PI*n/180,a=Math.PI*(t-i)/180;let c=Math.sin(r)*Math.sin(s)+Math.cos(r)*Math.cos(s)*Math.cos(a);return c>1&&(c=1),c=Math.acos(c),c=180*c/Math.PI,c=60*c*1.1515,"K"===o&&(c*=1.609344),"N"===o&&(c*=.8684),c}}hasAllRequiredQueryParams(e,t){if(e&&t&&Array.isArray(t)){let n=!1;for(const i of t)if(!e.has(i)){n=!0;break}return!n}return!1}isInsideSegment(e,t){return!!e.find(e=>e.path===t)}getParamsFromUrlSearch(e){let t=e||this.document.location.search;if(!(t&&t.length>0))return{};t=t.substring(1);const n=t.split("&"),i={};for(const o of n){const e=o.split("=");i[e[0]]=e[1]}return i}getRouteAggregattedData(e){return e.events.pipe(Object(c.a)(e=>e instanceof r.b),(t=e.events.pipe(Object(c.a)(e=>e instanceof r.c),Object(p.a)(0)),function(e){return e.lift(new d(t))}),Object(g.a)(e=>e.reduce((e,t)=>Object.assign(Object.assign({},e),t.snapshot.data),{})));var t}scrollToError(e,t=500){Object(i.L)(this.platformId)&&Object(a.a)(t).subscribe(()=>{window.scroll({top:this.getTopOffset(e)-100,left:0,behavior:"smooth"})})}getTopOffset(e){return e.getBoundingClientRect().top+window.scrollY-50}isAffiliationValid(e){return!(!e||!e.endDate)&&(m.f.includes(e.code)?"AC"===e.level:s().isSameOrBefore(s(e.endDate),"day"))}get isChrome(){return!!Object(i.L)(this.platformId)&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}resolveNumberPhone(e,t="e164Number"){return e[t]}getDepartureDateRanges(e){if(Array.isArray(e)&&e.length){const t=e.map(e=>s(e.departureDate));return{first:s.min(t).format("YYYY-MM-DDThh:mm:ss"),last:s.max(t).format("YYYY-MM-DDThh:mm:ss")}}{const e=s().format("YYYY-MM-DDThh:mm:ss");return{first:e,last:e}}}hasAlternativeProviderInBooking(e,t="operatingCarrier"){return null==e?void 0:e.some(e=>this.hasAlternativeProviderInSegments(e.segments,t))}allAlternativeProviderInBooking(e,t="operatingCarrier"){return null==e?void 0:e.every(e=>this.hasAlternativeProviderInSegments(e.segments,t))}hasAlternativeProviderInSegments(e,t="operatingCarrier"){return null==e?void 0:e.some(e=>"VB"!==(null==e?void 0:e[t]))}getAlternativeProvider(e,t="operatingCarrier"){const n=e.find(e=>"VB"!==(null==e?void 0:e[t]));if(n)return null==n?void 0:n[t]}countAltProviders(e,t="operatingCarrier"){return this.allAlternativeProviderInBooking(e,t)?"all":this.hasAlternativeProviderInBooking(e,t)?"one":"none"}hasCO(e){return null==e?void 0:e.some(e=>"CO"===e.destination.countryCode||"CO"===e.origin.countryCode)}checkBookingAvailability(e,t,n=!1,i){var o;let r=!1;if(r=(null==e?void 0:e.rules)&&Array.isArray(e.rules)&&e.rules.length?null===(o=e.rules.find(e=>e.type===t))||void 0===o?void 0:o.isEnabled:n,i&&!r){const n=i!==b.b.CheckIn?["manage","trip-details"]:["check-in"],o={pnr:e.pnr,lastName:e.passengers[0].lastName};i===b.b.Manage&&(o.bookingRule=t),this.router.navigate(n,{queryParams:o})}return r}checkJourneyAvailability(e,t){var n;return Array.isArray(e)&&(null===(n=e.find(e=>e.type===t))||void 0===n?void 0:n.isEnabled)}hasLoginRequired(e,t){if(e.rules&&Array.isArray(e.rules)&&e.rules.length){const n=e.rules.find(e=>e.type===t);if(n&&n.details&&Array.isArray(n.details)&&n.details.length){const e=n.details.find(e=>Object.values(f.n).includes(e.code));if(e)return e}}}isActionRequired(e,t,n=!1){if(e.rules&&Array.isArray(e.rules)&&e.rules.length){const i=e.rules.find(e=>e.type===t);if(i&&i.details&&Array.isArray(i.details)&&i.details.length){const o=i.details.find(e=>"DisabledForIropEvent"===e.code);return o&&n?o:this.hasLoginRequired(e,t)}}}getBookingNotifications(e){const t=new Map,n=(e,t)=>{t.forEach(t=>{e.has(t.code)||e.set(t.code,t)})};return e&&(n(t,e.notifications||[]),Array.isArray(e.journeys)&&e.journeys.length&&e.journeys.forEach(e=>{n(t,e.notifications||[]),Array.isArray(e.segments)&&e.segments.length&&e.segments.forEach(e=>{n(t,e.notifications||[]),Array.isArray(e.legs)&&e.legs.length&&e.legs.forEach(e=>{n(t,e.notifications||[])})})})),Array.from(t.values())}bookingSegmentToAvailabilitySegment(e){if(e)return Object.assign(Object.assign({},e),{departureDate:e.departureDate.scheduled,arrivalDate:e.arrivalDate.scheduled,serviceAvailability:[],legs:this.bookingLegsToAvailabilityLegs(e.legs||[])})}bookingLegsToAvailabilityLegs(e){return e&&Array.isArray(e)?e.map(e=>Object.assign(Object.assign({},e),{departureDate:e.departureDate.scheduled,arrivalDate:e.arrivalDate.scheduled})):[]}getCanceledJourney(e){return e.find(e=>null==e?void 0:e.segments.some(e=>null==e?void 0:e.legs.some(e=>e.status===f.h.Canceled)))}getPreviousUrl(){return this.previousUrl}getPassengerKeysWithVivaFanDiscount(e){const t=e.journeys[0].key;return e.charges.filter(e=>"FlightFanDiscount"===e.code&&e.journeyKey===t).map(e=>e.passengerKey)}getAllowedVivafanCompanions(e){if(e&&Array.isArray(e)&&e.length){const t=e.find(e=>m.i.includes(e.code));if(t&&this.isAffiliationValid(t)&&t.id)return parseInt(t.id.split("_")[1],10)||0}return 0}isDotersAffiliationValid(e){if(Object(i.L)(this.platformId)&&e&&e.accountType!==f.k.Agency&&e.accountType!==f.k.Enterprise&&e.accountType!==f.k.Staff&&!sessionStorage.getItem("loginReferral"))return e.affiliations.find(e=>m.d.includes(e.code)&&s().add(1,"days").isBefore(s(e.endDate)))}isThereAnAffiliationValid(e,t){let n;if(Array.isArray(e)&&t)switch(t){case"vivafan":n=e.find(e=>m.i.includes(null==e?void 0:e.code));break;case"doters":n=e.find(e=>m.d.includes(null==e?void 0:e.code)&&s().add(1,"days").isBefore(s(e.endDate)));break;case"staff":n=e.find(e=>m.g.includes(null==e?void 0:e.code));break;case"smile&fly":n=e.find(e=>m.f.includes(null==e?void 0:e.code))}return n&&this.isAffiliationValid(n)}matchBundles(e){switch(e){case v.e.VIVA_ZERO:return v.d.VIVA_ZERO;case v.e.VIVA_LIGHT:return v.d.VIVA_LIGHT;case v.e.VIVA_BASIC:return v.d.VIVA_BASIC;case v.e.VIVA_SMART:return v.d.VIVA_SMART}return null}matchFares(e){switch(e){case v.d.VIVA_ZERO:return v.e.VIVA_ZERO;case v.d.VIVA_LIGHT:return v.e.VIVA_LIGHT;case v.d.VIVA_BASIC:return v.e.VIVA_BASIC;case v.d.VIVA_SMART:return v.e.VIVA_SMART;default:return null}}getFareFromBooking(e){var t,n,i,o,r,s,a,c,l;return e&&(null===(i=null===(n=null===(t=e.journeys)||void 0===t?void 0:t[0])||void 0===n?void 0:n.fare)||void 0===i?void 0:i.fareType)?(null===(r=null===(o=e.journeys[0])||void 0===o?void 0:o.fare)||void 0===r?void 0:r.bundleTypeName)?this.matchFares(null===(a=null===(s=e.journeys[0])||void 0===s?void 0:s.fare)||void 0===a?void 0:a.bundleType):null===(l=null===(c=e.journeys[0])||void 0===c?void 0:c.fare)||void 0===l?void 0:l.fareType:null}getFareFromBasket(e){return e&&(null==e?void 0:e.fareType)?(null==e?void 0:e.bundleType)&&"None"!==(null==e?void 0:e.bundleType)?this.matchFares(null==e?void 0:e.bundleType):null==e?void 0:e.fareType:null}getStaffAffiliationTier(e){return e.find(e=>m.h.includes(null==e?void 0:e.level))}generateAndAddVBIDChargesToBooking(e){var t,n;if(e&&Array.isArray(e.charges)){const i=((null===(t=null==e?void 0:e.services)||void 0===t?void 0:t.services)||[]).find(e=>"ExternalSSR"===e.code);if(i){const t=null===(n=i.options||[])||void 0===n?void 0:n.filter(e=>"VBID"===e.ssrCode).map(e=>({journeyKey:e.journeyKey,segmentKey:e.segmentKey,passengerKey:e.passengerKey,groupCode:"CheckedBaggage",groupName:"Checked Baggage",originalAmount:{amount:e.price.amount,pointAmount:e.price.pointAmount},amount:{amount:e.price.amount,pointAmount:e.price.pointAmount},code:e.ssrCode,name:e.name,isIncluded:0===e.price.amount,details:{}}));for(const n of t)e.charges.push(n)}}}getDoterLevelText(e){switch(e){case m.e.GREEN:return"BOOKER_LABEL_DOTERS-GREEN";case m.e.SILVER:return"BOOKER_LABEL_DOTERS-SILVER";case m.e.GOLD:return"BOOKER_LABEL_DOTERS-GOLD";default:return"BOOKER_LABEL_DOTERS-GREEN"}}showCobrandInBooking(e,t=!1,n=!1){var o,r,s;return!(!Object(i.L)(this.platformId)||"es-MX"!==this.locale||(null===(o=null==e?void 0:e.basket)||void 0===o?void 0:o.flowType)!==b.b.Booking||!(null===(s=null===(r=null==e?void 0:e.basketBooking)||void 0===r?void 0:r.rules.find(e=>(null==e?void 0:e.type)===f.g.HSBCCobrandBenefits))||void 0===s?void 0:s.isEnabled))&&(!!n||this.cmsConfig.getBookingFeatureValue(t?y.a.DisplayCobrandLabelForDoters:y.a.DisplayCobrandLabel)||!1)}getOldDates(e,t){return e!==_.g.ScheduleChange&&e!==_.g.MajorTimeChange&&e!==_.g.TimeChange||!t?null:{oldDepartureDate:null==t?void 0:t.departureDate,oldArrivalDate:null==t?void 0:t.arrivalDate}}bookingJourneyToAvailabilityJourney(e){if(e){const t=[];return e.segments&&Array.isArray(e.segments)&&e.segments.forEach(e=>{t.push(this.bookingSegmentToAvailabilitySegment(e))}),Object.assign(Object.assign({},e),{departureDate:e.departureDate.scheduled,arrivalDate:e.arrivalDate.scheduled,lowestFareKey:e.fare.key,isSoldout:!0,fares:[],segments:t,rules:null==e?void 0:e.rules})}}getNearestJourney(e){let t;return A(null==e?void 0:e.journeys)&&e.journeys.filter(e=>{var t;return s(null===(t=null==e?void 0:e.departureDate)||void 0===t?void 0:t.scheduledUtc).isAfter()}).forEach((e,n)=>{var i,o,r;n?t&&(s(null===(i=null==e?void 0:e.departureDate)||void 0===i?void 0:i.scheduledUtc).isBefore(null===(o=null==t?void 0:t.departureDate)||void 0===o?void 0:o.scheduledUtc)||s(null===(r=null==t?void 0:t.departureDate)||void 0===r?void 0:r.scheduledUtc).isBefore())&&(t=e):t=e}),t}getCustomerText(e=!1){return e?"BOOKER_LABEL_DOTERS-CUSTOMER-ID":"BOOKER_LABEL_CUSTOMER-ID"}}return e.\u0275fac=function(t){return new(t||e)(o.dc(i.e),o.dc(o.y),o.dc(o.G),o.dc(r.g),o.dc(C.a))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const O=/^(\d{4}\-\d{2}\-\d{2}).*?/;function T(e){if(e&&"string"==typeof e){const t=e.charAt(0).toLowerCase();return e.substring(0,0)+t+e.substring(1)}return e}function w(e){return e.then(e=>e.default||e)}function k(e,t){return Array.isArray(e)&&e.length>=t}function A(e){return k(e,1)}function E(e){const{origin:t,destination:n}=e||{};return[null==t?void 0:t.code,null==n?void 0:n.code].includes("TJX")}function M(e){var t,n;return"string"==typeof e&&null!==(n=null===(t=O.exec(e))||void 0===t?void 0:t[1])&&void 0!==n?n:e}},kiQV:function(e){e.exports=JSON.parse('{"a":"1.39.0"}')},kpjh:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ofXK"),o=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})()},l5ey:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("ofXK"),o=n("fXoL"),r=n("tyNb"),s=n("quSY"),a=n("pLZG"),c=n("AytR");let l=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.platformId=n,this.UTM_LS_NAME="vb_utm",this.UTM_SUPPORT_FIELDS=["utm_id","utm_source","utm_medium","utm_campaign","utm_term","utm_content"],this.routerSubscription=s.a.EMPTY}ngOnDestroy(){this.routerSubscription.closed||this.routerSubscription.unsubscribe()}init(){this.routerSubscription.closed?this.routerSubscription=this.router.events.pipe(Object(a.a)(e=>e instanceof r.c)).subscribe(e=>{if(e instanceof r.c){const e=this.route.snapshot.queryParamMap;if(this.hasAnyValidKeys(e)){const t=this.buildUtmObject(e);this.saveUtmFieldData(t)}}}):c.g.production||console.error("::DatalayerUtmService::","Cannot run init() more than once!")}saveUtmFieldData(e){Object(i.L)(this.platformId)&&localStorage.setItem(this.UTM_LS_NAME,JSON.stringify(e))}clearUtmFieldData(){Object(i.L)(this.platformId)&&localStorage.removeItem(this.UTM_LS_NAME)}hasAnyValidKeys(e){for(const t of this.UTM_SUPPORT_FIELDS)if(e.get(t))return!0;return!1}buildUtmObject(e){const t={};for(const n of this.UTM_SUPPORT_FIELDS){const i=e.get(n)||null;t[n]=i}return t}}return e.\u0275fac=function(t){return new(t||e)(o.dc(r.g),o.dc(r.a),o.dc(o.G))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},l5mm:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("HDdC"),o=n("D0XW"),r=n("Y7HM");function s(e=0,t=o.a){return(!Object(r.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=o.a),new i.a(n=>(n.add(t.schedule(a,e,{subscriber:n,counter:0,period:e})),n))}function a(e){const{subscriber:t,counter:n,period:i}=e;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("7o/Q");class o extends i.a{notifyNext(e,t,n,i,o){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}},lALM:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("mrSG"),o=n("fXoL"),r=n("jtHE"),s=n("rdGu"),a=n("ofXK"),c=n("AytR"),l=n("tS1D"),u=n("lJxs"),d=n("tk/3");let h=(()=>{class e{constructor(e,t){this.platformId=e,this.http=t,this.$isReady=new r.a(1),this.$locationChanged=new r.a(1),this.location=new s.c,this.initialize()}getClientPublicIpAndLocationHeaders(){return this.http.get(c.g.IP_SERVICE_URL,{observe:"response",responseType:"text"}).pipe(Object(l.a)(3500),Object(u.a)(e=>e.headers)).toPromise()}getCoordsFromGeolocation(){Object(a.L)(this.platformId)&&(navigator.geolocation?navigator.geolocation.getCurrentPosition(this.onGeolocationSuccess.bind(this),this.onGeolocationError.bind(this)):(c.g.production||console.warn("[GeolocationService] Geolocation is not supported by this browser."),this.$locationChanged.complete()))}onGeolocationSuccess(e){this.location.type=s.b.GEO_LOCATION,this.location.coords={latitude:e.coords.latitude,longitude:e.coords.longitude},this.$locationChanged.next(this.location),this.$locationChanged.complete()}onGeolocationError(e){c.g.production||console.warn("[Geolocation] Error obtaining geolocation: ",e),this.$locationChanged.complete()}initialize(){return Object(i.a)(this,void 0,void 0,(function*(){try{const e=yield this.getClientPublicIpAndLocationHeaders();this.setGeolocationDetailsFromHeaders(e),this.getCoordsFromGeolocation()}catch(e){this.setLocationErrorDetails()}finally{this.$locationChanged.next(this.location),this.setReady()}}))}setGeolocationDetailsFromHeaders(e){const t=e.get("Client-IP");if(!t)throw Error("::setGeolocationDetailsFromHeaders:: No IP returned from response headers!");this.location.ip=t,this.location.details=new s.a,this.location.coords={latitude:Number.parseFloat(e.get("Geo-lat")||"0"),longitude:Number.parseFloat(e.get("Geo-long")||"0")},this.location.details.countryCode=e.get("Geo-country")||"",this.location.details.countryName="",this.location.details.regionCode=e.get("Geo-city")||"",this.location.details.regionName="",this.location.details.city="",this.location.details.zipCode="",this.location.details.timeZone="",this.location.details.metroCode=0,this.location.type=s.b.IP_LOCATION}setLocationErrorDetails(){this.location.details=new s.a,this.location.type=s.b.IP_LOCATION_ERROR,this.location.coords={latitude:0,longitude:0},this.location.details.countryCode="",this.location.details.countryName="",this.location.details.regionCode="",this.location.details.regionName="",this.location.details.city="",this.location.details.zipCode="",this.location.details.timeZone="",this.location.details.metroCode=0}setReady(){this.$isReady.next(),this.$isReady.complete()}get _isReady(){return this.$isReady.asObservable().toPromise()}get locationChanged(){return this.$locationChanged.asObservable()}get _location(){return this.location}}return e.\u0275fac=function(t){return new(t||e)(o.dc(o.G),o.dc(d.b))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("7o/Q");function o(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new r(e,t))}}class r{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new s(e,this.project,this.thisArg))}}class s extends i.a{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},lLeZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("fXoL"),o=n("rmK9"),r=n("AytR"),s=n("JK/P"),a=n("djEO"),c=n("TuWc"),l=n("ckWZ"),u=n("ofXK"),d=n("VXoX"),h=n("D731");const p=["termsContainer"],g=function(e){return{loading:e}};let f=(()=>{class e{constructor(e,t,n){this.modalSvc=e,this.accountApi=t,this.datalayerUxProfile=n,this.id="viva-cash-terms-modal",this.showFirst=!1,this.termsAccepted=new i.p,this.isLoading=!1,this.canAccept=!1}ngOnInit(){}closeModal(){this.modalSvc.close(this.id)}onTermsAccept(){this.isLoading=!0,this.accountApi.acceptTerms(o.a.VivaCash).subscribe(e=>{this.isLoading=!1,this.datalayerUxProfile.vivaCashTerms(),this.termsAccepted.emit(),this.closeModal()},e=>{r.g.production||console.error("::AcceptVivaCashToS::",e),this.isLoading=!1})}onTermsScroll(e){const t=e.target;t.scrollTop+t.offsetHeight>=t.scrollHeight-5&&(this.canAccept=!0)}onModalClose(){this.termsContainer&&(this.termsContainer.nativeElement.scrollTop=0)}onModalOpen(){this.datalayerUxProfile.vivaCashToggle(),this.canAccept=!1}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(s.a),i.Tb(a.a),i.Tb(c.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-viva-cash-terms-modal"]],viewQuery:function(e,t){var n;1&e&&i.Yc(p,!0),2&e&&i.Dc(n=i.ic())&&(t.termsContainer=n.first)},inputs:{id:"id",showFirst:"showFirst"},outputs:{termsAccepted:"termsAccepted"},decls:30,vars:26,consts:[[3,"id","dismissable","showFirst","closeEvent","openEvent"],[1,"viva-card","white","border-0","modal-size-sm","p-md-40","p-20","d-flex","flex-column","justify-content-between"],[1,"position-relative","flex-fill","d-md-block","d-flex","flex-column"],[1,"w-100","text-center","pb-10"],[1,"pt-md-10","pt-0","pb-10","h4","text-truncate"],[1,"terms-subtitle"],[1,"terms-container","py-5","flex-fill",3,"scroll"],["termsContainer",""],[1,"title","pb-10"],[1,"small-text",3,"innerHTML"],[1,"pt-10"],[1,"my-10"],[1,"d-flex","flex-md-row","flex-column-reverse","justify-content-md-end","justify-content-start","align-items-center","pt-10","pb-md-0","pb-20"],[1,"viva-btn","tertiary",3,"disabled","click"],[1,"content"],[1,"mx-5","px-5"],[1,"line"],[1,"viva-btn","primary","ml-md-40","ml-0","mb-md-0","mb-20","btn-240","btn-md-100",3,"ngClass","disabled","click"]],template:function(e,t){1&e&&(i.Zb(0,"app-modal",0),i.hc("closeEvent",(function(){return t.onModalClose()}))("openEvent",(function(){return t.onModalOpen()})),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"div",3),i.Zb(4,"div",4),i.Sc(5),i.kc(6,"cmsTranslate"),i.Yb(),i.Zb(7,"div",5),i.Sc(8),i.kc(9,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(10,"div",6,7),i.hc("scroll",(function(e){return t.onTermsScroll(e)})),i.Zb(12,"div",8),i.Sc(13),i.kc(14,"cmsTranslate"),i.Yb(),i.Ub(15,"div",9),i.kc(16,"cmsTranslateRichText"),i.Yb(),i.Yb(),i.Zb(17,"div",10),i.Ub(18,"hr",11),i.Zb(19,"div",12),i.Zb(20,"button",13),i.hc("click",(function(){return t.closeModal()})),i.Zb(21,"div",14),i.Zb(22,"span",15),i.Sc(23),i.kc(24,"cmsTranslate"),i.Yb(),i.Yb(),i.Ub(25,"div",16),i.Yb(),i.Zb(26,"button",17),i.hc("click",(function(){return t.onTermsAccept()})),i.Zb(27,"span"),i.Sc(28),i.kc(29,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.sc("id",t.id)("dismissable",!1)("showFirst",t.showFirst),i.Hb(5),i.Uc(" ",i.lc(6,12,"PROFILE_LABEL_JOIN-VIVACASH")," "),i.Hb(3),i.Uc(" ",i.lc(9,14,"PROFILE_LABEL_DISCLAIMER-VIVACASH")," "),i.Hb(5),i.Uc(" ",i.lc(14,16,"GLOBAL_LABEL_TERMS-CONDITIONS")," "),i.Hb(2),i.sc("innerHTML",i.lc(16,18,"PROFILE_LABEL_VIVACASH-TYC"),i.Ic),i.Hb(5),i.sc("disabled",t.isLoading),i.Hb(3),i.Uc(" ",i.lc(24,20,"GLOBAL_ACTION_CANCEL")," "),i.Hb(3),i.sc("ngClass",i.vc(24,g,t.isLoading))("disabled",t.isLoading||!t.canAccept),i.Hb(2),i.Uc(" ",i.lc(29,22,"GLOBAL_ACTION_ACCEPT")," "))},directives:[l.a,u.r],pipes:[d.a,h.a],styles:[".terms-subtitle[_ngcontent-%COMP%]{height:42px;overflow-y:auto}.terms-container[_ngcontent-%COMP%]{overflow-y:auto;height:200px}"]}),e})()},lSCD:function(e,t,n){var i=n("NykK"),o=n("GoyQ");e.exports=function(e){if(!o(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},lUod:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return _}));var i=n("fXoL");class o{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const r={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function s(e,t=r){const n=(e||"").trim();if(0===n.length)return[];const i=n.split(/\s+/).map(e=>e.split(":")).map(e=>{const n=t[e[0]]||e;return new o(n[0],n[1])}),s=i.filter(e=>e.isManual());if(s.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===s.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}function a(e,t){const n=s(t.triggers),i=t.target;if(1===n.length&&n[0].isManual())return Function.prototype;const o=[],r=[],a=()=>{r.forEach(e=>o.push(e())),r.length=0};return n.forEach(n=>{const s=n.open===n.close,c=s?t.toggle:t.show;if(!s&&n.close&&t.hide){const o=e.listen(i,n.close,t.hide);r.push(()=>o)}c&&o.push(e.listen(i,n.open,()=>c(a)))}),()=>{o.forEach(e=>e())}}function c(e,t){return t.outsideClick?e.listen("document","click",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(t=>t.contains(e.target))||t.hide&&t.hide()}):Function.prototype}function l(e,t){return t.outsideEsc?e.listen("document","keyup.esc",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(t=>t.contains(e.target))||t.hide&&t.hide()}):Function.prototype}const u="undefined"!=typeof window&&window||{};let d;function h(){if(void 0===u.document)return"bs4";const e=u.document.createElement("span");e.innerText="testing bs version",e.classList.add("d-none"),e.classList.add("visually-hidden"),u.document.head.appendChild(e);const t=e.getBoundingClientRect(),n=u.getComputedStyle(e).overflow;return u.document.head.removeChild(e),!t||t&&0!==t.top?"bs3":n&&"hidden"===n?"bs5":"bs4"}function p(e){d=e}function g(){return void 0===u||(void 0===u.__theme?(d||(d=h()),"bs3"===d):"bs3"===u.__theme)}function f(){return!g()&&(d||(d=h()),"bs4"===d)}function m(){return{isBs3:g(),isBs4:f(),isBs5:!g()&&!f()&&(d||(d=h()),"bs5"===d)}}function b(){return function(e,t){const n=` __${t}Value`;Object.defineProperty(e,t,{get(){return this[n]},set(e){const i=this[n];this[n]=e,i!==e&&this[t+"Change"]&&this[t+"Change"].emit(e)}})}}const v={},y="undefined"==typeof console||!("warn"in console);function _(e){!Object(i.ab)()||y||e in v||(v[e]=!0,console.warn(e))}},lW9w:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("ofXK"),o=n("tyNb"),r=n("pLZG"),s=n("AytR"),a=n("LRne"),c=n("tk/3"),l=function(e){return e.NO_MATCH="NO-MATCH",e.SUCCESS="SUCCESS",e}({}),u=function(e){return e.VIVATRANSFER="ShuttleCUN",e.VIVAPLAY="InflightEntertainment",e.PAQUETEBEBE="BabyPackage",e}({}),d=function(e){return e.ANCILLARIES_EXTRAS="ancillaries-extras",e}({}),h=n("kh7C"),p=n("1AID"),g=n("fXoL"),f=n("CJ36"),m=n("CPX7");let b=(()=>{class e{constructor(e){this.document=e}getURL(){return this.document.location.href}get DY(){var e;return(null!==(e=window)&&void 0!==e?e:{}).DY}set recommendationContext(e){this.DY.recommendationContext=e}initDYObjIfUndefined(){!this.DY&&window&&(window.DY={})}}return e.\u0275fac=function(t){return new(t||e)(g.dc(i.e))},e.\u0275prov=g.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=n("BifP");let y=(()=>{class e{constructor(e,t,n,i,o,r,s){this.document=e,this.router=t,this.localeService=n,this.basketSvc=i,this.http=o,this.dycontext=r,this.cmsConfig=s,this.isDYEnabled=this.cmsConfig.getSectionFeatureValue(p.b.GLOBAL,p.a.DYIntegration),this.isDYEnabled=!0}init(){this.isDYEnabled?((e=>{const t=e.createElement("script");t.type="text/javascript",t.text='window.DY = window.DY || {}; \n DY.recommendationContext = { type: "HOMEPAGE" }; \n DY.userActiveConsent = { accepted: true };';const n=e.createElement("link");n.rel="preconnect",n.href=s.g.dinamicYield.scripts.CDN;const i=e.createElement("link");i.rel="preconnect",i.href=s.g.dinamicYield.scripts.ST;const o=e.createElement("link");o.rel="preconnect",o.href=s.g.dinamicYield.scripts.RCOM;const r=e.createElement("link");r.rel="dns-prefetch",r.href=s.g.dinamicYield.scripts.CDN;const a=e.createElement("link");a.rel="dns-prefetch",a.href=s.g.dinamicYield.scripts.ST;const c=e.createElement("link");c.rel="dns-prefetch",c.href=s.g.dinamicYield.scripts.RCOM;const l=e.createElement("script");l.type="text/javascript",l.src=s.g.dinamicYield.scripts.API_DYNAMIC;const u=e.createElement("script");u.type="text/javascript",u.src=s.g.dinamicYield.scripts.API_STATIC;const d=e.getElementsByTagName("head")[0];e.head.insertBefore(u,d.firstChild),e.head.insertBefore(l,d.firstChild),e.head.insertBefore(c,d.firstChild),e.head.insertBefore(a,d.firstChild),e.head.insertBefore(r,d.firstChild),e.head.insertBefore(o,d.firstChild),e.head.insertBefore(i,d.firstChild),e.head.insertBefore(n,d.firstChild),e.head.insertBefore(t,d.firstChild)})(this.document),this.updateDYCxt(),this.basketSubscription=this.basketSvc.basket$.subscribe(e=>{this.basket=e,this.page&&"REVIEW"===this.page.split("-").reverse()[0]&&this.updateDYCxtCart()})):this.onDYDisabled()}onDYDisabled(){s.g.production||console.warn("[VIVAAEROBUS DY] -> Dynamic Yield integration is disabled.")}ngOnDestroy(){this.cookieModalSubscritption.unsubscribe(),this.basketSubscription.unsubscribe()}getSKUS(){var e,t;const n=null!==(e=this.basketSvc._basket)&&void 0!==e?e:this.basket;return Object(h.e)(null===(t=null==n?void 0:n.travel)||void 0===t?void 0:t.journeys)?n.travel.journeys.map(e=>e.journeyKey):[]}updateDYCxtCart(){this.dycontext.recommendationContext={type:"CART",data:this.getSKUS(),lng:this.localeService.getAppLocale()}}updateDYCxt(){this.router.events.pipe(Object(r.a)(e=>e instanceof o.c)).subscribe(()=>{if(""!==this.router.url){if(this.page="","/"!==this.router.url){const e=this.router.url.substring(this.router.url.indexOf("/")).split("?");if(e[0]){const t=e[0].split("/").filter(e=>""!==e).map(e=>e.toUpperCase());this.page=t.length?t[0]+"-"+t[1]:t[0]}}else this.page="HOMEPAGE";switch(this.dycontext.initDYObjIfUndefined(),this.page.split("-").reverse()[0]){case"HOMEPAGE":this.dycontext.recommendationContext={type:this.page,data:[],lng:this.localeService.getAppLocale()};break;case"REVIEW":this.updateDYCxtCart();break;default:this.dycontext.recommendationContext={type:"OTHER",data:[this.page],lng:this.localeService.getAppLocale()}}}})}handledServiceRecomend(e,t){var n,i,o,r;return void 0!==t&&Object(h.e)(null===(n=null==t?void 0:t.choices)||void 0===n?void 0:n[0].variations)&&t.choices[0].type!==l.NO_MATCH&&(null===(i=t.choices[0].variations[0])||void 0===i?void 0:i.payload.data.type)!==l.NO_MATCH?(this.sortingGroupByDY=null===(o=t.choices[0].variations[0])||void 0===o?void 0:o.payload.data,e.sortingGroups.forEach(e=>{e.services=this.handleSortingDY(e.type,e.services)}),(null===(r=this.sortingGroupByDY)||void 0===r?void 0:r.data.services[0].code)===u.VIVATRANSFER?e.transportServices=this.handleActiveTransportDY(e.transportServices):e.services=this.handleActiveServiceDY(e.services),e):e}handleSortingDY(e,t){var n;let i=t;const o=null===(n=this.sortingGroupByDY)||void 0===n?void 0:n.data.sortingGroups.find(t=>t.type===e);return o&&o.services.forEach(e=>{i=t.filter(t=>t!==e),i.unshift(e)}),i}handleActiveServiceDY(e){var t,n;return 0===(null===(t=this.sortingGroupByDY)||void 0===t?void 0:t.data.services.length)||null===(n=this.sortingGroupByDY)||void 0===n||n.data.services.forEach(t=>{e.forEach(e=>{t.code===e.code&&e.options.forEach(e=>e.preSelected=t.preSelected)})}),e}handleActiveTransportDY(e){var t;return 0===(null===(t=this.sortingGroupByDY)||void 0===t?void 0:t.data.services.length)||e.forEach(e=>{var t,n;e.code===(null===(t=this.sortingGroupByDY)||void 0===t?void 0:t.data.services[0].code)&&(e.pickupLocations[0].preSelected=null===(n=this.sortingGroupByDY)||void 0===n?void 0:n.data.services[0].preSelected)}),e}getOrderByDY(){if(!this.isDYEnabled)return Object(a.a)(void 0);const e={headers:(new c.d).set("dy-api-key",s.g.dinamicYield.clientKey)},t={user:{active_consent_accepted:this.dycontext.DY.userActiveConsent.accepted,dyid:this.dycontext.DY.dyid},session:{dy:this.dycontext.DY.jsession},context:{page:{type:this.dycontext.DY.recommendationContext.type,data:this.dycontext.DY.recommendationContext.data,location:this.dycontext.getURL(),locale:this.dycontext.DY.recommendationContext.lng}},selector:{names:[d.ANCILLARIES_EXTRAS]},options:{isImplicitPageview:!1,returnAnalyticsMetadata:!1,isImplicitImpressionMode:!0,isImplicitClientData:!1}};return this.http.post(""+s.g.dinamicYield.DY_CHOOSE_VARIANT,t,e)}}return e.\u0275fac=function(t){return new(t||e)(g.dc(i.e),g.dc(o.g),g.dc(f.a),g.dc(m.a),g.dc(c.b),g.dc(b),g.dc(v.a))},e.\u0275prov=g.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},ljhN:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},mCNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var i=n("SpAZ");function o(...e){return r(e)}function r(e){return 0===e.length?i.a:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}}},mGSR:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("mrSG"),o=n("jtHE"),r=n("kh7C"),s=n("fXoL"),a=n("LYOT"),c=n("G/yK"),l=n("BifP");let u=(()=>{class e{constructor(e,t,n){this.contentful=e,this.flightStations=t,this.cmsConfig=n,this.carrierJsonData=[],this.$serviceReady=new o.a(1),this.init()}init(){return new Promise((e,t)=>{try{this.carrierJsonData.length?(e(),this.$serviceReady.closed||(this.$serviceReady.next(),this.$serviceReady.complete())):this.getCarrierJsonData().then(()=>{e(),this.$serviceReady.closed||(this.$serviceReady.next(),this.$serviceReady.complete())})}catch(n){t(n)}})}getCarrierJsonData(){var e,t,n,o,s;return Object(i.a)(this,void 0,void 0,(function*(){const i=yield this.contentful.getEntries({content_type:"jsonObject",select:"sys.id,fields","fields.title":"OperatingCarrier"});i&&(null===(e=null==i?void 0:i.items)||void 0===e?void 0:e.length)&&(null===(t=null==i?void 0:i.items[0])||void 0===t?void 0:t.fields)&&Object(r.e)(null===(o=null===(n=null==i?void 0:i.items[0])||void 0===n?void 0:n.fields)||void 0===o?void 0:o.json)&&(this.carrierJsonData=null===(s=null==i?void 0:i.items[0])||void 0===s?void 0:s.fields.json)}))}getCarrierDataByCode(e){var t;return(null===(t=this.carrierJsonData)||void 0===t?void 0:t.find(t=>(null==t?void 0:t.code)===e))||null}routesHaveExternalOperator(e){var t,n;const i=null==e?void 0:e.find(e=>{var t,n;return!!this.getExternalOperatorInStation(null===(t=null==e?void 0:e.destination)||void 0===t?void 0:t.code)||!!this.getExternalOperatorInStation(null===(n=null==e?void 0:e.origin)||void 0===n?void 0:n.code)});return i?this.getExternalOperatorInStation(null===(t=null==i?void 0:i.destination)||void 0===t?void 0:t.code)||this.getExternalOperatorInStation(null===(n=null==i?void 0:i.origin)||void 0===n?void 0:n.code):null}getExternalOperatorInStation(e){var t,n,i;return(null===(i=null===(n=null===(t=this.flightStations._stations)||void 0===t?void 0:t.find(t=>{var n;return(null==t?void 0:t.code)===e&&(null===(n=t.operatedBy)||void 0===n?void 0:n.find(e=>"VB"!==e))}))||void 0===n?void 0:n.operatedBy)||void 0===i?void 0:i.find(e=>"VB"!==e))||null}getInterlineCarrierRecord(e,t){var n;const i=this.getInterlineProvider(t);return i?(null===(n=null==e?void 0:e.recordCodes)||void 0===n?void 0:n.find(e=>{var t;return null===(t=null==i?void 0:i.recordSystemCodes)||void 0===t?void 0:t.includes(null==e?void 0:e.bookingSystemCode)}))||{recordCode:null,owningSystemCode:null,bookingSystemCode:null}:null}getInterlineProvider(e){var t;const n=(null===(t=this.cmsConfig._cmsConfig.globalSettings)||void 0===t?void 0:t.interlineOperatingCarriers)||[];return(null==n?void 0:n.find(t=>t.carrierCode===e))||null}get ready(){return this.$serviceReady.asObservable().toPromise()}}return e.\u0275fac=function(t){return new(t||e)(s.dc(a.a),s.dc(c.a),s.dc(l.a))},e.\u0275prov=s.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},mI2T:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ofXK"),o=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})()},mTTR:function(e,t,n){var i=n("b80T"),o=n("QcOe"),r=n("MMmD");e.exports=function(e){return r(e)?i(e,!0):o(e)}},mbIT:function(e,t,n){"use strict";t.isArray=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},mdPL:function(e,t,n){(function(e){var i=n("WFqU"),o=t&&!t.nodeType&&t,r=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=r&&r.exports===o&&i.process,a=function(){try{return r&&r.require&&r.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a}).call(this,n("2pl3")(e))},mlxB:function(e,t,n){"use strict";function i(e){return e instanceof Date&&!isNaN(+e)}n.d(t,"a",(function(){return i}))},mrSG:function(e,t,n){"use strict";function i(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(t){r(t)}}function a(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}n.d(t,"a",(function(){return i}))},n3uD:function(e,t,n){"use strict";var i=!1;t.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}}},n6bG:function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.d(t,"a",(function(){return i}))},nLfN:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));var i=n("fXoL"),o=n("ofXK");let r;try{r="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(h){r=!1}let s,a,c=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Object(o.L)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!r)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(i.dc(i.G))},e.\u0275prov=i.Pb({factory:function(){return new e(i.dc(i.G))},token:e,providedIn:"root"}),e})(),l=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)}}),e})();function u(){if(null==a){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return a=!1,a;if("scrollBehavior"in document.documentElement.style)a=!0;else{const e=Element.prototype.scrollTo;a=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return a}function d(){if("object"!=typeof document||!document)return 0;if(null==s){const e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",e.appendChild(n),document.body.appendChild(e),s=0,0===e.scrollLeft&&(e.scrollLeft=1,s=0===e.scrollLeft?1:2),e.parentNode.removeChild(e)}return s}},nYR2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("7o/Q"),o=n("quSY");function r(e){return t=>t.lift(new s(e))}class s{constructor(e){this.callback=e}call(e,t){return t.subscribe(new a(e,this.callback))}}class a extends i.a{constructor(e,t){super(e),this.add(new o.a(t))}}},ngAm:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("XNiG"),o=n("ofXK"),r=n("fXoL"),s=n("jhN1");let a=(()=>{class e{constructor(e,t,n){this.doc=e,this.meta=t,this.title=n,this.jsonLD=new i.a}getJsonLD(){return this.jsonLD}setJsonLD(e){this.jsonLD.next(e||{})}setMetaTags(e){e&&(this.removeMetaTags(e),Object.keys(e).forEach(t=>{this.meta.addTag({name:t,content:e[t]})}))}setTitle(e){this.title.setTitle(e||"")}removeMetaTags(e){e&&Object.keys(e).forEach(e=>{this.meta.getTags(`name='${e}'`).forEach(e=>{this.meta.removeTagElement(e)})})}setOpenGraphMetaTags(e){e&&(this.removeOpenGraphMetaTags(e),Object.keys(e).forEach(t=>{this.meta.addTag({property:t,content:e[t]})}))}removeOpenGraphMetaTags(e){e&&Object.keys(e).forEach(e=>{this.meta.getTags(`property='${e}'`).forEach(e=>{this.meta.removeTagElement(e)})})}setHrefLinkTag(e){this.removeHrefLinkTags(),e&&Object.keys(e).forEach(t=>{const n=this.doc.createElement("link");n.setAttribute("rel","alternate"),n.setAttribute("hreflang",t),n.setAttribute("href",e[t]),this.doc.head.appendChild(n)})}removeHrefLinkTags(){const e=this.doc.head.querySelectorAll("link[rel=alternate]");Array.prototype.forEach.call(e,e=>{e.parentNode.removeChild(e)})}setCanonicalTag(e){if(this.removeCanonicalTag(),e){const t=this.doc.createElement("link");t.setAttribute("rel","canonical"),t.setAttribute("href",e),this.doc.head.appendChild(t)}}removeCanonicalTag(){const e=this.doc.head.querySelectorAll("link[rel=canonical]");Array.prototype.forEach.call(e,e=>{e.parentNode.removeChild(e)})}}return e.\u0275fac=function(t){return new(t||e)(r.dc(o.e),r.dc(s.f),r.dc(s.g))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=e=>t=>{for(let n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}},nmnc:function(e,t,n){var i=n("Kz5y");e.exports=i.Symbol},nmq7:function(e,t,n){"use strict";var i=n("0jNN"),o=Object.prototype.hasOwnProperty,r={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},s=function(e,t,n){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,r=/(\[[^[\]]*])/g,s=/(\[[^[\]]*])/.exec(i),a=s?i.slice(0,s.index):i,c=[];if(a){if(!n.plainObjects&&o.call(Object.prototype,a)&&!n.allowPrototypes)return;c.push(a)}for(var l=0;null!==(s=r.exec(i))&&l<n.depth;){if(l+=1,!n.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+i.slice(s.index)+"]"),function(e,t,n){for(var i=t,o=e.length-1;o>=0;--o){var r,s=e[o];if("[]"===s)r=(r=[]).concat(i);else{r=n.plainObjects?Object.create(null):{};var a="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(a,10);!isNaN(c)&&s!==a&&String(c)===a&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(r=[])[c]=i:r[a]=i}i=r}return i}(c,t,n)}};e.exports=function(e,t){var n=t?i.assign({},t):{};if(null!=n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||i.isRegExp(n.delimiter)?n.delimiter:r.delimiter,n.depth="number"==typeof n.depth?n.depth:r.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:r.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:r.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:r.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:r.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:r.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:r.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:r.strictNullHandling,""===e||null==e)return n.plainObjects?Object.create(null):{};for(var a="string"==typeof e?function(e,t){for(var n={},i=(t.ignoreQueryPrefix?e.replace(/^\?/,""):e).split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),s=0;s<i.length;++s){var a,c,l=i[s],u=l.indexOf("]="),d=-1===u?l.indexOf("="):u+1;-1===d?(a=t.decoder(l,r.decoder),c=t.strictNullHandling?null:""):(a=t.decoder(l.slice(0,d),r.decoder),c=t.decoder(l.slice(d+1),r.decoder)),n[a]=o.call(n,a)?[].concat(n[a]).concat(c):c}return n}(e,n):e,c=n.plainObjects?Object.create(null):{},l=Object.keys(a),u=0;u<l.length;++u){var d=l[u],h=s(d,a[d],n);c=i.merge(c,h,n)}return i.compact(c)}},nnIW:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return l}));class i{constructor(e,t){this.groupCode=e,this.groupName=t,this.amount={amount:0,pointAmount:0},this.originalAmount={amount:0,pointAmount:0},this.options=[]}addCharge(e){var t,n,i,o,r,s;if(e){if(this.options.push(e),l(e))return;this.amount.amount+=(null===(t=e.amount)||void 0===t?void 0:t.amount)||0,this.amount.pointAmount+=(null===(n=e.amount)||void 0===n?void 0:n.pointAmount)||0,this.originalAmount.amount+=(null===(i=e.amount)||void 0===i?void 0:i.amount)>0&&(null===(o=e.amount)||void 0===o?void 0:o.amount)||0,this.originalAmount.pointAmount+=(null===(r=e.amount)||void 0===r?void 0:r.pointAmount)>0&&(null===(s=e.amount)||void 0===s?void 0:s.pointAmount)||0}}}var o=function(e){return e[e.ADD=0]="ADD",e[e.DELETE=1]="DELETE",e}({}),r=function(e){return e.FlightFare="FlightFare",e.Seats="Seats",e.CarryOnBaggage="CarryOnBaggage",e.CheckedBaggage="CheckedBaggage",e.SpecialBaggage="SpecialBaggage",e.FlightServices="FlightServices",e.TUA="TUA",e}({});const s=["BreakdownViva","BreakdownAirport","BreakdownGovernment"],a=["VAAE","VAAF","VAAG","VAAJ"],c=["VAAK"];function l(e){return"GuestFee"===(null==e?void 0:e.code)&&(null==e?void 0:e.amount.amount)!==(null==e?void 0:e.originalAmount.amount)}},nzqU:function(e,t,n){"use strict";t.isScheduler=function(e){return e&&"function"==typeof e.schedule}},o5mt:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ofXK"),o=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})()},oB13:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("XNiG"),o=n("HDdC"),r=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends o.a{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new r.a,e.add(this.source.subscribe(new l(this.getSubject(),this))),e.closed&&(this._connection=null,e=r.a.EMPTY)),e}refCount(){return Object(s.a)()(this)}}const c=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class l extends i.b{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function u(e,t){return function(n){let i;if(i="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new d(i,t));const o=Object.create(n,c);return o.source=n,o.subjectFactory=i,o}}class d{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:n}=this,i=this.subjectFactory(),o=n(i).subscribe(e);return o.add(t.subscribe(i)),o}}},"oCl/":function(e,t,n){var i=n("CH3K"),o=n("LcsW"),r=n("MvSz"),s=n("0ycA");e.exports=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,r(e)),e=o(e);return t}:s},oTAK:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("mrSG"),o=n("jtHE"),r=n("AytR"),s=n("9Fhk"),a=n("fXoL"),c=n("LYOT");let l=(()=>{class e{constructor(e){this.contentful=e,this.$isReady=new o.a(1),this.avatarsMap=new Map,this.avatarsArray=[],this.init()}init(){this.getAvatarImages().then(()=>{this.setReady()})}getAvatarImages(){var e;return Object(i.a)(this,void 0,void 0,(function*(){try{const t=yield this.contentful.getEntry("3wAMvrl32B3Fm29G1r2f44"),n=(null===(e=null==t?void 0:t.fields)||void 0===e?void 0:e.mediaItems)||[];this.avatarsArray=n.filter(e=>{var t,n,i;return!!(null===(t=null==e?void 0:e.fields)||void 0===t?void 0:t.title)&&!!(null===(i=null===(n=e.fields)||void 0===n?void 0:n.file)||void 0===i?void 0:i.url)}).map(e=>({id:e.fields.title,url:e.fields.file.url})),this.avatarsArray.forEach(e=>{this.avatarsMap.set(e.id,e)})}catch(t){r.g.production||console.error("::AvatarServiceInit::",t)}}))}setReady(){this.$isReady.next(),this.$isReady.complete()}get ready(){return this.$isReady.asObservable().toPromise()}getAvatar(e){return this.avatarsMap.get(e)}getAvatarSrc(e){const t=this.getAvatar(e);if(null==t?void 0:t.url)return t.url}getAvatarUrl(e){const t=this.getAvatarSrc(e);return t?`url('${t}')`:s.c}get avatars(){return this.avatarsArray}}return e.\u0275fac=function(t){return new(t||e)(a.dc(c.a))},e.\u0275prov=a.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},ofXK:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return Le})),n.d(t,"c",(function(){return qe})),n.d(t,"d",(function(){return Ke})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return Fe})),n.d(t,"g",(function(){return $e})),n.d(t,"h",(function(){return M})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return Ue})),n.d(t,"k",(function(){return Ye})),n.d(t,"l",(function(){return Ge})),n.d(t,"m",(function(){return Ve})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return O})),n.d(t,"p",(function(){return v})),n.d(t,"q",(function(){return Re})),n.d(t,"r",(function(){return pe})),n.d(t,"s",(function(){return ge})),n.d(t,"t",(function(){return me})),n.d(t,"u",(function(){return ve})),n.d(t,"v",(function(){return we})),n.d(t,"w",(function(){return ke})),n.d(t,"x",(function(){return Ae})),n.d(t,"y",(function(){return Se})),n.d(t,"z",(function(){return Oe})),n.d(t,"A",(function(){return Te})),n.d(t,"B",(function(){return Ee})),n.d(t,"C",(function(){return C})),n.d(t,"D",(function(){return We})),n.d(t,"E",(function(){return l})),n.d(t,"F",(function(){return Xe})),n.d(t,"G",(function(){return je})),n.d(t,"H",(function(){return P})),n.d(t,"I",(function(){return Be})),n.d(t,"J",(function(){return nt})),n.d(t,"K",(function(){return I})),n.d(t,"L",(function(){return et})),n.d(t,"M",(function(){return tt})),n.d(t,"N",(function(){return de})),n.d(t,"O",(function(){return a})),n.d(t,"P",(function(){return Je})),n.d(t,"Q",(function(){return r})),n.d(t,"R",(function(){return he})),n.d(t,"S",(function(){return s}));var i=n("fXoL");let o=null;function r(){return o}function s(e){o||(o=e)}class a{}const c=new i.t("DocumentToken");let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Pb)({factory:u,token:e,providedIn:"platform"}),e})();function u(){return Object(i.dc)(h)}const d=new i.t("Location Initialized");let h=(()=>{class e extends l{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=r().getLocation(),this._history=r().getHistory()}getBaseHrefFromDOM(){return r().getBaseHref(this._doc)}onPopState(e){r().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){r().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){p()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){p()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(i.dc(c))},e.\u0275prov=Object(i.Pb)({factory:g,token:e,providedIn:"platform"}),e})();function p(){return!!window.history.pushState}function g(){return new h(Object(i.dc)(c))}function f(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function m(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function b(e){return e&&"?"!==e[0]?"?"+e:e}let v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Pb)({factory:y,token:e,providedIn:"root"}),e})();function y(e){const t=Object(i.dc)(c).location;return new C(Object(i.dc)(l),t&&t.origin||"")}const _=new i.t("appBaseHref");let C=(()=>{class e extends v{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return f(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,i){const o=this.prepareExternalUrl(n+b(i));this._platformLocation.pushState(e,t,o)}replaceState(e,t,n,i){const o=this.prepareExternalUrl(n+b(i));this._platformLocation.replaceState(e,t,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(i.dc(l),i.dc(_,8))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})(),S=(()=>{class e extends v{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=f(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,i){let o=this.prepareExternalUrl(n+b(i));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,t,o)}replaceState(e,t,n,i){let o=this.prepareExternalUrl(n+b(i));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(i.dc(l),i.dc(_,8))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})(),O=(()=>{class e{constructor(e,t){this._subject=new i.p,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=m(w(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+b(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,w(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+b(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+b(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(i.dc(v),i.dc(l))},e.normalizeQueryParams=b,e.joinWithSlash=f,e.stripTrailingSlash=m,e.\u0275prov=Object(i.Pb)({factory:T,token:e,providedIn:"root"}),e})();function T(){return new O(Object(i.dc)(v),Object(i.dc)(l))}function w(e){return e.replace(/\/index.html$/,"")}const k={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},A=function(){var e={Decimal:0,Percent:1,Currency:2,Scientific:3};return e[e.Decimal]="Decimal",e[e.Percent]="Percent",e[e.Currency]="Currency",e[e.Scientific]="Scientific",e}(),E=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),M=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),P=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),D=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),x=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function I(e,t,n){const o=Object(i.pb)(e),r=U([o[i.fb.MonthsFormat],o[i.fb.MonthsStandalone]],t);return U(r,n)}function L(e,t){return U(Object(i.pb)(e)[i.fb.DateFormat],t)}function R(e,t){return U(Object(i.pb)(e)[i.fb.TimeFormat],t)}function N(e,t){return U(Object(i.pb)(e)[i.fb.DateTimeFormat],t)}function j(e,t){const n=Object(i.pb)(e),o=n[i.fb.NumberSymbols][t];if(void 0===o){if(t===x.CurrencyDecimal)return n[i.fb.NumberSymbols][x.Decimal];if(t===x.CurrencyGroup)return n[i.fb.NumberSymbols][x.Group]}return o}function B(e,t){return Object(i.pb)(e)[i.fb.NumberFormats][t]}const F=i.sb;function H(e){if(!e[i.fb.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[i.fb.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function U(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function Y(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const G=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,V={},Z=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,$=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),W=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),K=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function z(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function Q(e,t,n="-",i,o){let r="";(e<0||o&&e<=0)&&(o?e=1-e:(e=-e,r=n));let s=String(e);for(;s.length<t;)s="0"+s;return i&&(s=s.substr(s.length-t)),r+s}function X(e,t,n=0,i=!1,o=!1){return function(r,s){let a=function(e,t){switch(e){case W.FullYear:return t.getFullYear();case W.Month:return t.getMonth();case W.Date:return t.getDate();case W.Hours:return t.getHours();case W.Minutes:return t.getMinutes();case W.Seconds:return t.getSeconds();case W.FractionalSeconds:return t.getMilliseconds();case W.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,r);if((n>0||a>-n)&&(a+=n),e===W.Hours)0===a&&-12===n&&(a=12);else if(e===W.FractionalSeconds)return c=t,Q(a,3).substr(0,c);var c;const l=j(s,x.MinusSign);return Q(a,t,l,i,o)}}function q(e,t,n=M.Format,o=!1){return function(r,s){return function(e,t,n,o,r,s){switch(n){case K.Months:return I(t,r,o)[e.getMonth()];case K.Days:return function(e,t,n){const o=Object(i.pb)(e),r=U([o[i.fb.DaysFormat],o[i.fb.DaysStandalone]],t);return U(r,n)}(t,r,o)[e.getDay()];case K.DayPeriods:const a=e.getHours(),c=e.getMinutes();if(s){const e=function(e){const t=Object(i.pb)(e);return H(t),(t[i.fb.ExtraData][2]||[]).map(e=>"string"==typeof e?Y(e):[Y(e[0]),Y(e[1])])}(t),n=function(e,t,n){const o=Object(i.pb)(e);H(o);const r=U([o[i.fb.ExtraData][0],o[i.fb.ExtraData][1]],t)||[];return U(r,n)||[]}(t,r,o);let s;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:i,minutes:o}=e[0],{hours:r,minutes:l}=e[1];a>=i&&c>=o&&(a<r||a===r&&c<l)&&(s=n[t])}else{const{hours:i,minutes:o}=e;i===a&&o===c&&(s=n[t])}}),s)return s}return function(e,t,n){const o=Object(i.pb)(e),r=U([o[i.fb.DayPeriodsFormat],o[i.fb.DayPeriodsStandalone]],t);return U(r,n)}(t,r,o)[a<12?0:1];case K.Eras:return function(e,t){return U(Object(i.pb)(e)[i.fb.Eras],t)}(t,o)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(r,s,e,t,n,o)}}function J(e){return function(t,n,i){const o=-1*i,r=j(n,x.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(e){case $.Short:return(o>=0?"+":"")+Q(s,2,r)+Q(Math.abs(o%60),2,r);case $.ShortGMT:return"GMT"+(o>=0?"+":"")+Q(s,1,r);case $.Long:return"GMT"+(o>=0?"+":"")+Q(s,2,r)+":"+Q(Math.abs(o%60),2,r);case $.Extended:return 0===i?"Z":(o>=0?"+":"")+Q(s,2,r)+":"+Q(Math.abs(o%60),2,r);default:throw new Error(`Unknown zone width "${e}"`)}}}function ee(e,t=!1){return function(n,i){let o;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();o=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,0,1).getDay();return new Date(e,0,1+(t<=4?4:11)-t)}(n.getFullYear()),t=(r=n,new Date(r.getFullYear(),r.getMonth(),r.getDate()+(4-r.getDay()))).getTime()-e.getTime();o=1+Math.round(t/6048e5)}var r;return Q(o,e,j(i,x.MinusSign))}}const te={};function ne(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ie(e){return e instanceof Date&&!isNaN(e.valueOf())}const oe=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function re(e,t,n,i,o,r,s=!1){let a="",c=!1;if(isFinite(e)){let l=function(e){let t,n,i,o,r,s=Math.abs(e)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(i=s.search(/e/i))>0?(n<0&&(n=i),n+=+s.slice(i+1),s=s.substring(0,i)):n<0&&(n=s.length),i=0;"0"===s.charAt(i);i++);if(i===(r=s.length))t=[0],n=1;else{for(r--;"0"===s.charAt(r);)r--;for(n-=i,t=[],o=0;i<=r;i++,o++)t[o]=Number(s.charAt(i))}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{digits:t,exponent:a,integerLen:n}}(e);s&&(l=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(l));let u=t.minInt,d=t.minFrac,h=t.maxFrac;if(r){const e=r.match(oe);if(null===e)throw new Error(r+" is not a valid digit info");const t=e[1],n=e[3],i=e[5];null!=t&&(u=ae(t)),null!=n&&(d=ae(n)),null!=i?h=ae(i):null!=n&&d>h&&(h=d)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let i=e.digits,o=i.length-e.integerLen;const r=Math.min(Math.max(t,o),n);let s=r+e.integerLen,a=i[s];if(s>0){i.splice(Math.max(e.integerLen,s));for(let e=s;e<i.length;e++)i[e]=0}else{o=Math.max(0,o),e.integerLen=1,i.length=Math.max(1,s=r+1),i[0]=0;for(let e=1;e<s;e++)i[e]=0}if(a>=5)if(s-1<0){for(let t=0;t>s;t--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[s-1]++;for(;o<Math.max(0,r);o++)i.push(0);let c=0!==r;const l=t+e.integerLen,u=i.reduceRight((function(e,t,n,i){return i[n]=(t+=e)<10?t:t-10,c&&(0===i[n]&&n>=l?i.pop():c=!1),t>=10?1:0}),0);u&&(i.unshift(u),e.integerLen++)}(l,d,h);let p=l.digits,g=l.integerLen;const f=l.exponent;let m=[];for(c=p.every(e=>!e);g<u;g++)p.unshift(0);for(;g<0;g++)p.unshift(0);g>0?m=p.splice(g,p.length):(m=p,p=[0]);const b=[];for(p.length>=t.lgSize&&b.unshift(p.splice(-t.lgSize,p.length).join(""));p.length>t.gSize;)b.unshift(p.splice(-t.gSize,p.length).join(""));p.length&&b.unshift(p.join("")),a=b.join(j(n,i)),m.length&&(a+=j(n,o)+m.join("")),f&&(a+=j(n,x.Exponential)+"+"+f)}else a=j(n,x.Infinity);return a=e<0&&!c?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function se(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(";"),o=i[0],r=i[1],s=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],a=s[0],c=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const e=c.charAt(u);"0"===e?n.minFrac=n.maxFrac=u+1:"#"===e?n.maxFrac=u+1:n.posSuf+=e}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,r){const e=o.length-n.posPre.length-n.posSuf.length,t=r.indexOf("#");n.negPre=r.substr(0,t).replace(/'/g,""),n.negSuf=r.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function ae(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}class ce{}function le(e,t,n,i){let o="="+e;if(t.indexOf(o)>-1)return o;if(o=n.getPluralCategory(e,i),t.indexOf(o)>-1)return o;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}let ue=(()=>{class e extends ce{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(F(t||this.locale)(e)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(i.dc(i.y))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})();function de(e,t,n){return Object(i.zb)(e,t,n)}function he(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[i,o]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}let pe=(()=>{class e{constructor(e,t,n,i){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(i.vb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(i.Cb)(e.item));this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.w),i.Tb(i.x),i.Tb(i.n),i.Tb(i.I))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})(),ge=(()=>{class e{constructor(e){this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}ngOnChanges(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const e=t.get(i.C);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(e.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(i.l)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.S))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[i.Fb]}),e})();class fe{constructor(e,t,n,i){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let me=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Object(i.ab)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,i)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new fe(null,this._ngForOf,-1,-1),null===i?void 0:i),o=new be(e,n);t.push(o)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const o=this._viewContainer.get(n);this._viewContainer.move(o,i);const r=new be(e,o);t.push(r)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=i,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.S),i.Tb(i.P),i.Tb(i.w))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class be{constructor(e,t){this.record=e,this.view=t}}let ve=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new ye,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){_e("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){_e("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.S),i.Tb(i.P))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class ye{constructor(){this.$implicit=null,this.ngIf=null}}function _e(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Object(i.Cb)(t)}'.`)}class Ce{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Se=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Ob({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),Oe=(()=>{class e{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new Ce(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.S),i.Tb(i.P),i.Tb(Se,1))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),Te=(()=>{class e{constructor(e,t,n){n._addDefault(new Ce(e,t))}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.S),i.Tb(i.P),i.Tb(Se,1))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),we=(()=>{class e{constructor(e){this._localization=e,this._caseViews={}}set ngPlural(e){this._switchValue=e,this._updateView()}addCase(e,t){this._caseViews[e]=t}_updateView(){this._clearViews();const e=Object.keys(this._caseViews),t=le(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(e){e&&(this._activeView=e,this._activeView.create())}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(ce))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),e})(),ke=(()=>{class e{constructor(e,t,n,i){this.value=e;const o=!isNaN(Number(e));i.addCase(o?"="+e:e,new Ce(n,t))}}return e.\u0275fac=function(t){return new(t||e)(i.ec("ngPluralCase"),i.Tb(i.P),i.Tb(i.S),i.Tb(we,1))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngPluralCase",""]]}),e})(),Ae=(()=>{class e{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[n,i]=e.split(".");null!=(t=null!=t&&i?`${t}${i}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.n),i.Tb(i.x),i.Tb(i.I))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),Ee=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.S))},e.\u0275dir=i.Ob({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.Fb]}),e})();function Me(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${Object(i.Cb)(e)}'`)}class Pe{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class De{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const xe=new De,Ie=new Pe;let Le=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Object(i.yb)(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,i.U.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if(Object(i.xb)(t))return xe;if(Object(i.wb)(t))return Ie;throw Me(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(i.fc())},e.\u0275pipe=i.Sb({name:"async",type:e,pure:!1}),e})(),Re=(()=>{class e{transform(t){if(!t)return t;if("string"!=typeof t)throw Me(e,t);return t.toLowerCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Sb({name:"lowercase",type:e,pure:!0}),e})();const Ne=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let je=(()=>{class e{transform(t){if(!t)return t;if("string"!=typeof t)throw Me(e,t);return t.replace(Ne,e=>e[0].toUpperCase()+e.substr(1).toLowerCase())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Sb({name:"titlecase",type:e,pure:!0}),e})(),Be=(()=>{class e{transform(t){if(!t)return t;if("string"!=typeof t)throw Me(e,t);return t.toUpperCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Sb({name:"uppercase",type:e,pure:!0}),e})(),Fe=(()=>{class e{constructor(e){this.locale=e}transform(t,n="mediumDate",o,r){if(null==t||""===t||t!=t)return null;try{return function(e,t,n,o){let r=function(e){if(ie(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,i]=e.split("-").map(e=>+e);return new Date(t,n-1,i)}let n;if(n=e.match(G))return function(e){const t=new Date(0);let n=0,i=0;const o=e[8]?t.setUTCFullYear:t.setFullYear,r=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),o.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-n,a=Number(e[5]||0)-i,c=Number(e[6]||0),l=Math.round(1e3*parseFloat("0."+(e[7]||0)));return r.call(t,s,a,c,l),t}(n)}const t=new Date(e);if(!ie(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,n){const o=function(e){return Object(i.pb)(e)[i.fb.LocaleId]}(t);if(V[o]=V[o]||{},V[o][n])return V[o][n];let r="";switch(n){case"shortDate":r=L(t,D.Short);break;case"mediumDate":r=L(t,D.Medium);break;case"longDate":r=L(t,D.Long);break;case"fullDate":r=L(t,D.Full);break;case"shortTime":r=R(t,D.Short);break;case"mediumTime":r=R(t,D.Medium);break;case"longTime":r=R(t,D.Long);break;case"fullTime":r=R(t,D.Full);break;case"short":const n=e(t,"shortTime"),i=e(t,"shortDate");r=z(N(t,D.Short),[n,i]);break;case"medium":const o=e(t,"mediumTime"),s=e(t,"mediumDate");r=z(N(t,D.Medium),[o,s]);break;case"long":const a=e(t,"longTime"),c=e(t,"longDate");r=z(N(t,D.Long),[a,c]);break;case"full":const l=e(t,"fullTime"),u=e(t,"fullDate");r=z(N(t,D.Full),[l,u])}return r&&(V[o][n]=r),r}(n,t)||t;let s,a=[];for(;t;){if(s=Z.exec(t),!s){a.push(t);break}{a=a.concat(s.slice(1));const e=a.pop();if(!e)break;t=e}}let c=r.getTimezoneOffset();o&&(c=ne(o,c),r=function(e,t,n){const i=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(ne(t,i)-i))}(r,o));let l="";return a.forEach(e=>{const t=function(e){if(te[e])return te[e];let t;switch(e){case"G":case"GG":case"GGG":t=q(K.Eras,P.Abbreviated);break;case"GGGG":t=q(K.Eras,P.Wide);break;case"GGGGG":t=q(K.Eras,P.Narrow);break;case"y":t=X(W.FullYear,1,0,!1,!0);break;case"yy":t=X(W.FullYear,2,0,!0,!0);break;case"yyy":t=X(W.FullYear,3,0,!1,!0);break;case"yyyy":t=X(W.FullYear,4,0,!1,!0);break;case"M":case"L":t=X(W.Month,1,1);break;case"MM":case"LL":t=X(W.Month,2,1);break;case"MMM":t=q(K.Months,P.Abbreviated);break;case"MMMM":t=q(K.Months,P.Wide);break;case"MMMMM":t=q(K.Months,P.Narrow);break;case"LLL":t=q(K.Months,P.Abbreviated,M.Standalone);break;case"LLLL":t=q(K.Months,P.Wide,M.Standalone);break;case"LLLLL":t=q(K.Months,P.Narrow,M.Standalone);break;case"w":t=ee(1);break;case"ww":t=ee(2);break;case"W":t=ee(1,!0);break;case"d":t=X(W.Date,1);break;case"dd":t=X(W.Date,2);break;case"E":case"EE":case"EEE":t=q(K.Days,P.Abbreviated);break;case"EEEE":t=q(K.Days,P.Wide);break;case"EEEEE":t=q(K.Days,P.Narrow);break;case"EEEEEE":t=q(K.Days,P.Short);break;case"a":case"aa":case"aaa":t=q(K.DayPeriods,P.Abbreviated);break;case"aaaa":t=q(K.DayPeriods,P.Wide);break;case"aaaaa":t=q(K.DayPeriods,P.Narrow);break;case"b":case"bb":case"bbb":t=q(K.DayPeriods,P.Abbreviated,M.Standalone,!0);break;case"bbbb":t=q(K.DayPeriods,P.Wide,M.Standalone,!0);break;case"bbbbb":t=q(K.DayPeriods,P.Narrow,M.Standalone,!0);break;case"B":case"BB":case"BBB":t=q(K.DayPeriods,P.Abbreviated,M.Format,!0);break;case"BBBB":t=q(K.DayPeriods,P.Wide,M.Format,!0);break;case"BBBBB":t=q(K.DayPeriods,P.Narrow,M.Format,!0);break;case"h":t=X(W.Hours,1,-12);break;case"hh":t=X(W.Hours,2,-12);break;case"H":t=X(W.Hours,1);break;case"HH":t=X(W.Hours,2);break;case"m":t=X(W.Minutes,1);break;case"mm":t=X(W.Minutes,2);break;case"s":t=X(W.Seconds,1);break;case"ss":t=X(W.Seconds,2);break;case"S":t=X(W.FractionalSeconds,1);break;case"SS":t=X(W.FractionalSeconds,2);break;case"SSS":t=X(W.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=J($.Short);break;case"ZZZZZ":t=J($.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=J($.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=J($.Long);break;default:return null}return te[e]=t,t}(e);l+=t?t(r,n,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(t,n,r||this.locale,o)}catch(s){throw Me(e,s.message)}}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.y))},e.\u0275pipe=i.Sb({name:"date",type:e,pure:!0}),e})();const He=/#/g;let Ue=(()=>{class e{constructor(e){this._localization=e}transform(t,n,i){if(null==t)return"";if("object"!=typeof n||null===n)throw Me(e,n);return n[le(t,Object.keys(n),this._localization,i)].replace(He,t.toString())}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(ce))},e.\u0275pipe=i.Sb({name:"i18nPlural",type:e,pure:!0}),e})(),Ye=(()=>{class e{transform(t,n){if(null==t)return"";if("object"!=typeof n||"string"!=typeof t)throw Me(e,n);return n.hasOwnProperty(t)?n[t]:n.hasOwnProperty("other")?n.other:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Sb({name:"i18nSelect",type:e,pure:!0}),e})(),Ge=(()=>{class e{transform(e){return JSON.stringify(e,null,2)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Sb({name:"json",type:e,pure:!1}),e})(),Ve=(()=>{class e{constructor(e){this.differs=e,this.keyValues=[]}transform(e,t=Ze){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const n=this.differ.diff(e);return n&&(this.keyValues=[],n.forEachItem(e=>{this.keyValues.push({key:e.key,value:e.currentValue})}),this.keyValues.sort(t)),this.keyValues}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.x))},e.\u0275pipe=i.Sb({name:"keyvalue",type:e,pure:!1}),e})();function Ze(e,t){const n=e.key,i=t.key;if(n===i)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(null===n)return 1;if(null===i)return-1;if("string"==typeof n&&"string"==typeof i)return n<i?-1:1;if("number"==typeof n&&"number"==typeof i)return n-i;if("boolean"==typeof n&&"boolean"==typeof i)return n<i?-1:1;const o=String(n),r=String(i);return o==r?0:o<r?-1:1}let $e=(()=>{class e{constructor(e){this._locale=e}transform(t,n,i){if(ze(t))return null;i=i||this._locale;try{return function(e,t,n){return re(e,se(B(t,A.Decimal),j(t,x.MinusSign)),t,x.Group,x.Decimal,n)}(Qe(t),i,n)}catch(o){throw Me(e,o.message)}}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.y))},e.\u0275pipe=i.Sb({name:"number",type:e,pure:!0}),e})(),We=(()=>{class e{constructor(e){this._locale=e}transform(t,n,i){if(ze(t))return null;i=i||this._locale;try{return function(e,t,n){return re(e,se(B(t,A.Percent),j(t,x.MinusSign)),t,x.Group,x.Decimal,n,!0).replace(new RegExp("%","g"),j(t,x.PercentSign))}(Qe(t),i,n)}catch(o){throw Me(e,o.message)}}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.y))},e.\u0275pipe=i.Sb({name:"percent",type:e,pure:!0}),e})(),Ke=(()=>{class e{constructor(e,t="USD"){this._locale=e,this._defaultCurrencyCode=t}transform(t,n,o="symbol",r,s){if(ze(t))return null;s=s||this._locale,"boolean"==typeof o&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),o=o?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==o&&(a="symbol"===o||"symbol-narrow"===o?function(e,t,n="en"){const o=function(e){return Object(i.pb)(e)[i.fb.Currencies]}(n)[e]||k[e]||[],r=o[1];return"narrow"===t&&"string"==typeof r?r:o[0]||e}(a,"symbol"===o?"wide":"narrow",s):o);try{return function(e,t,n,i,o){const r=se(B(t,A.Currency),j(t,x.MinusSign));return r.minFrac=function(e){let t;const n=k[e];return n&&(t=n[2]),"number"==typeof t?t:2}(i),r.maxFrac=r.minFrac,re(e,r,t,x.CurrencyGroup,x.CurrencyDecimal,o).replace("\xa4",n).replace("\xa4","").trim()}(Qe(t),s,a,n,r)}catch(c){throw Me(e,c.message)}}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.y),i.Tb(i.m))},e.\u0275pipe=i.Sb({name:"currency",type:e,pure:!0}),e})();function ze(e){return null==e||""===e||e!=e}function Qe(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(e+" is not a number");return e}let Xe=(()=>{class e{transform(t,n,i){if(null==t)return t;if(!this.supports(t))throw Me(e,t);return t.slice(n,i)}supports(e){return"string"==typeof e||Array.isArray(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Sb({name:"slice",type:e,pure:!1}),e})(),qe=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},providers:[{provide:ce,useClass:ue}]}),e})();const Je="browser";function et(e){return e===Je}function tt(e){return"server"===e}let nt=(()=>{class e{}return e.\u0275prov=Object(i.Pb)({token:e,providedIn:"root",factory:()=>new it(Object(i.dc)(c),window,Object(i.dc)(i.o))}),e})();class it{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}},ofgY:function(e,t,n){"use strict";n.d(t,"o",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"i",(function(){return a})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"n",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"m",(function(){return h})),n.d(t,"g",(function(){return g})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"h",(function(){return C})),n.d(t,"p",(function(){return S}));var i=n("wd/R"),o=n("3Pt+"),r=function(e){return e.CHD="Child",e.MISS="Miss",e.MR="Mr",e.MS="Ms",e.MRS="Mrs",e.MASTER="Master",e}({}),s=function(e){return e.GLOBAL_LABEL_GENDER_XX="XX",e.GLOBAL_LABEL_GENDER_MALE="Male",e.GLOBAL_LABEL_GENDER_FEMALE="Female",e}({}),a=function(e){return e.CHD="CHD",e.ADT="ADT",e.INFT="INFT",e}({}),c=function(e){return e["GLOBAL_LABEL_PHONE-TYPE-MAIN"]="home",e["GLOBAL_LABEL_PHONE-TYPE-WORK"]="work",e["GLOBAL_LABEL_PHONE-TYPE-MOBILE"]="mobile",e}({}),l=function(e){return e["GLOBAL_LABEL_PHONE-TYPE-HOME"]="home",e["GLOBAL_LABEL_PHONE-TYPE-WORK"]="work",e["GLOBAL_LABEL_PHONE-TYPE-MOBILE"]="mobile",e}({}),u=function(e){return e.BOOKER_LABEL_LEISURE="leisure",e.BOOKER_LABEL_BUSINESS="business",e}({});class d{constructor(e){this.passengerKey=e.passengerKey,this.prefillSources=e.prefillSources,this.fieldGroupRules=e.fieldGroupRules.map(e=>new p(e)),this.fieldRules=e.fieldRules.map(e=>new f(e)),this.notifications=e.notifications}getFieldValidationFormControl(e,t,n,i,r){const s=i||[],a=this.fieldRules.find(t=>t.name===e);if(!a)return n?new o.i(t,[o.I.required,...s]):null;const c=a.getFormControlParams(t),l=new o.i(c.value,[...c.validators,...s]);return(c.blocked||r)&&l.disable({onlySelf:!0}),l}getGroup(e){return this.fieldGroupRules.find(t=>t.name===e)||null}hasField(e){return!!this.fieldRules.find(t=>t.name===e)}hasGroup(e){return!!this.fieldGroupRules.find(t=>t.name===e)}}var h=function(e){return e.Anonymous="Anonymous",e.RelatedAccount="RelatedAccount",e.CurrentAccount="CurrentAccount",e}({});class p{constructor(e){this.name=e.name,this.inputValidationType=e.inputValidationType,this.fieldRules=e.fieldRules.map(e=>new f(e)),this.criteria=null==e?void 0:e.criteria}getFieldValidationFormControl(e,t,n,i){const r=i||[],s=this.fieldRules.find(t=>t.name===e);if(!s)return new o.i(t,n?[o.I.required,...r]:r);const a=s.getFormControlParams(t,n),c=new o.i(a.value,[...a.validators,...r]);return a.blocked&&c.disable({onlySelf:!0}),c}}var g=function(e){return e.IsBlocked="IsBlocked",e.IsOptional="IsOptional",e.IsRequired="IsRequired",e.IsConditionallyRequired="IsConditionallyRequired",e}({});class f{constructor(e){this.name=e.name,this.inputValidationType=e.inputValidationType,this.defaultValue=e.defaultValue}getFormControlParams(e,t=!0){return{validators:this.inputValidationType===g.IsRequired&&t?[o.I.required]:[],value:e||this.defaultValue,blocked:this.inputValidationType===g.IsBlocked}}}var m=function(e){return e.Equals="Equals",e.IsNot="IsNot",e}({});class b{constructor(e){this.contactType=e.contactType,this.notifications=e.notifications,this.fieldGroupRules=e.fieldGroupRules.map(e=>new p(e)),this.fieldRules=e.fieldRules.map(e=>new f(e)),this.notifications=e.notifications,this.inputValidationType=e.inputValidationType}getFieldValidationFormControl(e,t,n,i){const r=i||[],s=this.fieldRules.find(t=>t.name===e);if(!s)return new o.i(t,n?[o.I.required,...r]:r);const a=s.getFormControlParams(t,n),c=new o.i(a.value,[...a.validators,...r]);return a.blocked&&c.disable({onlySelf:!0}),c}getGroup(e){return this.fieldGroupRules.find(t=>t.name===e)||null}}var v=function(e){return e.Primary="Primary",e.Other="Other",e.Destination="Destination",e.Home="Home",e.Business="Business",e.Emergency="Emergency",e}({});const y=2,_=18;class C{constructor(e,t,n=t,o=!1){switch(e){case a.ADT:this.min=i(n).subtract(150,"y").format("YYYY-MM-DD"),this.max=i(n).subtract(_,"y").format("YYYY-MM-DD");break;case a.CHD:this.min=i(n).subtract(_,"y").add(1,"d").format("YYYY-MM-DD"),this.max=i(t).subtract(o?14:y,"y").format("YYYY-MM-DD");break;case a.INFT:this.min=i(n).subtract(y,"y").format("YYYY-MM-DD"),this.max=i().format("YYYY-MM-DD")}}}function S(e){const t=i(e);return t.isValid()?t.format("YYYY-MM-DD"):e}},"otv/":function(e,t,n){var i=n("nmnc"),o=i?i.prototype:void 0,r=o?o.valueOf:void 0;e.exports=function(e){return r?Object(r.call(e)):{}}},"p//D":function(e,t,n){"use strict";t.rxSubscriber=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),t.$$rxSubscriber=t.rxSubscriber},"p0+S":function(e,t,n){"use strict";var i=n("mbIT");t.isNumeric=function(e){return!i.isArray(e)&&e-parseFloat(e)+1>=0}},pLZG:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("7o/Q");function o(e,t){return function(n){return n.lift(new r(e,t))}}class r{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))}}class s extends i.a{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}},pSRY:function(e,t,n){var i=n("QkVE");e.exports=function(e){return i(this,e).has(e)}},pWoz:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("fXoL"),o=n("3Pt+"),r=n("itXk"),s=n("eJ3O"),a=n("vkgz"),c=n("Kj3r"),l=n("bJP1"),u=n("gAzV"),d=n("ofXK"),h=n("ZOsW"),p=n("VXoX");const g=function(e){return{"float-label":e}};function f(e,t){if(1&e&&(i.Zb(0,"div",7),i.Zb(1,"div",8),i.Zb(2,"span",9),i.Sc(3),i.Yb(),i.Yb(),i.Yb()),2&e){const e=i.jc(2);i.sc("ngClass",i.vc(2,g,e.floatLabel)),i.Hb(3),i.Uc(" ",e.label," ")}}const m=function(e,t){return{name:e,id:t}};function b(e,t){if(1&e){const e=i.ac();i.Xb(0),i.Qc(1,f,4,4,"div",2),i.Zb(2,"div",3),i.Zb(3,"div",4),i.Zb(4,"div",5),i.Zb(5,"ng-select",6),i.hc("close",(function(){return i.Hc(e),i.jc().onTouched()})),i.kc(6,"cmsTranslate"),i.Yb(),i.Zb(7,"label"),i.Sc(8),i.kc(9,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(10,"div",4),i.Zb(11,"div",5),i.Zb(12,"ng-select",6),i.hc("close",(function(){return i.Hc(e),i.jc().onTouched()})),i.kc(13,"cmsTranslate"),i.Yb(),i.Zb(14,"label"),i.Sc(15),i.kc(16,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(17,"div",4),i.Zb(18,"div",5),i.Zb(19,"ng-select",6),i.hc("close",(function(){return i.Hc(e),i.jc().onTouched()})),i.kc(20,"cmsTranslate"),i.Yb(),i.Zb(21,"label"),i.Sc(22),i.kc(23,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Wb()}if(2&e){const e=i.jc();i.Hb(1),i.sc("ngIf",!!e.label),i.Hb(4),i.sc("inputAttrs",i.wc(43,m,e.name+"-day",e.id+"-day"))("searchable",e.searchable)("clearable",!1)("placeholder",i.lc(6,31,"GLOBAL_LABEL_DAY"))("formControl",e.dayControl)("items",e.dayOptions)("bindLabel","display")("bindValue","value")("required",e.required),i.Hb(3),i.Tc(i.lc(9,33,"GLOBAL_LABEL_DAY")),i.Hb(4),i.sc("inputAttrs",i.wc(46,m,e.name+"-month",e.id+"-month"))("searchable",e.searchable)("clearable",!1)("placeholder",i.lc(13,35,"GLOBAL_LABEL_MONTH"))("formControl",e.monthControl)("items",e.monthOptions)("bindLabel","display")("bindValue","value")("required",e.required),i.Hb(3),i.Tc(i.lc(16,37,"GLOBAL_LABEL_MONTH")),i.Hb(4),i.sc("inputAttrs",i.wc(49,m,e.name+"-year",e.id+"-year"))("searchable",e.searchable)("clearable",!1)("placeholder",i.lc(20,39,"GLOBAL_LABEL_YEAR"))("formControl",e.yearControl)("items",e.yearOptions)("bindLabel","display")("bindValue","value")("required",e.required),i.Hb(3),i.Tc(i.lc(23,41,"GLOBAL_LABEL_YEAR"))}}function v(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",10),i.Ub(2,"input",11),i.kc(3,"uppercase"),i.kc(4,"date"),i.Zb(5,"label"),i.Sc(6),i.Yb(),i.Zb(7,"div",12),i.Ub(8,"em",13),i.Yb(),i.Yb(),i.Wb()),2&e){const e=i.jc();var n=null;const t=null==(n=i.lc(3,5,i.mc(4,7,e._dateValue,"dd/MMM/yyyy")))?null:n.replace(".","");i.Hb(2),i.sc("name",e.name+"-disabled")("id",e.id+"-disabled")("placeholder",e.label)("value",t),i.Hb(4),i.Tc(e.label)}}let y=(()=>{class e{constructor(t,n,o){this.fb=t,this.injector=n,this.midSvc=o,this.label="",this.floatLabel=!0,this.required=!1,this.isTouched=!1,this.searchable=!1,this.forceErrorState=!1,this.midChange=new i.p,this.disabled=!1,this.dayOptions=[],this.monthOptions=[],this.yearOptions=[],this.subscriptions=[],this._onChange=e=>{},this._onTouched=()=>{},this.instanceId=e.globalInstanceCounter++,this.initIdentifiers(),this.minDateElmt=this.midSvc.defaultMin,this.maxDateElmt=this.midSvc.defaultMax,this.buildDateSelectOptions(),this.fg=this.fb.group({day:void 0,month:void 0,year:void 0}),this.setValidators()}get dayControl(){return this.fg.get("day")}get monthControl(){return this.fg.get("month")}get yearControl(){return this.fg.get("year")}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}ngOnInit(){this.setComponentControl(),this.startInternalSubscriptions()}ngOnChanges(e){let t=!1;e.isTouched&&!e.isTouched.firstChange&&"boolean"==typeof this.isTouched&&this.isTouched!==this.fg.touched&&(this.isTouched?this.fg.markAllAsTouched():this.fg.markAsUntouched()),(e.maxDate||e.minDate)&&(e.maxDate&&(this.maxDateElmt=this.midSvc.generateDateElement(this.maxDate)||this.midSvc.defaultMax),e.minDate&&(this.minDateElmt=this.midSvc.generateDateElement(this.minDate)||this.midSvc.defaultMin),this.midSvc.areDateRangesValid(this.minDateElmt,this.maxDateElmt)||(console.warn("::MultiInputDate::","Provided Date ranges are invalid: minDate is greater than maxDate! Falling back to default range values."),this.minDateElmt=this.midSvc.defaultMin,this.maxDateElmt=this.midSvc.defaultMax),this.yearOptions=this.buildYearOptions(),this.setValidators(),t=!0,this.updateFieldsValueAndValidity()),e.id&&!this.id&&(this.id=this.defaultIdentifier),e.name&&!this.name&&(this.name=this.defaultIdentifier),e.forceErrorState&&!t&&this.updateFieldsValueAndValidity()}ngOnDestroy(){this.subscriptions.forEach(e=>{e&&!e.closed&&e.unsubscribe()})}ngAfterViewInit(){this.forceErrorState&&Object(s.timer)(0).subscribe(()=>{this.updateFieldsValueAndValidity()})}initIdentifiers(){this.id=this.defaultIdentifier,this.name=this.defaultIdentifier}get defaultIdentifier(){return"multi-input-date-"+this.instanceId}setValidators(){const e={min:this.minDateElmt,max:this.maxDateElmt};this.dayControl.setValidators([l.a.validateDay(this.fg,e)]),this.monthControl.setValidators([l.a.validateMonth(this.fg,e)]),this.yearControl.setValidators([l.a.validateYear(e)])}updateFieldsValueAndValidity(){this.yearControl.updateValueAndValidity(),this.monthControl.updateValueAndValidity(),this.dayControl.updateValueAndValidity(),this.forceErrorState&&(this.yearControl.setErrors(Object.assign(Object.assign({},this.yearControl.errors),{midCustom:!0})),this.monthControl.setErrors(Object.assign(Object.assign({},this.monthControl.errors),{midCustom:!0})),this.dayControl.setErrors(Object.assign(Object.assign({},this.dayControl.errors),{midCustom:!0})))}setComponentControl(){const e=this.injector.get(o.t);switch(e.constructor){case o.x:const{control:t,update:n}=e;this.control=t;const i=this.control.valueChanges.pipe(Object(a.a)(e=>n.emit(e))).subscribe();this.subscriptions.push(i);break;case o.k:this.control=this.injector.get(o.m).getControl(e);break;default:this.control=e.form}}startInternalSubscriptions(){this.subscriptions.push(this.formChanges),this.subscriptions.push(this.dayOptionsUpdate)}get formChanges(){return this.fg.valueChanges.pipe(Object(c.a)(0)).subscribe(({day:e,month:t,year:n})=>{var i;let o=null;Number.isInteger(e)&&Number.isInteger(t)&&Number.isInteger(n)&&(o=new Date(n,t,e),Number.isNaN(o.valueOf())&&(o=null)),(null===(i=this.prevValue)||void 0===i?void 0:i.valueOf())!==(null==o?void 0:o.valueOf())&&(this._onChange(o),this.midChange.emit(o)),this.prevValue=o,this.fg.touched&&this._onTouched()})}get dayOptionsUpdate(){return Object(r.a)([this.monthControl.valueChanges,this.yearControl.valueChanges]).pipe(Object(c.a)(0)).subscribe(([e,t])=>{var n,i;this.dayOptions=this.midSvc.buildDayOptions(e+1,t);const o=this.dayControl.value;Number.isInteger(o)&&!this.dayOptions.find(({value:e})=>e===o)&&this.dayControl.patchValue((null===(i=null===(n=this.dayOptions.slice(-1))||void 0===n?void 0:n[0])||void 0===i?void 0:i.value)||null)})}buildDateSelectOptions(){this.dayOptions=this.midSvc.buildDayOptions(),this.monthOptions=this.midSvc.buildMonthOptions(),this.yearOptions=this.buildYearOptions()}buildYearOptions(){var e,t;return this.midSvc.buildYearOptions(null===(e=this.minDateElmt)||void 0===e?void 0:e.year,null===(t=this.maxDateElmt)||void 0===t?void 0:t.year)}validate({value:e}){return this.midSvc.validateControlValue(e,{min:this.minDateElmt,max:this.maxDateElmt},this.customErrorMapping)}writeValue(e){const t=this.midSvc.getDateFromValue(e),n=t?t.getDate():null,i=t?t.getMonth():null,o=t?t.getFullYear():null;this.fg.setValue({year:o,month:i,day:n}),this.control.touched?this.fg.markAllAsTouched():this.fg.markAsUntouched()}setDisabledState(e){this.disabled=e}onTouched(){this.fg.markAllAsTouched(),this.updateFieldsValueAndValidity(),this._onTouched()}get _dateValue(){const{day:e,month:t,year:n}=this.fg.getRawValue();if(Number.isInteger(e)&&Number.isInteger(t)&&Number.isInteger(n))return new Date(n,t,e).toISOString()}}return e.globalInstanceCounter=0,e.\u0275fac=function(t){return new(t||e)(i.Tb(o.h),i.Tb(i.u),i.Tb(u.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["vb-multi-input-date"]],inputs:{label:"label",floatLabel:"floatLabel",required:"required",isTouched:"isTouched",minDate:"minDate",maxDate:"maxDate",id:"id",name:"name",searchable:"searchable",customErrorMapping:"customErrorMapping",forceErrorState:"forceErrorState"},outputs:{midChange:"midChange"},features:[i.Gb([{provide:o.s,useExisting:Object(i.Y)(()=>e),multi:!0},{provide:o.r,useExisting:e,multi:!0}]),i.Fb],decls:3,vars:3,consts:[[1,"w-100","container-fluid","px-0","position-relative",3,"id"],[4,"ngIf"],["class","row pb-5",3,"ngClass",4,"ngIf"],[1,"row"],[1,"col-4"],[1,"viva-input-field","no-icon","viva-select","w-100"],[1,"mdi-options",3,"inputAttrs","searchable","clearable","placeholder","formControl","items","bindLabel","bindValue","required","close"],[1,"row","pb-5",3,"ngClass"],[1,"col-12"],[1,"small-title","opacity-8"],[1,"viva-input-field","no-icon","w-100"],["type","text","disabled","",3,"name","id","placeholder","value"],[1,"lock"],[1,"fas","fa-lock-alt"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Qc(1,b,24,52,"ng-container",1),i.Qc(2,v,9,10,"ng-container",1),i.Yb()),2&e&&(i.sc("id",t.id),i.Hb(1),i.sc("ngIf",!t.disabled),i.Hb(1),i.sc("ngIf",t.disabled))},directives:[d.u,h.a,o.u,o.j,o.F,d.r],pipes:[p.a,d.I,d.f],styles:[".col-4[_ngcontent-%COMP%]:not(:first-child){padding-left:4px!important}.col-4[_ngcontent-%COMP%]:not(:last-child){padding-right:4px!important}.float-label[_ngcontent-%COMP%]{position:absolute;left:0;top:-29px}"]}),e})()},pshJ:function(e,t,n){"use strict";t.isFunction=function(e){return"function"==typeof e}},pxpQ:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var i=n("7o/Q"),o=n("WMd4");function r(e,t=0){return function(n){return n.lift(new s(e,t))}}class s{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new a(e,this.scheduler,this.delay))}}class a extends i.a{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(e,this.destination)))}_next(e){this.scheduleMessage(o.a.createNext(e))}_error(e){this.scheduleMessage(o.a.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(o.a.createComplete()),this.unsubscribe()}}class c{constructor(e,t){this.notification=e,this.destination=t}}},"q/KQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("mrSG"),o=n("9Fhk"),r=n("fXoL"),s=n("jtHE"),a=n("AytR"),c=n("LYOT");let l=(()=>{class e{constructor(e){this.contentful=e,this.$isReady=new s.a(1),this.staticImagesMap=new Map,this.init()}init(){this.getStaticImages().then(()=>{this.setReady()})}getStaticImages(){var e;return Object(i.a)(this,void 0,void 0,(function*(){try{const t=yield this.contentful.getEntry("61ElFIOdjbrL6qWYGc7Qng");((null===(e=null==t?void 0:t.fields)||void 0===e?void 0:e.mediaItems)||[]).filter(e=>{var t,n,i;return!!(null===(t=null==e?void 0:e.fields)||void 0===t?void 0:t.title)&&!!(null===(i=null===(n=e.fields)||void 0===n?void 0:n.file)||void 0===i?void 0:i.url)}).map(e=>({id:e.fields.title.toUpperCase(),url:e.fields.file.url})).forEach(e=>{this.staticImagesMap.set(e.id,e.url)})}catch(t){a.g.production||console.error("::CMSStaticImagesServiceInit::",t)}}))}setReady(){this.$isReady.next(),this.$isReady.complete()}get ready(){return this.$isReady.asObservable().toPromise()}getStaticImageEntry(e){const t=this.staticImagesMap.get(e);return a.g.production||t||console.warn("::CMSStaticImages::","Image with ID: "+e+" not found!"),this.staticImagesMap.get(e)}}return e.\u0275fac=function(t){return new(t||e)(r.dc(c.a))},e.\u0275prov=r.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),u=(()=>{class e{constructor(e){this.staticImgSvc=e,this.prevCodeValue="",this.imgUrl=o.b}transform(e){return e||"string"==typeof e?(this.prevCodeValue===e||(this.prevCodeValue=e,this.imgUrl=o.b,this.getImgUrl(e)),this.imgUrl):this.imgUrl}getImgUrl(e){return Object(i.a)(this,void 0,void 0,(function*(){yield this.staticImgSvc.ready,this.imgUrl=this.staticImgSvc.getStaticImageEntry(e)||o.b}))}}return e.\u0275fac=function(t){return new(t||e)(r.Tb(l))},e.\u0275pipe=r.Sb({name:"cmsStaticImage",type:e,pure:!1}),e})()},qNo2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ofXK"),o=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})()},qZTm:function(e,t,n){var i=n("fR/l"),o=n("MvSz"),r=n("7GkX");e.exports=function(e){return i(e,r,o)}},qcmc:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("mrSG"),o=n("jtHE"),r=n("AytR"),s=n("fXoL"),a=n("LYOT");let c=(()=>{class e{constructor(e){this.contentfulService=e,this.ctaMap=new Map,this.$serviceReady=new o.a(1),this.load()}load(){return new Promise((e,t)=>{try{this.ctaMap.size?(e(),this.$serviceReady.closed||(this.$serviceReady.next(),this.$serviceReady.complete())):Promise.all([this.getCtas(),this.getMaintenanceCtas()]).then(()=>{e(),this.$serviceReady.closed||(this.$serviceReady.next(),this.$serviceReady.complete())})}catch(n){t(n)}})}getCtas(){return Object(i.a)(this,void 0,void 0,(function*(){const e=(yield this.contentfulService.getEntries({include:3,select:"sys.id,fields","sys.id":"58YjacSDovjaMTTm3iWGgB"})).items.map(e=>e.fields)[0];this.addCtasToMap(e.items)}))}addCtasToMap(e){if(e&&e.length&&Array.isArray(e)){const t=new Map;e.forEach(e=>{t.set(e.fields.entryName,e.fields)}),this.ctaMap=t}}get ready(){return this.$serviceReady.asObservable().toPromise()}getCta(e){const t=this.ctaMap.get(e);return t||r.g.production||console.warn("CMSStatcisCtas: Code for '"+e+"' was not found."),t||void 0}getMaintenanceCtas(){return Object(i.a)(this,void 0,void 0,(function*(){const e=(yield this.contentfulService.getEntries({include:3,content_type:"itemsGroup","fields.code":"ERROR_CTA"})).items.map(e=>e.fields)[0];(null==e?void 0:e.items)&&(null==e?void 0:e.items.length)&&Array.isArray(null==e?void 0:e.items)&&(this.maintenanceCtas=null==e?void 0:e.items.map(e=>null==e?void 0:e.fields))}))}getMaintenanceCtasList(){return this.maintenanceCtas&&this.maintenanceCtas.length||r.g.production||console.warn("CMSStatcisCtas: CTAs for Maintenance Page were not found."),this.maintenanceCtas||[]}}return e.\u0275fac=function(t){return new(t||e)(s.dc(a.a))},e.\u0275prov=s.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},qgXg:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("3N8a");class o extends i.a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}var r=n("IjjT");class s extends r.a{}const a=new s(o)},qo0r:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var i=n("3Pt+"),o=n("tyNb"),r=n("RRjW"),s=n("PxKc"),a=n("rNvz"),c=n("AytR"),l=n("fXoL"),u=n("FonL"),d=n("GEJx"),h=n("uHNT"),p=n("Wdig"),g=n("ofXK"),f=n("KC5F"),m=n("Q+ex"),b=n("9O1C"),v=n("VXoX"),y=n("4nN9");function _(e,t){if(1&e&&(l.Zb(0,"div",23),l.Ub(1,"app-flight-alert",24),l.Yb()),2&e){const e=l.jc();l.Hb(1),l.sc("alertData",e.alertData)("noClose",!0)("noMargin",!0)}}function C(e,t){if(1&e&&(l.Zb(0,"small",25),l.Sc(1),l.kc(2,"cmsTranslate"),l.Ub(3,"br"),l.Yb()),2&e){const e=t.$implicit,n=l.jc();l.Hb(1),l.Uc(" ",l.lc(2,1,n.errorCodes.pnr[e]),"")}}function S(e,t){if(1&e&&(l.Zb(0,"small",25),l.Sc(1),l.kc(2,"cmsTranslate"),l.Ub(3,"br"),l.Yb()),2&e){const e=t.$implicit,n=l.jc();l.Hb(1),l.Uc(" ",l.lc(2,1,n.errorCodes.lastName[e]),"")}}function O(e,t){1&e&&l.Vb(0)}function T(e,t){if(1&e&&(l.Zb(0,"div",26),l.Qc(1,O,1,0,"ng-container",27),l.Yb()),2&e){l.jc();const e=l.Ec(40);l.Hb(1),l.sc("ngTemplateOutlet",e)}}function w(e,t){if(1&e){const e=l.ac();l.Zb(0,"div",30),l.Zb(1,"button",31),l.hc("click",(function(){return l.Hc(e),l.jc(3).onLoginIntent()})),l.Zb(2,"span",32),l.Sc(3),l.kc(4,"cmsTranslate"),l.Yb(),l.Yb(),l.Yb()}2&e&&(l.Hb(3),l.Tc(l.lc(4,1,"HEADER_MANAGE_ACTION_USERACCOUNT")))}function k(e,t){if(1&e&&(l.Zb(0,"div",6),l.Qc(1,w,5,3,"div",29),l.Yb()),2&e){const e=l.jc(2);l.sc("ngClass",e.hasReservation?"col-xl-12":"col-xl-6"),l.Hb(1),l.sc("ngIf",!e.landingPage)}}function A(e,t){1&e&&l.Vb(0)}function E(e,t){if(1&e&&(l.Zb(0,"div",5),l.Qc(1,k,2,2,"div",28),l.Qc(2,A,1,0,"ng-container",27),l.Yb()),2&e){const e=l.jc(),t=l.Ec(36);l.Hb(1),l.sc("ngIf",!e.isLoggedIn),l.Hb(1),l.sc("ngTemplateOutlet",t)}}function M(e,t){1&e&&l.Ub(0,"div",35)}function P(e,t){1&e&&l.Vb(0)}function D(e,t){if(1&e&&(l.Zb(0,"div",33),l.Qc(1,M,1,0,"div",34),l.Qc(2,P,1,0,"ng-container",27),l.Yb()),2&e){const e=l.jc(),t=l.Ec(38);l.Hb(1),l.sc("ngIf",!(e.hasReservation||e.isLoggedIn)),l.Hb(1),l.sc("ngTemplateOutlet",t)}}const x=function(e,t){return{loading:e,"mb-1":t}};function I(e,t){if(1&e&&(l.Zb(0,"div",6),l.Zb(1,"button",36),l.Zb(2,"span",37),l.Sc(3),l.kc(4,"cmsTranslate"),l.Yb(),l.Yb(),l.Yb()),2&e){const e=l.jc();l.sc("ngClass",e.hasReservation?"col-xl-12":e.oneLineStyle?"col-xl-12 mt-10 mt-lg-0":"col-xl-6"),l.Hb(1),l.sc("disabled",e.isLoading)("ngClass",l.wc(6,x,e.isLoading,e.landingPage)),l.Hb(2),l.Uc(" ",l.lc(4,4,"GLOBAL_ACTION_SEARCH")," ")}}function L(e,t){if(1&e&&(l.Zb(0,"app-call-to-action",40),l.Zb(1,"span",41),l.Sc(2),l.Yb(),l.Yb()),2&e){const e=t.ngIf;l.sc("callToAction",e),l.Hb(2),l.Tc(e.text)}}function R(e,t){if(1&e&&(l.Zb(0,"div",38),l.Qc(1,L,3,2,"app-call-to-action",39),l.kc(2,"cmsStaticCtas"),l.Yb()),2&e){const e=l.jc();l.sc("ngClass",e.hasReservation?"col-xl-12":e.oneLineStyle?"col-xl-12 mt-10":"col-xl-6"),l.Hb(1),l.sc("ngIf",l.lc(2,2,"GLOBAL_ACTION_CANTFINDRESERVATION"))}}function N(e,t){1&e&&l.Vb(0)}function j(e,t){1&e&&l.Vb(0)}function B(e,t){if(1&e&&(l.Zb(0,"div",1),l.Qc(1,N,1,0,"ng-container",27),l.Qc(2,j,1,0,"ng-container",27),l.Yb()),2&e){l.jc();const e=l.Ec(36),t=l.Ec(38);l.Hb(1),l.sc("ngTemplateOutlet",e),l.Hb(1),l.sc("ngTemplateOutlet",t)}}const F=function(e){return{"mb-xl-0 mb-10":e}};let H=(()=>{class e{constructor(e,t,n,i,o,r,s,a){this.loginSb=e,this.fb=t,this.bookingApi=n,this.alertsSvc=i,this.router=o,this.route=r,this.datalayerCheckout=s,this.redirectMmbCheckInSvc=a,this.landingPage=!1,this.oneLineStyle=!1,this.isLoading=!1,this.errorCodes={pnr:{required:"BOOKER_ERROR_FIELD-REQUIRED",pattern:"ERROR_PNR_PATTERN",minlength:"ERROR_PNR_MIN",maxlength:"ERROR_PNR_MAX"},lastName:{required:"BOOKER_ERROR_FIELD-REQUIRED",pattern:"BOOKER_ERROR_NAME-PATTERN",minlength:"BOOKER_ERROR_MINIMUM-LASTNAME",maxlength:"ERROR_MAXIMUM_LASTNAME32"}},this.createFormGroup(),this.prefillFromQueryParams()}ngOnInit(){}onLoginIntent(){this.loginSb.openModal()}createFormGroup(){this.formGroup=this.fb.group({pnr:this.fb.control("",[i.I.required,i.I.pattern("^[a-zA-Z0-9]+"),i.I.minLength(6),i.I.maxLength(6)]),lastName:this.fb.control("",[i.I.required,i.I.pattern("^[a-zA-Z\xf1\xd1\xe1\xc1\xe9\xc9\xed\xcd\xf3\xd3\xfa\xda '-]+"),i.I.minLength(1),i.I.maxLength(32)])})}onReservationSearchExt(){this.formGroup.markAllAsTouched(),!this.isLoading&&this.formGroup.valid&&(this.setDisplayAlert(void 0),this.isLoading=!0,this.bookingApi.getFullBooking(this.formGroup.get("pnr").value.toUpperCase(),this.formGroup.get("lastName").value).subscribe(e=>{var t;if(e.data&&this.hasValidData(e.data)){if(this.redirectMmbCheckInSvc.checkRedirectTo(a.b.MMB_Landing,e.data,!1))return;const n=this.getBookingParams(e.data),i=this.route.snapshot.queryParamMap;let r=["manage","trip-details"];switch(this.flowType){case s.b.CheckIn:r=["check-in"];break;case s.b.Irop:r=["irop","help-center"]}if(this.landingPage&&i.has("redirect")){r=[];const e=this.router.parseUrl(i.get("redirect")),s=null===(t=e.root.children[o.f])||void 0===t?void 0:t.segments;s.length&&s.forEach(e=>{r.push(e.path)}),e.queryParams.pnr=n.pnr,e.queryParams.lastName=n.lastName,this.router.navigate(r,{queryParams:e.queryParams})}else this.landingPage||this.datalayerCheckout.clickSearchReservation(this.formGroup.get("pnr").value.toUpperCase(),!0),this.router.navigate(r,{queryParams:{pnr:n.pnr,lastName:n.lastName}})}else c.g.production||console.error("::BookingSearch::","Booking doesn't have the necessary data to generate external link!"),this.alertsSvc.ready.then(()=>{this.setDisplayAlert(this.alertsSvc.getAlert(r.b.INVALID_BOOKING_PARAMS))}),this.isLoading=!1},e=>{var t;this.landingPage||this.datalayerCheckout.clickSearchReservation(this.formGroup.get("pnr").value.toUpperCase(),!1),(null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.code)===r.b.INVALID_BOOKING_PARAMS&&this.alertsSvc.ready.then(()=>{this.setDisplayAlert(this.alertsSvc.getAlert(r.b.INVALID_BOOKING_PARAMS))}),this.isLoading=!1}))}hasValidData(e){var t;const n=null===(t=e.passengers)||void 0===t?void 0:t[0];return!!e.pnr&&!!(null==n?void 0:n.lastName)}getBookingParams(e){var t;const n=null===(t=e.passengers)||void 0===t?void 0:t[0];return{pnr:e.pnr,lastName:n.lastName}}getFieldErrors(e){return this.formGroup.get(e).invalid&&this.formGroup.get(e).touched?Object.keys(this.formGroup.get(e).errors):null}setDisplayAlert(e){this.alertData=e}prefillFromQueryParams(){const e=this.route.snapshot.queryParamMap;e.has("pnr")&&this.formGroup.get("pnr").patchValue(e.get("pnr"))}}return e.\u0275fac=function(t){return new(t||e)(l.Tb(u.a),l.Tb(i.h),l.Tb(d.a),l.Tb(h.a),l.Tb(o.g),l.Tb(o.a),l.Tb(p.a),l.Tb(a.a))},e.\u0275cmp=l.Nb({type:e,selectors:[["app-reservation-search-form"]],inputs:{isLoggedIn:"isLoggedIn",hasReservation:"hasReservation",landingPage:"landingPage",flowType:"flowType",oneLineStyle:"oneLineStyle"},decls:41,vars:27,consts:[[1,"container-fluid","px-0","reservation-form",3,"formGroup","submit"],[1,"row"],[1,"col-xl-12"],[1,"form-title"],["class","pb-20",4,"ngIf"],[1,"row","mb-20"],[3,"ngClass"],[1,"viva-input-field",3,"ngClass"],["id","pnr","name","pnr","type","text","formControlName","pnr","required","","maxlength","8","appNoSpecialCharacters","",1,"text-uppercase",3,"placeholder"],[1,"fas","fa-sticky-note"],[1,"divider"],[1,"valid"],[1,"fas","fa-check"],["class","viva-input-field-error",4,"ngFor","ngForOf"],[1,"viva-input-field"],["id","last-name","name","last-name","formControlName","lastName","type","text","required","",3,"placeholder"],[1,"fas","fa-user"],["class","col-lg-4",4,"ngIf"],["class","row mb-20",4,"ngIf"],["class","row help-link-margin",4,"ngIf"],["searchBtn",""],["helpLink",""],["searchColumn",""],[1,"pb-20"],[3,"alertData","noClose","noMargin"],[1,"viva-input-field-error"],[1,"col-lg-4"],[4,"ngTemplateOutlet"],[3,"ngClass",4,"ngIf"],["class","d-flex flex-row justify-content-center align-items-center",4,"ngIf"],[1,"d-flex","flex-row","justify-content-center","align-items-center"],["type","button",1,"viva-btn","normal","mx-10","login-button",3,"click"],[1,"title"],[1,"row","help-link-margin"],["class","col-xl-6",4,"ngIf"],[1,"col-xl-6"],["type","submit",1,"viva-btn","big","light","w-100",3,"disabled","ngClass"],[1,"content","justify-content-center"],[1,"help-link",3,"ngClass"],["ctaClass","text-link",3,"callToAction",4,"ngIf"],["ctaClass","text-link",3,"callToAction"],[1,"regular-text"]],template:function(e,t){1&e&&(l.Zb(0,"form",0),l.hc("submit",(function(){return t.onReservationSearchExt()})),l.Zb(1,"div",1),l.Zb(2,"div",2),l.Zb(3,"h4",3),l.Sc(4),l.kc(5,"cmsTranslate"),l.Yb(),l.Qc(6,_,2,3,"div",4),l.Yb(),l.Yb(),l.Zb(7,"div",5),l.Zb(8,"div",6),l.Zb(9,"div",7),l.Ub(10,"input",8),l.kc(11,"cmsTranslate"),l.Ub(12,"i",9),l.Zb(13,"label"),l.Sc(14),l.kc(15,"cmsTranslate"),l.Yb(),l.Ub(16,"div",10),l.Zb(17,"div",11),l.Ub(18,"i",12),l.Yb(),l.Yb(),l.Qc(19,C,4,3,"small",13),l.Yb(),l.Zb(20,"div",6),l.Zb(21,"div",14),l.Ub(22,"input",15),l.kc(23,"cmsTranslate"),l.Ub(24,"i",16),l.Zb(25,"label"),l.Sc(26),l.kc(27,"cmsTranslate"),l.Yb(),l.Ub(28,"div",10),l.Zb(29,"div",11),l.Ub(30,"i",12),l.Yb(),l.Yb(),l.Qc(31,S,4,3,"small",13),l.Yb(),l.Qc(32,T,2,1,"div",17),l.Yb(),l.Qc(33,E,3,2,"div",18),l.Qc(34,D,3,2,"div",19),l.Yb(),l.Qc(35,I,5,9,"ng-template",null,20,l.Rc),l.Qc(37,R,3,4,"ng-template",null,21,l.Rc),l.Qc(39,B,3,2,"ng-template",null,22,l.Rc)),2&e&&(l.sc("formGroup",t.formGroup),l.Hb(4),l.Uc(" ",l.lc(5,15,"HEADER_MANAGE_FINDBOOKING-TITLE")," "),l.Hb(2),l.sc("ngIf",t.alertData),l.Hb(2),l.sc("ngClass",t.hasReservation?"col-xl-12 mb-10":t.oneLineStyle?"col-lg-4":"col-xl-6"),l.Hb(1),l.sc("ngClass",l.vc(25,F,t.landingPage)),l.Hb(1),l.sc("placeholder",l.lc(11,17,"GLOBAL_LABEL_RESERVATIONCODE-PLACEHOLDER")),l.Hb(4),l.Uc("",l.lc(15,19,"GLOBAL_LABEL_RESERVATIONCODE")," "),l.Hb(5),l.sc("ngForOf",t.getFieldErrors("pnr")),l.Hb(1),l.sc("ngClass",t.hasReservation?"col-xl-12":t.oneLineStyle?"col-lg-4":"col-xl-6"),l.Hb(2),l.tc("placeholder",l.lc(23,21,"GLOBAL_LABEL_LASTNAMES-PLACEHOLDERS")),l.Hb(4),l.Tc(l.lc(27,23,"GLOBAL_LABEL_LASTNAME-RESERVATION")),l.Hb(5),l.sc("ngForOf",t.getFieldErrors("lastName")),l.Hb(1),l.sc("ngIf",t.oneLineStyle),l.Hb(1),l.sc("ngIf",!t.oneLineStyle),l.Hb(1),l.sc("ngIf",!t.oneLineStyle))},directives:[i.K,i.v,i.m,g.u,g.r,i.d,i.u,i.k,i.F,i.p,f.a,g.t,m.a,g.B,b.a],pipes:[v.a,y.a],styles:[".reservation-form[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:22px;line-height:24px}.reservation-form[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{height:54px}.reservation-form[_ngcontent-%COMP%]   .help-link[_ngcontent-%COMP%]{height:19px;text-align:center}.reservation-form[_ngcontent-%COMP%]   .help-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;line-height:21px;letter-spacing:normal}.reservation-form[_ngcontent-%COMP%]   .help-link-margin[_ngcontent-%COMP%]{margin-top:-12px}"]}),e})()},quSY:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("DH7j"),o=n("XoHu"),r=n("n6bG");const s=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let a=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(Object(r.a)(a))try{a.call(this)}catch(u){t=u instanceof s?c(u.errors):[u]}if(Object(i.a)(l)){let e=-1,n=l.length;for(;++e<n;){const n=l[e];if(Object(o.a)(n))try{n.unsubscribe()}catch(u){t=t||[],u instanceof s?t=t.concat(c(u.errors)):t.push(u)}}}if(t)throw new s(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var t;return e.EMPTY=((t=new e).closed=!0,t),e})();function c(e){return e.reduce((e,t)=>e.concat(t instanceof s?t.errors:t),[])}},r8Ls:function(e,t,n){"use strict";try{self["workbox:window:5.1.4"]&&_()}catch(i){}},rNvz:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var i=n("ofXK"),o=n("fXoL"),r=n("tyNb"),s=n("pLZG"),a=n("IzEk"),c=n("AytR"),l=n("RbsG"),u=n("BifP"),d=n("kh7C"),h=n("CJ36"),p=n("FonL"),g=n("imvL"),f=n("JK/P");let m=(()=>{class e{constructor(e,t,n,o,l,u,d,h,p,g){this.cmsConfig=e,this.router=t,this.utilsSvc=n,this.locale=o,this.route=l,this.platformId=u,this.document=d,this.loginSvc=h,this.authSvc=p,this.modalSvc=g,this.redirectDictionary={es:{[b.CheckIn_Landing]:"/mx/mi-vuelo/pase-de-abordar",[b.CheckIn_Confirmation]:"/mx/mi-vuelo/detalles-de-mi-reservacion",[b.MMB_Landing]:"/mx/mi-vuelo/detalles-de-mi-reservacion",[b.MMB_Seats]:"/mx/mi-vuelo/seleccione-sus-asientos",[b.MMB_Baggage]:"/mx/mi-vuelo/add-baggage",[b.MMB_Extras]:"/mx/mi-vuelo/equipaje-adicional",[b.MMB_Confirmation]:"/mx/mi-vuelo/detalles-de-mi-reservacion",[b.MMB_ChangeName]:"/mx/mi-vuelo/cambiar-nombres",[b.MMB_PayBooking]:"/mx/mi-vuelo/pagar-mi-reservacion",[b.MMB_AddPassengerDetails]:"/mx/mi-vuelo/editar-informacion-del-pasajero",[b.MMB_ChangeFlight]:"/mx/mi-vuelo/cambios-a-mi-reservacion",[b.MMB_VivaBusTicket]:"/mx/mi-vuelo/vivabus"},en:{[b.CheckIn_Landing]:"/en/my-flight/print-boarding-pass",[b.CheckIn_Confirmation]:"/en/my-flight/my-booking",[b.MMB_Landing]:"/en/my-flight/my-booking",[b.MMB_Seats]:"/en/my-flight/select-seats",[b.MMB_Baggage]:"/en/my-flight/add-baggage",[b.MMB_Extras]:"/en/my-flight/add-extras",[b.MMB_Confirmation]:"/en/my-flight/my-booking",[b.MMB_ChangeName]:"/en/my-flight/change-my-name",[b.MMB_PayBooking]:"/en/my-flight/pay-booking",[b.MMB_AddPassengerDetails]:"/en/my-flight/edit-passenger-info",[b.MMB_ChangeFlight]:"/en/my-flight/change-my-name",[b.MMB_VivaBusTicket]:"/mx/mi-vuelo/vivabus"}},this.IGNORE_REDIRECT_MMB_CKN=c.g.cacheKeys.IGNORE_REDIRECT_MMB_CKN,this.router.events.pipe(Object(s.a)(e=>e instanceof r.c),Object(a.a)(1)).toPromise().then(e=>{this.route.snapshot.queryParamMap.has("bypass")&&Object(i.L)(this.platformId)&&!sessionStorage.getItem(this.IGNORE_REDIRECT_MMB_CKN)&&sessionStorage.setItem(this.IGNORE_REDIRECT_MMB_CKN,"true")})}checkRedirectTo(e,t,n=!0){if(sessionStorage.getItem(this.IGNORE_REDIRECT_MMB_CKN))return!1;const i={locator:void 0,email:void 0};let o=!1;if(t&&(i.locator=t.pnr,i.email=encodeURIComponent(t.contacts[0].email),o=this.resolveRedirectFromRule(t)),this.cmsConfig._cmsConfig.globalSettings.mmbCheckInRedirectFlags[this.getGlobalSection(e)]||this.cmsConfig._cmsConfig.globalSettings.mmbCheckInRedirectFlags[e]||o){const t=this.resolveURL(e,i);return n?this.router.navigate(["redirect"],{state:{toUrl:t}}):this.document.location.href=t,!0}return!1}resolveRedirectFromRule(e){var t;const n=e.rules.find(e=>e.type===l.g.DisplayBusTicket);return!!n&&!(null==n?void 0:n.isEnabled)&&!!(null===(t=null==n?void 0:n.details)||void 0===t?void 0:t.find(e=>"UnableToAccessPWA"===e.code))}getGlobalSection(e){return e.toString().includes("mmb")?"mmbGlobal":"cknGlobal"}resolveURL(e,t){const n=this.locale.getAppLocale().split("-")[0],i=c.b+(this.redirectDictionary[n][e]||this.redirectDictionary.es[b.MMB_Landing]);return t&&t.email&&t.locator?i+`?locator=${t.locator}&email=${t.email}`:i}resolveRedirectSource(e){var t;const n=null===(t=this.router.parseUrl(e).root.children[r.f])||void 0===t?void 0:t.segments;if(this.utilsSvc.isInsideSegment(n,"check-in"))return this.utilsSvc.isInsideSegment(n,"confirmation")?b.CheckIn_Confirmation:b.CheckIn_Landing;if(this.utilsSvc.isInsideSegment(n,"manage")){if(this.utilsSvc.isInsideSegment(n,"seats"))return b.MMB_Seats;if(this.utilsSvc.isInsideSegment(n,"baggage"))return b.MMB_Baggage;if(this.utilsSvc.isInsideSegment(n,"extras"))return b.MMB_Extras;if(this.utilsSvc.isInsideSegment(n,"review"))return b.MMB_PayBooking;if(this.utilsSvc.isInsideSegment(n,"confirmation"))return b.MMB_Confirmation;if(this.utilsSvc.isInsideSegment(n,"passengers"))return b.MMB_ChangeName;if(this.utilsSvc.isInsideSegment(n,"journeys")||this.utilsSvc.isInsideSegment(n,"options"))return b.MMB_ChangeFlight}return b.MMB_Landing}checkLoginRequiredRule(e,t){if(e){if(this.authSvc.isLoggedIn)return this.modalSvc.open("change-user-modal"),!0;let n=null;switch(e.code){case l.n.LoginRequiredAgency:n="Agency";break;case l.n.LoginRequiredEnterprise:n="Enterprise";break;case l.n.LoginRequiredStaff:n="Staff"}return this.router.navigate([],{relativeTo:this.route,queryParams:{loginType:n,bookingRule:t},queryParamsHandling:"merge",skipLocationChange:!0}).finally(()=>{this.loginSvc.openModal()}),!0}return!1}checkRequiredActionRule(e,t,n=!1){return!!e&&("DisabledForIropEvent"===(null==e?void 0:e.code)&&n?(this.modalSvc.open("irop-incidence-modal"),!0):this.checkLoginRequiredRule(e,t))}showIropIncidenceModal(e){this.utilsSvc.checkBookingAvailability(e,l.g.NoIropRedirect,!0)||this.utilsSvc.checkBookingAvailability(e,l.g.KeepFlightSelected,!1)||this.modalSvc.open("irop-incidence-modal")}}return e.\u0275fac=function(t){return new(t||e)(o.dc(u.a),o.dc(r.g),o.dc(d.a),o.dc(h.a),o.dc(r.a),o.dc(o.G),o.dc(i.e),o.dc(p.a),o.dc(g.a),o.dc(f.a))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var b=function(e){return e.CheckIn_Landing="cknLanding",e.CheckIn_Confirmation="cknConfirmation",e.MMB_Landing="mmbLanding",e.MMB_Seats="mmbSeats",e.MMB_Baggage="mmbBaggage",e.MMB_Extras="mmbExtras",e.MMB_Confirmation="mmbConfirmation",e.MMB_ChangeName="mmbChangeName",e.MMB_PayBooking="mmbPayBooking",e.MMB_AddPassengerDetails="mmbAddPassengerDetails",e.MMB_ChangeFlight="mmbChangeFlight",e.MMB_VivaBusTicket="mmbVivaBusTicket",e}({})},rOEr:function(e,t,n){var i;function o(e){function n(){if(n.enabled){var e=n,o=+new Date,r=o-(i||o);e.diff=r,e.prev=i,e.curr=o,i=o;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,i){if("%%"===n)return n;c++;var o=t.formatters[i];return"function"==typeof o&&(n=o.call(e,s[c]),s.splice(c,1),c--),n})),t.formatArgs.call(e,s);var l=n.log||t.log||console.log.bind(console);l.apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=o.debug=o.default=o).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length,o=0;o<i;o++)n[o]&&("-"===(e=n[o].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n("im7C"),t.names=[],t.skips=[],t.formatters={}},rRMn:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),o=n("egL7");let r=(()=>{class e{constructor(e){this.gtmService=e}clickEditFlightOptions(){this.gtmService.pushTag({event:"ev_ux_flight_options",category:"flight_options",action:"click_edit_flight_options"})}clickToggleView(){this.gtmService.pushTag({event:"ev_ux_flight_options",category:"flight_options",action:"click_toggle_view",label:"calendar"})}flightCalendarView(){this.gtmService.pushTag({event:"ev_ux_shopping_calendar_view",category:"ux_shopping",action:"click_calendar_view"})}clickMoreDatesCarrousel(e){const t={event:"ev_ux_flight_options",category:window.location.href.includes("/manage")?"ux_flight_options_mmb":"flight_options",action:"click_more_dates_carrousel",label:e};this.gtmService.pushTag(t)}clickSortOptions(){const e={event:"ev_ux_flight_options",category:window.location.href.includes("/manage")?"ux_flight_options_mmb":"flight_options",action:"click_sort_options"};this.gtmService.pushTag(e)}selectSortOptions(e){const t={event:"ev_ux_flight_options",category:window.location.href.includes("/manage")?"ux_flight_options_mmb":"flight_options",action:"select_sort_options",label:e};this.gtmService.pushTag(t)}clickFilterOptions(){const e={event:"ev_ux_flight_options",category:window.location.href.includes("/manage")?"ux_flight_options_mmb":"flight_options",action:"click_filter_options"};this.gtmService.pushTag(e)}selectFilterOptions(e){const t={event:"ev_ux_flight_options",category:window.location.href.includes("/manage")?"ux_flight_options_mmb":"flight_options",action:"select_filter_options",label:e};this.gtmService.pushTag(t)}clickVivaFanPriceToggle(e){const t={event:"ev_ux_flight_options",category:window.location.href.includes("/manage")?"ux_flight_options_mmb":"flight_options",action:"click_viva_fan_price_toggle",label:e?"on":"off"};this.gtmService.pushTag(t)}clickFlightDetailToggle(e){const t={event:"ev_ux_flight_options",category:window.location.href.includes("/manage")?"ux_flight_options_mmb":"flight_options",action:"click_flight_detail_toggle",label:e?"on":"off"};this.gtmService.pushTag(t)}clickModalityComparison(){const e={event:"ev_ux_flight_options",category:window.location.href.includes("/manage")?"ux_flight_options_mmb":"flight_options",action:"click_modality_comparison"};this.gtmService.pushTag(e)}clickShareFlights(){const e={event:"ev_ux_flight_options",category:window.location.href.includes("/manage")?"ux_flight_options_mmb":"flight_options",action:"click_share_flights"};this.gtmService.pushTag(e)}selectWhatsappNotifications(){this.gtmService.pushTag({event:"ev_ux_book_passenger",category:"book_passenger",action:"select_whatsapp_notifications"})}selectReceiveOffers(){this.gtmService.pushTag({event:"ev_ux_book_passenger",category:"book_passenger",action:"select_receive_offers"})}selectEmailSuggestions(){this.gtmService.pushTag({event:"ev_ux_book_passenger",category:"book_passenger",action:"select_email_suggestions"})}clickNoSeatSelection(){this.gtmService.pushTag({event:"ev_ux_seat_selection",category:"seat_selection",action:"click_no_seat_selection"})}clickPopupSeatSelection(){this.gtmService.pushTag({event:"ev_ux_seat_selection",category:"seat_selection",action:"click_popup_seat_selection"})}clickPopupNoSeatSelection(){this.gtmService.pushTag({event:"ev_ux_seat_selection",category:"seat_selection",action:"click_popup_no_seat_selection"})}selectDiffCabinToggle(e){this.gtmService.pushTag({event:"ev_ux_extras",category:"extras",action:"select_diff_cabin_toggle",label:e?"on":"off"})}selectDiffCheckinToggle(){this.gtmService.pushTag({event:"ev_ux_extras",category:"extras",action:"select_special_baggage"})}specialBaggageToggle(e){this.gtmService.pushTag({event:"ev_ux_extras",category:"extras",action:"select_diff_checkin_baggage_toggle",label:e?"on":"off"})}clickMoreInfo(e){this.gtmService.pushTag({event:"ev_ux_extras",category:"extras",action:"click_more_info",label:e})}clickTuaPayLater(){this.gtmService.pushTag({event:"ev_ux_payment_review",category:"payment_review",action:"click_tua_pay_later"})}clickTuaPrepay(){this.gtmService.pushTag({event:"ev_ux_payment_review",category:"payment_review",action:"click_tua_prepay"})}clickMoreInfoTua(e){this.gtmService.pushTag({event:"ev_ux_payment_review",category:"payment_review",action:"click_more_info",label:e})}clickPayBankPointsToggle(e){this.gtmService.pushTag({event:"ev_ux_payment_review",category:"payment_review",action:"click_pay_bank_points_toggle",label:e?"off":"on"})}clickPayVivacashPointsToggle(e){this.gtmService.pushTag({event:"ev_ux_payment_review",category:"payment_review",action:"click_pay_vivacash_points_toggle",label:e?"on":"off"})}printConfirmation(){this.gtmService.pushTag({event:"ev_ux_confirmation",category:"confirmation",action:"print_confirmation"})}shareConfirmation(){this.gtmService.pushTag({event:"ev_ux_confirmation",category:"confirmation",action:"share_confirmation"})}gtmContinueWOHotel(e){this.gtmService.pushTag({event:"ux_hotels",category:"ux_booking",action:"click_continue_WOhotel",label:e})}gtmUXHotelDetail(e){this.gtmService.pushTag({event:"ux_hotels",category:"ux_booking",action:"hotel_detail",label:e})}dotersToggle(e){this.gtmService.pushTag({event:"ux_booking",category:"Doters",action:"click_toggle_doters",label:e?"on":"off"})}cardInput(e,t,n,i,o){this.gtmService.pushTag({event:"ev_card_input",category:"payment",action:"card_input",label:e?"valid":"invalid",payment_type:"CardPayment",payment_amount:t,payment_currency_code:n,payment_detail:i,card_bin:o})}viewLoginModal(){this.gtmService.pushTag({event:"ev_ux",category:"profile",action:"modal_login_passengers",label:"view_modal"})}clickLoginModal(e=!0,t=!1){this.gtmService.pushTag({event:"ev_ux",category:"profile",action:"modal_login_passengers",label:e?"click_login":"click_continue_guest",detail:t?"on":"off"})}viewGuestCardModal(e=!1){this.gtmService.pushTag({event:"ev_ux",category:"profile",action:"card_guest_fee",label:e?"view_with_login":"view_as_guest"})}clickGuestCardModal(){this.gtmService.pushTag({event:"ev_ux",category:"profile",action:"card_guest_fee",label:"click_login"})}}return e.\u0275fac=function(t){return new(t||e)(i.dc(o.a))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},rd4S:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("wd/R"),o=n("LRne"),r=n("Kj3r"),s=n("lJxs"),a=n("JIr8");const c=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/;class l{static requiredControlNotEmpty(e){return t=>e.value&&!t.value?{required:!0}:null}static dateVal(e,t){return n=>{if(n.value){const o=i(n.value);if("min"===t){if(o.isBefore(e))return{minDate:!0}}else if(o.isAfter(e))return{maxDate:!0}}return null}}static minDate(e){return l.dateVal(e,"min")}static maxDate(e){return l.dateVal(e,"max")}static validateEmailAccount(e,t){return n=>n.value?(e.disable(),t.validateUserEmail(n.value).pipe(Object(r.a)(300),Object(s.a)(t=>(e.enable(),t.data.isUsernameAvailable?null:{isUsernameAvailable:!0})),Object(a.a)(()=>(e.enable(),null)))):Object(o.a)(null)}static email(e){return e.value?c.test(e.value)?null:{email:!0}:null}}},rdGu:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));class i{constructor(){this.ip="0.0.0.0",this.type=r.NO_LOCATION}}class o{}var r=function(e){return e.NO_LOCATION="NO_LOCATION",e.IP_LOCATION="IP_LOCATION",e.IP_LOCATION_ERROR="IP_LOCATION_ERROR",e.GEO_LOCATION="GEO_LOCATION",e}({})},rmK9:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"h",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u}));var i=function(e){return e.XX="XX",e.Male="Male",e.Female="Female",e}({});const o={[i.XX]:"GLOBAL_LABEL_GENDER_XX",[i.Male]:"GLOBAL_LABEL_GENDER_MALE",[i.Female]:"GLOBAL_LABEL_GENDER_FEMALE"};var r=function(e){return e.PersonalDetails="PersonalDetails",e.ContactDetails="ContactDetails",e.TravelDocuments="TravelDocuments",e.ChangePassword="ChangePassword",e.Trips="Trips",e.Companions="Companions",e.StoredPayments="StoredPayments",e.FaceId="FaceId",e.VivaFan="VivaFan",e.VivaCash="VivaCash",e.UpcomingTrip="UpcomingTrip",e.RecentBasket="RecentBasket",e.Reports="Reports",e.Doters="Doters",e.MyIdTravel="MyIdTravel",e.VivaGift="VivaGift",e}({}),s=function(e){return e.Profile="Profile",e.VivaCash="VivaCash",e.Loyalty="Loyalty",e}({}),a=function(e){return e.Other="Other",e.Home="Home",e.Work="Work",e.Mobile="Mobile",e.Fax="Fax",e}({}),c=function(e){return e.Google="Google",e.Facebook="Facebook",e}({}),l=function(e){return e.WEBSITE="WEBSITE",e.CSC="CSC",e.MOBILE="MOBILE",e.POS="POS",e.WIFI="WIFI",e.MIGRATED="MIGRATED",e.WEBGUEST="WEBGUEST",e}({}),u=function(e){return e.SsoAuthCode="SsoAuthCode",e.SsoAccessToken="SsoAccessToken",e}({})},s6QE:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("mrSG"),o=n("pLZG"),r=n("IzEk"),s=n("AytR"),a=n("fXoL"),c=n("BifP"),l=n("tyNb"),u=n("imvL"),d=n("ofXK"),h=n("kh7C");let p=(()=>{class e{constructor(e,t,n,i,o){this.csmConfig=e,this.router=t,this.auth=n,this.location=i,this.utilsSvc=o,this.maintenanceMode=this.csmConfig._cmsConfig.globalSettings.maintenanceMode}canLoad(){return new Promise((e,t)=>{if(this.maintenanceMode.site&&!this.skipMaintenanceMode)return this.resolveByAcount(e,t);e(!0)})}checkPath(e,t){return!!(t||this.maintenanceMode)[{manage:"manage",book:"booking",profile:"profile","check-in":"check-in","flight-status":"flight-status",irop:"manage"}[e]]}canActivate(e,t){return new Promise((n,i)=>!this.checkPath(e.url[0].path)||this.skipMaintenanceMode?n(!0):this.resolveByAcount(n,i,e,t))}resolveByAcount(e,t,n,a){this.auth.onSyncDonePromise.then(()=>Object(i.a)(this,void 0,void 0,(function*(){this.auth.isLoggedIn?this.auth.userAccountData$.pipe(Object(o.a)(e=>!!e),Object(r.a)(1)).subscribe(t=>{if(t.affiliations){const i=this.auth.getDebugAffiliation(t);if(this.utilsSvc.isAffiliationValid(i))return e(!0);e(this.navigateKeepingDeeplink(n,a))}}):e(this.navigateKeepingDeeplink(n,a))}))).catch(e=>{s.g.production||console.error(e),t(this.navigateKeepingDeeplink(n,a))})}navigateKeepingDeeplink(e,t){if(!e&&!t)return this.router.navigate(["/maintenance"],{skipLocationChange:!0}),!1;let n=e.firstChild;for(;n.firstChild;)n=n.firstChild;const i=Object.assign(Object.assign({},n.data),{from:t.url,path:e.url[0].path});return this.router.navigate(["maintenance","inline"],{state:i,skipLocationChange:!0}).then(()=>{this.location.replaceState(t.url,"",i)}),!1}get skipMaintenanceMode(){return s.g.appVersion.includes("dev")||s.g.appVersion.includes("local")}}return e.\u0275fac=function(t){return new(t||e)(a.dc(c.a),a.dc(l.g),a.dc(u.a),a.dc(d.o),a.dc(h.a))},e.\u0275prov=a.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},sEf8:function(e,t){e.exports=function(e){return function(t){return e(t)}}},shjB:function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},st0d:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e[e.UNDEFINED=0]="UNDEFINED",e[e.BASKET_INFO=1]="BASKET_INFO",e[e.URL_QUERY_PARAMS=2]="URL_QUERY_PARAMS",e}({})},sxOR:function(e,t,n){"use strict";var i=String.prototype.replace,o=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return i.call(e,o,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},t487:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("mrSG"),o=n("fXoL"),r=n("tk/3"),s=n("AytR"),a=n("UXun"),c=n("vkgz"),l=n("lJxs"),u=n("tS1D"),d=n("ofXK"),h=n("WGbO");let p=(()=>{class e{constructor(e,t,n,i,o){this.http=e,this.document=t,this.platformId=n,this.datalayerChannelSvc=i,this.locale=o,this.customerId=s.g.cludo.customerId,this.apiHost=s.g.cludo.apiHost,this.spanishId=s.g.cludo.spanishId,this.englishId=s.g.cludo.englishId,this.typeDevice="unknown",this.quickLinks$=this.getQuickLinks(this.locale).pipe(Object(a.a)(1))}getSearchResult(e,t){const n=this.getEngineId(t),o=this.getSiteKeyAuthorizationHeader(this.customerId,n),s=(new r.e).set("query",e);this.idgtm=this.datalayerChannelSvc.id,this.typeDevice=this.datalayerChannelSvc.variant;const a={headers:new r.d({Authorization:o,"Content-Type":"application/x-www-form-urlencoded"})};return this.http.post(`${this.apiHost}${this.customerId}/${n}/search`,s.toString(),a).pipe(Object(c.a)(n=>Object(i.a)(this,void 0,void 0,(function*(){const i={sw:e,rc:n.TotalDocument,fquery:n.FixedQuery,rt:n.ResponseTime,qid:n.QueryId,sid:this.idgtm.d,qsid:this.idgtm.s,dt:this.typeDevice};yield this.postQueryLog(i,t)}))))}getAutocompleteArray(e,t){const n=this.getEngineId(t),i=this.getSiteKeyAuthorizationHeader(this.customerId,n),o=(new r.e).set("query",e),s={headers:new r.d({Authorization:i,"Content-Type":"application/x-www-form-urlencoded"})};return this.http.post(`${this.apiHost}${this.customerId}/${n}/autocomplete`,o.toString(),s)}postQueryLog(e,t){const n=this.getEngineId(t);Object(d.L)(this.platformId)&&(e.brl=t,e.sz=window.screen.width+"x"+window.screen.height,e.ua=window.navigator.userAgent,e.refurl=window.location.href,e.refpt=this.document.title,e.hn=window.location.host,e.sid=this.idgtm.d,e.qsid=this.idgtm.s,e.dt=this.typeDevice);const i={headers:new r.d({"Content-Type":"application/json"})};return this.http.post(`${this.apiHost}${this.customerId}/${n}/search/pushstat/querylog`,e,i).toPromise().then(e=>!0).catch(e=>!1)}postClickLog(e,t){const n=this.getEngineId(t);Object(d.L)(this.platformId)&&(e.brl=t,e.ls="searchresult",e.sz=window.screen.width+"x"+window.screen.height,e.ua=window.navigator.userAgent,e.refurl=window.location.href,e.refpt=this.document.title,e.hn=window.location.host,e.sid=this.idgtm.d,e.qsid=this.idgtm.s,e.dt=this.typeDevice);const i={headers:new r.d({"Content-Type":"application/json"})};return this.http.post(`${this.apiHost}${this.customerId}/${n}/search/pushstat/clicklog`,e,i).toPromise().then(e=>!0).catch(e=>!1)}getQuickLinks(e){const t=this.getEngineId(e),n={headers:new r.d({"Content-Type":"application/json"})};return this.http.get(`${this.apiHost}${this.customerId}/${t}/websites/publicsettings`,n).pipe(Object(l.a)(e=>e.quicklinks||[]))}getQuickLinkFromQuery(e){return Object(i.a)(this,void 0,void 0,(function*(){let t=[];try{t=yield this.quickLinks$.pipe(Object(u.a)(5e3)).toPromise()}catch(n){s.g.production||console.error("::CludoService:: QuickLinks Fetch Error:",n),t=[]}if(e&&Array.isArray(t)){const n=t.find(t=>(t.terms||[]).filter(e=>!!e.name).map(e=>e.name.toLowerCase()).includes(e.toLowerCase()));if(n&&n.url)return n}}))}getSiteKeyAuthorizationHeader(e,t){return"SiteKey "+btoa(`${e}:${t}:SearchKey`)}getEngineId(e){return e&&e.toLowerCase().includes("en")?this.englishId:this.spanishId}}return e.\u0275fac=function(t){return new(t||e)(o.dc(r.b),o.dc(d.e),o.dc(o.G),o.dc(h.a),o.dc(o.y))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},tAZD:function(e,t,n){var i,o,r;!function(s){if("object"==typeof e.exports){var a=s(0,t);void 0!==a&&(e.exports=a)}else o=[n,t],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;t.default=["en",[["a","p"],["AM","PM"],n],[["AM","PM"],n,n],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],n,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],n,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",n,"{1} 'at' {0}",n],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}]}))},tMB7:function(e,t,n){var i=n("y1pI");e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},tQ2B:function(e,t,n){"use strict";var i=n("xTJ+"),o=n("Rn+g"),r=n("MLWZ"),s=n("g7np"),a=n("w0Vi"),c=n("OTTw"),l=n("LYNF");e.exports=function(e){return new Promise((function(t,u){var d=e.data,h=e.headers;i.isFormData(d)&&delete h["Content-Type"];var p=new XMLHttpRequest;e.auth&&(h.Authorization="Basic "+btoa((e.auth.username||"")+":"+(e.auth.password||"")));var g=s(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),r(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null;o(t,u,{data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p}),p=null}},p.onabort=function(){p&&(u(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){u(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),u(l(t,e,"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var f=n("eqyj"),m=(e.withCredentials||c(g))&&e.xsrfCookieName?f.read(e.xsrfCookieName):void 0;m&&(h[e.xsrfHeaderName]=m)}if("setRequestHeader"in p&&i.forEach(h,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(b){if("json"!==e.responseType)throw b}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),u(e),p=null)})),void 0===d&&(d=null),p.send(d)}))}},tS1D:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("D0XW");const o=(()=>{function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e})();var r=n("mlxB"),s=n("l7GE"),a=n("ZUHj");class c{constructor(e,t,n,i){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=i}call(e,t){return t.subscribe(new l(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class l extends s.a{constructor(e,t,n,i,o){super(e),this.absoluteTimeout=t,this.waitFor=n,this.withObservable=i,this.scheduler=o,this.action=null,this.scheduleTimeout()}static dispatchTimeout(e){const{withObservable:t}=e;e._unsubscribeAndRecycle(),e.add(Object(a.a)(e,t))}scheduleTimeout(){const{action:e}=this;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(l.dispatchTimeout,this.waitFor,this))}_next(e){this.absoluteTimeout||this.scheduleTimeout(),super._next(e)}_unsubscribe(){this.action=null,this.scheduler=null,this.withObservable=null}}var u=n("z6cu");function d(e,t=i.a){return function(e,t,n=i.a){return i=>{let o=Object(r.a)(e),s=o?+e-n.now():Math.abs(e);return i.lift(new c(s,o,t,n))}}(e,Object(u.a)(new o),t)}},tadb:function(e,t,n){var i=n("Cwc5")(n("Kz5y"),"DataView");e.exports=i},tbfe:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}(n("wd/R"))},tiZS:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n("h/S9");var i=function(e){return e.Merge="Merge",e.Replace="Replace",e.Delete="Delete",e.AddToArray="AddToArray",e}({})},"tk/3":function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return U})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return O}));var i=n("fXoL"),o=n("LRne"),r=n("HDdC"),s=n("bOdf"),a=n("pLZG"),c=n("lJxs"),l=n("ofXK");class u{}class d{}class h{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),i=n.toLowerCase(),o=e.slice(t+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(o):this.headers.set(i,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const i=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof h?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new h;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof h?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===o.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class p{encodeKey(e){return g(e)}encodeValue(e){return g(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function g(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class f{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new p,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const i=e.indexOf("="),[o,r]=-1==i?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,i)),t.decodeValue(e.slice(i+1))],s=n.get(o)||[];s.push(r),n.set(o,s)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new f({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function m(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function b(e){return"undefined"!=typeof Blob&&e instanceof Blob}function v(e){return"undefined"!=typeof FormData&&e instanceof FormData}class y{constructor(e,t,n,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new h),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new f,this.urlWithParams=t}serializeBody(){return null===this.body?null:m(this.body)||b(this.body)||v(this.body)||"string"==typeof this.body?this.body:this.body instanceof f?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||v(this.body)?null:b(this.body)?this.body.type||null:m(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof f?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,r=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(c=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),c)),new y(t,n,o,{params:c,headers:a,reportProgress:s,responseType:i,withCredentials:r})}}const _=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class C{constructor(e,t=200,n="OK"){this.headers=e.headers||new h,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class S extends C{constructor(e={}){super(e),this.type=_.ResponseHeader}clone(e={}){return new S({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class O extends C{constructor(e={}){super(e),this.type=_.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new O({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class T extends C{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function w(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let k=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let i;if(e instanceof y)i=e;else{let o=void 0;o=n.headers instanceof h?n.headers:new h(n.headers);let r=void 0;n.params&&(r=n.params instanceof f?n.params:new f({fromObject:n.params})),i=new y(e,t,void 0!==n.body?n.body:null,{headers:o,params:r,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Object(o.a)(i).pipe(Object(s.a)(e=>this.handler.handle(e)));if(e instanceof y||"events"===n.observe)return r;const l=r.pipe(Object(a.a)(e=>e instanceof O));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return l.pipe(Object(c.a)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return l.pipe(Object(c.a)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return l.pipe(Object(c.a)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return l.pipe(Object(c.a)(e=>e.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new f).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,w(n,t))}post(e,t,n={}){return this.request("POST",e,w(n,t))}put(e,t,n={}){return this.request("PUT",e,w(n,t))}}return e.\u0275fac=function(t){return new(t||e)(i.dc(u))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})();class A{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const E=new i.t("HTTP_INTERCEPTORS");let M=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})();const P=/^\)\]\}',?\n/;class D{}let x=(()=>{class e{constructor(){}build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})(),I=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new r.a(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const i=e.serializeBody();let o=null;const r=()=>{if(null!==o)return o;const t=1223===n.status?204:n.status,i=n.statusText||"OK",r=new h(n.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return o=new S({headers:r,status:t,statusText:i,url:s}),o},s=()=>{let{headers:i,status:o,statusText:s,url:a}=r(),c=null;204!==o&&(c=void 0===n.response?n.responseText:n.response),0===o&&(o=c?200:0);let l=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof c){const e=c;c=c.replace(P,"");try{c=""!==c?JSON.parse(c):null}catch(u){c=e,l&&(l=!1,c={error:u,text:c})}}l?(t.next(new O({body:c,headers:i,status:o,statusText:s,url:a||void 0})),t.complete()):t.error(new T({error:c,headers:i,status:o,statusText:s,url:a||void 0}))},a=e=>{const{url:i}=r(),o=new T({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});t.error(o)};let c=!1;const l=i=>{c||(t.next(r()),c=!0);let o={type:_.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(o.total=i.total),"text"===e.responseType&&n.responseText&&(o.partialText=n.responseText),t.next(o)},u=e=>{let n={type:_.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",l),null!==i&&n.upload&&n.upload.addEventListener("progress",u)),n.send(i),t.next({type:_.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),e.reportProgress&&(n.removeEventListener("progress",l),null!==i&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(i.dc(D))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})();const L=new i.t("XSRF_COOKIE_NAME"),R=new i.t("XSRF_HEADER_NAME");class N{}let j=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(l.R)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(i.dc(l.e),i.dc(i.G),i.dc(L))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})(),B=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(i.dc(N),i.dc(R))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})(),F=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(E,[]);this.chain=e.reduceRight((e,t)=>new A(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(i.dc(d),i.dc(i.u))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})(),H=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:B,useClass:M}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:L,useValue:t.cookieName}:[],t.headerName?{provide:R,useValue:t.headerName}:[]]}}}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},providers:[B,{provide:E,useExisting:B,multi:!0},{provide:N,useClass:j},{provide:L,useValue:"XSRF-TOKEN"},{provide:R,useValue:"X-XSRF-TOKEN"}]}),e})(),U=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},providers:[k,{provide:u,useClass:F},I,{provide:d,useExisting:I},x,{provide:D,useExisting:x}],imports:[[H.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})()},tpaT:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var i=n("fXoL"),o=n("wd/R"),r=n("ofXK"),s=n("hzby"),a=n("pLZG"),c=n("quSY"),l=n("PqYM"),u=n("VXoX");const d=["Symbology"];function h(e,t){1&e&&i.Ub(0,"i",18)}function p(e,t){1&e&&i.Ub(0,"i",19)}function g(e,t){if(1&e&&(i.Zb(0,"span"),i.Sc(1),i.kc(2,"titlecase"),i.Yb()),2&e){const e=i.jc();i.Hb(1),i.Uc(" ",i.lc(2,1,e.chosenDate.startDate.format("ddd, D MMM"))," ")}}function f(e,t){if(1&e&&(i.Zb(0,"span"),i.Sc(1),i.kc(2,"titlecase"),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.Uc(" ",i.lc(2,1,e.chosenDate.endDate.format("ddd, D MMM"))," ")}}function m(e,t){if(1&e&&(i.Zb(0,"div",7),i.Zb(1,"label",8),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Zb(4,"p",9),i.Qc(5,f,3,3,"span",10),i.Yb(),i.Yb()),2&e){const e=i.jc(),t=i.Ec(20);i.Hb(2),i.Tc(i.lc(3,3,"GLOBAL_LABEL_RETURN")),i.Hb(3),i.sc("ngIf",!!e.chosenDate.endDate)("ngIfElse",t)}}function b(e,t){1&e&&(i.Zb(0,"span"),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e&&(i.Hb(1),i.Tc(i.lc(2,1,"BOOKER_LABEL_SELECT-DATE")))}function v(e,t){1&e&&(i.Zb(0,"div",20),i.Zb(1,"div",21,22),i.Zb(3,"div",23),i.Zb(4,"div",24),i.Sc(5,"#"),i.Yb(),i.Zb(6,"div",25),i.Sc(7),i.kc(8,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(9,"div",23),i.Zb(10,"div",26),i.Sc(11,"#"),i.Yb(),i.Zb(12,"div",25),i.Sc(13),i.kc(14,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(15,"div",27),i.Zb(16,"div",28),i.Sc(17,"#"),i.Yb(),i.Zb(18,"div",25),i.Sc(19),i.kc(20,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(7),i.Tc(i.lc(8,3,"BOOKER_SHOW_NON-STOP")),i.Hb(6),i.Tc(i.lc(14,5,"BOOKER_LABEL_ONLY-CONNECTING-FLIGHTS")),i.Hb(6),i.Tc(i.lc(20,7,"BOOKER_LABEL_WITHOUT-AVAILABILITY")))}const y=function(e,t,n){return{active:e,disabled:t,simple:n}},_=function(e,t,n){return{round:e,"w-50":t,active:n}},C=function(e,t){return{round:e,active:t}},S=function(e){return{active:e}},O=function(){return{showWeekNumbers:!1,containerClass:"viva-theme",customTodayClass:"today",preventChangeToNextMonth:!0}};let T=(()=>{class e{constructor(e,t){this.document=e,this.element=t,this.isRoundTrip=!0,this.displayCalendar=!0,this.showToLeft=!1,this.showSymbology=!0,this.departureBookingDates=[],this.returnBookingDates=[],this.selectedDates={startDate:null,endDate:null},this.isLoading=!1,this.selectedDatesChange=new i.p,this.isOpened=new i.p(!1),this.minDate=o().toDate(),this.maxDate=o().add(60,"days").toDate(),this.chosenDate={startDate:null,endDate:null},this.bookingDates=[],this.isMobile=!1,this.startDateChangeSubscription=c.a.EMPTY,this.keepPreviousDatesSelected=!1}clickOutSide(e){var t;if(this.showCalendar){const n=this.document.querySelector(".bs-datepicker.viva-theme .bs-datepicker-container");this.element.nativeElement.contains(e)||!n||n.contains(e)||(null===(t=this.datepicker)||void 0===t||t.hide(),this.closeDatepicker())}}ngOnInit(){window.innerWidth<=720&&(this.isMobile=!0)}ngOnDestroy(){this.unsubscribeStartDateChange()}ngOnChanges(e){var t,n,i;if(e.isRoundTrip&&this.clearChosenDates(),e.departureBookingDates&&(this.setAvailableDates(),this.updateMinMaxDates()),e.forceMinDate||e.forceMaxDate){const{startDate:t,endDate:n}=this.selectedDates||{};(this.isDateInvalidOnMinMaxValues(t,e)||this.isDateInvalidOnMinMaxValues(n,e))&&this.clearChosenDates(),this.updateMinMaxDates()}if(e.returnBookingDates&&this.updateMinMaxDates(),e.selectedDates&&(null===(t=null==e?void 0:e.selectedDates)||void 0===t?void 0:t.currentValue)){const t=e.selectedDates.currentValue.startDate;let n=e.selectedDates.currentValue.endDate;this.isRoundTrip||(n=null),this.chosenDate.startDate=t||null,this.chosenDate.endDate=n||null,this.rangeValue=[t.toDate(),null==n?void 0:n.toDate()],this.keepPreviousDatesSelected=!1}this.keepPreviousDatesSelected&&this.chosenDate&&this.validateDateRange(this.chosenDate)||!1===(null===(n=e.isLoading)||void 0===n?void 0:n.currentValue)&&!0===(null===(i=e.isLoading)||void 0===i?void 0:i.previousValue)&&!this.selectedDates&&this.displayCalendar&&Object(l.a)(200).subscribe(()=>{this.clearChosenDates(),this.openDatepicker()})}change(e){if(e.length&&(null==e?void 0:e.some(e=>!!e))){this.chosenDate.startDate=o(e[0]),this.isRoundTrip&&(this.chosenDate.endDate=o(e[1]));const{startDate:t,endDate:n}=this.chosenDate;return this.selectedDatesChange.emit({startDate:t,endDate:n}),void this.setAvailableDates()}this.selectedDatesChange.emit(void 0)}setAvailableDates(){var e;const t=[];this.chosenDate.startDate&&!this.chosenDate.endDate&&(null===(e=this.returnBookingDates)||void 0===e?void 0:e.length)&&this.isRoundTrip?this.returnBookingDates.forEach(e=>{const n=e.date.toDate();t.push({date:n,classes:e.availableDirectFlights?["direct"]:["connection"]})}):this.departureBookingDates.forEach(e=>{const n=e.date.toDate(),i=e.availableDirectFlights?["direct"]:["connection"];this.isRoundTrip||i.push("one-way"),t.push({date:n,classes:i})}),this.dateCustomClasses=t}openDatepicker(){this.isLoading||(this.datepicker.show(),this.isOpened.emit(!0))}closeDatepicker(){this.isOpened.emit(!1)}get showCalendar(){var e;return(null===(e=this.datepicker)||void 0===e?void 0:e.isOpen)||!1}clearChosenDates(e){this.keepPreviousDatesSelected=!1,e?this.keepPreviousDatesSelected=!0:(this.chosenDate.startDate=void 0,this.chosenDate.endDate=void 0,this.rangeValue=[])}updateMinMaxDates(){var e,t;let n=o(null===(e=this.dateCustomClasses[0])||void 0===e?void 0:e.date),i=o(null===(t=this.dateCustomClasses[this.dateCustomClasses.length-1])||void 0===t?void 0:t.date);this.forceMinDate&&(n=this.forceMinDate),this.forceMaxDate&&(i=this.forceMaxDate),this.minDate=n.clone().toDate(),this.maxDate=i.clone().toDate()}insertSymbology(){this.document.querySelector(".bs-datepicker.viva-theme .bs-datepicker-container").append(this.symbology.nativeElement)}onDatepickerShown(){!0===this.showSymbology&&this.insertSymbology(),this.startDateChangeSubscription=this.datepicker._datepicker.instance.valueChange.pipe(Object(a.a)(e=>e&&e[0]&&!e[1])).subscribe(e=>{const[t]=e;this.choosingEndDate&&this.chosenDate.startDate.isSameOrBefore(t)?this.rangeValue=[this.chosenDate.startDate.toDate(),t]:(this.chosenDate.startDate=o(t),this.chosenDate.endDate=void 0,this.isRoundTrip?this.setAvailableDates():(this.rangeValue=[this.chosenDate.startDate.toDate(),void 0],this.datepicker.hide(),this.selectedDatesChange.emit(this.chosenDate)),this.unsubscribeStartDateChange())})}unsubscribeStartDateChange(){this.startDateChangeSubscription.closed&&this.startDateChangeSubscription.unsubscribe()}validateDateRange(e){return this.isRoundTrip?!!this.departureBookingDates.find(t=>t.date.isSame(e.startDate,"D"))&&!!this.returnBookingDates.find(t=>t.date.isSame(e.endDate,"D")):!!this.departureBookingDates.find(t=>t.date.isSame(e.startDate,"D"))}chooseEndDate(e){this.chosenDate.startDate&&(this.chosenDate.endDate=void 0,this.rangeValue=[this.chosenDate.startDate.toDate()],this.openDatepicker(),e.preventDefault())}get choosingEndDate(){return this.isRoundTrip&&this.showCalendar&&!!this.chosenDate.startDate&&!this.chosenDate.endDate}get choosingStartDate(){return this.isRoundTrip&&this.showCalendar&&(!this.chosenDate.startDate||!!this.chosenDate.endDate)}isDateInvalidOnMinMaxValues(e,t){var n,i;const o=null===(n=null==t?void 0:t.forceMinDate)||void 0===n?void 0:n.currentValue,r=null===(i=null==t?void 0:t.forceMaxDate)||void 0===i?void 0:i.currentValue;return!!e&&(!!o&&o.isAfter(e,"D")||!!r&&r.isBefore(e,"D"))}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(r.e),i.Tb(i.n))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-booker-calendar"]],viewQuery:function(e,t){var n;1&e&&(i.Yc(s.b,!0),i.Yc(d,!0)),2&e&&(i.Dc(n=i.ic())&&(t.datepicker=n.first),i.Dc(n=i.ic())&&(t.symbology=n.first))},hostBindings:function(e,t){1&e&&i.hc("mousedown",(function(e){return t.clickOutSide(e.target)}),!1,i.Fc)},inputs:{isRoundTrip:"isRoundTrip",displayCalendar:"displayCalendar",showToLeft:"showToLeft",showSymbology:"showSymbology",forceMinDate:"forceMinDate",forceMaxDate:"forceMaxDate",departureBookingDates:"departureBookingDates",returnBookingDates:"returnBookingDates",selectedDates:"selectedDates",isLoading:"isLoading"},outputs:{selectedDatesChange:"selectedDatesChange",isOpened:"isOpened"},features:[i.Fb],decls:22,vars:32,consts:[[1,"position-relative"],[1,"calendar-input","w-100","d-flex","flex-row","justify-content-start","align-items-center","p-0",3,"ngClass","click"],[1,"d-flex","flex-row","justify-content-between","w-100","h-100","align-items-center"],[1,"calendar-input-container","date-outbound","h-100","d-flex","flex-row","justify-content-start","align-items-center",3,"ngClass"],[1,"calendar-icon"],["class","fas fa-spinner fa-pulse",4,"ngIf"],["class","far fa-calendar-day",4,"ngIf"],[1,"calendar-input-date","h-100","d-flex","flex-column","justify-content-center"],[1,"label","small-title"],[1,"text","title"],[4,"ngIf","ngIfElse"],[1,"calendar-input-container","date-return","h-100","d-flex","flex-row","justify-content-start","align-items-center",3,"ngClass","click"],["class","calendar-input-date h-100 d-flex flex-column justify-content-center",4,"ngIf"],[1,"fas","fa-caret-down","arrow-icon",3,"ngClass"],["type","text","bsDaterangepicker","","autocomplete","off",1,"date-range-picker","w-100","p-0","m-0",3,"bsConfig","minDate","maxDate","dateCustomClasses","bsValue","bsValueChange","onHidden","onShown"],["dp","bsDaterangepicker"],["ChooseDate",""],["hidden","",4,"ngIf"],[1,"fas","fa-spinner","fa-pulse"],[1,"far","fa-calendar-day"],["hidden",""],[1,"px-20","py-10","d-flex","w-100","justify-content-center","symbology"],["Symbology",""],[1,"d-flex","align-items-center","mr-4"],[1,"small-title","mr-5","non-stop"],[1,"small-text","gray"],[1,"small-title","mr-5","connection-flights","position-relative"],[1,"d-flex","align-items-center"],[1,"small-title","mr-5","without-availability"]],template:function(e,t){if(1&e&&(i.Zb(0,"div",0),i.Zb(1,"button",1),i.hc("click",(function(){return t.openDatepicker()})),i.Zb(2,"div",2),i.Zb(3,"div",3),i.Zb(4,"span",4),i.Qc(5,h,1,0,"i",5),i.Qc(6,p,1,0,"i",6),i.Yb(),i.Zb(7,"div",7),i.Zb(8,"label",8),i.Sc(9),i.kc(10,"cmsTranslate"),i.Yb(),i.Zb(11,"p",9),i.Qc(12,g,3,3,"span",10),i.Yb(),i.Yb(),i.Yb(),i.Zb(13,"div",11),i.hc("click",(function(e){return t.chooseEndDate(e)})),i.Qc(14,m,6,5,"div",12),i.Ub(15,"i",13),i.Yb(),i.Yb(),i.Yb(),i.Zb(16,"div"),i.Zb(17,"input",14,15),i.hc("bsValueChange",(function(e){return t.change(e)}))("onHidden",(function(){return t.closeDatepicker()}))("onShown",(function(){return t.onDatepickerShown()})),i.Yb(),i.Yb(),i.Yb(),i.Qc(19,b,3,3,"ng-template",null,16,i.Rc),i.Qc(21,v,21,9,"div",17)),2&e){const e=i.Ec(20);i.Hb(1),i.sc("ngClass",i.xc(18,y,t.showCalendar,t.isLoading,!t.isRoundTrip)),i.Hb(2),i.sc("ngClass",i.xc(22,_,t.isRoundTrip,t.isRoundTrip,t.choosingStartDate)),i.Hb(2),i.sc("ngIf",t.isLoading),i.Hb(1),i.sc("ngIf",!t.isLoading),i.Hb(3),i.Tc(i.lc(10,16,"GLOBAL_LABEL_OUTBOUND")),i.Hb(3),i.sc("ngIf",!!t.chosenDate.startDate)("ngIfElse",e),i.Hb(1),i.sc("ngClass",i.wc(26,C,t.isRoundTrip,t.choosingEndDate)),i.Hb(1),i.sc("ngIf",t.isRoundTrip),i.Hb(1),i.sc("ngClass",i.vc(29,S,t.showCalendar)),i.Hb(2),i.sc("bsConfig",i.uc(31,O))("minDate",t.minDate)("maxDate",t.maxDate)("dateCustomClasses",t.dateCustomClasses)("bsValue",t.rangeValue),i.Hb(4),i.sc("ngIf",t.showSymbology)}},directives:[r.r,r.u,s.c,s.b],pipes:[u.a,r.G],styles:['@charset "UTF-8";.calendar-input{background:var(--wh1);height:60px;border-radius:10px;box-sizing:border-box;border:0;position:relative;z-index:1;text-align:initial}.calendar-input.simple{outline:none;border:2px solid transparent}.calendar-input.simple.active,.calendar-input.simple:focus{border:2px solid var(--vg4)}.calendar-input.active .calendar-icon,.calendar-input:focus .calendar-icon{color:var(--vg4)}.calendar-input .calendar-icon{color:var(--bg4);position:absolute;z-index:1;left:20px}.calendar-input .calendar-icon:after{content:"";position:absolute;top:0;left:0;margin-top:-7px;margin-left:38px;height:30px;width:1px;background-color:var(--gr20)}.calendar-input .round .calendar-icon{left:22px}.calendar-input-container.round{outline:none;border:2px solid transparent}.calendar-input-container.date-outbound .calendar-input-date{padding-left:69px}.calendar-input-container.date-outbound.active{border:2px solid var(--vg4);border-radius:10px 0 0 10px}.calendar-input-container.date-return{width:auto}.calendar-input-container.date-return.round{width:50%;border-left:1px solid var(--gr20);padding-left:20px}.calendar-input-container.date-return.active{border:2px solid var(--vg4);border-radius:0 10px 10px 0;padding-left:19px}.calendar-input-date{min-width:50%}.calendar-input-date .label{line-height:unset;color:rgba(var(--bg6-rgb),.5);pointer-events:none}.calendar-input-date .text{text-transform:capitalize;margin:4px 0 0;min-height:18px;color:var(--bg6)}.calendar-input .arrow-icon{font-size:18px;position:absolute;right:20px;color:var(--bg4)}.calendar-input .arrow-icon.active{color:var(--vg4);transform:rotate(180deg)}.calendar-input .round .arrow-icon{right:22px}.calendar-input.disabled{cursor:not-allowed}.date-range-picker{visibility:hidden;height:0;border:none;position:absolute;right:0;left:0}.viva-theme .bs-datepicker-container{padding:0}.viva-theme .bs-datepicker-container .bs-datepicker-multiple+.bs-datepicker-multiple{margin-left:0}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:first-child .bs-datepicker-head>bs-datepicker-navigation-view,.viva-theme .bs-datepicker-container bs-days-calendar-view:first-child .bs-datepicker-head>bs-datepicker-navigation-view{display:flex;justify-content:flex-end}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:first-child .bs-datepicker-head button.previous,.viva-theme .bs-datepicker-container bs-days-calendar-view:first-child .bs-datepicker-head button.previous{position:relative;align-self:flex-start;margin-right:auto}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:first-child .bs-datepicker-head button.previous>span,.viva-theme .bs-datepicker-container bs-days-calendar-view:first-child .bs-datepicker-head button.previous>span{display:none}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:first-child .bs-datepicker-head button.previous:before,.viva-theme .bs-datepicker-container bs-days-calendar-view:first-child .bs-datepicker-head button.previous:before{position:absolute;content:"\uf060";display:inline-block;font-family:Font Awesome\\ 5 Pro;font-weight:700;top:50%;left:50%;transform:translate(-50%,-50%)}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:first-child .bs-datepicker-head button.previous:disabled,.viva-theme .bs-datepicker-container bs-days-calendar-view:first-child .bs-datepicker-head button.previous:disabled{visibility:hidden!important}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:first-child .bs-datepicker-head button.next,.viva-theme .bs-datepicker-container bs-days-calendar-view:first-child .bs-datepicker-head button.next{display:none}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:first-child .bs-datepicker-head button:nth-child(2),.viva-theme .bs-datepicker-container bs-days-calendar-view:first-child .bs-datepicker-head button:nth-child(2){padding:0 5px 0 0}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:first-child .bs-datepicker-head button:nth-child(3),.viva-theme .bs-datepicker-container bs-days-calendar-view:first-child .bs-datepicker-head button:nth-child(3){padding:0 10px 0 0}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:nth-child(2) .bs-datepicker-head>bs-datepicker-navigation-view,.viva-theme .bs-datepicker-container bs-days-calendar-view:nth-child(2) .bs-datepicker-head>bs-datepicker-navigation-view{display:flex;justify-content:flex-start}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:nth-child(2) .bs-datepicker-head button.previous,.viva-theme .bs-datepicker-container bs-days-calendar-view:nth-child(2) .bs-datepicker-head button.previous{display:none}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:nth-child(2) .bs-datepicker-head button.next,.viva-theme .bs-datepicker-container bs-days-calendar-view:nth-child(2) .bs-datepicker-head button.next{position:relative;align-self:flex-end;margin-left:auto}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:nth-child(2) .bs-datepicker-head button.next>span,.viva-theme .bs-datepicker-container bs-days-calendar-view:nth-child(2) .bs-datepicker-head button.next>span{display:none}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:nth-child(2) .bs-datepicker-head button.next:before,.viva-theme .bs-datepicker-container bs-days-calendar-view:nth-child(2) .bs-datepicker-head button.next:before{position:absolute;content:"\uf061";display:inline-block;font-family:Font Awesome\\ 5 Pro;font-weight:700;top:50%;left:50%;transform:translate(-50%,-50%)}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:nth-child(2) .bs-datepicker-head button.next:disabled,.viva-theme .bs-datepicker-container bs-days-calendar-view:nth-child(2) .bs-datepicker-head button.next:disabled{visibility:hidden!important}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:nth-child(2) .bs-datepicker-head button:nth-child(2),.viva-theme .bs-datepicker-container bs-days-calendar-view:nth-child(2) .bs-datepicker-head button:nth-child(2){padding:0 5px 0 10px}.viva-theme .bs-datepicker-container .bs-datepicker-multiple:nth-child(2) .bs-datepicker-head button:nth-child(3),.viva-theme .bs-datepicker-container bs-days-calendar-view:nth-child(2) .bs-datepicker-head button:nth-child(3){padding:0}.viva-theme.bs-datepicker{box-shadow:none;transition:unset;border:1px solid var(--gr25);border-radius:5px}.viva-theme.bs-datepicker.today{font-weight:700}.viva-theme.bs-datepicker.today:after{content:"";position:absolute;top:0;left:50%;transform:translateX(-50%);height:30px;width:30px;border:1px solid var(--bg2);border-radius:50%}.viva-theme.bs-datepicker.flightConnect{color:var(--bg6)}.viva-theme.bs-datepicker.flightConnect:before{content:"\u2022";position:absolute;top:-7px;left:50%;font-family:Axiforma;color:var(--gr40);transform:translateX(-50%)}.viva-theme.bs-datepicker.flightConnect.end-date:before,.viva-theme.bs-datepicker.flightConnect.start-date:before{color:var(--wh1)}@media screen and (max-width:768px){.viva-theme.bs-datepicker .bs-media-container{flex-direction:row}}.viva-theme .bs-datepicker-head{min-width:auto}.viva-theme .bs-datepicker-head button{color:var(--bg4)}.viva-theme .bs-datepicker-head button.current{font-family:Axiforma,Arial;font-weight:700;font-size:16px;pointer-events:none;cursor:auto;text-transform:capitalize;transition:none}.viva-theme .bs-datepicker-body{border:none;padding:0 10px;min-width:auto;width:240px}.viva-theme .bs-datepicker-body table{border-top:1px solid var(--gr20);width:210px;max-width:210px;margin:auto}.viva-theme .bs-datepicker-body table thead{border-collapse:collapse;height:33px;background:var(--wh2)}.viva-theme .bs-datepicker-body table tbody td{width:30px;max-width:30px}.viva-theme .bs-datepicker-body table th{font-family:Axiforma,Arial;font-size:0;text-transform:capitalize;color:var(--gr60);width:30px;max-width:30px}.viva-theme .bs-datepicker-body table th:first-letter{font-size:14px}.viva-theme .bs-datepicker-body table .in-range:not(.select-start):before{top:0;bottom:0;right:0;left:0;background-color:var(--gr15)!important}.viva-theme .bs-datepicker-body table .in-range:not(.select-start).one-way:before{background-color:transparent!important}.viva-theme .bs-datepicker-body table.days span{width:30px;height:30px;line-height:30px;font-family:Axiforma,Arial;font-size:12px;position:relative}.viva-theme .bs-datepicker-body table.days span:not(.selected){border-radius:0}.viva-theme .bs-datepicker-body table.days span.in-range:not(.one-way){font-weight:700}.viva-theme .bs-datepicker-body table.days span:not(.connection,.direct){color:#ccc;cursor:not-allowed!important;pointer-events:none}.viva-theme .bs-datepicker-body table.days span.connection:not(.disabled){color:var(--bg6)}.viva-theme .bs-datepicker-body table.days span.connection:not(.disabled):after{content:"\u2022";position:absolute;top:-10px;left:50%;color:var(--gr40);transform:translateX(-50%)}.viva-theme .bs-datepicker-body table.days span.connection:not(.disabled).select-end:after,.viva-theme .bs-datepicker-body table.days span.connection:not(.disabled).select-start:after{color:var(--wh1)}.viva-theme .bs-datepicker-body table.days span.direct:not(.disabled){color:var(--bg2)}.viva-theme .bs-datepicker-body table.days span.today{position:relative}.viva-theme .bs-datepicker-body table.days span.today:before{content:"";position:absolute;top:0;bottom:0;left:50%;transform:translateX(-50%);height:30px;width:30px;border:1px solid var(--bg2);border-radius:50%;z-index:2;box-sizing:border-box}.viva-theme .bs-datepicker-body table.days span.select-start{background-color:var(--vg4);border-radius:2px 0 0 2px}.viva-theme .bs-datepicker-body table.days span.select-end:not(.one-way){background-color:var(--bg4);border-radius:0 2px 2px 0}.viva-theme .bs-datepicker-body table.days span.selected{color:var(--wh1)!important}.symbology{border-top:1px solid var(--gr20)}.symbology>.d-flex .gray{color:var(--gr60)}.symbology>.d-flex .non-stop{color:var(--bg2)}.symbology>.d-flex .connection-flights{color:var(--bg6)}.symbology>.d-flex .connection-flights:before{content:"\u2022";position:absolute;top:-10px;left:50%;color:var(--gr40);transform:translateX(-50%)}.symbology>.d-flex .without-availability{color:var(--gr20)}'],encapsulation:2}),e})()},tyNb:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ke})),n.d(t,"b",(function(){return te})),n.d(t,"c",(function(){return Y})),n.d(t,"d",(function(){return V})),n.d(t,"e",(function(){return U})),n.d(t,"f",(function(){return oe})),n.d(t,"g",(function(){return nn})),n.d(t,"h",(function(){return on})),n.d(t,"i",(function(){return an})),n.d(t,"j",(function(){return rn})),n.d(t,"k",(function(){return _n})),n.d(t,"l",(function(){return un})),n.d(t,"m",(function(){return ie}));var i=n("ofXK"),o=n("fXoL"),r=n("LRne"),s=n("Cfvw"),a=n("2Vo4"),c=n("HDdC");const l=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();var u=n("itXk"),d=n("NXyV"),h=n("XNiG"),p=n("EY2u"),g=n("lJxs"),f=n("0EUg"),m=n("pLZG"),b=n("BFxc"),v=n("7o/Q");function y(e=S){return t=>t.lift(new _(e))}class _{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new C(e,this.errorFactory))}}class C extends v.a{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function S(){return new l}var O=n("xbPD"),T=n("SpAZ");function w(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Object(m.a)((t,n)=>e(t,n,i)):T.a,Object(b.a)(1),n?Object(O.a)(t):y(()=>new l))}var k=n("JIr8"),A=n("IzEk");function E(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Object(m.a)((t,n)=>e(t,n,i)):T.a,Object(A.a)(1),n?Object(O.a)(t):y(()=>new l))}var M=n("5+tZ");class P{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new D(e,this.predicate,this.thisArg,this.source))}}class D extends v.a{constructor(e,t,n,i){super(e),this.predicate=t,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var x=n("eIep"),I=n("JX91"),L=n("Kqap"),R=n("bOdf"),N=n("128B"),j=n("vkgz"),B=n("nYR2"),F=n("bHdf");class H{constructor(e,t){this.id=e,this.url=t}}class U extends H{constructor(e,t,n="imperative",i=null){super(e,t),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Y extends H{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class G extends H{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class V extends H{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Z extends H{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $ extends H{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W extends H{constructor(e,t,n,i,o){super(e,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class K extends H{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z extends H{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class X{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class q{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ee{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class te{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ne{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Nb({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&o.Ub(0,"router-outlet")},directives:function(){return[un]},encapsulation:2}),e})();const oe="primary";class re{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function se(e){return new re(e)}function ae(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function ce(e,t,n){const i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const o={};for(let r=0;r<i.length;r++){const t=i[r],n=e[r];if(t.startsWith(":"))o[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,i.length),posParams:o}}class le{constructor(e,t){this.routes=e,this.module=t}}function ue(e,t=""){for(let n=0;n<e.length;n++){const i=e[n];de(i,he(t,i))}}function de(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==oe)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&ue(e.children,t)}function he(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function pe(e){const t=e.children&&e.children.map(pe),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=ie),n}function ge(e,t){const n=Object.keys(e),i=Object.keys(t);if(!n||!i||n.length!=i.length)return!1;let o;for(let r=0;r<n.length;r++)if(o=n[r],!fe(e[o],t[o]))return!1;return!0}function fe(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every(e=>t.indexOf(e)>-1):e===t}function me(e){return Array.prototype.concat.apply([],e)}function be(e){return e.length>0?e[e.length-1]:null}function ve(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function ye(e){return Object(o.wb)(e)?e:Object(o.xb)(e)?Object(s.a)(Promise.resolve(e)):Object(r.a)(e)}function _e(e,t,n){return n?function(e,t){return ge(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Te(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>fe(e[n],t[n]))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,i,o){if(n.segments.length>o.length)return!!Te(n.segments.slice(0,o.length),o)&&!i.hasChildren();if(n.segments.length===o.length){if(!Te(n.segments,o))return!1;for(const t in i.children){if(!n.children[t])return!1;if(!e(n.children[t],i.children[t]))return!1}return!0}{const e=o.slice(0,n.segments.length),r=o.slice(n.segments.length);return!!Te(n.segments,e)&&!!n.children[oe]&&t(n.children[oe],i,r)}}(t,n,n.segments)}(e.root,t.root)}class Ce{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=se(this.queryParams)),this._queryParamMap}toString(){return Ee.serialize(this)}}class Se{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ve(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Me(this)}}class Oe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=se(this.parameters)),this._parameterMap}toString(){return Re(this)}}function Te(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function we(e,t){let n=[];return ve(e.children,(e,i)=>{i===oe&&(n=n.concat(t(e,i)))}),ve(e.children,(e,i)=>{i!==oe&&(n=n.concat(t(e,i)))}),n}class ke{}class Ae{parse(e){const t=new He(e);return new Ce(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+function e(t,n){if(!t.hasChildren())return Me(t);if(n){const n=t.children[oe]?e(t.children[oe],!1):"",i=[];return ve(t.children,(t,n)=>{n!==oe&&i.push(`${n}:${e(t,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=we(t,(n,i)=>i===oe?[e(t.children[oe],!1)]:[`${i}:${e(n,!1)}`]);return`${Me(t)}/(${n.join("//")})`}}(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${De(t)}=${De(e)}`).join("&"):`${De(t)}=${De(n)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const Ee=new Ae;function Me(e){return e.segments.map(e=>Re(e)).join("/")}function Pe(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function De(e){return Pe(e).replace(/%3B/gi,";")}function xe(e){return Pe(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ie(e){return decodeURIComponent(e)}function Le(e){return Ie(e.replace(/\+/g,"%20"))}function Re(e){return`${xe(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${xe(e)}=${xe(t[e])}`).join("")}`;var t}const Ne=/^[^\/()?;=#]+/;function je(e){const t=e.match(Ne);return t?t[0]:""}const Be=/^[^=?&#]+/,Fe=/^[^?&#]+/;class He{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[oe]=new Se(e,t)),n}parseSegment(){const e=je(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Oe(Ie(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=je(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=je(this.remaining);e&&(n=e,this.capture(n))}e[Ie(t)]=Ie(n)}parseQueryParam(e){const t=function(e){const t=e.match(Be);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Fe);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const i=Le(t),o=Le(n);if(e.hasOwnProperty(i)){let t=e[i];Array.isArray(t)||(t=[t],e[i]=t),t.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=je(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o=void 0;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);const r=this.parseChildren();t[o]=1===Object.keys(r).length?r[oe]:new Se([],r),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Ue{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ye(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Ye(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ge(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Ge(e,this._root).map(e=>e.value)}}function Ye(e,t){if(e===t.value)return t;for(const n of t.children){const t=Ye(e,n);if(t)return t}return null}function Ge(e,t){if(e===t.value)return[t];for(const n of t.children){const i=Ge(e,n);if(i.length)return i.unshift(t),i}return[]}class Ve{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ze(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class $e extends Ue{constructor(e,t){super(e),this.snapshot=t,qe(this,e)}toString(){return this.snapshot.toString()}}function We(e,t){const n=function(e,t){const n=new Qe([],{},{},"",{},oe,t,null,e.root,-1,{});return new Xe("",new Ve(n,[]))}(e,t),i=new a.a([new Oe("",{})]),o=new a.a({}),r=new a.a({}),s=new a.a({}),c=new a.a(""),l=new Ke(i,o,s,c,r,oe,t,n.root);return l.snapshot=n.root,new $e(new Ve(l,[]),n)}class Ke{constructor(e,t,n,i,o,r,s,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=r,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(g.a)(e=>se(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(g.a)(e=>se(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ze(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const e=n[i],t=n[i-1];if(e.routeConfig&&""===e.routeConfig.path)i--;else{if(t.component)break;i--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Qe{constructor(e,t,n,i,o,r,s,a,c,l,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=r,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=se(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=se(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xe extends Ue{constructor(e,t){super(t),this.url=e,qe(this,t)}toString(){return Je(this._root)}}function qe(e,t){t.value._routerState=e,t.children.forEach(t=>qe(e,t))}function Je(e){const t=e.children.length>0?` { ${e.children.map(Je).join(", ")} } `:"";return`${e.value}${t}`}function et(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ge(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),ge(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ge(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),ge(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function tt(e,t){var n,i;return ge(e.params,t.params)&&Te(n=e.url,i=t.url)&&n.every((e,t)=>ge(e.parameters,i[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||tt(e.parent,t.parent))}function nt(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function it(e,t,n,i,o){let r={};return i&&ve(i,(e,t)=>{r[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new Ce(n.root===e?t:function e(t,n,i){const o={};return ve(t.children,(t,r)=>{o[r]=t===n?i:e(t,n,i)}),new Se(t.segments,o)}(n.root,e,t),r,o)}class ot{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&nt(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(i&&i!==be(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rt{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function st(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[oe]:""+e}function at(e,t,n){if(e||(e=new Se([],{})),0===e.segments.length&&e.hasChildren())return ct(e,t,n);const i=function(e,t,n){let i=0,o=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(i>=n.length)return r;const t=e.segments[o],s=st(n[i]),a=i<n.length-1?n[i+1]:null;if(o>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!ht(s,a,t))return r;i+=2}else{if(!ht(s,{},t))return r;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(e,t,n),o=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const t=new Se(e.segments.slice(0,i.pathIndex),{});return t.children[oe]=new Se(e.segments.slice(i.pathIndex),e.children),ct(t,0,o)}return i.match&&0===o.length?new Se(e.segments,{}):i.match&&!e.hasChildren()?lt(e,t,n):i.match?ct(e,0,o):lt(e,t,n)}function ct(e,t,n){if(0===n.length)return new Se(e.segments,{});{const i=function(e){return"object"!=typeof e[0]?{[oe]:e}:void 0===e[0].outlets?{[oe]:e}:e[0].outlets}(n),o={};return ve(i,(n,i)=>{null!==n&&(o[i]=at(e.children[i],t,n))}),ve(e.children,(e,t)=>{void 0===i[t]&&(o[t]=e)}),new Se(e.segments,o)}}function lt(e,t,n){const i=e.segments.slice(0,t);let o=0;for(;o<n.length;){if("object"==typeof n[o]&&void 0!==n[o].outlets){const e=ut(n[o].outlets);return new Se(i,e)}if(0===o&&nt(n[0])){i.push(new Oe(e.segments[t].path,n[0])),o++;continue}const r=st(n[o]),s=o<n.length-1?n[o+1]:null;r&&s&&nt(s)?(i.push(new Oe(r,dt(s))),o+=2):(i.push(new Oe(r,{})),o++)}return new Se(i,{})}function ut(e){const t={};return ve(e,(e,n)=>{null!==e&&(t[n]=lt(new Se([],{}),0,e))}),t}function dt(e){const t={};return ve(e,(e,n)=>t[n]=""+e),t}function ht(e,t,n){return e==n.path&&ge(t,n.parameters)}class pt{constructor(e,t,n,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=i}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),et(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const i=Ze(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,i[t],n),delete i[t]}),ve(i,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else o&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:i})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const i=Ze(e),o=e.value.component?n.children:t;ve(i,(e,t)=>this.deactivateRouteAndItsChildren(e,o)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const i=Ze(t);e.children.forEach(e=>{this.activateRoutes(e,i[e.value.outlet],n),this.forwardEvent(new te(e.value.snapshot))}),e.children.length&&this.forwardEvent(new J(e.value.snapshot))}activateRoutes(e,t,n){const i=e.value,o=t?t.value:null;if(et(i),i===o)if(i.component){const o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(i.component){const t=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const e=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),gt(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),o=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=i,t.resolver=o,t.outlet&&t.outlet.activateWith(i,o),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function gt(e){et(e.value),e.children.forEach(gt)}function ft(e){return"function"==typeof e}function mt(e){return e instanceof Ce}class bt{constructor(e){this.segmentGroup=e||null}}class vt{constructor(e){this.urlTree=e}}function yt(e){return new c.a(t=>t.error(new bt(e)))}function _t(e){return new c.a(t=>t.error(new vt(e)))}function Ct(e){return new c.a(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class St{constructor(e,t,n,i,r){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(o.C)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,oe).pipe(Object(g.a)(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(k.a)(e=>{if(e instanceof vt)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof bt)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,oe).pipe(Object(g.a)(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Object(k.a)(e=>{if(e instanceof bt)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const i=e.segments.length>0?new Se([],{[oe]:e}):e;return new Ce(i,t,n)}expandSegmentGroup(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(g.a)(e=>new Se([],e))):this.expandSegment(e,n,t,n.segments,i,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return Object(r.a)({});const n=[],i=[],o={};return ve(e,(e,r)=>{const s=t(r,e).pipe(Object(g.a)(e=>o[r]=e));r===oe?n.push(s):i.push(s)}),r.a.apply(null,n.concat(i)).pipe(Object(f.a)(),w(),Object(g.a)(()=>o))}(n.children,(n,i)=>this.expandSegmentGroup(e,t,i,n))}expandSegment(e,t,n,i,o,s){return Object(r.a)(...n).pipe(Object(g.a)(a=>this.expandSegmentAgainstRoute(e,t,n,a,i,o,s).pipe(Object(k.a)(e=>{if(e instanceof bt)return Object(r.a)(null);throw e}))),Object(f.a)(),E(e=>!!e),Object(k.a)((e,n)=>{if(e instanceof l||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,i,o))return Object(r.a)(new Se([],{}));throw new bt(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,i,o,r,s){return kt(i)!==r?yt(t):void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,o,r):yt(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,i,o,r){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,r):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,o,r)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,i){const o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?_t(o):this.lineralizeSegments(n,o).pipe(Object(M.a)(n=>{const o=new Se(n,{});return this.expandSegment(e,o,t,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,o,r){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:l}=Ot(t,i,o);if(!s)return yt(t);const u=this.applyRedirectCommands(a,i.redirectTo,l);return i.redirectTo.startsWith("/")?_t(u):this.lineralizeSegments(i,u).pipe(Object(M.a)(i=>this.expandSegment(e,t,n,i.concat(o.slice(c)),r,!1)))}matchSegmentAgainstRoute(e,t,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(g.a)(e=>(n._loadedConfig=e,new Se(i,{})))):Object(r.a)(new Se(i,{}));const{matched:o,consumedSegments:s,lastChild:a}=Ot(t,n,i);if(!o)return yt(t);const c=i.slice(a);return this.getChildConfig(e,n,i).pipe(Object(M.a)(e=>{const n=e.module,i=e.routes,{segmentGroup:o,slicedSegments:a}=function(e,t,n,i){return n.length>0&&function(e,t,n){return n.some(n=>wt(e,t,n)&&kt(n)!==oe)}(e,n,i)?{segmentGroup:Tt(new Se(t,function(e,t){const n={};n[oe]=t;for(const i of e)""===i.path&&kt(i)!==oe&&(n[kt(i)]=new Se([],{}));return n}(i,new Se(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>wt(e,t,n))}(e,n,i)?{segmentGroup:Tt(new Se(e.segments,function(e,t,n,i){const o={};for(const r of n)wt(e,t,r)&&!i[kt(r)]&&(o[kt(r)]=new Se([],{}));return Object.assign(Object.assign({},i),o)}(e,n,i,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,c,i);return 0===a.length&&o.hasChildren()?this.expandChildren(n,i,o).pipe(Object(g.a)(e=>new Se(s,e))):0===i.length&&0===a.length?Object(r.a)(new Se(s,{})):this.expandSegment(n,o,i,a,oe,!0).pipe(Object(g.a)(e=>new Se(s.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?Object(r.a)(new le(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(r.a)(t._loadedConfig):function(e,t,n){const i=t.canLoad;return i&&0!==i.length?Object(s.a)(i).pipe(Object(g.a)(i=>{const o=e.get(i);let r;if(function(e){return e&&ft(e.canLoad)}(o))r=o.canLoad(t,n);else{if(!ft(o))throw new Error("Invalid CanLoad guard");r=o(t,n)}return ye(r)})).pipe(Object(f.a)(),(o=e=>!0===e,e=>e.lift(new P(o,void 0,e)))):Object(r.a)(!0);var o}(e.injector,t,n).pipe(Object(M.a)(n=>n?this.configLoader.load(e.injector,t).pipe(Object(g.a)(e=>(t._loadedConfig=e,e))):function(e){return new c.a(t=>t.error(ae(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):Object(r.a)(new le([],e))}lineralizeSegments(e,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(r.a)(n);if(i.numberOfChildren>1||!i.children[oe])return Ct(e.redirectTo);i=i.children[oe]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,i){const o=this.createSegmentGroup(e,t.root,n,i);return new Ce(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return ve(e,(e,i)=>{if("string"==typeof e&&e.startsWith(":")){const o=e.substring(1);n[i]=t[o]}else n[i]=e}),n}createSegmentGroup(e,t,n,i){const o=this.createSegments(e,t.segments,n,i);let r={};return ve(t.children,(t,o)=>{r[o]=this.createSegmentGroup(e,t,n,i)}),new Se(o,r)}createSegments(e,t,n,i){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,i):this.findOrReturn(t,n))}findPosParam(e,t,n){const i=n[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let n=0;for(const i of t){if(i.path===e.path)return t.splice(n),i;n++}return e}}function Ot(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(t.matcher||ce)(n,e,t);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Tt(e){if(1===e.numberOfChildren&&e.children[oe]){const t=e.children[oe];return new Se(e.segments.concat(t.segments),t.children)}return e}function wt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function kt(e){return e.outlet||oe}class At{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Et{constructor(e,t){this.component=e,this.route=t}}function Mt(e,t,n){const i=e._root;return function e(t,n,i,o,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ze(n);return t.children.forEach(t=>{!function(t,n,i,o,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,a=n?n.value:null,c=i?i.getContext(t.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Te(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Te(e.url,t.url)||!ge(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tt(e,t)||!ge(e.queryParams,t.queryParams);case"paramsChange":default:return!tt(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new At(o)):(s.data=a.data,s._resolvedData=a._resolvedData),e(t,n,s.component?c?c.children:null:i,o,r),l&&r.canDeactivateChecks.push(new Et(c&&c.outlet&&c.outlet.component||null,a))}else a&&Dt(n,c,r),r.canActivateChecks.push(new At(o)),e(t,null,s.component?c?c.children:null:i,o,r)}(t,s[t.value.outlet],i,o.concat([t.value]),r),delete s[t.value.outlet]}),ve(s,(e,t)=>Dt(e,i.getContext(t),r)),r}(i,t?t._root:null,n,[i.value])}function Pt(e,t,n){const i=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function Dt(e,t,n){const i=Ze(e),o=e.value;ve(i,(e,i)=>{Dt(e,o.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new Et(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}const xt=Symbol("INITIAL_VALUE");function It(){return Object(x.a)(e=>Object(u.a)(...e.map(e=>e.pipe(Object(A.a)(1),Object(I.a)(xt)))).pipe(Object(L.a)((e,t)=>{let n=!1;return t.reduce((e,i,o)=>{if(e!==xt)return e;if(i===xt&&(n=!0),!n){if(!1===i)return i;if(o===t.length-1||mt(i))return i}return e},e)},xt),Object(m.a)(e=>e!==xt),Object(g.a)(e=>mt(e)?e:!0===e),Object(A.a)(1)))}function Lt(e,t){return null!==e&&t&&t(new ee(e)),Object(r.a)(!0)}function Rt(e,t){return null!==e&&t&&t(new q(e)),Object(r.a)(!0)}function Nt(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Object(r.a)(!0);const o=i.map(i=>Object(d.a)(()=>{const o=Pt(i,t,n);let r;if(function(e){return e&&ft(e.canActivate)}(o))r=ye(o.canActivate(t,e));else{if(!ft(o))throw new Error("Invalid CanActivate guard");r=ye(o(t,e))}return r.pipe(E())}));return Object(r.a)(o).pipe(It())}function jt(e,t,n){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Object(d.a)(()=>{const o=t.guards.map(o=>{const r=Pt(o,t.node,n);let s;if(function(e){return e&&ft(e.canActivateChild)}(r))s=ye(r.canActivateChild(i,e));else{if(!ft(r))throw new Error("Invalid CanActivateChild guard");s=ye(r(i,e))}return s.pipe(E())});return Object(r.a)(o).pipe(It())}));return Object(r.a)(o).pipe(It())}class Bt{}class Ft{constructor(e,t,n,i,o,r){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=r}recognize(){try{const e=Yt(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,oe),n=new Qe([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},oe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ve(n,t),o=new Xe(this.url,i);return this.inheritParamsAndData(o._root),Object(r.a)(o)}catch(e){return new c.a(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=ze(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=we(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),i=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${i}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,i){for(const r of e)try{return this.processSegmentAgainstRoute(r,t,n,i)}catch(o){if(!(o instanceof Bt))throw o}if(this.noLeftoversInUrl(t,n,i))return[];throw new Bt}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,i){if(e.redirectTo)throw new Bt;if((e.outlet||oe)!==i)throw new Bt;let o,r=[],s=[];if("**"===e.path){const r=n.length>0?be(n).parameters:{};o=new Qe(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Zt(e),i,e.component,e,Ht(t),Ut(t)+n.length,$t(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Bt;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(t.matcher||ce)(n,e,t);if(!i)throw new Bt;const o={};ve(i.posParams,(e,t)=>{o[t]=e.path});const r=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:r}}(t,e,n);r=a.consumedSegments,s=n.slice(a.lastChild),o=new Qe(r,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Zt(e),i,e.component,e,Ht(t),Ut(t)+r.length,$t(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=Yt(t,r,s,a,this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const e=this.processChildren(a,c);return[new Ve(o,e)]}if(0===a.length&&0===l.length)return[new Ve(o,[])];const u=this.processSegment(a,c,l,oe);return[new Ve(o,u)]}}function Ht(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Ut(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Yt(e,t,n,i,o){if(n.length>0&&function(e,t,n){return n.some(n=>Gt(e,t,n)&&Vt(n)!==oe)}(e,n,i)){const o=new Se(t,function(e,t,n,i){const o={};o[oe]=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const r of n)if(""===r.path&&Vt(r)!==oe){const n=new Se([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,o[Vt(r)]=n}return o}(e,t,i,new Se(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>Gt(e,t,n))}(e,n,i)){const r=new Se(e.segments,function(e,t,n,i,o,r){const s={};for(const a of i)if(Gt(e,n,a)&&!o[Vt(a)]){const n=new Se([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===r?e.segments.length:t.length,s[Vt(a)]=n}return Object.assign(Object.assign({},o),s)}(e,t,n,i,e.children,o));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:n}}const r=new Se(e.segments,e.children);return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:n}}function Gt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Vt(e){return e.outlet||oe}function Zt(e){return e.data||{}}function $t(e){return e.resolve||{}}function Wt(e,t,n,i){const o=Pt(e,t,i);return ye(o.resolve?o.resolve(t,n):o(t,n))}function Kt(e){return function(t){return t.pipe(Object(x.a)(t=>{const n=e(t);return n?Object(s.a)(n).pipe(Object(g.a)(()=>t)):Object(s.a)([t])}))}}class zt{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const Qt=new o.t("ROUTES");class Xt{constructor(e,t,n,i){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=i}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(g.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new le(me(i.injector.get(Qt)).map(pe),i)}))}loadModuleFactory(e){return"string"==typeof e?Object(s.a)(this.loader.load(e)):ye(e()).pipe(Object(M.a)(e=>e instanceof o.A?Object(r.a)(e):Object(s.a)(this.compiler.compileModuleAsync(e))))}}class qt{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Jt(e){throw e}function en(e,t,n){return t.parse("/")}function tn(e,t){return Object(r.a)(null)}let nn=(()=>{class e{constructor(e,t,n,i,r,s,c,l){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new h.a,this.errorHandler=Jt,this.malformedUriErrorHandler=en,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:tn,afterPreactivation:tn},this.urlHandlingStrategy=new qt,this.routeReuseStrategy=new zt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(o.C),this.console=r.get(o.db);const u=r.get(o.E);this.isNgZoneEnabled=u instanceof o.E,this.resetConfig(l),this.currentUrlTree=new Ce(new Se([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Xt(s,c,e=>this.triggerEvent(new Q(e)),e=>this.triggerEvent(new X(e))),this.routerState=We(this.currentUrlTree,this.rootComponentType),this.transitions=new a.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Object(m.a)(e=>0!==e.id),Object(g.a)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Object(x.a)(e=>{let n=!1,i=!1;return Object(r.a)(e).pipe(Object(j.a)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(x.a)(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(r.a)(e).pipe(Object(x.a)(e=>{const n=this.transitions.getValue();return t.next(new U(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?p.a:[e]}),Object(x.a)(e=>Promise.resolve(e)),(i=this.ngModule.injector,o=this.configLoader,s=this.urlSerializer,a=this.config,function(e){return e.pipe(Object(x.a)(e=>function(e,t,n,i,o){return new St(e,t,n,i,o).apply()}(i,o,s,e.extractedUrl,a).pipe(Object(g.a)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t})))))}),Object(j.a)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,i,o){return function(r){return r.pipe(Object(M.a)(r=>function(e,t,n,i,o="emptyOnly",r="legacy"){return new Ft(e,t,n,i,o,r).recognize()}(e,t,r.urlAfterRedirects,n(r.urlAfterRedirects),i,o).pipe(Object(g.a)(e=>Object.assign(Object.assign({},r),{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(j.a)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Object(j.a)(e=>{const n=new Z(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var i,o,s,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:o,restoredState:s,extras:a}=e,c=new U(n,this.serializeUrl(i),o,s);t.next(c);const l=We(i,this.rootComponentType).snapshot;return Object(r.a)(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),p.a}),Kt(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:o,extras:{skipLocationChange:r,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!r,replaceUrl:!!s})}),Object(j.a)(e=>{const t=new $(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Object(g.a)(e=>Object.assign(Object.assign({},e),{guards:Mt(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(Object(M.a)(n=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:a,canDeactivateChecks:c}}=n;return 0===c.length&&0===a.length?Object(r.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return Object(s.a)(e).pipe(Object(M.a)(e=>function(e,t,n,i,o){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(r.a)(!0);const a=s.map(r=>{const s=Pt(r,t,o);let a;if(function(e){return e&&ft(e.canDeactivate)}(s))a=ye(s.canDeactivate(e,t,n,i));else{if(!ft(s))throw new Error("Invalid CanDeactivate guard");a=ye(s(e,t,n,i))}return a.pipe(E())});return Object(r.a)(a).pipe(It())}(e.component,e.route,n,t,i)),E(e=>!0!==e,!0))}(c,i,o,e).pipe(Object(M.a)(n=>n&&"boolean"==typeof n?function(e,t,n,i){return Object(s.a)(t).pipe(Object(R.a)(t=>Object(s.a)([Rt(t.route.parent,i),Lt(t.route,i),jt(e,t.path,n),Nt(e,t.route,n)]).pipe(Object(f.a)(),E(e=>!0!==e,!0))),E(e=>!0!==e,!0))}(i,a,e,t):Object(r.a)(n)),Object(g.a)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),Object(j.a)(e=>{if(mt(e.guardsResult)){const t=ae(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),Object(j.a)(e=>{const t=new W(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Object(m.a)(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new G(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),Kt(e=>{if(e.guards.canActivateChecks.length)return Object(r.a)(e).pipe(Object(j.a)(e=>{const t=new K(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(t=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(e){return e.pipe(Object(M.a)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;return o.length?Object(s.a)(o).pipe(Object(R.a)(e=>function(e,t,n,i){return function(e,t,n,i){const o=Object.keys(e);if(0===o.length)return Object(r.a)({});if(1===o.length){const r=o[0];return Wt(e[r],t,n,i).pipe(Object(g.a)(e=>({[r]:e})))}const a={};return Object(s.a)(o).pipe(Object(M.a)(o=>Wt(e[o],t,n,i).pipe(Object(g.a)(e=>(a[o]=e,e))))).pipe(w(),Object(g.a)(()=>a))}(e._resolve,e,t,i).pipe(Object(g.a)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),ze(e,n).resolve),null)))}(e.route,i,t,n)),Object(N.a)((e,t)=>e),Object(g.a)(t=>e)):Object(r.a)(e)}))}),Object(j.a)(e=>{const t=new z(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}));var t,n}),Kt(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:o,extras:{skipLocationChange:r,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!r,replaceUrl:!!s})}),Object(g.a)(e=>{const t=function(e,t,n){const i=function e(t,n,i){if(i&&t.shouldReuseRoute(n.value,i.value.snapshot)){const o=i.value;o._futureSnapshot=n.value;const r=function(t,n,i){return n.children.map(n=>{for(const o of i.children)if(t.shouldReuseRoute(o.value.snapshot,n.value))return e(t,n,o);return e(t,n)})}(t,n,i);return new Ve(o,r)}{const i=t.retrieve(n.value);if(i){const e=i.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let i=0;i<t.children.length;++i)e(t.children[i],n.children[i])}(n,e),e}{const i=new Ke(new a.a((o=n.value).url),new a.a(o.params),new a.a(o.queryParams),new a.a(o.fragment),new a.a(o.data),o.outlet,o.component,o),r=n.children.map(n=>e(t,n));return new Ve(i,r)}}var o}(e,t._root,n?n._root:void 0);return new $e(i,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),Object(j.a)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(o=this.rootContexts,c=this.routeReuseStrategy,l=e=>this.triggerEvent(e),Object(g.a)(e=>(new pt(c,e.targetRouterState,e.currentRouterState,l).activate(o),e))),Object(j.a)({next(){n=!0},complete(){n=!0}}),Object(B.a)(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new G(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),Object(k.a)(n=>{if(i=!0,(o=n)&&o.ngNavigationCancelingError){const i=mt(n.url);i||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const o=new G(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(o),i?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const i=new V(e.id,this.serializeUrl(e.extractedUrl),n);t.next(i);try{e.resolve(this.errorHandler(n))}catch(r){e.reject(r)}}var o;return p.a}));var o,c,l}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){ue(e),this.config=e.map(pe),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:i,fragment:r,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:c}=t;Object(o.ab)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,u=c?this.currentUrlTree.fragment:r;let d=null;if(a)switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}else d=s?this.currentUrlTree.queryParams:i||null;return null!==d&&(d=this.removeEmptyProps(d)),function(e,t,n,i,o){if(0===n.length)return it(t.root,t.root,t,i,o);const r=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new ot(!0,0,e);let t=0,n=!1;const i=e.reduce((e,i,o)=>{if("object"==typeof i&&null!=i){if(i.outlets){const t={};return ve(i.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(i.segmentPath)return[...e,i.segmentPath]}return"string"!=typeof i?[...e,i]:0===o?(i.split("/").forEach((i,o)=>{0==o&&"."===i||(0==o&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))}),e):[...e,i]},[]);return new ot(n,t,i)}(n);if(r.toRoot())return it(t.root,new Se([],{}),t,i,o);const s=function(e,t,n){if(e.isAbsolute)return new rt(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new rt(n.snapshot._urlSegment,!0,0);const i=nt(e.commands[0])?0:1;return function(e,t,n){let i=e,o=t,r=n;for(;r>o;){if(r-=o,i=i.parent,!i)throw new Error("Invalid number of '../'");o=i.segments.length}return new rt(i,!1,o-r)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(r,t,e),a=s.processChildren?ct(s.segmentGroup,s.index,r.commands):at(s.segmentGroup,s.index,r.commands);return it(s.segmentGroup,a,t,i,o)}(l,this.currentUrlTree,e,d,u)}navigateByUrl(e,t={skipLocationChange:!1}){Object(o.ab)()&&this.isNgZoneEnabled&&!o.E.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=mt(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(mt(e))return _e(this.currentUrlTree,e,t);const n=this.parseUrl(e);return _e(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const i=e[n];return null!=i&&(t[n]=i),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Y(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,i,o){const r=this.getTransition();if(r&&"imperative"!==t&&"imperative"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"hashchange"==t&&"popstate"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"popstate"==t&&"hashchange"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);let s,a,c;o?(s=o.resolve,a=o.reject,c=o.promise):c=new Promise((e,t)=>{s=e,a=t});const l=++this.navigationId;return this.setTransition({id:l,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:s,reject:a,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,i){const o=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(o)||t?this.location.replaceState(o,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(o,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(e){o.gc()},e.\u0275dir=o.Ob({type:e}),e})(),on=(()=>{class e{constructor(e,t,n,i,o){this.router=e,this.route=t,this.commands=[],null==n&&i.setAttribute(o.nativeElement,"tabindex","0")}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Object(o.ab)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:sn(this.skipLocationChange),replaceUrl:sn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:sn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:sn(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(nn),o.Tb(Ke),o.ec("tabindex"),o.Tb(o.I),o.Tb(o.n))},e.\u0275dir=o.Ob({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&o.hc("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),e})(),rn=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof Y&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Object(o.ab)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,i){if(0!==e||t||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:sn(this.skipLocationChange),replaceUrl:sn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:sn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:sn(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(nn),o.Tb(Ke),o.Tb(i.p))},e.\u0275dir=o.Ob({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&o.hc("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(o.cc("href",t.href,o.Kc),o.Ib("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[o.Fb]}),e})();function sn(e){return""===e||!!e}let an=(()=>{class e{constructor(e,t,n,i,o){this.router=e,this.element=t,this.renderer=n,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe(e=>{e instanceof Y&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(e=>this.update()),this.linksWithHrefs.changes.subscribe(e=>this.update()),this.update()}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){return t=>e.isActive(t.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(nn),o.Tb(o.n),o.Tb(o.I),o.Tb(on,8),o.Tb(rn,8))},e.\u0275dir=o.Ob({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var i;1&e&&(o.Mb(n,on,!0),o.Mb(n,rn,!0)),2&e&&(o.Dc(i=o.ic())&&(t.links=i),o.Dc(i=o.ic())&&(t.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[o.Fb]}),e})();class cn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ln,this.attachRef=null}}class ln{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new cn,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let un=(()=>{class e{constructor(e,t,n,i,r){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.p,this.deactivateEvents=new o.p,this.name=i||oe,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,o=new dn(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(ln),o.Tb(o.S),o.Tb(o.l),o.ec("name"),o.Tb(o.i))},e.\u0275dir=o.Ob({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class dn{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Ke?this.route:e===ln?this.childContexts:this.parent.get(e,t)}}class hn{}class pn{preload(e,t){return Object(r.a)(null)}}let gn=(()=>{class e{constructor(e,t,n,i,o){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new Xt(t,n,t=>e.triggerEvent(new Q(t)),t=>e.triggerEvent(new X(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(m.a)(e=>e instanceof Y),Object(R.a)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(o.C);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const i of t)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const e=i._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(e,i)):i.children&&n.push(this.processRoutes(e,i.children));return Object(s.a)(n).pipe(Object(F.a)(),Object(g.a)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(Object(M.a)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(o.dc(nn),o.dc(o.B),o.dc(o.j),o.dc(o.u),o.dc(hn))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e})(),fn=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Y&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ne&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new ne(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(e){o.gc()},e.\u0275dir=o.Ob({type:e}),e})();const mn=new o.t("ROUTER_CONFIGURATION"),bn=new o.t("ROUTER_FORROOT_GUARD"),vn=[i.o,{provide:ke,useClass:Ae},{provide:nn,useFactory:function(e,t,n,o,r,s,a,c={},l,u){const d=new nn(null,e,t,n,o,r,s,me(a));if(l&&(d.urlHandlingStrategy=l),u&&(d.routeReuseStrategy=u),c.errorHandler&&(d.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(d.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){const e=Object(i.Q)();d.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return c.onSameUrlNavigation&&(d.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(d.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(d.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(d.relativeLinkResolution=c.relativeLinkResolution),d},deps:[ke,ln,i.o,o.u,o.B,o.j,Qt,mn,[class{},new o.F],[class{},new o.F]]},ln,{provide:Ke,useFactory:function(e){return e.routerState.root},deps:[nn]},{provide:o.B,useClass:o.O},gn,pn,class{preload(e,t){return t().pipe(Object(k.a)(()=>Object(r.a)(null)))}},{provide:mn,useValue:{enableTracing:!1}}];function yn(){return new o.D("Router",nn)}let _n=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[vn,Tn(t),{provide:bn,useFactory:On,deps:[[nn,new o.F,new o.N]]},{provide:mn,useValue:n||{}},{provide:i.p,useFactory:Sn,deps:[i.E,[new o.s(i.a),new o.F],mn]},{provide:fn,useFactory:Cn,deps:[nn,i.J,mn]},{provide:hn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:pn},{provide:o.D,multi:!0,useFactory:yn},[wn,{provide:o.d,multi:!0,useFactory:kn,deps:[wn]},{provide:En,useFactory:An,deps:[wn]},{provide:o.b,multi:!0,useExisting:En}]]}}static forChild(t){return{ngModule:e,providers:[Tn(t)]}}}return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)(o.dc(bn,8),o.dc(nn,8))}}),e})();function Cn(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new fn(e,t,n)}function Sn(e,t,n={}){return n.useHash?new i.i(e,t):new i.C(e,t)}function On(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Tn(e){return[{provide:o.a,multi:!0,useValue:e},{provide:Qt,multi:!0,useValue:e}]}let wn=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new h.a}appInitializer(){return this.injector.get(i.n,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(nn),i=this.injector.get(mn);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(r.a)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(mn),n=this.injector.get(gn),i=this.injector.get(fn),r=this.injector.get(nn),s=this.injector.get(o.g);e===s.components[0]&&(this.isLegacyEnabled(t)?r.initialNavigation():this.isLegacyDisabled(t)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}return e.\u0275fac=function(t){return new(t||e)(o.dc(o.u))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac}),e})();function kn(e){return e.appInitializer.bind(e)}function An(e){return e.bootstrapListener.bind(e)}const En=new o.t("Router Initializer")},u8Dt:function(e,t,n){var i=n("YESw"),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},uHNT:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("mrSG"),o=n("fXoL"),r=n("y6l0"),s=n("AytR"),a=n("jtHE"),c=n("LYOT");let l=(()=>{class e{constructor(e){this.contentfulService=e,this.COPY_LIMIT=1e3,this.flightAlertsMap=new Map,this.alertsBySectionMap=new Map,this.updateFlightAlerts$=new o.p,this.removeFlightAlert$=new o.p,this.$serviceReady=new a.a(1),this.load()}load(){return new Promise((e,t)=>{try{this.flightAlertsMap.size?(e(),this.$serviceReady.closed||(this.$serviceReady.next(),this.$serviceReady.complete())):this.getFlightAlerts().then(()=>{e(),this.$serviceReady.closed||(this.$serviceReady.next(),this.$serviceReady.complete())})}catch(n){t(n)}})}getFlightAlerts(){return Object(i.a)(this,void 0,void 0,(function*(){const e=(yield this.contentfulService.getEntries({content_type:"messages","fields.display[nin]":`${r.c.FAREBADGE},${r.c.FAREICON}`,"fields.type[nin]":"FlightStatus",include:5,limit:this.COPY_LIMIT})).items.map(e=>e.fields);this.addFlightAlertsToMap(e)}))}addFlightAlertsToMap(e){e&&e.length&&e.forEach(e=>this.addAlert(this.standardizeAlertKeys(e)))}standardizeAlertKeys(e){return Object.assign(Object.assign({},e),{display:e.display?e.display.toLowerCase().replace(" ","-"):null,displayColor:e.displayColor?e.displayColor.toLowerCase().replace(" ","-"):null,displayImage:e.displayImage?e.displayImage.toLowerCase().replace(" ","-"):null})}addAlert(e){if(e&&e.code&&e.display&&e.displayColor&&e.displayImage){if("inpage"===e.display&&e.section){const t=this.alertsBySectionMap.get(e.section)||[];t.push(e),this.alertsBySectionMap.set(e.section,t)}this.flightAlertsMap.set(e.code,e)}}getAlert(e){const t=this.flightAlertsMap.get(e);return t||s.g.production||console.warn('CMSFlightsAlerts: Code for "'+e+'" was not found.'),t||void 0}addCurrentAlert(e){e&&e.length&&e.forEach(e=>{const t=this.getAlert(e.code);t&&this.updateFlightAlerts$.emit({alert:t})})}addCurrentAlertRegex(e,t=[]){if(e.code){const n=this.getAlert(e.code);n&&this.updateFlightAlerts$.emit({alert:n,regexReplaceValues:t})}}removeCurrentAlert(e){if(e){const t=this.getAlert(e.code);t&&this.removeFlightAlert$.emit(t)}}get ready(){return this.$serviceReady.asObservable().toPromise()}getAlertBySection(e){return this.alertsBySectionMap.get(e)||[]}}return e.\u0275fac=function(t){return new(t||e)(o.dc(c.a))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},uQub:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),o=n("ofXK");let r=(()=>{class e{constructor(e){this.document=e,this.showModal$=new i.p}openModal(){this.showModal$.emit(!0),this.document.body.classList.add("open-modal")}closeModal(){this.showModal$.emit(!1),this.document.body.classList.remove("open-modal")}}return e.\u0275fac=function(t){return new(t||e)(i.dc(o.e))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},uYuu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));class i{}var o=function(e){return e[e.FLIGHT_RESULTS=0]="FLIGHT_RESULTS",e[e.FLIGHT_RESULTS_FLEX=1]="FLIGHT_RESULTS_FLEX",e[e.SELECTED_SECTION=2]="SELECTED_SECTION",e[e.IROP_SELECTION=3]="IROP_SELECTION",e}({})},ur0o:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ofXK"),o=n("h3XU"),r=n("o5mt"),s=n("fXoL");let a=(()=>{class e{}return e.\u0275mod=s.Rb({type:e}),e.\u0275inj=s.Qb({factory:function(t){return new(t||e)},imports:[[i.c,o.a,r.a]]}),e})()},vDqi:function(e,t,n){e.exports=n("zuR4")},vbKG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(e,t){return e(t={exports:{}},t.exports),t.exports}var r=function(e){return e&&e.Math==Math&&e},s=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof i&&i)||Function("return this")(),a=function(e){try{return!!e()}catch(t){return!0}},c=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),l={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,d={f:u&&!l.call({1:2},1)?function(e){var t=u(this,e);return!!t&&t.enumerable}:l},h=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},p={}.toString,g="".split,f=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==function(e){return p.call(e).slice(8,-1)}(e)?g.call(e,""):Object(e)}:Object,m=function(e){return f(function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}(e))},b=function(e){return"object"==typeof e?null!==e:"function"==typeof e},v=function(e,t){if(!b(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!b(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!b(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!b(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},y={}.hasOwnProperty,_=function(e,t){return y.call(e,t)},C=s.document,S=b(C)&&b(C.createElement),O=function(e){return S?C.createElement(e):{}},T=!c&&!a((function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a})),w=Object.getOwnPropertyDescriptor,k={f:c?w:function(e,t){if(e=m(e),t=v(t,!0),T)try{return w(e,t)}catch(n){}if(_(e,t))return h(!d.f.call(e,t),e[t])}},A=function(e){if(!b(e))throw TypeError(String(e)+" is not an object");return e},E=Object.defineProperty,M={f:c?E:function(e,t,n){if(A(e),t=v(t,!0),A(n),T)try{return E(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},P=c?function(e,t,n){return M.f(e,t,h(1,n))}:function(e,t,n){return e[t]=n,e},D=function(e,t){try{P(s,e,t)}catch(n){s[e]=t}return t},x=s["__core-js_shared__"]||D("__core-js_shared__",{}),I=Function.toString;"function"!=typeof x.inspectSource&&(x.inspectSource=function(e){return I.call(e)});var L,R,N,j=x.inspectSource,B=s.WeakMap,F="function"==typeof B&&/native code/.test(j(B)),H=o((function(e){(e.exports=function(e,t){return x[e]||(x[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})})),U=0,Y=Math.random(),G=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++U+Y).toString(36)},V=H("keys"),Z=function(e){return V[e]||(V[e]=G(e))},$={};if(F){var W=new(0,s.WeakMap),K=W.get,z=W.has,Q=W.set;L=function(e,t){return Q.call(W,e,t),t},R=function(e){return K.call(W,e)||{}},N=function(e){return z.call(W,e)}}else{var X=Z("state");$[X]=!0,L=function(e,t){return P(e,X,t),t},R=function(e){return _(e,X)?e[X]:{}},N=function(e){return _(e,X)}}var q={set:L,get:R,has:N,enforce:function(e){return N(e)?R(e):L(e,{})},getterFor:function(e){return function(t){var n;if(!b(t)||(n=R(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},J=o((function(e){var t=q.get,n=q.enforce,i=String(String).split("String");(e.exports=function(e,t,o,r){var a=!!r&&!!r.unsafe,c=!!r&&!!r.enumerable,l=!!r&&!!r.noTargetGet;"function"==typeof o&&("string"!=typeof t||_(o,"name")||P(o,"name",t),n(o).source=i.join("string"==typeof t?t:"")),e!==s?(a?!l&&e[t]&&(c=!0):delete e[t],c?e[t]=o:P(e,t,o)):c?e[t]=o:D(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||j(this)}))})),ee=s,te=function(e){return"function"==typeof e?e:void 0},ne=function(e,t){return arguments.length<2?te(ee[e])||te(s[e]):ee[e]&&ee[e][t]||s[e]&&s[e][t]},ie=Math.ceil,oe=Math.floor,re=function(e){return isNaN(e=+e)?0:(e>0?oe:ie)(e)},se=Math.min,ae=Math.max,ce=Math.min,le=function(e){return function(t,n,i){var o,r,s=m(t),a=(o=s.length)>0?se(re(o),9007199254740991):0,c=function(e,t){var n=re(e);return n<0?ae(n+t,0):ce(n,t)}(i,a);if(e&&n!=n){for(;a>c;)if((r=s[c++])!=r)return!0}else for(;a>c;c++)if((e||c in s)&&s[c]===n)return e||c||0;return!e&&-1}},ue={includes:le(!0),indexOf:le(!1)},de=ue.indexOf,he=function(e,t){var n,i=m(e),o=0,r=[];for(n in i)!_($,n)&&_(i,n)&&r.push(n);for(;t.length>o;)_(i,n=t[o++])&&(~de(r,n)||r.push(n));return r},pe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ge=pe.concat("length","prototype"),fe={f:Object.getOwnPropertyNames||function(e){return he(e,ge)}},me={f:Object.getOwnPropertySymbols},be=ne("Reflect","ownKeys")||function(e){var t=fe.f(A(e)),n=me.f;return n?t.concat(n(e)):t},ve=function(e,t){for(var n=be(t),i=M.f,o=k.f,r=0;r<n.length;r++){var s=n[r];_(e,s)||i(e,s,o(t,s))}},ye=/#|\.prototype\./,_e=function(e,t){var n=Se[Ce(e)];return n==Te||n!=Oe&&("function"==typeof t?a(t):!!t)},Ce=_e.normalize=function(e){return String(e).replace(ye,".").toLowerCase()},Se=_e.data={},Oe=_e.NATIVE="N",Te=_e.POLYFILL="P",we=_e,ke=k.f,Ae=function(e,t){var n,i,o,r,a,c=e.target,l=e.global,u=e.stat;if(n=l?s:u?s[c]||D(c,{}):(s[c]||{}).prototype)for(i in t){if(r=t[i],o=e.noTargetGet?(a=ke(n,i))&&a.value:n[i],!we(l?i:c+(u?".":"#")+i,e.forced)&&void 0!==o){if(typeof r==typeof o)continue;ve(r,o)}(e.sham||o&&o.sham)&&P(r,"sham",!0),J(n,i,r,e)}},Ee=Object.keys||function(e){return he(e,pe)},Me=d.f,Pe=function(e){return function(t){for(var n,i=m(t),o=Ee(i),r=o.length,s=0,a=[];r>s;)n=o[s++],c&&!Me.call(i,n)||a.push(e?[n,i[n]]:i[n]);return a}},De=(Pe(!0),Pe(!1));Ae({target:"Object",stat:!0},{values:function(e){return De(e)}});var xe,Ie=!!Object.getOwnPropertySymbols&&!a((function(){return!String(Symbol())})),Le=Ie&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Re=H("wks"),Ne=s.Symbol,je=Le?Ne:Ne&&Ne.withoutSetter||G,Be=c?Object.defineProperties:function(e,t){A(e);for(var n,i=Ee(t),o=i.length,r=0;o>r;)M.f(e,n=i[r++],t[n]);return e},Fe=ne("document","documentElement"),He=Z("IE_PROTO"),Ue=function(){},Ye=function(e){return"<script>"+e+"<\/script>"},Ge=function(){try{xe=document.domain&&new ActiveXObject("htmlfile")}catch(i){}var e,t;Ge=xe?function(e){e.write(Ye("")),e.close();var t=e.parentWindow.Object;return e=null,t}(xe):((t=O("iframe")).style.display="none",Fe.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Ye("document.F=Object")),e.close(),e.F);for(var n=pe.length;n--;)delete Ge.prototype[pe[n]];return Ge()};$[He]=!0;var Ve,Ze=Object.create||function(e,t){var n;return null!==e?(Ue.prototype=A(e),n=new Ue,Ue.prototype=null,n[He]=e):n=Ge(),void 0===t?n:Be(n,t)},$e=(_(Re,Ve="unscopables")||(Re[Ve]=Ie&&_(Ne,Ve)?Ne[Ve]:je("Symbol."+Ve)),Re[Ve]),We=Array.prototype;null==We[$e]&&M.f(We,$e,{configurable:!0,value:Ze(null)});var Ke=Object.defineProperty,ze={},Qe=function(e){throw e},Xe=ue.includes;Ae({target:"Array",proto:!0,forced:!function(e,t){if(_(ze,"indexOf"))return ze.indexOf;t||(t={});var n=[].indexOf,i=!!_(t,"ACCESSORS")&&t.ACCESSORS,o=_(t,0)?t[0]:Qe,r=_(t,1)?t[1]:void 0;return ze.indexOf=!!n&&!a((function(){if(i&&!c)return!0;var e={length:-1};i?Ke(e,1,{enumerable:!0,get:Qe}):e[1]=1,n.call(e,o,r)}))}(0,{ACCESSORS:!0,1:0})},{includes:function(e){return Xe(this,e,arguments.length>1?arguments[1]:void 0)}}),We[$e].includes=!0,function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function")}(e),void 0===t);}(Function.call,s.Array.prototype.includes);var qe,Je=function(e){return e.DOCUMENT="document",e.PARAGRAPH="paragraph",e.HEADING_1="heading-1",e.HEADING_2="heading-2",e.HEADING_3="heading-3",e.HEADING_4="heading-4",e.HEADING_5="heading-5",e.HEADING_6="heading-6",e.OL_LIST="ordered-list",e.UL_LIST="unordered-list",e.LIST_ITEM="list-item",e.HR="hr",e.QUOTE="blockquote",e.EMBEDDED_ENTRY="embedded-entry-block",e.EMBEDDED_ASSET="embedded-asset-block",e}({}),et=function(e){return e.HYPERLINK="hyperlink",e.ENTRY_HYPERLINK="entry-hyperlink",e.ASSET_HYPERLINK="asset-hyperlink",e.EMBEDDED_ENTRY="embedded-entry-inline",e}({}),tt=[Je.PARAGRAPH,Je.HEADING_1,Je.HEADING_2,Je.HEADING_3,Je.HEADING_4,Je.HEADING_5,Je.HEADING_6,Je.OL_LIST,Je.UL_LIST,Je.HR,Je.QUOTE,Je.EMBEDDED_ENTRY,Je.EMBEDDED_ASSET],nt=[Je.HR,Je.EMBEDDED_ENTRY,Je.EMBEDDED_ASSET],it=((qe={})[Je.OL_LIST]=[Je.LIST_ITEM],qe[Je.UL_LIST]=[Je.LIST_ITEM],qe[Je.LIST_ITEM]=tt.slice(),qe[Je.QUOTE]=[Je.PARAGRAPH],qe),ot={nodeType:Je.DOCUMENT,data:{},content:[{nodeType:Je.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]},rt=Object.freeze({isInline:function(e){return Object.values(et).includes(e.nodeType)},isBlock:function(e){return Object.values(Je).includes(e.nodeType)},isText:function(e){return"text"===e.nodeType}});t.BLOCKS=Je,t.CONTAINERS=it,t.EMPTY_DOCUMENT=ot,t.INLINES=et,t.MARKS={BOLD:"bold",ITALIC:"italic",UNDERLINE:"underline",CODE:"code"},t.TOP_LEVEL_BLOCKS=tt,t.VOID_BLOCKS=nt,t.helpers=rt},vkgz:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("7o/Q");function o(){}var r=n("n6bG");function s(e,t,n){return function(i){return i.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new c(e,this.nextOrObserver,this.error,this.complete))}}class c extends i.a{constructor(e,t,n,i){super(e),this._tapNext=o,this._tapError=o,this._tapComplete=o,this._tapError=n||o,this._tapComplete=i||o,Object(r.a)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||o,this._tapError=t.error||o,this._tapComplete=t.complete||o)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},vxfF:function(e,t,n){"use strict";n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return F})),n.d(t,"d",(function(){return G}));var i=n("fXoL");function o(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}var r=n("XNiG"),s=n("LRne"),a=n("HDdC"),c=n("xgIS"),l=n("eNwd"),u=n("7Hc7"),d=n("quSY");function h(e){return!!e&&(e instanceof a.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var p=n("/uUt"),g=n("3UWI"),f=n("pLZG"),m=n("1G5W"),b=n("JX91"),v=n("Zy1z"),y=n("eIep"),_=n("UXun"),C=n("nLfN"),S=n("ofXK");const O=new i.t("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.Z)(S.e)}});let T=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new i.p,e){const t=e.documentElement?e.documentElement.dir:null,n=(e.body?e.body.dir:null)||t;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(i.dc(O,8))},e.\u0275prov=i.Pb({factory:function(){return new e(i.dc(O,8))},token:e,providedIn:"root"}),e})(),w=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)}}),e})();class k extends class{}{constructor(e){super(),this._data=e}connect(){return h(this._data)?this._data:Object(s.a)(this._data)}disconnect(){}}class A{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,t,n,i,o){e.forEachOperation((e,r,s)=>{let a,c;null==e.previousIndex?(a=this._insertView(()=>n(e,r,s),s,t,i(e)),c=a?1:0):null==s?(this._detachAndCacheView(r,t),c=3):(a=this._moveView(r,s,t,i(e)),c=2),o&&o({context:null==a?void 0:a.context,operation:c,record:e})})}detach(){for(const e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,t,n,i){const o=this._insertViewFromCache(t,n);if(o)return void(o.context.$implicit=i);const r=e();return n.createEmbeddedView(r.templateRef,r.context,r.index)}_detachAndCacheView(e,t){const n=t.detach(e);this._maybeCacheView(n,t)}_moveView(e,t,n,i){const o=n.get(e);return n.move(o,t),o.context.$implicit=i,o}_maybeCacheView(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{const n=t.indexOf(e);-1===n?e.destroy():t.remove(n)}}_insertViewFromCache(e,t){const n=this._viewCache.pop();return n&&t.insert(n,e),n||null}}const E=new i.t("_ViewRepeater"),M=["contentWrapper"],P=["*"],D=new i.t("VIRTUAL_SCROLL_STRATEGY");class x{constructor(e,t,n){this._scrolledIndexChange=new r.a,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Object(p.a)()),this._viewport=null,this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=n}attach(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(e,t,n){this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(e,t){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,t)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const e=this._viewport.getRenderedRange(),t={start:e.start,end:e.end},n=this._viewport.getViewportSize(),i=this._viewport.getDataLength();let o=this._viewport.measureScrollOffset(),r=this._itemSize>0?o/this._itemSize:0;if(t.end>i){const e=Math.ceil(n/this._itemSize),s=Math.max(0,Math.min(r,i-e));r!=s&&(r=s,o=s*this._itemSize,t.start=Math.floor(r)),t.end=Math.max(0,Math.min(i,t.start+e))}const s=o-t.start*this._itemSize;if(s<this._minBufferPx&&0!=t.start){const e=Math.ceil((this._maxBufferPx-s)/this._itemSize);t.start=Math.max(0,t.start-e),t.end=Math.min(i,Math.ceil(r+(n+this._minBufferPx)/this._itemSize))}else{const e=t.end*this._itemSize-(o+n);if(e<this._minBufferPx&&t.end!=i){const n=Math.ceil((this._maxBufferPx-e)/this._itemSize);n>0&&(t.end=Math.min(i,t.end+n),t.start=Math.max(0,Math.floor(r-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(t),this._viewport.setRenderedContentOffset(this._itemSize*t.start),this._scrolledIndexChange.next(Math.floor(r))}}function I(e){return e._scrollStrategy}let L=(()=>{class e{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new x(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=o(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=o(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=o(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Ob({type:e,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[i.Gb([{provide:D,useFactory:I,deps:[Object(i.Y)(()=>e)]}]),i.Fb]}),e})(),R=(()=>{class e{constructor(e,t,n){this._ngZone=e,this._platform=t,this._scrolled=new r.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new a.a(t=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe(Object(g.a)(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(s.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Object(f.a)(e=>!e||n.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,e)&&t.push(i)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let n=(o=t)instanceof i.n?o.nativeElement:o;var o;let r=e.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const e=this._getWindow();return Object(c.a)(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(i.dc(i.E),i.dc(C.a),i.dc(S.e,8))},e.\u0275prov=i.Pb({factory:function(){return new e(i.dc(i.E),i.dc(C.a),i.dc(S.e,8))},token:e,providedIn:"root"}),e})(),N=(()=>{class e{constructor(e,t,n,i){this.elementRef=e,this.scrollDispatcher=t,this.ngZone=n,this.dir=i,this._destroyed=new r.a,this._elementScrolled=new a.a(e=>this.ngZone.runOutsideAngular(()=>Object(c.a)(this.elementRef.nativeElement,"scroll").pipe(Object(m.a)(this._destroyed)).subscribe(e)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const t=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=n?e.end:e.start),null==e.right&&(e.right=n?e.start:e.end),null!=e.bottom&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),n&&0!=Object(C.c)()?(null!=e.left&&(e.right=t.scrollWidth-t.clientWidth-e.left),2==Object(C.c)()?e.left=e.right:1==Object(C.c)()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const t=this.elementRef.nativeElement;Object(C.d)()?t.scrollTo(e):(null!=e.top&&(t.scrollTop=e.top),null!=e.left&&(t.scrollLeft=e.left))}measureScrollOffset(e){const t=this.elementRef.nativeElement;if("top"==e)return t.scrollTop;if("bottom"==e)return t.scrollHeight-t.clientHeight-t.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==e?e=n?"right":"left":"end"==e&&(e=n?"left":"right"),n&&2==Object(C.c)()?"left"==e?t.scrollWidth-t.clientWidth-t.scrollLeft:t.scrollLeft:n&&1==Object(C.c)()?"left"==e?t.scrollLeft+t.scrollWidth-t.clientWidth:-t.scrollLeft:"left"==e?t.scrollLeft:t.scrollWidth-t.clientWidth-t.scrollLeft}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.n),i.Tb(R),i.Tb(i.E),i.Tb(T,8))},e.\u0275dir=i.Ob({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),e})(),j=(()=>{class e{constructor(e,t,n){this._platform=e,this._change=new r.a,this._changeListener=e=>{this._change.next(e)},this._document=n,t.runOutsideAngular(()=>{if(e.isBrowser){const e=this._getWindow();e.addEventListener("resize",this._changeListener),e.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,t=this._getWindow(),n=e.documentElement,i=n.getBoundingClientRect();return{top:-i.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-i.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Object(g.a)(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(i.dc(C.a),i.dc(i.E),i.dc(S.e,8))},e.\u0275prov=i.Pb({factory:function(){return new e(i.dc(C.a),i.dc(i.E),i.dc(S.e,8))},token:e,providedIn:"root"}),e})();const B="undefined"!=typeof requestAnimationFrame?l.a:u.a;let F=(()=>{class e extends N{constructor(e,t,n,i,o,s,c){super(e,s,n,o),this.elementRef=e,this._changeDetectorRef=t,this._scrollStrategy=i,this._detachedSubject=new r.a,this._renderedRangeSubject=new r.a,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new a.a(e=>this._scrollStrategy.scrolledIndexChange.subscribe(t=>Promise.resolve().then(()=>this.ngZone.run(()=>e.next(t))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=d.a.EMPTY,this._viewportChanges=c.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function(e){return null!=e&&""+e!="false"}(e)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Object(b.a)(null),Object(g.a)(0,B)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Object(m.a)(this._detachedSubject)).subscribe(e=>{const t=e.length;t!==this._dataLength&&(this._dataLength=t,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){var t,n;((t=this._renderedRange).start!=(n=e).start||t.end!=n.end)&&(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,t="to-start"){const n="horizontal"==this.orientation,i=n?"X":"Y";let o=`translate${i}(${Number((n&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===t&&(o+=` translate${i}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=o&&(this._renderedContentTransform=o,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,t="auto"){const n={behavior:t};"horizontal"===this.orientation?n.start=e:n.top=e,this.scrollTo(n)}scrollToIndex(e,t="auto"){this._scrollStrategy.scrollToIndex(e,t)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const t of e)t()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":this._totalContentSize+"px",this._totalContentWidth="horizontal"===this.orientation?this._totalContentSize+"px":""}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.n),i.Tb(i.i),i.Tb(i.E),i.Tb(D,8),i.Tb(T,8),i.Tb(R),i.Tb(j))},e.\u0275cmp=i.Nb({type:e,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,t){var n;1&e&&i.Nc(M,!0),2&e&&i.Dc(n=i.ic())&&(t._contentWrapper=n.first)},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,t){2&e&&i.Lb("cdk-virtual-scroll-orientation-horizontal","horizontal"===t.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==t.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[i.Gb([{provide:N,useExisting:e}]),i.Eb],ngContentSelectors:P,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,t){1&e&&(i.rc(),i.Zb(0,"div",0,1),i.qc(2),i.Yb(),i.Ub(3,"div",2)),2&e&&(i.Hb(3),i.Pc("width",t._totalContentWidth)("height",t._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),e})();function H(e,t,n){if(!n.getBoundingClientRect)return 0;const i=n.getBoundingClientRect();return"horizontal"===e?"start"===t?i.left:i.right:"start"===t?i.top:i.bottom}let U=(()=>{class e{constructor(e,t,n,i,o,s){this._viewContainerRef=e,this._template=t,this._differs=n,this._viewRepeater=i,this._viewport=o,this.viewChange=new r.a,this._dataSourceChanges=new r.a,this.dataStream=this._dataSourceChanges.pipe(Object(b.a)(null),Object(v.a)(),Object(y.a)(([e,t])=>this._changeDataSource(e,t)),Object(_.a)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new r.a,this.dataStream.subscribe(e=>{this._data=e,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Object(m.a)(this._destroyed)).subscribe(e=>{this._renderedRange=e,s.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function(e){return e&&"function"==typeof e.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new k(h(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(t,n)=>e(t+(this._renderedRange?this._renderedRange.start:0),n):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=o(e)}measureRangeSize(e,t){if(e.start>=e.end)return 0;const n=e.start-this._renderedRange.start,i=e.end-e.start;let o,r;for(let s=0;s<i;s++){const e=this._viewContainerRef.get(s+n);if(e&&e.rootNodes.length){o=r=e.rootNodes[0];break}}for(let s=i-1;s>-1;s--){const e=this._viewContainerRef.get(s+n);if(e&&e.rootNodes.length){r=e.rootNodes[e.rootNodes.length-1];break}}return o&&r?H(t,"end",r)-H(t,"start",o):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,t)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,t):t)),this._needsUpdate=!0)}_changeDataSource(e,t){return e&&e.disconnect(this),this._needsUpdate=!0,t?t.connect(this):Object(s.a)()}_updateContext(){const e=this._data.length;let t=this._viewContainerRef.length;for(;t--;){const n=this._viewContainerRef.get(t);n.context.index=this._renderedRange.start+t,n.context.count=e,this._updateComputedContextProperties(n.context),n.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(e,t,n)=>this._getEmbeddedViewArgs(e,n),e=>e.item),e.forEachIdentityChange(e=>{this._viewContainerRef.get(e.currentIndex).context.$implicit=e.item});const t=this._data.length;let n=this._viewContainerRef.length;for(;n--;){const e=this._viewContainerRef.get(n);e.context.index=this._renderedRange.start+n,e.context.count=t,this._updateComputedContextProperties(e.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,t){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:t}}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.S),i.Tb(i.P),i.Tb(i.w),i.Tb(E),i.Tb(F,4),i.Tb(i.E))},e.\u0275dir=i.Ob({type:e,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[i.Gb([{provide:E,useClass:A}])]}),e})(),Y=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)}}),e})(),G=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[w,C.b,Y],w,Y]}),e})()},"w/wX":function(e,t,n){var i=n("QqLw"),o=n("ExA7");e.exports=function(e){return o(e)&&"[object Set]"==i(e)}},w0Vi:function(e,t,n){"use strict";var i=n("xTJ+"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,r,s={};return e?(i.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=i.trim(e.substr(0,r)).toLowerCase(),n=i.trim(e.substr(r+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},w1tV:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("oB13"),o=n("x+ZX"),r=n("XNiG");function s(){return new r.a}function a(){return e=>Object(o.a)()(Object(i.a)(s)(e))}},wJg7:function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},wMS7:function(e,t,n){e.exports=function(){"use strict";var e=Object.hasOwnProperty,t=Object.setPrototypeOf,n=Object.isFrozen,i=Object.getPrototypeOf,o=Object.getOwnPropertyDescriptor,r=Object.freeze,s=Object.seal,a=Object.create,c="undefined"!=typeof Reflect&&Reflect,l=c.apply,u=c.construct;l||(l=function(e,t,n){return e.apply(t,n)}),r||(r=function(e){return e}),s||(s=function(e){return e}),u||(u=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var d,h=O(Array.prototype.forEach),p=O(Array.prototype.pop),g=O(Array.prototype.push),f=O(String.prototype.toLowerCase),m=O(String.prototype.match),b=O(String.prototype.replace),v=O(String.prototype.indexOf),y=O(String.prototype.trim),C=O(RegExp.prototype.test),S=(d=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(d,t)});function O(e){return function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return l(e,t,i)}}function T(e,i){t&&t(e,null);for(var o=i.length;o--;){var r=i[o];if("string"==typeof r){var s=f(r);s!==r&&(n(i)||(i[o]=s),r=s)}e[r]=!0}return e}function w(t){var n=a(null),i=void 0;for(i in t)l(e,t,[i])&&(n[i]=t[i]);return n}function k(e,t){for(;null!==e;){var n=o(e,t);if(n){if(n.get)return O(n.get);if("function"==typeof n.value)return O(n.value)}e=i(e)}return null}var A=r(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E=r(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),M=r(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),P=r(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),D=r(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),x=r(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),I=r(["#text"]),L=r(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),R=r(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),N=r(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),j=r(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),B=s(/\{\{[\s\S]*|[\s\S]*\}\}/gm),F=s(/<%[\s\S]*|[\s\S]*%>/gm),H=s(/^data-[\-\w.\u00B7-\uFFFF]/),U=s(/^aria-[\-\w]+$/),Y=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),G=s(/^(?:\w+script|data):/i),V=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function $(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var W=function(){return"undefined"==typeof window?null:window},K=function(e,t){if("object"!==(void 0===e?"undefined":Z(e))||"function"!=typeof e.createPolicy)return null;var n=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=t.currentScript.getAttribute("data-tt-policy-suffix"));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(e){return e}})}catch(_){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W(),n=function(t){return e(t)};if(n.version="2.2.6",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var i=t.document,o=t.document,s=t.DocumentFragment,a=t.HTMLTemplateElement,c=t.Node,l=t.Element,u=t.NodeFilter,d=t.NamedNodeMap,O=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,z=t.Text,Q=t.Comment,X=t.DOMParser,q=t.trustedTypes,J=l.prototype,ee=k(J,"cloneNode"),te=k(J,"nextSibling"),ne=k(J,"childNodes"),ie=k(J,"parentNode");if("function"==typeof a){var oe=o.createElement("template");oe.content&&oe.content.ownerDocument&&(o=oe.content.ownerDocument)}var re=K(q,i),se=re&&Be?re.createHTML(""):"",ae=o,ce=ae.implementation,le=ae.createNodeIterator,ue=ae.getElementsByTagName,de=ae.createDocumentFragment,he=i.importNode,pe={};try{pe=w(o).documentMode?o.documentMode:{}}catch(_){}var ge={};n.isSupported=ce&&void 0!==ce.createHTMLDocument&&9!==pe;var fe=B,me=F,be=H,ve=U,ye=G,_e=V,Ce=Y,Se=null,Oe=T({},[].concat($(A),$(E),$(M),$(D),$(I))),Te=null,we=T({},[].concat($(L),$(R),$(N),$(j))),ke=null,Ae=null,Ee=!0,Me=!0,Pe=!1,De=!1,xe=!1,Ie=!1,Le=!1,Re=!1,Ne=!1,je=!0,Be=!1,Fe=!0,He=!0,Ue=!1,Ye={},Ge=T({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ve=null,Ze=T({},["audio","video","img","source","image","track"]),$e=null,We=T({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ke=null,ze=o.createElement("form"),Qe=function(e){Ke&&Ke===e||(e&&"object"===(void 0===e?"undefined":Z(e))||(e={}),e=w(e),Se="ALLOWED_TAGS"in e?T({},e.ALLOWED_TAGS):Oe,Te="ALLOWED_ATTR"in e?T({},e.ALLOWED_ATTR):we,$e="ADD_URI_SAFE_ATTR"in e?T(w(We),e.ADD_URI_SAFE_ATTR):We,Ve="ADD_DATA_URI_TAGS"in e?T(w(Ze),e.ADD_DATA_URI_TAGS):Ze,ke="FORBID_TAGS"in e?T({},e.FORBID_TAGS):{},Ae="FORBID_ATTR"in e?T({},e.FORBID_ATTR):{},Ee=!1!==e.ALLOW_ARIA_ATTR,Me=!1!==e.ALLOW_DATA_ATTR,Pe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,xe=e.WHOLE_DOCUMENT||!1,Re=e.RETURN_DOM||!1,je=!1!==e.RETURN_DOM_IMPORT,Be=e.RETURN_TRUSTED_TYPE||!1,Le=e.FORCE_BODY||!1,Fe=!1!==e.SANITIZE_DOM,He=!1!==e.KEEP_CONTENT,Ue=e.IN_PLACE||!1,Ce=e.ALLOWED_URI_REGEXP||Ce,(De=e.SAFE_FOR_TEMPLATES||!1)&&(Me=!1),(Ne=e.RETURN_DOM_FRAGMENT||!1)&&(Re=!0),(Ye="USE_PROFILES"in e&&e.USE_PROFILES)&&(Se=T({},[].concat($(I))),Te=[],!0===Ye.html&&(T(Se,A),T(Te,L)),!0===Ye.svg&&(T(Se,E),T(Te,R),T(Te,j)),!0===Ye.svgFilters&&(T(Se,M),T(Te,R),T(Te,j)),!0===Ye.mathMl&&(T(Se,D),T(Te,N),T(Te,j))),e.ADD_TAGS&&(Se===Oe&&(Se=w(Se)),T(Se,e.ADD_TAGS)),e.ADD_ATTR&&(Te===we&&(Te=w(Te)),T(Te,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&T($e,e.ADD_URI_SAFE_ATTR),He&&(Se["#text"]=!0),xe&&T(Se,["html","head","body"]),Se.table&&(T(Se,["tbody"]),delete ke.tbody),r&&r(e),Ke=e)},Xe=T({},["mi","mo","mn","ms","mtext"]),qe=T({},["foreignobject","desc","title","annotation-xml"]),Je=T({},E);T(Je,M),T(Je,P);var et=T({},D);T(et,x);var tt="http://www.w3.org/1998/Math/MathML",nt="http://www.w3.org/2000/svg",it="http://www.w3.org/1999/xhtml",ot=function(e){var t=ie(e);t&&t.tagName||(t={namespaceURI:it,tagName:"template"});var n=f(e.tagName),i=f(t.tagName);if(e.namespaceURI===nt)return t.namespaceURI===it?"svg"===n:t.namespaceURI===tt?"svg"===n&&("annotation-xml"===i||Xe[i]):Boolean(Je[n]);if(e.namespaceURI===tt)return t.namespaceURI===it?"math"===n:t.namespaceURI===nt?"math"===n&&qe[i]:Boolean(et[n]);if(e.namespaceURI===it){if(t.namespaceURI===nt&&!qe[i])return!1;if(t.namespaceURI===tt&&!Xe[i])return!1;var o=T({},["title","style","font","a","script"]);return!et[n]&&(o[n]||!Je[n])}return!1},rt=function(e){g(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(_){try{e.outerHTML=se}catch(_){e.remove()}}},st=function(e,t){try{g(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(_){g(n.removed,{attribute:null,from:t})}t.removeAttribute(e)},at=function(e){var t=void 0,n=void 0;if(Le)e="<remove></remove>"+e;else{var i=m(e,/^[\r\n\t ]+/);n=i&&i[0]}var r=re?re.createHTML(e):e;try{t=(new X).parseFromString(r,"text/html")}catch(_){}if(!t||!t.documentElement){var s=(t=ce.createHTMLDocument("")).body;s.parentNode.removeChild(s.parentNode.firstElementChild),s.outerHTML=r}return e&&n&&t.body.insertBefore(o.createTextNode(n),t.body.childNodes[0]||null),ue.call(t,xe?"html":"body")[0]},ct=function(e){return le.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,(function(){return u.FILTER_ACCEPT}),!1)},lt=function(e){return!(e instanceof z||e instanceof Q||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof O&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI&&"function"==typeof e.insertBefore)},ut=function(e){return"object"===(void 0===c?"undefined":Z(c))?e instanceof c:e&&"object"===(void 0===e?"undefined":Z(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},dt=function(e,t,i){ge[e]&&h(ge[e],(function(e){e.call(n,t,i,Ke)}))},ht=function(e){var t=void 0;if(dt("beforeSanitizeElements",e,null),lt(e))return rt(e),!0;if(m(e.nodeName,/[\u0080-\uFFFF]/))return rt(e),!0;var i=f(e.nodeName);if(dt("uponSanitizeElement",e,{tagName:i,allowedTags:Se}),!ut(e.firstElementChild)&&(!ut(e.content)||!ut(e.content.firstElementChild))&&C(/<[/\w]/g,e.innerHTML)&&C(/<[/\w]/g,e.textContent))return rt(e),!0;if(!Se[i]||ke[i]){if(He&&!Ge[i])for(var o=ie(e),r=ne(e),s=r.length-1;s>=0;--s)o.insertBefore(ee(r[s],!0),te(e));return rt(e),!0}return e instanceof l&&!ot(e)?(rt(e),!0):"noscript"!==i&&"noembed"!==i||!C(/<\/no(script|embed)/i,e.innerHTML)?(De&&3===e.nodeType&&(t=b(t=e.textContent,fe," "),t=b(t,me," "),e.textContent!==t&&(g(n.removed,{element:e.cloneNode()}),e.textContent=t)),dt("afterSanitizeElements",e,null),!1):(rt(e),!0)},pt=function(e,t,n){if(Fe&&("id"===t||"name"===t)&&(n in o||n in ze))return!1;if(Me&&C(be,t));else if(Ee&&C(ve,t));else{if(!Te[t]||Ae[t])return!1;if($e[t]);else if(C(Ce,b(n,_e,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==v(n,"data:")||!Ve[e])if(Pe&&!C(ye,b(n,_e,"")));else if(n)return!1}return!0},gt=function(e){var t=void 0,i=void 0,o=void 0,r=void 0;dt("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Te};for(r=s.length;r--;){var c=(t=s[r]).name,l=t.namespaceURI;if(i=y(t.value),o=f(c),a.attrName=o,a.attrValue=i,a.keepAttr=!0,a.forceKeepAttr=void 0,dt("uponSanitizeAttribute",e,a),i=a.attrValue,!a.forceKeepAttr&&(st(c,e),a.keepAttr))if(C(/\/>/i,i))st(c,e);else{De&&(i=b(i,fe," "),i=b(i,me," "));var u=e.nodeName.toLowerCase();if(pt(u,o,i))try{l?e.setAttributeNS(l,c,i):e.setAttribute(c,i),p(n.removed)}catch(_){}}}dt("afterSanitizeAttributes",e,null)}},ft=function e(t){var n=void 0,i=ct(t);for(dt("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)dt("uponSanitizeShadowNode",n,null),ht(n)||(n.content instanceof s&&e(n.content),gt(n));dt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,o){var r=void 0,a=void 0,l=void 0,u=void 0,d=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!ut(e)){if("function"!=typeof e.toString)throw S("toString is not a function");if("string"!=typeof(e=e.toString()))throw S("dirty is not a string, aborting")}if(!n.isSupported){if("object"===Z(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(ut(e))return t.toStaticHTML(e.outerHTML)}return e}if(Ie||Qe(o),n.removed=[],"string"==typeof e&&(Ue=!1),Ue);else if(e instanceof c)1===(a=(r=at("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?r=a:r.appendChild(a);else{if(!Re&&!De&&!xe&&-1===e.indexOf("<"))return re&&Be?re.createHTML(e):e;if(!(r=at(e)))return Re?null:se}r&&Le&&rt(r.firstChild);for(var h=ct(Ue?e:r);l=h.nextNode();)3===l.nodeType&&l===u||ht(l)||(l.content instanceof s&&ft(l.content),gt(l),u=l);if(u=null,Ue)return e;if(Re){if(Ne)for(d=de.call(r.ownerDocument);r.firstChild;)d.appendChild(r.firstChild);else d=r;return je&&(d=he.call(i,d,!0)),d}var p=xe?r.outerHTML:r.innerHTML;return De&&(p=b(p,fe," "),p=b(p,me," ")),re&&Be?re.createHTML(p):p},n.setConfig=function(e){Qe(e),Ie=!0},n.clearConfig=function(){Ke=null,Ie=!1},n.isValidAttribute=function(e,t,n){Ke||Qe({});var i=f(e),o=f(t);return pt(i,o,n)},n.addHook=function(e,t){"function"==typeof t&&(ge[e]=ge[e]||[],g(ge[e],t))},n.removeHook=function(e){ge[e]&&p(ge[e])},n.removeHooks=function(e){ge[e]&&(ge[e]=[])},n.removeAllHooks=function(){ge={}},n}()}()},wYrS:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("fXoL"),o=n("3Pt+"),r=n("R0Ic");const s=Object(r.f)([Object(r.n)("openCloseModal",[Object(r.m)(":enter",[Object(r.l)({transform:"translate(-50%, 2000px)",opacity:0}),Object(r.e)(".5s cubic-bezier(0.165, 0.84, 0.44, 1)",Object(r.l)({transform:"translate(-50%, 0)",opacity:1}))]),Object(r.m)(":leave",[Object(r.l)({transform:"translate(-50%, 0)",opacity:1}),Object(r.e)(".5s cubic-bezier(0.165, 0.84, 0.44, 1)",Object(r.l)({transform:"translate(-50%, 20px)",opacity:0}))])])]);var a=n("uQub"),c=n("y4gz"),l=n("ofXK"),u=n("KC5F"),d=n("VXoX");function h(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",2),i.hc("click",(function(){i.Hc(e);const t=i.jc();return t.isMobile?t.closeModal():null})),i.Yb()}}function p(e,t){1&e&&(i.Zb(0,"small",24),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"ERROR_LABEL_PROMOCODE")," "))}function g(e,t){if(1&e){const e=i.ac();i.Zb(0,"button",25),i.hc("click",(function(){return i.Hc(e),i.jc(2).removePromocode()})),i.Zb(1,"div",26),i.Zb(2,"span"),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb()}2&e&&(i.Hb(3),i.Tc(i.lc(4,1,"BOOKER_ACTION_PROMOCODE-REMOVE")))}function f(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",3),i.Zb(1,"div",4),i.Zb(2,"div",5),i.Zb(3,"button",6),i.hc("click",(function(){return i.Hc(e),i.jc().closeModal()})),i.Ub(4,"i",7),i.Yb(),i.Zb(5,"h3",8),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(8,"div",9),i.Zb(9,"p",10),i.Sc(10),i.kc(11,"cmsTranslate"),i.Yb(),i.Zb(12,"form",11),i.hc("ngSubmit",(function(){return i.Hc(e),i.jc().sendPromocode()})),i.Zb(13,"div",12),i.Ub(14,"input",13),i.kc(15,"cmsTranslate"),i.Ub(16,"i",14),i.Zb(17,"label",15),i.Sc(18),i.kc(19,"cmsTranslate"),i.Yb(),i.Ub(20,"div",16),i.Zb(21,"div",17),i.Ub(22,"i",18),i.Yb(),i.Zb(23,"div",19),i.Ub(24,"i",7),i.Yb(),i.Yb(),i.Qc(25,p,3,3,"small",20),i.Ub(26,"hr",21),i.Zb(27,"button",22),i.Zb(28,"span"),i.Sc(29),i.kc(30,"cmsTranslate"),i.Yb(),i.Yb(),i.Qc(31,g,5,3,"button",23),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&e){const e=i.jc();i.sc("@openCloseModal",void 0),i.Hb(6),i.Uc(" ",i.lc(7,10,"BOOKER_LABEL_ADDPROMOCODE-TITLE")," "),i.Hb(4),i.Uc(" ",i.lc(11,12,"BOOKER_LABEL_ADDPROMOCODE-SUPPORT")," "),i.Hb(2),i.sc("formGroup",e.promocodeForm),i.Hb(2),i.sc("placeholder",i.lc(15,14,"BOOKER_LABEL_PROMOCODE-PLACEHOLDER")),i.Hb(4),i.Tc(i.lc(19,16,"BOOKER_LABEL_PROMOCODE")),i.Hb(7),i.sc("ngIf",e.promocodeForm.invalid&&e.promocodeForm.touched),i.Hb(2),i.sc("disabled",e.promocodeForm.invalid),i.Hb(2),i.Uc(" ",i.lc(30,18,e.promocode?"BOOKER_ACTION_PROMOCODE-UPDATE":"GLOBAL_ACTION_ADD")," "),i.Hb(2),i.sc("ngIf",e.promocode)}}let m=(()=>{class e{constructor(e,t){this.modalService=e,this.datalayerUxHome=t,this.showModal=!1,this.isMobile=!1,this.promocodeForm=new o.l({promocode:new o.i("",[o.I.required,o.I.minLength(4),o.I.maxLength(8)])}),this.promocode=void 0,this.typedPromocode=new i.p}ngOnInit(){window.innerWidth<=575&&(this.isMobile=!0),this.modalService.showModal$.subscribe(e=>{this.showModal=e,e&&this.onModalOpen()})}closeModal(){this.promocodeForm.reset(),this.modalService.closeModal()}onModalOpen(){this.promocodeForm.reset({promocode:this.promocode||""})}sendPromocode(){this.typedPromocode.emit(this.promocodeForm.value.promocode.toUpperCase()),this.datalayerUxHome.selectPromoCode(this.promocodeForm.value.promocode.toUpperCase()),this.modalService.closeModal()}removePromocode(){this.typedPromocode.emit(null),this.modalService.closeModal()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(a.a),i.Tb(c.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-coupons-modal"]],inputs:{promocode:"promocode"},outputs:{typedPromocode:"typedPromocode"},decls:2,vars:2,consts:[["class","overlay",3,"click",4,"ngIf"],["class","coupon-modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"coupon-modal"],[1,"coupon-modal-container"],[1,"coupon-modal-header"],[1,"modal-close","green",3,"click"],[1,"fas","fa-times"],[1,"title","coupon-modal-title"],[1,"coupon-modal-body"],[1,"mt-0","mb-2"],[3,"formGroup","ngSubmit"],[1,"viva-input-field","coupon-modal-input"],["id","promocode","name","promocode","type","text","required","","appNoSpecialCharacters","","formControlName","promocode",3,"placeholder"],[1,"fas","fa-ticket-alt"],["for","promocode"],[1,"divider"],[1,"valid"],[1,"fas","fa-check"],[1,"error"],["class","viva-input-field-error",4,"ngIf"],[1,"coupon-modal-divider"],[1,"viva-btn","big","light","w-100","mb-3",3,"disabled"],["type","button","class","viva-btn normal height-auto d-block mx-auto",3,"click",4,"ngIf"],[1,"viva-input-field-error"],["type","button",1,"viva-btn","normal","height-auto","d-block","mx-auto",3,"click"],[1,"content"]],template:function(e,t){1&e&&(i.Qc(0,h,1,0,"div",0),i.Qc(1,f,32,20,"div",1)),2&e&&(i.sc("ngIf",t.showModal),i.Hb(1),i.sc("ngIf",t.showModal))},directives:[l.u,o.K,o.v,o.m,o.d,o.F,u.a,o.u,o.k],pipes:[d.a],styles:[".coupon-modal[_ngcontent-%COMP%]{position:fixed;top:190px;left:50%;width:400px;min-height:405px;z-index:11;transform:translateX(-50%)}@media screen and (max-width:575px){.coupon-modal[_ngcontent-%COMP%]{width:100%;top:inherit;bottom:0}}.coupon-modal-container[_ngcontent-%COMP%]{background-color:var(--wh1);position:relative;width:100%;height:100%;border-radius:5px;overflow:hidden}@media screen and (max-width:575px){.coupon-modal-container[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:10px;border-top-right-radius:10px}}.coupon-modal-header[_ngcontent-%COMP%]{background:var(--bg4);padding:60px 40px 20px}@media screen and (max-width:575px){.coupon-modal-header[_ngcontent-%COMP%]{padding:60px 20px 20px}}.coupon-modal-body[_ngcontent-%COMP%]{padding:30px 40px}@media screen and (max-width:575px){.coupon-modal-body[_ngcontent-%COMP%]{padding:20px}}.coupon-modal-title[_ngcontent-%COMP%]{margin:0 0 10px;color:var(--wh1);width:50%;font-size:28px;line-height:1.15}.coupon-modal-divider[_ngcontent-%COMP%]{margin:20px 0;background-color:var(--gr20);opacity:1;border:none}@media screen and (max-width:575px){.valid[_ngcontent-%COMP%]{width:15px;height:15px;background-color:var(--vg4);top:0;bottom:0;right:20px;margin:auto 0}.valid[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:11px;color:var(--wh1)}}"],data:{animation:[s.animation]}}),e})()},waG0:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}));var i=function(e){return e.DEPARTED_DELAYED="DELAYED",e.CANCELLED="CANCELLED",e.ARRIVED="ARRIVED",e.NOT_AVAILABLE="NOT_AVAILABLE",e.IN_FLIGHT="IN_FLIGHT",e.ON_TIME="ON_TIME",e.DIVERTED="DIVERTED",e.DEPARTED_ON_TIME="DEPARTED_ON_TIME",e}({});class o{}var r=function(e){return e.FlightNumber="flightNumber",e.Route="route",e}({}),s=function(e){return e.WEATHER="WEATHER",e.INFORMATION="INFORMATION",e.WARNING="WARNING",e.AIRPORT="AIRPORT",e}({})},wbuz:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("ofXK"),o=n("o5mt"),r=n("fXoL");let s=(()=>{class e{}return e.\u0275mod=r.Rb({type:e}),e.\u0275inj=r.Qb({factory:function(t){return new(t||e)},imports:[[i.c,o.a]]}),e})()},"wd/R":function(e,t,n){(function(e){e.exports=function(){"use strict";var t,i;function o(){return t.apply(null,arguments)}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function l(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,i=[],o=e.length;for(n=0;n<o;++n)i.push(t(e[n],n));return i}function p(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function g(e,t,n,i){return Tt(e,t,n,i,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=f(e),n=i.call(t.parsedDateParts,(function(e){return null!=e})),o=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function b(e){var t=g(NaN);return null!=e?p(f(t),e):f(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),i=n.length>>>0;for(t=0;t<i;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var v=o.momentProperties=[],y=!1;function _(e,t){var n,i,o,r=v.length;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=f(t)),l(t._locale)||(e._locale=t._locale),r>0)for(n=0;n<r;n++)l(o=t[i=v[n]])||(e[i]=o);return e}function C(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,o.updateOffset(this),y=!1)}function S(e){return e instanceof C||null!=e&&null!=e._isAMomentObject}function O(e){!1===o.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function T(e,t){var n=!0;return p((function(){if(null!=o.deprecationHandler&&o.deprecationHandler(null,e),n){var i,r,s,c=[],l=arguments.length;for(r=0;r<l;r++){if(i="","object"==typeof arguments[r]){for(s in i+="\n["+r+"] ",arguments[0])a(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[r];c.push(i)}O(e+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var w,k={};function A(e,t){null!=o.deprecationHandler&&o.deprecationHandler(e,t),k[e]||(O(t),k[e]=!0)}function E(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function M(e,t){var n,i=p({},e);for(n in t)a(t,n)&&(s(e[n])&&s(t[n])?(i[n]={},p(i[n],e[n]),p(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)a(e,n)&&!a(t,n)&&s(e[n])&&(i[n]=p({},i[n]));return i}function P(e){null!=e&&this.set(e)}function D(e,t,n){var i=""+Math.abs(e);return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,t-i.length)).toString().substr(1)+i}o.suppressDeprecationWarnings=!1,o.deprecationHandler=null,w=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)a(e,t)&&n.push(t);return n};var x=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,I=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,L={},R={};function N(e,t,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),e&&(R[e]=o),t&&(R[t[0]]=function(){return D(o.apply(this,arguments),t[1],t[2])}),n&&(R[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function j(e,t){return e.isValid()?(t=B(t,e.localeData()),L[t]=L[t]||function(e){var t,n,i,o=e.match(x);for(t=0,n=o.length;t<n;t++)o[t]=R[o[t]]?R[o[t]]:(i=o[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,r="";for(i=0;i<n;i++)r+=E(o[i])?o[i].call(t,e):o[i];return r}}(t),L[t](e)):e.localeData().invalidDate()}function B(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(I.lastIndex=0;n>=0&&I.test(e);)e=e.replace(I,i),I.lastIndex=0,n-=1;return e}var F={};function H(e,t){var n=e.toLowerCase();F[n]=F[n+"s"]=F[t]=e}function U(e){return"string"==typeof e?F[e]||F[e.toLowerCase()]:void 0}function Y(e){var t,n,i={};for(n in e)a(e,n)&&(t=U(n))&&(i[t]=e[n]);return i}var G={};function V(e,t){G[e]=t}function Z(e){return e%4==0&&e%100!=0||e%400==0}function $(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function W(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=$(t)),n}function K(e,t){return function(n){return null!=n?(Q(this,e,n),o.updateOffset(this,t),this):z(this,e)}}function z(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Q(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Z(e.year())&&1===e.month()&&29===e.date()?(n=W(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Se(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var X,q=/\d/,J=/\d\d/,ee=/\d{3}/,te=/\d{4}/,ne=/[+-]?\d{6}/,ie=/\d\d?/,oe=/\d\d\d\d?/,re=/\d\d\d\d\d\d?/,se=/\d{1,3}/,ae=/\d{1,4}/,ce=/[+-]?\d{1,6}/,le=/\d+/,ue=/[+-]?\d+/,de=/Z|[+-]\d\d:?\d\d/gi,he=/Z|[+-]\d\d(?::?\d\d)?/gi,pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function ge(e,t,n){X[e]=E(t)?t:function(e,i){return e&&n?n:t}}function fe(e,t){return a(X,e)?X[e](t._strict,t._locale):new RegExp(me(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,o){return t||n||i||o}))))}function me(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}X={};var be,ve={};function ye(e,t){var n,i,o=t;for("string"==typeof e&&(e=[e]),u(t)&&(o=function(e,n){n[t]=W(e)}),i=e.length,n=0;n<i;n++)ve[e[n]]=o}function _e(e,t){ye(e,(function(e,n,i,o){i._w=i._w||{},t(e,i._w,i,o)}))}function Ce(e,t,n){null!=t&&a(ve,e)&&ve[e](t,n._a,n,e)}function Se(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1===n?Z(e)?29:28:31-n%7%2}be=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},N("M",["MM",2],"Mo",(function(){return this.month()+1})),N("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),N("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),H("month","M"),V("month",8),ge("M",ie),ge("MM",ie,J),ge("MMM",(function(e,t){return t.monthsShortRegex(e)})),ge("MMMM",(function(e,t){return t.monthsRegex(e)})),ye(["M","MM"],(function(e,t){t[1]=W(e)-1})),ye(["MMM","MMMM"],(function(e,t,n,i){var o=n._locale.monthsParse(e,i,n._strict);null!=o?t[1]=o:f(n).invalidMonth=e}));var Oe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Te="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),we=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ke=pe,Ae=pe;function Ee(e,t,n){var i,o,r,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=g([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=be.call(this._shortMonthsParse,s))?o:null:-1!==(o=be.call(this._longMonthsParse,s))?o:null:"MMM"===t?-1!==(o=be.call(this._shortMonthsParse,s))||-1!==(o=be.call(this._longMonthsParse,s))?o:null:-1!==(o=be.call(this._longMonthsParse,s))||-1!==(o=be.call(this._shortMonthsParse,s))?o:null}function Me(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=W(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Se(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Pe(e){return null!=e?(Me(this,e),o.updateOffset(this,!0),this):z(this,"Month")}function De(){function e(e,t){return t.length-e.length}var t,n,i=[],o=[],r=[];for(t=0;t<12;t++)n=g([2e3,t]),i.push(this.monthsShort(n,"")),o.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(e),o.sort(e),r.sort(e),t=0;t<12;t++)i[t]=me(i[t]),o[t]=me(o[t]);for(t=0;t<24;t++)r[t]=me(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function xe(e){return Z(e)?366:365}N("Y",0,0,(function(){var e=this.year();return e<=9999?D(e,4):"+"+e})),N(0,["YY",2],0,(function(){return this.year()%100})),N(0,["YYYY",4],0,"year"),N(0,["YYYYY",5],0,"year"),N(0,["YYYYYY",6,!0],0,"year"),H("year","y"),V("year",1),ge("Y",ue),ge("YY",ie,J),ge("YYYY",ae,te),ge("YYYYY",ce,ne),ge("YYYYYY",ce,ne),ye(["YYYYY","YYYYYY"],0),ye("YYYY",(function(e,t){t[0]=2===e.length?o.parseTwoDigitYear(e):W(e)})),ye("YY",(function(e,t){t[0]=o.parseTwoDigitYear(e)})),ye("Y",(function(e,t){t[0]=parseInt(e,10)})),o.parseTwoDigitYear=function(e){return W(e)+(W(e)>68?1900:2e3)};var Ie=K("FullYear",!0);function Le(e,t,n,i,o,r,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,i,o,r,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,i,o,r,s),a}function Re(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ne(e,t,n){var i=7+t-n;return-(7+Re(e,0,i).getUTCDay()-t)%7+i-1}function je(e,t,n,i,o){var r,s,a=1+7*(t-1)+(7+n-i)%7+Ne(e,i,o);return a<=0?s=xe(r=e-1)+a:a>xe(e)?(r=e+1,s=a-xe(e)):(r=e,s=a),{year:r,dayOfYear:s}}function Be(e,t,n){var i,o,r=Ne(e.year(),t,n),s=Math.floor((e.dayOfYear()-r-1)/7)+1;return s<1?i=s+Fe(o=e.year()-1,t,n):s>Fe(e.year(),t,n)?(i=s-Fe(e.year(),t,n),o=e.year()+1):(o=e.year(),i=s),{week:i,year:o}}function Fe(e,t,n){var i=Ne(e,t,n),o=Ne(e+1,t,n);return(xe(e)-i+o)/7}function He(e,t){return e.slice(t,7).concat(e.slice(0,t))}N("w",["ww",2],"wo","week"),N("W",["WW",2],"Wo","isoWeek"),H("week","w"),H("isoWeek","W"),V("week",5),V("isoWeek",5),ge("w",ie),ge("ww",ie,J),ge("W",ie),ge("WW",ie,J),_e(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=W(e)})),N("d",0,"do","day"),N("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),N("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),N("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),N("e",0,0,"weekday"),N("E",0,0,"isoWeekday"),H("day","d"),H("weekday","e"),H("isoWeekday","E"),V("day",11),V("weekday",11),V("isoWeekday",11),ge("d",ie),ge("e",ie),ge("E",ie),ge("dd",(function(e,t){return t.weekdaysMinRegex(e)})),ge("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),ge("dddd",(function(e,t){return t.weekdaysRegex(e)})),_e(["dd","ddd","dddd"],(function(e,t,n,i){var o=n._locale.weekdaysParse(e,i,n._strict);null!=o?t.d=o:f(n).invalidWeekday=e})),_e(["d","e","E"],(function(e,t,n,i){t[i]=W(e)}));var Ue="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ye="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ge="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ve=pe,Ze=pe,$e=pe;function We(e,t,n){var i,o,r,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=g([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=be.call(this._weekdaysParse,s))?o:null:"ddd"===t?-1!==(o=be.call(this._shortWeekdaysParse,s))?o:null:-1!==(o=be.call(this._minWeekdaysParse,s))?o:null:"dddd"===t?-1!==(o=be.call(this._weekdaysParse,s))||-1!==(o=be.call(this._shortWeekdaysParse,s))||-1!==(o=be.call(this._minWeekdaysParse,s))?o:null:"ddd"===t?-1!==(o=be.call(this._shortWeekdaysParse,s))||-1!==(o=be.call(this._weekdaysParse,s))||-1!==(o=be.call(this._minWeekdaysParse,s))?o:null:-1!==(o=be.call(this._minWeekdaysParse,s))||-1!==(o=be.call(this._weekdaysParse,s))||-1!==(o=be.call(this._shortWeekdaysParse,s))?o:null}function Ke(){function e(e,t){return t.length-e.length}var t,n,i,o,r,s=[],a=[],c=[],l=[];for(t=0;t<7;t++)n=g([2e3,1]).day(t),i=me(this.weekdaysMin(n,"")),o=me(this.weekdaysShort(n,"")),r=me(this.weekdays(n,"")),s.push(i),a.push(o),c.push(r),l.push(i),l.push(o),l.push(r);s.sort(e),a.sort(e),c.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ze(){return this.hours()%12||12}function Qe(e,t){N(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Xe(e,t){return t._meridiemParse}N("H",["HH",2],0,"hour"),N("h",["hh",2],0,ze),N("k",["kk",2],0,(function(){return this.hours()||24})),N("hmm",0,0,(function(){return""+ze.apply(this)+D(this.minutes(),2)})),N("hmmss",0,0,(function(){return""+ze.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)})),N("Hmm",0,0,(function(){return""+this.hours()+D(this.minutes(),2)})),N("Hmmss",0,0,(function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)})),Qe("a",!0),Qe("A",!1),H("hour","h"),V("hour",13),ge("a",Xe),ge("A",Xe),ge("H",ie),ge("h",ie),ge("k",ie),ge("HH",ie,J),ge("hh",ie,J),ge("kk",ie,J),ge("hmm",oe),ge("hmmss",re),ge("Hmm",oe),ge("Hmmss",re),ye(["H","HH"],3),ye(["k","kk"],(function(e,t,n){var i=W(e);t[3]=24===i?0:i})),ye(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ye(["h","hh"],(function(e,t,n){t[3]=W(e),f(n).bigHour=!0})),ye("hmm",(function(e,t,n){var i=e.length-2;t[3]=W(e.substr(0,i)),t[4]=W(e.substr(i)),f(n).bigHour=!0})),ye("hmmss",(function(e,t,n){var i=e.length-4,o=e.length-2;t[3]=W(e.substr(0,i)),t[4]=W(e.substr(i,2)),t[5]=W(e.substr(o)),f(n).bigHour=!0})),ye("Hmm",(function(e,t,n){var i=e.length-2;t[3]=W(e.substr(0,i)),t[4]=W(e.substr(i))})),ye("Hmmss",(function(e,t,n){var i=e.length-4,o=e.length-2;t[3]=W(e.substr(0,i)),t[4]=W(e.substr(i,2)),t[5]=W(e.substr(o))}));var qe,Je=K("Hours",!0),et={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Oe,monthsShort:Te,week:{dow:0,doy:6},weekdays:Ue,weekdaysMin:Ge,weekdaysShort:Ye,meridiemParse:/[ap]\.?m?\.?/i},tt={},nt={};function it(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function ot(e){return e?e.toLowerCase().replace("_","-"):e}function rt(t){var i=null;if(void 0===tt[t]&&void 0!==e&&e&&e.exports&&function(e){return null!=e.match("^[^/\\\\]*$")}(t))try{i=qe._abbr,n("Ce/h")("./"+t),st(i)}catch(o){tt[t]=null}return tt[t]}function st(e,t){var n;return e&&((n=l(t)?ct(e):at(e,t))?qe=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),qe._abbr}function at(e,t){if(null!==t){var n,i=et;if(t.abbr=e,null!=tt[e])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=tt[e]._config;else if(null!=t.parentLocale)if(null!=tt[t.parentLocale])i=tt[t.parentLocale]._config;else{if(null==(n=rt(t.parentLocale)))return nt[t.parentLocale]||(nt[t.parentLocale]=[]),nt[t.parentLocale].push({name:e,config:t}),null;i=n._config}return tt[e]=new P(M(i,t)),nt[e]&&nt[e].forEach((function(e){at(e.name,e.config)})),st(e),tt[e]}return delete tt[e],null}function ct(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return qe;if(!r(e)){if(t=rt(e))return t;e=[e]}return function(e){for(var t,n,i,o,r=0;r<e.length;){for(t=(o=ot(e[r]).split("-")).length,n=(n=ot(e[r+1]))?n.split("-"):null;t>0;){if(i=rt(o.slice(0,t).join("-")))return i;if(n&&n.length>=t&&it(o,n)>=t-1)break;t--}r++}return qe}(e)}function lt(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>Se(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,f(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),f(e)._overflowWeeks&&-1===t&&(t=7),f(e)._overflowWeekday&&-1===t&&(t=8),f(e).overflow=t),e}var ut=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/Z|[+-]\d\d(?::?\d\d)?/,pt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],gt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ft=/^\/?Date\((-?\d+)/i,mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,bt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function vt(e){var t,n,i,o,r,s,a=e._i,c=ut.exec(a)||dt.exec(a),l=pt.length,u=gt.length;if(c){for(f(e).iso=!0,t=0,n=l;t<n;t++)if(pt[t][1].exec(c[1])){o=pt[t][0],i=!1!==pt[t][2];break}if(null==o)return void(e._isValid=!1);if(c[3]){for(t=0,n=u;t<n;t++)if(gt[t][1].exec(c[3])){r=(c[2]||" ")+gt[t][0];break}if(null==r)return void(e._isValid=!1)}if(!i&&null!=r)return void(e._isValid=!1);if(c[4]){if(!ht.exec(c[4]))return void(e._isValid=!1);s="Z"}e._f=o+(r||"")+(s||""),St(e)}else e._isValid=!1}function yt(e){var t,n,i,o,r,s,a,c,l,u=mt.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(u){if(n=u[3],i=u[2],o=u[5],r=u[6],s=u[7],a=[(c=u[4],l=parseInt(c,10),l<=49?2e3+l:l<=999?1900+l:l),Te.indexOf(n),parseInt(i,10),parseInt(o,10),parseInt(r,10)],s&&a.push(parseInt(s,10)),!function(e,t,n){return!e||Ye.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(f(n).weekdayMismatch=!0,n._isValid=!1,!1)}(u[1],t=a,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return bt[e];if(t)return 0;var i=parseInt(n,10),o=i%100;return(i-o)/100*60+o}(u[8],u[9],u[10]),e._d=Re.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function _t(e,t,n){return null!=e?e:null!=t?t:n}function Ct(e){var t,n,i,r,s,a=[];if(!e._d){for(i=function(e){var t=new Date(o.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,i,o,r,s,a,c,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(r=1,s=4,n=_t(t.GG,e._a[0],Be(wt(),1,4).year),i=_t(t.W,1),((o=_t(t.E,1))<1||o>7)&&(c=!0)):(r=e._locale._week.dow,s=e._locale._week.doy,l=Be(wt(),r,s),n=_t(t.gg,e._a[0],l.year),i=_t(t.w,l.week),null!=t.d?((o=t.d)<0||o>6)&&(c=!0):null!=t.e?(o=t.e+r,(t.e<0||t.e>6)&&(c=!0)):o=r),i<1||i>Fe(n,r,s)?f(e)._overflowWeeks=!0:null!=c?f(e)._overflowWeekday=!0:(a=je(n,i,o,r,s),e._a[0]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(s=_t(e._a[0],i[0]),(e._dayOfYear>xe(s)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=Re(s,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Re:Le).apply(null,a),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(f(e).weekdayMismatch=!0)}}function St(e){if(e._f!==o.ISO_8601)if(e._f!==o.RFC_2822){e._a=[],f(e).empty=!0;var t,n,i,r,s,a,c,l=""+e._i,u=l.length,d=0;for(c=(i=B(e._f,e._locale).match(x)||[]).length,t=0;t<c;t++)(n=(l.match(fe(r=i[t],e))||[])[0])&&((s=l.substr(0,l.indexOf(n))).length>0&&f(e).unusedInput.push(s),l=l.slice(l.indexOf(n)+n.length),d+=n.length),R[r]?(n?f(e).empty=!1:f(e).unusedTokens.push(r),Ce(r,n,e)):e._strict&&!n&&f(e).unusedTokens.push(r);f(e).charsLeftOver=u-d,l.length>0&&f(e).unusedInput.push(l),e._a[3]<=12&&!0===f(e).bigHour&&e._a[3]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(a=f(e).era)&&(e._a[0]=e._locale.erasConvertYear(a,e._a[0])),Ct(e),lt(e)}else yt(e);else vt(e)}function Ot(e){var t=e._i,n=e._f;return e._locale=e._locale||ct(e._l),null===t||void 0===n&&""===t?b({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new C(lt(t)):(d(t)?e._d=t:r(n)?function(e){var t,n,i,o,r,s,a=!1,c=e._f.length;if(0===c)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<c;o++)r=0,s=!1,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],St(t),m(t)&&(s=!0),r+=f(t).charsLeftOver,r+=10*f(t).unusedTokens.length,f(t).score=r,a?r<i&&(i=r,n=t):(null==i||r<i||s)&&(i=r,n=t,s&&(a=!0));p(e,n||t)}(e):n?St(e):function(e){var t=e._i;l(t)?e._d=new Date(o.now()):d(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=ft.exec(e._i);null===t?(vt(e),!1===e._isValid&&(delete e._isValid,yt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:o.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):r(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Ct(e)):s(t)?function(e){if(!e._d){var t=Y(e._i);e._a=h([t.year,t.month,void 0===t.day?t.date:t.day,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Ct(e)}}(e):u(t)?e._d=new Date(t):o.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function Tt(e,t,n,i,o){var a,l={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(s(e)&&c(e)||r(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=o,l._l=n,l._i=e,l._f=t,l._strict=i,(a=new C(lt(Ot(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function wt(e,t,n,i){return Tt(e,t,n,i,!1)}o.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),o.ISO_8601=function(){},o.RFC_2822=function(){};var kt=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=wt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:b()})),At=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=wt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:b()}));function Et(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return wt();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var Mt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Pt(e){var t=Y(e),n=t.year||0,i=t.quarter||0,o=t.month||0,r=t.week||t.isoWeek||0,s=t.day||0,c=t.hour||0,l=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=function(e){var t,n,i=!1,o=Mt.length;for(t in e)if(a(e,t)&&(-1===be.call(Mt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<o;++n)if(e[Mt[n]]){if(i)return!1;parseFloat(e[Mt[n]])!==W(e[Mt[n]])&&(i=!0)}return!0}(t),this._milliseconds=+d+1e3*u+6e4*l+1e3*c*60*60,this._days=+s+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=ct(),this._bubble()}function Dt(e){return e instanceof Pt}function xt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function It(e,t){N(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+D(~~(e/60),2)+t+D(~~e%60,2)}))}It("Z",":"),It("ZZ",""),ge("Z",he),ge("ZZ",he),ye(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Rt(he,e)}));var Lt=/([\+\-]|\d\d)/gi;function Rt(e,t){var n,i,o=(t||"").match(e);return null===o?null:0===(i=60*(n=((o[o.length-1]||[])+"").match(Lt)||["-",0,0])[1]+W(n[2]))?0:"+"===n[0]?i:-i}function Nt(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(S(e)||d(e)?e.valueOf():wt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),o.updateOffset(n,!1),n):wt(e).local()}function jt(e){return-Math.round(e._d.getTimezoneOffset())}function Bt(){return!!this.isValid()&&this._isUTC&&0===this._offset}o.updateOffset=function(){};var Ft=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ht=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ut(e,t){var n,i,o,r,s,c,l=e,d=null;return Dt(e)?l={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(l={},t?l[t]=+e:l.milliseconds=+e):(d=Ft.exec(e))?(n="-"===d[1]?-1:1,l={y:0,d:W(d[2])*n,h:W(d[3])*n,m:W(d[4])*n,s:W(d[5])*n,ms:W(xt(1e3*d[6]))*n}):(d=Ht.exec(e))?l={y:Yt(d[2],n="-"===d[1]?-1:1),M:Yt(d[3],n),w:Yt(d[4],n),d:Yt(d[5],n),h:Yt(d[6],n),m:Yt(d[7],n),s:Yt(d[8],n)}:null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(r=wt(l.from),s=wt(l.to),o=r.isValid()&&s.isValid()?(s=Nt(s,r),r.isBefore(s)?c=Gt(r,s):((c=Gt(s,r)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},(l={}).ms=o.milliseconds,l.M=o.months),i=new Pt(l),Dt(e)&&a(e,"_locale")&&(i._locale=e._locale),Dt(e)&&a(e,"_isValid")&&(i._isValid=e._isValid),i}function Yt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Gt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Vt(e,t){return function(n,i){var o;return null===i||isNaN(+i)||(A(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),Zt(this,Ut(n,i),e),this}}function Zt(e,t,n,i){var r=t._milliseconds,s=xt(t._days),a=xt(t._months);e.isValid()&&(i=null==i||i,a&&Me(e,z(e,"Month")+a*n),s&&Q(e,"Date",z(e,"Date")+s*n),r&&e._d.setTime(e._d.valueOf()+r*n),i&&o.updateOffset(e,s||a))}Ut.fn=Pt.prototype,Ut.invalid=function(){return Ut(NaN)};var $t=Vt(1,"add"),Wt=Vt(-1,"subtract");function Kt(e){return"string"==typeof e||e instanceof String}function zt(e){return S(e)||d(e)||Kt(e)||u(e)||function(e){var t=r(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&Kt(e)})).length),t&&n}(e)||function(e){var t,n=s(e)&&!c(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r=o.length;for(t=0;t<r;t+=1)i=i||a(e,o[t]);return n&&i}(e)||null==e}function Qt(e){var t,n=s(e)&&!c(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)i=i||a(e,o[t]);return n&&i}function Xt(e,t){if(e.date()<t.date())return-Xt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function qt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ct(e))&&(this._locale=t),this)}o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Jt=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function en(){return this._locale}function tn(e,t){return(e%t+t)%t}function nn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function on(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function rn(e,t){return t.erasAbbrRegex(e)}function sn(){var e,t,n=[],i=[],o=[],r=[],s=this.eras();for(e=0,t=s.length;e<t;++e)i.push(me(s[e].name)),n.push(me(s[e].abbr)),o.push(me(s[e].narrow)),r.push(me(s[e].name)),r.push(me(s[e].abbr)),r.push(me(s[e].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function an(e,t){N(0,[e,e.length],0,t)}function cn(e,t,n,i,o){var r;return null==e?Be(this,i,o).year:(t>(r=Fe(e,i,o))&&(t=r),ln.call(this,e,t,n,i,o))}function ln(e,t,n,i,o){var r=je(e,t,n,i,o),s=Re(r.year,0,r.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}N("N",0,0,"eraAbbr"),N("NN",0,0,"eraAbbr"),N("NNN",0,0,"eraAbbr"),N("NNNN",0,0,"eraName"),N("NNNNN",0,0,"eraNarrow"),N("y",["y",1],"yo","eraYear"),N("y",["yy",2],0,"eraYear"),N("y",["yyy",3],0,"eraYear"),N("y",["yyyy",4],0,"eraYear"),ge("N",rn),ge("NN",rn),ge("NNN",rn),ge("NNNN",(function(e,t){return t.erasNameRegex(e)})),ge("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ye(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,i){var o=n._locale.erasParse(e,i,n._strict);o?f(n).era=o:f(n).invalidEra=e})),ge("y",le),ge("yy",le),ge("yyy",le),ge("yyyy",le),ge("yo",(function(e,t){return t._eraYearOrdinalRegex||le})),ye(["y","yy","yyy","yyyy"],0),ye(["yo"],(function(e,t,n,i){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),t[0]=n._locale.eraYearOrdinalParse?n._locale.eraYearOrdinalParse(e,o):parseInt(e,10)})),N(0,["gg",2],0,(function(){return this.weekYear()%100})),N(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),an("gggg","weekYear"),an("ggggg","weekYear"),an("GGGG","isoWeekYear"),an("GGGGG","isoWeekYear"),H("weekYear","gg"),H("isoWeekYear","GG"),V("weekYear",1),V("isoWeekYear",1),ge("G",ue),ge("g",ue),ge("GG",ie,J),ge("gg",ie,J),ge("GGGG",ae,te),ge("gggg",ae,te),ge("GGGGG",ce,ne),ge("ggggg",ce,ne),_e(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=W(e)})),_e(["gg","GG"],(function(e,t,n,i){t[i]=o.parseTwoDigitYear(e)})),N("Q",0,"Qo","quarter"),H("quarter","Q"),V("quarter",7),ge("Q",q),ye("Q",(function(e,t){t[1]=3*(W(e)-1)})),N("D",["DD",2],"Do","date"),H("date","D"),V("date",9),ge("D",ie),ge("DD",ie,J),ge("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ye(["D","DD"],2),ye("Do",(function(e,t){t[2]=W(e.match(ie)[0])}));var un=K("Date",!0);N("DDD",["DDDD",3],"DDDo","dayOfYear"),H("dayOfYear","DDD"),V("dayOfYear",4),ge("DDD",se),ge("DDDD",ee),ye(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=W(e)})),N("m",["mm",2],0,"minute"),H("minute","m"),V("minute",14),ge("m",ie),ge("mm",ie,J),ye(["m","mm"],4);var dn=K("Minutes",!1);N("s",["ss",2],0,"second"),H("second","s"),V("second",15),ge("s",ie),ge("ss",ie,J),ye(["s","ss"],5);var hn,pn,gn=K("Seconds",!1);for(N("S",0,0,(function(){return~~(this.millisecond()/100)})),N(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),N(0,["SSS",3],0,"millisecond"),N(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),N(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),N(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),N(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),N(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),N(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),H("millisecond","ms"),V("millisecond",16),ge("S",se,q),ge("SS",se,J),ge("SSS",se,ee),hn="SSSS";hn.length<=9;hn+="S")ge(hn,le);function fn(e,t){t[6]=W(1e3*("0."+e))}for(hn="S";hn.length<=9;hn+="S")ye(hn,fn);pn=K("Milliseconds",!1),N("z",0,0,"zoneAbbr"),N("zz",0,0,"zoneName");var mn=C.prototype;function bn(e){return e}mn.add=$t,mn.calendar=function(e,t){1===arguments.length&&(arguments[0]?zt(arguments[0])?(e=arguments[0],t=void 0):Qt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||wt(),i=Nt(n,this).startOf("day"),r=o.calendarFormat(this,i)||"sameElse",s=t&&(E(t[r])?t[r].call(this,n):t[r]);return this.format(s||this.localeData().calendar(r,this,wt(n)))},mn.clone=function(){return new C(this)},mn.diff=function(e,t,n){var i,o,r;if(!this.isValid())return NaN;if(!(i=Nt(e,this)).isValid())return NaN;switch(o=6e4*(i.utcOffset()-this.utcOffset()),t=U(t)){case"year":r=Xt(this,i)/12;break;case"month":r=Xt(this,i);break;case"quarter":r=Xt(this,i)/3;break;case"second":r=(this-i)/1e3;break;case"minute":r=(this-i)/6e4;break;case"hour":r=(this-i)/36e5;break;case"day":r=(this-i-o)/864e5;break;case"week":r=(this-i-o)/6048e5;break;default:r=this-i}return n?r:$(r)},mn.endOf=function(e){var t,n;if(void 0===(e=U(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?on:nn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-tn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-tn(t,1e3)-1}return this._d.setTime(t),o.updateOffset(this,!0),this},mn.format=function(e){e||(e=this.isUtc()?o.defaultFormatUtc:o.defaultFormat);var t=j(this,e);return this.localeData().postformat(t)},mn.from=function(e,t){return this.isValid()&&(S(e)&&e.isValid()||wt(e).isValid())?Ut({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},mn.fromNow=function(e){return this.from(wt(),e)},mn.to=function(e,t){return this.isValid()&&(S(e)&&e.isValid()||wt(e).isValid())?Ut({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},mn.toNow=function(e){return this.to(wt(),e)},mn.get=function(e){return E(this[e=U(e)])?this[e]():this},mn.invalidAt=function(){return f(this).overflow},mn.isAfter=function(e,t){var n=S(e)?e:wt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=U(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},mn.isBefore=function(e,t){var n=S(e)?e:wt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=U(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},mn.isBetween=function(e,t,n,i){var o=S(e)?e:wt(e),r=S(t)?t:wt(t);return!!(this.isValid()&&o.isValid()&&r.isValid())&&("("===(i=i||"()")[0]?this.isAfter(o,n):!this.isBefore(o,n))&&(")"===i[1]?this.isBefore(r,n):!this.isAfter(r,n))},mn.isSame=function(e,t){var n,i=S(e)?e:wt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=U(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},mn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},mn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},mn.isValid=function(){return m(this)},mn.lang=Jt,mn.locale=qt,mn.localeData=en,mn.max=At,mn.min=kt,mn.parsingFlags=function(){return p({},f(this))},mn.set=function(e,t){if("object"==typeof e){var n,i=function(e){var t,n=[];for(t in e)a(e,t)&&n.push({unit:t,priority:G[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=Y(e)),o=i.length;for(n=0;n<o;n++)this[i[n].unit](e[i[n].unit])}else if(E(this[e=U(e)]))return this[e](t);return this},mn.startOf=function(e){var t,n;if(void 0===(e=U(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?on:nn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=tn(t,6e4);break;case"second":t=this._d.valueOf(),t-=tn(t,1e3)}return this._d.setTime(t),o.updateOffset(this,!0),this},mn.subtract=Wt,mn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},mn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},mn.toDate=function(){return new Date(this.valueOf())},mn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?j(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):E(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(n,"Z")):j(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},mn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n="moment",i="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+n+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+i+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(mn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),mn.toJSON=function(){return this.isValid()?this.toISOString():null},mn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},mn.unix=function(){return Math.floor(this.valueOf()/1e3)},mn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},mn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},mn.eraName=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].name;if(i[e].until<=n&&n<=i[e].since)return i[e].name}return""},mn.eraNarrow=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].narrow;if(i[e].until<=n&&n<=i[e].since)return i[e].narrow}return""},mn.eraAbbr=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].abbr;if(i[e].until<=n&&n<=i[e].since)return i[e].abbr}return""},mn.eraYear=function(){var e,t,n,i,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=r[e].since<=r[e].until?1:-1,i=this.clone().startOf("day").valueOf(),r[e].since<=i&&i<=r[e].until||r[e].until<=i&&i<=r[e].since)return(this.year()-o(r[e].since).year())*n+r[e].offset;return this.year()},mn.year=Ie,mn.isLeapYear=function(){return Z(this.year())},mn.weekYear=function(e){return cn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},mn.isoWeekYear=function(e){return cn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},mn.quarter=mn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},mn.month=Pe,mn.daysInMonth=function(){return Se(this.year(),this.month())},mn.week=mn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},mn.isoWeek=mn.isoWeeks=function(e){var t=Be(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},mn.weeksInYear=function(){var e=this.localeData()._week;return Fe(this.year(),e.dow,e.doy)},mn.weeksInWeekYear=function(){var e=this.localeData()._week;return Fe(this.weekYear(),e.dow,e.doy)},mn.isoWeeksInYear=function(){return Fe(this.year(),1,4)},mn.isoWeeksInISOWeekYear=function(){return Fe(this.isoWeekYear(),1,4)},mn.date=un,mn.day=mn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},mn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},mn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},mn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},mn.hour=mn.hours=Je,mn.minute=mn.minutes=dn,mn.second=mn.seconds=gn,mn.millisecond=mn.milliseconds=pn,mn.utcOffset=function(e,t,n){var i,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Rt(he,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=jt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?Zt(this,Ut(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,o.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:jt(this)},mn.utc=function(e){return this.utcOffset(0,e)},mn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(jt(this),"m")),this},mn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Rt(de,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},mn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?wt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},mn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},mn.isLocal=function(){return!!this.isValid()&&!this._isUTC},mn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},mn.isUtc=Bt,mn.isUTC=Bt,mn.zoneAbbr=function(){return this._isUTC?"UTC":""},mn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},mn.dates=T("dates accessor is deprecated. Use date instead.",un),mn.months=T("months accessor is deprecated. Use month instead",Pe),mn.years=T("years accessor is deprecated. Use year instead",Ie),mn.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),mn.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return _(t,this),(t=Ot(t))._a?(e=t._isUTC?g(t._a):wt(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var i,o=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(i=0;i<o;i++)W(e[i])!==W(t[i])&&s++;return s+r}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var vn=P.prototype;function yn(e,t,n,i){var o=ct(),r=g().set(i,t);return o[n](r,e)}function _n(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return yn(e,t,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=yn(e,i,n,"month");return o}function Cn(e,t,n,i){"boolean"==typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var o,r=ct(),s=e?r._week.dow:0,a=[];if(null!=n)return yn(t,(n+s)%7,i,"day");for(o=0;o<7;o++)a[o]=yn(t,(o+s)%7,i,"day");return a}vn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return E(i)?i.call(t,n):i},vn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(x).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},vn.invalidDate=function(){return this._invalidDate},vn.ordinal=function(e){return this._ordinal.replace("%d",e)},vn.preparse=bn,vn.postformat=bn,vn.relativeTime=function(e,t,n,i){var o=this._relativeTime[n];return E(o)?o(e,t,n,i):o.replace(/%d/i,e)},vn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return E(n)?n(t):n.replace(/%s/i,t)},vn.set=function(e){var t,n;for(n in e)a(e,n)&&(E(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},vn.eras=function(e,t){var n,i,r,s=this._eras||ct("en")._eras;for(n=0,i=s.length;n<i;++n){switch(typeof s[n].since){case"string":r=o(s[n].since).startOf("day"),s[n].since=r.valueOf()}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":r=o(s[n].until).startOf("day").valueOf(),s[n].until=r.valueOf()}}return s},vn.erasParse=function(e,t,n){var i,o,r,s,a,c=this.eras();for(e=e.toUpperCase(),i=0,o=c.length;i<o;++i)if(r=c[i].name.toUpperCase(),s=c[i].abbr.toUpperCase(),a=c[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return c[i];break;case"NNNN":if(r===e)return c[i];break;case"NNNNN":if(a===e)return c[i]}else if([r,s,a].indexOf(e)>=0)return c[i]},vn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?o(e.since).year():o(e.since).year()+(t-e.offset)*n},vn.erasAbbrRegex=function(e){return a(this,"_erasAbbrRegex")||sn.call(this),e?this._erasAbbrRegex:this._erasRegex},vn.erasNameRegex=function(e){return a(this,"_erasNameRegex")||sn.call(this),e?this._erasNameRegex:this._erasRegex},vn.erasNarrowRegex=function(e){return a(this,"_erasNarrowRegex")||sn.call(this),e?this._erasNarrowRegex:this._erasRegex},vn.months=function(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||we).test(t)?"format":"standalone"][e.month()]:r(this._months)?this._months:this._months.standalone},vn.monthsShort=function(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[we.test(t)?"format":"standalone"][e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},vn.monthsParse=function(e,t,n){var i,o,r;if(this._monthsParseExact)return Ee.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=g([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},vn.monthsRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||De.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Ae),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},vn.monthsShortRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||De.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=ke),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},vn.week=function(e){return Be(e,this._week.dow,this._week.doy).week},vn.firstDayOfYear=function(){return this._week.doy},vn.firstDayOfWeek=function(){return this._week.dow},vn.weekdays=function(e,t){var n=r(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?He(n,this._week.dow):e?n[e.day()]:n},vn.weekdaysMin=function(e){return!0===e?He(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},vn.weekdaysShort=function(e){return!0===e?He(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},vn.weekdaysParse=function(e,t,n){var i,o,r;if(this._weekdaysParseExact)return We.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=g([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},vn.weekdaysRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Ve),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},vn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ze),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},vn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=$e),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},vn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},vn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},st("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===W(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),o.lang=T("moment.lang is deprecated. Use moment.locale instead.",st),o.langData=T("moment.langData is deprecated. Use moment.localeData instead.",ct);var Sn=Math.abs;function On(e,t,n,i){var o=Ut(t,n);return e._milliseconds+=i*o._milliseconds,e._days+=i*o._days,e._months+=i*o._months,e._bubble()}function Tn(e){return e<0?Math.floor(e):Math.ceil(e)}function wn(e){return 4800*e/146097}function kn(e){return 146097*e/4800}function An(e){return function(){return this.as(e)}}var En=An("ms"),Mn=An("s"),Pn=An("m"),Dn=An("h"),xn=An("d"),In=An("w"),Ln=An("M"),Rn=An("Q"),Nn=An("y");function jn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Bn=jn("milliseconds"),Fn=jn("seconds"),Hn=jn("minutes"),Un=jn("hours"),Yn=jn("days"),Gn=jn("months"),Vn=jn("years"),Zn=Math.round,$n={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Wn(e,t,n,i,o){return o.relativeTime(t||1,!!n,e,i)}var Kn=Math.abs;function zn(e){return(e>0)-(e<0)||+e}function Qn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,o,r,s,a,c=Kn(this._milliseconds)/1e3,l=Kn(this._days),u=Kn(this._months),d=this.asSeconds();return d?(e=$(c/60),t=$(e/60),c%=60,e%=60,n=$(u/12),u%=12,i=c?c.toFixed(3).replace(/\.?0+$/,""):"",o=d<0?"-":"",r=zn(this._months)!==zn(d)?"-":"",s=zn(this._days)!==zn(d)?"-":"",a=zn(this._milliseconds)!==zn(d)?"-":"",o+"P"+(n?r+n+"Y":"")+(u?r+u+"M":"")+(l?s+l+"D":"")+(t||e||c?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(c?a+i+"S":"")):"P0D"}var Xn=Pt.prototype;return Xn.isValid=function(){return this._isValid},Xn.abs=function(){var e=this._data;return this._milliseconds=Sn(this._milliseconds),this._days=Sn(this._days),this._months=Sn(this._months),e.milliseconds=Sn(e.milliseconds),e.seconds=Sn(e.seconds),e.minutes=Sn(e.minutes),e.hours=Sn(e.hours),e.months=Sn(e.months),e.years=Sn(e.years),this},Xn.add=function(e,t){return On(this,e,t,1)},Xn.subtract=function(e,t){return On(this,e,t,-1)},Xn.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=U(e))||"quarter"===e||"year"===e)switch(n=this._months+wn(t=this._days+i/864e5),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(kn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Xn.asMilliseconds=En,Xn.asSeconds=Mn,Xn.asMinutes=Pn,Xn.asHours=Dn,Xn.asDays=xn,Xn.asWeeks=In,Xn.asMonths=Ln,Xn.asQuarters=Rn,Xn.asYears=Nn,Xn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*W(this._months/12):NaN},Xn._bubble=function(){var e,t,n,i,o,r=this._milliseconds,s=this._days,a=this._months,c=this._data;return r>=0&&s>=0&&a>=0||r<=0&&s<=0&&a<=0||(r+=864e5*Tn(kn(a)+s),s=0,a=0),c.milliseconds=r%1e3,e=$(r/1e3),c.seconds=e%60,t=$(e/60),c.minutes=t%60,n=$(t/60),c.hours=n%24,s+=$(n/24),a+=o=$(wn(s)),s-=Tn(kn(o)),i=$(a/12),a%=12,c.days=s,c.months=a,c.years=i,this},Xn.clone=function(){return Ut(this)},Xn.get=function(e){return e=U(e),this.isValid()?this[e+"s"]():NaN},Xn.milliseconds=Bn,Xn.seconds=Fn,Xn.minutes=Hn,Xn.hours=Un,Xn.days=Yn,Xn.weeks=function(){return $(this.days()/7)},Xn.months=Gn,Xn.years=Vn,Xn.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,i,o=!1,r=$n;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(o=e),"object"==typeof t&&(r=Object.assign({},$n,t),null!=t.s&&null==t.ss&&(r.ss=t.s-1)),i=function(e,t,n,i){var o=Ut(e).abs(),r=Zn(o.as("s")),s=Zn(o.as("m")),a=Zn(o.as("h")),c=Zn(o.as("d")),l=Zn(o.as("M")),u=Zn(o.as("w")),d=Zn(o.as("y")),h=r<=n.ss&&["s",r]||r<n.s&&["ss",r]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||c<=1&&["d"]||c<n.d&&["dd",c];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),(h=h||l<=1&&["M"]||l<n.M&&["MM",l]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=i,Wn.apply(null,h)}(this,!o,r,n=this.localeData()),o&&(i=n.pastFuture(+this,i)),n.postformat(i)},Xn.toISOString=Qn,Xn.toString=Qn,Xn.toJSON=Qn,Xn.locale=qt,Xn.localeData=en,Xn.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Qn),Xn.lang=Jt,N("X",0,0,"unix"),N("x",0,0,"valueOf"),ge("x",ue),ge("X",/[+-]?\d+(\.\d{1,3})?/),ye("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),ye("x",(function(e,t,n){n._d=new Date(W(e))})),o.version="2.29.4",t=wt,o.fn=mn,o.min=function(){var e=[].slice.call(arguments,0);return Et("isBefore",e)},o.max=function(){var e=[].slice.call(arguments,0);return Et("isAfter",e)},o.now=function(){return Date.now?Date.now():+new Date},o.utc=g,o.unix=function(e){return wt(1e3*e)},o.months=function(e,t){return _n(e,t,"months")},o.isDate=d,o.locale=st,o.invalid=b,o.duration=Ut,o.isMoment=S,o.weekdays=function(e,t,n){return Cn(e,t,n,"weekdays")},o.parseZone=function(){return wt.apply(null,arguments).parseZone()},o.localeData=ct,o.isDuration=Dt,o.monthsShort=function(e,t){return _n(e,t,"monthsShort")},o.weekdaysMin=function(e,t,n){return Cn(e,t,n,"weekdaysMin")},o.defineLocale=at,o.updateLocale=function(e,t){if(null!=t){var n,i,o=et;null!=tt[e]&&null!=tt[e].parentLocale?tt[e].set(M(tt[e]._config,t)):(null!=(i=rt(e))&&(o=i._config),t=M(o,t),null==i&&(t.abbr=e),(n=new P(t)).parentLocale=tt[e],tt[e]=n),st(e)}else null!=tt[e]&&(null!=tt[e].parentLocale?(tt[e]=tt[e].parentLocale,e===st()&&st(e)):null!=tt[e]&&delete tt[e]);return tt[e]},o.locales=function(){return w(tt)},o.weekdaysShort=function(e,t,n){return Cn(e,t,n,"weekdaysShort")},o.normalizeUnits=U,o.relativeTimeRounding=function(e){return void 0===e?Zn:"function"==typeof e&&(Zn=e,!0)},o.relativeTimeThreshold=function(e,t){return void 0!==$n[e]&&(void 0===t?$n[e]:($n[e]=t,"s"===e&&($n.ss=t-1),!0))},o.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},o.prototype=mn,o.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},o}()}).call(this,n("2pl3")(e))},wrZu:function(e,t,n){var i=n("+K+b"),o=n("XYm9"),r=n("b2z7"),s=n("otv/"),a=n("yP5f");e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return r(e);case"[object Set]":return new c;case"[object Symbol]":return s(e)}}},wtyH:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("mrSG"),o=n("jtHE"),r=n("XNiG"),s=n("AytR"),a=n("9gjU"),c=n("tiZS"),l=n("fXoL"),u=n("LYOT"),d=n("y4Wf"),h=n("CPX7");let p=(()=>{class e{constructor(e,t,n){this.contentfulService=e,this.basketApi=t,this.basketService=n,this.servicesMap=new Map,this.$serviceReady=new o.a(1),this.$vreChanges=new r.a,this.SERVICE_LIMIT=1e3,this.load()}load(){return new Promise((e,t)=>{try{this.getServices().then(()=>{e(),this.$serviceReady.next(),this.$serviceReady.complete()})}catch(n){t(n)}})}getServices(){return Object(i.a)(this,void 0,void 0,(function*(){const e=(yield this.contentfulService.getEntries({content_type:"service",include:4,limit:this.SERVICE_LIMIT})).items.map(e=>e.fields);this.addServiceToMap(e)}))}addServiceToMap(e){e&&e.length&&e.map(e=>{const{code:t}=e;this.servicesMap.set(t,e)})}getService(e){return this.servicesMap.get(e)}get ready(){return this.$serviceReady.asObservable()}get vreChanges$(){return this.$vreChanges.asObservable()}emitVreChanges(e){this.$vreChanges.next(e)}preSelectedSrvCustomField(e,t){return Object(i.a)(this,void 0,void 0,(function*(){const n={basketId:e.basket.basketId,flowType:e.basket.flowType,bookingType:e.basket.bookingType,customFieldUpdates:[{path:"preSelectedServices",value:t,updateType:c.a.Merge}]};yield this.basketApi.updateBasket(n).toPromise(),this.basketService.syncBasketInfo()}))}saveSortingGroupsCustomField(e,t){var n,o;return Object(i.a)(this,void 0,void 0,(function*(){const i=[...null===(o=null===(n=null==t?void 0:t.sortingGroups)||void 0===n?void 0:n.find(e=>(null==e?void 0:e.type)===a.c.Recommended))||void 0===o?void 0:o.services],r={basketId:e.basket.basketId,flowType:e.basket.flowType,bookingType:e.basket.bookingType,customFieldUpdates:[{path:"recommendedServices",value:i,updateType:c.a.Replace}]};try{yield this.basketApi.updateBasket(r).toPromise(),this.basketService.syncBasketInfo()}catch(l){s.g.production||console.error("updateBasket error:",l)}}))}restructureTransport(e,t){const n=[];return null==e||e.price.forEach(i=>{n.push({ssrCode:e.ssrCode,name:e.name,preSelected:null==e?void 0:e.preSelected,includedInFare:i.isIncluded,includedInVivaFan:!1,includedInLoyalty:!1,journeyKey:t,passengerKey:i.passengerKey,price:i.price,originalPrice:i.originalPrice,includedForPassenger:i.isIncluded,limit:null,labels:[],inventoryControlled:!1})}),n}}return e.\u0275fac=function(t){return new(t||e)(l.dc(u.a),l.dc(d.a),l.dc(h.a))},e.\u0275prov=l.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"x+ZX":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("7o/Q");function o(){return function(e){return e.lift(new r(e))}}class r{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const i=new s(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o}}class s extends i.a{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}},x2f1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ofXK"),o=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})()},xAGQ:function(e,t,n){"use strict";var i=n("xTJ+");e.exports=function(e,t,n){return i.forEach(n,(function(n){e=n(e,t)})),e}},xDdU:function(e,t,n){var i,o,r=n("4fRq"),s=n("I2ZF"),a=0,c=0;e.exports=function(e,t,n){var l=t&&n||0,u=t||[],d=(e=e||{}).node||i,h=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==h){var p=r();null==d&&(d=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=o=16383&(p[6]<<8|p[7]))}var g=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:c+1,m=g-a+(f-c)/1e4;if(m<0&&void 0===e.clockseq&&(h=h+1&16383),(m<0||g>a)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=g,c=f,o=h;var b=(1e4*(268435455&(g+=122192928e5))+f)%4294967296;u[l++]=b>>>24&255,u[l++]=b>>>16&255,u[l++]=b>>>8&255,u[l++]=255&b;var v=g/4294967296*1e4&268435455;u[l++]=v>>>8&255,u[l++]=255&v,u[l++]=v>>>24&15|16,u[l++]=v>>>16&255,u[l++]=h>>>8|128,u[l++]=255&h;for(var y=0;y<6;++y)u[l+y]=d[y];return t||s(u)}},"xT/e":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("ofXK"),o=n("o5mt"),r=n("fXoL");let s=(()=>{class e{}return e.\u0275mod=r.Rb({type:e}),e.\u0275inj=r.Qb({factory:function(t){return new(t||e)},imports:[[i.c,o.a]]}),e})()},"xTJ+":function(e,t,n){"use strict";var i=n("HSsa"),o=Object.prototype.toString;function r(e){return"[object Array]"===o.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),r(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:r,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:s,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function n(n,i){t[i]="object"==typeof t[i]&&"object"==typeof n?e(t[i],n):n}for(var i=0,o=arguments.length;i<o;i++)l(arguments[i],n);return t},deepMerge:function e(){var t={};function n(n,i){t[i]="object"==typeof t[i]&&"object"==typeof n?e(t[i],n):"object"==typeof n?e({},n):n}for(var i=0,o=arguments.length;i<o;i++)l(arguments[i],n);return t},extend:function(e,t,n){return l(t,(function(t,o){e[o]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},xbPD:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("7o/Q");function o(e=null){return t=>t.lift(new r(e))}class r{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new s(e,this.defaultValue))}}class s extends i.a{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},xgIS:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("HDdC"),o=n("DH7j"),r=n("n6bG"),s=n("lJxs");function a(e,t,n,c){return Object(r.a)(n)&&(c=n,n=void 0),c?a(e,t,n).pipe(Object(s.a)(e=>Object(o.a)(e)?c(...e):c(e))):new i.a(i=>{!function e(t,n,i,o,r){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,i,r),s=()=>e.removeEventListener(n,i,r)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,i),s=()=>e.off(n,i)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,i),s=()=>e.removeListener(n,i)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,a=t.length;s<a;s++)e(t[s],n,i,o,r)}o.add(s)}(e,t,(function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),i,n)})}},xk4V:function(e,t,n){var i=n("4fRq"),o=n("I2ZF");e.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[r+a]=s[a];return t||o(s)}},xzb3:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ofXK"),o=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})();var s=n("o5mt");let a=(()=>{class e{}return e.\u0275mod=o.Rb({type:e}),e.\u0275inj=o.Qb({factory:function(t){return new(t||e)},imports:[[i.c,r,s.a]]}),e})()},y1pI:function(e,t,n){var i=n("ljhN");e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},y4Wf:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("mrSG"),o=n("fXoL"),r=n("AytR"),s=n("RRjW"),a=n("tk/3"),c=n("lJxs"),l=n("9yTC"),u=n("h/S9"),d=n("PxKc"),h=n("ofXK"),p=n("1AID"),g=n("9YtQ"),f=n("BifP"),m=n("lALM"),b=n("kh7C");let v=(()=>{class e{constructor(e,t,n,i,o,r){this.http=e,this.deviceService=t,this.cmsConfigSvc=n,this.geoSvc=i,this.platformId=o,this.utilsSvc=r}getBasketById(e){return this.http.get(`${r.g.BASKET_URL}?BasketId=${e}`).pipe(Object(c.a)(e=>{var t,n,i,o,s,a,c,u,g,f,m,b;const v=Object.assign({},e),y=this.utilsSvc.getFareFromBasket(null===(i=null===(n=null===(t=null==v?void 0:v.data)||void 0===t?void 0:t.travel)||void 0===n?void 0:n.journeys)||void 0===i?void 0:i[0]);if(y&&y===l.e.VIVA_SMART||y===l.e.VIVA_ZERO)for(const r in v.data.travel.charges)"object"==typeof v.data.travel.charges[r]&&"CarryOnBaggage"===v.data.travel.charges[r].groupCode&&"VAAK"===v.data.travel.charges[r].code&&(v.data.travel.charges[r].code="VAAK15");(null==v?void 0:v.data)&&this.processGuestFeeChargesWithoutJourneyKey(v.data);try{if(null===(o=null==v?void 0:v.data)||void 0===o?void 0:o.dynamicFlow){const t=this.validateBasketDynamicFlowSteps(e.data.dynamicFlow);t&&(v.data.dynamicFlow=t)}}catch(_){r.g.production||console.error("Error parsing the basket dynamic flow for unsupported steps!",_)}try{if((null===(s=null==v?void 0:v.data)||void 0===s?void 0:s.flowType)===d.b.Booking){let e=((null===(c=null===(a=v.data)||void 0===a?void 0:a.dynamicFlow)||void 0===c?void 0:c.steps)||[]).findIndex(e=>e.name===d.f.Hotel);if(-1===e&&Object(h.L)(this.platformId)&&sessionStorage.getItem("vb-display-hotel-in-booking")){const t=v.data.dynamicFlow.steps.findIndex(e=>e.name===d.f.Payment);t>-1&&(v.data.dynamicFlow.steps.splice(t,0,{name:d.f.Hotel,isOptional:!1}),e=((null===(g=null===(u=v.data)||void 0===u?void 0:u.dynamicFlow)||void 0===g?void 0:g.steps)||[]).findIndex(e=>e.name===d.f.Hotel))}if(e>-1){const t=(null===(m=null===(f=null==v?void 0:v.data)||void 0===f?void 0:f.travel)||void 0===m?void 0:m.journeys)||[],n=2===t.length&&t[0].origin.code===t[1].destination.code&&t[0].destination.code===t[1].origin.code,i=null===(b=this.cmsConfigSvc._cmsConfig.bookingSettings)||void 0===b?void 0:b.activeHotelDestinations,o=t.length&&(i||[]).includes(t[0].destination.code),r=t.every(e=>e.segments.every(e=>"VB"===e.flightReference.substring(9,11))),s=this.cmsConfigSvc.getBookingFeatureValue(p.a.DisplayHotelStepForDesktopOnly),a=!s||s&&this.deviceService.isDesktop();n&&o&&r&&a&&"MXN"===v.data.currencyCode||v.data.dynamicFlow.steps.splice(e,1)}}}catch(_){r.g.production||console.error("Error validating hotel step for basket's dynamic flow",_)}return v}))}createBasket(e,t=!0){var n;const i=new u.a;if(e.customFields=e.customFields?Object.assign(Object.assign({},i),e.customFields):i,e.device||(e.device=this.deviceService.isDesktop()?d.a.Desktop:this.deviceService.isMobile()?d.a.Mobile:this.deviceService.isTablet()?d.a.Tablet:d.a.Other),e.location=this.geoSvc._location?{country:this.geoSvc._location.details.countryCode||null,city:this.geoSvc._location.details.regionCode||null,lat:this.geoSvc._location.coords.latitude.toString()||null,long:this.geoSvc._location.coords.longitude.toString()||null}:null,!(null===(n=null==e?void 0:e.referralDetails)||void 0===n?void 0:n.code)&&Object(h.L)(this.platformId)){const t={};t.code=sessionStorage.getItem("loginReferral"),(null==t?void 0:t.code)&&(e.referralDetails=t)}const o=t?null:new a.d({"Basket-No-Refresh":"true"});return this.http.post(""+r.g.CREATE_BASKET_URL,e,{headers:o})}updateBasket(e){return this.http.post(""+r.g.UPDATE_BASKET_URL,e)}keepAliveBasket(e){return Object(i.a)(this,void 0,void 0,(function*(){try{const t=yield this.http.post(""+r.g.KEEP_ALIVE_BASKET_URL,{basketId:e}).toPromise();return!(!t||t.type!==s.d.SUCCESS)}catch(t){return r.g.production||console.error(":: KeepAliveBasket ::",t),!1}}))}loadBasket(e){return this.http.post(""+r.g.LOAD_BASKET_BOOKING_URL,e)}validateBasketDynamicFlowSteps(e){if(e&&Array.isArray(e.steps)){const t=this.cmsConfigSvc._cmsConfig.bookingSettings.dynamicFlowStepWhitelist;if(Array.isArray(t)&&t.length>0){const n=e.steps.filter(e=>t.includes(e.name));if(n.length!==e.steps.length){const i=JSON.parse(JSON.stringify(e));return i.steps=n,i.currentStep&&!t.includes(i.currentStep)&&(i.currentStep=d.f.NO_STEP),i}}}}processGuestFeeChargesWithoutJourneyKey(e){if(e)try{const{journeys:t,charges:n}=(null==e?void 0:e.travel)||{};Array.isArray(t)&&t.length>0&&Array.isArray(n)&&n.filter(e=>"GuestFee"===e.code).forEach(e=>{e&&!e.journeyKey&&(e.journeyKey=t[0].journeyKey)})}catch(t){r.g.production||console.warn("Error processing GuestFee charges",t)}}}return e.\u0275fac=function(t){return new(t||e)(o.dc(a.b),o.dc(g.a),o.dc(f.a),o.dc(m.a),o.dc(o.G),o.dc(b.a))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"any"}),e})()},y4gz:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("0WuY"),o=n("fXoL"),r=n("egL7");let s=(()=>{class e{constructor(e){this.gtmService=e}bookerTabListEvent(e){this.gtmService.pushTag({event:"ev_ux_booker_tablist",category:"booker_tablist",action:e})}clickCurrencyLanguage(e){e===i.a.LOCALE&&this.gtmService.pushTag({event:"ev_ux_xr_preferences",category:"ux_xr_preferences",action:"click_currency_language"})}saveCurrencyLanguage(){this.gtmService.pushTag({event:"ev_ux_xr_preferences",category:"ux_xr_preferences",action:"save_currency_language"})}selectCalendarView(e){e||this.gtmService.pushTag({event:"ev_ux_search",category:"search",action:"select_calendar_view"})}selectUsePoints(){this.gtmService.pushTag({event:"ev_ux_search",category:"search",action:"select use points"})}selectedLocationEvent(e,t,n,i,o,r,s){this.gtmService.pushTag({event:"ev_ux_search_select_location",category:"search",action:"location",label:e,searchTermOrigin:s.origin||null,searchTermDestination:s.destination||null,search:{tab_type:"HEADER_BOOK_FLIGHTS",source_location:t,type:n,trip_type:i,origin:o,destination:r}})}flipOriginDestination(){this.gtmService.pushTag({event:"ev_ux_search_flip_route",category:"ux_search_flight",action:"flip_origin_destination"})}viewPromoCode(){this.gtmService.pushTag({event:"ev_ux_search_view_promo_code",category:"search",action:"promo_code",label:"view"})}selectPromoCode(e){this.gtmService.pushTag({event:"ev_ux_search_select_promo_code",category:"search",action:"promo_code",label:"selected",promo_code:e})}homePopularDestinationsClick(){this.gtmService.pushTag({event:"ev_ux_view_popular_destinations",category:"home_popular_destinations",action:"click destination list"})}homePopularDestinationsSelect(e){this.gtmService.pushTag({event:"ev_ux_select_popular_destinations",category:"home_popular_destinations",action:"select destination list",label:e})}popularDestinationsMove(e){this.gtmService.pushTag({event:"ev_ux_search_click",category:"home_popular_destinations",action:e})}loginInviteClick(e){this.gtmService.pushTag({event:"ev_ux",category:"ux_home",action:"login_invite",label:e})}viewCobrandModal(){this.gtmService.pushTag({event:"view_promotion",ec:{items:[{promotion_id:"modal_home_hsbc",promotion_name:"Tarjetas HSBC Viva",creative_name:"Solicitar",creative_slot:"home",location_id:"home"}]},ecommerce:{promoView:{promotions:[{id:"modal_home_hsbc",name:"Tarjetas HSBC Viva",creative:"Solicitar",position:"home"}]}}})}selectCobrandPromotion(e=!1){this.gtmService.pushTag({event:"select_promotion",ec:{items:[{promotion_id:"modal_home_hsbc",promotion_name:"Tarjetas HSBC Viva",creative_name:e?"Solicitar":"Cerrar",creative_slot:"home",location_id:"home"}]},ecommerce:{promoClick:{promotions:[{id:"modal_home_hsbc",name:"Tarjetas HSBC Viva",creative:e?"Solicitar":"Cerrar",position:"home"}]}}})}closeCobrandModal(){this.gtmService.pushTag({event:"select_promotion",ec:{items:[{promotion_id:"modal_home_hsbc",promotion_name:"Tarjetas HSBC Viva",creative_name:"Cerrar_fuera",creative_slot:"home",location_id:"home"}]},ecommerce:{promoClick:{promotions:[{id:"modal_home_hsbc",name:"Tarjetas HSBC Viva",creative:"Cerrar_fuera",position:"home"}]}}})}viewPromoModal(e,t,n){this.gtmService.pushTag({event:"view_promotion",ec:{items:[{promotion_id:e,promotion_name:t,creative_name:n,creative_slot:"home",location_id:"home"}]},ecommerce:{promoView:{promotions:[{id:e,name:t,creative:n,position:"home"}]}}})}selectPromoModalOption(e,t,n,i="default"){let o="";switch(i){case"cta":o=n;break;case"close_button":o="Cerrar";break;case"default":default:o="cerrar_fuera"}this.gtmService.pushTag({event:"select_promotion",ec:{items:[{promotion_id:e,promotion_name:t,creative_name:o,creative_slot:"home",location_id:"home"}]},ecommerce:{promoClick:{promotions:[{id:e,name:t,creative:o,position:"home"}]}}})}}return e.\u0275fac=function(t){return new(t||e)(o.dc(r.a))},e.\u0275prov=o.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},y673:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL");let o=(()=>{class e{constructor(){this.stepEmitter=new i.p,this.flightsCounterEmitter=new i.p}navigateToNextStep(e,t){this.navigateToStep(e,void 0,"next",t)}navigateToPrevStep(e){this.navigateToStep(!1,void 0,"prev",e)}navigateToStep(e,t,n,i){const o={setCurrentFlow:e};t&&(o.step=t),n&&(o.direction=n),i&&(o.state=i),this.stepEmitter.emit(o)}get stepEmitter$(){return this.stepEmitter.asObservable()}resetFlightCounter(){this.flightsCounterEmitter.emit({currentFlight:0,totalFlights:0})}setFlightCounter(e){this.flightsCounterEmitter.emit(e)}get flightCounter$(){return this.flightsCounterEmitter.asObservable()}set _breadcrumbNextStep(e){this.breadcrumbNextStep=e}get _breadcrumbNextStep(){return this.breadcrumbNextStep}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},y6l0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s}));var i=function(e){return e.TOP="Top",e.ITINERARY="Itinerary",e.PASSENGERS="Passengers",e.SEATS="Seats",e.EXTRAS="Extras",e.PAYMENTS="Payments",e}({}),o=function(e){return e.WARNING="Warning",e.INFORMATION="Information",e.FLIGHT="Flight",e.ANNOUNCEMENT="Announcement",e.PROMO="Promo",e.CUSTOM_IMAGE="Custom Image",e.CUSTOM_ICON_CLASS="Custom Icon Class",e}({}),r=function(e){return e.HIDE="hide",e.INPAGE="inpage",e.POPUP="popup",e.SNACKBAR="snackbar",e.FAREICON="FareIcon",e.FAREBADGE="FareBadge",e}({}),s=function(e){return e.ORANGE="Orange",e.BLUE="Blue",e.BLACK="Black",e.WHITE="White",e.LIGHT_GREEN="LightGreen",e.DARK_GREEN="DarkGreen",e}({})},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("HDdC"),o=n("ngJS"),r=n("jZKg");function s(e,t){return t?Object(r.a)(e,t):new i.a(Object(o.a)(e))}},yGk4:function(e,t,n){var i=n("Cwc5")(n("Kz5y"),"Set");e.exports=i},yHx3:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},yK9s:function(e,t,n){"use strict";var i=n("xTJ+");e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},yLV6:function(e,t,n){var i;!function(o,r,s,a){"use strict";var c,l=["","webkit","Moz","MS","ms","o"],u=r.createElement("div"),d=Math.round,h=Math.abs,p=Date.now;function g(e,t,n){return setTimeout(C(e,n),t)}function f(e,t,n){return!!Array.isArray(e)&&(m(e,n[t],n),!0)}function m(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function b(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=o.console&&(o.console.warn||o.console.log);return r&&r.call(o.console,i,n),e.apply(this,arguments)}}c="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])}return t}:Object.assign;var v=b((function(e,t,n){for(var i=Object.keys(t),o=0;o<i.length;)(!n||n&&void 0===e[i[o]])&&(e[i[o]]=t[i[o]]),o++;return e}),"extend","Use `assign`."),y=b((function(e,t){return v(e,t,!0)}),"merge","Use `assign`.");function _(e,t,n){var i,o=t.prototype;(i=e.prototype=Object.create(o)).constructor=e,i._super=o,n&&c(i,n)}function C(e,t){return function(){return e.apply(t,arguments)}}function S(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function O(e,t){return void 0===e?t:e}function T(e,t,n){m(E(t),(function(t){e.addEventListener(t,n,!1)}))}function w(e,t,n){m(E(t),(function(t){e.removeEventListener(t,n,!1)}))}function k(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function A(e,t){return e.indexOf(t)>-1}function E(e){return e.trim().split(/\s+/g)}function M(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function P(e){return Array.prototype.slice.call(e,0)}function D(e,t,n){for(var i=[],o=[],r=0;r<e.length;){var s=t?e[r][t]:e[r];M(o,s)<0&&i.push(e[r]),o[r]=s,r++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function x(e,t){for(var n,i,o=t[0].toUpperCase()+t.slice(1),r=0;r<l.length;){if((i=(n=l[r])?n+o:t)in e)return i;r++}}var I=1;function L(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||o}var R="ontouchstart"in o,N=void 0!==x(o,"PointerEvent"),j=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B=["x","y"],F=["clientX","clientY"];function H(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){S(e.options.enable,[e])&&n.handler(t)},this.init()}function U(e,t,n){var i=n.pointers.length,o=n.changedPointers.length,r=1&t&&i-o==0,s=12&t&&i-o==0;n.isFirst=!!r,n.isFinal=!!s,r&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,o=i.length;n.firstInput||(n.firstInput=Y(t)),o>1&&!n.firstMultiple?n.firstMultiple=Y(t):1===o&&(n.firstMultiple=!1);var r=n.firstInput,s=n.firstMultiple,a=s?s.center:r.center,c=t.center=G(i);t.timeStamp=p(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=W(a,c),t.distance=$(a,c),function(e,t){var n=t.center,i=e.offsetDelta||{},o=e.prevDelta||{},r=e.prevInput||{};1!==t.eventType&&4!==r.eventType||(o=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=o.x+(n.x-i.x),t.deltaY=o.y+(n.y-i.y)}(n,t),t.offsetDirection=Z(t.deltaX,t.deltaY);var l,u,d=V(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=d.x,t.overallVelocityY=d.y,t.overallVelocity=h(d.x)>h(d.y)?d.x:d.y,t.scale=s?(l=s.pointers,$((u=i)[0],u[1],F)/$(l[0],l[1],F)):1,t.rotation=s?function(e,t){return W(t[1],t[0],F)+W(e[1],e[0],F)}(s.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,o,r,s=e.lastInterval||t,a=t.timeStamp-s.timeStamp;if(8!=t.eventType&&(a>25||void 0===s.velocity)){var c=t.deltaX-s.deltaX,l=t.deltaY-s.deltaY,u=V(a,c,l);i=u.x,o=u.y,n=h(u.x)>h(u.y)?u.x:u.y,r=Z(c,l),e.lastInterval=t}else n=s.velocity,i=s.velocityX,o=s.velocityY,r=s.direction;t.velocity=n,t.velocityX=i,t.velocityY=o,t.direction=r}(n,t);var g=e.element;k(t.srcEvent.target,g)&&(g=t.srcEvent.target),t.target=g}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function Y(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:d(e.pointers[n].clientX),clientY:d(e.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:t,center:G(t),deltaX:e.deltaX,deltaY:e.deltaY}}function G(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var n=0,i=0,o=0;o<t;)n+=e[o].clientX,i+=e[o].clientY,o++;return{x:d(n/t),y:d(i/t)}}function V(e,t,n){return{x:t/e||0,y:n/e||0}}function Z(e,t){return e===t?1:h(e)>=h(t)?e<0?2:4:t<0?8:16}function $(e,t,n){n||(n=B);var i=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(i*i+o*o)}function W(e,t,n){return n||(n=B),180*Math.atan2(t[n[1]]-e[n[1]],t[n[0]]-e[n[0]])/Math.PI}H.prototype={handler:function(){},init:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(L(this.element),this.evWin,this.domHandler)}};var K={mousedown:1,mousemove:2,mouseup:4};function z(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,H.apply(this,arguments)}_(z,H,{handler:function(e){var t=K[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var Q={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},X={2:"touch",3:"pen",4:"mouse",5:"kinect"},q="pointerdown",J="pointermove pointerup pointercancel";function ee(){this.evEl=q,this.evWin=J,H.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(q="MSPointerDown",J="MSPointerMove MSPointerUp MSPointerCancel"),_(ee,H,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),o=Q[i],r=X[e.pointerType]||e.pointerType,s="touch"==r,a=M(t,e.pointerId,"pointerId");1&o&&(0===e.button||s)?a<0&&(t.push(e),a=t.length-1):12&o&&(n=!0),a<0||(t[a]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),n&&t.splice(a,1))}});var te={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ne(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,H.apply(this,arguments)}function ie(e,t){var n=P(e.touches),i=P(e.changedTouches);return 12&t&&(n=D(n.concat(i),"identifier",!0)),[n,i]}_(ne,H,{handler:function(e){var t=te[e.type];if(1===t&&(this.started=!0),this.started){var n=ie.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var oe={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function re(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},H.apply(this,arguments)}function se(e,t){var n=P(e.touches),i=this.targetIds;if(3&t&&1===n.length)return i[n[0].identifier]=!0,[n,n];var o,r,s=P(e.changedTouches),a=[],c=this.target;if(r=n.filter((function(e){return k(e.target,c)})),1===t)for(o=0;o<r.length;)i[r[o].identifier]=!0,o++;for(o=0;o<s.length;)i[s[o].identifier]&&a.push(s[o]),12&t&&delete i[s[o].identifier],o++;return a.length?[D(r.concat(a),"identifier",!0),a]:void 0}function ae(){H.apply(this,arguments);var e=C(this.handler,this);this.touch=new re(this.manager,e),this.mouse=new z(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ce(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,le.call(this,t)):12&e&&le.call(this,t)}function le(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),2500)}}function ue(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var o=this.lastTouches[i],r=Math.abs(t-o.x),s=Math.abs(n-o.y);if(r<=25&&s<=25)return!0}return!1}_(re,H,{handler:function(e){var t=oe[e.type],n=se.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}),_(ae,H,{handler:function(e,t,n){var i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)ce.call(this,t,n);else if(i&&ue.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var de=x(u.style,"touchAction"),he=void 0!==de,pe=function(){if(!he)return!1;var e={},t=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||o.CSS.supports("touch-action",n)})),e}();function ge(e,t){this.manager=e,this.set(t)}function fe(e){this.options=c({},this.defaults,e||{}),this.id=I++,this.manager=null,this.options.enable=O(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function me(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function be(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function ve(e,t){var n=t.manager;return n?n.get(e):e}function ye(){fe.apply(this,arguments)}function _e(){ye.apply(this,arguments),this.pX=null,this.pY=null}function Ce(){ye.apply(this,arguments)}function Se(){fe.apply(this,arguments),this._timer=null,this._input=null}function Oe(){ye.apply(this,arguments)}function Te(){ye.apply(this,arguments)}function we(){fe.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ke(e,t){return(t=t||{}).recognizers=O(t.recognizers,ke.defaults.preset),new Ae(e,t)}function Ae(e,t){var n;this.options=c({},ke.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(N?ee:j?re:R?ae:z))(n,U),this.touchAction=new ge(this,this.options.touchAction),Ee(this,!0),m(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ee(e,t){var n,i=e.element;i.style&&(m(e.options.cssProps,(function(o,r){n=x(i.style,r),t?(e.oldCssProps[n]=i.style[n],i.style[n]=o):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}ge.prototype={set:function(e){"compute"==e&&(e=this.compute()),he&&this.manager.element.style&&pe[e]&&(this.manager.element.style[de]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return m(this.manager.recognizers,(function(t){S(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(A(e,"none"))return"none";var t=A(e,"pan-x"),n=A(e,"pan-y");return t&&n?"none":t||n?t?"pan-x":"pan-y":A(e,"manipulation")?"manipulation":"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,o=A(i,"none")&&!pe.none,r=A(i,"pan-y")&&!pe["pan-y"],s=A(i,"pan-x")&&!pe["pan-x"];if(o&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;if(!s||!r)return o||r&&6&n||s&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},fe.prototype={defaults:{},set:function(e){return c(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(f(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=ve(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return f(e,"dropRecognizeWith",this)||(e=ve(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(f(e,"requireFailure",this))return this;var t=this.requireFail;return-1===M(t,e=ve(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(f(e,"dropRequireFailure",this))return this;e=ve(e,this);var t=M(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+me(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+me(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=c({},e);if(!S(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},_(ye,fe,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,o=this.attrTest(e);return i&&(8&n||!o)?16|t:i||o?4&n?8|t:2&t?4|t:2:32}}),_(_e,ye,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,o=e.direction,r=e.deltaX,s=e.deltaY;return o&t.direction||(6&t.direction?(o=0===r?1:r<0?2:4,n=r!=this.pX,i=Math.abs(e.deltaX)):(o=0===s?1:s<0?8:16,n=s!=this.pY,i=Math.abs(e.deltaY))),e.direction=o,n&&i>t.threshold&&o&t.direction},attrTest:function(e){return ye.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=be(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),_(Ce,ye,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),_(Se,fe,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!i||!n||12&e.eventType&&!o)this.reset();else if(1&e.eventType)this.reset(),this._timer=g((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),_(Oe,ye,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),_(Te,ye,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return _e.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=be(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),_(we,fe,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(i&&o&&n){if(4!=e.eventType)return this.failTimeout();var r=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||$(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,s&&r?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=g((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=g((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ke.VERSION="2.0.7",ke.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Oe,{enable:!1}],[Ce,{enable:!1},["rotate"]],[Te,{direction:6}],[_e,{direction:6},["swipe"]],[we],[we,{event:"doubletap",taps:2},["tap"]],[Se]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ae.prototype={set:function(e){return c(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,o=t.curRecognizer;(!o||o&&8&o.state)&&(o=t.curRecognizer=null);for(var r=0;r<i.length;)n=i[r],2===t.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(e),!o&&14&n.state&&(o=t.curRecognizer=n),r++}},get:function(e){if(e instanceof fe)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(f(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(f(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=M(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers;return m(E(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers;return m(E(e),(function(e){t?n[e]&&n[e].splice(M(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=r.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&Ee(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(ke,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ae,Input:H,TouchAction:ge,TouchInput:re,MouseInput:z,PointerEventInput:ee,TouchMouseInput:ae,SingleTouchInput:ne,Recognizer:fe,AttrRecognizer:ye,Tap:we,Pan:_e,Swipe:Te,Pinch:Ce,Rotate:Oe,Press:Se,on:T,off:w,each:m,merge:y,extend:v,assign:c,inherit:_,bindFn:C,prefixed:x}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=ke,void 0===(i=(function(){return ke}).call(t,n,t,e))||(e.exports=i)}(window,document)},yP5f:function(e,t,n){var i=n("+K+b");e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},ynpe:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"j",(function(){return g})),n.d(t,"h",(function(){return f}));var i=n("3Pt+"),o=n("wd/R"),r=n("ofgY");const s=[i.I.required,i.I.minLength(2),i.I.maxLength(32),i.I.pattern("^[a-zA-Z\xf1\xd1\xe1\xc1\xe9\xc9\xed\xcd\xf3\xd3\xfa\xda_.`\xb4 '-]+")];class a{constructor(){this.customerNumber=!1,this.firstName=!1,this.lastName=!1,this.dateOfBirth=!1}}function c(e,t,n=t){return i=>{const s=o(t).diff(i.value,"years"),a=o(n).diff(i.value,"years");switch(e){case r.i.INFT:if(s<0||a>=r.b)return{type:!0};break;case r.i.CHD:if(s<r.b||a>=r.a)return{type:!0};break;case r.i.ADT:if(a<r.a||s>=150)return{type:!0}}return o(i.value).diff(t,"days")>=0?{departureDate:!0}:null}}function l(e,t){return n=>n&&e&&t&&e[t]?{customerId:!0}:null}function u(e){return t=>e.find(e=>e.value&&t.value===e.value)?{samePassport:!0}:null}const d=[i.I.minLength(7),i.I.maxLength(10),i.I.pattern("^[a-zA-Z0-9]+")],h=[i.I.minLength(9),i.I.maxLength(10),i.I.pattern("^[a-zA-Z0-9]+")],p=[i.I.minLength(9),i.I.maxLength(10),i.I.pattern("^[0-9]+")],g=[i.I.minLength(7),i.I.maxLength(12),i.I.pattern("^[a-zA-Z0-9]+")];function f(e){return o().diff(e.value,"months")>-6?{expire:!0}:null}},yoF8:function(e,t,n){"use strict";t.identity=function(e){return e}},yx2s:function(e,t,n){"use strict";var i=n("FWf1");t.canReportError=function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof i.Subscriber?t:null}return!0}},"z+Ro":function(e,t,n){"use strict";function i(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return i}))},z6cu:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("HDdC");function o(e,t){return new i.a(t?n=>t.schedule(r,0,{error:e,subscriber:n}):t=>t.error(e))}function r({error:e,subscriber:t}){t.error(e)}},"zB/H":function(e,t,n){"use strict";var i=n("mbIT"),o=n("GMZp"),r=n("pshJ"),s=n("LBXl");function a(e){return e.reduce((function(e,t){return e.concat(t instanceof s.UnsubscriptionError?t.errors:t)}),[])}t.Subscription=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,c=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var u=0;u<n.length;++u)n[u].remove(this);if(r.isFunction(c))try{c.call(this)}catch(p){t=p instanceof s.UnsubscriptionError?a(p.errors):[p]}if(i.isArray(l)){u=-1;for(var d=l.length;++u<d;){var h=l[u];if(o.isObject(h))try{h.unsubscribe()}catch(p){t=t||[],p instanceof s.UnsubscriptionError?t=t.concat(a(p.errors)):t.push(p)}}}if(t)throw new s.UnsubscriptionError(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}()},zEVN:function(e,t,n){var i=n("Gi0A"),o=n("sEf8"),r=n("mdPL"),s=r&&r.isMap,a=s?o(s):i;e.exports=a},zIwB:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("mrSG"),o=n("XNiG"),r=n("wd/R"),s=n("RbsG"),a=n("ofgY"),c=function(e){return e.MALE="MALE",e.FEMALE="FEMALE",e.OTHER="OTHER",e}({}),l=n("kh7C");class u{loadBookingData(e){return Object(i.a)(this,void 0,void 0,(function*(){e?(this.travelers=this.parsePassengers(e.passengers),this.destination=this.parseDestination(e),this.hotel=this.getAccommodationData(e),this.contact=yield this.parseContact(e),this.payment={success:e.paidStatus===s.m.PaidInFull||e.paidStatus===s.m.OverPaid},this.booking={pnr:e.pnr}):(this.travelers=[],this.destination=null,this.contact=null,this.hotel={bookingCode:null},this.payment={success:!1},this.booking={pnr:null})}))}loadUserData(e=!1){this.user={authenticated:e}}parsePassengers(e){try{return e.map(e=>({firstName:e.firstName,lastName:e.lastName,gender:this.mapPassengerGender(e.gender),dateOfBirth:this.mapDateToStr(e.dateOfBirth),nationality:e.nationality}))}catch(t){return[]}}parseDestination(e){try{const t=this.bookingRoundTrip(e),n={adults:e.passengers.filter(e=>e.type===a.i.ADT).length,checkIn:t?this.mapDateToStr(e.journeys[0].arrivalDate.scheduled):null,checkOut:t?this.mapDateToStr(e.journeys[1].departureDate.scheduled):null,children:e.passengers.filter(e=>e.type===a.i.CHD).length,childrenAges:[],infants:e.passengers.filter(e=>e.type===a.i.INFT).length,destination:t?e.journeys[0].destination.code:null},i=this.getDateFromStr(e.journeys[0].departureDate.scheduled);return n.childrenAges=e.passengers.filter(e=>e.type===a.i.CHD||e.type===a.i.INFT).map(e=>this.getPassengerAge(e,i)),n}catch(t){return null}}parseContact(e){return Object(i.a)(this,void 0,void 0,(function*(){try{let t=e.contacts.find(e=>e.contactType===s.c.Primary);return t||(t=e.contacts[0]),t?{firstName:t.firstName,lastName:t.lastName,phone:yield this.getPhoneNumber(t.phoneNumbers),email:t.email}:null}catch(t){return null}}))}mapPassengerGender(e){switch(e){case a.f.GLOBAL_LABEL_GENDER_MALE:return c.MALE;case a.f.GLOBAL_LABEL_GENDER_FEMALE:return c.FEMALE;default:return c.MALE}}mapDateToStr(e){const t=this.getDateFromStr(e);return t?t.format("YYYY-MM-DD"):null}getDateFromStr(e){try{const t=r(e);return t.isValid()?t:null}catch(t){return null}}getPassengerAge(e,t){try{const n=this.getDateFromStr(null==e?void 0:e.dateOfBirth);return(null==n?void 0:n.isValid())&&(null==t?void 0:t.isValid())?t.diff(n,"years"):null}catch(n){return null}}getPhoneNumber(e){return Object(i.a)(this,void 0,void 0,(function*(){try{let t=e.home;if(!t)for(const n in e)if("string"==typeof e[n]){t=e[n];break}return t?yield this.parsePhoneNumber(t):null}catch(t){return null}}))}bookingRoundTrip(e){try{return 2===e.journeys.length&&e.journeys[0].origin.code===e.journeys[1].destination.code&&e.journeys[0].destination.code===e.journeys[1].origin.code}catch(t){return!1}}getAccommodationData(e){var t;return{bookingCode:(null===(t=null==e?void 0:e.accommodation)||void 0===t?void 0:t.bookingCode)||null}}get toObject(){return{travelers:this.travelers,destination:this.destination,contact:this.contact,hotel:this.hotel,payment:this.payment,booking:this.booking,user:this.user}}parsePhoneNumber(e){return Object(i.a)(this,void 0,void 0,(function*(){if(e)try{const{PhoneNumberUtil:t}=yield Object(l.f)(n.e(1).then(n.t.bind(null,"ar4q",7))),i=t.getInstance().parse(e,"MX");return`+${i.getCountryCode()}.${i.getNationalNumber()}`}catch(_){return console.log("::Error parsing phone number::","Using original value!"),e}return e}))}}var d=n("fXoL"),h=n("CPX7"),p=n("imvL");let g=(()=>{class e{constructor(e,t){this.baskSvc=e,this.authSvc=t,this._ml_booking=null,this.$bfHotelDataNotifier=new o.a,this._bf_booking=e._bf_booking.bind(e),e=null,this._bf_authenticated=t._bf_authenticated.bind(t),t=null}exposePWAContextFunctions(){window.VivaContext={getBasketData:this.getBasketData.bind(this),setHotelData:this.setHotelData.bind(this)}}getBasketData(){var e;return Object(i.a)(this,void 0,void 0,(function*(){const t=this._ml_booking||this._bf_booking(),n=null!==(e=this._bf_authenticated())&&void 0!==e&&e,i=new u;return yield i.loadBookingData(t),i.loadUserData(n),i.toObject}))}setHotelData(e){return new Promise((t,n)=>{e?this.$bfHotelDataNotifier.next({data:e,resolve:t,reject:n}):n("A value must be passed to the function!")})}get bfHotelDataNotifier$(){return this.$bfHotelDataNotifier.asObservable()}set ml_booking(e){try{this._ml_booking=JSON.parse(JSON.stringify(e))}catch(t){this._ml_booking=void 0}}}return e.\u0275fac=function(t){return new(t||e)(d.dc(h.a),d.dc(p.a))},e.\u0275prov=d.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},zP0r:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("7o/Q");function o(e){return t=>t.lift(new r(e))}class r{constructor(e){this.total=e}call(e,t){return t.subscribe(new s(e,this.total))}}class s extends i.a{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}},zUnb:function(e,t,n){"use strict";n.r(t);var i=n("fXoL");n("Bxln");class o{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}function r(e,t){const{href:n}=location;return new URL(e,n).href===new URL(t,n).href}n("r8Ls");class s{constructor(e,t){this.type=e,Object.assign(this,t)}}class a extends class{constructor(){this._eventListenerRegistry=new Map}addEventListener(e,t){this._getEventListenersByType(e).add(t)}removeEventListener(e,t){this._getEventListenersByType(e).delete(t)}dispatchEvent(e){e.target=this;const t=this._getEventListenersByType(e.type);for(const n of t)n(e)}_getEventListenersByType(e){return this._eventListenerRegistry.has(e)||this._eventListenerRegistry.set(e,new Set),this._eventListenerRegistry.get(e)}}{constructor(e,t={}){super(),this._registerOptions={},this._updateFoundCount=0,this._swDeferred=new o,this._activeDeferred=new o,this._controllingDeferred=new o,this._registrationTime=0,this._ownSWs=new Set,this._onUpdateFound=()=>{const e=this._registration,t=e.installing;this._updateFoundCount>0||!r(t.scriptURL,this._scriptURL)||performance.now()>this._registrationTime+6e4?(this._externalSW=t,e.removeEventListener("updatefound",this._onUpdateFound)):(this._sw=t,this._ownSWs.add(t),this._swDeferred.resolve(t)),++this._updateFoundCount,t.addEventListener("statechange",this._onStateChange)},this._onStateChange=e=>{const t=this._registration,n=e.target,{state:i}=n,o=n===this._externalSW,r=o?"external":"",a={sw:n,originalEvent:e};!o&&this._isUpdate&&(a.isUpdate=!0),this.dispatchEvent(new s(r+i,a)),"installed"===i?this._waitingTimeout=self.setTimeout(()=>{"installed"===i&&t.waiting===n&&this.dispatchEvent(new s(r+"waiting",a))},200):"activating"===i&&(clearTimeout(this._waitingTimeout),o||this._activeDeferred.resolve(n))},this._onControllerChange=e=>{const t=this._sw;t===navigator.serviceWorker.controller&&(this.dispatchEvent(new s("controlling",{sw:t,originalEvent:e,isUpdate:this._isUpdate})),this._controllingDeferred.resolve(t))},this._onMessage=async e=>{const{data:t,source:n}=e;await this.getSW(),this._ownSWs.has(n)&&this.dispatchEvent(new s("message",{data:t,sw:n,originalEvent:e}))},this._scriptURL=e,this._registerOptions=t,navigator.serviceWorker.addEventListener("message",this._onMessage)}async register({immediate:e=!1}={}){e||"complete"===document.readyState||await new Promise(e=>window.addEventListener("load",e)),this._isUpdate=Boolean(navigator.serviceWorker.controller),this._compatibleControllingSW=this._getControllingSWIfCompatible(),this._registration=await this._registerScript(),this._compatibleControllingSW&&(this._sw=this._compatibleControllingSW,this._activeDeferred.resolve(this._compatibleControllingSW),this._controllingDeferred.resolve(this._compatibleControllingSW),this._compatibleControllingSW.addEventListener("statechange",this._onStateChange,{once:!0}));const t=this._registration.waiting;return t&&r(t.scriptURL,this._scriptURL)&&(this._sw=t,Promise.resolve().then(()=>{this.dispatchEvent(new s("waiting",{sw:t,wasWaitingBeforeRegister:!0}))}).then(()=>{})),this._sw&&(this._swDeferred.resolve(this._sw),this._ownSWs.add(this._sw)),this._registration.addEventListener("updatefound",this._onUpdateFound),navigator.serviceWorker.addEventListener("controllerchange",this._onControllerChange,{once:!0}),this._registration}async update(){this._registration&&await this._registration.update()}get active(){return this._activeDeferred.promise}get controlling(){return this._controllingDeferred.promise}async getSW(){return void 0!==this._sw?this._sw:this._swDeferred.promise}async messageSW(e){return function(e,t){return new Promise(n=>{const i=new MessageChannel;i.port1.onmessage=e=>{n(e.data)},e.postMessage(t,[i.port2])})}(await this.getSW(),e)}_getControllingSWIfCompatible(){const e=navigator.serviceWorker.controller;return e&&r(e.scriptURL,this._scriptURL)?e:void 0}async _registerScript(){try{const e=await navigator.serviceWorker.register(this._scriptURL,this._registerOptions);return this._registrationTime=performance.now(),e}catch(e){throw e}}}var c=n("AytR"),l=n("yLV6"),u=n("tk/3"),d=n("jhN1"),h=n("R0Ic");function p(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function g(e){switch(e.length){case 0:return new h.d;case 1:return e[0];default:return new h.p(e)}}function f(e,t,n,i,o={},r={}){const s=[],a=[];let c=-1,l=null;if(i.forEach(e=>{const n=e.offset,i=n==c,u=i&&l||{};Object.keys(e).forEach(n=>{let i=n,a=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,s),a){case h.q:a=o[n];break;case h.a:a=r[n];break;default:a=t.normalizeStyleValue(n,i,a,s)}u[i]=a}),i||a.push(u),l=u,c=n}),s.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${s.join(e)}`)}return a}function m(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&b(n,"start",e)));break;case"done":e.onDone(()=>i(n&&b(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&b(n,"destroy",e)))}}function b(e,t,n){const i=n.totalTime,o=v(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),r=e._data;return null!=r&&(o._data=r),o}function v(e,t,n,i,o="",r=0,s){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:o,totalTime:r,disabled:!!s}}function y(e,t,n){let i;return e instanceof Map?(i=e.get(t),i||e.set(t,i=n)):(i=e[t],i||(i=e[t]=n)),i}function C(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let S=(e,t)=>!1,O=(e,t)=>!1,T=(e,t,n)=>[];const w=p();(w||"undefined"!=typeof Element)&&(S=(e,t)=>e.contains(t),O=(()=>{if(w||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):O}})(),T=(e,t,n)=>{let i=[];if(n)i.push(...e.querySelectorAll(t));else{const n=e.querySelector(t);n&&i.push(n)}return i});let k=null,A=!1;function E(e){k||(k=("undefined"!=typeof document?document.body:null)||{},A=!!k.style&&"WebkitAppearance"in k.style);let t=!0;return k.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in k.style,!t&&A)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in k.style),t}const M=O,P=S,D=T;function x(e){const t={};return Object.keys(e).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]}),t}let I=(()=>{class e{validateStyleProperty(e){return E(e)}matchesElement(e,t){return M(e,t)}containsElement(e,t){return P(e,t)}query(e,t,n){return D(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,i,o,r=[],s){return new h.d(n,i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})(),L=(()=>{class e{}return e.NOOP=new I,e})();function R(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:N(parseFloat(t[1]),t[2])}function N(e,t){switch(t){case"s":return 1e3*e;default:return e}}function j(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let i,o=0,r="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};i=N(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(o=N(parseFloat(s),n[4]));const a=n[5];a&&(r=a)}else i=e;if(!n){let n=!1,r=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),o<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(r,0,`The provided timing value "${e}" is invalid.`)}return{duration:i,delay:o,easing:r}}(e,t,n)}function B(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function F(e,t,n={}){if(t)for(let i in e)n[i]=e[i];else B(e,n);return n}function H(e,t,n){return n?t+":"+n+";":""}function U(e){let t="";for(let n=0;n<e.style.length;n++){const i=e.style.item(n);t+=H(0,i,e.style.getPropertyValue(i))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=H(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function Y(e,t,n){e.style&&(Object.keys(t).forEach(i=>{const o=Q(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[o]),e.style[o]=t[i]}),p()&&U(e))}function G(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=Q(t);e.style[n]=""}),p()&&U(e))}function V(e){return Array.isArray(e)?1==e.length?e[0]:Object(h.j)(e):e}const Z=new RegExp("{{\\s*(.+?)\\s*}}","g");function $(e){let t=[];if("string"==typeof e){let n;for(;n=Z.exec(e);)t.push(n[1]);Z.lastIndex=0}return t}function W(e,t,n){const i=e.toString(),o=i.replace(Z,(e,i)=>{let o=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),o=""),o.toString()});return o==i?e:o}function K(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const z=/-+([a-z0-9])/g;function Q(e){return e.replace(z,(...e)=>e[1].toUpperCase())}function X(e,t){return 0===e||0===t}function q(e,t,n){const i=Object.keys(n);if(i.length&&t.length){let r=t[0],s=[];if(i.forEach(e=>{r.hasOwnProperty(e)||s.push(e),r[e]=n[e]}),s.length)for(var o=1;o<t.length;o++){let n=t[o];s.forEach((function(t){n[t]=ee(e,t)}))}}return t}function J(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function ee(e,t){return window.getComputedStyle(e)[t]}function te(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const o=i[1],r=i[2],s=i[3];t.push(oe(o,s)),"<"!=r[0]||"*"==o&&"*"==s||t.push(oe(s,o))}(e,n,t)):n.push(e),n}const ne=new Set(["true","1"]),ie=new Set(["false","0"]);function oe(e,t){const n=ne.has(e)||ie.has(e),i=ne.has(t)||ie.has(t);return(o,r)=>{let s="*"==e||e==o,a="*"==t||t==r;return!s&&n&&"boolean"==typeof o&&(s=o?ne.has(e):ie.has(e)),!a&&i&&"boolean"==typeof r&&(a=r?ne.has(t):ie.has(t)),s&&a}}const re=new RegExp("s*:selfs*,?","g");function se(e,t,n){return new ae(e).build(t,n)}class ae{constructor(e){this._driver=e}build(e,t){const n=new ce(t);return this._resetContextStyleTimingState(n),J(this,V(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0;const o=[],r=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,i=n.name;i.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,o.push(this.visitState(n,t))}),n.name=i}else if(1==e.type){const o=this.visitTransition(e,t);n+=o.queryCount,i+=o.depCount,r.push(o)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:o,transitions:r,queryCount:n,depCount:i,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){const o=new Set,r=i||{};if(n.styles.forEach(e=>{if(le(e)){const t=e;Object.keys(t).forEach(e=>{$(t[e]).forEach(e=>{r.hasOwnProperty(e)||o.add(e)})})}}),o.size){const n=K(o.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=J(this,V(e.animation),t);return{type:1,matchers:te(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:ue(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>J(this,e,t)),options:ue(e.options)}}visitGroup(e,t){const n=t.currentTime;let i=0;const o=e.steps.map(e=>{t.currentTime=n;const o=J(this,e,t);return i=Math.max(i,t.currentTime),o});return t.currentTime=i,{type:3,steps:o,options:ue(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return de(j(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=de(0,0,"");return e.dynamic=!0,e.strValue=i,e}return n=n||j(i,t),de(n.duration,n.delay,n.easing)}(e.timings,t.errors);let i;t.currentAnimateTimings=n;let o=e.styles?e.styles:Object(h.l)({});if(5==o.type)i=this.visitKeyframes(o,t);else{let o=e.styles,r=!1;if(!o){r=!0;const e={};n.easing&&(e.easing=n.easing),o=Object(h.l)(e)}t.currentTime+=n.duration+n.delay;const s=this.visitStyle(o,t);s.isEmptyStep=r,i=s}return t.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==h.a?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let i=!1,o=null;return n.forEach(e=>{if(le(e)){const t=e,n=t.easing;if(n&&(o=n,delete t.easing),!i)for(let e in t)if(t[e].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:o,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const r=t.collectedStyles[t.currentQuerySelector],s=r[n];let a=!0;s&&(o!=i&&o>=s.startTime&&i<=s.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${i}ms"`),a=!1),o=s.startTime),a&&(r[n]={startTime:o,endTime:i}),t.options&&function(e,t,n){const i=t.params||{},o=$(e);o.length&&o.forEach(e=>{i.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const o=[];let r=!1,s=!1,a=0;const c=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let c=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(le(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(le(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),l=0;return null!=c&&(i++,l=n.offset=c),s=s||l<0||l>1,r=r||l<a,a=l,o.push(l),n});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),r&&t.errors.push("Please ensure that all keyframe offsets are in order");const l=e.steps.length;let u=0;i>0&&i<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(l-1));const d=l-1,h=t.currentTime,p=t.currentAnimateTimings,g=p.duration;return c.forEach((e,i)=>{const r=u>0?i==d?1:u*i:o[i],s=r*g;t.currentTime=h+p.delay+s,p.duration=s,this._validateStyleAst(e,t),e.offset=r,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:J(this,V(e.animation),t),options:ue(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ue(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ue(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,r]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(re,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,".ng-animating"),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+o:o,y(t.collectedStyles,t.currentQuerySelector,{});const s=J(this,V(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:r,animation:s,originalSelector:e.selector,options:ue(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:j(e.timings,t.errors,!0);return{type:12,animation:J(this,V(e.animation),t),timings:n,options:null}}}class ce{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function le(e){return!Array.isArray(e)&&"object"==typeof e}function ue(e){var t;return e?(e=B(e)).params&&(e.params=(t=e.params)?B(t):null):e={},e}function de(e,t,n){return{duration:e,delay:t,easing:n}}function he(e,t,n,i,o,r,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:o,delay:r,totalTime:o+r,easing:s,subTimeline:a}}class pe{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const ge=new RegExp(":enter","g"),fe=new RegExp(":leave","g");function me(e,t,n,i,o,r={},s={},a,c,l=[]){return(new be).buildKeyframes(e,t,n,i,o,r,s,a,c,l)}class be{buildKeyframes(e,t,n,i,o,r,s,a,c,l=[]){c=c||new pe;const u=new ye(e,t,c,i,o,l,[]);u.options=a,u.currentTimeline.setStyles([r],null,u.errors,a),J(this,n,u);const d=u.timelines.filter(e=>e.containsAnimation());if(d.length&&Object.keys(s).length){const e=d[d.length-1];e.allowOnlyTimelineStyles()||e.setStyles([s],null,u.errors,a)}return d.length?d.map(e=>e.buildKeyframes()):[he(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,r=this._visitSubInstructions(n,i,i.options);o!=r&&t.transformIntoNewTimeline(r)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let i=t.currentTimeline.currentTime;const o=null!=n.duration?R(n.duration):null,r=null!=n.delay?R(n.delay):null;return 0!==o&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,o,r);i=Math.max(i,n.duration+n.delay)}),i}visitReference(e,t){t.updateOptions(e.options,!0),J(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ve);const e=R(o.delay);i.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>J(this,e,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?R(e.options.delay):0;e.steps.forEach(r=>{const s=t.createSubContext(e.options);o&&s.delayNextStep(o),J(this,r,s),i=Math.max(i,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return j(t.params?W(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(n.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,i=t.currentTimeline.duration,o=n.duration,r=t.createSubContext().currentTimeline;r.easing=n.easing,e.styles.forEach(e=>{r.forwardTime((e.offset||0)*o),r.setStyles(e.styles,e.easing,t.errors,t.options),r.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(r),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?R(i.delay):0;o&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ve);let r=n;const s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;let a=null;s.forEach((n,i)=>{t.currentQueryIndex=i;const s=t.createSubContext(e.options,n);o&&s.delayNextStep(o),n===t.element&&(a=s.currentTimeline),J(this,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(r),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,i=t.currentTimeline,o=e.timings,r=Math.abs(o.duration),s=r*(t.currentQueryTotal-1);let a=r*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const c=t.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;J(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)}}const ve={};class ye{constructor(e,t,n,i,o,r,s,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=r,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ve,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new _e(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let i=this.options;null!=n.duration&&(i.duration=R(n.duration)),null!=n.delay&&(i.delay=R(n.delay));const o=n.params;if(o){let e=i.params;e||(e=this.options.params={}),Object.keys(o).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=W(o[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const i=t||this.element,o=new ye(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=ve,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},o=new Ce(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,o,r){let s=[];if(i&&s.push(this.element),e.length>0){e=(e=e.replace(ge,"."+this._enterClassName)).replace(fe,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),s.push(...t)}return o||0!=s.length||r.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),s}}class _e{constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new _e(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||h.a,this._currentKeyframe[e]=h.a}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&(this._previousKeyframe.easing=t);const o=i&&i.params||{},r=function(e,t){const n={};let i;return e.forEach(e=>{"*"===e?(i=i||Object.keys(t),i.forEach(e=>{n[e]=h.a})):F(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(r).forEach(e=>{const t=W(r[e],o,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:h.a),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],i=e._styleSummary[t];(!n||i.time>n.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((o,r)=>{const s=F(o,!0);Object.keys(s).forEach(n=>{const i=s[n];i==h.q?e.add(n):i==h.a&&t.add(n)}),n||(s.offset=r/this.duration),i.push(s)});const o=e.size?K(e.values()):[],r=t.size?K(t.values()):[];if(n){const e=i[0],t=B(e);e.offset=0,t.offset=1,i=[e,t]}return he(this.element,i,o,r,this.duration,this.startTime,this.easing,!1)}}class Ce extends _e{constructor(e,t,n,i,o,r,s=!1){super(e,t,r.delay),this.element=t,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],r=n+t,s=t/r,a=F(e[0],!1);a.offset=0,o.push(a);const c=F(e[0],!1);c.offset=Se(s),o.push(c);const l=e.length-1;for(let i=1;i<=l;i++){let s=F(e[i],!1);s.offset=Se((t+s.offset*n)/r),o.push(s)}n=r,t=0,i="",e=o}return he(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}}function Se(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class Oe{}class Te extends Oe{normalizePropertyName(e,t){return Q(e)}normalizeStyleValue(e,t,n,i){let o="";const r=n.toString().trim();if(we[t]&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&i.push(`Please provide a CSS unit value for ${e}:${n}`)}return r+o}}const we=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ke(e,t,n,i,o,r,s,a,c,l,u,d,h){return{type:0,element:e,triggerName:t,isRemovalTransition:o,fromState:n,fromStyles:r,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}const Ae={};class Ee{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return function(e,t,n,i,o){return e.some(e=>e(t,n,i,o))}(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){const i=this._stateStyles["*"],o=this._stateStyles[e],r=i?i.buildStyles(t,n):{};return o?o.buildStyles(t,n):r}build(e,t,n,i,o,r,s,a,c,l){const u=[],d=this.ast.options&&this.ast.options.params||Ae,h=this.buildStyles(n,s&&s.params||Ae,u),p=a&&a.params||Ae,g=this.buildStyles(i,p,u),f=new Set,m=new Map,b=new Map,v="void"===i,_={params:Object.assign(Object.assign({},d),p)},C=l?[]:me(e,t,this.ast.animation,o,r,h,g,_,c,u);let S=0;if(C.forEach(e=>{S=Math.max(e.duration+e.delay,S)}),u.length)return ke(t,this._triggerName,n,i,v,h,g,[],[],m,b,S,u);C.forEach(e=>{const n=e.element,i=y(m,n,{});e.preStyleProps.forEach(e=>i[e]=!0);const o=y(b,n,{});e.postStyleProps.forEach(e=>o[e]=!0),n!==t&&f.add(n)});const O=K(f.values());return ke(t,this._triggerName,n,i,v,h,g,C,O,m,b,S)}}class Me{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},i=B(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const o=e;Object.keys(o).forEach(e=>{let r=o[e];r.length>1&&(r=W(r,i,t)),n[e]=r})}}),n}}class Pe{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Me(e.style,e.options&&e.options.params||{})}),De(this.states,"true","1"),De(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Ee(e,t,this.states))}),this.fallbackTransition=new Ee(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(o=>o.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function De(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const xe=new pe;class Ie{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],i=se(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=i}_buildPlayer(e,t,n){const i=e.element,o=f(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const i=[],o=this._animations[e];let r;const s=new Map;if(o?(r=me(this._driver,t,o,"ng-enter","ng-leave",{},{},n,xe,i),r.forEach(e=>{const t=y(s,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),r=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));s.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,h.a)})});const a=g(r.map(e=>{const t=s.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}listen(e,t,n,i){const o=v(t,"","","");return m(this._getPlayer(e),n,o,i),()=>{}}command(e,t,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Le=[],Re={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ne={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class je{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(i=n?e.value:e)?i:null,n){const t=B(e);delete t.value,this.options=t}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const Be=new je("void");class Fe{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,$e(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(o=n)&&"done"!=o)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var o;const r=y(this._elementListeners,e,[]),s={name:t,phase:n,callback:i};r.push(s);const a=y(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||($e(e,"ng-trigger"),$e(e,"ng-trigger-"+t),a[t]=Be),()=>{this._engine.afterFlush(()=>{const e=r.indexOf(s);e>=0&&r.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,i=!0){const o=this._getTrigger(t),r=new Ue(this.id,t,e);let s=this._engine.statesByElement.get(e);s||($e(e,"ng-trigger"),$e(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));let a=s[t];const c=new je(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),s[t]=c,a||(a=Be),"void"!==c.value&&a.value===c.value){if(!function(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let o=0;o<n.length;o++){const i=n[o];if(!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}(a.params,c.params)){const t=[],n=o.matchStyles(a.value,a.params,t),i=o.matchStyles(c.value,c.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{G(e,n),Y(e,i)})}return}const l=y(this._engine.playersByElement,e,[]);l.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=o.matchTransition(a.value,c.value,e,c.params),d=!1;if(!u){if(!i)return;u=o.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:c,player:r,isFallbackTransition:d}),d||($e(e,"ng-animate-queued"),r.onStart(()=>{We(e,"ng-animate-queued")})),r.onDone(()=>{let t=this.players.indexOf(r);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(r);e>=0&&n.splice(e,1)}}),this.players.push(r),l.push(r),r}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,".ng-trigger",!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,i){const o=this._engine.statesByElement.get(e);if(o){const r=[];if(Object.keys(o).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,"void",i);n&&r.push(n)}}),r.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&g(r).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const i=t.name;if(n.has(i))return;n.add(i);const o=this._triggers[i].fallbackTransition,r=this._engine.statesByElement.get(e)[i]||Be,s=new je("void"),a=new Ue(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:o,fromState:r,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)i=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,t);else{const i=e.__ng_removed;i&&i!==Re||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){$e(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const o=n.element,r=this._elementListeners.get(o);r&&r.forEach(t=>{if(t.name==n.triggerName){const i=v(o,n.triggerName,n.fromState.value,n.toState.value);i._data=e,m(n.player,t.phase,i,t.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,i=t.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class He{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new Fe(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let o=n;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,t)){this._namespaceList.splice(o+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let i=0;i<e.length;i++){const o=n[e[i]].namespaceId;if(o){const e=this._fetchNamespace(o);e&&t.add(e)}}}return t}trigger(e,t,n,i){if(Ye(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!Ye(t))return;const o=t.__ng_removed;if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const i=this._fetchNamespace(e);i&&i.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),$e(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),We(e,"ng-animate-disabled"))}removeNode(e,t,n,i){if(Ye(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,n,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,i,o){return Ye(t)?this._fetchNamespace(e).listen(t,n,i,o):()=>{}}_buildInstruction(e,t,n,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,".ng-trigger",!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,".ng-animating",!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return g(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=Re,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)$e(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?g(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}_flushAnimations(e,t){const n=new pe,i=[],o=new Map,r=[],s=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(e=>{l.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)l.add(t[n])});const u=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=Ze(d,this.collectedEnterElements),f=new Map;let m=0;p.forEach((e,t)=>{const n="ng-enter"+m++;f.set(t,n),e.forEach(e=>$e(e,n))});const b=[],v=new Set,_=new Set;for(let h=0;h<this.collectedLeaveElements.length;h++){const e=this.collectedLeaveElements[h],t=e.__ng_removed;t&&t.setForRemoval&&(b.push(e),v.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>v.add(e)):_.add(e))}const C=new Map,S=Ze(d,Array.from(v));S.forEach((e,t)=>{const n="ng-leave"+m++;C.set(t,n),e.forEach(e=>$e(e,n))}),e.push(()=>{p.forEach((e,t)=>{const n=f.get(t);e.forEach(e=>We(e,n))}),S.forEach((e,t)=>{const n=C.get(t);e.forEach(e=>We(e,n))}),b.forEach(e=>{this.processLeaveNode(e)})});const O=[],T=[];for(let h=this._namespaceList.length-1;h>=0;h--)this._namespaceList[h].drainQueuedTransitions(t).forEach(e=>{const t=e.player,o=e.element;if(O.push(t),this.collectedEnterElements.length){const e=o.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const l=!u||!this.driver.containsElement(u,o),d=C.get(o),h=f.get(o),p=this._buildInstruction(e,n,h,d,l);if(p.errors&&p.errors.length)T.push(p);else{if(l)return t.onStart(()=>G(o,p.fromStyles)),t.onDestroy(()=>Y(o,p.toStyles)),void i.push(t);if(e.isFallbackTransition)return t.onStart(()=>G(o,p.fromStyles)),t.onDestroy(()=>Y(o,p.toStyles)),void i.push(t);p.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(o,p.timelines),r.push({instruction:p,player:t,element:o}),p.queriedElements.forEach(e=>y(s,e,[]).push(t)),p.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),p.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let i=c.get(t);i||c.set(t,i=new Set),n.forEach(e=>i.add(e))})}});if(T.length){const e=[];T.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),O.forEach(e=>e.destroy()),this.reportError(e)}const w=new Map,k=new Map;r.forEach(e=>{const t=e.element;n.has(t)&&(k.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,w))}),i.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{y(w,t,[]).push(e),e.destroy()})});const A=b.filter(e=>ze(e,a,c)),E=new Map;Ve(E,this.driver,_,c,h.a).forEach(e=>{ze(e,a,c)&&A.push(e)});const M=new Map;p.forEach((e,t)=>{Ve(M,this.driver,new Set(e),a,h.q)}),A.forEach(e=>{const t=E.get(e),n=M.get(e);E.set(e,Object.assign(Object.assign({},t),n))});const P=[],D=[],x={};r.forEach(e=>{const{element:t,player:r,instruction:s}=e;if(n.has(t)){if(l.has(t))return r.onDestroy(()=>Y(t,s.toStyles)),r.disabled=!0,r.overrideTotalTime(s.totalTime),void i.push(r);let e=x;if(k.size>1){let n=t;const i=[];for(;n=n.parentNode;){const t=k.get(n);if(t){e=t;break}i.push(n)}i.forEach(t=>k.set(t,e))}const n=this._buildAnimation(r.namespaceId,s,w,o,M,E);if(r.setRealPlayer(n),e===x)P.push(r);else{const t=this.playersByElement.get(e);t&&t.length&&(r.parentPlayer=g(t)),i.push(r)}}else G(t,s.fromStyles),r.onDestroy(()=>Y(t,s.toStyles)),D.push(r),l.has(t)&&i.push(r)}),D.forEach(e=>{const t=o.get(e.element);if(t&&t.length){const n=g(t);e.setRealPlayer(n)}}),i.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let h=0;h<b.length;h++){const e=b[h],t=e.__ng_removed;if(We(e,"ng-leave"),t&&t.hasAnimation)continue;let n=[];if(s.size){let t=s.get(e);t&&t.length&&n.push(...t);let i=this.driver.query(e,".ng-animating",!0);for(let e=0;e<i.length;e++){let t=s.get(i[e]);t&&t.length&&n.push(...t)}}const i=n.filter(e=>!e.destroyed);i.length?Ke(this,e,i):this.processLeaveNode(e)}return b.length=0,P.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),P}elementContainsData(e,t){let n=!1;const i=t.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,o){let r=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(r=t)}else{const t=this.playersByElement.get(e);if(t){const e=!o||"void"==o;t.forEach(t=>{t.queued||(e||t.triggerName==i)&&r.push(t)})}}return(n||i)&&(r=r.filter(e=>!(n&&n!=e.namespaceId||i&&i!=e.triggerName))),r}_beforeAnimationBuild(e,t,n){const i=t.element,o=t.isRemovalTransition?void 0:e,r=t.isRemovalTransition?void 0:t.triggerName;for(const s of t.timelines){const e=s.element,a=e!==i,c=y(n,e,[]);this._getPreviousPlayers(e,a,o,r,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)})}G(i,t.fromStyles)}_buildAnimation(e,t,n,i,o,r){const s=t.triggerName,a=t.element,c=[],l=new Set,u=new Set,d=t.timelines.map(t=>{const d=t.element;l.add(d);const p=d.__ng_removed;if(p&&p.removedBeforeQueried)return new h.d(t.duration,t.delay);const g=d!==a,m=function(e){const t=[];return function e(t,n){for(let i=0;i<t.length;i++){const o=t[i];o instanceof h.p?e(o.players,n):n.push(o)}}(e,t),t}((n.get(d)||Le).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===d),b=o.get(d),v=r.get(d),y=f(0,this._normalizer,0,t.keyframes,b,v),_=this._buildPlayer(t,y,m);if(t.subTimeline&&i&&u.add(d),g){const t=new Ue(e,s,d);t.setRealPlayer(_),c.push(t)}return _});c.forEach(e=>{y(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let i;if(e instanceof Map){if(i=e.get(t),i){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&e.delete(t)}}else if(i=e[t],i){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&delete e[t]}return i}(this.playersByQueriedElement,e.element,e))}),l.forEach(e=>$e(e,"ng-animating"));const p=g(d);return p.onDestroy(()=>{l.forEach(e=>We(e,"ng-animating")),Y(a,t.toStyles)}),u.forEach(e=>{y(i,e,[]).push(p)}),p}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new h.d(e.duration,e.delay)}}class Ue{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new h.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>m(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){y(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ye(e){return e&&1===e.nodeType}function Ge(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function Ve(e,t,n,i,o){const r=[];n.forEach(e=>r.push(Ge(e)));const s=[];i.forEach((n,i)=>{const r={};n.forEach(e=>{const n=r[e]=t.computeStyle(i,e,o);n&&0!=n.length||(i.__ng_removed=Ne,s.push(i))}),e.set(i,r)});let a=0;return n.forEach(e=>Ge(e,r[a++])),s}function Ze(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const i=new Set(t),o=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let r=o.get(t);if(r)return r;const s=t.parentNode;return r=n.has(s)?s:i.has(s)?1:e(s),o.set(t,r),r}(e);1!==t&&n.get(t).push(e)}),n}function $e(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function We(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function Ke(e,t,n){g(n).onDone(()=>e.processLeaveNode(t))}function ze(e,t,n){const i=n.get(e);if(!i)return!1;let o=t.get(e);return o?i.forEach(e=>o.add(e)):t.set(e,i),n.delete(e),!0}class Qe{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new He(e,t,n),this._timelineEngine=new Ie(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,i,o){const r=e+"-"+i;let s=this._triggerCache[r];if(!s){const e=[],t=se(this._driver,o,e);if(e.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);s=function(e,t){return new Pe(e,t)}(i,t),this._triggerCache[r]=s}this._transitionEngine.registerTrigger(t,i,s)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if("@"==n.charAt(0)){const[e,o]=C(n);this._timelineEngine.command(e,t,o,i)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,o){if("@"==n.charAt(0)){const[e,i]=C(n);return this._timelineEngine.listen(e,t,i,o)}return this._transitionEngine.listen(e,t,n,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Xe(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=Je(t[0]),t.length>1&&(i=Je(t[t.length-1]))):t&&(n=Je(t)),n||i?new qe(e,n,i):null}let qe=(()=>{class e{constructor(t,n,i){this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;let o=e.initialStylesByElement.get(t);o||e.initialStylesByElement.set(t,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Y(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Y(this._element,this._initialStyles),this._endStyles&&(Y(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(G(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(G(this._element,this._endStyles),this._endStyles=null),Y(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function Je(e){let t=null;const n=Object.keys(e);for(let i=0;i<n.length;i++){const o=n[i];et(o)&&(t=t||{},t[o]=e[o])}return t}function et(e){return"display"===e||"position"===e}class tt{constructor(e,t,n,i,o,r,s){this._element=e,this._name=t,this._duration=n,this._delay=i,this._easing=o,this._fillMode=r,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=at(e,"").trim();n.length&&(function(e,t){let n=0;for(let i=0;i<e.length;i++)","===e.charAt(i)&&n++}(n),t=`${n}, ${t}`),st(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),rt(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){nt(this._element,this._name,"paused")}resume(){nt(this._element,this._name,"running")}setPosition(e){const t=it(this._element,this._name);this._position=e*this._duration,st(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),rt(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=at(e,"").split(","),i=ot(n,t);i>=0&&(n.splice(i,1),st(e,"",n.join(",")))}(this._element,this._name))}}function nt(e,t,n){st(e,"PlayState",n,it(e,t))}function it(e,t){const n=at(e,"");return n.indexOf(",")>0?ot(n.split(","),t):ot([n],t)}function ot(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function rt(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function st(e,t,n,i){const o="animation"+t;if(null!=i){const t=e.style[o];if(t.length){const e=t.split(",");e[i]=n,n=e.join(",")}}e.style[o]=n}function at(e,t){return e.style["animation"+t]}class ct{constructor(e,t,n,i,o,r,s,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=r||"linear",this.totalTime=i+o,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new tt(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:ee(this.element,n))})}this.currentSnapshot=e}}class lt extends h.d{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=x(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class ut{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return E(e)}matchesElement(e,t){return M(e,t)}containsElement(e,t){return P(e,t)}query(e,t,n){return D(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>x(e));let i=`@keyframes ${t} {\n`,o="";n.forEach(e=>{o=" ";const t=parseFloat(e.offset);i+=`${o}${100*t}% {\n`,o+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+=`${o}animation-timing-function: ${n};\n`));default:return void(i+=`${o}${t}: ${n};\n`)}}),i+=o+"}\n"}),i+="}\n";const r=document.createElement("style");return r.innerHTML=i,r}animate(e,t,n,i,o,r=[],s){s&&this._notifyFaultyScrubber();const a=r.filter(e=>e instanceof ct),c={};X(n,i)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>c[e]=t[e])});const l=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=q(e,t,c));if(0==n)return new lt(e,l);const u="gen_css_kf_"+this._count++,d=this.buildKeyframeElement(e,u,t);document.querySelector("head").appendChild(d);const h=Xe(e,t),p=new ct(e,t,u,n,i,o,l,h);return p.onDestroy(()=>{var e;(e=d).parentNode.removeChild(e)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class dt{constructor(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:ee(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class ht{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(pt().toString()),this._cssKeyframesDriver=new ut}validateStyleProperty(e){return E(e)}matchesElement(e,t){return M(e,t)}containsElement(e,t){return P(e,t)}query(e,t,n){return D(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,i,o,r=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,o,r);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};o&&(a.easing=o);const c={},l=r.filter(e=>e instanceof dt);X(n,i)&&l.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>c[e]=t[e])});const u=Xe(e,t=q(e,t=t.map(e=>F(e,!1)),c));return new dt(e,t,a,u)}}function pt(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var gt=n("ofXK");let ft=(()=>{class e extends h.b{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:i.T.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?Object(h.j)(e):e;return vt(this._renderer,null,t,"register",[n]),new mt(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(i.dc(i.J),i.dc(gt.e))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})();class mt extends h.c{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new bt(this._id,e,t||{},this._renderer)}}class bt{constructor(e,t,n,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return vt(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function vt(e,t,n,i,o){return e.setProperty(t,`@@${n}:${i}`,o)}let yt=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new _t("",n,this.engine),this._rendererCache.set(n,e)),e}const i=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const r=t=>{Array.isArray(t)?t.forEach(r):this.engine.registerTrigger(i,o,e,t.name,t)};return t.data.animation.forEach(r),new Ct(this,o,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(i.dc(i.J),i.dc(Qe),i.dc(i.E))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})();class _t{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Ct extends _t{constructor(e,t,n,i){super(t,n,i),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const i=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let o=t.substr(1),r="";return"@"!=o.charAt(0)&&([o,r]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,r,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let St=(()=>{class e extends Qe{constructor(e,t,n){super(e.body,t,n)}}return e.\u0275fac=function(t){return new(t||e)(i.dc(gt.e),i.dc(L),i.dc(Oe))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})();const Ot=[{provide:L,useFactory:function(){return"function"==typeof pt()?new ht:new ut}},{provide:new i.t("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:h.b,useClass:ft},{provide:Oe,useFactory:function(){return new Te}},{provide:Qe,useClass:St},{provide:i.J,useFactory:function(e,t,n){return new yt(e,t,n)},deps:[d.k,Qe,i.E]}];let Tt=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},providers:Ot,imports:[d.a]}),e})();var wt=n("tyNb"),kt=n("s6QE"),At=n("/K1/"),Et=n("VHOi");let Mt=(()=>{class e{constructor(e,t,n){this.token=e,this.router=t,this.document=n}canActivate(e,t){if(this.token.authToken)return!0;const n=this.router.parseUrl(t.url);return!(!n.queryParamMap.has("authToken")&&!n.queryParamMap.has("activation_code")&&(this.router.navigate(["/"],{queryParams:{showLogin:!0,loginRedirect:!0,redirectUrl:this.document.location.href}}),1))}}return e.\u0275fac=function(t){return new(t||e)(i.dc(Et.a),i.dc(wt.g),i.dc(gt.e))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Pt=n("mrSG"),Dt=n("PqYM"),xt=n("ngAm");let It=(()=>{class e{constructor(e){this.seoService=e}resolve(e){return Object(Pt.a)(this,void 0,void 0,(function*(){try{return e.data&&e.data.meta?(Object(Dt.a)(0).subscribe(()=>{this.seoService.setMetaTags(e.data.meta)}),!0):(e.data&&e.data.noMeta&&Object(Dt.a)(0).subscribe(()=>{this.seoService.removeMetaTags(e.data.noMeta)}),!1)}catch(t){return!1}}))}}return e.\u0275fac=function(t){return new(t||e)(i.dc(xt.a))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})();const Lt={scrollPositionRestoration:"enabled",onSameUrlNavigation:"reload",anchorScrolling:"enabled",scrollOffset:[0,120]},Rt=[{path:"irop",data:{meta:{robots:"noindex, nofollow"}},resolve:{SEOResolver:It},loadChildren:()=>Promise.all([n.e(27),n.e(86)]).then(n.bind(null,"VxZQ")).then(e=>e.IropModule),canActivate:[kt.a],canLoad:[kt.a]},{path:"check-in",data:{meta:{robots:"noindex, nofollow"}},resolve:{SEOResolver:It},loadChildren:()=>Promise.all([n.e(27),n.e(85)]).then(n.bind(null,"SGYw")).then(e=>e.CheckInModule),canActivate:[kt.a],canLoad:[kt.a]},{path:"manage",data:{meta:{robots:"noindex, nofollow"}},resolve:{SEOResolver:It},loadChildren:()=>Promise.all([n.e(27),n.e(4)]).then(n.bind(null,"kzvD")).then(e=>e.ManageModule),canActivate:[kt.a],canLoad:[kt.a]},{path:"flight-status",data:{meta:{robots:"noindex, nofollow"}},resolve:{SEOResolver:It},loadChildren:()=>Promise.all([n.e(1),n.e(3),n.e(5),n.e(80)]).then(n.bind(null,"NSl5")).then(e=>e.FlightStatusModule),canActivate:[kt.a],canLoad:[kt.a]},{path:"maintenance",data:{meta:{robots:"noindex, nofollow"},hideHeader:!0,hideFooter:!0,fullScreen:!0},resolve:{SEOResolver:It},loadChildren:()=>n.e(47).then(n.bind(null,"bUxz")).then(e=>e.MaintenanceModule)},{path:"maintenance/inline",data:{meta:{robots:"noindex, nofollow"}},resolve:{SEOResolver:It},loadChildren:()=>n.e(47).then(n.bind(null,"bUxz")).then(e=>e.MaintenanceModule)},{path:"",data:{hasFullFooter:!0,isHomepage:!0},loadChildren:()=>Promise.all([n.e(28),n.e(33),n.e(43),n.e(4),n.e(74)]).then(n.bind(null,"ry1Y")).then(e=>e.HomePageModule),canLoad:[kt.a]},{path:"book",data:{hasFullFooter:!1,meta:{robots:"noindex, nofollow"}},resolve:{SEOResolver:It},loadChildren:()=>Promise.all([n.e(1),n.e(3),n.e(27),n.e(39),n.e(77)]).then(n.bind(null,"zkf5")).then(e=>e.BookingModule),canActivate:[kt.a],canLoad:[kt.a]},{path:"register",data:{hasFullFooter:!1,meta:{robots:"noindex, nofollow"}},resolve:{SEOResolver:It},loadChildren:()=>n.e(95).then(n.bind(null,"fhSy")).then(e=>e.RegisterModule),canLoad:[kt.a]},{path:"recover",data:{hasFullFooter:!1,meta:{robots:"noindex, nofollow"}},resolve:{SEOResolver:It},loadChildren:()=>n.e(93).then(n.bind(null,"0GsJ")).then(e=>e.RecoverAccountModule),canLoad:[kt.a]},{path:"profile",data:{hasFullFooter:!1,meta:{robots:"noindex, nofollow"}},resolve:{SEOResolver:It},loadChildren:()=>n.e(83).then(n.bind(null,"723k")).then(e=>e.ProfileModule),canLoad:[kt.a],canActivate:[Mt,kt.a]},{path:"home",redirectTo:"/",pathMatch:"full"},{path:"404",data:{hasFullFooter:!0},loadChildren:()=>n.e(4).then(n.bind(null,"jSwP")).then(e=>e.NotFoundModule)},{path:"search",data:{hasFullFooter:!1},loadChildren:()=>n.e(81).then(n.bind(null,"Olu4")).then(e=>e.SearchResultsModule)},{path:"bidflyer",data:{hideHeader:!0,hideFooter:!0},loadChildren:()=>n.e(89).then(n.bind(null,"gLeZ")).then(e=>e.BidflyerModule)},{path:"redirect",data:{hideHeader:!0,hideFooter:!0},loadChildren:()=>n.e(94).then(n.bind(null,"4sEU")).then(e=>e.RedirectModule)},{path:"**",data:{hasFullFooter:!0,noMeta:{robots:"noindex, nofollow"}},resolve:{page:At.a,SEOResolver:It},runGuardsAndResolvers:"pathParamsOrQueryParamsChange",loadChildren:()=>Promise.all([n.e(33),n.e(43),n.e(4),n.e(90)]).then(n.bind(null,"vPwE")).then(e=>e.DynamicModule)}];let Nt=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},providers:[At.a,It],imports:[[wt.k.forRoot(Rt,Lt)],wt.k]}),e})();var jt=n("1AID"),Bt=n("lUod"),Ft=n("pLZG"),Ht=n("IzEk"),Ut=n("WGbO"),Yt=n("AWl2"),Gt=n("CJ36"),Vt=n("aQpe"),Zt=n("9YtQ"),$t=n("BifP"),Wt=n("quSY");let Kt=(()=>{class e{constructor(e,t){this.router=e,this.document=t,this.handlerStarted=!1,this.errorHandlerSubscription=Wt.a.EMPTY}ngOnDestroy(){this.errorHandlerSubscription.closed||this.errorHandlerSubscription.unsubscribe()}startHandler(){this.handlerStarted?c.g.production||console.warn("::ChunkErrorHandlerService::","startHandler() was called when the handler has already started!"):(this.handlerStarted=!0,this.errorHandlerSubscription=this.router.events.pipe(Object(Ft.a)(e=>e instanceof wt.d)).subscribe(e=>{e instanceof wt.d&&this.handleChunkLoadError(e)}))}handleChunkLoadError(e){"ChunkLoadError"===e.error.name&&(this.document.location.href=`${this.document.location.origin}${e.url}`)}}return e.\u0275fac=function(t){return new(t||e)(i.dc(wt.g),i.dc(gt.e))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var zt=n("l5ey"),Qt=n("RRjW"),Xt=n("PxKc"),qt=n("CPX7"),Jt=n("GEJx"),en=n("Wdig");let tn=(()=>{class e{constructor(e,t,n,i,o,r){this.document=e,this.basket=t,this.bookingApi=n,this.router=i,this.route=o,this.datalayerCheckout=r,this.navCounter=0,this.navPath=""}init(){this.startResolveBookingHandler()}goToFindBooking(e,t){if("maintenance"===e)return;if("book"===e)return void this.router.navigate(["/"]);let n={};t&&(n={redirect:t}),this.router.navigate(["/"+e,"find-booking"],{queryParams:n})}clearBookingParams(e){this.router.navigate([e],{queryParams:{pnr:null,lastName:null,email:null},queryParamsHandling:"merge"})}getRoutesData(e){return Object.assign(Object.assign({},e.data),e.children.reduce((e,t)=>Object.assign(Object.assign({},this.getRoutesData(t)),e),{}))}startResolveBookingHandler(){this.router.events.pipe(Object(Ft.a)(e=>e instanceof wt.c)).subscribe(e=>{if(e instanceof wt.c){const t=e.url.split("?")[0].split("#")[0];t!==this.navPath&&this.handleBookingConfig(e,++this.navCounter),this.navPath=t}})}handleBookingConfig(e,t){var n,i;return Object(Pt.a)(this,void 0,void 0,(function*(){const o=this.getRoutesData(this.router.routerState.snapshot.root);if(o.basketRouteConfig){const s=o.basketRouteConfig,a=null===(n=this.router.routerState.root.firstChild.routeConfig)||void 0===n?void 0:n.path,l=this.route.snapshot.queryParamMap;if(s.loadBasketFromBookingParams){const n={pnr:l.get("pnr"),lastName:l.get("lastName"),email:l.get("email")};if(n.pnr&&(n.lastName||n.email))try{if(s.loadBasketFromBookingParamsSync){this.basket.emitEmptyBasketState(),this.basket.stopPersistedBasketLoading();const i=yield this.basket.loadBasketFromParams(n.pnr,n.lastName,n.email,this.getFlowType(a));(i&&this.getFlowType(a)===Xt.b.CheckIn||this.getFlowType(a)===Xt.b.Manage)&&this.datalayerCheckout.sendBasketId(i),this.navCountersMatch(t)&&(this.basket.syncBasketInfo(i),s.clearBookingParamsOnSync&&this.clearBookingParams(e.url.split("?")[0].split("#")[0]))}else yield this.bookingApi.getFullBooking(n.pnr,n.lastName,n.email).toPromise()}catch(r){this.navCountersMatch(t)&&(c.g.production||console.error("LoadBasketFromRedirectReservation",r),(null===(i=null==r?void 0:r.error)||void 0===i?void 0:i.code)===Qt.b.ANY_FLIGHT_NEEDS_TO_BE_IN_FUTURE?this.router.navigate(["manage","trip-details"],{queryParams:{pnr:n.pnr,lastName:n.lastName}}):this.goToFindBooking(a,e.url))}else{if(s.requiresBookingParams)return void this.goToFindBooking(a,e.url);s.viewRequiresBasket&&!(yield this.basket.hasBasketSynchronous(this.route.snapshot,o))&&this.navCountersMatch(t)&&this.goToFindBooking(a,e.url)}}else s.viewRequiresBasket&&!(yield this.basket.hasBasketSynchronous(this.route.snapshot,o))&&this.navCountersMatch(t)&&this.goToFindBooking(a)}}))}navCountersMatch(e){return this.navCounter===e}getFlowType(e){switch(e){case"check-in":return Xt.b.CheckIn;case"book":return Xt.b.Booking;case"manage":case"irop":default:return Xt.b.Manage}}}return e.\u0275fac=function(t){return new(t||e)(i.dc(gt.e),i.dc(qt.a),i.dc(Jt.a),i.dc(wt.g),i.dc(wt.a),i.dc(en.a))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var nn=n("UXnn"),on=n("lW9w"),rn=n("0oao");const sn=`\nwindow.fbAsyncInit = function() {\n  FB.init({\n    appId            : '${c.g.socialLogin.facebookAppId}',\n    autoLogAppEvents : true,\n    xfbml            : true,\n    version          : 'v9.0'\n  });\n\n  document.dispatchEvent(new Event('facebook:init'));\n};\n`;let an=(()=>{class e{constructor(e,t){this.document=e,this.platformId=t,this.fbLoaded=!1}ngOnDestroy(){Object(gt.L)(this.platformId)&&this.removeListener()}onFbInit(){this.fbLoaded=!0}initFbSdk(){this.listenerFn=this.onFbInit.bind(this),this.document.addEventListener("facebook:init",this.listenerFn);const e=this.document.createElement("script");e.text=sn;const t=this.document.createElement("script");t.async=!0,t.defer=!0,t.src="https://connect.facebook.net/en_US/sdk.js",this.document.body.appendChild(e),this.document.body.appendChild(t)}removeListener(){this.listenerFn&&this.document.removeEventListener("facebook:init",this.listenerFn)}get isFBLoaded(){return this.fbLoaded}init(){Object(gt.L)(this.platformId)&&this.initFbSdk()}}return e.\u0275fac=function(t){return new(t||e)(i.dc(gt.e),i.dc(i.G))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var cn=n("kh7C"),ln=n("nLfN");let un=(()=>{class e{constructor(e,t,n){this.platform=e,this.cmsConfigSvc=t,this.platformId=n,this.ISB_PATHS_LS_TOKEN="vb-isb-p",this.ISB_ENABLED_LS_FLAG="vb-isb-v"}setIsbConfigFromCms(){var e,t,n,i;if(this.shouldSetIsbConfig()){const o=null===(t=null!==(e=window)&&void 0!==e?e:{})||void 0===t?void 0:t.localStorage,r=this.cmsConfigSvc.getSectionFeatureValue(jt.b.GLOBAL,jt.a.iOSBanner);if(o.setItem(this.ISB_ENABLED_LS_FLAG,""+r),r){const{iOSBannerConfig:e}=null!==(i=null===(n=this.cmsConfigSvc._cmsConfig)||void 0===n?void 0:n.globalSettings)&&void 0!==i?i:{},{routes:t}=null!=e?e:{};if(Object(cn.e)(t)){const e=t.filter(e=>"string"==typeof e);o.setItem(this.ISB_PATHS_LS_TOKEN,JSON.stringify(e))}else o.setItem(this.ISB_PATHS_LS_TOKEN,JSON.stringify([]))}else o.setItem(this.ISB_PATHS_LS_TOKEN,JSON.stringify([]))}else this.deleteIsbConfig()}shouldSetIsbConfig(){return!!Object(gt.L)(this.platformId)&&this.platform.SAFARI&&this.platform.IOS}deleteIsbConfig(){var e,t;if(Object(gt.L)(this.platformId)){const n=null===(t=null!==(e=window)&&void 0!==e?e:{})||void 0===t?void 0:t.localStorage;n.removeItem(this.ISB_ENABLED_LS_FLAG),n.removeItem(this.ISB_PATHS_LS_TOKEN)}}}return e.\u0275fac=function(t){return new(t||e)(i.dc(ln.a),i.dc($t.a),i.dc(i.G))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var dn=n("RK48"),hn=n("RbsG"),pn=n("rmK9"),gn=n("FonL"),fn=n("imvL"),mn=n("iWk1"),bn=n("XwP0"),vn=n("gH2X"),yn=n("SXaI"),_n=n("JK/P"),Cn=n("ckWZ"),Sn=n("3Pt+"),On=n("VXoX");function Tn(e,t){if(1&e){const e=i.ac();i.Xb(0),i.Zb(1,"label",22),i.Zb(2,"span",23),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Zb(5,"input",24),i.hc("ngModelChange",(function(n){return i.Hc(e),t.$implicit.value=n})),i.Yb(),i.Ub(6,"span",25),i.Yb(),i.Wb()}if(2&e){const e=t.$implicit,n=t.index;i.Hb(3),i.Tc(i.lc(4,4,"BOOKER_LABEL_STAFF-CONDITIONS-SUPPORT-"+(n+1))),i.Hb(2),i.sc("id","checkList_"+n)("name","checkList_"+n)("ngModel",e.value)}}let wn=(()=>{class e{constructor(e,t,n){this.modalSvc=e,this.auth=t,this.platformId=n,this.id="staff-confirmation-modal",this.staffToken=c.g.cacheKeys.STAFF_TOKEN,this.checkList=[],this.userDataSub=Wt.a.EMPTY}ngOnInit(){this.userDataSub=this.auth.userAccountData$.subscribe(e=>{(null==e?void 0:e.accountType)!==hn.k.Staff||localStorage.getItem(this.staffToken)?!e&&this.checkList.length&&this.closeModal():(this.modalSvc.open(this.id),this.addLSEventListener())})}ngOnDestroy(){this.userDataSub.closed||this.userDataSub.unsubscribe()}addLSEventListener(){Object(gt.L)(this.platformId)&&(this.listenerFn=this.handleLocalStorageEvent.bind(this),window.addEventListener("storage",this.listenerFn))}handleLocalStorageEvent(e){e.storageArea===localStorage&&e.key===this.staffToken&&e.newValue&&this.closeModal()}onOpen(){return Object(Pt.a)(this,void 0,void 0,(function*(){this.checkList=[{value:!1},{value:!1},{value:!1}]}))}closeModal(){this.modalSvc.close(this.id),window.removeEventListener("storage",this.listenerFn),Object(Dt.a)(300).subscribe(()=>{this.checkList=[]})}onCancel(){this.closeModal(),this.auth.doLogout()}onConfirmAction(){localStorage.setItem(this.staffToken,"true"),this.closeModal()}get isDisabled(){return!!this.checkList.find(e=>!e.value)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(_n.a),i.Tb(fn.a),i.Tb(i.G))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-staff-confirmation-modal"]],decls:36,vars:22,consts:[[3,"id","dismissable","openEvent"],[1,"staff-modal","viva-card","white","border-0","position-relative"],[1,"modal-header","light"],[1,"subheader","mb-0","mb-md-10"],[1,"h3"],[1,"modal-scroll-container"],[1,"staff-alert","d-flex"],[1,"left-bar","mr-10","mr-md-20"],[1,"alert-container","d-flex","align-items-center"],[1,"fas","fa-exclamation-circle","mr-10"],[1,"d-flex","flex-wrap","flex-md-nowrap"],[1,"continue-msg"],[1,"modal-content","p-10","p-lg-40"],[1,"w-100"],[1,"mt-20"],[4,"ngFor","ngForOf"],[1,"mt-40","d-flex","justify-content-center","align-items-center","flex-column"],["type","button",1,"viva-btn","btn-280","action","mt-20","mt-md-0",3,"disabled","click"],[1,"viva-btn","tertiary","mt-20","px-20","d-flex","justify-content-center","align-items-center",3,"click"],[1,"content"],[1,"title"],[1,"line"],[1,"checkbox-container","mb-20"],[1,"regular-text"],["type","checkbox",3,"id","name","ngModel","ngModelChange"],[1,"checkmark","mt-1"]],template:function(e,t){1&e&&(i.Zb(0,"app-modal",0),i.hc("openEvent",(function(){return t.onOpen()})),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"div",3),i.Sc(4),i.kc(5,"cmsTranslate"),i.Yb(),i.Zb(6,"div",4),i.Sc(7),i.kc(8,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(9,"div",5),i.Zb(10,"div",6),i.Ub(11,"div",7),i.Zb(12,"div",8),i.Ub(13,"em",9),i.Zb(14,"div",10),i.Zb(15,"span",11),i.Sc(16),i.kc(17,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(18,"div",12),i.Zb(19,"div",13),i.Zb(20,"div"),i.Sc(21),i.kc(22,"cmsTranslate"),i.Yb(),i.Zb(23,"div",14),i.Qc(24,Tn,7,6,"ng-container",15),i.Yb(),i.Yb(),i.Zb(25,"div",16),i.Zb(26,"button",17),i.hc("click",(function(){return t.onConfirmAction()})),i.Zb(27,"span"),i.Sc(28),i.kc(29,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(30,"button",18),i.hc("click",(function(){return t.onCancel()})),i.Zb(31,"div",19),i.Zb(32,"span",20),i.Sc(33),i.kc(34,"cmsTranslate"),i.Yb(),i.Yb(),i.Ub(35,"div",21),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.sc("id",t.id)("dismissable",!1),i.Hb(4),i.Tc(i.lc(5,10,"BOOKER_LABEL_STAFF-CONDITIONS-SUBTITLE")),i.Hb(3),i.Tc(i.lc(8,12,"BOOKER_LABEL_STAFF-CONDITIONS-TITLE")),i.Hb(9),i.Tc(i.lc(17,14,"BOOKER_LABEL_STAFF-CONDITIONS-ALERT")),i.Hb(5),i.Tc(i.lc(22,16,"BOOKER_LABEL_STAFF-CONDITIONS-SUPPORT")),i.Hb(3),i.sc("ngForOf",t.checkList),i.Hb(2),i.sc("disabled",t.isDisabled),i.Hb(2),i.Uc(" ",i.lc(29,18,"GLOBAL_ACTION_CONTINUE")," "),i.Hb(5),i.Tc(i.lc(34,20,"GLOBAL_ACTION_CANCEL")))},directives:[Cn.a,gt.t,Sn.b,Sn.u,Sn.x],pipes:[On.a],styles:[".staff-modal[_ngcontent-%COMP%]{width:580px}.staff-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{overflow:hidden;padding:40px;background-color:var(--bg4)}@media screen and (max-width:720px){.staff-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:20px}.staff-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:16px}}.staff-modal[_ngcontent-%COMP%]   .staff-alert[_ngcontent-%COMP%]{background-color:var(--sc-i2)}.staff-modal[_ngcontent-%COMP%]   .staff-alert[_ngcontent-%COMP%]   .left-bar[_ngcontent-%COMP%]{min-width:10px;background-color:var(--sc-oy4)}.staff-modal[_ngcontent-%COMP%]   .staff-alert[_ngcontent-%COMP%]   .alert-container[_ngcontent-%COMP%]{color:var(--bg6);font-size:16px;padding:10px 0;height:50px}.staff-modal[_ngcontent-%COMP%]   .staff-alert[_ngcontent-%COMP%]   .alert-container[_ngcontent-%COMP%]   .fa-exclamation-circle[_ngcontent-%COMP%]{font-size:20px;color:var(--sc-oy4)}@media only screen and (max-width:720px){.staff-modal[_ngcontent-%COMP%]   .staff-alert[_ngcontent-%COMP%]   .alert-container[_ngcontent-%COMP%]{font-size:14px}}.staff-modal[_ngcontent-%COMP%]   .continue-msg[_ngcontent-%COMP%]{font-size:16px}@media only screen and (max-width:720px){.staff-modal[_ngcontent-%COMP%]   .continue-msg[_ngcontent-%COMP%]{font-size:14px}}"]}),e})();var kn=n("wd/R"),An=n("ynpe"),En=n("4GIP"),Mn=n("ofgY"),Pn=n("Elrx"),Dn=n("djEO"),xn=n("pWoz"),In=n("ZOsW");function Ln(e,t){if(1&e&&(i.Zb(0,"small",30),i.Sc(1),i.kc(2,"cmsTranslate"),i.Ub(3,"br"),i.Yb()),2&e){const e=t.$implicit,n=i.jc(2);i.Hb(1),i.Uc(" ",i.lc(2,1,n.errorCodes.firstName[e]),"")}}function Rn(e,t){if(1&e&&(i.Zb(0,"small",30),i.Sc(1),i.kc(2,"cmsTranslate"),i.Ub(3,"br"),i.Yb()),2&e){const e=t.$implicit,n=i.jc(2);i.Hb(1),i.Uc(" ",i.lc(2,1,n.errorCodes.lastName[e]),"")}}function Nn(e,t){if(1&e&&(i.Zb(0,"small",30),i.Sc(1),i.kc(2,"cmsTranslate"),i.Ub(3,"br"),i.Yb()),2&e){const e=t.$implicit,n=i.jc(2);i.Hb(1),i.Uc(" ",i.lc(2,1,n.errorCodes.dateOfBirth[e]),"")}}function jn(e,t){if(1&e&&(i.Zb(0,"ng-option",31),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e){const e=t.$implicit;i.sc("value",e.value),i.Hb(1),i.Uc(" ",i.lc(2,2,e.key)," ")}}function Bn(e,t){if(1&e&&(i.Zb(0,"small",30),i.Sc(1),i.kc(2,"cmsTranslate"),i.Ub(3,"br"),i.Yb()),2&e){const e=t.$implicit,n=i.jc(2);i.Hb(1),i.Uc(" ",i.lc(2,1,n.errorCodes.gender[e]),"")}}function Fn(e,t){if(1&e){const e=i.ac();i.Zb(0,"form",5),i.Zb(1,"div",6),i.Zb(2,"div",7),i.Zb(3,"div",8),i.Zb(4,"div"),i.Sc(5),i.kc(6,"cmsTranslate"),i.Yb(),i.Zb(7,"div",9),i.Zb(8,"div",10),i.Zb(9,"div",11),i.Zb(10,"div",12),i.Ub(11,"input",13),i.kc(12,"cmsTranslate"),i.Zb(13,"label"),i.Sc(14),i.kc(15,"cmsTranslate"),i.Yb(),i.Zb(16,"div",14),i.Ub(17,"i",15),i.Yb(),i.Yb(),i.Qc(18,Ln,4,3,"small",16),i.Yb(),i.Zb(19,"div",11),i.Zb(20,"div",12),i.Ub(21,"input",17),i.kc(22,"cmsTranslate"),i.Zb(23,"label"),i.Sc(24),i.kc(25,"cmsTranslate"),i.Yb(),i.Zb(26,"div",14),i.Ub(27,"i",15),i.Yb(),i.Yb(),i.Qc(28,Rn,4,3,"small",16),i.Yb(),i.Zb(29,"div",18),i.Sc(30),i.kc(31,"cmsTranslate"),i.Yb(),i.Zb(32,"div",11),i.Ub(33,"vb-multi-input-date",19),i.Qc(34,Nn,4,3,"small",16),i.Yb(),i.Zb(35,"div",20),i.Zb(36,"div",12),i.Zb(37,"ng-select",21),i.hc("change",(function(t){return i.Hc(e),i.jc().updateTitle(t)})),i.kc(38,"cmsTranslate"),i.Qc(39,jn,3,4,"ng-option",22),i.kc(40,"keyvalue"),i.Yb(),i.Zb(41,"label"),i.Sc(42),i.kc(43,"cmsTranslate"),i.Yb(),i.Zb(44,"div",14),i.Ub(45,"i",15),i.Yb(),i.Yb(),i.Qc(46,Bn,4,3,"small",16),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Ub(47,"hr",23),i.Zb(48,"div",24),i.Zb(49,"button",25),i.hc("click",(function(){return i.Hc(e),i.jc().onCancel()})),i.Zb(50,"div",26),i.Zb(51,"span",27),i.Sc(52),i.kc(53,"cmsTranslate"),i.Yb(),i.Yb(),i.Ub(54,"div",28),i.Yb(),i.Zb(55,"button",29),i.hc("click",(function(){return i.Hc(e),i.jc().onSubmit()})),i.Zb(56,"span"),i.Sc(57),i.kc(58,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&e){const e=i.jc();i.sc("formGroup",e.formGroup),i.Hb(5),i.Tc(i.lc(6,27,"PROFILE_LABEL_ACCOUNT-PERSONAL-INFO-SUPPORT")),i.Hb(6),i.sc("placeholder",i.lc(12,29,"GLOBAL_LABEL_NAMES-PLACEHOLDER")),i.Hb(3),i.Uc(" ",i.lc(15,31,"GLOBAL_LABEL_NAMES")," "),i.Hb(4),i.sc("ngForOf",e.getFieldErrors("firstName","name")),i.Hb(3),i.sc("placeholder",i.lc(22,33,"GLOBAL_LABEL_LASTNAMES-PLACEHOLDERS")),i.Hb(3),i.Uc(" ",i.lc(25,35,"GLOBAL_LABEL_LASTNAMES")," "),i.Hb(4),i.sc("ngForOf",e.getFieldErrors("lastName","name")),i.Hb(2),i.Tc(i.lc(31,37,"GLOBAL_LABEL_BIRTHDATE-SIMPLE")),i.Hb(3),i.sc("required",!0)("id","date-of-birth")("name","date-of-birth")("minDate",e.minDate)("maxDate",e.maxDate)("formControl",e.formGroup.get("dateOfBirth"))("isTouched",e.formGroup.get("dateOfBirth").touched),i.Hb(1),i.sc("ngForOf",e.getFieldErrors("dateOfBirth")),i.Hb(3),i.sc("searchable",!1)("clearable",!1)("placeholder",i.lc(38,39,"GLOBAL_LABEL_GENDER-PLACEHOLDER"))("formControl",e.formGroup.get("gender")),i.Hb(2),i.sc("ngForOf",i.lc(40,41,e.genders)),i.Hb(3),i.Tc(i.lc(43,43,"GLOBAL_LABEL_GENDER")),i.Hb(4),i.sc("ngForOf",e.getFieldErrors("gender")),i.Hb(6),i.Tc(i.lc(53,45,"GLOBAL_ACTION_CANCEL")),i.Hb(3),i.sc("disabled",e.isLoading),i.Hb(2),i.Uc(" ",i.lc(58,47,"GLOBAL_ACTION_CONFIRM")," ")}}let Hn=(()=>{class e{constructor(e,t,n,i,o,r,s,a){this.modalSvc=e,this.fb=t,this.auth=n,this.platformId=i,this.router=o,this.account=r,this.localeId=s,this.currencyCode=a,this.id="user-incomplete-modal",this.incompleteDataToken=c.g.cacheKeys.INCOMPLETE_PROFILE,this.userDataSub=Wt.a.EMPTY,this.routerSubscription=Wt.a.EMPTY,this.modalOpen=!1,this.errorCodes=En.a,this.genders=Mn.f,this.getDate=cn.a.getDateFromString,this.isLoading=!1,this.availableRoutes=["/register/complete-registration","/profile/details","/profile"]}ngOnInit(){this.initForm(),this.routerSubscription=this.router.events.subscribe(e=>{e instanceof wt.c&&this.openModalConditions(e.urlAfterRedirects)}),this.userDataSub=this.auth.userAccountData$.subscribe(e=>{this.userData=e,this.openModalConditions(this.router.url)})}ngOnDestroy(){this.userDataSub.closed||this.userDataSub.unsubscribe(),this.routerSubscription.closed||this.routerSubscription.unsubscribe()}initForm(){var e,t;this.formGroup=this.generateForm(),this.dobRange=new Mn.h(Mn.i.ADT,(new Date).toISOString()),this.minDate=this.getDate(null===(e=this.dobRange)||void 0===e?void 0:e.min),this.maxDate=this.getDate(null===(t=this.dobRange)||void 0===t?void 0:t.max)}openModalConditions(e){var t,n;Object(gt.L)(this.platformId)&&(this.userData&&localStorage.getItem(this.incompleteDataToken)?(null===(n=null===(t=this.userData)||void 0===t?void 0:t.notifications)||void 0===n?void 0:n.find(e=>"IncompleteProfile"===(null==e?void 0:e.code)))?this.availableRoutes.includes(e)||this.modalOpen||(this.modalSvc.open(this.id),this.setPersistedValuesFromAccountInfo()):(localStorage.removeItem(this.incompleteDataToken),this.closeModal()):!this.modalOpen||this.userData&&localStorage.getItem(this.incompleteDataToken)||this.closeModal())}onOpen(){return Object(Pt.a)(this,void 0,void 0,(function*(){this.modalOpen=!0}))}closeModal(){this.modalSvc.close(this.id),this.modalOpen=!1}onCancel(){this.closeModal(),this.auth.doLogout()}generateForm(){return this.fb.group({name:this.fb.group({firstName:this.fb.control(null,An.c),lastName:this.fb.control(null,An.c),title:this.fb.control(Mn.o.MR,Sn.I.required)}),dateOfBirth:this.fb.control(null,[Sn.I.required,Object(An.g)(Mn.i.ADT,(new Date).toISOString())]),gender:this.fb.control(pn.g.XX,Sn.I.required)})}setPersistedValuesFromAccountInfo(){if(this.userData){const e=this.userData.personalDetails.dateOfBirth.date,t=e&&"1900-01-01"!==e?kn(e).toDate():null,{firstName:n,lastName:i,title:o}=this.userData.personalDetails.name,r={name:{firstName:n,lastName:i,title:o},dateOfBirth:t,gender:this.userData.personalDetails.gender.gender};this.formGroup.setValue(r,{emitEvent:!1}),this.updateTitle(r.gender)}}updateTitle(e){const t=this.formGroup.get("name").get("title");t.setValue(t&&e===Mn.f.GLOBAL_LABEL_GENDER_FEMALE?Mn.o.MS:Mn.o.MR,{emitEvent:!1})}onSubmit(){if(this.formGroup.markAllAsTouched(),!this.isLoading&&this.formGroup.valid){this.isLoading=!0;const e=this.formGroup.value;e.dateOfBirth=kn(e.dateOfBirth).format("YYYY-MM-DD"),this.account.updateAccountInfo({personalDetails:e,preferences:{currencyCode:this.currencyCode,language:this.localeId,notificationPreferences:[]}}).subscribe(()=>{this.isLoading=!1,Object(gt.L)(this.platformId)&&localStorage.removeItem(this.incompleteDataToken),this.auth.getUpdatedAccountData(),this.closeModal()},e=>{c.g.production||console.error("::UpdateRegisterAccount::",e),this.isLoading=!1})}}getFieldErrors(e,t){return cn.a.getFieldErrors(t?this.formGroup.get(t):this.formGroup,e)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(_n.a),i.Tb(Sn.h),i.Tb(fn.a),i.Tb(i.G),i.Tb(wt.g),i.Tb(Dn.a),i.Tb(i.y),i.Tb(Pn.b))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-user-incomplete-modal"]],decls:7,vars:6,consts:[[3,"id","dismissable","openEvent"],[1,"update-user-modal","viva-card","white","border-0","position-relative"],[1,"modal-header","light"],[1,"h3"],["class","container",3,"formGroup",4,"ngIf"],[1,"container",3,"formGroup"],[1,"row"],[1,"p-20","p-lg-40","modal-content"],[1,"w-100"],[1,"mt-20"],["formGroupName","name",1,"row"],[1,"col-12","mb-20"],[1,"viva-input-field","no-icon"],["name","first-name","id","first-name","formControlName","firstName","type","text","required","",3,"placeholder"],[1,"valid","hide-sm"],[1,"fas","fa-check"],["class","viva-input-field-error",4,"ngFor","ngForOf"],["name","last-name","id","last-name","formControlName","lastName","type","text","required","",3,"placeholder"],[1,"col-12","mb-1","small-title"],[3,"required","id","name","minDate","maxDate","formControl","isTouched"],[1,"col-8","col-md-6","mb-20"],["id","gender","name","gender","required","",1,"condensed-options",3,"searchable","clearable","placeholder","formControl","change"],[3,"value",4,"ngFor","ngForOf"],[1,"mt-0","mt-md-20","mb-0"],[1,"mt-10","mt-md-40","d-flex","justify-content-center","justify-content-md-end","align-items-center","flex-column-reverse","flex-md-row"],[1,"viva-btn","tertiary","mt-20","mt-md-0","px-20","d-flex","justify-content-center","align-items-center",3,"click"],[1,"content"],[1,"title"],[1,"line"],["type","button",1,"viva-btn","primary","btn-200","mt-20","mt-md-0","ml-0","ml-md-40",3,"disabled","click"],[1,"viva-input-field-error"],[3,"value"]],template:function(e,t){1&e&&(i.Zb(0,"app-modal",0),i.hc("openEvent",(function(){return t.onOpen()})),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"div",3),i.Sc(4),i.kc(5,"cmsTranslate"),i.Yb(),i.Yb(),i.Qc(6,Fn,59,49,"form",4),i.Yb(),i.Yb()),2&e&&(i.sc("id",t.id)("dismissable",!1),i.Hb(4),i.Tc(i.lc(5,4,"PROFILE_LABEL_ACCOUNT-PERSONAL-INFO")),i.Hb(2),i.sc("ngIf",t.userData))},directives:[Cn.a,gt.u,Sn.K,Sn.v,Sn.m,Sn.n,Sn.d,Sn.u,Sn.k,Sn.F,gt.t,xn.a,Sn.j,In.a,In.n],pipes:[On.a,gt.m],styles:[".update-user-modal[_ngcontent-%COMP%]{width:580px}.update-user-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{overflow:hidden;padding:40px;background-color:var(--bg4)}@media screen and (max-width:720px){.update-user-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:20px}}@media screen and (max-width:720px){.update-user-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .subheader[_ngcontent-%COMP%]{font-size:14px}}@media screen and (max-width:720px){.update-user-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:calc(100vh - 72px)!important;overflow-y:auto;overflow-x:hidden}.update-user-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .btn-200[_ngcontent-%COMP%]{width:100%}}"]}),e})();var Un=n("q/KQ");let Yn=(()=>{class e{constructor(e){this.loginSbSvc=e,this.referralLogout=new i.p}ngOnInit(){this.specialLoginTxt=this._specialLoginTxt}ngOnDestroy(){this.specialLoginTxt=this._specialLoginTxt}onLogout(){localStorage.removeItem("loginReferral"),this.loginSbSvc.closeModal(),this.referralLogout.emit()}get _specialLoginTxt(){if(this.accountType)switch(this.accountType){case hn.k.Agency:return"PROFILE_LABEL_VIVA-AGENCIAS";case hn.k.Enterprise:return"PROFILE_LABEL_VIVA-EMPRESAS";default:return""}return""}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(gn.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-login-referral"]],inputs:{accountType:"accountType",referralName:"referralName"},outputs:{referralLogout:"referralLogout"},decls:24,vars:17,consts:[[1,"sidebar-header","light"],[1,"subheader","pt-40"],[1,"mt-5","mb-5"],[1,"special-login-bar","px-40","py-20","d-flex","justify-content-between","align-items-center"],[1,"h4"],[1,"small-title"],[1,"sidebar-main","text-center"],["loading","lazy",1,"mt-40",3,"src"],[1,"title","pt-40","opacity-5"],[1,"sidebar-footer","text-right"],[1,"viva-btn","tertiary","h-auto","p-0",3,"click"]],template:function(e,t){1&e&&(i.Xb(0),i.Zb(1,"div",0),i.Zb(2,"div",1),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Zb(5,"h3",2),i.Sc(6),i.Yb(),i.Yb(),i.Zb(7,"div",3),i.Zb(8,"div",4),i.Sc(9),i.kc(10,"cmsTranslate"),i.Yb(),i.Zb(11,"div",5),i.Sc(12),i.Yb(),i.Yb(),i.Zb(13,"div",6),i.Ub(14,"img",7),i.kc(15,"cmsStaticImage"),i.Zb(16,"div",8),i.Sc(17),i.kc(18,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(19,"div",9),i.Zb(20,"button",10),i.hc("click",(function(){return t.onLogout()})),i.Zb(21,"span"),i.Sc(22),i.kc(23,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Wb()),2&e&&(i.Hb(3),i.Uc(" ",i.lc(4,7,"GLOBAL_LABEL_WELCOMING-MALE")," "),i.Hb(3),i.Uc(" ",t.referralName," "),i.Hb(3),i.Tc(i.lc(10,9,t.specialLoginTxt)),i.Hb(3),i.Tc(t.referralName),i.Hb(2),i.sc("src",i.lc(15,11,"BOOKER_IMG_NO-INFO"),i.Kc),i.Hb(3),i.Uc(" ",i.lc(18,13,"PROFILE_LABEL_NO-INFO-AVAILABLE")," "),i.Hb(5),i.Uc(" ",i.lc(23,15,"GLOBAL_ACTION_LOGOUT")," "))},pipes:[On.a,Un.a],styles:['.sidebar-header[_ngcontent-%COMP%]{height:auto}.sidebar-vivafan[_ngcontent-%COMP%]{background-color:var(--b4);justify-content:space-between;padding:20px 40px}.sidebar-vivafan[_ngcontent-%COMP%], .sidebar-vivafan[_ngcontent-%COMP%]   .vf-title[_ngcontent-%COMP%]{display:flex;align-items:center}.sidebar-main[_ngcontent-%COMP%]{min-height:0;height:calc(100% - 261px);overflow:auto}@media screen and (max-width:991px){.sidebar-main[_ngcontent-%COMP%]{min-height:0;height:calc(100% - 221px);overflow:auto}}.sidebar-main.is-viva-fan[_ngcontent-%COMP%]{height:calc(100% - 285px)}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{position:relative;cursor:pointer;padding-bottom:20px;margin-bottom:20px}.sidebar-main[_ngcontent-%COMP%]   .menu-item.no-pointer[_ngcontent-%COMP%]{cursor:default}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:after{position:absolute;content:"";bottom:0;left:20px;width:calc(100% - 40px);height:1px;background-color:var(--gr20)}@media screen and (max-width:991px){.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:after{left:0;width:100%}}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{position:relative;width:24px;height:24px;display:flex;justify-content:center;align-items:center;margin-right:10px;color:var(--bg4)}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-icon.notification[_ngcontent-%COMP%]:after{position:absolute;content:"";top:-2.5px;right:-2.5px;width:5px;height:5px;background-color:var(--r4);border-radius:50%}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-arrow[_ngcontent-%COMP%]{height:100%;align-self:flex-end}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-arrow[_ngcontent-%COMP%]{color:var(--vg4)}@media screen and (max-width:991px){.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width:991px){.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .small-title[_ngcontent-%COMP%]{max-width:260px}}.sidebar-footer[_ngcontent-%COMP%]{padding:20px 40px;position:fixed;width:100%;background-color:var(--wh2);bottom:0;left:0}@media screen and (max-width:991px){.sidebar-footer[_ngcontent-%COMP%]{padding:24px 20px;position:relative}}.special-login-bar[_ngcontent-%COMP%]{background-color:var(--bg6)}.special-login-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--wh1)}']}),e})();var Gn=n("rd4S"),Vn=n("uHNT"),Zn=n("TuWc"),$n=n("JxkP"),Wn=n("Q+ex"),Kn=n("9O1C"),zn=n("DPnb"),Qn=n("LRne"),Xn=n("Cfvw"),qn=n("bOdf");let Jn=(()=>{class e{constructor(e){this.facebookSdk=e}get fbLoaded(){return this.facebookSdk.isFBLoaded}facebookLogin(){return this.fbLoaded?Object(Xn.a)(new Promise(e=>FB.login(e,{scope:"email,public_profile"}))).pipe(Object(qn.a)(({authResponse:e})=>e?Object(Qn.a)(e):Object(Qn.a)(void 0))):Object(Qn.a)(void 0)}getFacebookProfile(e){return this.fbLoaded?Object(Xn.a)(new Promise(t=>FB.api(`/${e}/`,"get",{fields:"id,email,first_name,last_name"},t))):Object(Qn.a)(void 0)}facebookLogout(){this.fbLoaded&&FB.api("/me/permissions","delete",null,()=>FB.logout())}}return e.\u0275fac=function(t){return new(t||e)(i.dc(an))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ei=(()=>{class e{constructor(e,t){this.injector=e,this.cmsConfig=t,this.loginSuccess=new i.p,this.loginError=new i.p,this.clicked=new i.p,this.isDisabled=!1,this.btnClass="",this.cmsEnabled=!0,this.cmsEnabled=this.cmsConfig.getSectionFeatureValue(jt.b.GLOBAL,jt.a.SocialLoginFacebook),this.cmsEnabled&&(this.fbAuth=this.injector.get(Jn))}authenticate(){this.emitClick(),this.fbAuth.facebookLogin().subscribe(e=>{e&&e.accessToken?this.fbAuth.getFacebookProfile(e.userID).subscribe(t=>{this.isProfileDataComplete(t)?this.emitSuccess(e.accessToken,t):this.emitError("Insufficient information to do login was returned!")}):this.emitError("Login cancelled by user or blocked by browser!")},e=>{this.emitError(e)})}emitSuccess(e,t){this.loginSuccess.emit({email:t.email,providerAccessToken:e,firstName:t.first_name,lastName:t.last_name,provider:pn.e.Facebook})}emitError(e){c.g.production||console.error("::Facebook Login::",e),this.loginError.emit(e)}isProfileDataComplete(e){return!!(e&&e.email&&e.first_name&&e.last_name)}get disabled(){return this.isDisabled||!this.cmsEnabled}emitClick(){this.disabled||this.clicked.emit()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.u),i.Tb($t.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-fb-button"]],inputs:{isDisabled:"isDisabled",btnClass:"btnClass"},outputs:{loginSuccess:"loginSuccess",loginError:"loginError",clicked:"clicked"},decls:5,vars:2,consts:[["type","button",1,"viva-btn","btn-social-media","d-block",3,"ngClass","disabled","click"],[1,"content"],[1,"fab","fa-facebook-f","fb"]],template:function(e,t){1&e&&(i.Zb(0,"button",0),i.hc("click",(function(){return t.authenticate()})),i.Zb(1,"span",1),i.Ub(2,"i",2),i.Zb(3,"span"),i.Sc(4,"Facebook"),i.Yb(),i.Yb(),i.Yb()),2&e&&i.sc("ngClass",t.btnClass)("disabled",t.disabled)},directives:[gt.r],styles:[""]}),e})(),ti=(()=>{class e{constructor(e,t){this.document=e,this.platformId=t,this.gaReady=!1,Object(gt.L)(this.platformId)&&this.appendGAScript()}appendGAScript(){const e=this.document.createElement("script");e.src="https://apis.google.com/js/api.js",e.async=!0,e.defer=!0,e.onload=this.initGoogleAuth.bind(this),this.document.head.appendChild(e)}initGoogleAuth(){return Object(Pt.a)(this,void 0,void 0,(function*(){if(Object(gt.L)(this.platformId))return new Promise(e=>{gapi.load("auth2",e)}).then(()=>Object(Pt.a)(this,void 0,void 0,(function*(){yield gapi.auth2.init({client_id:c.g.socialLogin.googleClientId}).then(e=>{this.gaReady=!1,this._authInstance=e})})))}))}get isReady(){return this.gaReady}get authInstance(){return this._authInstance}}return e.\u0275fac=function(t){return new(t||e)(i.dc(gt.e),i.dc(i.G))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ni=(()=>{class e{constructor(e,t){this.injector=e,this.cmsConfig=t,this.loginSuccess=new i.p,this.loginError=new i.p,this.clicked=new i.p,this.isDisabled=!1,this.btnClass="",this.cmsEnabled=!0,this.cmsEnabled=this.cmsConfig.getSectionFeatureValue(jt.b.GLOBAL,jt.a.SocialLoginGoogle),this.cmsEnabled&&(this.gaAuth=this.injector.get(ti))}authenticate(){return Object(Pt.a)(this,void 0,void 0,(function*(){this.emitClick();try{this.gaAuth.isReady||(yield this.gaAuth.initGoogleAuth())}catch(e){return this.onGaError(e),Promise.reject(e)}return new Promise(()=>Object(Pt.a)(this,void 0,void 0,(function*(){yield this.gaAuth.authInstance.signIn().then(e=>this.onGaSuccess(e),e=>this.onGaError(e))})))}))}onGaSuccess(e){if(e){const t=e.getBasicProfile(),n=e.getAuthResponse();this.loginSuccess.emit({email:t.getEmail(),providerAccessToken:n.id_token,provider:pn.e.Google,firstName:t.getGivenName(),lastName:t.getFamilyName()})}}onGaError(e){c.g.production||console.error("::Google Sign-in Error::",e),this.loginError.emit(e)}get disabled(){return this.isDisabled||!this.cmsEnabled}emitClick(){this.disabled||this.clicked.emit()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.u),i.Tb($t.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-ga-button"]],inputs:{isDisabled:"isDisabled",btnClass:"btnClass"},outputs:{loginSuccess:"loginSuccess",loginError:"loginError",clicked:"clicked"},decls:6,vars:5,consts:[["type","button",1,"viva-btn","btn-social-media","d-block",3,"ngClass","disabled","click"],[1,"content"],["loading","lazy",3,"src"]],template:function(e,t){1&e&&(i.Zb(0,"button",0),i.hc("click",(function(){return t.authenticate()})),i.Zb(1,"span",1),i.Ub(2,"img",2),i.kc(3,"cmsStaticImage"),i.Zb(4,"span"),i.Sc(5,"Google"),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.sc("ngClass",t.btnClass)("disabled",t.disabled),i.Hb(2),i.sc("src",i.lc(3,3,"GLOBAL_LOGO_GOOGLE"),i.Kc))},directives:[gt.r],pipes:[Un.a],styles:[""]}),e})();var ii=n("D731"),oi=n("4nN9");function ri(e,t){1&e&&(i.Xb(0),i.Ub(1,"img",37),i.kc(2,"cmsStaticImage"),i.Ub(3,"div",38),i.kc(4,"cmsTranslateRichText"),i.Wb()),2&e&&(i.Hb(1),i.sc("src",i.lc(2,2,"PROFILE_ICON_VIVAFAN-WHITE"),i.Kc),i.Hb(2),i.sc("innerHTML",i.lc(4,4,"PROFILE_LABEL_SUPPORT_JOIN-VIVAFAN"),i.Ic))}function si(e,t){1&e&&(i.Xb(0),i.Ub(1,"img",39),i.kc(2,"cmsStaticImage"),i.Zb(3,"div",40),i.Zb(4,"div"),i.Sc(5),i.kc(6,"cmsTranslate"),i.Yb(),i.Yb(),i.Wb()),2&e&&(i.Hb(1),i.sc("src",i.lc(2,2,"BOOKER_LOGO_VIVA-GIFT"),i.Kc),i.Hb(4),i.Tc(i.lc(6,4,"PROFILE_LABEL_VIVA-GIFT-SIGN-IN")))}function ai(e,t){1&e&&(i.Xb(0),i.Ub(1,"img",41),i.kc(2,"cmsStaticImage"),i.Zb(3,"div",40),i.Zb(4,"div"),i.Sc(5),i.kc(6,"cmsTranslate"),i.Yb(),i.Yb(),i.Wb()),2&e&&(i.Hb(1),i.sc("src",i.lc(2,2,"BOOKER_DOTERS_GREEN-DOT"),i.Kc),i.Hb(4),i.Tc(i.lc(6,4,"PROFILE_LABEL_DOTERS-SIGN-IN")))}const ci=function(e,t,n){return{"sidebar-vivafan":e,"sidebar-vivagift px-xs-20 px-lg-40":t,"sidebar-doters px-20":n}};function li(e,t){if(1&e&&(i.Zb(0,"div",34),i.Xb(1,35),i.Qc(2,ri,5,6,"ng-container",36),i.Qc(3,si,7,6,"ng-container",36),i.Qc(4,ai,7,6,"ng-container",36),i.Wb(),i.Yb()),2&e){const e=i.jc();i.sc("ngClass",i.xc(5,ci,"vivafan"===e.showBannerType,"vivagift"===e.showBannerType,"doters"===e.showBannerType)),i.Hb(1),i.sc("ngSwitch",e.showBannerType),i.Hb(1),i.sc("ngSwitchCase","vivafan"),i.Hb(1),i.sc("ngSwitchCase","vivagift"),i.Hb(1),i.sc("ngSwitchCase","doters")}}function ui(e,t){if(1&e&&(i.Zb(0,"div",42),i.Zb(1,"div",43),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Yb()),2&e){const e=i.jc();i.Hb(2),i.Tc(i.lc(3,1,e.specialLoginTxt))}}function di(e,t){if(1&e&&i.Ub(0,"app-flight-alert",44),2&e){const e=i.jc();i.sc("alertData",e.loginAlert)("noClose",!0)("noRounded",!0)("noMargin",!0)}}function hi(e,t){1&e&&i.Vb(0)}function pi(e,t){if(1&e&&(i.Zb(0,"div",45),i.Qc(1,hi,1,0,"ng-container",28),i.Yb()),2&e){i.jc();const e=i.Ec(50);i.Hb(1),i.sc("ngTemplateOutlet",e)}}function gi(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-call-to-action",57),i.hc("click",(function(){return i.Hc(e),i.jc(3).onForgotPasswordClick()})),i.Sc(1),i.Yb()}if(2&e){const e=t.ngIf;i.sc("callToAction",e)("ctaClass","text-bold text-link lh-1"),i.Hb(1),i.Uc(" ",e.text," ")}}function fi(e,t){1&e&&(i.Xb(0),i.Zb(1,"div",50),i.Zb(2,"div",51),i.Zb(3,"div",52),i.Ub(4,"em",53),i.Yb(),i.Zb(5,"div",54),i.Ub(6,"img",55),i.kc(7,"cmsStaticImage"),i.Yb(),i.Yb(),i.Zb(8,"div"),i.Sc(9),i.kc(10,"cmsTranslate"),i.Qc(11,gi,2,3,"app-call-to-action",56),i.kc(12,"cmsStaticCtas"),i.Yb(),i.Yb(),i.Wb()),2&e&&(i.Hb(6),i.sc("src",i.lc(7,3,"GLOBAL_LOGO_GOOGLE"),i.Kc),i.Hb(3),i.Uc(" ",i.lc(10,5,"PROFILE_LABEL_SOCIAL-LOGIN")," "),i.Hb(2),i.sc("ngIf",i.lc(12,7,"PROFILE_ACTION_SIDEBAR-SOCIAL-LOGIN")))}function mi(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"p",46),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Zb(4,"div",47),i.Qc(5,fi,13,9,"ng-container",48),i.Yb(),i.Zb(6,"small",49),i.Zb(7,"span"),i.Sc(8),i.kc(9,"cmsTranslate"),i.Yb(),i.Yb(),i.Wb()),2&e){const e=i.jc(),t=i.Ec(52);i.Hb(2),i.Uc(" ",i.lc(3,4,"GLOBAL_LABEL_LOGIN-SOCIALMEDIA")," "),i.Hb(3),i.sc("ngIf",e.cmsDisableSocialLogin)("ngIfElse",t),i.Hb(3),i.Tc(i.lc(9,6,"GLOBAL_LABEL_LOGIN-MAIL"))}}function bi(e,t){if(1&e&&(i.Zb(0,"small",58),i.Sc(1),i.kc(2,"cmsTranslate"),i.Ub(3,"br"),i.Yb()),2&e){const e=t.$implicit,n=i.jc();i.Hb(1),i.Uc(" ",i.lc(2,1,n.errorCodes.email[e]),"")}}function vi(e,t){if(1&e&&(i.Zb(0,"small",58),i.Sc(1),i.kc(2,"cmsTranslate"),i.Ub(3,"br"),i.Yb()),2&e){const e=t.$implicit,n=i.jc();i.Hb(1),i.Uc(" ",i.lc(2,1,n.errorCodes.password[e]),"")}}function yi(e,t){1&e&&(i.Zb(0,"label",59),i.Zb(1,"span",60),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Ub(4,"input",61),i.Ub(5,"span",62),i.Yb()),2&e&&(i.Hb(2),i.Uc(" ",i.lc(3,1,"GLOBAL_CHECKBOX_REMEMBERUSER")," "))}function _i(e,t){if(1&e){const e=i.ac();i.Zb(0,"a",63),i.hc("click",(function(){return i.Hc(e),i.jc().onForgotPasswordClick()})),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()}2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"GLOBAL_ACTION_FORGOTPASSWORD")," "))}function Ci(e,t){1&e&&i.Vb(0)}function Si(e,t){1&e&&i.Vb(0)}function Oi(e,t){if(1&e&&(i.Zb(0,"div",64),i.Qc(1,Si,1,0,"ng-container",28),i.Yb()),2&e){i.jc();const e=i.Ec(48);i.Hb(1),i.sc("ngTemplateOutlet",e)}}function Ti(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",67),i.Zb(1,"a",68),i.hc("click",(function(){return i.Hc(e),i.jc(2).changeToNormalUser()})),i.Zb(2,"div",69),i.Zb(3,"span"),i.Sc(4),i.kc(5,"cmsTranslate"),i.Yb(),i.Yb(),i.Ub(6,"div",70),i.Yb(),i.Yb()}2&e&&(i.Hb(4),i.Tc(i.lc(5,1,"PROFILE_LABEL_NORMAL-LOGIN")))}function wi(e,t){1&e&&i.Vb(0)}function ki(e,t){if(1&e&&(i.Xb(0),i.Qc(1,wi,1,0,"ng-container",28),i.Wb()),2&e){i.jc(2);const e=i.Ec(54);i.Hb(1),i.sc("ngTemplateOutlet",e)}}function Ai(e,t){if(1&e&&(i.Zb(0,"button",65),i.Zb(1,"span"),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Yb(),i.Qc(4,Ti,7,3,"div",66),i.Qc(5,ki,2,1,"ng-container",10)),2&e){const e=i.jc();i.sc("disabled",!e.canLogin),i.Ib("form",e.formId),i.Hb(2),i.Tc(i.lc(3,5,"GLOBAL_ACTION_LOGIN")),i.Hb(2),i.sc("ngIf",e.loginType),i.Hb(1),i.sc("ngIf",!e.loginType)}}function Ei(e,t){if(1&e&&(i.Zb(0,"div",71),i.Zb(1,"div",72),i.Zb(2,"div",73),i.Zb(3,"div"),i.Ub(4,"ng-lottie",74),i.Yb(),i.Zb(5,"div",43),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&e){const e=i.jc();i.Hb(4),i.sc("options",e.lottieOpts),i.Hb(2),i.Tc(i.lc(7,2,"PROFILE_LABEL_LOGGING-IN"))}}function Mi(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",75),i.Zb(1,"app-fb-button",76),i.hc("clicked",(function(){return i.Hc(e),i.jc().onSocialLoginStart()}))("loginSuccess",(function(t){return i.Hc(e),i.jc().onSocialLoginSuccess(t,"facebook")}))("loginError",(function(t){return i.Hc(e),i.jc().onSocialLoginError(t)})),i.Yb(),i.Yb(),i.Zb(2,"div",75),i.Zb(3,"app-ga-button",76),i.hc("clicked",(function(){return i.Hc(e),i.jc().onSocialLoginStart()}))("loginSuccess",(function(t){return i.Hc(e),i.jc().onSocialLoginSuccess(t,"google")}))("loginError",(function(t){return i.Hc(e),i.jc().onSocialLoginError(t)})),i.Yb(),i.Yb()}if(2&e){const e=i.jc();i.Hb(1),i.sc("isDisabled",!e.canLogin),i.Hb(2),i.sc("isDisabled",!e.canLogin)}}function Pi(e,t){if(1&e){const e=i.ac();i.Zb(0,"button",77),i.hc("click",(function(){return i.Hc(e),i.jc().goToNewAccount()})),i.Zb(1,"span"),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Yb()}2&e&&(i.Hb(2),i.Tc(i.lc(3,1,"GLOBAL_ACTION_NEWACCOUNT")))}const Di=function(e){return{"guest-fee-header":e}},xi=function(e,t){return{"mb-md-2":e,"mb-md-1":t}},Ii=function(e){return{"mt-20 mt-md-0":e}},Li=function(e,t){return{"fa-envelope":e,"fa-user":t}},Ri=function(e){return{"d-none d-md-block":e}};let Ni=(()=>{class e{constructor(e,t,n,o,r,s,a,c,l,u,d){this.fb=e,this.auth=t,this.loginSb=n,this.router=o,this.route=r,this.zone=s,this.alertsSvc=a,this.document=c,this.sidebarService=l,this.cmsConfig=u,this.uxProfileDatalayer=d,this.canLogin=!0,this.errorCodes={email:{required:"BOOKER_ERROR_FIELD-REQUIRED",email:"BOOKER_ERROR_INVALID-EMAIL"},password:{required:"BOOKER_ERROR_FIELD-REQUIRED",minlength:"ERROR_PASSWORD_MIN",maxlength:"ERROR_PASSWORD_MAX"}},this.emailFillSubscription=Wt.a.EMPTY,this.showBannerType=void 0,this.guestFeeStyle=!1,this.returnToNormalLogin=new i.p,this.justLoggedIn=new i.p,this.accountType=hn.k,this.cmsSocialSunsetFlag=!1,this.cmsDisableSocialLogin=!1,this.fg=this.fb.group({email:this.fb.control("",[Sn.I.required,Gn.a.email]),password:this.fb.control("",[Sn.I.required,Sn.I.minLength(6),Sn.I.maxLength(32)]),keepSession:this.fb.control(!1)}),this.cmsSocialSunsetFlag=this.cmsConfig.getSectionFeatureValue(jt.b.GLOBAL,jt.a.SocialLoginSunsetNotice),this.cmsDisableSocialLogin=this.cmsConfig.getSectionFeatureValue(jt.b.GLOBAL,jt.a.DisableSocialLogin)||!1;let h="./assets/img/lottie/lf20_itfqkw61.json";this.cmsConfig.getSectionFeatureValue(jt.b.GLOBAL,jt.a.UseDotersLoader)&&(h="./assets/img/lottie/doters-loader.json"),this.lottieOpts={path:h}}ngOnInit(){this.route.queryParams.pipe(Object(Ft.a)(e=>e.showLogin),Object(Ht.a)(1)).subscribe(e=>{this.showBannerType=e.loginType||void 0})}ngOnChanges(){if(this.loginType)switch(this.emailFillSubscription.closed||this.emailFillSubscription.unsubscribe(),this.fg.controls.email.clearValidators(),this.fg.controls.email.setValidators([Sn.I.required]),this.fg.controls.email.updateValueAndValidity(),this.fg.controls.email.reset(),this.loginType){case hn.k.Agency:this.loginSupportTxt="HEADER_LOGIN_AGENCY_SUPPORT";break;case hn.k.Enterprise:this.loginSupportTxt="HEADER_LOGIN_ENTERPRISE_SUPPORT";break;case hn.k.Staff:this.loginSupportTxt="HEADER_LOGIN_STAFF_SUPPORT";break;default:this.loginSupportTxt="HEADER_LOGIN-SUPPORT"}else this.loginSupportTxt="HEADER_LOGIN-SUPPORT",this.startEmailSubscriptions()}ngOnDestroy(){this.emailFillSubscription.closed||this.emailFillSubscription.unsubscribe()}onSubmit(){this.fg.markAllAsTouched(),this.fg.valid&&(this.displayAlert(void 0),this.canLogin=!1,this.zone.run(()=>{const e=this.route.snapshot.queryParamMap;let t=!0;e.has("bookingType")&&"Points"===e.get("bookingType")&&(t=!1),this.auth.doLogin(this.fg.get("email").value,this.fg.get("password").value,this.fg.get("keepSession").value,this.loginType,null,t).then(e=>{e?(this.route.firstChild.url.pipe(Object(Ht.a)(1)).subscribe(e=>{var t;("maintenance"===(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.path)||this._specialAccount)&&this.router.navigate(["/"])}),this.redirectOnLogin(),this.justLoggedIn.emit(),this.loginSb.closeModal()):this.displayAlert("INVALID_LOGIN_ERROR")}).finally(()=>{this.canLogin=!0})}))}onSocialLoginStart(){this.canLogin=!1,this.displayAlert(void 0)}onSocialLoginSuccess(e,t){this.zone.run(()=>{this.auth.doSocialLogin(e,t).then(e=>{e?(this.loginSb.closeModal(),this.redirectOnLogin(),this.justLoggedIn.emit()):this.displayAlert("SOCIAL_LOGIN_ERROR")}).catch(()=>{this.displayAlert("SOCIAL_LOGIN_ERROR")}).finally(()=>{this.canLogin=!0})})}onSocialLoginError(e){Object(Dt.a)(0).subscribe(()=>{"popup_closed_by_user"!==(null==e?void 0:e.error)&&this.displayAlert("SOCIAL_LOGIN_ERROR"),this.canLogin=!0})}getFieldErrors(e){return this.fg.get(e).invalid&&this.fg.get(e).touched?Object.keys(this.fg.get(e).errors):null}resetForm(){this.fg.reset({email:"",password:"",keepSession:!1})}startEmailSubscriptions(){this.emailFillSubscription=this.loginSb.loginEmail$.subscribe(e=>{this.resetForm(),this.fg.get("email").setValue(e.email,{emitEvent:!1}),e.existingEmail&&this.displayAlert("REGISTER_EMAIL_ALREADY_EXISTS")})}displayAlert(e){e?this.alertsSvc.ready.then(()=>{this.loginAlert=this.alertsSvc.getAlert(e)}):this.loginAlert=void 0}redirectOnLogin(){const e=this.route.snapshot.queryParamMap;if(e.has("loginRedirect")&&"true"===e.get("loginRedirect")&&e.has("redirectUrl")){const t=e.get("redirectUrl");this.document.location.href=t}}get specialLoginTxt(){if(this.loginType)switch(this.loginType){case hn.k.Agency:return"PROFILE_LABEL_VIVA-AGENCIAS";case hn.k.Enterprise:return"PROFILE_LABEL_VIVA-EMPRESAS";case hn.k.Staff:return"PROFILE_LABEL-VIVA-AMIGOS"}return""}goToNewAccount(){switch(this.loginType){case hn.k.Agency:this.document.location.href="https://web.vivaaerobus.com/mx/volar-con-viva/vivaagencias-registro#Agency_form";break;case hn.k.Enterprise:this.document.location.href="https://web.vivaaerobus.com/mx/volar-con-viva/vivaempresas-registro#Enterprise_form";break;default:if(this.guestFeeStyle)this.sidebarService.openModal(!1),this.loginSb.closeModal(!1);else{let e={};"vivafan"===this.showBannerType&&(e={loginType:"vivafan"}),this.router.navigate(["/register"],{queryParams:e})}}}changeToNormalUser(){this.returnToNormalLogin.emit()}get _specialAccount(){return this.loginType===hn.k.Agency||this.loginType===hn.k.Enterprise||this.loginType===hn.k.Staff}get showSocialSection(){return this.cmsSocialSunsetFlag&&!this.loginType&&!this.guestFeeStyle}onForgotPasswordClick(){this.uxProfileDatalayer.loginClickRecoverPassword()}get formId(){return("viva-form-"+(this.loginType||"regular")).toLowerCase()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(Sn.h),i.Tb(fn.a),i.Tb(gn.a),i.Tb(wt.g),i.Tb(wt.a),i.Tb(i.E),i.Tb(Vn.a),i.Tb(gt.e),i.Tb(vn.a),i.Tb($t.a),i.Tb(Zn.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-login-form"]],inputs:{loginType:"loginType",guestFeeStyle:"guestFeeStyle"},outputs:{returnToNormalLogin:"returnToNormalLogin",justLoggedIn:"justLoggedIn"},features:[i.Fb],decls:55,vars:59,consts:[[1,"login-form-container"],[1,"sidebar-header",3,"ngClass"],[1,"sidebar-title","mb-0","h2",3,"ngClass"],[1,"sidebar-description","d-none","d-sm-block"],[1,"sidebar-content","position-relative"],["class","d-flex justify-content-start justify-content-md-center align-items-center flex-row light",3,"ngClass",4,"ngIf"],["class","special-login-bar px-40 py-20",4,"ngIf"],["class","pb-10",3,"alertData","noClose","noRounded","noMargin",4,"ngIf"],[1,"sidebar-main","position-relative",3,"ngClass"],["class","login-loader",4,"ngIf"],[4,"ngIf"],[3,"id","name","formGroup","submit"],[1,"mb-3"],[1,"viva-input-field"],["inputmode","email","formControlName","email","autocomplete","username",1,"viva-personal",3,"type","id","name","placeholder"],[1,"fas",3,"ngClass"],[3,"for"],[1,"divider"],[1,"valid"],[1,"fas","fa-check"],["class","viva-input-field-error",4,"ngFor","ngForOf"],["appPwdToggle","","type","password","id","login_password","name","login_password","formControlName","password","maxlength","32","autocomplete","current-password",1,"viva-personal",3,"placeholder"],[1,"fas","fa-key"],["for","login_password"],[1,"d-flex","mb-3","justify-content-between","align-items-center"],["for","login_remember","class","checkbox-container",4,"ngIf"],["routerLink","recover","class","text-link simple text-center d-block medium-title dark forgot-password",3,"click",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet"],["class","guest-fee-btns pb-40 px-20 d-block d-md-none",4,"ngIf"],["submitButton",""],["loader",""],["socialBtns",""],["NewAccountBtn",""],[1,"d-flex","justify-content-start","justify-content-md-center","align-items-center","flex-row","light",3,"ngClass"],[3,"ngSwitch"],[4,"ngSwitchCase"],["alt","viva fan","loading","lazy",1,"viva-fan-logo","mr-2",3,"src"],[1,"medium-title",3,"innerHTML"],["alt","viva gift","loading","lazy",1,"viva-gift-logo","mr-20",3,"src"],[1,"medium-title"],["width","16","alt","doters","loading","lazy",1,"mr-10",3,"src"],[1,"special-login-bar","px-40","py-20"],[1,"h4"],[1,"pb-10",3,"alertData","noClose","noRounded","noMargin"],[1,"login-loader"],[1,"regular-text","mb-20","mb-sm-4","d-none"],[1,"row","mb-0","mb-sm-3"],[4,"ngIf","ngIfElse"],[1,"or-separator"],[1,"col-12","mb-3","d-flex","flex-column","flex-md-row","align-items-md-center","align-items-start","justify-content-start","flex-nowrap"],[1,"pr-10","mr-md-5","mr-0","mb-5","mb-md-0","d-flex","flex-nowrap"],[1,"social-icon","mr-5"],[1,"fab","fa-facebook-f","fb"],[1,"social-icon"],["alt","G","loading","lazy",3,"src"],[3,"callToAction","ctaClass","click",4,"ngIf"],[3,"callToAction","ctaClass","click"],[1,"viva-input-field-error"],["for","login_remember",1,"checkbox-container"],[1,"medium-title","dark","opacity-8"],["id","login_remember","name","login_password","type","checkbox","formControlName","keepSession"],[1,"checkmark"],["routerLink","recover",1,"text-link","simple","text-center","d-block","medium-title","dark","forgot-password",3,"click"],[1,"guest-fee-btns","pb-40","px-20","d-block","d-md-none"],["type","submit",1,"viva-btn","primary","d-block","w-100","mb-3",3,"disabled"],["class","py-10 w-100 d-flex justify-content-center",4,"ngIf"],[1,"py-10","w-100","d-flex","justify-content-center"],[1,"viva-btn","tertiary","d-flex","justify-content-center","align-items-center","px-20",3,"click"],[1,"content"],[1,"line","opacity-2"],[1,"container"],[1,"row"],[1,"col-12","d-flex","flex-column","align-items-center"],["width","170px","height","170px",3,"options"],[1,"col-6"],["btnClass","w-100 mb-3",3,"isDisabled","clicked","loginSuccess","loginError"],["type","button",1,"viva-btn","outlined","w-100","mb-4",3,"click"]],template:function(e,t){if(1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Zb(5,"p",3),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(8,"div",4),i.Qc(9,li,5,9,"div",5),i.Qc(10,ui,4,3,"div",6),i.Qc(11,di,1,4,"app-flight-alert",7),i.Zb(12,"div",8),i.Qc(13,pi,2,1,"div",9),i.Qc(14,mi,10,8,"ng-container",10),i.Zb(15,"form",11),i.hc("submit",(function(){return t.onSubmit()})),i.Zb(16,"div",12),i.Zb(17,"div",13),i.Ub(18,"input",14),i.kc(19,"lowercase"),i.kc(20,"lowercase"),i.kc(21,"cmsTranslate"),i.Ub(22,"i",15),i.Zb(23,"label",16),i.kc(24,"lowercase"),i.Sc(25),i.kc(26,"cmsTranslate"),i.Yb(),i.Ub(27,"div",17),i.Zb(28,"div",18),i.Ub(29,"i",19),i.Yb(),i.Yb(),i.Qc(30,bi,4,3,"small",20),i.Yb(),i.Zb(31,"div",12),i.Zb(32,"div",13),i.Ub(33,"input",21),i.kc(34,"cmsTranslate"),i.Ub(35,"i",22),i.Zb(36,"label",23),i.Sc(37),i.kc(38,"cmsTranslate"),i.Yb(),i.Ub(39,"div",17),i.Yb(),i.Qc(40,vi,4,3,"small",20),i.Yb(),i.Zb(41,"div",24),i.Qc(42,yi,6,3,"label",25),i.Qc(43,_i,3,3,"a",26),i.Yb(),i.Zb(44,"div",27),i.Qc(45,Ci,1,0,"ng-container",28),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Qc(46,Oi,2,1,"div",29),i.Yb(),i.Qc(47,Ai,6,7,"ng-template",null,30,i.Rc),i.Qc(49,Ei,8,4,"ng-template",null,31,i.Rc),i.Qc(51,Mi,4,2,"ng-template",null,32,i.Rc),i.Qc(53,Pi,4,3,"ng-template",null,33,i.Rc)),2&e){const e=i.Ec(48);i.Hb(1),i.sc("ngClass",i.vc(47,Di,t.guestFeeStyle)),i.Hb(1),i.sc("ngClass",i.wc(49,xi,!t.guestFeeStyle,t.guestFeeStyle)),i.Hb(1),i.Uc(" ",i.lc(4,29,"GLOBAL_LABEL_LOGIN")," "),i.Hb(3),i.Uc(" ",i.lc(7,31,t.loginSupportTxt)," "),i.Hb(3),i.sc("ngIf",t.showBannerType),i.Hb(1),i.sc("ngIf",t.loginType),i.Hb(1),i.sc("ngIf",t.loginAlert),i.Hb(1),i.sc("ngClass",i.vc(52,Ii,t.guestFeeStyle)),i.Hb(1),i.sc("ngIf",!t.canLogin),i.Hb(1),i.sc("ngIf",t.showSocialSection),i.Hb(1),i.sc("id",t.formId)("name",t.formId)("formGroup",t.fg),i.Hb(3),i.sc("type",t.loginType?"text":"email")("id","login_"+i.lc(19,33,t.loginType||"email"))("name","login_"+i.lc(20,35,t.loginType||"email"))("placeholder",i.lc(21,37,t.loginType?"GLOBAL_LABEL_USER-PLACEHOLDER":"GLOBAL_LABEL_MAIL-PLACEHOLDER")),i.Hb(4),i.sc("ngClass",i.wc(54,Li,!t.loginType,t.loginType)),i.Hb(1),i.sc("for","login_"+i.lc(24,39,t.loginType||"email")),i.Hb(2),i.Tc(i.lc(26,41,t.loginType?"GLOBAL_LABEL_USER":"GLOBAL_LABEL_MAIL")),i.Hb(5),i.sc("ngForOf",t.getFieldErrors("email")),i.Hb(3),i.sc("placeholder",i.lc(34,43,"GLOBAL_LABEL_PASSWORD-PLACEHOLDER")),i.Hb(4),i.Uc(" ",i.lc(38,45,"GLOBAL_LABEL_PASSWORD")," "),i.Hb(3),i.sc("ngForOf",t.getFieldErrors("password")),i.Hb(2),i.sc("ngIf",t.loginType!==t.accountType.Staff),i.Hb(1),i.sc("ngIf",!t.loginType),i.Hb(1),i.sc("ngClass",i.vc(57,Ri,t.guestFeeStyle)),i.Hb(1),i.sc("ngTemplateOutlet",e),i.Hb(1),i.sc("ngIf",t.guestFeeStyle)}},directives:[gt.r,gt.u,Sn.K,Sn.v,Sn.m,Sn.d,Sn.u,Sn.k,gt.t,$n.a,Sn.p,gt.B,gt.y,gt.z,Wn.a,Kn.a,Sn.b,wt.j,zn.b,ei,ni],pipes:[On.a,gt.q,Un.a,ii.a,oi.a],styles:['.login-form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.sidebar-footer[_ngcontent-%COMP%]{flex:0 0 60px}.sidebar-footer[_ngcontent-%COMP%]   .tertiary[_ngcontent-%COMP%]{min-height:-webkit-fit-content!important;min-height:-moz-fit-content!important;min-height:fit-content!important}@media screen and (max-width:575px){.sidebar-footer[_ngcontent-%COMP%]   .tertiary[_ngcontent-%COMP%]{line-height:40px;border-radius:0}}.sidebar-header[_ngcontent-%COMP%]{padding:40px!important;flex:0 0 200px!important;height:auto!important}@media screen and (max-width:575px){.sidebar-header[_ngcontent-%COMP%]{flex-basis:74px!important}}.sidebar-header.guest-fee-header[_ngcontent-%COMP%]{flex:0 0 auto!important;padding-top:30px!important}@media screen and (max-width:575px){.sidebar-header.guest-fee-header[_ngcontent-%COMP%]{padding:20px 30px!important}}.sidebar-content[_ngcontent-%COMP%]{background-color:var(--wh1);flex-grow:1;overflow-y:auto}@media screen and (max-width:575px){.sidebar-content[_ngcontent-%COMP%]{overflow:auto}}.sidebar-main[_ngcontent-%COMP%]{padding:40px!important}@media screen and (max-width:575px){.sidebar-main[_ngcontent-%COMP%]{padding:20px!important}}.guest-fee-btns[_ngcontent-%COMP%]{background-color:var(--wh1)}.login-loader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:rgba(var(--wh2-rgb),.6);z-index:2}@media screen and (max-width:575px){.sidebar-header[_ngcontent-%COMP%]{padding:20px!important;height:auto!important}.sidebar-header[_ngcontent-%COMP%]   .sidebar-title[_ngcontent-%COMP%]{line-height:34px}.checkbox-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.8}small.or-separator[_ngcontent-%COMP%]{margin-bottom:20px;line-height:normal;height:auto;position:relative;border:none}small.or-separator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1;color:var(--bg6);opacity:.5}small.or-separator[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;margin:auto;width:100%;height:1px;background:var(--gr20);left:0;z-index:0}}.viva-fan-logo[_ngcontent-%COMP%]{height:24px;width:24px}.viva-gift-logo[_ngcontent-%COMP%]{width:50px}.sidebar-vivafan[_ngcontent-%COMP%]{background-color:var(--b4);height:70px;padding:0 49px}.sidebar-doters[_ngcontent-%COMP%]{background-color:var(--bl9);height:70px}.sidebar-vivagift[_ngcontent-%COMP%]{background-color:#ff385d;height:70px}.special-login-bar[_ngcontent-%COMP%]{background-color:var(--bg6)}.special-login-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--wh1)}.social-icon[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid var(--gr20);border-radius:15px;background-color:var(--wh1);display:flex;justify-content:center;align-items:center;font-size:15px;line-height:1}.social-icon[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:15px;width:auto;max-width:15px}.social-icon[_ngcontent-%COMP%]   .fb[_ngcontent-%COMP%]{color:var(--b4)}.forgot-password[_ngcontent-%COMP%]{text-decoration:underline}']}),e})();var ji=n("WSM3"),Bi=n("h/S9"),Fi=n("vbKG"),Hi=n("lLeZ"),Ui=n("XwRA");const Yi=function(e){return{loading:e}};let Gi=(()=>{class e{constructor(e,t){this.modalSvc=e,this.accountApiSvc=t,this.id="standby-modal",this.isLoading=!1}ngOnInit(){}closeModal(){this.modalSvc.close(this.id)}goToTravelId(){this.isLoading=!0,this.accountApiSvc.getTravelIdURL().subscribe(e=>{e.url&&window.open(e.url,"_blank"),this.isLoading=!1,this.closeModal()},e=>{c.g.production||console.error(e),this.isLoading=!1})}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(_n.a),i.Tb(Dn.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-standby-modal"]],decls:23,vars:22,consts:[[3,"id","dismissable","showFirst"],[1,"standby-modal"],[1,"standby-modal-header"],[1,"subheader","mb-1"],[1,"h3"],[1,"modal-content"],[1,"mb-40","rt-paragraph-m-0","regular-text",3,"innerHTML"],[1,"d-flex","flex-column","justify-content-end","align-items-center"],["type","button",1,"viva-btn","primary-dark","d-block","mb-3",3,"ngClass","disabled","click"],[1,"ml-1","fas","fa-external-link"],["type","button",1,"viva-btn","tertiary",3,"click"],[1,"content","mx-20"],[1,"line"]],template:function(e,t){1&e&&(i.Zb(0,"app-modal",0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"div",3),i.Sc(4),i.kc(5,"cmsTranslate"),i.Yb(),i.Zb(6,"div",4),i.Sc(7),i.kc(8,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(9,"div",5),i.Ub(10,"div",6),i.kc(11,"cmsTranslateRichText"),i.Zb(12,"div",7),i.Zb(13,"button",8),i.hc("click",(function(){return t.goToTravelId()})),i.Zb(14,"span"),i.Sc(15),i.kc(16,"cmsTranslate"),i.Ub(17,"em",9),i.Yb(),i.Yb(),i.Zb(18,"button",10),i.hc("click",(function(){return t.closeModal()})),i.Zb(19,"span",11),i.Sc(20),i.kc(21,"cmsTranslate"),i.Yb(),i.Ub(22,"div",12),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.sc("id",t.id)("dismissable",!1)("showFirst",!0),i.Hb(4),i.Uc(" ",i.lc(5,10,"PROFILE_STANDBY-SUBTITLE")," "),i.Hb(3),i.Uc(" ",i.lc(8,12,"PROFILE_TITLE-STANDBY")," "),i.Hb(3),i.sc("innerHTML",i.lc(11,14,"PROFILE_STANDBY-SUPPORT"),i.Ic),i.Hb(3),i.sc("ngClass",i.vc(20,Yi,t.isLoading))("disabled",t.isLoading),i.Hb(2),i.Uc(" ",i.lc(16,16,"BOOKING_LABEL_GO-TO-IDTRAVEL")," "),i.Hb(5),i.Uc(" ",i.lc(21,18,"GLOBAL_ACTION_CANCEL")," "))},directives:[Cn.a,gt.r],pipes:[On.a,ii.a],styles:[".standby-modal[_ngcontent-%COMP%]{width:580px;border-radius:5px;position:relative;box-sizing:border-box;box-shadow:0 0 50px 0 hsla(0,0%,55.3%,.07),0 1px 5px 0 rgba(95,95,95,.07);background-color:var(--wh1);overflow:hidden}@media screen and (max-width:800px){.standby-modal[_ngcontent-%COMP%]{border-radius:0}}.standby-modal-header[_ngcontent-%COMP%]{background-color:var(--bg4);padding:40px 30px 35px}.standby-modal-header[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{color:var(--wh1)}.standby-modal[_ngcontent-%COMP%]   .mb-100[_ngcontent-%COMP%]{margin-bottom:100px}.standby-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:20px 30px 35px}.viva-btn.primary-dark[_ngcontent-%COMP%]{min-width:280px}"]}),e})();var Vi=n("ib+v");function Zi(e,t){1&e&&i.Ub(0,"i",27)}function $i(e,t){if(1&e&&(i.Zb(0,"div",28),i.Sc(1),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.Uc(" ",(null==e.userData?null:e.userData.username)||e.userDetails.email||""," ")}}function Wi(e,t){if(1&e&&(i.Zb(0,"div",29),i.Zb(1,"div",30),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Zb(4,"div",31),i.Sc(5),i.Yb(),i.Yb()),2&e){const e=i.jc(2);i.Hb(2),i.Tc(i.lc(3,3,e.specialLoginTxt)),i.Hb(3),i.Vc("",e.specialLoginKey," ",null==e.userData?null:e.userData.customerNumber,"")}}const Ki=function(e){return{"green-doter-logo":e}};function zi(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",32),i.Ub(1,"img",33),i.kc(2,"cmsStaticImage"),i.Zb(3,"div",17),i.Zb(4,"div",34),i.Zb(5,"div",17),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Zb(8,"div",35),i.Sc(9),i.kc(10,"currency"),i.kc(11,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(12,"div",36),i.hc("click",(function(){return i.Hc(e),i.jc(2).goToDoters()})),i.Ub(13,"em",37),i.Yb(),i.Yb(),i.Yb()}if(2&e){const e=i.jc(2);i.sc("ngClass",null==e.dotersLevelData?null:e.dotersLevelData.class),i.Hb(1),i.sc("src",i.lc(2,7,null==e.dotersLevelData?null:e.dotersLevelData.logo),i.Kc)("ngClass",i.vc(18,Ki,(null==e.dotersLevelData?null:e.dotersLevelData.lvl)===e.dotersLvls.GREEN)),i.Hb(5),i.Vc("",i.lc(7,9,e.customerNumTxt)," ",null==e.userData?null:e.userData.customerNumber,""),i.Hb(3),i.Vc("",i.oc(10,11,e.dotersFunds?null==e.dotersFunds?null:e.dotersFunds.totalAmount:0,"","","1.0-0")," ",i.lc(11,16,"BOOKER_LABEL_DOTERS"),"")}}const Qi=function(e){return{regex:"%%date%%",newValue:e}},Xi=function(e){return[e]};function qi(e,t){if(1&e&&(i.Zb(0,"div",21),i.Sc(1),i.kc(2,"cmsRegexReplace"),i.kc(3,"cmsTranslate"),i.kc(4,"titlecase"),i.kc(5,"date"),i.Yb()),2&e){const e=i.jc(3);i.Hb(1),i.Uc(" ",i.mc(2,1,i.lc(3,4,"PROFILE_LABEL_VIVAFAN-DATE"),i.vc(13,Xi,i.vc(11,Qi,i.lc(4,6,i.mc(5,8,e.vivaFanAffiliation.startDate,"d MMM y")))))," ")}}function Ji(e,t){if(1&e&&(i.Zb(0,"div",16),i.Zb(1,"div",17),i.Zb(2,"div",18),i.Ub(3,"em",38),i.Yb(),i.Zb(4,"div"),i.Zb(5,"div",20),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Qc(8,qi,6,15,"div",39),i.Yb(),i.Yb(),i.Zb(9,"div",22),i.Ub(10,"em",23),i.Yb(),i.Yb()),2&e){const e=i.jc(2);i.sc("routerLink","/profile/viva-fan"),i.Hb(6),i.Uc(" ",i.lc(7,3,"GLOBAL_LABEL_VIVAFAN")," "),i.Hb(2),i.sc("ngIf",!e.vivaFanExpired)}}const eo=function(e){return{basketId:e}};function to(e,t){if(1&e&&(i.Zb(0,"div",40),i.Zb(1,"div",17),i.Zb(2,"div",41),i.Ub(3,"em",42),i.Yb(),i.Zb(4,"div"),i.Zb(5,"div",20),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Zb(8,"div",21),i.Sc(9),i.Yb(),i.Yb(),i.Yb(),i.Zb(10,"div",22),i.Ub(11,"em",23),i.Yb(),i.Yb()),2&e){const e=i.jc(2);i.sc("routerLink","/book/resume")("queryParams",i.vc(6,eo,e.basketId)),i.Hb(6),i.Uc(" ",i.lc(7,4,"BOOKER_LABEL_TITLE-CONFIRM-INFO")," "),i.Hb(3),i.Tc(e.basketSummary)}}const no=function(e){return{notification:e}},io=function(e){return{regex:"%%number of flights%%",newValue:e}};function oo(e,t){if(1&e&&(i.Zb(0,"div",16),i.Zb(1,"div",17),i.Zb(2,"div",43),i.Ub(3,"em",44),i.Yb(),i.Zb(4,"div"),i.Zb(5,"div",20),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Zb(8,"div",21),i.Sc(9),i.kc(10,"cmsRegexReplace"),i.kc(11,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(12,"div",22),i.Ub(13,"em",23),i.Yb(),i.Yb()),2&e){const e=i.jc(2);i.sc("routerLink","/profile/my-trips"),i.Hb(2),i.sc("ngClass",i.vc(11,no,(null==e.userData||null==e.userData.summary?null:e.userData.summary.futureTripCount)>0)),i.Hb(4),i.Uc(" ",i.lc(7,4,"PROFILE_TITLE-FLIGHTS")," "),i.Hb(3),i.Uc(" ",i.mc(10,6,i.lc(11,9,"PROFILE_LABEL_NEXT-FLIGHTS"),i.vc(15,Xi,i.vc(13,io,""+((null==e.userData||null==e.userData.summary?null:e.userData.summary.futureTripCount)||0))))," ")}}function ro(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",45),i.hc("click",(function(){return i.Hc(e),i.jc(2).onVivaCashTermsValidation()})),i.Zb(1,"div",17),i.Zb(2,"div",18),i.Ub(3,"em",46),i.Yb(),i.Zb(4,"div"),i.Zb(5,"div",20),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Zb(8,"div",21),i.Sc(9),i.kc(10,"currency"),i.Yb(),i.Yb(),i.Yb(),i.Zb(11,"div",22),i.Ub(12,"em",23),i.Yb(),i.Yb()}if(2&e){const e=i.jc(2);i.Hb(6),i.Uc(" ",i.lc(7,3,"PROFILE_TITLE-VIVACASH")," "),i.Hb(3),i.Vc(" ",i.mc(10,5,e.vivaCashBalance,e.vivaCashCurrency)," ",e.vivaCashCurrency," ")}}function so(e,t){if(1&e&&(i.Zb(0,"div",47),i.Zb(1,"div",17),i.Zb(2,"div",18),i.Ub(3,"em",46),i.Yb(),i.Zb(4,"div"),i.Zb(5,"div",20),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Zb(8,"div",21),i.Sc(9),i.kc(10,"currency"),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&e){const e=i.jc(2);i.Hb(6),i.Uc(" ",i.lc(7,3,"PROFILE_TITLE-CREDIT")," "),i.Hb(3),i.Vc(" ",i.oc(10,5,e.vivaCashBalance,"","symbol-narrow","")," ",e.vivaCashCurrency," ")}}const ao=function(){return{notification:!0}},co=function(e,t){return{"fa-user-friends":e,"fa-clipboard-list":t}};function lo(e,t){if(1&e&&(i.Zb(0,"div",16),i.Zb(1,"div",17),i.Zb(2,"div",43),i.Ub(3,"em",19),i.Yb(),i.Zb(4,"div"),i.Zb(5,"div",20),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Zb(8,"div",21),i.Sc(9),i.kc(10,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(11,"div",22),i.Ub(12,"em",23),i.Yb(),i.Yb()),2&e){const e=i.jc(2);i.sc("routerLink","/profile"),i.Hb(2),i.sc("ngClass",i.uc(9,ao)),i.Hb(1),i.sc("ngClass",i.wc(10,co,!e.agencyOrEnterprise,e.agencyOrEnterprise)),i.Hb(3),i.Uc(" ",i.lc(7,5,e.agencyOrEnterprise?"PROFILE_TITLE-REPORTS":"PROFILE_LABEL-VIVA-AMIGOS")," "),i.Hb(3),i.Uc(" ",i.lc(10,7,e.agencyOrEnterprise?"PROFILE_SUPPORT-REPORTS":"PROFILE_SUPPORT-VIVA-AMIGOS")," ")}}function uo(e,t){1&e&&(i.Zb(0,"div",16),i.Zb(1,"div",17),i.Zb(2,"div",18),i.Ub(3,"img",48),i.kc(4,"cmsStaticImage"),i.Yb(),i.Zb(5,"div"),i.Zb(6,"div",20),i.Sc(7),i.kc(8,"cmsTranslate"),i.Yb(),i.Zb(9,"div",21),i.Sc(10),i.kc(11,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(12,"div",22),i.Ub(13,"em",23),i.Yb(),i.Yb()),2&e&&(i.sc("routerLink","/profile/smile-and-fly"),i.Hb(3),i.sc("src",i.lc(4,4,"PROFILE_ICON_LOGO_SMALL_SMILE-AND-FLY"),i.Kc),i.Hb(4),i.Uc(" ",i.lc(8,6,"PROFILE_LABEL_FACE-ID")," "),i.Hb(3),i.Uc(" ",i.lc(11,8,"PROFILE_LABEL_LOGIN-FACE-ID")," "))}function ho(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",45),i.hc("click",(function(){return i.Hc(e),i.jc(2).openStandbyModal()})),i.Zb(1,"div",17),i.Zb(2,"div",18),i.Ub(3,"em",49),i.Yb(),i.Zb(4,"div"),i.Zb(5,"div",20),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Zb(8,"div",21),i.Sc(9),i.kc(10,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(11,"div",22),i.Ub(12,"em",23),i.Yb(),i.Yb()}2&e&&(i.Hb(6),i.Uc(" ",i.lc(7,2,"PROFILE_TITLE-STANDBY")," "),i.Hb(3),i.Uc(" ",i.lc(10,4,"PROFILE_SUPPORT-STANDBY")," "))}function po(e,t){if(1&e&&(i.Zb(0,"div",50),i.Ub(1,"div",51),i.kc(2,"cmsTranslateRichText"),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.sc("innerHTML",i.mc(2,1,e._contactUsCopy,e.contactUsOptions),i.Ic)}}const go=function(e,t){return{"fa-user":e,"fa-building":t}};function fo(e,t){if(1&e){const e=i.ac();i.Xb(0),i.Zb(1,"div",2),i.Ub(2,"app-avatar",3),i.Zb(3,"div",4),i.Zb(4,"div",5),i.Sc(5),i.kc(6,"cmsTranslate"),i.kc(7,"cmsTranslate"),i.Yb(),i.Zb(8,"h3",6),i.Sc(9),i.kc(10,"titlecase"),i.Qc(11,Zi,1,0,"i",7),i.Yb(),i.Qc(12,$i,2,1,"div",8),i.Yb(),i.Yb(),i.Qc(13,Wi,6,5,"div",9),i.Qc(14,zi,14,20,"div",10),i.Zb(15,"div",11),i.Qc(16,Ji,11,5,"div",12),i.Qc(17,to,12,8,"div",13),i.Qc(18,oo,14,17,"div",12),i.Qc(19,ro,13,8,"div",14),i.Qc(20,so,11,10,"div",15),i.Zb(21,"div",16),i.Zb(22,"div",17),i.Zb(23,"div",18),i.Ub(24,"em",19),i.Yb(),i.Zb(25,"div"),i.Zb(26,"div",20),i.Sc(27),i.kc(28,"cmsTranslate"),i.Yb(),i.Zb(29,"div",21),i.Sc(30),i.kc(31,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(32,"div",22),i.Ub(33,"em",23),i.Yb(),i.Yb(),i.Qc(34,lo,13,13,"div",12),i.Qc(35,uo,14,10,"div",12),i.Qc(36,ho,13,6,"div",14),i.Qc(37,po,3,4,"div",24),i.Yb(),i.Zb(38,"div",25),i.Zb(39,"button",26),i.hc("click",(function(){return i.Hc(e),i.jc().onLogout()})),i.Zb(40,"span"),i.Sc(41),i.kc(42,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Wb()}if(2&e){const e=i.jc();i.Hb(2),i.sc("textContent",e.avatarText)("avatarId",null==e.userData?null:e.userData.avatarId)("border",!0),i.Hb(3),i.Uc(" ",e.gender===e.userGender.Female?i.lc(6,23,"GLOBAL_LABEL_WELCOMING-FEMALE"):i.lc(7,25,"GLOBAL_LABEL_WELCOMING-MALE")," "),i.Hb(4),i.Uc(" ",i.lc(10,27,e.userFullName)," "),i.Hb(2),i.sc("ngIf",e.smileAndFlyAffiliation),i.Hb(1),i.sc("ngIf",!e.specialAccount),i.Hb(1),i.sc("ngIf",e.specialAccount),i.Hb(1),i.sc("ngIf",e.dotersLevelData&&!e.agencyOrEnterprise&&!e.isStaffUser&&e.cmsDoters&&(null==e.dotersLevelData?null:e.dotersLevelData.logo)),i.Hb(2),i.sc("ngIf",e.vivaFanAffiliation),i.Hb(1),i.sc("ngIf",e.displayBasket),i.Hb(1),i.sc("ngIf",e.showTripsLink),i.Hb(1),i.sc("ngIf",!e.agencyOrEnterprise&&e.vivaCashActive),i.Hb(1),i.sc("ngIf",e.agencyOrEnterprise),i.Hb(1),i.sc("routerLink","/profile"),i.Hb(3),i.sc("ngClass",i.wc(35,go,!e.agencyOrEnterprise,e.agencyOrEnterprise)),i.Hb(3),i.Uc(" ",i.lc(28,29,e.agencyOrEnterprise?(null==e.userData?null:e.userData.accountType)===e.accType.Agency?"PROFILE_TITLE-AGENCY-ACCOUNT":"PROFILE_TITLE-BUSINESS-ACCOUNT":"PROFILE_TITLE-MYACCOUNT")," "),i.Hb(3),i.Uc(" ",i.lc(31,31,e.agencyOrEnterprise?"PROFILE_SUPPORT-BUSINESS-ACCOUNT":"PROFILE_SUPPORT-MYACCOUNT")," "),i.Hb(4),i.sc("ngIf",e.specialAccount&&e.reportsActive),i.Hb(1),i.sc("ngIf",(e.vivaFanAffiliation||e.isStaffUser||e.dotersAffiliation)&&!e.smileAndFlyAffiliation),i.Hb(1),i.sc("ngIf",e.isStaffUser&&e.myIdTravelActive),i.Hb(1),i.sc("ngIf",e.specialAccount),i.Hb(4),i.Uc(" ",i.lc(42,33,"GLOBAL_ACTION_LOGOUT")," ")}}function mo(e,t){1&e&&i.Ub(0,"app-standby-modal")}let bo=(()=>{class e{constructor(e,t,n,i,o,r,s,a){this.config=e,this.auth=t,this.loginSbSvc=n,this.basketSvc=i,this.modalSvc=o,this.router=r,this.document=s,this.utilsSvc=a,this.userDetailsSub=Wt.a.EMPTY,this.userDataSub=Wt.a.EMPTY,this.basketSub=Wt.a.EMPTY,this.userGender=pn.g,this.vivaFanExpired=!0,this.vivaCashBalance=0,this.vivaCashCurrency="MXN",this.displayBasket=!1,this.showTripsLink=!1,this.specialAccount=!1,this.agencyOrEnterprise=!1,this.isStaffUser=!1,this.accType=hn.k,this.vivaCashTermsModalId="viva-cash-terms-modal-login",this.standbyModalId="standby-modal",this.cmsDoters=!1,this.vivaCashActive=!1,this.myIdTravelActive=!1,this.dotersLvls=ji.e,this.contactUsOptions={renderNode:{[Fi.BLOCKS.PARAGRAPH]:(e,t)=>""+t(e.content).replace(/\n/g,"<br />")}},this.cmsDotersOptOut=!1,this.showTripsLink=this.config.getSectionFeatureValue(jt.b.GLOBAL,jt.a.MyTripsProfileSidebarLink),this.cmsDoters=this.config.getSectionFeatureValue(jt.b.GLOBAL,jt.a.Doters),this.cmsDotersOptOut=this.config.getSectionFeatureValue(jt.b.GLOBAL,jt.a.DotersOptOut)||!1}ngOnInit(){this.userDetailsSub=this.auth.userDetails$.subscribe(e=>{this.userDetails=e}),this.userDataSub=this.auth.userAccountData$.subscribe(e=>{this.userData=e,this.setAccountValues()}),this.basketSub=this.basketSvc.basket$.subscribe(e=>{var t;e&&this.userData&&(null===(t=this.userData)||void 0===t?void 0:t.basket.basketId)===e.basketId&&e.status!==Bi.d.Active&&(this.displayBasket=!1)})}ngOnDestroy(){this.userDataSub.closed||this.userDataSub.unsubscribe(),this.userDetailsSub.closed||this.userDetailsSub.unsubscribe(),this.basketSub.closed||this.basketSub.unsubscribe()}onLogout(){this.auth.doLogout(),this.loginSbSvc.closeModal()}setAccountValues(){var e;this.specialAccount=this._specialAccount,this.specialLoginTxt=this._specialLoginTxt,this.specialLoginKey=(null===(e=this.userData)||void 0===e?void 0:e.accountType)===hn.k.Staff?"ID":"Usuario",this.setVivaFanAffiliation(),this.setSmileAndFlyAffiliation(),this.vivaCashBalance=this._vivaCashBalance,this.vivaCashCurrency=this._vivaCashCurrency,this.displayBasket=this._displayBasket,this.reportsActive=this.isReportAfiliation(),this.setDotersAffiliation(),this.vivaCashActive=this._vivaCashAvailable,this.myIdTravelActive=this._myIdTravelAvailable,this.customerNumTxt=this.utilsSvc.getCustomerText(!!this.dotersLevelData)}setDotersAffiliation(){var e,t;this.userData&&(this.dotersFunds=null===(t=null===(e=this.userData)||void 0===e?void 0:e.funds)||void 0===t?void 0:t.find(e=>"Doters"===(null==e?void 0:e.type)),this.dotersAffiliation=this.auth.getDotersAffiliation(this.userData),this.dotersLevelData=this._dotersLevelData)}get _dotersLevelData(){var e;let t;switch(null===(e=this.dotersAffiliation)||void 0===e?void 0:e.level){case ji.e.SILVER:t={class:"level-silver",logo:"BOOKER_IMG_DOTERS-PLATA",text:"BOOKER_LABEL_DOTERS-SILVER",lvl:ji.e.SILVER};break;case ji.e.GOLD:t={class:"level-gold",logo:"BOOKER_IMG_DOTERS-ORO",text:"BOOKER_LABEL_DOTERS-GOLD",lvl:ji.e.GOLD};break;case ji.e.GREEN:t={class:"level-green",logo:"BOOKER_DOTERS_LOGO",text:"BOOKER_LABEL_DOTERS-GREEN",lvl:ji.e.GREEN};break;default:t=void 0}return t}setVivaFanAffiliation(){this.vivaFanAffiliation=this.auth.getVivaFanAffiliation(this.userData),this.vivaFanExpired=this.hasVivaFanExpired}setSmileAndFlyAffiliation(){this.smileAndFlyAffiliation=this.auth.getActiveSmileAndFlyAffiliation(this.userData)}isReportAfiliation(){var e;return(null===(e=this.userData)||void 0===e?void 0:e.activeFeatures.find(e=>(null==e?void 0:e.code)===pn.b.Reports))||null}get hasVivaFanExpired(){return!this.vivaFanAffiliation||kn().isAfter(kn(this.vivaFanAffiliation.endDate),"day")}get accountName(){var e,t;return null===(t=null===(e=this.userData)||void 0===e?void 0:e.personalDetails)||void 0===t?void 0:t.name}get userFullName(){var e,t;return`\n      ${(null===(e=this.accountName)||void 0===e?void 0:e.firstName)||""}\n       \n      ${(null===(t=this.accountName)||void 0===t?void 0:t.lastName)||""}\n    `}get gender(){var e,t,n;return(null===(n=null===(t=null===(e=this.userData)||void 0===e?void 0:e.personalDetails)||void 0===t?void 0:t.gender)||void 0===n?void 0:n.gender)||this.userDetails.gender||void 0}get _vivaCashBalance(){var e,t,n;return(null===(n=null===(t=null===(e=this.userData)||void 0===e?void 0:e.funds)||void 0===t?void 0:t.find(e=>e.type===(this.specialAccount?"AccountCredit":"VivaCash")))||void 0===n?void 0:n.totalAmount)||0}get _vivaCashAvailable(){var e,t,n;return!!(null===(t=null===(e=this.userData)||void 0===e?void 0:e.activeFeatures)||void 0===t?void 0:t.length)&&!!(null===(n=this.userData)||void 0===n?void 0:n.activeFeatures.find(e=>e.code===pn.b.VivaCash))}get _myIdTravelAvailable(){var e,t,n;return!!(null===(t=null===(e=this.userData)||void 0===e?void 0:e.activeFeatures)||void 0===t?void 0:t.length)&&!!(null===(n=this.userData)||void 0===n?void 0:n.activeFeatures.find(e=>e.code===pn.b.MyIdTravel))}get _specialAccount(){var e,t,n;return this.agencyOrEnterprise=!1,(null===(e=this.userData)||void 0===e?void 0:e.accountType)===hn.k.Agency||(null===(t=this.userData)||void 0===t?void 0:t.accountType)===hn.k.Enterprise?(this.agencyOrEnterprise=!0,!0):(null===(n=this.userData)||void 0===n?void 0:n.accountType)===hn.k.Staff&&(this.isStaffUser=!0,!0)}get _specialLoginTxt(){var e,t;if((null===(e=this.userData)||void 0===e?void 0:e.accountType)&&this.specialAccount)switch(null===(t=this.userData)||void 0===t?void 0:t.accountType){case hn.k.Agency:return"PROFILE_LABEL_VIVA-AGENCIAS";case hn.k.Enterprise:return"PROFILE_LABEL_VIVA-EMPRESAS";case hn.k.Staff:return"PROFILE_LABEL-VIVA-AMIGOS"}return""}get _vivaCashCurrency(){var e,t,n;return(null===(n=null===(t=null===(e=this.userData)||void 0===e?void 0:e.funds)||void 0===t?void 0:t.find(e=>e.type===(this.agencyOrEnterprise?"AccountCredit":"VivaCash")))||void 0===n?void 0:n.currencyCode)||"MXN"}get _displayBasket(){var e,t,n;return(null===(t=null===(e=this.userData)||void 0===e?void 0:e.basket)||void 0===t?void 0:t.status)===Bi.d.Active&&(null===(n=this.userData.basket.travelSummary)||void 0===n?void 0:n.status)===hn.a.Pending}get basketSummary(){var e,t;if(null===(t=null===(e=this.userData)||void 0===e?void 0:e.basket)||void 0===t?void 0:t.travelSummary){const e=this.userData.basket.travelSummary;if(e.origin&&e.destination&&e.departureDate&&e.arrivalDate)return`${e.origin.code} - ${e.destination.code}, ${kn(e.departureDate).format("D MMM")} - ${kn(e.arrivalDate).format("D MMM")}`}return"-"}get basketId(){var e,t;return null===(t=null===(e=this.userData)||void 0===e?void 0:e.basket)||void 0===t?void 0:t.basketId}get avatarText(){var e,t,n,i,o,r,s,a,c,l,u,d;return""+(((null===(n=null===(t=null===(e=this.userData)||void 0===e?void 0:e.personalDetails)||void 0===t?void 0:t.name)||void 0===n?void 0:n.firstName)?null===(r=null===(o=null===(i=this.userData)||void 0===i?void 0:i.personalDetails)||void 0===o?void 0:o.name)||void 0===r?void 0:r.firstName[0]:"")+((null===(c=null===(a=null===(s=this.userData)||void 0===s?void 0:s.personalDetails)||void 0===a?void 0:a.name)||void 0===c?void 0:c.lastName)?null===(d=null===(u=null===(l=this.userData)||void 0===l?void 0:l.personalDetails)||void 0===u?void 0:u.name)||void 0===d?void 0:d.lastName[0]:""))}onVivaCashTermsValidation(){if(this.userData){const e=this.userData.terms.find(e=>e.type===pn.a.VivaCash);e&&(e.promptTerms?this.modalSvc.open(this.vivaCashTermsModalId):this.goToPaymentMethods())}}goToPaymentMethods(){this.router.navigate(["profile","payment-methods"])}onVivaCashTermsAccepted(){if(this.userData){const e=this.userData.terms.find(e=>e.type===pn.a.VivaCash);e&&(e.promptTerms=!1,this.goToPaymentMethods())}}openStandbyModal(){this.modalSvc.open(this.standbyModalId)}get _contactUsCopy(){var e,t;if((null===(e=this.userData)||void 0===e?void 0:e.accountType)&&this.specialAccount)switch(null===(t=this.userData)||void 0===t?void 0:t.accountType){case hn.k.Agency:return"PROFILE_LABEL_AGENCIES-ACCOUNT-CONTACT-US";case hn.k.Enterprise:return"PROFILE_LABEL_COMPANY-ACCOUNT-CONTACT-US";case hn.k.Staff:return"PROFILE_LABEL_STAFF-TYPE-CONTACT-US"}}goToDoters(){this.cmsDotersOptOut?this.router.navigate(["profile","doters"]):this.document.location.href="https://www.doters.com"}}return e.\u0275fac=function(t){return new(t||e)(i.Tb($t.a),i.Tb(fn.a),i.Tb(gn.a),i.Tb(qt.a),i.Tb(_n.a),i.Tb(wt.g),i.Tb(gt.e),i.Tb(cn.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-login-profile"]],decls:3,vars:4,consts:[[4,"ngIf"],[3,"showFirst","id","termsAccepted"],[1,"sidebar-header","light","d-flex"],[1,"mr-10","pr-1","pt-40",3,"textContent","avatarId","border"],[1,"pt-40"],[1,"subheader"],[1,"mt-5","mb-5","full-name"],["class","far fa-smile-beam",4,"ngIf"],["class","medium-title",4,"ngIf"],["class","special-login-bar px-40 py-20 d-flex justify-content-between align-items-center",4,"ngIf"],["class","doters-bar px-40 py-10 d-flex justify-content-between align-items-center",3,"ngClass",4,"ngIf"],[1,"sidebar-main"],["class","d-flex flex-row justify-content-between menu-item pb-20",3,"routerLink",4,"ngIf"],["class","d-flex flex-row justify-content-between menu-item pb-20",3,"routerLink","queryParams",4,"ngIf"],["class","d-flex flex-row justify-content-between menu-item pb-20",3,"click",4,"ngIf"],["class","d-flex flex-row justify-content-between menu-item pb-20 no-pointer",4,"ngIf"],[1,"d-flex","flex-row","justify-content-between","menu-item","pb-20",3,"routerLink"],[1,"d-flex"],[1,"h4","menu-icon"],[1,"fas",3,"ngClass"],[1,"h4","mb-5"],[1,"small-title","opacity-5"],[1,"medium-title","green","menu-arrow"],[1,"fas","fa-arrow-right"],["class","mt-auto",4,"ngIf"],[1,"sidebar-footer","text-right"],[1,"viva-btn","tertiary","h-auto","p-0",3,"click"],[1,"far","fa-smile-beam"],[1,"medium-title"],[1,"special-login-bar","px-40","py-20","d-flex","justify-content-between","align-items-center"],[1,"h4"],[1,"small-title"],[1,"doters-bar","px-40","py-10","d-flex","justify-content-between","align-items-center",3,"ngClass"],["width","105px","loading","lazy",1,"mb-1",3,"src","ngClass"],[1,"small-title","text-right"],[1,"doters-fund"],[1,"doters-a","ml-20","d-flex","justify-content-center","align-items-center","cursor-pointer",3,"click"],[1,"fas","fa-arrow-right","fa-sm"],[1,"fas","fa-heart"],["class","small-title opacity-5",4,"ngIf"],[1,"d-flex","flex-row","justify-content-between","menu-item","pb-20",3,"routerLink","queryParams"],[1,"h4","menu-icon","notification"],[1,"fas","fa-ticket"],[1,"h4","menu-icon",3,"ngClass"],[1,"fas","fa-plane","fa-rotate-270"],[1,"d-flex","flex-row","justify-content-between","menu-item","pb-20",3,"click"],[1,"fas","fa-wallet"],[1,"d-flex","flex-row","justify-content-between","menu-item","pb-20","no-pointer"],["width","24","loading","lazy",1,"mb-1",3,"src"],[1,"fas","fa-clock"],[1,"mt-auto"],[1,"rt-paragraph-m-0","login-contact-us",3,"innerHTML"]],template:function(e,t){1&e&&(i.Qc(0,fo,43,38,"ng-container",0),i.Zb(1,"app-viva-cash-terms-modal",1),i.hc("termsAccepted",(function(){return t.onVivaCashTermsAccepted()})),i.Yb(),i.Qc(2,mo,1,0,"app-standby-modal",0)),2&e&&(i.sc("ngIf",t.userDetails),i.Hb(1),i.sc("showFirst",!0)("id",t.vivaCashTermsModalId),i.Hb(1),i.sc("ngIf",t.isStaffUser))},directives:[gt.u,Hi.a,Ui.a,wt.h,gt.r,Gi],pipes:[On.a,gt.G,Un.a,gt.d,Vi.a,gt.f,ii.a],styles:['.sidebar-header[_ngcontent-%COMP%]{height:auto}.sidebar-vivafan[_ngcontent-%COMP%]{background-color:var(--b4);justify-content:space-between;padding:20px 40px}.sidebar-vivafan[_ngcontent-%COMP%], .sidebar-vivafan[_ngcontent-%COMP%]   .vf-title[_ngcontent-%COMP%]{display:flex;align-items:center}.sidebar-main[_ngcontent-%COMP%]{min-height:0;height:calc(100% - 310px);overflow:auto;display:flex;flex-direction:column}@media screen and (max-width:991px){.sidebar-main[_ngcontent-%COMP%]{height:calc(100% - 320px)}}@media screen and (max-width:720px){.sidebar-main[_ngcontent-%COMP%]{height:calc(100% - 277px)}}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{position:relative;cursor:pointer;padding-bottom:20px;margin-bottom:20px}.sidebar-main[_ngcontent-%COMP%]   .menu-item.no-pointer[_ngcontent-%COMP%]{cursor:default}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:after{position:absolute;content:"";bottom:0;left:20px;width:calc(100% - 40px);height:1px;background-color:var(--gr20)}@media screen and (max-width:991px){.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:after{left:0;width:100%}}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{position:relative;width:24px;height:24px;display:flex;justify-content:center;align-items:center;flex:24px 0 0;margin-right:10px;color:var(--bg4)}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-icon.notification[_ngcontent-%COMP%]:after{position:absolute;content:"";top:-2.5px;right:-2.5px;width:5px;height:5px;background-color:var(--r4);border-radius:50%}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]   .fa-heart[_ngcontent-%COMP%]{color:var(--b4)}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-arrow[_ngcontent-%COMP%]{height:100%;align-self:flex-end}.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-arrow[_ngcontent-%COMP%]{color:var(--vg4)}@media screen and (max-width:991px){.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width:991px){.sidebar-main[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .small-title[_ngcontent-%COMP%]{max-width:260px}}.sidebar-footer[_ngcontent-%COMP%]{padding:20px 40px;position:fixed;width:100%;background-color:var(--wh2);bottom:0;left:0}@media screen and (max-width:991px){.sidebar-footer[_ngcontent-%COMP%]{padding:24px 20px;position:relative}}.special-login-bar[_ngcontent-%COMP%]{background-color:var(--bg6)}.special-login-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--wh1)}.doters-bar[_ngcontent-%COMP%]{height:56px;background-color:var(--b-l)}.doters-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--wh1)}.doters-bar[_ngcontent-%COMP%]   .doters-fund[_ngcontent-%COMP%]{margin-top:2px}.doters-bar.level-gold[_ngcontent-%COMP%], .doters-bar.level-green[_ngcontent-%COMP%], .doters-bar.level-silver[_ngcontent-%COMP%]{background-color:#1a1f1f}.doters-a[_ngcontent-%COMP%]{text-decoration:none!important;color:var(--wh1)!important}.green-doter-logo[_ngcontent-%COMP%]{width:80px!important}@media screen and (max-width:720px){.full-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;width:calc(100% - 20px)}}']}),e})();n("kiQV");const vo=function(e){return{loading:e}};function yo(e,t){if(1&e){const e=i.ac();i.Xb(0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Ub(3,"img",3),i.kc(4,"cmsStaticImage"),i.Yb(),i.Zb(5,"div",4),i.Ub(6,"app-avatar",5),i.Zb(7,"div",6),i.Zb(8,"div",7),i.Sc(9),i.kc(10,"cmsTranslate"),i.kc(11,"cmsTranslate"),i.Yb(),i.Zb(12,"h3",8),i.Sc(13),i.kc(14,"titlecase"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(15,"div",9),i.Ub(16,"img",3),i.kc(17,"cmsStaticImage"),i.Yb(),i.Zb(18,"div",10),i.Zb(19,"div",11),i.Sc(20),i.kc(21,"cmsTranslate"),i.Yb(),i.Zb(22,"div",12),i.Sc(23),i.kc(24,"cmsTranslate"),i.Yb(),i.Zb(25,"div",13),i.Zb(26,"ul",14),i.Zb(27,"li",15),i.Sc(28),i.kc(29,"cmsTranslate"),i.Yb(),i.Zb(30,"li",15),i.Sc(31),i.kc(32,"cmsTranslate"),i.Yb(),i.Zb(33,"li",15),i.Sc(34),i.kc(35,"cmsTranslate"),i.Yb(),i.Zb(36,"li",15),i.Sc(37),i.kc(38,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(39,"div",16),i.Zb(40,"button",17),i.hc("click",(function(){return i.Hc(e),i.jc().startDoters()})),i.Zb(41,"span"),i.Sc(42),i.kc(43,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(44,"div",18),i.hc("click",(function(){return i.Hc(e),i.jc().clickTC()})),i.kc(45,"cmsTranslateRichText"),i.Yb(),i.Yb(),i.Wb()}if(2&e){const e=i.jc();i.Hb(3),i.sc("src",i.lc(4,17,"BOOKER_DOTERS_LOGO"),i.Kc),i.Hb(3),i.sc("textContent",e.avatarText)("avatarId",null==e.userData?null:e.userData.avatarId)("border",!0),i.Hb(3),i.Uc(" ",e.gender===e.userGender.Female?i.lc(10,19,"GLOBAL_LABEL_WELCOMING-FEMALE"):i.lc(11,21,"GLOBAL_LABEL_WELCOMING-MALE")," "),i.Hb(4),i.Uc(" ",i.lc(14,23,e.userFullName)," "),i.Hb(3),i.sc("src",i.lc(17,25,"BOOKER_DOTERS_SIDE-ICONS"),i.Kc),i.Hb(4),i.Tc(i.lc(21,27,"BOOKER_LABEL_DOTERS-SIGNUP-TITLE")),i.Hb(3),i.Tc(i.lc(24,29,"BOOKER_LABEL_DOTERS-SIGNUP-SUPPORT")),i.Hb(5),i.Tc(i.lc(29,31,"BOOKER_LABEL_DOTERS-INFO-1")),i.Hb(3),i.Tc(i.lc(32,33,"BOOKER_LABEL_DOTERS-INFO-2")),i.Hb(3),i.Tc(i.lc(35,35,"BOOKER_LABEL_DOTERS-INFO-3")),i.Hb(3),i.Tc(i.lc(38,37,"BOOKER_LABEL_DOTERS-INFO-4")),i.Hb(3),i.sc("disabled",e.isLoading)("ngClass",i.vc(43,vo,e.isLoading)),i.Hb(2),i.Uc(" ",i.lc(43,39,"BOOKER_ACTION_DOTERS-SIGNUP")," "),i.Hb(2),i.sc("innerHTML",i.lc(45,41,"BOOKER_LABEL_DOTERS-TC"),i.Ic)}}let _o=(()=>{class e{constructor(e,t){this.accountApi=e,this.datalayerLoginSvc=t,this.termsAccepted=new i.p,this.userGender=pn.g,this.isLoading=!1}ngOnInit(){}ngOnDestroy(){}get gender(){var e,t,n;return(null===(n=null===(t=null===(e=this.userData)||void 0===e?void 0:e.personalDetails)||void 0===t?void 0:t.gender)||void 0===n?void 0:n.gender)||void 0}get userFullName(){var e,t,n,i;return`\n      ${(null===(t=null===(e=this.userData)||void 0===e?void 0:e.personalDetails)||void 0===t?void 0:t.name.firstName)||""}\n       \n      ${(null===(i=null===(n=this.userData)||void 0===n?void 0:n.personalDetails)||void 0===i?void 0:i.name.lastName)||""}\n    `}get avatarText(){var e,t,n,i,o,r,s,a,c,l,u,d;return""+(((null===(n=null===(t=null===(e=this.userData)||void 0===e?void 0:e.personalDetails)||void 0===t?void 0:t.name)||void 0===n?void 0:n.firstName)?null===(r=null===(o=null===(i=this.userData)||void 0===i?void 0:i.personalDetails)||void 0===o?void 0:o.name)||void 0===r?void 0:r.firstName[0]:"")+((null===(c=null===(a=null===(s=this.userData)||void 0===s?void 0:s.personalDetails)||void 0===a?void 0:a.name)||void 0===c?void 0:c.lastName)?null===(d=null===(u=null===(l=this.userData)||void 0===l?void 0:l.personalDetails)||void 0===u?void 0:u.name)||void 0===d?void 0:d.lastName[0]:""))}startDoters(){this.isLoading=!0,this.datalayerLoginSvc.signUpDoters("click_earn_doters"),this.accountApi.acceptTerms(pn.a.Loyalty).subscribe(e=>{this.isLoading=!1,this.termsAccepted.emit()},e=>{console.error("::AcceptVLoyalityTerms::",e),this.isLoading=!1})}clickTC(){this.datalayerLoginSvc.signUpDoters("click_t&c")}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(Dn.a),i.Tb(bn.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-doters-sidebar"]],inputs:{userData:"userData"},outputs:{termsAccepted:"termsAccepted"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"sidebar-header","light","pb-20"],[1,"mb-30"],["loading","lazy",3,"src"],[1,"d-flex"],[1,"mr-10","pr-1",3,"textContent","avatarId","border"],[1,"d-flex","flex-column"],[1,"subheader"],[1,"mt-5","mb-5"],[1,"doters-side-icons"],[1,"doters-body","p-20","pt-md-40","px-md-40","pt-20","px-20","mb-1"],[1,"h4","mb-10"],[1,"mb-40"],[1,"list-unstyled"],[1,"combo-list","combo-smart"],[1,"included"],[1,"px-md-40","px-20","mb-40"],[1,"viva-btn","action","w-100","mb-20",3,"disabled","ngClass","click"],[1,"text-center",3,"innerHTML","click"]],template:function(e,t){1&e&&i.Qc(0,yo,46,45,"ng-container",0),2&e&&i.sc("ngIf",t.userData)},directives:[gt.u,Ui.a,gt.r],pipes:[Un.a,On.a,gt.G,ii.a],styles:[".sidebar-header[_ngcontent-%COMP%]{height:auto;background-color:var(--b-l)}.doters-side-icons[_ngcontent-%COMP%]{position:absolute;z-index:-1;right:0}@media screen and (max-width:720px){.doters-side-icons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:105px}}@media screen and (max-width:720px){.doters-body[_ngcontent-%COMP%]{overflow:auto;height:calc(100% - 375px)}}"]}),e})();function Co(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",5),i.hc("click",(function(){return i.Hc(e),i.jc().closeModal()})),i.Yb()}}function So(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-login-referral",7),i.hc("referralLogout",(function(){return i.Hc(e),i.jc(2).setLogoutReferral()})),i.Yb()}if(2&e){const e=i.jc(2);i.sc("referralName",e.loginReferralName)("accountType",e.loginType)}}function Oo(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-login-form",10),i.hc("returnToNormalLogin",(function(){return i.Hc(e),i.jc(3).setDefaultLogin()}))("justLoggedIn",(function(){return i.Hc(e),i.jc(3).onLoggedIn()})),i.Yb()}if(2&e){const e=i.jc(3);i.sc("loginType",e.loginType)("guestFeeStyle",e.guestFeeLogin)}}function To(e,t){1&e&&i.Ub(0,"app-login-profile")}function wo(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-doters-sidebar",11),i.hc("termsAccepted",(function(){return i.Hc(e),i.jc(3).acceptDoters()})),i.Yb()}if(2&e){const e=i.jc(3);i.sc("userData",e.userData)}}function ko(e,t){if(1&e&&(i.Xb(0),i.Qc(1,Oo,1,2,"app-login-form",8),i.Qc(2,To,1,0,"app-login-profile",4),i.Qc(3,wo,1,1,"app-doters-sidebar",9),i.Wb()),2&e){const e=i.jc(2);i.Hb(1),i.sc("ngIf",!e.isLoggedIn&&e.showLoginForm),i.Hb(1),i.sc("ngIf",e.isLoggedIn&&!(e.showDotersTerms||e.dotersNotAccepted)),i.Hb(1),i.sc("ngIf",e.isLoggedIn&&(e.showDotersTerms||e.dotersNotAccepted))}}function Ao(e,t){if(1&e&&(i.Xb(0),i.Qc(1,So,1,2,"app-login-referral",6),i.Qc(2,ko,4,3,"ng-container",4),i.Wb()),2&e){const e=i.jc();i.Hb(1),i.sc("ngIf",e.loginReferralName),i.Hb(1),i.sc("ngIf",!e.loginReferralName)}}const Eo=function(e){return{"sb-open":e}};let Mo=(()=>{class e{constructor(e,t,n,i,o,r,s,a,c,l,u){this.modalService=e,this.auth=t,this.router=n,this.route=i,this.platformId=o,this.dotersService=r,this.document=s,this.datalayerLoginSvc=a,this.config=c,this.sidebarService=l,this.ssoSvc=u,this.isLoggedIn=!1,this.showModal=!1,this.showAnimation=!0,this.showLoginForm=!1,this.isLoading=!0,this.authDataSub=Wt.a.EMPTY,this.routerEventsSub=Wt.a.EMPTY,this.userDataSub=Wt.a.EMPTY,this.dotersNotAccepted=!1,this.showDotersTerms=!1,this.dotersTermsSub=Wt.a.EMPTY,this.cmsDoters=!1,this.justLoggedInFlag=!1,this.guestFeeLogin=!1,this.useSingleSignOn=!1,this.auth.onSyncDonePromise.then(()=>{this.isLoading=!1}),this.authDataSub=this.auth.userDetails$.subscribe(e=>{this.isLoggedIn=this.auth.isLoggedIn,this.isLoggedIn&&(localStorage.setItem("dotersTermsSeen","true"),this.loginReferralName&&this.auth.doLogout(!1))}),this.cmsDoters=this.config.getSectionFeatureValue(jt.b.GLOBAL,jt.a.Doters),this.useSingleSignOn=this.config.getSectionFeatureValue(jt.b.GLOBAL,jt.a.SingleSignOn)||!1}ngOnInit(){this.userDataSub=this.auth.userAccountData$.subscribe(e=>{var t,n,i;this.userData=e,this.onDotersTermsValidation(),(null===(t=this.userData)||void 0===t?void 0:t.accountType)!==hn.k.Agency&&(null===(n=this.userData)||void 0===n?void 0:n.accountType)!==hn.k.Enterprise&&(null===(i=this.userData)||void 0===i?void 0:i.accountType)!==hn.k.Staff&&this.cmsDoters||(this.dotersNotAccepted=!1,this.showDotersTerms=!1)}),this.modalService.showModal$.subscribe(e=>{this.document.body.classList.add("open-modal"),this.showAnimation=e.animation,this.showModal=e.open,e&&(this.showLoginForm=!0,this.setLoginVariant())}),this.dotersTermsSub=this.dotersService.showDotersTerms$.subscribe(e=>{this.cmsDoters&&(this.showDotersTerms=e)}),this.routerEventsSub=this.router.events.subscribe(e=>{e instanceof wt.c&&(this.modalService.closeModal(),this.setLoginVariant())}),this.route.queryParams.pipe(Object(Ft.a)(e=>e.showLogin),Object(Ht.a)(1)).subscribe(e=>{e&&e.showLogin&&"true"===e.showLogin&&(this.document.body.classList.add("open-modal"),Object(Dt.a)(0).subscribe(()=>this.modalService.openModal()))})}ngOnDestroy(){this.authDataSub.closed||this.authDataSub.unsubscribe(),this.routerEventsSub.closed||this.routerEventsSub.unsubscribe(),this.userDataSub.closed||this.userDataSub.unsubscribe(),this.dotersTermsSub.closed||this.dotersTermsSub.unsubscribe()}closeModal(){this.document.body.classList.remove("open-modal"),this.modalService.closeModal(),(this.dotersNotAccepted||this.showDotersTerms)&&(this.datalayerLoginSvc.signUpDoters("click_close_modal"),this.dotersNotAccepted&&(Object(Dt.a)(200).subscribe(()=>this.dotersNotAccepted=!1),localStorage.setItem("dotersTermsSeen","true")),this.showDotersTerms&&Object(Dt.a)(100).subscribe(()=>this.dotersService.dotersSidebar(!1))),this.dotersService.dotersToogle(!1)}setLoginVariant(){var e;const t=this.route.snapshot.queryParamMap;this.loginType=null;let n=null,i=null;Object(gt.L)(this.platformId)&&(n=localStorage.getItem("specialLoginType"),i=sessionStorage.getItem("loginReferral")),t.has("loginType")?(this.loginType=this.specialLoginTypeVariant(t.get("loginType")),Object(gt.L)(this.platformId)&&this.loginType&&(localStorage.setItem("specialLoginType",this.loginType),t.has("bookingRule")||(this.router.navigate([],{relativeTo:this.route,queryParams:{loginType:null}}),this.auth.doLogout(!1)),!t.has("referral")||this.loginType!==hn.k.Agency&&this.loginType!==hn.k.Enterprise||(this.loginReferralName=t.get("referral"),this.auth._referralLogin=this.loginReferralName,sessionStorage.setItem("loginReferral",this.loginReferralName)))):n&&(this.loginType=this.specialLoginTypeVariant(n),!i||this.loginType!==hn.k.Agency&&this.loginType!==hn.k.Enterprise||(!this.auth.isLoggedIn&&this.loginReferralName||this.auth.doLogout(!1),this.loginReferralName=i,this.auth._referralLogin=this.loginReferralName)),this.guestFeeLogin=this.sidebarService.showNewAccountSidebar(this.userData&&this.isLoggedIn?null===(e=this.userData)||void 0===e?void 0:e.accountType:hn.k.Anonymous)&&!this.loginType}specialLoginTypeVariant(e){switch(e){case"Agency":return hn.k.Agency;case"Enterprise":return hn.k.Enterprise;case"Staff":return hn.k.Staff;default:return null}}setDefaultLogin(){this.loginType=null,Object(gt.L)(this.platformId)&&localStorage.removeItem("specialLoginType"),this.useSingleSignOn&&"/"===this.router.url&&(this.closeModal(),this.ssoSvc.emitPopOverChange(!0))}setLogoutReferral(){this.loginReferralName=null,this.auth._referralLogin=null,Object(gt.L)(this.platformId)&&sessionStorage.removeItem("loginReferral"),this.router.navigate([""])}onDotersTermsValidation(){var e,t;if(this.dotersNotAccepted=!1,this.userData&&this.cmsDoters&&(!localStorage.getItem("dotersTermsSeen")||"false"===localStorage.getItem("dotersTermsSeen"))&&this.userData.accountType!==hn.k.Agency&&this.userData.accountType!==hn.k.Enterprise&&this.userData.accountType!==hn.k.Staff&&!sessionStorage.getItem("loginReferral")){const n=null===(t=null===(e=this.userData)||void 0===e?void 0:e.terms)||void 0===t?void 0:t.find(e=>e.type===pn.a.Loyalty);n&&n.promptTerms&&(this.dotersNotAccepted=!0,this.justLoggedInFlag&&(this.modalService.openModal(),this.justLoggedInFlag=!1))}}acceptDoters(){var e,t;if(this.dotersNotAccepted=!1,localStorage.setItem("dotersTermsSeen","true"),this.userData){const n=null===(t=null===(e=this.userData)||void 0===e?void 0:e.terms)||void 0===t?void 0:t.find(e=>e.type===pn.a.Loyalty);n&&(n.promptTerms=!1),this.dotersService.emitAcceptedTerms()}this.dotersService.dotersSidebar(!1)}onLoggedIn(){this.justLoggedInFlag=!0,localStorage.setItem("dotersTermsSeen","false")}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(gn.a),i.Tb(fn.a),i.Tb(wt.g),i.Tb(wt.a),i.Tb(i.G),i.Tb(mn.a),i.Tb(gt.e),i.Tb(bn.a),i.Tb($t.a),i.Tb(vn.a),i.Tb(yn.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-login-sidebar"]],decls:7,vars:7,consts:[["class","overlay",3,"click",4,"ngIf"],[1,"sidebar-container",3,"ngClass"],[1,"modal-close","green",3,"click"],[1,"fas","fa-times"],[4,"ngIf"],[1,"overlay",3,"click"],[3,"referralName","accountType","referralLogout",4,"ngIf"],[3,"referralName","accountType","referralLogout"],[3,"loginType","guestFeeStyle","returnToNormalLogin","justLoggedIn",4,"ngIf"],[3,"userData","termsAccepted",4,"ngIf"],[3,"loginType","guestFeeStyle","returnToNormalLogin","justLoggedIn"],[3,"userData","termsAccepted"]],template:function(e,t){1&e&&(i.Qc(0,Co,1,0,"div",0),i.Zb(1,"div",1),i.Zb(2,"button",2),i.hc("click",(function(){return t.closeModal()})),i.Ub(3,"i",3),i.Yb(),i.Qc(4,Ao,3,2,"ng-container",4),i.Yb(),i.Ub(5,"app-staff-confirmation-modal"),i.Ub(6,"app-user-incomplete-modal")),2&e&&(i.sc("ngIf",t.showModal),i.Hb(1),i.sc("ngClass",i.vc(5,Eo,t.showModal))("@.disabled",!t.showAnimation)("@openSidebar",t.showModal),i.Hb(3),i.sc("ngIf",!t.isLoading))},directives:[gt.u,gt.r,wn,Hn,Yn,Ni,bo,_o],styles:[".sidebar-container[_ngcontent-%COMP%]{height:100%;min-height:auto}.overlay[_ngcontent-%COMP%]{z-index:16}@media only screen and (max-width:800px){.sidebar-container[_ngcontent-%COMP%]{min-height:-webkit-fill-available;bottom:auto;max-width:480px;width:100%;overflow:hidden}}"],data:{animation:[dn.a.openSidebar]}}),e})();var Po=n("zP0r"),Do=n("nnIW");const xo={openSidebar:Object(h.n)("openSidebar",[Object(h.k)("false",Object(h.l)({transform:"translateX(100%)"})),Object(h.k)("true",Object(h.l)({transform:"translateX(0)"})),Object(h.m)("true <=> false",[Object(h.e)(".3s cubic-bezier(0.165, 0.84, 0.44, 1)")])])};var Io=n("T6cn"),Lo=n("E50d"),Ro=n("y673"),No=n("WXp3");function jo(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",8),i.hc("click",(function(){return i.Hc(e),i.jc().closeSidebar()})),i.Yb()}}function Bo(e,t){if(1&e&&i.Ub(0,"app-flight-alert",15),2&e){const e=i.jc(4);i.sc("alertData",e.expiredBasketAlert)("noRounded",!0)("noMargin",!0)("noClose",!0)}}function Fo(e,t){if(1&e){const e=i.ac();i.Zb(0,"div"),i.Qc(1,Bo,1,4,"app-flight-alert",12),i.Zb(2,"div",13),i.Zb(3,"button",14),i.hc("click",(function(){return i.Hc(e),i.jc(3).updateSearch()})),i.Zb(4,"span"),i.Sc(5),i.kc(6,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&e){const e=i.jc(3);i.Hb(1),i.sc("ngIf",e.expiredBasketAlert),i.Hb(4),i.Uc(" ",i.lc(6,2,"BOOKER_ACTION_UPDATE-SEARCH")," ")}}function Ho(e,t){if(1&e){const e=i.ac();i.Xb(0),i.Zb(1,"div",10),i.Qc(2,Fo,7,4,"div",6),i.Zb(3,"app-basket-details-container",11),i.hc("basketPay",(function(){return i.Hc(e),i.jc(2).payBasket()}))("tuaAdd",(function(){return i.Hc(e),i.jc(2).addTuaToBasket()})),i.Yb(),i.Yb(),i.Wb()}if(2&e){const e=i.jc(2);i.Hb(2),i.sc("ngIf",!e.basketIsActive),i.Hb(1),i.sc("showContinueButton",!e.insideBasketFlow)("sidebarContainer",!0)("fullBasket",e.fullBasket)("extraCharges",e.extraCharges)("tuaNotIncludedAlert",e.tuaNotIncludedAlert)("tuaAmount",e.tuaAmount)("canPay",e.canPayBasket)("isIropFlow",e.isIropFlow)}}function Uo(e,t){if(1&e&&(i.Xb(0),i.Qc(1,Ho,4,9,"ng-container",9),i.Wb()),2&e){const e=i.jc(),t=i.Ec(10);i.Hb(1),i.sc("ngIf",null==e.fullBasket?null:e.fullBasket.basket)("ngIfElse",t)}}function Yo(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",16),i.Zb(1,"div",17),i.Zb(2,"div",18),i.Zb(3,"div",19),i.Sc(4),i.kc(5,"cmsTranslate"),i.Yb(),i.Zb(6,"div",20),i.Sc(7),i.kc(8,"cmsTranslate"),i.Yb(),i.Zb(9,"div",21),i.Zb(10,"button",22),i.hc("click",(function(){return i.Hc(e),i.jc().closeSidebar()})),i.Zb(11,"span",23),i.Sc(12),i.kc(13,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()}2&e&&(i.Hb(4),i.Uc(" ",i.lc(5,3,"BOOKER_LABEL_SHOPPING-CART-EMPTY")," "),i.Hb(3),i.Uc(" ",i.lc(8,5,"BOOKER_LABEL_EMPTYCART-SUPPORT")," "),i.Hb(5),i.Uc(" ",i.lc(13,7,"BOOKER_ACTION_START-BOOKING")," "))}const Go=function(e){return{"sb-open":e}};let Vo=(()=>{class e{constructor(e,t,n,i,o,r,s,a){this.basketService=e,this.router=t,this.route=n,this.flightAlertsSvc=i,this.sidebarSvc=o,this.utilsSvc=r,this.bookingParams=s,this.breadcrumbSvc=a,this.tuaAmount=0,this.basketSubscription=Wt.a.EMPTY,this.sideBarToggleSubscription=Wt.a.EMPTY,this.routeNavigationSubscription=Wt.a.EMPTY,this.basketIsActive=!1,this.showSidebar=!1,this.openSidebarOnPassive=!1,this.canPayBasket=!1,this.extraChargesObj={},this.extraCharges=[],this.manageChargesSubscription=Wt.a.EMPTY,this.routerFlowDetectSubscription=Wt.a.EMPTY,this.insideBasketFlow=!1,this.isIropFlow=!1,this.flightAlertsSvc.ready.then(()=>{this.expiredBasketAlert=this.flightAlertsSvc.getAlert("SIDEBAR_BASKET-PASSIVE"),this.tuaNotIncludedAlert=this.flightAlertsSvc.getAlert("SIDEBAR_TUA-NOT-ADDED")})}ngOnInit(){this.startSubscriptions(),this.generateExtraChargesArray()}ngOnDestroy(){this.basketSubscription.closed||this.basketSubscription.unsubscribe(),this.sideBarToggleSubscription.closed||this.sideBarToggleSubscription.unsubscribe(),this.routeNavigationSubscription.closed||this.routeNavigationSubscription.unsubscribe(),this.manageChargesSubscription.closed||this.manageChargesSubscription.unsubscribe(),this.routerFlowDetectSubscription.closed||this.routerFlowDetectSubscription.unsubscribe()}startSubscriptions(){this.basketSubscription=this.basketService.fullBasket$.subscribe(e=>{var t,n,i,o;this.fullBasket=e,(null===(t=this.fullBasket)||void 0===t?void 0:t.basket)?(this.basketIsActive=this.fullBasket.basket.status===Bi.d.Active,this.canPayBasket=this.canPay,this.isIropFlow=null===(o=null===(i=null===(n=this.fullBasket)||void 0===n?void 0:n.basket)||void 0===i?void 0:i.customFields)||void 0===o?void 0:o.allowIropAccess,this.basketIsActive?(this.openSidebarOnPassive=!1,this.tuaAmount=(null==e?void 0:e.basketBooking)?Math.ceil(this.getTuaPrice(e.basketBooking)):0):this.tuaAmount=0,!this.basketIsActive&&this.openSidebarOnPassive&&this.sidebarSvc.openSidebar()):(this.basketIsActive=!1,this.canPayBasket=!1)}),this.sideBarToggleSubscription=this.sidebarSvc.showSidebar$.subscribe(e=>{this.showSidebar=e,this.showSidebar&&this.openSidebarOnPassive&&(this.openSidebarOnPassive=!1)}),this.handleBasketDisplayByRoute(),this.routeNavigationSubscription=this.router.events.pipe(Object(Ft.a)(e=>e instanceof wt.c),Object(Po.a)(1)).subscribe(e=>{e instanceof wt.c&&this.showSidebar&&this.closeSidebar()}),this.openOnPassiveBasket(),this.onManageExtraCharges()}updateSearch(){var e,t,n,i,o,r,s;(null===(e=this.fullBasket)||void 0===e?void 0:e.basket)&&(null===(n=null===(t=this.fullBasket)||void 0===t?void 0:t.basket)||void 0===n?void 0:n.travel)&&(null===(o=null===(i=this.fullBasket)||void 0===i?void 0:i.basket)||void 0===o?void 0:o.travel.journeys)&&(null===(s=null===(r=this.fullBasket)||void 0===r?void 0:r.basket)||void 0===s?void 0:s.travel.passengers)?this.bookingParams.getBasketBookingParams(this.fullBasket.basket).then(e=>{if(e){const t=this.bookingParams.createFlightSearchParams(e);this.router.url.includes("book/options")?this.router.navigate([],{relativeTo:this.route,queryParams:Object.assign({},t)}).then(()=>{window.location.reload()}):this.router.navigate(["book","options"],{queryParams:Object.assign({},t)})}else this.router.navigate([""])}):this.router.navigate([""])}addTuaToBasket(){console.log("TODO")}payBasket(){this.insideBasketFlow?this.canPay&&(this.canPayBasket=!1,this.breadcrumbSvc.navigateToStep(!0,Xt.f.Payment),this.sidebarSvc.closeSidebar()):this.router.navigate(this.fullBasket.basket.flowType===Xt.b.Manage?["manage","review"]:this.fullBasket.basket.flowType===Xt.b.CheckIn?["check-in","review"]:["book","resume"])}get canPay(){return!(!this.basketIsActive||!this.fullBasket.basket.dynamicFlow)&&this.fullBasket.basket.dynamicFlow.steps.findIndex(e=>e.name===this.fullBasket.basket.dynamicFlow.currentStep)>this.fullBasket.basket.dynamicFlow.steps.findIndex(e=>e.name===Xt.f.Passengers)}closeSidebar(){this.sidebarSvc.closeSidebar()}openOnPassiveBasket(){this.router.events.pipe(Object(Ft.a)(e=>e instanceof wt.e),Object(Ht.a)(1)).subscribe(e=>{var t;const n=null===(t=this.router.parseUrl(e.url).root.children[wt.f])||void 0===t?void 0:t.segments;n&&(!this.utilsSvc.isInsideSegment(n,"book")||this.utilsSvc.isInsideSegment(n,"confirmation")||this.utilsSvc.isInsideSegment(n,"options")||this.utilsSvc.isInsideSegment(n,"calendar")||(this.openSidebarOnPassive=!0))})}handleBasketDisplayByRoute(){this.routerFlowDetectSubscription=this.router.events.pipe(Object(Ft.a)(e=>e instanceof wt.c)).subscribe(e=>{var t;const n=null===(t=this.router.parseUrl(e.url).root.children[wt.f])||void 0===t?void 0:t.segments;this.insideBasketFlow=!!n&&this.utilsSvc.isInsideSegment(n,"book")})}onManageExtraCharges(){this.manageChargesSubscription=this.sidebarSvc.manageExtraCharges$.subscribe(e=>{if(e){switch(e.action){case Do.f.ADD:this.extraChargesObj[e.key]=e.charges||[];break;case Do.f.DELETE:delete this.extraChargesObj[e.key]}this.generateExtraChargesArray()}})}generateExtraChargesArray(){if(this.extraCharges=[],this.extraChargesObj)for(const e in this.extraChargesObj)Array.isArray(this.extraChargesObj[e])&&this.extraChargesObj[e].length>0&&(this.extraCharges=this.extraCharges.concat(this.extraChargesObj[e]))}getTuaPrice(e){var t,n,i,o,r,s,a;let c=0;if(Array.isArray(null==e?void 0:e.journeys)&&e.journeys.length>0)for(const l of e.journeys)(null===(t=l.tua)||void 0===t?void 0:t.status)!==hn.j.NotAdded||(null===(o=null===(i=null===(n=this.fullBasket.basket)||void 0===n?void 0:n.customFields)||void 0===i?void 0:i.availabilityJourneyKeys)||void 0===o?void 0:o.length)&&!(null===(a=null===(s=null===(r=this.fullBasket.basket)||void 0===r?void 0:r.customFields)||void 0===s?void 0:s.availabilityJourneyKeys)||void 0===a?void 0:a.find(e=>e===l.key))||(c+=l.tua.amountDue.amount);return c}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(qt.a),i.Tb(wt.g),i.Tb(wt.a),i.Tb(Vn.a),i.Tb(Io.a),i.Tb(cn.a),i.Tb(Lo.a),i.Tb(Ro.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-basket-sidebar"]],decls:11,vars:9,consts:[["class","overlay",3,"click",4,"ngIf"],[1,"sidebar-container",3,"ngClass"],[1,"modal-close","green","d-flex","justify-content-center","align-items-center",3,"click"],[1,"fas","fa-times"],[1,"sidebar-header","px-30","py-20"],[1,"sidebar-title","h2"],[4,"ngIf"],["noBasket",""],[1,"overlay",3,"click"],[4,"ngIf","ngIfElse"],[1,"sidebar-main","p-0"],[3,"showContinueButton","sidebarContainer","fullBasket","extraCharges","tuaNotIncludedAlert","tuaAmount","canPay","isIropFlow","basketPay","tuaAdd"],[3,"alertData","noRounded","noMargin","noClose",4,"ngIf"],[1,"update-search-container"],[1,"viva-btn","primary",3,"click"],[3,"alertData","noRounded","noMargin","noClose"],[1,"container","pr-container"],[1,"row"],[1,"col-12","px-md-60","px-20","d-flex","flex-column","align-items-center","text-center"],[1,"h4","pt-md-80","pt-40","mt-md-60","mt-0","pb-10"],[1,"small-title","opacity-5","pb-md-80","pb-40","mb-md-20","mb-0"],[1,"w-100","pb-40"],[1,"viva-btn","shop","light","btn-280","btn-md-100",3,"click"],[1,"h4"]],template:function(e,t){1&e&&(i.Qc(0,jo,1,0,"div",0),i.Zb(1,"div",1),i.Zb(2,"button",2),i.hc("click",(function(){return t.closeSidebar()})),i.Ub(3,"i",3),i.Yb(),i.Zb(4,"div",4),i.Zb(5,"div",5),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Yb(),i.Qc(8,Uo,2,2,"ng-container",6),i.Yb(),i.Qc(9,Yo,14,9,"ng-template",null,7,i.Rc)),2&e&&(i.sc("ngIf",t.showSidebar),i.Hb(1),i.sc("ngClass",i.vc(7,Go,t.showSidebar))("@openSidebar",t.showSidebar),i.Hb(5),i.Uc(" ",i.lc(7,5,"BOOKER_LABEL_SHOPPING-CART")," "),i.Hb(2),i.sc("ngIf",t.showSidebar))},directives:[gt.u,gt.r,No.a,Wn.a],pipes:[On.a],styles:[".sidebar-header[_ngcontent-%COMP%]{height:100px}@media screen and (max-width:800px){.sidebar-header[_ngcontent-%COMP%]{height:auto}}.update-search-container[_ngcontent-%COMP%]{padding:30px 0;background-color:var(--wh2);text-align:center}.update-search-container[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:350px}@media screen and (max-width:800px){.update-search-container[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:98%}}.sidebar-container[_ngcontent-%COMP%]{background-color:var(--wh1)}"],data:{animation:[xo.openSidebar]}}),e})(),Zo=(()=>{class e{constructor(e){this.sanitizer=e}set json(e){this.jsonLD=this.getSafeHTML(e)}getSafeHTML(e){const t=e?JSON.stringify(e,null,2).replace(/<\/script>/g,"<\\/script>"):"";return this.sanitizer.bypassSecurityTrustHtml(`<script type="application/ld+json">${t}<\/script>`)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Tb)(d.b))},e.\u0275cmp=Object(i.Nb)({type:e,selectors:[["ngx-json-ld"]],hostVars:1,hostBindings:function(e,t){2&e&&Object(i.cc)("innerHTML",t.jsonLD,i.Ic)},inputs:{json:"json"},decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})(),$o=(()=>{class e{}return e.\u0275mod=Object(i.Rb)({type:e}),e.\u0275inj=Object(i.Qb)({factory:function(t){return new(t||e)},imports:[[gt.c]]}),e})();var Wo=n("FE/U");let Ko=(()=>{class e{constructor(e,t){this.platform=e,this.srcChannel=t}isAppInstalled(){return Object(Pt.a)(this,void 0,void 0,(function*(){if(this.isAvailableChannel){const e=window.navigator,t=yield null==e?void 0:e.getInstalledRelatedApps();return Object(cn.e)(t)}return!1}))}get isAvailableChannel(){return this.platform.ANDROID&&this.platform.BLINK&&this.platform.isBrowser&&"vivaapp"!==this.srcChannel._currentChannel}get deferredPromptEvent(){var e,t;if(!this.deferredPrompt&&(null===(t=null!==(e=window)&&void 0!==e?e:{})||void 0===t?void 0:t._androidPrompt)){const e=window;this.deferredPrompt=e._androidPrompt,e._androidPrompt=void 0}return this.deferredPrompt}}return e.\u0275fac=function(t){return new(t||e)(i.dc(ln.a),i.dc(Wo.b))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var zo=n("b6Qw");function Qo(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",1),i.Zb(1,"i",2),i.hc("click",(function(){return i.Hc(e),i.jc().closeBanner(!0)})),i.Yb(),i.Ub(2,"img",3),i.kc(3,"cmsStaticImage"),i.Zb(4,"div",4),i.Zb(5,"div",5),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Zb(8,"div",6),i.Sc(9),i.kc(10,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(11,"button",7),i.hc("click",(function(){return i.Hc(e),i.jc().onBannerAction()})),i.Sc(12),i.kc(13,"cmsTranslate"),i.Yb(),i.Yb()}if(2&e){const e=i.jc();i.Hb(2),i.sc("src",i.lc(3,4,"SMART-APP-512"),i.Kc),i.Hb(4),i.Tc(i.lc(7,6,"SMART-APP-LABEL-TITLE")),i.Hb(3),i.Tc(i.lc(10,8,"SMART-APP-LABEL-SUBTITLE")),i.Hb(3),i.Tc(i.lc(13,10,e.appIsInstalled?"SMART-APP_ACTION-OPEN":"SMART-APP_ACTION-INSTALL"))}}let Xo=(()=>{class e{constructor(e,t,n,o,r,s){var a,l,u,d;this.document=e,this.locale=t,this.mobilePromptSrv=n,this.cmsConfig=o,this.cookieService=r,this.router=s,this.bannerIsDisplayed=new i.p,this.showBanner=!1,this.appIsInstalled=!1,this.modalCacheKey=c.g.cacheKeys.COOKIES_ANDROID_BANNER,this.bannerHideDays=.01,this.cmsShowBanner=!1,this.availableRoutes=[],this.routerSubscription=Wt.a.EMPTY,this.cmsShowBanner=this.cmsConfig.getSectionFeatureValue(jt.b.GLOBAL,jt.a.AndroidBanner)||!1,this.bannerHideDays=(null===(l=null===(a=this.cmsConfig._cmsConfig.globalSettings)||void 0===a?void 0:a.androidBannerConfig)||void 0===l?void 0:l.displayInDays)||0,this.availableRoutes=(null===(d=null===(u=this.cmsConfig._cmsConfig.globalSettings)||void 0===u?void 0:u.androidBannerConfig)||void 0===d?void 0:d.routes)||[]}ngOnInit(){this.setBannerControls()}ngOnDestroy(){this.routerSubscription.closed||this.routerSubscription.unsubscribe()}setBannerControls(){return Object(Pt.a)(this,void 0,void 0,(function*(){this.deferredPrompt=this.mobilePromptSrv.deferredPromptEvent,this.appIsInstalled=yield this.mobilePromptSrv.isAppInstalled(),this.routerSubscription=this.router.events.subscribe(e=>{if(e instanceof wt.c){const{url:e}=this.router,t=e.includes("?")?e.indexOf("?"):e.length,n=e.substring(1,t).trim();this._showBanner=!!this.availableRoutes.includes(`/${this.locale.toLowerCase()}/${n}`)&&this.shouldShowBanner()}})}))}onBannerAction(){this.appIsInstalled?this.document.location.href=`app://${c.g.ID_ANDROID}/home`:this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(()=>{this.closeBanner()}))}closeBanner(e=!1){this.deferredPrompt=null,this._showBanner=!1,e&&this.bannerHideDays>0&&!this.haveBannerCookie&&this.cookieService.set(this.modalCacheKey,"true",{expires:this.bannerHideDays,sameSite:"Strict",path:"/"})}get haveBannerCookie(){return this.cookieService.check(this.modalCacheKey)&&"true"===this.cookieService.get(this.modalCacheKey)}set _showBanner(e){this.showBanner=e,this.bannerIsDisplayed.emit(this.showBanner)}shouldShowBanner(){var e;return this.cmsShowBanner&&!this.haveBannerCookie&&(this.appIsInstalled||this.deferredPrompt)&&(null===(e=this.mobilePromptSrv)||void 0===e?void 0:e.isAvailableChannel)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(gt.e),i.Tb(i.y),i.Tb(Ko),i.Tb($t.a),i.Tb(zo.a),i.Tb(wt.g))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-android-banner"]],outputs:{bannerIsDisplayed:"bannerIsDisplayed"},decls:1,vars:1,consts:[["class","android-banner d-flex w-100 viva-card white align-items-center pr-20 py-10",4,"ngIf"],[1,"android-banner","d-flex","w-100","viva-card","white","align-items-center","pr-20","py-10"],[1,"fal","fa-times","p-10","cursor-pointer",3,"click"],["height","50","width","50","loading","lazy","alt","viva icon",3,"src"],[1,"px-10","w-100"],[1,"title"],[1,"regular-text","gray"],[1,"app-button","cursor-pointer",3,"click"]],template:function(e,t){1&e&&i.Qc(0,Qo,14,12,"div",0),2&e&&i.sc("ngIf",t.showBanner)},directives:[gt.u],pipes:[Un.a,On.a],styles:[".android-banner[_ngcontent-%COMP%]{z-index:100;position:fixed;top:0;min-height:72px;border-radius:0}.android-banner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;padding-left:13px!important;padding-right:13px!important}.android-banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:5px}.android-banner[_ngcontent-%COMP%]   .app-button[_ngcontent-%COMP%]{text-transform:none;border:none;min-width:74px;height:27px;background-color:#1877f2;color:var(--wh1);border-radius:100px}"]}),e})();var qo=n("3E0/");function Jo(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",1),i.Zb(1,"div",2),i.Zb(2,"div",3),i.Zb(3,"div",4),i.Zb(4,"div",5),i.Ub(5,"i",6),i.Ub(6,"div",7),i.kc(7,"cmsTranslateRichText"),i.Yb(),i.Yb(),i.Zb(8,"div",8),i.Zb(9,"button",9),i.hc("click",(function(){return i.Hc(e),i.jc().close()})),i.Zb(10,"span"),i.Sc(11),i.kc(12,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()}2&e&&(i.Hb(6),i.sc("innerHtml",i.lc(7,2,"BOOKER_LABEL_COOKIES-POLICY"),i.Ic),i.Hb(5),i.Uc(" ",i.lc(12,4,"GLOBAL_ACTION_ACCEPT")," "))}let er=(()=>{class e{constructor(e,t,n,i){this.cookieService=e,this.platformId=t,this.router=n,this.channelSvc=i,this.modalCacheKey=c.g.cacheKeys.COOKIES_MODAL,this.isOpen=!1,this.expires=60}ngOnInit(){this.checkCookie()}checkCookie(){Object(gt.L)(this.platformId)&&(this.cookieService.check(this.modalCacheKey)||this.router.events.pipe(Object(Ft.a)(e=>e instanceof wt.c),Object(Ht.a)(1)).toPromise().then(e=>{this.isOpen=!0,this.channelSvc.currentChannel$.pipe(Object(qo.a)(100),Object(Ht.a)(1)).toPromise().then(e=>{"vivaapp"===e&&this.close()})}))}close(){this.isOpen=!1,this.cookieService.set(this.modalCacheKey,"true",{expires:this.expires,sameSite:"Strict",path:"/"})}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(zo.a),i.Tb(i.G),i.Tb(wt.g),i.Tb(Wo.b))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-cookies-modal"]],decls:1,vars:1,consts:[["class","cookies-modal",4,"ngIf"],[1,"cookies-modal"],[1,"container","py-3"],[1,"row"],[1,"col-lg-8"],[1,"d-flex","mb-3","mb-lg-0"],[1,"fas","fa-cookie-bite","mr-2","mt-1"],[1,"rt-paragraph-m-0",3,"innerHtml"],[1,"col-lg-4","d-flex","justify-content-lg-end"],[1,"viva-btn","quick-add",3,"click"]],template:function(e,t){1&e&&i.Qc(0,Jo,13,6,"div",0),2&e&&i.sc("ngIf",t.isOpen)},directives:[gt.u],pipes:[ii.a,On.a],styles:[".cookies-modal[_ngcontent-%COMP%]{width:100%;position:fixed;bottom:0;left:0;right:0;border-radius:5px;background-color:var(--wh1);box-shadow:0 2px 8px 0 rgba(var(--bl9-rgb),.18),10px 10px 20px 0 rgba(var(--bl9-rgb),.5);z-index:1}.cookies-modal[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--bg2)}.cookies-modal[_ngcontent-%COMP%]   .quick-add[_ngcontent-%COMP%]{width:140px;display:flex;justify-content:center;align-items:center}.cookies-modal[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .cookies-modal[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--bg4)}"]}),e})();var tr=n("0WuY"),nr=n("9Fhk"),ir=n("f0i7"),or=n("y4gz");let rr=(()=>{class e{constructor(){this.active=!1}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["app-site-search-button"]],inputs:{active:"active"},decls:2,vars:1,consts:[[1,"d-flex","flex-row","align-items-center","justify-content-center","icon-link"],[1,"fas",3,"ngClass"]],template:function(e,t){1&e&&(i.Zb(0,"a",0),i.Ub(1,"i",1),i.Yb()),2&e&&(i.Hb(1),i.sc("ngClass",t.active?"fa-times":"fa-search"))},directives:[gt.r],styles:['.icon-link[_ngcontent-%COMP%]{position:relative;min-width:21px;text-decoration:none}.icon-link[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--bg4);font-size:21px;font-size:17px}.icon-link[_ngcontent-%COMP%]   i.fa-shopping-cart[_ngcontent-%COMP%]{font-size:18px}.icon-link[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--vg4)}.line-button[_ngcontent-%COMP%]{height:33px;padding:0;overflow:visible}.line-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,Arial;font-size:14px;font-weight:500;line-height:21px;color:var(--bg4)}.line-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%], .line-button[_ngcontent-%COMP%]   img.country-flag[_ngcontent-%COMP%]{margin-right:9px}.line-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:20px}.line-button[_ngcontent-%COMP%]   img.country-flag[_ngcontent-%COMP%]{margin-top:2px}.line-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.line-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.line-button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:0}.notification-badge[_ngcontent-%COMP%]:after{right:-6px;top:-8px;background-color:var(--r4)}.notification-badge[_ngcontent-%COMP%]:after, .online-badge[_ngcontent-%COMP%]:after{z-index:2;content:"";position:absolute;width:8px;height:8px;border-radius:50%}.online-badge[_ngcontent-%COMP%]:after{right:0;top:0;background-color:var(--lg4)}']}),e})();var sr=n("ChtM");const ar=function(e){return{active:e}};let cr=(()=>{class e{constructor(e,t){this.locale=e,this.currency=t,this.active=!1,this.currLangStr=""}ngOnInit(){this.currLangStr=this.currencyLanguageString}get currencyLanguageString(){return""+this.currency._selectedCurrency.code}get languageImgPath(){return"GLOBAL_IMAGE_COUNTRY_"+this.locale.getAppLocale().toUpperCase()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(Gt.a),i.Tb(sr.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-curloc-button"]],inputs:{active:"active"},decls:7,vars:7,consts:[[1,"viva-btn","normal","line-button",3,"ngClass"],[1,"content"],["width","20px","height","20px","loading","lazy",1,"country-flag",3,"src"],[1,"line","line-hidden"]],template:function(e,t){1&e&&(i.Zb(0,"button",0),i.Zb(1,"div",1),i.Ub(2,"img",2),i.kc(3,"cmsStaticImage"),i.Zb(4,"span"),i.Sc(5),i.Yb(),i.Yb(),i.Ub(6,"div",3),i.Yb()),2&e&&(i.sc("ngClass",i.vc(5,ar,t.active)),i.Hb(2),i.sc("src",i.lc(3,3,t.languageImgPath),i.Kc),i.Hb(3),i.Tc(t.currLangStr))},directives:[gt.r],pipes:[Un.a],styles:['.icon-link[_ngcontent-%COMP%]{position:relative;min-width:21px;text-decoration:none}.icon-link[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--bg4);font-size:21px;font-size:17px}.icon-link[_ngcontent-%COMP%]   i.fa-shopping-cart[_ngcontent-%COMP%]{font-size:18px}.icon-link[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--vg4)}.line-button[_ngcontent-%COMP%]{height:33px;padding:0;overflow:visible}.line-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,Arial;font-size:14px;font-weight:500;line-height:21px;color:var(--bg4)}.line-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%], .line-button[_ngcontent-%COMP%]   img.country-flag[_ngcontent-%COMP%]{margin-right:9px}.line-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:20px}.line-button[_ngcontent-%COMP%]   img.country-flag[_ngcontent-%COMP%]{margin-top:2px}.line-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.line-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.line-button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:0}.notification-badge[_ngcontent-%COMP%]:after{right:-6px;top:-8px;background-color:var(--r4)}.notification-badge[_ngcontent-%COMP%]:after, .online-badge[_ngcontent-%COMP%]:after{z-index:2;content:"";position:absolute;width:8px;height:8px;border-radius:50%}.online-badge[_ngcontent-%COMP%]:after{right:0;top:0;background-color:var(--lg4)}']}),e})();var lr=n("Kj3r"),ur=n("RKpE"),dr=n("FTgq"),hr=n("/QWi");const pr=function(e){return{"basket-icon":e}};let gr=(()=>{class e{constructor(e,t,n,o){var r,s;this.cmsConfig=e,this.renderer=t,this.basketSvc=n,this.datalayerUxHome=o,this.loginBtn=new i.p,this.closeModal=new i.p,this.modalCounter=0,this.modalCounterLimit=10,this.basketActive=!1,this.modalCounterLimit=(null===(s=null===(r=this.cmsConfig._cmsConfig.globalSettings)||void 0===r?void 0:r.loginInvitationDuration)||void 0===s?void 0:s.visiblePerSeconds)||10}ngOnInit(){var e,t,n,i,o,r;this.initCounter(),this.outsideClickEvt=this.renderer.listen("document","click",e=>this.checkOutsideClick(e)),this.basketActive=(null===(e=this.basketSvc)||void 0===e?void 0:e._basket)&&(null===(n=null===(t=this.basketSvc)||void 0===t?void 0:t._basket)||void 0===n?void 0:n.status)===Bi.d.Active&&!(null===(r=null===(o=null===(i=this.basketSvc)||void 0===i?void 0:i._basket)||void 0===o?void 0:o.travel)||void 0===r?void 0:r.pnr),this.datalayerUxHome.loginInviteClick("view_modal")}ngOnDestroy(){this.outsideClickEvt&&this.outsideClickEvt()}checkOutsideClick(e){var t;(null===(t=null==e?void 0:e.path)||void 0===t?void 0:t.find(e=>{var t;return null===(t=null==e?void 0:e.localName)||void 0===t?void 0:t.includes("app-login-invite-modal")}))||this.onCloseModal()}openLogin(){this.loginBtn.emit(),this.datalayerUxHome.loginInviteClick("click_login")}onCloseModal(e=!1){this.closeModal.emit(),this.stopCounter(),e&&this.datalayerUxHome.loginInviteClick("click_close")}restarCounter(){this.modalCounter=0}stopCounter(){clearInterval(this.modalInterval)}initCounter(){this.modalCounter=0,this.modalInterval=setInterval(()=>{this.modalCounter<=this.modalCounterLimit&&(this.modalCounter++,this.modalCounter===this.modalCounterLimit&&this.onCloseModal())},1e3)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb($t.a),i.Tb(i.I),i.Tb(qt.a),i.Tb(or.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-login-invite-modal"]],outputs:{loginBtn:"loginBtn",closeModal:"closeModal"},decls:16,vars:15,consts:[[1,"tooltip-arrow",3,"ngClass"],[1,"d-flex","flex-column","viva-card","white","shadow","p-20","invitation-card",3,"ngClass","mouseenter","mouseleave","click"],[1,"d-flex","justify-content-end"],[1,"fas","fa-times","cursor-pointer",3,"click"],[1,"title","mt-10"],[1,"mt-10",3,"innerHTML"],[1,"d-flex","justify-content-end","mt-10","pt-1"],[1,"viva-btn","tertiary",3,"click"],[1,"d-flex","align-items-center"],[1,"fas","fa-arrow-right","ml-10"]],template:function(e,t){1&e&&(i.Ub(0,"div",0),i.Zb(1,"div",1),i.hc("mouseenter",(function(){return t.stopCounter()}))("mouseleave",(function(){return t.initCounter()}))("click",(function(){return t.restarCounter()})),i.Zb(2,"div",2),i.Zb(3,"em",3),i.hc("click",(function(){return t.onCloseModal(!0)})),i.Yb(),i.Yb(),i.Zb(4,"div",4),i.Sc(5),i.kc(6,"cmsTranslate"),i.Yb(),i.Ub(7,"div",5),i.kc(8,"cmsTranslateHtml"),i.Zb(9,"div",6),i.Zb(10,"button",7),i.hc("click",(function(){return t.openLogin()})),i.Zb(11,"span",8),i.Zb(12,"span"),i.Sc(13),i.kc(14,"cmsTranslate"),i.Yb(),i.Ub(15,"em",9),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.sc("ngClass",i.vc(11,pr,t.basketActive)),i.Hb(1),i.sc("ngClass",i.vc(13,pr,t.basketActive)),i.Hb(4),i.Tc(i.lc(6,5,"HEADER_LOGIN-SUPPORT-POPUP")),i.Hb(2),i.sc("innerHTML",i.lc(8,7,"BOOKER_LABEL_ACCOUNT-FEATURES-POPUP"),i.Ic),i.Hb(6),i.Uc(" ",i.lc(14,9,"GLOBAL_ACTION_LOGIN")," "))},directives:[gt.r],pipes:[On.a,hr.a],styles:['.invitation-card[_ngcontent-%COMP%]{position:absolute;right:0;width:324px;top:45px}.invitation-card[_ngcontent-%COMP%]   .tertiary[_ngcontent-%COMP%]{height:20px}.invitation-card[_ngcontent-%COMP%]   .tertiary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bg6);font-size:14px}.invitation-card[_ngcontent-%COMP%]   .tertiary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:var(--bg6)}@media screen and (max-width:1240px){.invitation-card[_ngcontent-%COMP%]{right:67px}}@media screen and (max-width:720px){.invitation-card[_ngcontent-%COMP%]{top:52px}}@media screen and (max-width:575px){.invitation-card[_ngcontent-%COMP%]{right:10px;left:10px;width:calc(100% - 20px)}}.tooltip-arrow[_ngcontent-%COMP%]{z-index:1;width:40px;height:37px;position:absolute;overflow:hidden;bottom:-13px;right:4px;pointer-events:none}@media screen and (max-width:1240px){.tooltip-arrow[_ngcontent-%COMP%]{bottom:-24px;right:71px}}@media screen and (max-width:720px){.tooltip-arrow[_ngcontent-%COMP%]{bottom:-31px}}.tooltip-arrow[_ngcontent-%COMP%]:after{content:"";position:absolute;width:20px;height:20px;background:var(--wh1);transform:rotate(45deg);top:32px;left:10px;box-shadow:0 0 0 1px var(--gr25)}.basket-icon[_ngcontent-%COMP%]{margin-right:61px}']}),e})();function fr(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",1),i.Zb(1,"div",2),i.Zb(2,"div",3),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Zb(5,"button",4),i.hc("click",(function(){return i.Hc(e),i.jc().close()})),i.Ub(6,"em",5),i.Yb(),i.Yb(),i.Zb(7,"div",6),i.Zb(8,"div",7),i.Sc(9),i.kc(10,"cmsTranslate"),i.Yb(),i.Ub(11,"div",8),i.kc(12,"cmsTranslateHtml"),i.Zb(13,"button",9),i.hc("click",(function(){return i.Hc(e),i.jc().goToSSOPage()})),i.Zb(14,"span"),i.Sc(15),i.kc(16,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(17,"button",10),i.hc("click",(function(){return i.Hc(e),i.jc().goToSSOPage("signup")})),i.Zb(18,"div",11),i.Zb(19,"span",12),i.Sc(20),i.kc(21,"cmsTranslate"),i.Yb(),i.Ub(22,"em",13),i.Yb(),i.Yb(),i.Ub(23,"hr",14),i.Zb(24,"div",15),i.Sc(25),i.kc(26,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb()}2&e&&(i.Hb(3),i.Uc(" ",i.lc(4,6,"GLOBAL_LABEL_WELCOMING-MALE")," "),i.Hb(6),i.Uc(" ",i.lc(10,8,"HEADER_LOGIN-SUPPORT")," "),i.Hb(2),i.sc("innerHTML",i.lc(12,10,"BOOKER_LABEL_ACCOUNT-FEATURES-POPUP"),i.Ic),i.Hb(4),i.Uc(" ",i.lc(16,12,"GLOBAL_ACTION_LOGIN")," "),i.Hb(5),i.Tc(i.lc(21,14,"BOOKER_ACTION_CREATE-ACCOUNT")),i.Hb(5),i.Uc(" ",i.lc(26,16,"PROFILE_LABEL_REDIRECT-SSO")," "))}let mr=(()=>{class e{constructor(e,t,n){this.ssoSvc=e,this.element=t,this.datalayerLoginSvc=n,this.isOpen=!1}clickOutSide(e){!this.element.nativeElement.contains(e)&&this.isOpen&&this.close(!1)}ngOnInit(){this.ssoSvc.onPopOverToggle$.subscribe(e=>{this.isOpen=e,this.isOpen&&this.datalayerLoginSvc.loginSSOModal("view_modal")})}close(e=!0){this.datalayerLoginSvc.loginSSOModal(e?"click_close":"close_click_outside"),this.ssoSvc.emitPopOverChange(!1)}goToSSOPage(e){this.datalayerLoginSvc.loginSSOModal(e?"click_create_account":"click_login"),this.ssoSvc.goToSSOPage(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(yn.a),i.Tb(i.n),i.Tb(bn.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-sso-popover"]],hostBindings:function(e,t){1&e&&i.hc("mousedown",(function(e){return t.clickOutSide(e.target)}),!1,i.Fc)},decls:1,vars:1,consts:[["class","sso-wrapper viva-card white",4,"ngIf"],[1,"sso-wrapper","viva-card","white"],[1,"header"],[1,"title","light"],[1,"modal-close","green",3,"click"],[1,"fas","fa-times"],[1,"content"],[1,"medium-text","dark","mb-3"],[1,"medium-text","dark","mb-4",3,"innerHTML"],[1,"viva-btn","primary","w-100","d-block","mb-2",3,"click"],[1,"viva-btn","tertiary","d-block","create-account","mx-auto","h-auto","mb-2",3,"click"],[1,"content","d-flex","justify-content-center","p-0"],[1,"small-title","darker"],[1,"fas","fa-arrow-right"],[1,"mt-0","mb-2"],[1,"small-text","gray"]],template:function(e,t){1&e&&i.Qc(0,fr,27,18,"div",0),2&e&&i.sc("ngIf",t.isOpen)},directives:[gt.u],pipes:[On.a,hr.a],styles:['.sso-wrapper[_ngcontent-%COMP%]{width:300px;position:absolute;right:0;top:54px;z-index:1;border:none;overflow:initial;box-shadow:0 4px 4px 0 rgba(0,0,0,.25)}.sso-wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:var(--bg4);height:42px;width:100%;padding-left:25px;padding-right:8px;display:flex;align-items:center;justify-content:space-between;border-radius:5px 5px 0 0}.sso-wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]:before{content:"";position:absolute;height:0;width:0;border-right:20px solid transparent;border-left:20px solid transparent;border-bottom:20px solid var(--bg4);top:-11px;right:3px}@media screen and (max-width:1024px){.sso-wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]:before{right:70px}}.sso-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:20px 25px}@media screen and (max-width:1024px){.sso-wrapper[_ngcontent-%COMP%]{top:40px}}@media screen and (max-width:720px){.sso-wrapper[_ngcontent-%COMP%]{width:100%}}.modal-close[_ngcontent-%COMP%]{position:static;height:20px;width:20px;padding:0}.modal-close[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:11px}.create-account[_ngcontent-%COMP%]   .small-title[_ngcontent-%COMP%]{font-weight:700}.create-account[_ngcontent-%COMP%]   .fa-arrow-right[_ngcontent-%COMP%]{font-size:12px;margin-left:5px;color:var(--bg6)}.viva-btn.primary[_ngcontent-%COMP%]{height:50px}']}),e})();function br(e,t){1&e&&i.Ub(0,"i",6)}function vr(e,t){if(1&e&&(i.Zb(0,"div"),i.Ub(1,"app-avatar",7),i.kc(2,"uppercase"),i.Yb()),2&e){const e=i.jc();i.Hb(1),i.sc("size","medium")("avatarId",null==e.data?null:e.data.avatarId)("textContent",i.lc(2,4,e.nameInitials))("pointer",!0)}}function yr(e,t){1&e&&(i.Zb(0,"span",8),i.Ub(1,"i",9),i.Yb())}function _r(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-login-invite-modal",10),i.hc("loginBtn",(function(){return i.Hc(e),i.jc().openLogin()}))("closeModal",(function(){return i.Hc(e),i.jc().closeInviteModal()})),i.Yb()}}function Cr(e,t){1&e&&i.Ub(0,"app-sso-popover")}const Sr=function(e){return{"online-badge":e}};let Or=(()=>{class e{constructor(e,t,n,i,o,r,s,a,c){var l,u;this.loginSvc=e,this.auth=t,this.responsiveHeaderSvc=n,this.router=i,this.cmsConfig=o,this.cookieService=r,this.platformId=s,this.cobrandModalSvc=a,this.ssoSvc=c,this.isLoggedIn=!1,this.userDataSub=Wt.a.EMPTY,this.authSyncDone=Wt.a.EMPTY,this.loginReferralSub=Wt.a.EMPTY,this.showInviteModalCms=!1,this.isCobrandModalClosed=!1,this.inviteLoginHideDays=.01,this.useSingleSignOn=!1,this.showInviteModalCms=this.cmsConfig.getSectionFeatureValue(jt.b.GLOBAL,jt.a.LoginModalInvitation)||!1,this.inviteLoginHideDays=(null===(u=null===(l=this.cmsConfig._cmsConfig.globalSettings)||void 0===l?void 0:l.loginInvitationDuration)||void 0===u?void 0:u.displayInDays)||0,this.useSingleSignOn=this.cmsConfig.getSectionFeatureValue(jt.b.GLOBAL,jt.a.SingleSignOn)||!1}ngOnInit(){this.authSyncDone=this.auth.onSyncDone.subscribe(e=>{this.isLoggedIn=this.auth.isLoggedIn,Object(gt.L)(this.platformId)&&(this.cookieService.get("hideInviteModal")&&"true"===this.cookieService.get("hideInviteModal")&&0!==this.inviteLoginHideDays||this.isLoggedIn||"/"!==this.router.url||this.showInviteModal||this.loginSvc.inviteModalOnInit||(this.loginSvc.inviteModalOnInit=!0,Object(Dt.a)(2e3).subscribe(()=>{"/"!==this.router.url||sessionStorage.getItem("loginReferral")||(this.loginSvc.inviteModal=!0)})))}),this.loginReferralSub=this.auth.referralLogin$.subscribe(e=>{this.loginReferral=e,this.isLoggedIn=!!this.loginReferral||this.auth.isLoggedIn}),this.userDataSub=this.auth.userAccountData$.subscribe(e=>{this.data=e}),this.router.events.pipe(Object(Ft.a)(e=>e instanceof wt.c),Object(qo.a)(100)).subscribe(e=>{e instanceof wt.c&&"/"!==e.url&&this.showInviteModal&&Object(Dt.a)(1e3).subscribe(()=>{this.closeInviteModal()})}),this.cobrandModalSvc.onCloseModal$.pipe(Object(lr.a)(100)).subscribe(()=>{this.isCobrandModalClosed=!0})}ngOnDestroy(){this.userDataSub.closed||this.userDataSub.unsubscribe(),this.authSyncDone.closed||this.authSyncDone.unsubscribe(),this.loginReferralSub.closed||this.loginReferralSub.unsubscribe()}openLogin(){!this.useSingleSignOn||this.auth.isLoggedIn||"/"!==this.router.url||this.hasSpecialLoginTypeFlag?(this.loginSvc.openModal(),this.responsiveHeaderSvc.closeModal(),this.showInviteModal&&this.closeInviteModal()):this.ssoSvc.emitPopOverChange(!0)}get hasSpecialLoginTypeFlag(){return!!Object(gt.L)(this.platformId)&&!!localStorage.getItem("specialLoginType")}get firstName(){var e,t,n,i,o,r;return(null===(n=null===(t=null===(e=this.data)||void 0===e?void 0:e.personalDetails)||void 0===t?void 0:t.name)||void 0===n?void 0:n.firstName)?null===(r=null===(o=null===(i=this.data)||void 0===i?void 0:i.personalDetails)||void 0===o?void 0:o.name)||void 0===r?void 0:r.firstName.split(" ")[0]:""}get nameInitials(){var e,t,n,i,o,r;return this.loginReferral?this.loginReferral.substring(0,2):(null===(n=null===(t=null===(e=this.data)||void 0===e?void 0:e.personalDetails)||void 0===t?void 0:t.name)||void 0===n?void 0:n.firstName)&&(null===(r=null===(o=null===(i=this.data)||void 0===i?void 0:i.personalDetails)||void 0===o?void 0:o.name)||void 0===r?void 0:r.lastName)?this.data.personalDetails.name.firstName.substring(0,1)+this.data.personalDetails.name.lastName.substring(0,1):"VA"}closeInviteModal(){this.loginSvc.inviteModal=!1,Object(gt.L)(this.platformId)&&(this.cookieService.get("hideInviteModal")&&"true"===this.cookieService.get("hideInviteModal")||this.cookieService.set("hideInviteModal","true",{expires:this.inviteLoginHideDays,sameSite:"Strict",path:"/"}))}get showInviteModal(){return this.loginSvc.inviteModal&&this.showInviteModalCms}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(gn.a),i.Tb(fn.a),i.Tb(ur.a),i.Tb(wt.g),i.Tb($t.a),i.Tb(zo.a),i.Tb(i.G),i.Tb(dr.a),i.Tb(yn.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-header-login"]],decls:8,vars:8,consts:[[1,"icon-link","d-flex","align-items-center",3,"ngClass","click"],["class","fas fa-user",4,"ngIf"],[4,"ngIf"],["class","ml-5 d-inline",4,"ngIf"],[1,"d-none","d-md-block"],[3,"loginBtn","closeModal",4,"ngIf"],[1,"fas","fa-user"],[3,"size","avatarId","textContent","pointer"],[1,"ml-5","d-inline"],[1,"fas","fa-spinner","fa-pulse"],[3,"loginBtn","closeModal"]],template:function(e,t){1&e&&(i.Zb(0,"div"),i.Zb(1,"a",0),i.hc("click",(function(){return t.openLogin()})),i.Qc(2,br,1,0,"i",1),i.Qc(3,vr,3,6,"div",2),i.Qc(4,yr,2,0,"span",3),i.Yb(),i.Zb(5,"div",4),i.Qc(6,_r,1,0,"app-login-invite-modal",5),i.Yb(),i.Yb(),i.Qc(7,Cr,1,0,"app-sso-popover",2)),2&e&&(i.Hb(1),i.sc("ngClass",i.vc(6,Sr,t.isLoggedIn&&t.data)),i.Hb(1),i.sc("ngIf",!t.isLoggedIn),i.Hb(1),i.sc("ngIf",t.isLoggedIn&&(t.data||t.loginReferral)),i.Hb(1),i.sc("ngIf",t.isLoggedIn&&!t.data&&!t.loginReferral),i.Hb(2),i.sc("ngIf",t.showInviteModal&&t.isCobrandModalClosed),i.Hb(1),i.sc("ngIf",t.useSingleSignOn))},directives:[gt.r,gt.u,Ui.a,gr,mr],pipes:[gt.I],styles:['.icon-link[_ngcontent-%COMP%]{position:relative;min-width:21px;text-decoration:none}.icon-link[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--bg4);font-size:21px;font-size:17px}.icon-link[_ngcontent-%COMP%]   i.fa-shopping-cart[_ngcontent-%COMP%]{font-size:18px}.icon-link[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--vg4)}.line-button[_ngcontent-%COMP%]{height:33px;padding:0;overflow:visible}.line-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,Arial;font-size:14px;font-weight:500;line-height:21px;color:var(--bg4)}.line-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%], .line-button[_ngcontent-%COMP%]   img.country-flag[_ngcontent-%COMP%]{margin-right:9px}.line-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:20px}.line-button[_ngcontent-%COMP%]   img.country-flag[_ngcontent-%COMP%]{margin-top:2px}.line-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.line-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.line-button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:0}.notification-badge[_ngcontent-%COMP%]:after{right:-6px;top:-8px;background-color:var(--r4)}.notification-badge[_ngcontent-%COMP%]:after, .online-badge[_ngcontent-%COMP%]:after{z-index:2;content:"";position:absolute;width:8px;height:8px;border-radius:50%}.online-badge[_ngcontent-%COMP%]:after{right:0;top:0;background-color:var(--lg4)}']}),e})();var Tr=n("39vh");function wr(e,t){if(1&e&&(i.Zb(0,"span",4),i.Ub(1,"i"),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb()),2&e){const e=i.jc();i.Hb(1),i.Jb(e.notificationIcon+" mr-10"),i.Hb(1),i.Uc(" ",i.lc(3,3,e.notificationMessage)," ")}}const kr=function(e){return{"notification-badge":e}};let Ar=(()=>{class e{constructor(e,t,n){this.basketSidebarSvc=e,this.basketSvc=t,this.cd=n,this.showBadge=!1,this.basketMsgSubscription=Wt.a.EMPTY,this.basketSubscription=Wt.a.EMPTY,this.tooltipDismissSubscription=Wt.a.EMPTY,this.notificationMessage="",this.notificationIcon="fas fa-cart-arrow-down"}ngOnInit(){this.basketMsgSubscription=this.basketSvc.basketMsgNotify$.subscribe(e=>{var t;e&&(this.notificationMessage=null==e?void 0:e.msg,this.notificationIcon=(null==e?void 0:e.icon)?null==e?void 0:e.icon:"fas fa-cart-arrow-down",this.hideTooltipOnTimer(),null===(t=this.tooltip)||void 0===t||t.show())}),this.basketSubscription=this.basketSvc.basket$.subscribe(e=>{this.showBadge=!!e,this.cd.detectChanges()})}ngOnDestroy(){this.basketSubscription.closed||this.basketSubscription.unsubscribe(),this.basketMsgSubscription.closed||this.basketMsgSubscription.unsubscribe(),this.cancelTooltipDismissal()}cancelTooltipDismissal(){this.tooltipDismissSubscription.closed||this.tooltipDismissSubscription.unsubscribe()}hideTooltipOnTimer(){this.cancelTooltipDismissal(),this.tooltipDismissSubscription=Object(Dt.a)(3e3).subscribe(()=>{var e;null===(e=this.tooltip)||void 0===e||e.hide()})}onButtonClick(){this.basketSidebarSvc.openSidebar()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(Io.a),i.Tb(qt.a),i.Tb(i.i))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-basket-button"]],viewQuery:function(e,t){var n;1&e&&i.Yc(Tr.a,!0),2&e&&i.Dc(n=i.ic())&&(t.tooltip=n.first)},decls:5,vars:7,consts:[[1,"icon-link","position-relative",3,"ngClass","click"],["className","viva-basket",1,"fas","fa-shopping-cart",3,"tippy","placement","trigger","maxWidth"],["tooltip","tippy"],["notify",""],[1,"px-md-10","px-0"]],template:function(e,t){if(1&e&&(i.Zb(0,"a",0),i.hc("click",(function(){return t.onButtonClick()})),i.Ub(1,"i",1,2),i.Yb(),i.Qc(3,wr,4,5,"ng-template",null,3,i.Rc)),2&e){const e=i.Ec(4);i.sc("ngClass",i.vc(5,kr,t.showBadge)),i.Hb(1),i.sc("tippy",e)("placement","bottom-end")("trigger","manual")("maxWidth","auto")}},directives:[gt.r,Tr.a],pipes:[On.a],styles:['.icon-link[_ngcontent-%COMP%]{position:relative;min-width:21px;text-decoration:none}.icon-link[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--bg4);font-size:21px;font-size:17px}.icon-link[_ngcontent-%COMP%]   i.fa-shopping-cart[_ngcontent-%COMP%]{font-size:18px}.icon-link[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--vg4)}.line-button[_ngcontent-%COMP%]{height:33px;padding:0;overflow:visible}.line-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,Arial;font-size:14px;font-weight:500;line-height:21px;color:var(--bg4)}.line-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%], .line-button[_ngcontent-%COMP%]   img.country-flag[_ngcontent-%COMP%]{margin-right:9px}.line-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:20px}.line-button[_ngcontent-%COMP%]   img.country-flag[_ngcontent-%COMP%]{margin-top:2px}.line-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.line-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.line-button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:0}.notification-badge[_ngcontent-%COMP%]:after{right:-6px;top:-8px;background-color:var(--r4)}.notification-badge[_ngcontent-%COMP%]:after, .online-badge[_ngcontent-%COMP%]:after{z-index:2;content:"";position:absolute;width:8px;height:8px;border-radius:50%}.online-badge[_ngcontent-%COMP%]:after{right:0;top:0;background-color:var(--lg4)}']}),e})();function Er(e,t){1&e&&(i.Zb(0,"app-call-to-action",18),i.kc(1,"cmsStaticCtas"),i.Zb(2,"button",19),i.Zb(3,"span"),i.Sc(4),i.kc(5,"cmsTranslate"),i.Yb(),i.Ub(6,"div",6),i.Yb(),i.Yb()),2&e&&(i.sc("callToAction",i.lc(1,2,"GLOBAL_LABEL_FLIGHT-STATUS")),i.Hb(4),i.Tc(i.lc(5,4,"HEADER_FLIGHTSTATUS")))}const Mr=function(e){return{active:e}};function Pr(e,t){if(1&e){const e=i.ac();i.Zb(0,"button",20),i.hc("click",(function(){i.Hc(e);const t=i.jc();return t.toggleMenu(t.menuIds.FLISTATUS)})),i.Zb(1,"span"),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Ub(4,"div",6),i.Yb()}if(2&e){const e=i.jc();i.sc("ngClass",i.vc(4,Mr,e.isActiveButton(e.menuIds.FLISTATUS))),i.Hb(2),i.Tc(i.lc(3,2,"HEADER_FLIGHTSTATUS"))}}function Dr(e,t){if(1&e&&(i.Zb(0,"app-call-to-action",18),i.Zb(1,"button",19),i.Zb(2,"span"),i.Sc(3),i.Yb(),i.Ub(4,"div",6),i.Yb(),i.Yb()),2&e){const e=t.$implicit;i.sc("callToAction",e.fields),i.Hb(3),i.Uc(" ",e.fields.text,"")}}function xr(e,t){1&e&&(i.Xb(0),i.Ub(1,"div",13),i.Ub(2,"app-basket-button"),i.Wb())}const Ir=function(){return["/"]};let Lr=(()=>{class e{constructor(e,t,n,o){var r;this.datalayerUxHome=e,this.storefrontSvc=t,this.basketSvc=n,this.csmConfig=o,this.menuId=tr.a.INACTIVE,this.menuIsOpen=!1,this.logoImgSrc=nr.b,this.menuOptionClick=new i.p,this.menuIds=tr.a,this.siteLinks=[],this.basketSubscription=Wt.a.EMPTY,this.showBasketContainer=!1,this.showFlightStatusMenu=!1,this.getAdditionalLinks(),this.basketSubscription=this.basketSvc.basket$.subscribe(e=>{var t;this.showBasketContainer=(null==e?void 0:e.status)===Bi.d.Active&&!(null===(t=null==e?void 0:e.travel)||void 0===t?void 0:t.pnr)}),this.showFlightStatusMenu=!(null===(r=this.csmConfig._cmsConfig.globalSettings)||void 0===r?void 0:r.maintenanceMode["flight-status"])||!1}ngOnInit(){}ngOnDestroy(){this.basketSubscription.closed||this.basketSubscription.unsubscribe()}toggleMenu(e){this.datalayerUxHome.clickCurrencyLanguage(e),this.menuOptionClick.emit(e)}isActiveButton(e){return this.menuIsOpen&&this.menuId===e}getAdditionalLinks(){var e,t;return Object(Pt.a)(this,void 0,void 0,(function*(){yield this.storefrontSvc.ready,this.siteLinks=(null===(t=null===(e=this.storefrontSvc.storefrontData.headerNavigation)||void 0===e?void 0:e.find(e=>"SF_HEADER_ADDITIONAL_LINKS"===e.fields.code))||void 0===t?void 0:t.fields.items)||[]}))}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(or.a),i.Tb(Yt.a),i.Tb(qt.a),i.Tb($t.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-main-header"]],inputs:{menuId:"menuId",menuIsOpen:"menuIsOpen",logoImgSrc:"logoImgSrc"},outputs:{menuOptionClick:"menuOptionClick"},decls:39,vars:34,consts:[[1,"header-container","d-flex","flex-row","justify-content-between","align-items-center","w-100"],[1,"d-flex","flex-row","flex-fill"],[1,"header-logo",3,"routerLink"],["alt","VivaAerobus",3,"src"],[1,"d-flex","flex-row","justify-content-start","align-items-center","left-section","hide-sm"],[1,"viva-btn","normal","left-button",3,"ngClass","click"],[1,"line","line-hidden"],[1,"d-flex","flex-row","justify-content-start","align-items-center"],[1,"viva-badge","ml-10","px-10"],[1,"d-flex","flex-row","justify-content-end","align-items-center","right-section","hide-sm"],["class","header-link",3,"callToAction",4,"ngIf"],["class","viva-btn normal right-button",3,"ngClass","click",4,"ngIf"],["class","header-link",3,"callToAction",4,"ngFor","ngForOf"],[1,"header-separator"],[3,"active","click"],[1,"d-flex","flex-row","justify-content-end","align-items-center","right-section"],[1,"header-separator","hide-md"],[4,"ngIf"],[1,"header-link",3,"callToAction"],[1,"viva-btn","normal","right-button"],[1,"viva-btn","normal","right-button",3,"ngClass","click"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"a",2),i.Ub(3,"img",3),i.Yb(),i.Zb(4,"div",4),i.Zb(5,"button",5),i.hc("click",(function(){return t.toggleMenu(t.menuIds.FLIGHT)})),i.Zb(6,"span"),i.Sc(7),i.kc(8,"cmsTranslate"),i.Yb(),i.Ub(9,"div",6),i.Yb(),i.Zb(10,"button",5),i.hc("click",(function(){return t.toggleMenu(t.menuIds.PLANNING)})),i.Zb(11,"span"),i.Sc(12),i.kc(13,"cmsTranslate"),i.Yb(),i.Ub(14,"div",6),i.Yb(),i.Zb(15,"button",5),i.hc("click",(function(){return t.toggleMenu(t.menuIds.RESERVATION)})),i.Zb(16,"div",7),i.Zb(17,"span"),i.Sc(18),i.kc(19,"cmsTranslate"),i.Yb(),i.Zb(20,"div",8),i.Zb(21,"label"),i.Sc(22),i.kc(23,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Ub(24,"div",6),i.Yb(),i.Yb(),i.Yb(),i.Zb(25,"div",9),i.Qc(26,Er,7,6,"app-call-to-action",10),i.Qc(27,Pr,5,6,"button",11),i.Qc(28,Dr,5,2,"app-call-to-action",12),i.kc(29,"slice"),i.Ub(30,"div",13),i.Zb(31,"app-site-search-button",14),i.hc("click",(function(){return t.toggleMenu(t.menuIds.SEARCH)})),i.Yb(),i.Ub(32,"div",13),i.Zb(33,"app-curloc-button",14),i.hc("click",(function(){return t.toggleMenu(t.menuIds.LOCALE)})),i.Yb(),i.Ub(34,"div",13),i.Yb(),i.Zb(35,"div",15),i.Ub(36,"div",16),i.Ub(37,"app-header-login"),i.Qc(38,xr,3,0,"ng-container",17),i.Yb(),i.Yb()),2&e&&(i.Hb(2),i.sc("routerLink",i.uc(27,Ir)),i.Hb(1),i.sc("src",t.logoImgSrc,i.Kc),i.Hb(2),i.sc("ngClass",i.vc(28,Mr,t.isActiveButton(t.menuIds.FLIGHT))),i.Hb(2),i.Tc(i.lc(8,15,"HEADER_BOOK")),i.Hb(3),i.sc("ngClass",i.vc(30,Mr,t.isActiveButton(t.menuIds.PLANNING))),i.Hb(2),i.Tc(i.lc(13,17,"HEADER_PLAN")),i.Hb(3),i.sc("ngClass",i.vc(32,Mr,t.isActiveButton(t.menuIds.RESERVATION))),i.Hb(3),i.Tc(i.lc(19,19,"HEADER_MANAGE")),i.Hb(4),i.Tc(i.lc(23,21,"HEADER_TAG_CHECK-IN")),i.Hb(4),i.sc("ngIf",!t.showFlightStatusMenu),i.Hb(1),i.sc("ngIf",t.showFlightStatusMenu),i.Hb(1),i.sc("ngForOf",i.nc(29,23,t.siteLinks,0,2)),i.Hb(3),i.sc("active",t.isActiveButton(t.menuIds.SEARCH)),i.Hb(2),i.sc("active",t.isActiveButton(t.menuIds.LOCALE)),i.Hb(5),i.sc("ngIf",t.showBasketContainer))},directives:[wt.j,gt.r,gt.u,gt.t,rr,cr,Or,Kn.a,Ar],pipes:[On.a,gt.F,oi.a],styles:[".header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:auto;height:30px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:auto;height:30px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]{height:33px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .viva-badge[_ngcontent-%COMP%]{cursor:pointer;height:21px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .viva-badge[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-size:10px;font-weight:500;line-height:1.5}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:not(:last-child){margin-right:23px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:focus   span[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]{text-decoration:none;margin-left:23px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:var(--bg4);font-size:16px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]{height:33px;padding:0;overflow:visible}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,Arial;font-size:14px;font-weight:500;line-height:21px;color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{margin-right:9px;font-size:20px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:0}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0 20px;width:1px;height:19px;background-color:var(--gr20)}@media screen and (max-width:575px){.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0 15px}}.edit-button[_ngcontent-%COMP%]{overflow:visible;position:relative}.edit-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;bottom:6px;left:-12.5%;width:125%;height:3px;border-radius:1.5px;margin:0;background-color:var(--vg4);opacity:0}.edit-button.active-btn[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .edit-button[_ngcontent-%COMP%]:hover   .line[_ngcontent-%COMP%]{opacity:1}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{justify-content:space-between!important}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   a.alt-header-logo[_ngcontent-%COMP%]{margin-right:0}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   a.alt-header-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:69px;height:auto}.header-container[_ngcontent-%COMP%]   .left-section.logo-res-nav[_ngcontent-%COMP%]{min-width:62px}.header-container[_ngcontent-%COMP%]   .data-res-nav-container[_ngcontent-%COMP%]{min-width:320px;padding-left:15px}}@media screen and (max-width:1240px) and (max-width:575px){.header-container[_ngcontent-%COMP%]   .data-res-nav-container[_ngcontent-%COMP%]{width:100%;min-width:auto;justify-content:space-between!important}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .small-point[_ngcontent-%COMP%]{width:4px;height:4px;margin:5px 3px 5px 5px;background-color:var(--bg4);border-radius:50%}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0;width:1px;height:30px;background-color:var(--gr20)}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .icon-action[_ngcontent-%COMP%]     i{font-size:15px!important}}"]}),e})();const Rr=function(e){return{"android-banner":e}};function Nr(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",2),i.hc("click",(function(){return i.Hc(e),i.jc().closeModal()})),i.Yb()}if(2&e){const e=i.jc();i.sc("ngClass",i.vc(1,Rr,e.isAndroidBannerShown))}}const jr=function(e,t,n){return{"is-headless":e,"sb-open":t,"android-banner":n}},Br=["*"];let Fr=(()=>{class e{constructor(e){this.modalService=e,this.omitHeader=!1,this.showModal=!1,this.isAndroidBannerShown=!1}ngOnInit(){this.modalService.showModal$.subscribe(e=>{this.showModal=e})}closeModal(){this.modalService.closeModal()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(ur.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-responsive-sidebar"]],inputs:{omitHeader:"omitHeader",isAndroidBannerShown:"isAndroidBannerShown"},ngContentSelectors:Br,decls:3,vars:7,consts:[["class","overlay",3,"ngClass","click",4,"ngIf"],[1,"sidebar-container",3,"ngClass"],[1,"overlay",3,"ngClass","click"]],template:function(e,t){1&e&&(i.rc(),i.Qc(0,Nr,1,3,"div",0),i.Zb(1,"div",1),i.qc(2),i.Yb()),2&e&&(i.sc("ngIf",t.showModal),i.Hb(1),i.sc("ngClass",i.xc(3,jr,t.omitHeader,t.showModal,t.isAndroidBannerShown))("@openSidebar",t.showModal))},directives:[gt.u,gt.r],styles:["@media screen and (max-width:575px){.overlay[_ngcontent-%COMP%]{top:60px}.overlay.android-banner[_ngcontent-%COMP%]{top:132px}}.sidebar-container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 76px);overflow-y:auto;overflow-x:hidden}@media screen and (max-width:1240px){.sidebar-container[_ngcontent-%COMP%]{max-width:480px}}@media screen and (max-width:575px){.sidebar-container[_ngcontent-%COMP%]{max-width:100%}}@media screen and (max-width:800px){.sidebar-container[_ngcontent-%COMP%]{height:100%;min-height:auto;overflow-y:auto;overflow-x:hidden}}.sidebar-container.is-headless[_ngcontent-%COMP%]{margin-top:76px;padding-bottom:100px}@media screen and (max-width:800px){.sidebar-container.is-headless[_ngcontent-%COMP%]{margin-top:60px;height:calc(100% - 60px);min-height:auto;overflow-y:auto;overflow-x:hidden}.sidebar-container.is-headless.android-banner[_ngcontent-%COMP%]{margin-top:132px;height:calc(100% - 132px)}}"],data:{animation:[xo.openSidebar]}}),e})();var Hr=n("ddoJ"),Ur=n("1hx3");function Yr(e,t){if(1&e){const e=i.ac();i.Zb(0,"i",4),i.hc("click",(function(){return i.Hc(e),i.jc().onGoBack()})),i.Yb()}}let Gr=(()=>{class e{constructor(e){this.responsiveSidebarSvc=e,this.goBack=new i.p}ngOnInit(){}onGoBack(){this.goBack.emit()}onClose(){this.goBack.emit(),this.responsiveSidebarSvc.closeModal()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(ur.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-responsive-content-header"]],inputs:{title:"title",notReturnBtn:"notReturnBtn"},outputs:{goBack:"goBack"},decls:5,vars:2,consts:[[1,"responsive-content-header","title"],["class","fas fa-arrow-left",3,"click",4,"ngIf"],[1,"flex","flex-fill"],[1,"fas","fa-times",3,"click"],[1,"fas","fa-arrow-left",3,"click"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Qc(1,Yr,1,0,"i",1),i.Zb(2,"div",2),i.Sc(3),i.Yb(),i.Zb(4,"i",3),i.hc("click",(function(){return t.onClose()})),i.Yb(),i.Yb()),2&e&&(i.Hb(1),i.sc("ngIf",!t.notReturnBtn),i.Hb(2),i.Tc(t.title))},directives:[gt.u],styles:[".responsive-content-header[_ngcontent-%COMP%]{height:60px;display:flex;align-items:center;background-color:var(--wh1)}.responsive-content-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 22px}"]}),e})();var Vr=n("iU+o");function Zr(e,t){1&e&&i.Vb(0)}const $r=function(e){return{item:e}};function Wr(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-call-to-action",3),i.Zb(1,"div",4),i.hc("click",(function(){return i.Hc(e),i.jc().emitClose()})),i.Qc(2,Zr,1,0,"ng-container",5),i.Yb(),i.Yb()}if(2&e){const e=i.jc(),t=i.Ec(4);i.sc("callToAction",e.item.fields.callToAction.fields),i.Hb(2),i.sc("ngTemplateOutlet",t)("ngTemplateOutletContext",i.vc(3,$r,e.item))}}function Kr(e,t){1&e&&i.Vb(0)}function zr(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",4),i.hc("click",(function(){i.Hc(e);const t=i.jc();return t.doAction(t.item.fields.label)})),i.Qc(1,Kr,1,0,"ng-container",5),i.Yb()}if(2&e){const e=i.jc(),t=i.Ec(4);i.Hb(1),i.sc("ngTemplateOutlet",t)("ngTemplateOutletContext",i.vc(2,$r,e.item))}}function Qr(e,t){if(1&e&&(i.Zb(0,"div",15),i.Zb(1,"div",16),i.Sc(2),i.Yb(),i.Yb()),2&e){const e=i.jc().item;i.Hb(2),i.Tc(null==e.fields?null:e.fields.priceLabel)}}const Xr=function(){return{fit:"fill",format:"webp",quality:80}};function qr(e,t){if(1&e&&(i.Zb(0,"div",6),i.Ub(1,"img",7),i.kc(2,"cmsImage"),i.Zb(3,"div",8),i.Zb(4,"div",9),i.Zb(5,"div"),i.Zb(6,"div",10),i.Zb(7,"div",11),i.Zb(8,"span",12),i.Sc(9),i.Yb(),i.Yb(),i.Yb(),i.Qc(10,Qr,3,1,"div",13),i.Zb(11,"div",14),i.Sc(12),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&e){const e=t.item;i.Hb(1),i.sc("src",i.mc(2,5,null==e||null==e.fields||null==e.fields.svg?null:e.fields.svg.fields.file.url,i.uc(8,Xr))||"",i.Kc)("alt",null==e.fields?null:e.fields.title),i.Hb(8),i.Uc(" ",null==e.fields?null:e.fields.title," "),i.Hb(1),i.sc("ngIf",null==e.fields?null:e.fields.priceLabel),i.Hb(2),i.Uc(" ",null==e.fields?null:e.fields.subheader," ")}}let Jr=(()=>{class e{constructor(e,t){this.bookerSearch=e,this.router=t,this.mobile=!1,this.menuClose=new i.p}ngOnInit(){}emitClose(){this.menuClose.emit()}doAction(e){this.router.navigate(["/"]),this.bookerSearch.emitBookerSearchTypeValue(e),this.emitClose()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(Ur.a),i.Tb(wt.g))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-reservation-option"]],inputs:{item:"item",mobile:"mobile"},outputs:{menuClose:"menuClose"},decls:5,vars:2,consts:[[3,"callToAction",4,"ngIf"],["class","pr-10 pr-xl-0",3,"click",4,"ngIf"],["buttonContent",""],[3,"callToAction"],[1,"pr-10","pr-xl-0",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"product-card","viva-card","d-flex","flex-column","white","mb-20"],[1,"card-img",3,"src","alt"],[1,"content","px-10","pt-1"],[1,"d-flex","flex-column","justify-content-between","h-100"],[1,"title-container","d-flex","mb-10"],[1,"d-flex","align-items-end"],[1,"title","my-0","dark-site-font"],["class","d-flex mb-1",4,"ngIf"],[1,"medium-title","opacity-8","d-none","d-xl-block"],[1,"d-flex","mb-1"],[1,"subtitle","badge-item","px-10"]],template:function(e,t){1&e&&(i.Xb(0),i.Qc(1,Wr,3,5,"app-call-to-action",0),i.Qc(2,zr,2,4,"div",1),i.Wb(),i.Qc(3,qr,13,9,"ng-template",null,2,i.Rc)),2&e&&(i.Hb(1),i.sc("ngIf",!!t.item.fields.callToAction),i.Hb(1),i.sc("ngIf",!t.item.fields.callToAction))},directives:[gt.u,Kn.a,gt.B],pipes:[Vr.a],styles:[".product-card[_ngcontent-%COMP%]{box-shadow:0 0 5px 0 rgba(0,0,0,.1);cursor:pointer;width:auto;min-height:222px}.product-card[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{height:40px}.product-card[_ngcontent-%COMP%]   .badge-item[_ngcontent-%COMP%]{height:20px;background-color:var(--r4);border-radius:14px;color:var(--wh1)}.product-card[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:var(--bg4)}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media screen and (max-width:1240px){.product-card[_ngcontent-%COMP%]{width:150px;height:175px;min-height:175px}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px}}.product-card[_ngcontent-%COMP%]:hover{box-shadow:0 0 6px 0 rgba(0,0,0,.3)}"]}),e})();function es(e,t){1&e&&i.Ub(0,"app-responsive-content-header",19),2&e&&i.sc("notReturnBtn",!0)}function ts(e,t){if(1&e){const e=i.ac();i.Zb(0,"div"),i.Zb(1,"app-reservation-option",20),i.hc("menuClose",(function(){return i.Hc(e),i.jc().closeMenu()})),i.Yb(),i.Yb()}if(2&e){const e=t.$implicit;i.Hb(1),i.sc("item",e)("mobile",!0)}}function ns(e,t){1&e&&(i.Zb(0,"a",21),i.Zb(1,"h4",13),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Ub(4,"i",12),i.Yb()),2&e&&(i.Hb(2),i.Uc(" ",i.lc(3,1,"HEADER_FLIGHTSTATUS")," "))}function is(e,t){1&e&&(i.Zb(0,"app-call-to-action",22),i.kc(1,"cmsStaticCtas"),i.Zb(2,"h4",13),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Ub(5,"i",12),i.Yb()),2&e&&(i.sc("callToAction",i.lc(1,2,"GLOBAL_LABEL_FLIGHT-STATUS")),i.Hb(3),i.Uc(" ",i.lc(4,4,"HEADER_FLIGHTSTATUS")," "))}function os(e,t){if(1&e&&(i.Zb(0,"app-call-to-action",22),i.Zb(1,"h4",13),i.Sc(2),i.Yb(),i.Ub(3,"i",12),i.Yb()),2&e){const e=t.$implicit;i.sc("callToAction",e.fields),i.Hb(2),i.Uc(" ",e.fields.text," ")}}function rs(e,t){if(1&e&&(i.Zb(0,"app-call-to-action",22),i.Zb(1,"h4",13),i.Sc(2),i.Yb(),i.Ub(3,"i",12),i.Yb()),2&e){const e=t.$implicit;i.sc("callToAction",e.fields),i.Hb(2),i.Uc(" ",e.fields.text," ")}}let ss=(()=>{class e{constructor(e,t,n,o,r){var s;this.router=e,this.responsiveHeaderSvc=t,this.storefront=n,this.bookerSearch=o,this.csmConfig=r,this.menuId=tr.a.INACTIVE,this.menuIsOpen=!1,this.showMobileHeader=!1,this.menuOptionClick=new i.p,this.tabOptions=[],this.menuIds=tr.a,this.siteLinks=[],this.showFlightStatusMenu=!1,this.initSFMenuData(),this.showFlightStatusMenu=!(null===(s=this.csmConfig._cmsConfig.globalSettings)||void 0===s?void 0:s.maintenanceMode["flight-status"])||!1}ngOnInit(){this.router.events.subscribe(e=>{e instanceof wt.c&&this.closeMenu()})}toggleMenu(e){this.menuOptionClick.emit(e)}openLink(e){window.open(e,"_blank")}doAction(e){this.router.navigate(["/"]),this.bookerSearch.emitBookerSearchTypeValue(e),this.closeMenu()}initSFMenuData(){var e,t,n,i;return Object(Pt.a)(this,void 0,void 0,(function*(){yield this.storefront.ready,this.tabOptions=(null===(t=null===(e=this.storefront.storefrontData.headerNavigation)||void 0===e?void 0:e.find(e=>{var t;return(null===(t=e.fields)||void 0===t?void 0:t.code)===Hr.b}))||void 0===t?void 0:t.fields.items)||[],this.siteLinks=(null===(i=null===(n=this.storefront.storefrontData.headerNavigation)||void 0===n?void 0:n.find(e=>"SF_HEADER_ADDITIONAL_LINKS"===e.fields.code))||void 0===i?void 0:i.fields.items)||[]}))}closeMenu(){this.responsiveHeaderSvc.closeModal()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(wt.g),i.Tb(ur.a),i.Tb(Yt.a),i.Tb(Ur.a),i.Tb($t.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-responsive-main-header"]],inputs:{menuId:"menuId",menuIsOpen:"menuIsOpen",showMobileHeader:"showMobileHeader"},outputs:{menuOptionClick:"menuOptionClick"},decls:38,vars:29,consts:[[1,"flex","flex-column"],[3,"notReturnBtn",4,"ngIf"],[1,"flex","flex-column","width-full"],[1,"px-3"],[1,"mb-30"],[1,"flex","overflow-x-auto","pl-3","mb-20"],[4,"ngFor","ngForOf"],[1,"flex","align-items-center","width-full","divider",3,"click"],[1,"flex-fill","mt-3","mb-2","d-flex","align-items-center"],[1,"h4"],[1,"viva-badge","ml-2","small"],[1,"small-title","white"],[1,"fas","fa-arrow-right"],[1,"flex-fill","mt-3","mb-2"],["class","flex align-items-center width-full divider flight-status","routerLink","flight-status",4,"ngIf"],["class","flex width-full divider","ctaClass","d-flex align-items-center w-100",3,"callToAction",4,"ngIf"],["class","flex width-full divider","ctaClass","d-flex align-items-center w-100",3,"callToAction",4,"ngFor","ngForOf"],[1,"flex","align-items-center","width-full","my-20"],[3,"click"],[3,"notReturnBtn"],[3,"item","mobile","menuClose"],["routerLink","flight-status",1,"flex","align-items-center","width-full","divider","flight-status"],["ctaClass","d-flex align-items-center w-100",1,"flex","width-full","divider",3,"callToAction"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Qc(1,es,1,1,"app-responsive-content-header",1),i.Zb(2,"div",2),i.Zb(3,"div",3),i.Zb(4,"h4",4),i.Sc(5),i.kc(6,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(7,"div",5),i.Qc(8,ts,2,2,"div",6),i.Yb(),i.Yb(),i.Zb(9,"div",3),i.Zb(10,"div",7),i.hc("click",(function(){return t.toggleMenu(t.menuIds.RESERVATION)})),i.Zb(11,"div",8),i.Zb(12,"div",9),i.Sc(13),i.kc(14,"cmsTranslate"),i.Yb(),i.Zb(15,"div",10),i.Zb(16,"label",11),i.Sc(17),i.kc(18,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Ub(19,"i",12),i.Yb(),i.Zb(20,"div",7),i.hc("click",(function(){return t.toggleMenu(t.menuIds.PLANNING)})),i.Zb(21,"h4",13),i.Sc(22),i.kc(23,"cmsTranslate"),i.Yb(),i.Ub(24,"i",12),i.Yb(),i.Qc(25,ns,5,3,"a",14),i.Qc(26,is,6,6,"app-call-to-action",15),i.Qc(27,os,4,2,"app-call-to-action",16),i.kc(28,"slice"),i.Zb(29,"div",7),i.hc("click",(function(){return t.toggleMenu(t.menuIds.SEARCH)})),i.Zb(30,"h4",13),i.Sc(31),i.kc(32,"cmsTranslate"),i.Yb(),i.Ub(33,"i",12),i.Yb(),i.Qc(34,rs,4,2,"app-call-to-action",16),i.kc(35,"slice"),i.Zb(36,"div",17),i.Zb(37,"app-curloc-button",18),i.hc("click",(function(){return t.toggleMenu(t.menuIds.LOCALE)})),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(1),i.sc("ngIf",t.showMobileHeader),i.Hb(4),i.Tc(i.lc(6,11,"HEADER_BOOK")),i.Hb(3),i.sc("ngForOf",t.tabOptions),i.Hb(5),i.Uc(" ",i.lc(14,13,"HEADER_MANAGE")," "),i.Hb(4),i.Tc(i.lc(18,15,"HEADER_TAG_CHECK-IN")),i.Hb(5),i.Tc(i.lc(23,17,"HEADER_PLAN")),i.Hb(3),i.sc("ngIf",t.showFlightStatusMenu),i.Hb(1),i.sc("ngIf",!t.showFlightStatusMenu),i.Hb(1),i.sc("ngForOf",i.nc(28,19,t.siteLinks,0,1)),i.Hb(4),i.Uc(" ",i.lc(32,23,"HEADER_SEARCH_TITLE")," "),i.Hb(3),i.sc("ngForOf",i.nc(35,25,t.siteLinks,1,2)))},directives:[gt.u,gt.t,cr,Gr,Jr,wt.j,Kn.a],pipes:[On.a,gt.F,oi.a],styles:[".divider[_ngcontent-%COMP%]{border-bottom:1px solid var(--gr25)}.flight-status[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.viva-badge.small[_ngcontent-%COMP%]{height:20px}"]}),e})();function as(e,t){if(1&e&&(i.Zb(0,"div",1),i.Ub(1,"img",2),i.Zb(2,"div",3),i.Zb(3,"div",4),i.Zb(4,"div",5),i.Sc(5),i.Yb(),i.Zb(6,"div",6),i.Zb(7,"span",7),i.Sc(8),i.kc(9,"date"),i.kc(10,"date"),i.Yb(),i.Zb(11,"span",8),i.Sc(12),i.Yb(),i.Yb(),i.Yb(),i.Zb(13,"div"),i.Zb(14,"div",9),i.Ub(15,"i"),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&e){const e=i.jc();i.Hb(1),i.sc("src",e.reservation.image,i.Kc),i.Hb(4),i.Vc(" ",e.reservation.locations[0],"",e.reservation.locations.length>1?" - "+e.reservation.locations[1]:""," "),i.Hb(3),i.Vc("",i.mc(9,9,e.reservation.dates[0],"d MMM"),"",e.reservation.dates.length>1?" - "+i.mc(10,12,e.reservation.dates[1],"d MMM"):"",""),i.Hb(4),i.Uc("",e.reservation.people," Adulto"),i.Hb(3),i.Kb("fas ",e.reservation.type,"")}}let cs=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["app-responsive-next-flight-card"]],inputs:{reservation:"reservation"},decls:1,vars:1,consts:[["class","reservation-card",4,"ngIf"],[1,"reservation-card"],["alt","travel_img","loading","lazy",1,"reservation-image",3,"src"],[1,"reservation-content","flex","align-items-center"],[1,"flex","flex-column","flex-fill"],[1,"title"],[1,"flex","reservation-dates"],[1,"small-title","mr-2"],[1,"small-title"],[1,"d-flex","flex-row","justify-content-center","align-items-center","icon-container"]],template:function(e,t){1&e&&i.Qc(0,as,16,15,"div",0),2&e&&i.sc("ngIf",t.reservation)},directives:[gt.u],pipes:[gt.f],styles:[".reservation-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:5px;box-shadow:0 0 50px 0 hsla(0,0%,55.3%,.07),0 1px 5px 0 rgba(95,95,95,.07);border:1px solid var(--gr25);background-color:var(--wh1)}.reservation-card[_ngcontent-%COMP%]   .reservation-image[_ngcontent-%COMP%]{height:196px;width:100%;border-top-left-radius:5px;border-top-right-radius:5px;background-repeat:no-repeat;background-size:cover;background-position:50%;background-image:url(https://via.placeholder.com/300x300)}.reservation-card[_ngcontent-%COMP%]   .reservation-content[_ngcontent-%COMP%]{padding:10px 20px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.reservation-card[_ngcontent-%COMP%]   .reservation-content[_ngcontent-%COMP%]   .content-description[_ngcontent-%COMP%], .reservation-card[_ngcontent-%COMP%]   .reservation-content[_ngcontent-%COMP%]   .reservation-dates[_ngcontent-%COMP%]{opacity:.5}.reservation-card[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{border:1px solid var(--wh2);border-radius:50%;background-color:var(--wh2);margin-left:20px;margin-right:-10px;width:60px;height:60px}.reservation-card[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--bg4);font-size:17px}"]}),e})();var ls=n("qo0r");const us=function(){return{quality:80,format:"webp",height:35}},ds=function(){return{quality:80,height:120}};function hs(e,t){if(1&e&&(i.Zb(0,"div",1),i.Zb(1,"div",2),i.kc(2,"lowercase"),i.Zb(3,"div",3),i.Ub(4,"img",4),i.kc(5,"cmsImage"),i.Zb(6,"div",5),i.Sc(7),i.kc(8,"cmsTranslate"),i.Yb(),i.Zb(9,"div",6),i.Zb(10,"div",7),i.Sc(11),i.kc(12,"cmsTranslate"),i.Yb(),i.Zb(13,"div",8),i.Sc(14),i.kc(15,"cmsTranslate"),i.Yb(),i.Zb(16,"app-call-to-action",9),i.Zb(17,"div",10),i.Sc(18),i.Ub(19,"em",11),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Ub(20,"img",12),i.kc(21,"cmsImage"),i.Yb(),i.Yb()),2&e){const e=i.jc();i.Hb(1),i.sc("ngClass",i.lc(2,10,null==e.promotionalBanner?null:e.promotionalBanner.mediaTitle)),i.Hb(3),i.sc("src",i.mc(5,12,null==e.promotionalBanner||null==e.promotionalBanner.headerTagImg||null==e.promotionalBanner.headerTagImg.fields||null==e.promotionalBanner.headerTagImg.fields.file?null:e.promotionalBanner.headerTagImg.fields.file.url,i.uc(24,us))||"",i.Kc)("alt",null==e.promotionalBanner||null==e.promotionalBanner.headerTagImg?null:e.promotionalBanner.headerTagImg.fields.title),i.Hb(3),i.Tc(i.lc(8,15,null==e.promotionalBanner?null:e.promotionalBanner.title)),i.Hb(4),i.Tc(i.lc(12,17,null==e.promotionalBanner?null:e.promotionalBanner.headerTag)),i.Hb(3),i.Tc(i.lc(15,19,null==e.promotionalBanner?null:e.promotionalBanner.text)),i.Hb(2),i.sc("callToAction",null==e.promotionalBanner||null==e.promotionalBanner.callToAction?null:e.promotionalBanner.callToAction.fields),i.Hb(2),i.Uc(" ",null==e.promotionalBanner||null==e.promotionalBanner.callToAction||null==e.promotionalBanner.callToAction.fields?null:e.promotionalBanner.callToAction.fields.text," "),i.Hb(2),i.sc("src",i.mc(21,21,null==e.promotionalBanner||null==e.promotionalBanner.source||null==e.promotionalBanner.source.fields||null==e.promotionalBanner.source.fields.file?null:e.promotionalBanner.source.fields.file.url,i.uc(25,ds))||"",i.Kc)("alt",null==e.promotionalBanner||null==e.promotionalBanner.source?null:e.promotionalBanner.source.fields.title)}}let ps=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["app-promotional-banner-card"]],inputs:{promotionalBanner:"promotionalBanner"},decls:1,vars:1,consts:[["class","viva-card shadow white d-flex justify-content-center",4,"ngIf"],[1,"viva-card","shadow","white","d-flex","justify-content-center"],[1,"d-flex","justify-content-between","align-items-center","banner-card","w-100",3,"ngClass"],[1,"d-flex","flex-column","flex-xl-row","align-items-start","align-items-xl-center","pl-20","pl-xl-0","pt-20","pt-xl-10","pb-0","pb-xl-10","mr-10","mr-xl-0"],["loading","lazy",1,"banner-card-logo","mx-0","mx-xl-60","mb-1","mb-xl-0",3,"src","alt"],[1,"h4","banner-card-title","mr-0","mr-xl-60"],[1,"banner-card-labels","mr-0","mr-xl-20"],[1,"title","d-none","d-xl-block","mb-1","mt-10"],[1,"small-title","opacity-5","d-none","d-xl-block"],["ctaClass","viva-btn tertiary d-flex align-items-center",3,"callToAction"],[1,"link"],[1,"fas","fa-arrow-right","ml-1"],["loading","lazy","height","120",1,"banner-card-img","mt-1","mt-xl-0","mr-0","mr-xl-60",3,"src","alt"]],template:function(e,t){1&e&&i.Qc(0,hs,22,26,"div",0),2&e&&i.sc("ngIf",t.promotionalBanner)},directives:[gt.u,gt.r,Kn.a],pipes:[gt.q,Vr.a,On.a],styles:[".viva-card[_ngcontent-%COMP%]{border-radius:unset}.viva-card[_ngcontent-%COMP%]   .banner-card[_ngcontent-%COMP%]{max-width:1920px}.viva-card[_ngcontent-%COMP%]   .banner-card-logo[_ngcontent-%COMP%]{width:100px}.viva-card[_ngcontent-%COMP%]   .banner-card-title[_ngcontent-%COMP%]{width:388px;font-size:24px!important}.viva-card[_ngcontent-%COMP%]   .banner-card.hsbc_banner[_ngcontent-%COMP%]   .banner-card-labels[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], .viva-card[_ngcontent-%COMP%]   .banner-card.hsbc_banner[_ngcontent-%COMP%]   .banner-card-labels[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:var(--sc-c6)}@media only screen and (max-width:1240px){.viva-card[_ngcontent-%COMP%]   .banner-card-logo[_ngcontent-%COMP%]{width:70px}.viva-card[_ngcontent-%COMP%]   .banner-card-title[_ngcontent-%COMP%]{width:auto;font-size:14px!important;line-height:1.21}.viva-card[_ngcontent-%COMP%]   .banner-card-labels[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], .viva-card[_ngcontent-%COMP%]   .banner-card-labels[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:12px}}"]}),e})();var gs=n("ZCkC");function fs(e,t){if(1&e&&i.Ub(0,"app-flight-checklist",12),2&e){const e=i.jc();i.sc("hasOneColumn",!0)("checklist",e.checklist)}}let ms=(()=>{class e{constructor(e){this.storefront=e,this.goBack=new i.p,this.hasReservation=!0,this.isLoggedIn=!0,this.reservation={image:"https://via.placeholder.com/300x300",type:"fa-plane-departure",locations:["Chicago","Mazatl\xe1n"],dates:[new Date("2020-02-13"),new Date("2020-03-14")],people:1},this.checklist=["HEADER_MANAGE_BULLET-1","HEADER_MANAGE_BULLET-2","HEADER_MANAGE_BULLET-3","HEADER_MANAGE_BULLET-4","HEADER_MANAGE_BULLET-5","HEADER_MANAGE_BULLET-6"],this.initStorefrontEntries()}ngOnInit(){}onGoBack(){this.goBack.emit()}initStorefrontEntries(){var e,t,n;return Object(Pt.a)(this,void 0,void 0,(function*(){yield this.storefront.ready;const i=(null===(n=null===(t=null===(e=this.storefront.storefrontData.headerNavigation)||void 0===e?void 0:e.find(e=>{var t;return"HOMEPAGE_MAINMENU_BANNERS"===(null===(t=e.fields)||void 0===t?void 0:t.code)}))||void 0===t?void 0:t.fields)||void 0===n?void 0:n.items)||[];Array.isArray(i)&&i.length&&(this.promotionalBanner=i[0].fields)}))}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(Yt.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-responsive-flight-check"]],outputs:{goBack:"goBack"},decls:17,vars:11,consts:[[1,"h-100","d-flex","flex-column","justify-content-between"],[3,"title","goBack"],[1,"px-3","flex","flex-column"],[1,"d-none","d-xl-block"],[1,"mt-2"],[3,"reservation"],[1,"mt-30","mt-lg-40"],[3,"isLoggedIn","hasReservation"],[1,"mt-40"],[3,"promotionalBanner"],[1,"px-3","footer","container-fluid","contrast"],[3,"hasOneColumn","checklist",4,"ngIf"],[3,"hasOneColumn","checklist"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div"),i.Zb(2,"app-responsive-content-header",1),i.hc("goBack",(function(){return t.onGoBack()})),i.kc(3,"cmsTranslate"),i.Yb(),i.Zb(4,"div",2),i.Zb(5,"div",3),i.Zb(6,"h4",4),i.Sc(7),i.kc(8,"cmsTranslate"),i.Yb(),i.Ub(9,"app-responsive-next-flight-card",5),i.Yb(),i.Zb(10,"div",6),i.Ub(11,"app-reservation-search-form",7),i.Yb(),i.Yb(),i.Yb(),i.Zb(12,"div"),i.Zb(13,"div",8),i.Ub(14,"app-promotional-banner-card",9),i.Yb(),i.Zb(15,"div",10),i.Qc(16,fs,1,2,"app-flight-checklist",11),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(2),i.sc("title",i.lc(3,7,"HEADER_MANAGE")),i.Hb(5),i.Tc(i.lc(8,9,"HEADER_NEXT_TRIP")),i.Hb(2),i.sc("reservation",t.reservation),i.Hb(2),i.sc("isLoggedIn",t.isLoggedIn)("hasReservation",t.hasReservation),i.Hb(3),i.sc("promotionalBanner",t.promotionalBanner),i.Hb(2),i.sc("ngIf",t.checklist))},directives:[Gr,cs,ls.a,ps,gt.u,gs.a],pipes:[On.a],styles:[".footer[_ngcontent-%COMP%]{background-color:var(--bg4);padding:20px}@media screen and (max-width:991px){.footer[_ngcontent-%COMP%]{padding-bottom:80px!important}}"]}),e})();function bs(e,t){if(1&e&&i.Ub(0,"i"),2&e){const e=i.jc(4).$implicit;i.Jb(e.icon)}}function vs(e,t){if(1&e&&(i.Zb(0,"div",10),i.Qc(1,bs,1,3,"i",11),i.Zb(2,"h4"),i.Sc(3),i.Yb(),i.Yb()),2&e){const e=i.jc(3).$implicit;i.Hb(1),i.sc("ngIf",e.icon),i.Hb(2),i.Tc(e.title)}}function ys(e,t){if(1&e&&(i.Zb(0,"app-call-to-action",12),i.Zb(1,"div",13),i.Zb(2,"span"),i.Sc(3),i.Yb(),i.Ub(4,"i",14),i.Yb(),i.Yb()),2&e){const e=t.$implicit;i.sc("callToAction",e.fields),i.Hb(3),i.Tc(e.fields.text)}}const _s=function(e){return{"offset-xl-1":e}},Cs=function(e){return{"no-title":e}};function Ss(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",6),i.Qc(2,vs,4,2,"div",7),i.Zb(3,"div",8),i.Qc(4,ys,5,2,"app-call-to-action",9),i.Yb(),i.Yb(),i.Wb()),2&e){const e=t.$implicit,n=t.index,o=i.jc(2).index;i.Hb(1),i.sc("ngClass",i.vc(4,_s,0!==o||0!==n)),i.Hb(1),i.sc("ngIf",0===n),i.Hb(1),i.sc("ngClass",i.vc(6,Cs,0!==n)),i.Hb(1),i.sc("ngForOf",e)}}function Os(e,t){if(1&e&&(i.Xb(0),i.Qc(1,Ss,5,8,"ng-container",4),i.Wb()),2&e){const e=i.jc().$implicit;i.Hb(1),i.sc("ngForOf",e.multiArrItems)}}function Ts(e,t){if(1&e&&(i.Xb(0),i.Qc(1,Os,2,1,"ng-container",5),i.Wb()),2&e){const e=t.$implicit;i.Hb(1),i.sc("ngIf",e.multiArrItems)}}function ws(e,t){if(1&e&&(i.Zb(0,"div",3),i.Qc(1,Ts,2,1,"ng-container",4),i.Yb()),2&e){const e=i.jc();i.Hb(1),i.sc("ngForOf",e.menu)}}let ks=(()=>{class e{constructor(e,t){this.utils=e,this.sfSvc=t,this.itemsByCol=5,this.menu=[],this.isMenuReady=!1}ngOnInit(){this.getPlanningMenuEntries()}getPlanningMenuEntries(){this.sfSvc.ready.then(()=>{const e=this.sfSvc.storefrontData.headerNavigation;if(e){const t=e.find(e=>"SF_HEADER_LINKS_PLANNING"===e.fields.code);t&&(this.menu=t.fields.items.map(e=>({title:e.fields.title,icon:e.fields.description,items:e.fields.items})),this.menu=this.menu.map(e=>(e.multiArrItems=this.utils.simpleArrayToMultidimensionalArray(e.items,this.itemsByCol),e)),this.isMenuReady=!0)}})}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(cn.a),i.Tb(Yt.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-planning-menu"]],decls:3,vars:1,consts:[[1,"planning-menu","content-container"],[1,"container"],["class","row bottom-padding",4,"ngIf"],[1,"row","bottom-padding"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-xl-2","submenu",3,"ngClass"],["class","d-flex flex-row justify-content-start align-items-center submenu-title",4,"ngIf"],[3,"ngClass"],["class","d-inline-block submenu-link","ctaClass","viva-btn small height-auto w-100 pa-0",3,"callToAction",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","justify-content-start","align-items-center","submenu-title"],[3,"class",4,"ngIf"],["ctaClass","viva-btn small height-auto w-100 pa-0",1,"d-inline-block","submenu-link",3,"callToAction"],[1,"content"],[1,"fas","fa-arrow-right"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Qc(2,ws,2,1,"div",2),i.Yb(),i.Yb()),2&e&&(i.Hb(2),i.sc("ngIf",t.isMenuReady))},directives:[gt.u,gt.t,gt.r,Kn.a],styles:['.planning-menu.content-container[_ngcontent-%COMP%]{padding:20px 0;background-color:var(--wh2)}@media screen and (max-width:1240px){.planning-menu.content-container[_ngcontent-%COMP%]{padding:0;background-color:var(--wh1)}}@media screen and (max-width:800px){.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]:first-child   .submenu-title[_ngcontent-%COMP%]{margin:20px 0 0}}@media screen and (max-width:800px){.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-title[_ngcontent-%COMP%]{margin:60px 0 0}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0}}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-title[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin:20px 0;line-height:24px}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-title[_ngcontent-%COMP%] > i.fas[_ngcontent-%COMP%]{font-size:15px;color:var(--bg4);margin-right:8px}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .no-title[_ngcontent-%COMP%]{margin-top:64px}@media screen and (max-width:800px){.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .no-title[_ngcontent-%COMP%]{margin-top:10px;border-top:1px solid var(--gr20)}}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]{border-radius:0;position:relative;width:100%}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:left;line-height:18px}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:9px}@media screen and (max-width:1240px){.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:14px}}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]:first-child{padding-top:9px}@media screen and (max-width:800px){.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]:first-child{padding-top:20px}}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]:not(:first-child){padding-top:21.5px}@media screen and (max-width:800px){.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]:not(:first-child){padding-top:20px}}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]:not(:last-child){overflow:visible;padding-bottom:13px}@media screen and (max-width:800px){.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]:not(:last-child){padding-bottom:10px}}.planning-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-link[_ngcontent-%COMP%]:not(:last-child):after{position:absolute;bottom:0;left:0;width:100%;height:1px;background-color:var(--gr20);content:""}']}),e})(),As=(()=>{class e{constructor(){this.goBack=new i.p}ngOnInit(){}onGoBack(){this.goBack.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["app-responsive-planning"]],outputs:{goBack:"goBack"},decls:5,vars:3,consts:[[1,"content"],[3,"title","goBack"],[1,"px-20","pb-3","flex","flex-column","planning-container"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"app-responsive-content-header",1),i.hc("goBack",(function(){return t.onGoBack()})),i.kc(2,"cmsTranslate"),i.Yb(),i.Zb(3,"div",2),i.Ub(4,"app-planning-menu"),i.Yb(),i.Yb()),2&e&&(i.Hb(1),i.sc("title",i.lc(2,1,"HEADER_PLAN")))},directives:[Gr,ks],pipes:[On.a],styles:[".content[_ngcontent-%COMP%]{background-color:var(--wh1)}@media screen and (max-width:991px){.planning-container[_ngcontent-%COMP%]{padding-bottom:100px!important}}"]}),e})();var Es=n("f0Wu"),Ms=n("/XB6"),Ps=n("dc3y"),Ds=n("K6W5"),xs=n("h2JM");let Is=(()=>{class e{constructor(e){this.date=e}transform(e,t=""){return e&&e.codeOrigin&&e.codeDestination&&e.date instanceof Date?`${e.codeOrigin}-${e.codeDestination}, ${this.getDate(e.date,t)}`:""}getDate(e,t){return this.date.transform(e,t)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(gt.f))},e.\u0275pipe=i.Sb({name:"flightStatusSuggestion",type:e,pure:!0}),e})();function Ls(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",6),i.Zb(1,"button",7),i.hc("click",(function(){i.Hc(e);const n=t.$implicit;return i.jc(2).onResultSelect(n)})),i.Zb(2,"div",8),i.Zb(3,"span"),i.Sc(4),i.kc(5,"flightStatusSuggestion"),i.Yb(),i.Ub(6,"i",9),i.Yb(),i.Yb(),i.Yb()}if(2&e){const e=t.$implicit;i.Hb(4),i.Uc(" ",i.mc(5,1,e,"EEEE d MMM")," ")}}function Rs(e,t){if(1&e&&(i.Zb(0,"div",1),i.Qc(1,Ls,7,4,"div",5),i.Yb()),2&e){const e=i.jc();i.Hb(1),i.sc("ngForOf",e.suggestions)}}let Ns=(()=>{class e{constructor(){this.title="",this.suggestions=[],this.suggestionSelect=new i.p}ngOnInit(){}onResultSelect(e){this.suggestionSelect.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["app-flight-status-suggestions"]],inputs:{title:"title",suggestions:"suggestions"},outputs:{suggestionSelect:"suggestionSelect"},decls:7,vars:4,consts:[[1,"container","flight-status-suggestions","px-0"],[1,"row"],[1,"col-xl-12","light"],[1,"title","suggestions-title"],["class","row",4,"ngIf"],["class","col-xl-4",4,"ngFor","ngForOf"],[1,"col-xl-4"],[1,"viva-btn","tertiary","light","suggestion-link",3,"click"],[1,"content"],[1,"fas","fa-arrow-right"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"div",3),i.Sc(4),i.kc(5,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Qc(6,Rs,2,1,"div",4),i.Yb()),2&e&&(i.Hb(4),i.Tc(t.title?i.lc(5,2,t.title):""),i.Hb(2),i.sc("ngIf",t.suggestions))},directives:[gt.u,gt.t],pipes:[On.a,Is],styles:[".flight-status-suggestions[_ngcontent-%COMP%]   .suggestions-title[_ngcontent-%COMP%]{margin:0;opacity:.5}.flight-status-suggestions[_ngcontent-%COMP%]   .suggestion-link[_ngcontent-%COMP%]{padding:0;overflow:visible}@media screen and (max-width:800px){.flight-status-suggestions[_ngcontent-%COMP%]   .suggestion-link[_ngcontent-%COMP%]{width:100%}}.flight-status-suggestions[_ngcontent-%COMP%]   .suggestion-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;text-align:left}.flight-status-suggestions[_ngcontent-%COMP%]   .suggestion-link[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:14px;color:var(--vg4)}"]}),e})();function js(e,t){1&e&&i.Vb(0)}function Bs(e,t){1&e&&i.Vb(0)}function Fs(e,t){1&e&&i.Vb(0)}function Hs(e,t){if(1&e){const e=i.ac();i.Xb(0),i.Zb(1,"div",12),i.Zb(2,"div",13),i.Zb(3,"app-flight-input",14),i.hc("selectedStationsChanged",(function(t){return i.Hc(e),i.jc().selectedRoute(t)}))("savedSearchSelected",(function(t){return i.Hc(e),i.jc().onSuggestionSelect(t)})),i.Yb(),i.Yb(),i.Zb(4,"div",15),i.Qc(5,js,1,0,"ng-container",16),i.Yb(),i.Yb(),i.Zb(6,"div",17),i.Zb(7,"div",13),i.Qc(8,Bs,1,0,"ng-container",16),i.Yb(),i.Zb(9,"div",18),i.Qc(10,Fs,1,0,"ng-container",16),i.Yb(),i.Yb(),i.Wb()}if(2&e){const e=i.jc(),t=i.Ec(15),n=i.Ec(13),o=i.Ec(11);i.Hb(3),i.sc("anticipateBreakpoint",!0)("activeForBookingStationsOnly",!1)("selectedStations",e.selectedStations)("showLastFlightStatusSearch",!0)("activeDirectStationsOnly",!e.showConnections)("useFlightStatusDatalayer",!0),i.Hb(2),i.sc("ngTemplateOutlet",t),i.Hb(3),i.sc("ngTemplateOutlet",n),i.Hb(2),i.sc("ngTemplateOutlet",o)}}function Us(e,t){if(1&e&&(i.Zb(0,"small",31),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e){const e=t.$implicit,n=i.jc(3);i.Hb(1),i.Uc(" ",i.lc(2,1,n.flightErrors[e])," ")}}function Ys(e,t){if(1&e&&(i.Xb(0),i.Qc(1,Us,3,3,"small",30),i.Wb()),2&e){const e=i.jc(2);i.Hb(1),i.sc("ngForOf",e.formErrors)}}function Gs(e,t){1&e&&i.Vb(0)}function Vs(e,t){1&e&&i.Vb(0)}function Zs(e,t){1&e&&i.Vb(0)}function $s(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",19),i.Zb(2,"div",20),i.Zb(3,"div",21),i.Ub(4,"input",22),i.kc(5,"cmsTranslate"),i.Ub(6,"i",23),i.Zb(7,"label"),i.Sc(8),i.kc(9,"cmsTranslate"),i.Yb(),i.Ub(10,"div",24),i.Yb(),i.Qc(11,Ys,2,1,"ng-container",25),i.Yb(),i.Zb(12,"div",26),i.Qc(13,Gs,1,0,"ng-container",16),i.Yb(),i.Zb(14,"div",27),i.Qc(15,Vs,1,0,"ng-container",16),i.Yb(),i.Yb(),i.Zb(16,"div",28),i.Zb(17,"div",29),i.Qc(18,Zs,1,0,"ng-container",16),i.Yb(),i.Yb(),i.Wb()),2&e){const e=i.jc(),t=i.Ec(15),n=i.Ec(11),o=i.Ec(13);i.Hb(2),i.sc("formGroup",e.flightNumberForm),i.Hb(2),i.sc("placeholder",i.lc(5,7,"GLOBAL_LABEL_FLIGHTNUMBER-PLACEHOLDER")),i.Hb(4),i.Tc(i.lc(9,9,"GLOBAL_LABEL_FLIGHTNUMBER")),i.Hb(3),i.sc("ngIf",e.flightNumberForm.invalid&&e.flightNumberForm.touched),i.Hb(2),i.sc("ngTemplateOutlet",t),i.Hb(2),i.sc("ngTemplateOutlet",n),i.Hb(3),i.sc("ngTemplateOutlet",o)}}function Ws(e,t){if(1&e){const e=i.ac();i.Zb(0,"button",32),i.hc("click",(function(){return i.Hc(e),i.jc().doSearch()})),i.Zb(1,"span"),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Yb()}if(2&e){const e=i.jc();i.sc("disabled",!e.isButtonAvailable),i.Hb(2),i.Tc(i.lc(3,2,"GLOBAL_ACTION_SEARCH"))}}function Ks(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",34),i.Zb(1,"app-flight-status-suggestions",35),i.hc("suggestionSelect",(function(t){return i.Hc(e),i.jc(2).onLastSearchSelect(t)})),i.Yb(),i.Yb()}if(2&e){const e=i.jc(2);i.Hb(1),i.sc("title",e.suggestionsTitle)("suggestions",e.suggestions)}}function zs(e,t){if(1&e&&i.Qc(0,Ks,2,2,"div",33),2&e){const e=i.jc();i.sc("ngIf",e.suggestions&&e.suggestions.length)}}function Qs(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",37),i.Zb(1,"ng-select",38,39),i.hc("ngModelChange",(function(t){return i.Hc(e),i.jc(2).selectedDate=t})),i.kc(3,"cmsTranslate"),i.Zb(4,"ng-option",40),i.Sc(5),i.kc(6,"cmsTranslate"),i.kc(7,"date"),i.Yb(),i.Zb(8,"ng-option",40),i.Sc(9),i.kc(10,"cmsTranslate"),i.kc(11,"date"),i.Yb(),i.Zb(12,"ng-option",40),i.Sc(13),i.kc(14,"cmsTranslate"),i.kc(15,"date"),i.Yb(),i.Yb(),i.Ub(16,"i",41),i.Zb(17,"label"),i.Sc(18),i.kc(19,"cmsTranslate"),i.Yb(),i.Ub(20,"div",24),i.Zb(21,"div",42),i.Ub(22,"i",43),i.Yb(),i.Yb()}if(2&e){const e=i.jc(2);i.Hb(1),i.sc("searchable",!1)("clearable",!1)("placeholder",i.lc(3,14,"HEADER_FLIGHTSTATUS_DATE-PLACEHOLDER"))("ngModel",e.selectedDate),i.Hb(3),i.sc("value",e.searchDates[0]),i.Hb(1),i.Vc("",i.lc(6,16,"GLOBAL_LABEL_YESTERDAY"),", ",i.mc(7,18,e.searchDates[0],"EEE d MMM"),""),i.Hb(3),i.sc("value",e.searchDates[1]),i.Hb(1),i.Vc("",i.lc(10,21,"GLOBAL_LABEL_TODAY"),", ",i.mc(11,23,e.searchDates[1],"EEE d MMM"),""),i.Hb(3),i.sc("value",e.searchDates[2]),i.Hb(1),i.Vc("",i.lc(14,26,"GLOBAL_LABEL_TOMORROW"),", ",i.mc(15,28,e.searchDates[2],"EEE d MMM"),""),i.Hb(5),i.Tc(i.lc(19,31,"GLOBAL_LABEL_DEPARTUREDATE"))}}function Xs(e,t){if(1&e&&i.Qc(0,Qs,23,33,"div",36),2&e){const e=i.jc();i.sc("ngIf",e.isValidDateArrayWith3Elements)}}let qs=(()=>{class e{constructor(e,t,n,o,r){this.router=e,this.stationSearchHistory=t,this.cmsConfig=n,this.flightStatusService=o,this.cookieService=r,this.menuClose=new i.p,this.tabList=[{title:"HEADER_FLIGHTSTATUS_BYROUTE",iconClass:"fa-exchange"},{title:"HEADER_FLIGHTSTATUS_BYFLIGHTNUMBER",iconClass:"fa-plane"}],this.suggestions=[],this.suggestionsTitle="GLOBAL_LABEL_RECENTSEARCH",this.activeTab=Js.ROUTE,this.statusMenuType=Js,this.queryParams={},this.flightNumberForm=new Sn.l({flightNumber:new Sn.i("",[Sn.I.required,Sn.I.minLength(2),Sn.I.maxLength(4),Sn.I.pattern("^[0-9]+")])}),this.flightErrors={required:"ERROR_FLIGHTNUMBER_MANDATORY",minlength:"ERROR_FLIGHTNUMBER_DIGITS",maxlength:"ERROR_FLIGHTNUMBER_DIGITS",pattern:"ERROR_FLIGHTNUMBER_LETTERS"},this.showConnections=!0,this.showNotifications=!1,this.cookieKey=c.g.cacheKeys.FLIGHT_STATUS_NOTIFICATIONS,this.searchDates=this.flightStatusService.createDates(),this.selectedDate=this.searchDates[1],this.showNotifications=this.cmsConfig.getSectionFeatureValue(jt.b.GLOBAL,jt.a.FlightStatusNotifications)||!1}ngOnInit(){window.innerWidth<=800&&(this.tabList=[{title:"HEADER_FLIGHTSTATUS_BYROUTE",iconClass:"fa-exchange"},{title:"HEADER_FLIGHTSTATUS_FLIGHTNUMBER_MOV",iconClass:"fa-plane"}]),this.checkSubscriptions(),this.loadSuggestions(),this.showConnections=this.cmsConfig.getSectionFeatureValue(jt.b.GLOBAL,jt.a.FlightStatusConnections)}loadSuggestions(){return Object(Pt.a)(this,void 0,void 0,(function*(){yield this.stationSearchHistory.ready;const e=this.stationSearchHistory.getLastFlightStatusSearch();e&&(this.suggestions=[{codeOrigin:e.origin.code,codeDestination:e.destination.code,date:new Date(Es(e.startDate).valueOf())}])}))}changeItem(e){2!==e?this.activeTab=e:this.router.navigate(["flight-status"],{queryParams:{notifications:!0}})}doSearch(){this.activeTab===Js.ROUTE?this.queryParams=Object.assign(Object.assign({},this.queryParams),{date:Es(this.selectedDate).format("YYYYMMDD")}):this.flightNumberForm.valid&&(this.queryParams={flightNumber:this.flightNumberForm.get("flightNumber").value,date:Es(this.selectedDate).format("YYYYMMDD")}),this.router.navigate(["flight-status"],{queryParams:this.queryParams}),this.doClose()}get isButtonAvailable(){return this.activeTab===Js.ROUTE?this.queryParams&&!!this.queryParams.origin&&!!this.queryParams.destination&&!!this.selectedDate:this.flightNumberForm.valid&&!!this.selectedDate}doClose(){this.menuClose.emit()}onSuggestionSelect(e){var t,n;this.selectedStations={selectedOriginCode:(null===(t=null==e?void 0:e.origin)||void 0===t?void 0:t.code)||null,selectedDestinationCode:(null===(n=null==e?void 0:e.destination)||void 0===n?void 0:n.code)||null}}onLastSearchSelect(e){this.queryParams={origin:e.codeOrigin,destination:e.codeDestination,date:Es(e.date).format("YYYYMMDD")},this.router.navigate(["flight-status"],{queryParams:this.queryParams})}get isValidDateArrayWith3Elements(){return this.searchDates&&Array.isArray(this.searchDates)&&3===this.searchDates.length}selectedRoute(e){var t,n;this.queryParams={origin:(null===(t=null==e?void 0:e.selectedOrigin)||void 0===t?void 0:t.code)||null,destination:(null===(n=null==e?void 0:e.selectedDestination)||void 0===n?void 0:n.code)||null}}get formErrors(){return this.flightNumberForm.touched?Object.keys(this.flightNumberForm.get("flightNumber").errors):null}checkSubscriptions(){this.cookieService.check(this.cookieKey)&&this.showNotifications&&this.flightStatusService.getSubscriptions(atob(this.cookieService.get(this.cookieKey))).subscribe(e=>{e.data&&Array.isArray(e.data)&&e.data.length&&this.tabList.push({title:"BOOKER_LABEL_YOUR-NOTIFICATIONS",iconClass:"fa-bell"})},e=>{c.g.production||console.error("::getSubscriptions::",e)})}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(wt.g),i.Tb(Ms.a),i.Tb($t.a),i.Tb(Ps.a),i.Tb(zo.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-flight-status-menu"]],outputs:{menuClose:"menuClose"},decls:16,vars:4,consts:[[1,"flight-status","main-container","px-10","px-xl-0"],[1,"container","inner-container"],[1,"modal-close","green","close-icon",3,"click"],[1,"fas","fa-times"],[1,"row","mb-40"],[1,"col-xl-6","mt-10"],["theme","all-space",3,"tabOptions","activeTabChange"],[1,"container",3,"ngSwitch"],[4,"ngSwitchCase"],["statusSearchBtn",""],["statusSuggestions",""],["statusDateSelect",""],[1,"row","mb-0","mb-xl-20"],[1,"col-xl-9"],[3,"anticipateBreakpoint","activeForBookingStationsOnly","selectedStations","showLastFlightStatusSearch","activeDirectStationsOnly","useFlightStatusDatalayer","selectedStationsChanged","savedSearchSelected"],[1,"col-xl-3","mb-20","mb-xl-30","mb-xl-0","mt-5","mt-xl-0"],[4,"ngTemplateOutlet"],[1,"row","flex-column-reverse","flex-xl-row"],[1,"col-xl-3","mb-30","mb-xl-0"],[1,"row","mb-30","mb-xl-20"],[1,"col-xl-4","pb-xl-5","pb-10","mt-5","mt-xl-0",3,"formGroup"],[1,"viva-input-field","w-100","flight-number-input"],["formControlName","flightNumber","type","text",3,"placeholder"],[1,"fas","fa-file-alt"],[1,"divider"],[4,"ngIf"],[1,"col-xl-4","pb-xl-10","pb-20"],[1,"col-xl-3"],[1,"row"],[1,"col-xl-12"],["class","viva-input-field-error",4,"ngFor","ngForOf"],[1,"viva-input-field-error"],[1,"viva-btn","big","light","w-100",3,"disabled","click"],["class","flight-status suggestions-container",4,"ngIf"],[1,"flight-status","suggestions-container"],[3,"title","suggestions","suggestionSelect"],["class","viva-input-field viva-select w-100",4,"ngIf"],[1,"viva-input-field","viva-select","w-100"],[3,"searchable","clearable","placeholder","ngModel","ngModelChange"],["select",""],[3,"value"],[1,"fas","fa-calendar-day"],[1,"valid"],[1,"fas","fa-check"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"button",2),i.hc("click",(function(){return t.doClose()})),i.Ub(3,"i",3),i.Yb(),i.Zb(4,"div",4),i.Zb(5,"div",5),i.Zb(6,"app-tablist-bar",6),i.hc("activeTabChange",(function(e){return t.changeItem(e)})),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(7,"div",7),i.Qc(8,Hs,11,9,"ng-container",8),i.Qc(9,$s,19,11,"ng-container",8),i.Yb(),i.Yb(),i.Qc(10,Ws,4,4,"ng-template",null,9,i.Rc),i.Qc(12,zs,1,1,"ng-template",null,10,i.Rc),i.Qc(14,Xs,1,1,"ng-template",null,11,i.Rc)),2&e&&(i.Hb(6),i.sc("tabOptions",t.tabList),i.Hb(1),i.sc("ngSwitch",t.activeTab),i.Hb(1),i.sc("ngSwitchCase",t.statusMenuType.ROUTE),i.Hb(1),i.sc("ngSwitchCase",t.statusMenuType.FLIGHT_NO))},directives:[Ds.a,gt.y,gt.z,xs.a,gt.B,Sn.v,Sn.m,Sn.d,Sn.u,Sn.k,gt.u,gt.t,Ns,In.a,Sn.x,In.n],pipes:[On.a,gt.f],styles:['.flight-status.main-container[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:10px;background-color:var(--bg4)}.flight-status.main-container[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}.flight-status.main-container[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:10px}@media screen and (max-width:1024px){.flight-status.main-container[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{display:none}}.flight-status.suggestions-container[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}@media screen and (max-width:1024px){.flight-status[_ngcontent-%COMP%]   .viva-btn.big[_ngcontent-%COMP%]{background-color:var(--lg4)}}@media screen and (max-width:1024px){.flight-status.main-container[_ngcontent-%COMP%]     .booker-tablist-list{align-items:flex-end}.flight-status.main-container[_ngcontent-%COMP%]     .booker-tablist-list .booker-tablist-item{width:50%}.flight-status.main-container[_ngcontent-%COMP%]     .booker-tablist-list .booker-tablist-item a{text-align:center}.flight-status.main-container[_ngcontent-%COMP%]     .station-input-overlay{padding:15px 30px 15px 70px}.flight-status.main-container[_ngcontent-%COMP%]     .station-input-overlay .station-name{font-size:20px}.flight-status.main-container[_ngcontent-%COMP%]     .station-input-overlay .station-code{font-size:14px;color:var(--bg4)}}.flight-number-input[_ngcontent-%COMP%]{position:relative}.flight-number-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], .flight-number-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus{padding-left:92px}.flight-number-input[_ngcontent-%COMP%]:after{content:"VB";position:absolute;bottom:9px;left:69px;font-family:Axiforma,Arial;font-weight:700;font-size:16px;line-height:24px;color:var(--bg6)}']}),e})();var Js=function(e){return e[e.ROUTE=0]="ROUTE",e[e.FLIGHT_NO=1]="FLIGHT_NO",e}({});let ea=(()=>{class e{constructor(){this.goBack=new i.p,this.closeMenu=new i.p}ngOnInit(){}onGoBack(){this.goBack.emit()}onClose(){this.closeMenu.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["app-responsive-flight-status"]],outputs:{goBack:"goBack",closeMenu:"closeMenu"},decls:5,vars:3,consts:[[1,"h-100"],[3,"title","goBack"],[1,"flight-status-container"],[3,"menuClose"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"app-responsive-content-header",1),i.hc("goBack",(function(){return t.onGoBack()})),i.kc(2,"cmsTranslate"),i.Yb(),i.Zb(3,"div",2),i.Zb(4,"app-flight-status-menu",3),i.hc("menuClose",(function(){return t.onClose()})),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(1),i.sc("title",i.lc(2,1,"HEADER_FLIGHTSTATUS")))},directives:[Gr,qs],pipes:[On.a],styles:[".flight-status-container[_ngcontent-%COMP%]{background-color:var(--bg4);height:calc(100vh - 60px);overflow:auto}@media screen and (max-width:1024px){.flight-status-container[_ngcontent-%COMP%]{height:calc(100% - 60px)}}"]}),e})();function ta(e,t){1&e&&i.Vb(0)}function na(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",2),i.Zb(1,"button",3),i.hc("click",(function(){return i.Hc(e),i.jc().emitClose()})),i.Ub(2,"i",4),i.Yb(),i.Qc(3,ta,1,0,"ng-container",5),i.Yb()}if(2&e){i.jc();const e=i.Ec(2);i.Hb(3),i.sc("ngTemplateOutlet",e)}}const ia=function(e){return{active:e}};function oa(e,t){if(1&e){const e=i.ac();i.Zb(0,"button",28),i.hc("click",(function(){i.Hc(e);const n=t.$implicit;return i.jc(4).setSelectedCurrency(n)})),i.Zb(1,"div",29),i.Zb(2,"span",30),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Zb(5,"span",31),i.Sc(6),i.Yb(),i.Yb(),i.Yb()}if(2&e){const e=t.$implicit,n=i.jc(4);i.sc("ngClass",i.vc(5,ia,n.selectedCurrency===e)),i.Hb(3),i.Tc(i.lc(4,3,"GLOBAL_LABEL_CURRENCY-"+e.code)),i.Hb(3),i.Tc(e.code)}}function ra(e,t){1&e&&i.Ub(0,"div",32)}function sa(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",26),i.Qc(2,oa,7,7,"button",19),i.Yb(),i.Qc(3,ra,1,0,"div",27),i.Wb()),2&e){const e=t.$implicit,n=t.index;i.Hb(2),i.sc("ngForOf",e),i.Hb(1),i.sc("ngIf",0===n)}}function aa(e,t){if(1&e&&(i.Zb(0,"div",24),i.Qc(1,sa,4,2,"ng-container",25),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.sc("ngForOf",e.currencies)}}function ca(e,t){if(1&e){const e=i.ac();i.Zb(0,"button",28),i.hc("click",(function(){i.Hc(e);const n=t.$implicit;return i.jc(2).setSelectedLanguage(n)})),i.Zb(1,"div",29),i.Zb(2,"span",30),i.Sc(3),i.kc(4,"cmsTranslate"),i.kc(5,"uppercase"),i.Yb(),i.Ub(6,"img",33),i.kc(7,"cmsStaticImage"),i.Yb(),i.Yb()}if(2&e){const e=t.$implicit,n=i.jc(2);i.sc("ngClass",i.vc(9,ia,n.selectedLanguage===e)),i.Hb(3),i.Tc(i.lc(4,3,i.lc(5,5,"GLOBAL_LABEL_"+e.code))),i.Hb(3),i.sc("src",i.lc(7,7,n.getLocaleImgPath(e)),i.Kc)}}const la=function(e){return{regex:"%%currency%%",newValue:e}},ua=function(e){return[e]};function da(e,t){if(1&e&&(i.Zb(0,"div",34),i.Ub(1,"i",35),i.Zb(2,"p",36),i.Sc(3),i.Yb(),i.Zb(4,"p",37),i.Sc(5),i.kc(6,"cmsRegexReplace"),i.kc(7,"cmsTranslate"),i.Yb(),i.Yb()),2&e){const e=i.jc(2);i.Hb(3),i.Wc(" 1 ",e.selectedCurrencyExchangeRate.baseCurrency," = ",e.selectedCurrencyExchangeRate.rate," ",e.selectedCurrency.code," "),i.Hb(2),i.Uc(" ",i.mc(6,4,i.lc(7,7,"HEADER_CURRENCY_SNIPPET_EXCHANGERATE"),i.vc(11,ua,i.vc(9,la,e.selectedCurrency.code)))," ")}}function ha(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",6),i.Zb(1,"div",7),i.Zb(2,"div",8),i.Zb(3,"div",9),i.Zb(4,"div",10),i.Ub(5,"i",11),i.Zb(6,"h4"),i.Sc(7),i.kc(8,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(9,"div",12),i.Qc(10,aa,2,1,"div",13),i.Yb(),i.Yb(),i.Zb(11,"div",14),i.Ub(12,"div",15),i.Yb(),i.Zb(13,"div",16),i.Zb(14,"div",10),i.Ub(15,"i",17),i.Zb(16,"h4"),i.Sc(17),i.kc(18,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(19,"div",18),i.Qc(20,ca,8,11,"button",19),i.Yb(),i.Yb(),i.Yb(),i.Zb(21,"div",20),i.Zb(22,"div",21),i.Zb(23,"button",22),i.hc("click",(function(){return i.Hc(e),i.jc().saveLocaleConfig()})),i.Zb(24,"span"),i.Sc(25),i.kc(26,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Qc(27,da,8,13,"div",23)}if(2&e){const e=i.jc();i.Hb(7),i.Tc(i.lc(8,6,"GLOBAL_LABEL_CURRENCY")),i.Hb(3),i.sc("ngIf",e.currencies),i.Hb(7),i.Tc(i.lc(18,8,"GLOBAL_LABEL_COUNTRY")),i.Hb(3),i.sc("ngForOf",e.languages),i.Hb(5),i.Tc(i.lc(26,10,"GLOBAL_ACTION_SAVE")),i.Hb(2),i.sc("ngIf",e.showCurrencyConversion&&e.selectedCurrency)}}let pa=(()=>{class e{constructor(e,t,n,o,r,s,a,c,l,u){this.locale=e,this.currency=t,this.utils=n,this.datalayerUxHome=o,this.platformId=r,this.document=s,this.bookingParams=a,this.router=c,this.route=l,this.basketSvc=u,this.menuClose=new i.p,this.isModal=!0,this.isInBooking=!1,this.languages=[],this.currencies=[],this.showCurrencyConversion=!1}ngOnInit(){this.populateLanguages(),this.populateCurrencies()}setSelectedCurrency(e){this.selectedCurrency=e}setSelectedLanguage(e){this.selectedLanguage=e}emitClose(){this.menuClose.emit()}populateLanguages(){this.locale.getCMSLocales().forEach(e=>{this.languages.push({name:e.name,code:e.code})}),this.setSavedLanguage()}populateCurrencies(){const e=this.currency._currencies;this.currencies=this.utils.simpleArrayToMultidimensionalArray(e,Math.ceil(e.length/2)),this.selectedCurrency=this.currency._selectedCurrency}setSavedLanguage(){const e=this.locale.getAppLocale();this.languages.forEach(t=>{t.code===e&&(this.selectedLanguage=t)})}saveLocaleConfig(){const e=this.locale.changeLocaleData(this.selectedLanguage.code),t=this.currency.changeAppCurrency(this.selectedCurrency.code);(t||e)&&Object(gt.L)(this.platformId)&&(e&&sessionStorage.setItem("viva-lang","true"),this.isInBooking&&t?this.updateSearch(e):this.reloadApp(e)),this.datalayerUxHome.saveCurrencyLanguage(),this.menuClose.emit()}get selectedCurrencyExchangeRate(){return this.selectedCurrency.exchangeRates[0]}getLocaleImgPath(e){return e?"GLOBAL_IMAGE_COUNTRY_"+e.code.toUpperCase():nr.b}updateSearch(e){this.router.url.includes("book/options")||this.router.url.includes("book/confirmation")?this.reloadApp(e):this.basketSvc._basket?this.bookingParams.getBasketBookingParams(this.basketSvc._basket).then(t=>{if(t){const n=this.bookingParams.createFlightSearchParams(t);this.router.navigate(["book","options"],{relativeTo:this.route,queryParams:Object.assign({},n)}).then(()=>{this.reloadApp(e)})}}):this.router.navigate(["/"],{replaceUrl:!0})}reloadApp(e){e?this.locale.reloadAppWithLocale(this.selectedLanguage.code):this.document.location.reload()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(Gt.a),i.Tb(sr.a),i.Tb(cn.a),i.Tb(or.a),i.Tb(i.G),i.Tb(gt.e),i.Tb(Lo.a),i.Tb(wt.g),i.Tb(wt.a),i.Tb(qt.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-locale-currency-modal"]],inputs:{isModal:"isModal",isInBooking:"isInBooking"},outputs:{menuClose:"menuClose"},decls:3,vars:2,consts:[["class","locale-currency-modal modal-container",4,"ngIf","ngIfElse"],["localeContent",""],[1,"locale-currency-modal","modal-container"],[1,"modal-close",3,"click"],[1,"fas","fa-times"],[4,"ngTemplateOutlet"],[1,"section-content"],[1,"container","px-0","first-container"],[1,"row","mb-xl-80","mb-20","locale-content"],[1,"col-xl-8"],[1,"d-flex","flex-row","justify-content-start","align-items-center","section-title"],[1,"fas","fa-dollar-sign","d-none","d-xl-block"],[1,"container","px-0"],["class","mb-20 currency-container",4,"ngIf"],[1,"d-xl-block","d-none","col-1","align-self-stretch","text-center","section-divider","m-0"],[1,"divider"],[1,"col-xl-3"],[1,"fas","fa-language","d-none","d-xl-block"],[1,"section-language"],["class","viva-btn tertiary height-auto section-element",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"row"],[1,"offset-xl-9","col-xl-3","section-save"],[1,"w-100","viva-btn","big","light",3,"click"],["class","modal-footer d-flex flex-row align-items-center",4,"ngIf"],[1,"mb-20","currency-container"],[4,"ngFor","ngForOf"],[1,"currency-section"],["class","section-divider",4,"ngIf"],[1,"viva-btn","tertiary","height-auto","section-element",3,"ngClass","click"],[1,"content"],[1,"text-left","medium-title"],[1,"currency","small-title"],[1,"section-divider"],["width","20px","height","20px","loading","lazy",3,"src"],[1,"modal-footer","d-flex","flex-row","align-items-center"],[1,"fas","fa-info-circle","footer-icon"],[1,"conversion","my-0"],[1,"disclaimer","my-0"]],template:function(e,t){if(1&e&&(i.Qc(0,na,4,1,"div",0),i.Qc(1,ha,28,12,"ng-template",null,1,i.Rc)),2&e){const e=i.Ec(2);i.sc("ngIf",t.isModal)("ngIfElse",e)}},directives:[gt.u,gt.B,gt.t,gt.r],pipes:[On.a,gt.I,Un.a,Vi.a],styles:['.locale-currency-modal.modal-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:880px;max-height:80vh;background-color:var(--wh1);border-radius:5px;overflow:hidden;overflow-y:auto}@media screen and (max-width:1240px){.locale-currency-modal.modal-container[_ngcontent-%COMP%]{width:100%;max-height:100%}}.section-content[_ngcontent-%COMP%]{padding:80px 70px 40px}.section-content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin-bottom:30px}@media screen and (max-width:1240px){.section-content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin-top:20px;padding-left:20px;margin-bottom:10px}}.section-content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{margin:0;line-height:24px}.section-content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%] > i.fas[_ngcontent-%COMP%]{color:var(--bg4);font-size:20px;margin-right:10px}.section-content[_ngcontent-%COMP%]   .currency-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:stretch;align-content:stretch}.section-content[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]{flex:0 0 210px}.section-content[_ngcontent-%COMP%]   .section-divider[_ngcontent-%COMP%]{margin:0 20px}.section-content[_ngcontent-%COMP%]   .section-divider[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:1px;height:100%;background-color:var(--gr20)}.section-content[_ngcontent-%COMP%]   .section-element[_ngcontent-%COMP%]{position:relative;padding:0;width:100%;overflow:visible}@media screen and (max-width:1240px){.section-content[_ngcontent-%COMP%]   .section-element[_ngcontent-%COMP%]   .text-left[_ngcontent-%COMP%]{font-size:14px;line-height:18px}}@media screen and (max-width:1240px){.section-content[_ngcontent-%COMP%]   .section-element[_ngcontent-%COMP%]{padding:10px 20px 10px 35px}}.section-content[_ngcontent-%COMP%]   .section-element[_ngcontent-%COMP%]:not(:last-child){margin-bottom:20px}@media screen and (max-width:1240px){.section-content[_ngcontent-%COMP%]   .section-element[_ngcontent-%COMP%]:not(:last-child){margin-bottom:0}}.section-content[_ngcontent-%COMP%]   .section-element[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{opacity:.5}@media screen and (max-width:1240px){.section-content[_ngcontent-%COMP%]   .section-element[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{color:var(--bg6)}}@media screen and (max-width:1240px){.section-content[_ngcontent-%COMP%]   .section-element.active[_ngcontent-%COMP%]{background-color:var(--wh2);border-radius:0}}.section-content[_ngcontent-%COMP%]   .section-element.active[_ngcontent-%COMP%]:before{position:absolute;top:6px;left:-16px;content:"";width:6px;height:6px;border-radius:50%;background-color:var(--r4)}@media screen and (max-width:1240px){.section-content[_ngcontent-%COMP%]   .section-element.active[_ngcontent-%COMP%]:before{left:20px;top:0;bottom:0;margin:auto}}.section-content[_ngcontent-%COMP%]   .section-element.active[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{font-weight:800;color:var(--r4)}@media screen and (max-width:1240px){.section-content[_ngcontent-%COMP%]   .currency-container[_ngcontent-%COMP%]{flex-direction:column}.section-content[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]{flex:0 0 auto;padding:0}.section-content[_ngcontent-%COMP%]   .section-divider[_ngcontent-%COMP%]{margin:0 30px;display:none}.section-content[_ngcontent-%COMP%]   .section-divider[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin-top:20px;width:0}.section-content[_ngcontent-%COMP%]   .section-language[_ngcontent-%COMP%]{padding:0;margin-bottom:20px}.section-content[_ngcontent-%COMP%]   .section-save[_ngcontent-%COMP%]{padding:0 30px}.section-content[_ngcontent-%COMP%]   .section-save[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:20px}}.save-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bg4)}.save-button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--wh1)}.close-button[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:20px;right:20px}.modal-close[_ngcontent-%COMP%]{background-color:transparent}.modal-close[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--gr40)}.modal-close[_ngcontent-%COMP%]:hover{background-color:var(--gr20)}.modal-close[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bl9)}.modal-footer[_ngcontent-%COMP%]{width:100%;height:50px;background-color:var(--gr15);padding:0 50px}.modal-footer[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:var(--bg6)}.modal-footer[_ngcontent-%COMP%]   .footer-icon[_ngcontent-%COMP%]{font-size:18px;margin-right:12px}.modal-footer[_ngcontent-%COMP%]   .conversion[_ngcontent-%COMP%]{font-family:Axiforma,Arial;font-size:16px;font-weight:700;margin-right:35px}.modal-footer[_ngcontent-%COMP%]   .disclaimer[_ngcontent-%COMP%]{font-size:16px}@media screen and (max-width:1240px){.modal-footer[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:16px;margin-bottom:20px;border-radius:5px}.modal-footer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px}.modal-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-word}}@media screen and (max-width:1240px){.section-content[_ngcontent-%COMP%]{padding:0;height:100%}.section-content[_ngcontent-%COMP%]   .first-container[_ngcontent-%COMP%]{height:100%}.section-content[_ngcontent-%COMP%]   .first-container[_ngcontent-%COMP%]   .locale-content[_ngcontent-%COMP%]{align-content:baseline;height:calc(100% - 80px);overflow:auto;margin-bottom:0!important}}']}),e})(),ga=(()=>{class e{constructor(){this.goBack=new i.p}ngOnInit(){}onGoBack(){this.goBack.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["app-responsive-locale"]],outputs:{goBack:"goBack"},decls:5,vars:4,consts:[[1,"content"],[3,"title","goBack"],[1,"flex","flex-column","content-locale"],[1,"currency-container",3,"isModal"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"app-responsive-content-header",1),i.hc("goBack",(function(){return t.onGoBack()})),i.kc(2,"cmsTranslate"),i.Yb(),i.Zb(3,"div",2),i.Ub(4,"app-locale-currency-modal",3),i.Yb(),i.Yb()),2&e&&(i.Hb(1),i.sc("title",i.lc(2,2,"PROFILE_LABEL_SELECT-LANGUAGE-CURRENCY")),i.Hb(3),i.sc("isModal",!1))},directives:[Gr,pa],pipes:[On.a],styles:[".content[_ngcontent-%COMP%]{height:100%}.content-locale[_ngcontent-%COMP%]{background-color:var(--wh1);height:100%}@media screen and (max-width:1024px){.content-locale[_ngcontent-%COMP%]{height:calc(100% - 60px);overflow-y:auto;overflow-x:hidden}.content-locale[_ngcontent-%COMP%]   .currency-container[_ngcontent-%COMP%]{height:100%}}"]}),e})();var fa=n("XNiG"),ma=n("eIep"),ba=n("JIr8"),va=n("t487"),ya=n("deb4"),_a=n("5KMX"),Ca=n("lJxs");let Sa=(()=>{class e{constructor(e){this.http=e}getResultsWhileTyping(e){return e.pipe(Object(lr.a)(300),Object(ma.a)(e=>Object(Xn.a)(this.getResults(e))))}getResults(e){let t=c.g.POPULAR_SEARCHES_URL;return e&&e.length>0&&(t=c.g.SEARCHES_URL),this.http.get(t).pipe(Object(Ca.a)(t=>{if(!e||e.length<1)return t;let n=[];return n=t.filter(t=>t.toLowerCase().includes(e.toLocaleLowerCase())),n}),Object(ba.a)(e=>Object(Qn.a)(e)))}listToMultidimensionalArray(e,t=2){const n=[];let i=[];for(const[o,r]of e.entries())i.length<t&&o!==e.length-1?i.push(r):(i.length===t&&(n.push(i),i=[]),i.push(r),o===e.length-1&&n.push(i));return n}}return e.\u0275fac=function(t){return new(t||e)(i.dc(u.b))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Oa=(()=>{class e{transform(e,t){if(!(t=t.trim()))return e;const n=new RegExp(t,"i");return e.replace(n,'<span class="search-highlight">$&</span>')}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Sb({name:"searchHighlight",type:e,pure:!0}),e})();function Ta(e,t){if(1&e){const e=i.ac();i.Zb(0,"li"),i.Zb(1,"button",8),i.hc("click",(function(){i.Hc(e);const n=t.$implicit;return i.jc(2).onResultSelect(n)})),i.Ub(2,"p",9),i.kc(3,"searchHighlight"),i.Ub(4,"i",10),i.Yb(),i.Yb()}if(2&e){const e=t.$implicit,n=i.jc(2);i.Hb(2),i.sc("innerHTML",n.requiresHighlight?i.mc(3,1,e,n.query):e,i.Ic)}}const wa=function(e){return{"not-first":e}};function ka(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"ul",6),i.Qc(2,Ta,5,4,"li",5),i.Yb(),i.Ub(3,"div",7),i.Wb()),2&e){const e=t.$implicit,n=t.index;i.Hb(1),i.sc("ngClass",i.vc(2,wa,0!==n)),i.Hb(1),i.sc("ngForOf",e)}}let Aa=(()=>{class e{constructor(e){this.service=e,this.itemsByCol=3,this.requiresHighlight=!1,this.selectedResult=new i.p,this.items=[]}ngOnChanges(){return Object(Pt.a)(this,void 0,void 0,(function*(){this.items=[...this.service.listToMultidimensionalArray(this.results,this.itemsByCol)]}))}onResultSelect(e){this.selectedResult.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(Sa))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-search-results-list"]],inputs:{itemsByCol:"itemsByCol",requiresHighlight:"requiresHighlight",title:"title",query:"query",results:"results"},outputs:{selectedResult:"selectedResult"},features:[i.Fb],decls:9,vars:4,consts:[[1,"container"],[1,"row","bottom-margin"],[1,"col-xl-12","mb-0","mb-lg-0","px-20","px-lg-10","pt-20","pt-xl-0"],[1,"title"],[1,"results"],[4,"ngFor","ngForOf"],[1,"col-xl-2","mt-0","mt-md-10","mb-0","mb-xl-10","px-20","px-lg-10",3,"ngClass"],[1,"col-xl-1"],[1,"viva-btn","small","height-auto","p-a-0",3,"click"],[3,"innerHTML"],[1,"fas","fa-arrow-right"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"span",3),i.Sc(4),i.kc(5,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(6,"div",1),i.Zb(7,"section",4),i.Qc(8,ka,4,4,"ng-container",5),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(4),i.Uc(" ",i.lc(5,2,"GLOBAL_LABEL_POPULARSEARCHES")," "),i.Hb(4),i.sc("ngForOf",t.items))},directives:[gt.t,gt.r],pipes:[On.a,Oa],styles:[".results[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%;max-height:300px;overflow:hidden;overflow-y:auto}.results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}@media screen and (max-width:1240px){.results[_ngcontent-%COMP%]   ul.not-first[_ngcontent-%COMP%]{border-top:1px solid var(--gr20);margin-top:0!important}}.results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;padding:10px 0;border-bottom:1px solid var(--gr20)}.results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border:none}.results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;margin:0;padding:0;color:rgba(25,25,25,.5)}.results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:var(--lg4)}@media screen and (max-width:991px){.container[_ngcontent-%COMP%]{padding:0 10px}}"]}),e})();function Ea(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",13),i.Zb(1,"app-search-results-list",14),i.hc("selectedResult",(function(t){return i.Hc(e),i.jc().selectedResult(t)})),i.Yb(),i.Yb()}if(2&e){const e=i.jc();i.Hb(1),i.sc("title",e.title)("results",e.results)("query",e.form.get("search").value)("requiresHighlight",!0)}}let Ma=(()=>{class e{constructor(e,t,n,o,r,s,a,c){this.fb=e,this.cludoService=t,this.localService=n,this.router=o,this.responsiveSidebarSvc=r,this.datalayerHome=s,this.sanitizer=a,this.document=c,this.popularSearches=!0,this.title="",this.search=new fa.a,this.getResultsSubscription=Wt.a.EMPTY,this.results=[],this.goBack=new i.p}ngOnInit(){this.initialize(),this.form=this.generateForm(),this.getResults(),this.form.get("search").valueChanges.subscribe(e=>this.searching(e))}ngOnDestroy(){this.getResultsSubscription.unsubscribe()}initialize(){return Object(Pt.a)(this,void 0,void 0,(function*(){this.popularSearches?this.title="B\xfasquedas Populares":(this.title="",this.results=[])}))}generateForm(){return this.fb.group({search:["",[Sn.I.required,Sn.I.minLength(1)]]})}getResults(){const e=this.localService.getAppLocale();this.getResultsSubscription=this.search.pipe(Object(lr.a)(300),Object(ma.a)(t=>(null==t?void 0:t.trim().length)>0?Object(Xn.a)(this.cludoService.getAutocompleteArray(t,e)).pipe(Object(ba.a)(e=>Object(Qn.a)([]))):Object(Qn.a)([]))).subscribe(e=>{this.results=e})}searching(e){0!==e.length&&(this.document.getElementById("delete-text").style.display="block"),this.results=[],this.title="Sugerencias",this.search.next(e),e.length<1&&this.initialize()}deleteText(){this.form.setValue({search:""}),this.document.getElementById("delete-text").style.display="none",this.results=[]}submit(){var e;return Object(Pt.a)(this,void 0,void 0,(function*(){if(this.form.valid){const t=null===(e=this.form.get("search").value)||void 0===e?void 0:e.trim();if(yield this.redirectOnQuicklink(t))return;this.goToSearchResults(t),this.onClose()}}))}goToSearchResults(e){this.router.navigate(["/search"],{queryParams:{searchValue:null==e?void 0:e.trim()}})}selectedResult(e){this.goToSearchResults(e)}onGoBack(){this.goBack.emit()}onClose(){this.goBack.emit(),this.responsiveSidebarSvc.closeModal()}searchEvent(){this.datalayerHome.siteSearch(this.form.value.search)}redirectOnQuicklink(e){return Object(Pt.a)(this,void 0,void 0,(function*(){const t=yield this.cludoService.getQuickLinkFromQuery(e);if(t){const e=this.sanitizer.sanitize(i.M.URL,t.url);return this.document.location.href=e,!0}return!1}))}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(Sn.h),i.Tb(va.a),i.Tb(Gt.a),i.Tb(wt.g),i.Tb(ur.a),i.Tb(ya.a),i.Tb(_a.d),i.Tb(gt.e))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-site-search"]],inputs:{popularSearches:"popularSearches"},outputs:{goBack:"goBack"},decls:15,vars:6,consts:[[1,"site-search__top-container","py-xs-0","px-20","px-lg-20"],[1,"container","px-0","px-lg-10","pb-1","pb-lg-0"],[1,"row","mb-20"],[1,"col-xl-12"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"site-search__input"],["formControlName","search","pattern",".*\\S+.*","name","search","type","search",1,"h3",3,"placeholder"],["id","delete-text",1,"viva-btn","site-search__delete-btn",3,"click"],[1,"fas","fa-times"],["type","submit",1,"viva-btn","icon","site-search__submit-btn",3,"disabled","click"],[1,"content"],[1,"fas","fa-search"],["class","site-search__bottom-container",4,"ngIf"],[1,"site-search__bottom-container"],[3,"title","results","query","requiresHighlight","selectedResult"]],template:function(e,t){1&e&&(i.Zb(0,"div"),i.Zb(1,"div",0),i.Zb(2,"div",1),i.Zb(3,"div",2),i.Zb(4,"div",3),i.Zb(5,"form",4),i.hc("ngSubmit",(function(){return t.submit()})),i.Zb(6,"div",5),i.Ub(7,"input",6),i.kc(8,"cmsTranslate"),i.Zb(9,"a",7),i.hc("click",(function(){return t.deleteText()})),i.Ub(10,"i",8),i.Yb(),i.Zb(11,"button",9),i.hc("click",(function(){return t.searchEvent()})),i.Zb(12,"div",10),i.Ub(13,"i",11),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Qc(14,Ea,2,4,"div",12),i.Yb()),2&e&&(i.Hb(5),i.sc("formGroup",t.form),i.Hb(2),i.tc("placeholder",i.lc(8,4,"GLOBAL_LABEL_SEARCH-PLACEHOLDER")),i.Hb(4),i.sc("disabled",t.form.invalid),i.Hb(3),i.sc("ngIf",t.results.length>0))},directives:[Sn.K,Sn.v,Sn.m,Sn.d,Sn.u,Sn.k,Sn.B,gt.u,Aa],pipes:[On.a],styles:[".site-search__top-container[_ngcontent-%COMP%]{padding-top:30px;padding-bottom:20px}.site-search__bottom-container[_ngcontent-%COMP%]{padding-top:36px;padding-bottom:24px;background-color:var(--wh2)}@media screen and (max-width:1240px){.site-search__bottom-container[_ngcontent-%COMP%]{padding:0 20px}}@media screen and (max-width:991px){.site-search__bottom-container[_ngcontent-%COMP%]{padding:0}}.site-search__input[_ngcontent-%COMP%]{position:relative}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{caret-color:var(--vg4);height:56px;width:100%;border:rgba(0,40,19,.44);border-bottom:1px solid rgba(0,40,19,.44);padding-bottom:12px;margin-bottom:0;background-color:transparent}@media screen and (max-width:1240px){.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:80px}}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--gr40);opacity:1}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--gr40);opacity:1}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--gr40);opacity:1}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-moz-placeholder{opacity:0}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-ms-input-placeholder{opacity:0}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::placeholder{opacity:0}.site-search__submit-btn[_ngcontent-%COMP%]{position:absolute;width:60px;height:60px;bottom:10px;right:0}.site-search__submit-btn[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:20px;color:var(--wh1)}@media screen and (max-width:1240px){.site-search__submit-btn[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:16px}}.site-search__submit-btn[_ngcontent-%COMP%]:disabled{background-color:rgba(var(--bl9-rgb),.39)}.site-search__delete-btn[_ngcontent-%COMP%]{position:absolute;width:60px;height:60px;bottom:-7px;right:25px;display:none;background-color:transparent}.site-search__delete-btn[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--gr40);font-size:16px}@media screen and (min-width:1024px){.site-search__delete-btn[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:20px}}@media screen and (min-width:1024px){.site-search__delete-btn[_ngcontent-%COMP%]{right:60px}}@media screen and (max-width:1240px){.site-search__input[_ngcontent-%COMP%]{display:flex;align-items:center}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px!important;padding-bottom:0;border-radius:0;-webkit-appearance:none;-moz-appearance:none}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--bg4)}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--bg4)}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--bg4)}.site-search__submit-btn[_ngcontent-%COMP%]{width:34px!important;height:34px!important;right:0;bottom:24px;padding:0}}"]}),e})(),Pa=(()=>{class e{constructor(){this.goBack=new i.p}ngOnInit(){}onGoBack(){this.goBack.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["app-responsive-search"]],outputs:{goBack:"goBack"},decls:5,vars:3,consts:[[3,"title","goBack"],[3,"goBack"]],template:function(e,t){1&e&&(i.Zb(0,"div"),i.Zb(1,"app-responsive-content-header",0),i.hc("goBack",(function(){return t.onGoBack()})),i.kc(2,"cmsTranslate"),i.Yb(),i.Zb(3,"div"),i.Zb(4,"app-site-search",1),i.hc("goBack",(function(){return t.onGoBack()})),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(1),i.sc("title",i.lc(2,1,"HEADER_SEARCH_TITLE")))},directives:[Gr,Ma],pipes:[On.a],styles:[""]}),e})();function Da(e,t){if(1&e){const e=i.ac();i.Zb(0,"a",7),i.hc("click",(function(){return i.Hc(e),i.jc().openMenu()})),i.Ub(1,"i",8),i.Yb()}}function xa(e,t){if(1&e){const e=i.ac();i.Zb(0,"a",9),i.hc("click",(function(){return i.Hc(e),i.jc().closeMenu()})),i.Ub(1,"i",10),i.Yb()}}function Ia(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-responsive-main-header",11),i.hc("menuOptionClick",(function(t){return i.Hc(e),i.jc().onOptionClicked(t)})),i.Yb()}if(2&e){const e=i.jc();i.sc("showMobileHeader",!e.isMobileXs)}}function La(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-responsive-flight-check",12),i.hc("goBack",(function(){return i.Hc(e),i.jc().onGoBack()})),i.Yb()}}function Ra(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-responsive-planning",12),i.hc("goBack",(function(){return i.Hc(e),i.jc().onGoBack()})),i.Yb()}}function Na(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-responsive-flight-status",13),i.hc("goBack",(function(){return i.Hc(e),i.jc().onGoBack()}))("closeMenu",(function(){return i.Hc(e),i.jc().closeMenu()})),i.Yb()}}function ja(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-responsive-locale",12),i.hc("goBack",(function(){return i.Hc(e),i.jc().onGoBack()})),i.Yb()}}function Ba(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-responsive-search",12),i.hc("goBack",(function(){return i.Hc(e),i.jc().onGoBack()})),i.Yb()}}let Fa=(()=>{class e{constructor(e){this.responsiveHeaderSvc=e,this.selectedMenuId=null,this.menuIds=tr.a,this.responsiveModalSubscription=Wt.a.EMPTY,this.isMobileXs=!1,this.isAndroidBannerShown=!1}onResize(e){this.isMobileXs=e.target.innerWidth<=576}ngOnInit(){window.innerWidth<=576&&(this.isMobileXs=!0),this.responsiveModalSubscription=this.responsiveHeaderSvc.showModal$.subscribe(e=>this.menuIsOpen=e)}ngOnDestroy(){this.responsiveModalSubscription.unsubscribe()}openMenu(){this.responsiveHeaderSvc.openModal()}closeMenu(){this.responsiveHeaderSvc.closeModal()}onOptionClicked(e){this.selectedMenuId=e}onGoBack(){this.selectedMenuId=null}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(ur.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-responsive-header-menu"]],hostBindings:function(e,t){1&e&&i.hc("resize",(function(e){return t.onResize(e)}),!1,i.Gc)},inputs:{isAndroidBannerShown:"isAndroidBannerShown"},decls:11,vars:10,consts:[[1,"nav-icon-container"],["class","icon-link",3,"click",4,"ngIf"],["class","icon-link close-btn-icon",3,"click",4,"ngIf"],[3,"omitHeader","isAndroidBannerShown"],[3,"showMobileHeader","menuOptionClick",4,"ngIf"],[3,"goBack",4,"ngIf"],[3,"goBack","closeMenu",4,"ngIf"],[1,"icon-link",3,"click"],[1,"fas","fa-bars"],[1,"icon-link","close-btn-icon",3,"click"],[1,"fas","fa-times"],[3,"showMobileHeader","menuOptionClick"],[3,"goBack"],[3,"goBack","closeMenu"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Qc(1,Da,2,0,"a",1),i.Qc(2,xa,2,0,"a",2),i.Zb(3,"div"),i.Zb(4,"app-responsive-sidebar",3),i.Qc(5,Ia,1,1,"app-responsive-main-header",4),i.Qc(6,La,1,0,"app-responsive-flight-check",5),i.Qc(7,Ra,1,0,"app-responsive-planning",5),i.Qc(8,Na,1,0,"app-responsive-flight-status",6),i.Qc(9,ja,1,0,"app-responsive-locale",5),i.Qc(10,Ba,1,0,"app-responsive-search",5),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(1),i.sc("ngIf",!t.menuIsOpen),i.Hb(1),i.sc("ngIf",t.menuIsOpen),i.Hb(2),i.sc("omitHeader",!(t.selectedMenuId||!t.selectedMenuId&&!t.isMobileXs))("isAndroidBannerShown",t.isAndroidBannerShown),i.Hb(1),i.sc("ngIf",!t.selectedMenuId),i.Hb(1),i.sc("ngIf",t.selectedMenuId===t.menuIds.RESERVATION),i.Hb(1),i.sc("ngIf",t.selectedMenuId===t.menuIds.PLANNING),i.Hb(1),i.sc("ngIf",t.selectedMenuId===t.menuIds.FLISTATUS),i.Hb(1),i.sc("ngIf",t.selectedMenuId===t.menuIds.LOCALE),i.Hb(1),i.sc("ngIf",t.selectedMenuId===t.menuIds.SEARCH))},directives:[gt.u,Fr,ss,ms,As,ea,ga,Pa],styles:[".icon-link[_ngcontent-%COMP%]   .fas.fa-bars[_ngcontent-%COMP%]{font-size:18px;color:var(--bg4)}@media screen and (max-width:1024px){.nav-icon-container[_ngcontent-%COMP%]{width:16px;display:flex;justify-content:center;align-items:center}.nav-icon-container[_ngcontent-%COMP%]   .close-btn-icon[_ngcontent-%COMP%]{font-size:20px}}"]}),e})();const Ha=function(){return["/"]};let Ua=(()=>{class e{constructor(){this.menuId=tr.a.INACTIVE,this.menuIsOpen=!1,this.logoImgSrc=nr.b,this.isAndroidBannerShown=!1,this.menuOptionClick=new i.p,this.menuIds=tr.a}ngOnInit(){}toggleMenu(e){this.menuOptionClick.emit(e)}isActiveButton(e){return this.menuIsOpen&&this.menuId===e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["app-responsive-header"]],inputs:{menuId:"menuId",menuIsOpen:"menuIsOpen",logoImgSrc:"logoImgSrc",isAndroidBannerShown:"isAndroidBannerShown"},outputs:{menuOptionClick:"menuOptionClick"},decls:9,vars:4,consts:[[1,"header-container","d-flex","flex-row","justify-content-between","align-items-center","w-100"],[1,"d-flex","flex-row","flex-fill"],[1,"header-logo",3,"routerLink"],["alt","VivaAerobus",3,"src"],[1,"d-flex","flex-row","justify-content-end","align-items-center","right-section"],[1,"header-separator"],[3,"isAndroidBannerShown"],[1,"ml-2"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"a",2),i.Ub(3,"img",3),i.Yb(),i.Yb(),i.Zb(4,"div",4),i.Ub(5,"app-header-login"),i.Ub(6,"div",5),i.Ub(7,"app-responsive-header-menu",6),i.Ub(8,"div",7),i.Yb(),i.Yb()),2&e&&(i.Hb(2),i.sc("routerLink",i.uc(3,Ha)),i.Hb(1),i.sc("src",t.logoImgSrc,i.Kc),i.Hb(4),i.sc("isAndroidBannerShown",t.isAndroidBannerShown))},directives:[wt.j,Or,Fa],styles:[".header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;max-width:113px;height:auto}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:60px;height:100%}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]{height:33px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:not(:last-child){margin-right:23px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:focus   span[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]{text-decoration:none;margin-left:23px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:var(--bg4);font-size:16px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]{height:33px;padding:0;overflow:visible}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,Arial;font-size:16px;font-weight:500;line-height:21px;color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{margin-right:9px;font-size:20px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:0}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0 20px;width:1px;height:19px;background-color:var(--gr20)}.edit-button[_ngcontent-%COMP%]{overflow:visible;position:relative}.edit-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;bottom:6px;left:-12.5%;width:125%;height:3px;border-radius:1.5px;margin:0;background-color:var(--vg4);opacity:0}.edit-button.active-btn[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .edit-button[_ngcontent-%COMP%]:hover   .line[_ngcontent-%COMP%]{opacity:1}"]}),e})();var Ya=n("d/Sv"),Ga=n("b3gp"),Va=n("RJ73"),Za=n("TUgU"),$a=n("rRMn");function Wa(e,t){1&e&&i.Ub(0,"i",15)}function Ka(e,t){1&e&&i.Ub(0,"i",16)}function za(e,t){if(1&e&&(i.Zb(0,"div",9),i.Zb(1,"span",10),i.Sc(2),i.Yb(),i.Zb(3,"div",11),i.Qc(4,Wa,1,0,"i",12),i.Qc(5,Ka,1,0,"i",13),i.Yb(),i.Zb(6,"span",14),i.Sc(7),i.Yb(),i.Yb()),2&e){const e=i.jc();i.Hb(2),i.Uc(" ",null==e.queryParamsModel?null:e.queryParamsModel.itineraryCode[0].origin.code," "),i.Hb(1),i.sc("ngSwitch",e.queryParamsModel.itineraryCode[0].origin.type||e.stationType.AIRPORT),i.Hb(1),i.sc("ngSwitchCase",e.stationType.AIRPORT),i.Hb(1),i.sc("ngSwitchCase",e.stationType.BUS_STATION),i.Hb(2),i.Uc(" ",null==e.queryParamsModel?null:e.queryParamsModel.itineraryCode[0].destination.code," ")}}function Qa(e,t){1&e&&(i.Xb(0),i.Sc(1),i.kc(2,"cmsTranslate"),i.Wb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"GLOBAL_LABEL_ONEWAY-TRIP")," "))}function Xa(e,t){1&e&&(i.Xb(0),i.Sc(1),i.kc(2,"cmsTranslate"),i.Wb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"GLOBAL_LABEL_ROUND-TRIP")," "))}function qa(e,t){1&e&&(i.Xb(0),i.Sc(1),i.kc(2,"cmsTranslate"),i.Wb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"GLOBAL_LABEL_MULTICITY-TRIP")," "))}const Ja=function(e){return{"active-btn":e}};function ec(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",17),i.Zb(1,"button",18),i.hc("click",(function(){i.Hc(e);const t=i.jc();return t.toggleMenu(t.menuIds.EDIT_SEARCH)})),i.Zb(2,"span"),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Ub(5,"div",19),i.Yb(),i.Zb(6,"span",20),i.Sc(7),i.kc(8,"i18nPlural"),i.kc(9,"i18nPlural"),i.kc(10,"i18nPlural"),i.Yb(),i.Zb(11,"span",20),i.Sc(12),i.Yb(),i.Zb(13,"span",21),i.Qc(14,Qa,3,3,"ng-container",22),i.Qc(15,Xa,3,3,"ng-container",22),i.Qc(16,qa,3,3,"ng-container",22),i.Yb(),i.Yb()}if(2&e){const e=i.jc();i.Hb(1),i.sc("ngClass",i.vc(22,Ja,e.isActiveButton(e.menuIds.EDIT_SEARCH))),i.Hb(2),i.Tc(i.lc(4,11,"GLOBAL_ACTION_EDIT")),i.Hb(4),i.Xc(" ",i.mc(8,13,e.queryParamsModel.passengers.adults,e.passengersLabels[e.passengerType.ADULTS])," ",e.queryParamsModel.passengers.adults&&e.queryParamsModel.passengers.kids?", ":""," ",i.mc(9,16,e.queryParamsModel.passengers.kids,e.passengersLabels[e.passengerType.KIDS])," ",i.mc(10,19,e.queryParamsModel.passengers.babies,e.passengersLabels[e.passengerType.BABIES])," "),i.Hb(5),i.Uc(" ",e.queryParamDates," "),i.Hb(1),i.sc("ngSwitch",e.queryParamsModel.travelType),i.Hb(1),i.sc("ngSwitchCase",e.travelTypeId.ONE_WAY),i.Hb(1),i.sc("ngSwitchCase",e.travelTypeId.ROUND_TRIP),i.Hb(1),i.sc("ngSwitchCase",e.travelTypeId.MULTI_CITY)}}const tc=function(){return["/"]},nc=function(e){return{"pe-none":e}};let ic=(()=>{class e{constructor(e,t,n,o){this.txHeaderSvc=e,this.cmsTranslate=t,this.datalayerUxBooking=n,this.srcChannel=o,this.menuId=tr.a.INACTIVE,this.menuIsOpen=!1,this.logoImgSrc=nr.b,this.menuOptionClick=new i.p,this.menuIds=tr.a,this.queryParamsSubscription=Wt.a.EMPTY,this.travelTypeId=Ya.a,this.stationType=Va.i,this.passengersLabels={[Ga.b.ADULTS]:{"=0":"","=1":"1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULT-COUNT"),other:"# "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULTS-COUNT")},[Ga.b.KIDS]:{"=0":"","=1":"1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILD-COUNT"),other:"# "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILDREN-COUNT")},[Ga.b.BABIES]:{"=0":"","=1":", 1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANT-COUNT"),other:", # "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANTS-COUNT")}},this.passengerType=Ga.b}ngOnInit(){this.queryParamsSubscription=this.txHeaderSvc._availabilityQueryParams$.subscribe(e=>{this.queryParamsModel=null==e?void 0:e.availabilityQueryParams})}ngOnDestroy(){this.queryParamsSubscription.closed||this.queryParamsSubscription.unsubscribe()}get queryParamDates(){if(this.queryParamsModel&&this.queryParamsModel.itineraryCode&&this.queryParamsModel.itineraryCode.length){let e="";return this.queryParamsModel.itineraryCode.forEach((t,n)=>{let i;i="string"==typeof t.date?kn(t.date):t.date,e+=i.format("D MMM"),n<this.queryParamsModel.itineraryCode.length-1&&(e+=" - ")}),e}return""}toggleMenu(e){this.datalayerUxBooking.clickEditFlightOptions(),this.menuOptionClick.emit(e)}isActiveButton(e){return this.menuIsOpen&&this.menuId===e}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(ir.a),i.Tb(Za.a),i.Tb($a.a),i.Tb(Wo.b))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-booking-header"]],inputs:{menuId:"menuId",menuIsOpen:"menuIsOpen",logoImgSrc:"logoImgSrc"},outputs:{menuOptionClick:"menuOptionClick"},decls:14,vars:11,consts:[[1,"header-container","d-flex","flex-md-row","flex-column","justify-content-between","align-items-center","w-100"],[1,"d-flex","flex-row","justify-content-start","align-items-center","left-section"],[1,"alt-header-logo",3,"routerLink","ngClass"],["loading","lazy",3,"src"],["class","d-flex flex-row align-items-center",4,"ngIf"],[1,"d-flex","flex-row","justify-content-end","align-items-center","right-section"],["class","d-flex flex-row-reverse align-items-center",4,"ngIf"],[1,"header-separator"],[3,"active","click"],[1,"d-flex","flex-row","align-items-center"],[1,"h4","mr-20"],[1,"h4",3,"ngSwitch"],["class","fas fa-plane",4,"ngSwitchCase"],["class","fas fa-bus",4,"ngSwitchCase"],[1,"h4","ml-20"],[1,"fas","fa-plane"],[1,"fas","fa-bus"],[1,"d-flex","flex-row-reverse","align-items-center"],[1,"viva-btn","btn-link","edit-button","ml-20",3,"ngClass","click"],[1,"line","line-hidden"],[1,"small-title","opacity-5","ml-20"],[1,"small-title","opacity-5",3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"a",2),i.kc(3,"async"),i.Ub(4,"img",3),i.Yb(),i.Qc(5,za,8,5,"div",4),i.Yb(),i.Zb(6,"div",5),i.Qc(7,ec,17,24,"div",6),i.Ub(8,"div",7),i.Zb(9,"app-curloc-button",8),i.hc("click",(function(){return t.toggleMenu(t.menuIds.LOCALE)})),i.Yb(),i.Ub(10,"div",7),i.Ub(11,"app-header-login"),i.Ub(12,"div",7),i.Ub(13,"app-basket-button"),i.Yb(),i.Yb()),2&e&&(i.Hb(2),i.sc("routerLink",i.uc(8,tc))("ngClass",i.vc(9,nc,i.lc(3,6,t.srcChannel.isAppChannel$))),i.Hb(2),i.sc("src",t.logoImgSrc,i.Kc),i.Hb(1),i.sc("ngIf",(null==t.queryParamsModel?null:t.queryParamsModel.itineraryCode)&&(null==t.queryParamsModel?null:t.queryParamsModel.itineraryCode.length)),i.Hb(2),i.sc("ngIf",t.queryParamsModel),i.Hb(2),i.sc("active",t.isActiveButton(t.menuIds.LOCALE)))},directives:[wt.j,gt.r,gt.u,cr,Or,Ar,gt.y,gt.z],pipes:[gt.b,On.a,gt.j],styles:[".header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:auto;height:30px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:auto;height:30px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]{height:33px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .viva-badge[_ngcontent-%COMP%]{cursor:pointer;height:21px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .viva-badge[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-size:10px;font-weight:500;line-height:1.5}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:not(:last-child){margin-right:23px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:focus   span[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]{text-decoration:none;margin-left:23px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:var(--bg4);font-size:16px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]{height:33px;padding:0;overflow:visible}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,Arial;font-size:14px;font-weight:500;line-height:21px;color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{margin-right:9px;font-size:20px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:0}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0 20px;width:1px;height:19px;background-color:var(--gr20)}@media screen and (max-width:575px){.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0 15px}}.edit-button[_ngcontent-%COMP%]{overflow:visible;position:relative}.edit-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;bottom:6px;left:-12.5%;width:125%;height:3px;border-radius:1.5px;margin:0;background-color:var(--vg4);opacity:0}.edit-button.active-btn[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .edit-button[_ngcontent-%COMP%]:hover   .line[_ngcontent-%COMP%]{opacity:1}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{justify-content:space-between!important}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   a.alt-header-logo[_ngcontent-%COMP%]{margin-right:0}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   a.alt-header-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:69px;height:auto}.header-container[_ngcontent-%COMP%]   .left-section.logo-res-nav[_ngcontent-%COMP%]{min-width:62px}.header-container[_ngcontent-%COMP%]   .data-res-nav-container[_ngcontent-%COMP%]{min-width:320px;padding-left:15px}}@media screen and (max-width:1240px) and (max-width:575px){.header-container[_ngcontent-%COMP%]   .data-res-nav-container[_ngcontent-%COMP%]{width:100%;min-width:auto;justify-content:space-between!important}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .small-point[_ngcontent-%COMP%]{width:4px;height:4px;margin:5px 3px 5px 5px;background-color:var(--bg4);border-radius:50%}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0;width:1px;height:30px;background-color:var(--gr20)}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .icon-action[_ngcontent-%COMP%]     i{font-size:15px!important}}"]}),e})();function oc(e,t){1&e&&i.Ub(0,"i",20)}function rc(e,t){1&e&&i.Ub(0,"i",21)}function sc(e,t){if(1&e&&(i.Zb(0,"div",14),i.Zb(1,"span",15),i.Sc(2),i.Yb(),i.Zb(3,"div",16),i.Qc(4,oc,1,0,"i",17),i.Qc(5,rc,1,0,"i",18),i.Yb(),i.Zb(6,"span",19),i.Sc(7),i.Yb(),i.Yb()),2&e){const e=i.jc();i.Hb(2),i.Uc(" ",null==e.queryParamsModel?null:e.queryParamsModel.itineraryCode[0].origin.code," "),i.Hb(1),i.sc("ngSwitch",e.queryParamsModel.itineraryCode[0].origin.type||e.stationType.AIRPORT),i.Hb(1),i.sc("ngSwitchCase",e.stationType.AIRPORT),i.Hb(1),i.sc("ngSwitchCase",e.stationType.BUS_STATION),i.Hb(2),i.Uc(" ",null==e.queryParamsModel?null:e.queryParamsModel.itineraryCode[0].destination.code," ")}}function ac(e,t){if(1&e&&(i.Zb(0,"div",22),i.Zb(1,"span",23),i.Ub(2,"i",24),i.Sc(3),i.Yb(),i.Ub(4,"div",25),i.Zb(5,"span",26),i.Sc(6),i.Yb(),i.Yb()),2&e){const e=i.jc();i.Hb(3),i.Uc(" ",e.queryParamsModel.passengers.adults+e.queryParamsModel.passengers.kids+e.queryParamsModel.passengers.babies," "),i.Hb(3),i.Uc(" ",e.queryParamDates," ")}}const cc=function(){return["/"]},lc=function(e){return{"pe-none":e}},uc=function(e){return{"active-btn":e}};let dc=(()=>{class e{constructor(e,t,n,o){this.txHeaderSvc=e,this.cmsTranslate=t,this.datalayerUxBooking=n,this.srcChannel=o,this.menuId=tr.a.INACTIVE,this.menuIsOpen=!1,this.logoImgSrc=nr.b,this.menuOptionClick=new i.p,this.menuIds=tr.a,this.queryParamsSubscription=Wt.a.EMPTY,this.travelTypeId=Ya.a,this.stationType=Va.i,this.passengersLabels={[Ga.b.ADULTS]:{"=0":"","=1":"1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULT-COUNT"),other:"# "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULTS-COUNT")},[Ga.b.KIDS]:{"=0":"","=1":", 1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILD-COUNT"),other:", # "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILDREN-COUNT")},[Ga.b.BABIES]:{"=0":"","=1":", 1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANT-COUNT"),other:", # "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANTS-COUNT")}},this.passengerType=Ga.b}ngOnInit(){this.queryParamsSubscription=this.txHeaderSvc._availabilityQueryParams$.subscribe(e=>{this.queryParamsModel=null==e?void 0:e.availabilityQueryParams})}ngOnDestroy(){this.queryParamsSubscription.closed||this.queryParamsSubscription.unsubscribe()}get queryParamDates(){if(this.queryParamsModel&&this.queryParamsModel.itineraryCode&&this.queryParamsModel.itineraryCode.length){let e="";return this.queryParamsModel.itineraryCode.forEach((t,n)=>{let i;i="string"==typeof t.date?kn(t.date):t.date,e+=i.format("D MMM"),n<this.queryParamsModel.itineraryCode.length-1&&(e+=" - ")}),e}return""}toggleMenu(e){this.datalayerUxBooking.clickEditFlightOptions(),this.menuOptionClick.emit(e)}isActiveButton(e){return this.menuIsOpen&&this.menuId===e}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(ir.a),i.Tb(Za.a),i.Tb($a.a),i.Tb(Wo.b))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-booking-header-responsive"]],inputs:{menuId:"menuId",menuIsOpen:"menuIsOpen",logoImgSrc:"logoImgSrc"},outputs:{menuOptionClick:"menuOptionClick"},decls:20,vars:13,consts:[[1,"header-container","d-flex","justify-content-between","align-items-center","w-100"],[1,"d-flex","justify-content-start","align-items-center","left-section","logo-res-nav"],[1,"alt-header-logo",3,"routerLink","ngClass"],["loading","lazy",3,"src"],[1,"d-flex","justify-content-around","align-items-center","data-res-nav-container"],[1,"header-separator"],[1,"d-flex","flex-row","justify-content-between"],[1,"d-flex","flex-column"],["class","d-flex flex-row align-items-center justify-content-end",4,"ngIf"],["class","d-flex flex-row align-items-center justify-content-start",4,"ngIf"],[1,"icon-action","justify-content-center"],[1,"viva-btn","btn-link","edit-button",3,"ngClass","click"],[1,"fas","fa-pencil"],[1,"icon-action","justify-content-center","align-items-center","pr-5"],[1,"d-flex","flex-row","align-items-center","justify-content-end"],[1,"regular-text","mr-5"],[1,"smaller-text",3,"ngSwitch"],["class","fas fa-plane",4,"ngSwitchCase"],["class","fas fa-bus",4,"ngSwitchCase"],[1,"regular-text","ml-5"],[1,"fas","fa-plane"],[1,"fas","fa-bus"],[1,"d-flex","flex-row","align-items-center","justify-content-start"],[1,"small-text","opacity-5"],[1,"fas","fa-user"],[1,"small-point"],[1,"small-text","opacity-5","ml-5"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"a",2),i.kc(3,"async"),i.Ub(4,"img",3),i.Yb(),i.Yb(),i.Zb(5,"div",4),i.Ub(6,"div",5),i.Zb(7,"div",6),i.Zb(8,"div",7),i.Qc(9,sc,8,5,"div",8),i.Qc(10,ac,7,2,"div",9),i.Yb(),i.Yb(),i.Zb(11,"div",10),i.Zb(12,"button",11),i.hc("click",(function(){return t.toggleMenu(t.menuIds.EDIT_SEARCH)})),i.Ub(13,"i",12),i.Yb(),i.Yb(),i.Ub(14,"div",5),i.Zb(15,"div",10),i.Ub(16,"app-basket-button"),i.Yb(),i.Ub(17,"div",5),i.Zb(18,"div",13),i.Ub(19,"app-header-login"),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(2),i.sc("routerLink",i.uc(8,cc))("ngClass",i.vc(9,lc,i.lc(3,6,t.srcChannel.isAppChannel$))),i.Hb(2),i.sc("src",t.logoImgSrc,i.Kc),i.Hb(5),i.sc("ngIf",(null==t.queryParamsModel?null:t.queryParamsModel.itineraryCode)&&(null==t.queryParamsModel?null:t.queryParamsModel.itineraryCode.length)),i.Hb(1),i.sc("ngIf",t.queryParamsModel),i.Hb(2),i.sc("ngClass",i.vc(11,uc,t.isActiveButton(t.menuIds.EDIT_SEARCH))))},directives:[wt.j,gt.r,gt.u,Ar,Or,gt.y,gt.z],pipes:[gt.b],styles:[".header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:auto;height:30px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:auto;height:30px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]{height:33px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .viva-badge[_ngcontent-%COMP%]{cursor:pointer;height:21px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .viva-badge[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-size:10px;font-weight:500;line-height:1.5}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:not(:last-child){margin-right:23px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:focus   span[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]{text-decoration:none;margin-left:23px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:var(--bg4);font-size:16px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]{height:33px;padding:0;overflow:visible}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,Arial;font-size:14px;font-weight:500;line-height:21px;color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{margin-right:9px;font-size:20px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:0}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0 20px;width:1px;height:19px;background-color:var(--gr20)}@media screen and (max-width:575px){.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0 15px}}.edit-button[_ngcontent-%COMP%]{overflow:visible;position:relative}.edit-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;bottom:6px;left:-12.5%;width:125%;height:3px;border-radius:1.5px;margin:0;background-color:var(--vg4);opacity:0}.edit-button.active-btn[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .edit-button[_ngcontent-%COMP%]:hover   .line[_ngcontent-%COMP%]{opacity:1}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{justify-content:space-between!important}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   a.alt-header-logo[_ngcontent-%COMP%]{margin-right:0}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   a.alt-header-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:69px;height:auto}.header-container[_ngcontent-%COMP%]   .left-section.logo-res-nav[_ngcontent-%COMP%]{min-width:62px}.header-container[_ngcontent-%COMP%]   .data-res-nav-container[_ngcontent-%COMP%]{min-width:320px;padding-left:15px}}@media screen and (max-width:1240px) and (max-width:575px){.header-container[_ngcontent-%COMP%]   .data-res-nav-container[_ngcontent-%COMP%]{width:100%;min-width:auto;justify-content:space-between!important}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .small-point[_ngcontent-%COMP%]{width:4px;height:4px;margin:5px 3px 5px 5px;background-color:var(--bg4);border-radius:50%}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0;width:1px;height:30px;background-color:var(--gr20)}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .icon-action[_ngcontent-%COMP%]     i{font-size:15px!important}}"]}),e})();var hc=n("st0d");function pc(e,t){if(1&e&&(i.Zb(0,"div",10),i.Zb(1,"div",11),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Zb(4,"div",12),i.Sc(5),i.Yb(),i.Yb()),2&e){const e=i.jc();i.Hb(2),i.Uc(" ",i.lc(3,2,"MANAGE_LABEL_YOUR-RESERVATION")," "),i.Hb(3),i.Uc(" ",e.pnr," ")}}function gc(e,t){if(1&e&&(i.Zb(0,"span",15),i.Sc(1),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.Vc(" ",null==e.queryParamsModel||null==e.queryParamsModel.itineraryCode[0].origin?null:e.queryParamsModel.itineraryCode[0].origin.code," - ",null==e.queryParamsModel||null==e.queryParamsModel.itineraryCode[0].destination?null:e.queryParamsModel.itineraryCode[0].destination.code," ")}}function fc(e,t){if(1&e&&(i.Zb(0,"div",13),i.Qc(1,gc,2,2,"span",14),i.Zb(2,"span",15),i.Sc(3),i.Yb(),i.Zb(4,"span",15),i.Sc(5),i.kc(6,"i18nPlural"),i.kc(7,"i18nPlural"),i.kc(8,"i18nPlural"),i.Yb(),i.Yb()),2&e){const e=i.jc();i.Hb(1),i.sc("ngIf",null==e.queryParamsModel?null:e.queryParamsModel.itineraryCode.length),i.Hb(2),i.Uc(" ",e.queryParamDates," "),i.Hb(2),i.Wc(" ",i.mc(6,5,e.queryParamsModel.passengers.adults,e.passengersLabels[e.passengerType.ADULTS])," ",i.mc(7,8,e.queryParamsModel.passengers.kids,e.passengersLabels[e.passengerType.KIDS])," ",i.mc(8,11,e.queryParamsModel.passengers.babies,e.passengersLabels[e.passengerType.BABIES])," ")}}function mc(e,t){if(1&e&&(i.Zb(0,"span",20),i.Sc(1),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.Vc(" ",null==e.queryParamsModel?null:e.queryParamsModel.itineraryCode[0].origin.code," - ",null==e.queryParamsModel?null:e.queryParamsModel.itineraryCode[0].destination.code," ")}}function bc(e,t){if(1&e&&(i.Zb(0,"div",16),i.Zb(1,"div",17),i.Zb(2,"div",12),i.Sc(3),i.Yb(),i.Ub(4,"div",18),i.Qc(5,mc,2,2,"span",19),i.Yb(),i.Zb(6,"div",17),i.Zb(7,"span",20),i.Ub(8,"em",21),i.Sc(9),i.Yb(),i.Ub(10,"div",18),i.Zb(11,"span",20),i.Sc(12),i.Yb(),i.Yb(),i.Yb()),2&e){const e=i.jc();i.Hb(3),i.Uc(" ",e.pnr," "),i.Hb(2),i.sc("ngIf",null==e.queryParamsModel?null:e.queryParamsModel.itineraryCode.length),i.Hb(4),i.Uc(" ",e.queryParamsModel.passengers.adults+e.queryParamsModel.passengers.kids+e.queryParamsModel.passengers.babies," "),i.Hb(3),i.Uc(" ",e.queryParamDates," ")}}const vc=function(){return["/"]},yc=function(e){return{"pe-none":e}};let _c=(()=>{class e{constructor(e,t,n,i,o){this.cmsTranslate=e,this.txHeaderSvc=t,this.basket=n,this.bookingParams=i,this.srcChannel=o,this.logoImgSrc=nr.b,this.logoImgSrcRes=nr.b,this.passengersLabels={[Ga.b.ADULTS]:{"=0":"","=1":"1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULT-COUNT"),other:"# "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULTS-COUNT")},[Ga.b.KIDS]:{"=0":"","=1":", 1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILD-COUNT"),other:", # "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILDREN-COUNT")},[Ga.b.BABIES]:{"=0":"","=1":", 1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANT-COUNT"),other:", # "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANTS-COUNT")}},this.queryParamsSubscription=Wt.a.EMPTY,this.onBasketSubscription=Wt.a.EMPTY,this.passengerType=Ga.b}ngOnInit(){this.queryParamsSubscription=this.txHeaderSvc._availabilityQueryParams$.subscribe(e=>{this.queryParamsModel=null==e?void 0:e.availabilityQueryParams}),this.onBasketSubscription=this.basket.fullBasket$.subscribe(e=>Object(Pt.a)(this,void 0,void 0,(function*(){if(e&&e.basketBooking&&e.basket&&e.basket.flowType===Xt.b.Manage){this.pnr||(this.pnr=e.basketBooking.pnr);const t=yield this.bookingParams.getBasketBookingParams(e.basket,!1);t&&this.txHeaderSvc.pushBookingQueryParams(t,hc.a.BASKET_INFO)}})))}ngOnDestroy(){this.queryParamsSubscription.closed||this.queryParamsSubscription.unsubscribe(),this.onBasketSubscription.closed||this.onBasketSubscription.unsubscribe()}get queryParamDates(){if(this.queryParamsModel&&this.queryParamsModel.itineraryCode&&this.queryParamsModel.itineraryCode.length){let e="";return this.queryParamsModel.itineraryCode.forEach((t,n)=>{let i;i="string"==typeof t.date?Es(t.date):t.date,e+=i.format("D MMM"),n<this.queryParamsModel.itineraryCode.length-1&&(e+=" - ")}),e}return""}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(Za.a),i.Tb(ir.a),i.Tb(qt.a),i.Tb(Lo.a),i.Tb(Wo.b))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-mmb-header"]],inputs:{logoImgSrc:"logoImgSrc",logoImgSrcRes:"logoImgSrcRes"},decls:14,vars:12,consts:[[1,"header-container","d-flex","justify-content-between","align-items-center","w-100","pr-2","pr-lg-0"],[1,"d-flex","flex-row","justify-content-start","align-items-center","left-section"],[1,"header-logo","mr-2",3,"routerLink","ngClass"],["loading","lazy",1,"d-none","d-lg-block",3,"src"],["loading","lazy",1,"d-block","d-lg-none",3,"src"],["class","d-none d-lg-flex flex-column align-items-start",4,"ngIf"],[1,"d-flex","flex-row","justify-content-end","align-items-center","right-section"],["class","d-none d-lg-flex align-items-center",4,"ngIf"],["class","d-flex flex-column d-lg-none",4,"ngIf"],[1,"header-separator"],[1,"d-none","d-lg-flex","flex-column","align-items-start"],[1,"small-title","darker","opacity-5"],[1,"title","darker"],[1,"d-none","d-lg-flex","align-items-center"],["class","small-title opacity-5 ml-20",4,"ngIf"],[1,"small-title","opacity-5","ml-20"],[1,"d-flex","flex-column","d-lg-none"],[1,"d-flex","align-items-center"],[1,"small-point"],["class","small-title opacity-5",4,"ngIf"],[1,"small-title","opacity-5"],[1,"fas","fa-user"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"a",2),i.kc(3,"async"),i.Ub(4,"img",3),i.Ub(5,"img",4),i.Yb(),i.Qc(6,pc,6,4,"div",5),i.Yb(),i.Zb(7,"div",6),i.Qc(8,fc,9,14,"div",7),i.Qc(9,bc,13,4,"div",8),i.Ub(10,"div",9),i.Ub(11,"app-header-login"),i.Ub(12,"div",9),i.Ub(13,"app-basket-button"),i.Yb(),i.Yb()),2&e&&(i.Hb(2),i.sc("routerLink",i.uc(9,vc))("ngClass",i.vc(10,yc,i.lc(3,7,t.srcChannel.isAppChannel$))),i.Hb(2),i.sc("src",t.logoImgSrc,i.Kc),i.Hb(1),i.sc("src",t.logoImgSrcRes,i.Kc),i.Hb(1),i.sc("ngIf",t.pnr),i.Hb(2),i.sc("ngIf",t.queryParamsModel),i.Hb(1),i.sc("ngIf",t.queryParamsModel))},directives:[wt.j,gt.r,gt.u,Or,Ar],pipes:[gt.b,On.a,gt.j],styles:[".header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   a.header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:auto;height:30px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:35px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > a.alt-header-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:auto;height:30px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]{height:33px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .viva-badge[_ngcontent-%COMP%]{cursor:pointer;height:21px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .viva-badge[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-size:10px;font-weight:500;line-height:1.5}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:not(:last-child){margin-right:23px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:focus   span[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%] > .left-button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]{text-decoration:none;margin-left:23px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:var(--bg4);font-size:16px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]{height:33px;padding:0;overflow:visible}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,Arial;font-size:14px;font-weight:500;line-height:21px;color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{margin-right:9px;font-size:20px}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]:hover   i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:0}.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0 20px;width:1px;height:19px;background-color:var(--gr20)}@media screen and (max-width:575px){.header-container[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0 15px}}.edit-button[_ngcontent-%COMP%]{overflow:visible;position:relative}.edit-button[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;bottom:6px;left:-12.5%;width:125%;height:3px;border-radius:1.5px;margin:0;background-color:var(--vg4);opacity:0}.edit-button.active-btn[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .edit-button[_ngcontent-%COMP%]:hover   .line[_ngcontent-%COMP%]{opacity:1}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{justify-content:space-between!important}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   a.alt-header-logo[_ngcontent-%COMP%]{margin-right:0}.header-container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   a.alt-header-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:69px;height:auto}.header-container[_ngcontent-%COMP%]   .left-section.logo-res-nav[_ngcontent-%COMP%]{min-width:62px}.header-container[_ngcontent-%COMP%]   .data-res-nav-container[_ngcontent-%COMP%]{min-width:320px;padding-left:15px}}@media screen and (max-width:1240px) and (max-width:575px){.header-container[_ngcontent-%COMP%]   .data-res-nav-container[_ngcontent-%COMP%]{width:100%;min-width:auto;justify-content:space-between!important}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .small-point[_ngcontent-%COMP%]{width:4px;height:4px;margin:5px 3px 5px 5px;background-color:var(--bg4);border-radius:50%}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%]{margin:0;width:1px;height:30px;background-color:var(--gr20)}}@media screen and (max-width:1240px){.header-container[_ngcontent-%COMP%]   .icon-action[_ngcontent-%COMP%]     i{font-size:15px!important}}"]}),e})();function Cc(e,t){if(1&e){const e=i.ac();i.Xb(0),i.Zb(1,"div",9),i.Zb(2,"app-reservation-option",10),i.hc("menuClose",(function(){return i.Hc(e),i.jc().emitClose()})),i.Yb(),i.Yb(),i.Wb()}if(2&e){const e=t.$implicit;i.Hb(2),i.sc("item",e)}}let Sc=(()=>{class e{constructor(e){this.storefront=e,this.menuClose=new i.p,this.reservationItems=[],this.initMenuLinkEntries()}ngOnInit(){}emitClose(){this.menuClose.emit()}initMenuLinkEntries(){var e,t;return Object(Pt.a)(this,void 0,void 0,(function*(){yield this.storefront.ready,this.reservationItems=(null===(t=null===(e=this.storefront.storefrontData.headerNavigation)||void 0===e?void 0:e.find(e=>{var t;return(null===(t=e.fields)||void 0===t?void 0:t.code)===Hr.b}))||void 0===t?void 0:t.fields.items)||[]}))}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(Yt.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-reservation-menu"]],outputs:{menuClose:"menuClose"},decls:11,vars:4,consts:[[1,"reservation-menu","main-container"],[1,"container"],[1,"row"],[1,"col-12"],[1,"h4","pt-40"],[1,"modal-close","green",3,"click"],[1,"fas","fa-times"],[1,"row","pt-20"],[4,"ngFor","ngForOf"],[1,"col-2"],[3,"item","menuClose"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"div",3),i.Zb(4,"div",4),i.Sc(5),i.kc(6,"cmsTranslate"),i.Yb(),i.Zb(7,"button",5),i.hc("click",(function(){return t.emitClose()})),i.Ub(8,"i",6),i.Yb(),i.Yb(),i.Yb(),i.Zb(9,"div",7),i.Qc(10,Cc,3,1,"ng-container",8),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(5),i.Tc(i.lc(6,2,"HEADER_MENU_BOOK_TITLE")),i.Hb(5),i.sc("ngForOf",t.reservationItems))},directives:[gt.t,Jr],pipes:[On.a],styles:[".reservation-menu.main-container[_ngcontent-%COMP%]{background-color:var(--wh2)}.modal-close[_ngcontent-%COMP%]{height:24px;width:24px;top:40px;right:10px}"]}),e})();const Oc=function(e){return{"background-color":e}};let Tc=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["app-reservation-card"]],inputs:{reservation:"reservation"},decls:24,vars:20,consts:[[1,"d-flex","flex-column","justify-content-between","reservation-card","content-container"],[1,"card-image",3,"ngStyle"],[1,"d-flex","flex-column","justify-content-end","card-content"],[1,"d-flex","flex-column","justify-content-end","info"],[1,"d-flex","flex-row","justify-content-between","align-items-center"],[1,"my-0","card-title"],[1,"d-flex","flex-row","justify-content-center","align-items-center","icon-container"],[1,"medium-title"],[1,"small-title"],[1,"card-footer"],[1,"viva-btn","normal","height-auto","pr-0"],[1,"content"],[1,"fas","fa-arrow-right","fa-sm"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Ub(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"div",3),i.Zb(4,"div",4),i.Zb(5,"h4",5),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Zb(8,"div",6),i.Ub(9,"i"),i.Yb(),i.Yb(),i.Zb(10,"span",7),i.Sc(11),i.Yb(),i.Zb(12,"span",8),i.Sc(13),i.kc(14,"date"),i.kc(15,"date"),i.Yb(),i.Zb(16,"span",8),i.Sc(17),i.Yb(),i.Yb(),i.Zb(18,"div",9),i.Zb(19,"button",10),i.Zb(20,"div",11),i.Zb(21,"span"),i.Sc(22,"Administrar mi reserva"),i.Yb(),i.Ub(23,"i",12),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(1),i.sc("ngStyle",i.vc(18,Oc,t.reservation.image)),i.Hb(5),i.Tc(i.lc(7,10,"HEADER_MANAGE_NEXTFLIGHT-TITLE")),i.Hb(3),i.Kb("fas ",t.reservation.type,""),i.Hb(2),i.Vc(" ",t.reservation.locations[0],"",t.reservation.locations.length>1?" - "+t.reservation.locations[1]:""," "),i.Hb(2),i.Vc("",i.mc(14,12,t.reservation.dates[0],"d MMM"),"",t.reservation.dates.length>1?" - "+i.mc(15,15,t.reservation.dates[1],"d MMM"):"",""),i.Hb(4),i.Uc("",t.reservation.people," Adulto"))},directives:[gt.x],pipes:[On.a,gt.f],styles:['.reservation-card.content-container[_ngcontent-%COMP%]{background-color:var(--wh1);box-shadow:0 1px 5px 0 rgba(95,95,95,.07),0 0 50px 0 hsla(0,0%,55.3%,.07)}.reservation-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{overflow:hidden;width:100%;height:148px;background-repeat:no-repeat;background-size:cover;background-position:50%;background-image:url(https://via.placeholder.com/300x300)}.reservation-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{min-height:214px}.reservation-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{max-width:calc(100% - 80px)}.reservation-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{margin-left:20px;margin-right:-10px;width:60px;height:60px;border-radius:50%;background-color:var(--wh2)}.reservation-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--bg4);font-size:17px}.reservation-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding:0 20px}.reservation-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{margin-bottom:9px}.reservation-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .small-title[_ngcontent-%COMP%]{opacity:.5}.reservation-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-bottom:17px}.reservation-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-bottom:10px}.reservation-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{position:relative;padding:20px 20px 10px;text-align:right}.reservation-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:16px;line-height:15px}.reservation-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > i.fas[_ngcontent-%COMP%]{margin-left:11px;font-size:16px}.reservation-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]:before{content:"";position:absolute;top:10px;left:20px;width:calc(100% - 40px);height:1px;background-color:var(--gr20)}']}),e})();function wc(e,t){if(1&e&&i.Ub(0,"app-flight-checklist",12),2&e){const e=i.jc();i.sc("checklist",e.checklist)}}function kc(e,t){if(1&e&&i.Ub(0,"app-reservation-card",13),2&e){const e=i.jc();i.sc("reservation",e.reservation)}}function Ac(e,t){1&e&&i.Ub(0,"div",14)}let Ec=(()=>{class e{constructor(e,t){this.auth=e,this.storefront=t,this.menuClose=new i.p,this.hasReservation=!1,this.isLoggedIn=!1,this.reservation={image:"https://via.placeholder.com/300x300",type:"fa-plane-departure",locations:["Chicago","Mazatl\xe1n"],dates:[new Date("2020-02-13"),new Date("2020-03-14")],people:1},this.checklist=["HEADER_MANAGE_BULLET-1","HEADER_MANAGE_BULLET-2","HEADER_MANAGE_BULLET-3","HEADER_MANAGE_BULLET-4","HEADER_MANAGE_BULLET-5","HEADER_MANAGE_BULLET-6"],this.authDataSub=Wt.a.EMPTY,this.initStorefrontEntries()}ngOnInit(){this.authDataSub=this.auth.userDetails$.subscribe(e=>{this.isLoggedIn=this.auth.isLoggedIn})}ngOnDestroy(){this.authDataSub.closed||this.authDataSub.unsubscribe()}emitClose(){this.menuClose.emit()}initStorefrontEntries(){var e,t,n;return Object(Pt.a)(this,void 0,void 0,(function*(){yield this.storefront.ready;const i=(null===(n=null===(t=null===(e=this.storefront.storefrontData.headerNavigation)||void 0===e?void 0:e.find(e=>{var t;return"HOMEPAGE_MAINMENU_BANNERS"===(null===(t=e.fields)||void 0===t?void 0:t.code)}))||void 0===t?void 0:t.fields)||void 0===n?void 0:n.items)||[];Array.isArray(i)&&i.length&&(this.promotionalBanner=i[0].fields)}))}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(fn.a),i.Tb(Yt.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-flight-menu"]],outputs:{menuClose:"menuClose"},decls:14,vars:8,consts:[[1,"flight-menu","background-container"],[1,"left-background"],[1,"container"],[1,"row","vertical-padding-container"],[1,"col-xl-5","left-content"],[1,"container-fluid","px-0","contrast"],[3,"checklist",4,"ngIf"],[3,"ngClass"],[3,"reservation",4,"ngIf"],["class","col-xl-1",4,"ngIf"],[3,"isLoggedIn","hasReservation"],[3,"promotionalBanner"],[3,"checklist"],[3,"reservation"],[1,"col-xl-1"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Ub(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"div",3),i.Zb(4,"div",4),i.Zb(5,"div",5),i.Qc(6,wc,1,1,"app-flight-checklist",6),i.Yb(),i.Yb(),i.Xb(7),i.Zb(8,"div",7),i.Qc(9,kc,1,1,"app-reservation-card",8),i.Yb(),i.Qc(10,Ac,1,0,"div",9),i.Zb(11,"div",7),i.Ub(12,"app-reservation-search-form",10),i.Yb(),i.Wb(),i.Yb(),i.Yb(),i.Yb(),i.Ub(13,"app-promotional-banner-card",11)),2&e&&(i.Hb(6),i.sc("ngIf",t.checklist),i.Hb(2),i.sc("ngClass",t.hasReservation?"col-xl-3 reservation-card":"col-xl-1"),i.Hb(1),i.sc("ngIf",t.hasReservation),i.Hb(1),i.sc("ngIf",t.hasReservation),i.Hb(1),i.sc("ngClass",t.hasReservation?"col-xl-3":"col-xl-6"),i.Hb(1),i.sc("isLoggedIn",t.isLoggedIn)("hasReservation",t.hasReservation),i.Hb(1),i.sc("promotionalBanner",t.promotionalBanner))},directives:[gt.u,gt.r,ls.a,ps,gs.a,Tc],styles:[".flight-menu.background-container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--wh2)}.flight-menu[_ngcontent-%COMP%]   .vertical-padding-container[_ngcontent-%COMP%]{padding:37px 0}.flight-menu[_ngcontent-%COMP%]   .left-background[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:44.25%;background-color:var(--bg4);height:100%}.flight-menu[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]{z-index:1}.flight-menu[_ngcontent-%COMP%]   .reservation-card[_ngcontent-%COMP%]{z-index:1;margin:-37px 20px -37px -20px}"]}),e})(),Mc=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["app-search-container"]],decls:2,vars:1,consts:[[1,"search-container"],[3,"popularSearches"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Ub(1,"app-site-search",1),i.Yb()),2&e&&(i.Hb(1),i.sc("popularSearches",!0))},directives:[Ma],styles:[".search-container[_ngcontent-%COMP%]{width:100%;background-color:var(--wh1)}"]}),e})();var Pc=n("KTnf"),Dc=n("tpaT"),xc=n("Gj4D"),Ic=n("FTCy"),Lc=n("iyif"),Rc=n("uQub"),Nc=n("kWhM"),jc=n("8KPo"),Bc=n("Mxju"),Fc=n("wYrS");const Hc=["rowContainer"];function Uc(e,t){1&e&&i.Vb(0)}function Yc(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-booker-calendar",33),i.hc("selectedDatesChange",(function(t){return i.Hc(e),i.jc(2).selectedDates(t)})),i.Yb()}if(2&e){const e=i.jc(2);i.sc("isLoading",e.isCalendarLoading[0])("isRoundTrip",e.isRoundTrip)("departureBookingDates",e.bookingDays[0])("returnBookingDates",e.returnBookingDays[0])("forceMaxDate",e.forceMaxDate)("selectedDates",e.savedSelectedDates[0])}}function Gc(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-booker-calendar-responsive",33),i.hc("selectedDatesChange",(function(t){return i.Hc(e),i.jc(2).selectedDates(t)})),i.Yb()}if(2&e){const e=i.jc(2);i.sc("isLoading",e.isCalendarLoading[0])("isRoundTrip",e.isRoundTrip)("departureBookingDates",e.bookingDays[0])("returnBookingDates",e.returnBookingDays[0])("forceMaxDate",e.forceMaxDate)("selectedDates",e.savedSelectedDates[0])}}function Vc(e,t){1&e&&i.Vb(0)}function Zc(e,t){1&e&&i.Vb(0)}function $c(e,t){1&e&&i.Vb(0)}function Wc(e,t){if(1&e){const e=i.ac();i.Zb(0,"div"),i.Zb(1,"div",17),i.Zb(2,"div",18),i.Qc(3,Uc,1,0,"ng-container",19),i.Yb(),i.Yb(),i.Zb(4,"div",20),i.Zb(5,"div",21),i.Zb(6,"app-flight-input",22),i.hc("selectedStationsChanged",(function(t){return i.Hc(e),i.jc().setJourneyStations(t)}))("savedSearchSelected",(function(t){return i.Hc(e),i.jc().setSavedSearch(t)})),i.Yb(),i.Yb(),i.Zb(7,"div",23),i.Qc(8,Yc,1,6,"app-booker-calendar",24),i.Qc(9,Gc,1,6,"app-booker-calendar-responsive",24),i.Yb(),i.Zb(10,"div",25),i.Ub(11,"app-flight-passengers",26),i.Yb(),i.Zb(12,"div",27),i.Qc(13,Vc,1,0,"ng-container",19),i.Yb(),i.Zb(14,"div",28),i.Ub(15,"app-flight-passengers",29),i.Yb(),i.Zb(16,"div",30),i.Zb(17,"div",31),i.Qc(18,Zc,1,0,"ng-container",19),i.Yb(),i.Yb(),i.Yb(),i.Zb(19,"div",32),i.Qc(20,$c,1,0,"ng-container",19),i.Yb(),i.Yb()}if(2&e){const e=i.jc(),t=i.Ec(18),n=i.Ec(20);i.sc("@fadeIn",void 0)("@fadeOut",e.selectorAnimation),i.Hb(3),i.sc("ngTemplateOutlet",t),i.Hb(3),i.sc("selectedStations",e.savedSelectedStations[0])("forceMaxDate",e.forceMaxDate)("includeMaacStations",e.includeMaacStations)("customInputIds",e.flightInputIds),i.Hb(2),i.sc("ngIf",!e.deviceService.isMobile()),i.Hb(1),i.sc("ngIf",e.deviceService.isMobile()),i.Hb(2),i.sc("passengers",e.bookerForm.passengers),i.Hb(2),i.sc("ngTemplateOutlet",n),i.Hb(2),i.sc("simpleStyle",!1)("passengers",e.bookerForm.passengers),i.Hb(3),i.sc("ngTemplateOutlet",t),i.Hb(2),i.sc("ngTemplateOutlet",n)}}function Kc(e,t){1&e&&i.Vb(0)}function zc(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-booker-calendar",51),i.hc("selectedDatesChange",(function(t){i.Hc(e);const n=i.jc().index;return i.jc(2).selectedDates(t,n)}))("isOpened",(function(t){i.Hc(e);const n=i.jc().index;return i.jc(2).setCalendarState(t,n)})),i.Yb()}if(2&e){const e=i.jc().index,t=i.jc(2);i.sc("isLoading",t.isCalendarLoading[e])("departureBookingDates",t.multiCityDates[e])("selectedDates",t.savedSelectedDates[e])("isRoundTrip",!1)("displayCalendar",t.displayCalendar[e])("showToLeft",!0)("forceMaxDate",t.forceMaxDate)}}function Qc(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-booker-calendar-responsive",52),i.hc("selectedDatesChange",(function(t){i.Hc(e);const n=i.jc().index;return i.jc(2).selectedDates(t,n)}))("openModal",(function(){return i.Hc(e),i.jc(3).removeOverflowState(!0)}))("closeModal",(function(){return i.Hc(e),i.jc(3).removeOverflowState(!1)})),i.Yb()}if(2&e){const e=i.jc().index,t=i.jc(2);i.sc("isLoading",t.isCalendarLoading[e])("departureBookingDates",t.multiCityDates[e])("selectedDates",t.savedSelectedDates[e])("isRoundTrip",!1)("forceMaxDate",t.forceMaxDate)}}const Xc=function(e){return{regex:"%%flight counter%%",newValue:e}},qc=function(e){return[e]};function Jc(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",43),i.Zb(1,"p",44),i.Sc(2),i.kc(3,"cmsRegexReplace"),i.kc(4,"cmsTranslate"),i.Yb(),i.Zb(5,"div",45),i.Zb(6,"div",46),i.Zb(7,"app-flight-input",47),i.hc("selectedStationsChanged",(function(n){i.Hc(e);const o=t.index;return i.jc(2).setJourneyStations(n,o)}))("savedSearchSelected",(function(n){i.Hc(e);const o=t.index;return i.jc(2).setSavedSearch(n,o)})),i.Yb(),i.Yb(),i.Zb(8,"div",48),i.Qc(9,zc,1,7,"app-booker-calendar",49),i.Qc(10,Qc,1,5,"app-booker-calendar-responsive",50),i.Yb(),i.Yb(),i.Yb()}if(2&e){const e=t.index,n=i.jc(2);i.Hb(2),i.Uc(" ",i.mc(3,9,i.lc(4,12,"BOOKER_LABEL_FLIGHT-COUNT"),i.vc(16,qc,i.vc(14,Xc,(e+1).toString())))," "),i.Hb(5),i.sc("selectedStations",n.savedSelectedStations[e])("showLastFlightSearch",0===e)("forceMaxDate",n.forceMaxDate)("prevJourney",e>0?n.bookerForm.journeys[e-1]:void 0)("includeMaacStations",n.includeMaacStations)("customInputIds",n.setMultiCityInputIds(e)),i.Hb(2),i.sc("ngIf",!n.deviceService.isMobile()),i.Hb(1),i.sc("ngIf",n.deviceService.isMobile())}}function el(e,t){1&e&&i.Vb(0)}function tl(e,t){1&e&&i.Vb(0)}const nl=function(){return[]};function il(e,t){if(1&e&&(i.Zb(0,"div"),i.Zb(1,"div",34),i.Zb(2,"div",35),i.Zb(3,"div",36),i.Qc(4,Kc,1,0,"ng-container",19),i.Yb(),i.Yb(),i.Zb(5,"div",37),i.Ub(6,"app-flight-passengers",38),i.Yb(),i.Yb(),i.Zb(7,"div"),i.Qc(8,Jc,11,18,"div",39),i.Yb(),i.Zb(9,"div",40),i.Zb(10,"div",41),i.Zb(11,"div",31),i.Qc(12,el,1,0,"ng-container",19),i.Yb(),i.Yb(),i.Zb(13,"div",42),i.Qc(14,tl,1,0,"ng-container",19),i.Yb(),i.Yb(),i.Yb()),2&e){const e=i.jc(),t=i.Ec(18),n=i.Ec(20);i.sc("@fadeIn",void 0)("@fadeOut",e.selectorAnimation),i.Hb(4),i.sc("ngTemplateOutlet",t),i.Hb(2),i.sc("simpleStyle",!0)("rightPositionDesktop",!0)("rightPositionResponsive",!1)("passengers",e.bookerForm.passengers),i.Hb(2),i.sc("ngForOf",i.uc(10,nl).constructor(e.bookerForm.journeys.length)),i.Hb(4),i.sc("ngTemplateOutlet",t),i.Hb(2),i.sc("ngTemplateOutlet",n)}}function ol(e,t){if(1&e){const e=i.ac();i.Zb(0,"button",55),i.hc("click",(function(){return i.Hc(e),i.jc(2).openCouponModal()})),i.Sc(1),i.kc(2,"cmsTranslate"),i.Ub(3,"i",56),i.Yb()}2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"BOOKER_ACTION_ENTERPROMOCODE")," "))}function rl(e,t){if(1&e){const e=i.ac();i.Zb(0,"button",57),i.hc("click",(function(){return i.Hc(e),i.jc(2).openCouponModal()})),i.Sc(1),i.kc(2,"cmsTranslate"),i.Zb(3,"span",58),i.Sc(4),i.Yb(),i.Ub(5,"i",59),i.Yb()}if(2&e){const e=i.jc(2);i.Hb(1),i.Uc(" ",i.lc(2,2,"BOOKER_LABEL_PROMOCODE")," "),i.Hb(3),i.Tc(e.bookerForm.promoCode)}}function sl(e,t){if(1&e&&(i.Qc(0,ol,4,3,"button",53),i.Qc(1,rl,6,4,"ng-template",null,54,i.Rc)),2&e){const e=i.Ec(2),t=i.jc();i.sc("ngIf",!t.bookerForm.promoCode)("ngIfElse",e)}}function al(e,t){if(1&e){const e=i.ac();i.Zb(0,"button",60),i.hc("click",(function(){return i.Hc(e),i.jc().updateSearch()})),i.Zb(1,"span"),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Yb()}if(2&e){const e=i.jc();i.sc("disabled",e.isACalendarLoading),i.Hb(2),i.Tc(i.lc(3,2,"GLOBAL_ACTION_UPDATE"))}}const cl=function(e,t){return{"close-animation":e,"remove-overflow":t}};let ll=(()=>{class e{constructor(e,t,n,o,r,s,a,c,l,u,d){this.couponService=e,this.flightBookUtilsSvc=t,this.stationSearchHistory=n,this.availabilitySvc=o,this.router=r,this.route=s,this.txHeaderSvc=a,this.deviceService=c,this.cdRef=l,this.auth=u,this.cmsConfig=d,this.bookerForm=new Pc.a,this.displayCalendar=[!1],this.savedSelectedStations=[void 0],this.savedSelectedDates=[void 0],this.lastSelectedDates=[void 0],this.bookingDays=[[{date:kn(),availableDirectFlights:!1}]],this.returnBookingDays=[[{date:kn(),availableDirectFlights:!1}]],this.isCalendarLoading=[!1],this.closeAnimation=!1,this.tripType=Ya.a,this.multiCityDates=[[{date:kn(),availableDirectFlights:!1}]],this.closeOverlay=new i.p,this.menuClose=new i.p,this.isStaff=!1,this.onAccountSubscription=Wt.a.EMPTY,this.includeMaacStations=!1,this.selectorAnimation=!0,this.flightInputIds={origin:"flight-search-origin",destination:"flight-search-destination"},this.removeOverflow=!1,this.addMultiCityRoute(),this.staffBookingWindow=this.cmsConfig._cmsConfig.bookingSettings.staffBookingWindow||25,this.includeMaacStations=this.cmsConfig.getBookingFeatureValue(jt.a.IncludeMaacStationsInSearch)||!1}ngOnInit(){this.txHeaderSvc._availabilityQueryParams$.pipe(Object(Ht.a)(1)).subscribe(e=>{e&&e.availabilityQueryParams&&this.setBookingParams(e.availabilityQueryParams)}),this.checkStaffAccount()}ngOnDestroy(){this.onAccountSubscription.closed||this.onAccountSubscription.unsubscribe()}checkStaffAccount(){this.onAccountSubscription=this.auth.userAccountData$.subscribe(e=>{this.isStaff=!1,this.forceMaxDate=void 0,(null==e?void 0:e.accountType)===hn.k.Staff&&(this.isStaff=!0),this.isStaff&&this.setStaffBookingWindow()})}setStaffBookingWindow(){this.forceMaxDate=kn().add(this.staffBookingWindow,"d")}openCouponModal(){this.couponService.openModal()}setPromocode(e){this.bookerForm.promoCode=e}applyTransition(){this.previousHeight=this.rowContainer.nativeElement.getBoundingClientRect().height+80,this.containerStyle={height:this.previousHeight+"px"},Object(Dt.a)(0).subscribe(()=>{this.heightContainer=this.rowContainer.nativeElement.getBoundingClientRect().height+80,this.containerStyle={height:this.heightContainer+"px"}})}setTripType(e){let t=0;e!==Ya.a.MULTI_CITY&&this.bookerForm.tripType!==Ya.a.MULTI_CITY||(this.selectorAnimation=!1,t=300),Object(Dt.a)(t).subscribe(()=>{var t;[Ya.a.ONE_WAY,Ya.a.ROUND_TRIP].includes(e)&&(null===(t=this.savedSelectedDates[0])||void 0===t?void 0:t.startDate)&&(this.lastSelectedDates=this.savedSelectedDates),this.bookerForm.tripType=e,this.savedSelectedDates=[void 0],e===Ya.a.MULTI_CITY&&(this.displayCalendar[0]=!0),this.setRoutes(),this.saveCurrentTrip(),this.applyTransition(),this.selectorAnimation=!0})}selectedDates(e,t=0){var n;if(this.setDatesToMultiCity(e,t),this.bookerForm.journeys[t].journeyDates=e,this.setRoutes(),!e&&(null===(n=this.lastSelectedDates[0])||void 0===n?void 0:n.startDate)){const{startDate:e}=this.lastSelectedDates[0];this.savedSelectedDates[0]={startDate:e,endDate:this.bookerForm.tripType===Ya.a.ROUND_TRIP?e:void 0},this.lastSelectedDates=void 0}}setDatesToMultiCity(e,t=0){if(this.bookerForm.tripType===Ya.a.MULTI_CITY&&(null==e?void 0:e.startDate)&&t+1<this.multiCityDates.length){const n=this.bookingDays.slice(t+1,this.multiCityDates.length);if(n.every(e=>e.length>1))for(const i of n){const o=i.filter(t=>t.date.isSameOrAfter(e.startDate,"D"));this.multiCityDates.splice(t+1,n.length,o)}this.bookerForm.journeys.forEach((e,n)=>{var i,o;n>t&&e.journeyDates&&e.journeyDates.startDate.isBefore(null===(i=this.bookerForm.journeys[t].journeyDates)||void 0===i?void 0:i.startDate,"D")&&(null===(o=this.bookerCalendar.toArray()[n])||void 0===o||o.clearChosenDates())})}}setJourneyStations(e,t=0){var n,i,o,r,s,a;return Object(Pt.a)(this,void 0,void 0,(function*(){const c=null===(o=null===(i=null===(n=this.bookerForm)||void 0===n?void 0:n.journeys[t])||void 0===i?void 0:i.origin)||void 0===o?void 0:o.code,l=null===(a=null===(s=null===(r=this.bookerForm)||void 0===r?void 0:r.journeys[t])||void 0===s?void 0:s.destination)||void 0===a?void 0:a.code;if(this.bookerForm.journeys[t].origin=e.selectedOrigin,this.bookerForm.journeys[t].destination=e.selectedDestination,this.bookerForm.tripType===Ya.a.MULTI_CITY&&this.bookerForm.journeys.forEach((e,n)=>{var i;n>t&&(null===(i=this.flightInputs.toArray()[n])||void 0===i||i.clearFields())}),e.selectedOrigin&&e.selectedDestination&&e.selectedOrigin.code!==e.selectedDestination.code&&(c!==e.selectedOrigin.code||l!==e.selectedDestination.code)){const n=c===l&&e.selectedOrigin.code===c&&e.selectedDestination.code!==l,i=!!(c&&l&&e.selectedOrigin.code&&e.selectedDestination.code&&c===e.selectedOrigin.code&&l!==e.selectedDestination.code);yield this.getDateAvailability(t,n).then(()=>{var e,n;if(!this.savedSelectedStations[t]){this.savedSelectedDates[t]=void 0;const o=i?this.bookerForm.journeys[t].journeyDates:void 0;null===(e=this.bookerCalendarRes.toArray()[t])||void 0===e||e.tryToKeepPreviousDatesSelected(i),null===(n=this.bookerCalendar.toArray()[t])||void 0===n||n.clearChosenDates(o),this.displayCalendar[t]=!0}this.savedSelectedStations[t]=void 0})}}))}setSavedSearch(e,t=0){this.savedSelectedStations[t]={selectedOriginCode:e.origin.code,selectedDestinationCode:e.destination.code},this.bookerForm.tripType!==Ya.a.MULTI_CITY&&e.travelType&&(this.bookerForm.tripType=e.travelType),this.setRoutes(),e.passengers&&(this.bookerForm.passengers=e.passengers);const n={startDate:void 0,endDate:void 0};e.startDate&&(n.startDate=kn(e.startDate),e.endDate&&(n.endDate=kn(e.endDate))),this.savedSelectedDates[t]=n}get isRoundTrip(){return this.bookerForm.tripType===Ya.a.ROUND_TRIP}getDateAvailability(e=0,t=!1){return Object(Pt.a)(this,void 0,void 0,(function*(){this.isCalendarLoading[e]=!0;try{if(t){const t=this.bookingDays[e];this.bookingDays[e]=this.returnBookingDays[e],this.returnBookingDays[e]=t,this.multiCityDates[e]=this.bookingDays[e]}else{const t=this.availabilitySvc.getCalendarAvailability(this.bookerForm.journeys[e].origin.code,this.bookerForm.journeys[e].destination.code,this.bookerForm.journeys[e].origin.type,!0).toPromise(),n=this.availabilitySvc.getCalendarAvailability(this.bookerForm.journeys[e].destination.code,this.bookerForm.journeys[e].origin.code,this.bookerForm.journeys[e].origin.type,!0).toPromise(),i=yield Promise.all([t,n]);this.bookingDays[e]=i[0],this.returnBookingDays[e]=i[1],this.multiCityDates[e]=i[0]}if(this.bookerForm.tripType===Ya.a.MULTI_CITY&&e){const t=this.getMultiCityDate(e);this.multiCityDates[e]=this.multiCityDates[e].filter(e=>e.date.isSameOrAfter(t))}return void(this.isCalendarLoading[e]=!1)}catch(_){this.isCalendarLoading[e]=!1,this.bookingDays[e]=[{date:kn(),availableDirectFlights:!1}],this.returnBookingDays[e]=[{date:kn(),availableDirectFlights:!1}],this.multiCityDates[e]=[{date:kn(),availableDirectFlights:!1}]}}))}get isACalendarLoading(){for(const e of this.isCalendarLoading)if(!0===e)return!0;return!1}updateSearch(){var e,t;if(this.bookerForm.journeys.some(e=>!e.journeyDates)){const n=this.bookerForm.journeys.findIndex(e=>!e.journeyDates);if(this.deviceService.isMobile())null===(e=this.bookerCalendarRes.toArray()[n])||void 0===e||e.showCalendarMobile();else{const e=null===(t=this.bookerCalendar)||void 0===t?void 0:t.toArray()[n];null==e||e.clearChosenDates(),null==e||e.closeDatepicker(),null==e||e.openDatepicker()}}else if(this.flightPassengers.totalPassengers){if(!this.isACalendarLoading&&this.flightBookUtilsSvc.isValidForm(this.bookerForm)){if(this.bookerForm.tripType!==Ya.a.MULTI_CITY){const e=this.flightBookUtilsSvc.createStationSearchObject(this.bookerForm);this.stationSearchHistory.ready.then(()=>{this.stationSearchHistory.addFlightSearchEntry(e)})}const e=this.flightBookUtilsSvc.createFlightSearchParams(this.bookerForm),t=this.route.snapshot.queryParamMap;t.has("bookingType")&&"Points"===t.get("bookingType")&&(e.bookingType="Points");const n=this.router.url,i=n.includes("book/options"),o=n.includes("book/calendar");i||o?this.router.navigate([],{relativeTo:this.route,queryParams:Object.assign({},e)}).then(()=>{window.location.reload()}):this.router.navigate(["book","options"],{queryParams:Object.assign({},e)})}}else this.flightPassengers.togglePopup(!0)}getDate(e,t="YYYY-MM-DD"){return"string"==typeof e?kn(e,t):e.clone()}setBookingParams(e){if(this.bookerForm.tripType=e.travelType,this.bookerForm.passengers=new Ga.a,this.bookerForm.passengers=Object.assign(this.bookerForm.passengers,e.passengers),void 0!==e.promoCode&&(this.bookerForm.promoCode=e.promoCode),this.bookerForm.tripType!==Ya.a.MULTI_CITY)switch(this.savedSelectedStations[0]={selectedOriginCode:e.itineraryCode[0].origin.code,selectedDestinationCode:e.itineraryCode[0].destination.code},this.bookerForm.tripType){case Ya.a.ONE_WAY:this.savedSelectedDates[0]={startDate:this.getDate(e.itineraryCode[0].date),endDate:void 0};break;case Ya.a.ROUND_TRIP:this.savedSelectedDates[0]={startDate:this.getDate(e.itineraryCode[0].date),endDate:this.getDate(e.itineraryCode[1].date)}}else e.itineraryCode.forEach((e,t)=>{this.savedSelectedStations[t]={selectedOriginCode:e.origin.code,selectedDestinationCode:e.destination.code},this.savedSelectedDates[t]={startDate:this.getDate(e.date),endDate:void 0}})}closeSearchModal(){this.closeAnimation=!0,this.closeOverlay.emit(!0),Object(Dt.a)(300).subscribe(()=>{this.closeAnimation=!1,this.closeOverlay.emit(!1),this.menuClose.emit()})}setRoutes(){this.bookerForm.tripType===Ya.a.MULTI_CITY&&this.bookerForm.journeys.length<2&&this.addMultiCityRoute(),this.bookerForm.tripType!==Ya.a.MULTI_CITY&&this.bookerForm.journeys.length>1&&this.deleteMultiCityRoute()}addMultiCityRoute(){this.bookerForm.journeys.push({origin:void 0,destination:void 0,journeyDates:void 0}),this.multiCityDates.push([{date:kn(),availableDirectFlights:!1}]),this.bookingDays.push([{date:kn(),availableDirectFlights:!1}]),this.displayCalendar.push(!1),this.returnBookingDays.push([{date:kn(),availableDirectFlights:!1}]),this.isCalendarLoading.push(!1),this.savedSelectedDates.push(void 0),this.savedSelectedStations.push(void 0)}deleteMultiCityRoute(){this.bookerForm.journeys.pop(),this.multiCityDates.pop(),this.bookingDays.pop(),this.displayCalendar.pop(),this.returnBookingDays.pop(),this.isCalendarLoading.pop(),this.savedSelectedDates.pop(),this.savedSelectedStations.pop()}saveCurrentTrip(){var e,t,n,i;for(const o of this.bookerForm.journeys){const r=this.bookerForm.journeys.indexOf(o);this.savedSelectedStations[r]=r?{selectedOriginCode:null===(e=this.bookerForm.journeys[r-1].destination)||void 0===e?void 0:e.code,selectedDestinationCode:null===(t=this.bookerForm.journeys[r-1].origin)||void 0===t?void 0:t.code}:{selectedOriginCode:null===(n=this.bookerForm.journeys[r].origin)||void 0===n?void 0:n.code,selectedDestinationCode:null===(i=this.bookerForm.journeys[r].destination)||void 0===i?void 0:i.code}}}getMultiCityDate(e){var t,n,i,o,r,s;if(e>0&&e<this.bookerForm.journeys.length)for(let a=e-1;a>=0;a--)if(null===(i=null===(n=null===(t=this.bookerForm.journeys)||void 0===t?void 0:t[a])||void 0===n?void 0:n.journeyDates)||void 0===i?void 0:i.startDate)return null===(s=null===(r=null===(o=this.bookerForm.journeys)||void 0===o?void 0:o[a])||void 0===r?void 0:r.journeyDates)||void 0===s?void 0:s.startDate;return kn()}setCalendarState(e,t){this.displayCalendar[t]=e&&this.displayCalendar.every(e=>!e),this.cdRef.detectChanges()}removeOverflowState(e){Object(Dt.a)(e?250:0).subscribe(()=>{this.removeOverflow=e})}setMultiCityInputIds(e){return{origin:"flight-search-origin-"+e,destination:"flight-search-destination-"+e}}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(Rc.a),i.Tb(Nc.a),i.Tb(Ms.a),i.Tb(jc.a),i.Tb(wt.g),i.Tb(wt.a),i.Tb(ir.a),i.Tb(Zt.a),i.Tb(i.i),i.Tb(fn.a),i.Tb($t.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-edit-search-menu"]],viewQuery:function(e,t){var n;1&e&&(i.Yc(Ic.a,!0),i.Yc(Hc,!0),i.Yc(Dc.a,!0),i.Yc(xc.a,!0),i.Yc(xs.a,!0)),2&e&&(i.Dc(n=i.ic())&&(t.flightPassengers=n.first),i.Dc(n=i.ic())&&(t.rowContainer=n.first),i.Dc(n=i.ic())&&(t.bookerCalendar=n),i.Dc(n=i.ic())&&(t.bookerCalendarRes=n),i.Dc(n=i.ic())&&(t.flightInputs=n))},outputs:{closeOverlay:"closeOverlay",menuClose:"menuClose"},decls:22,vars:13,consts:[[1,"edit-search-container",3,"ngClass","ngStyle"],[1,"container"],["rowContainer",""],[1,"row","align-items-baseline"],[1,"col-12","col-lg-6","px-0","px-lg-10"],[1,"d-flex","align-items-end"],[1,"title","light","edit-search-title","my-0"],[1,"mobile-view","close-btn","justify-content-end"],[1,"close-btn-container","d-flex","justify-content-center","align-items-center"],[1,"fas","fa-times-circle","d-flex","justify-content-center","align-items-center",3,"click"],[1,"col-12","col-lg-6","d-flex","justify-content-start","justify-content-lg-end","mt-20","mt-lg-0","p-0"],[3,"radioStyle","flightType","selectedFlightType"],[1,"edit-search-separator","opacity-5","mt-10","mb-20"],[4,"ngIf"],["promoBtnTemplate",""],["updateSearchBtn",""],[3,"promocode","typedPromocode"],[1,"row","mb-30","web-view"],[1,"col-12","d-flex","justify-content-end","align-items-center"],[4,"ngTemplateOutlet"],[1,"row","input-container"],[1,"col-9","mb-3"],[3,"selectedStations","forceMaxDate","includeMaacStations","customInputIds","selectedStationsChanged","savedSearchSelected"],[1,"col-5","calendar-container"],[3,"isLoading","isRoundTrip","departureBookingDates","returnBookingDates","forceMaxDate","selectedDates","selectedDatesChange",4,"ngIf"],[1,"col-4","d-none","d-lg-block"],[3,"passengers"],[1,"col-3","web-view"],[1,"col-12","mt-10","mobile-view-passengers"],[3,"simpleStyle","passengers"],[1,"mobile-promocode","mobile-view","w-100","mb-20","p-0"],[1,"d-flex","justify-content-end"],[1,"mobile-btn","mobile-view","w-100"],[3,"isLoading","isRoundTrip","departureBookingDates","returnBookingDates","forceMaxDate","selectedDates","selectedDatesChange"],[1,"row","mb-30"],[1,"col-9","d-flex","justify-content-start","justify-content-lg-end","align-items-center"],[1,"d-none","d-lg-block"],[1,"col-12","col-lg-3","d-flex","justify-content-start","justify-content-lg-end","align-items-center","pl-0"],[1,"ml-0","pass-selector",3,"simpleStyle","rightPositionDesktop","rightPositionResponsive","passengers"],["class","trips-container",4,"ngFor","ngForOf"],[1,"row","flex-column","flex-lg-row","justify-content-end"],[1,"mobile-promocode","mobile-view","w-100","my-20","p-0"],[1,"col-lg-3","mt-20","p-0","mb-40","mb-lg-0"],[1,"trips-container"],[1,"title","light","flight"],[1,"row","flex-column","flex-lg-row"],[1,"col-12","col-lg-9","p-0","px-lg-1"],[3,"selectedStations","showLastFlightSearch","forceMaxDate","prevJourney","includeMaacStations","customInputIds","selectedStationsChanged","savedSearchSelected"],[1,"col-12","col-lg-3","p-0","px-lg-1","calendar"],[3,"isLoading","departureBookingDates","selectedDates","isRoundTrip","displayCalendar","showToLeft","forceMaxDate","selectedDatesChange","isOpened",4,"ngIf"],[3,"isLoading","departureBookingDates","selectedDates","isRoundTrip","forceMaxDate","selectedDatesChange","openModal","closeModal",4,"ngIf"],[3,"isLoading","departureBookingDates","selectedDates","isRoundTrip","displayCalendar","showToLeft","forceMaxDate","selectedDatesChange","isOpened"],[3,"isLoading","departureBookingDates","selectedDates","isRoundTrip","forceMaxDate","selectedDatesChange","openModal","closeModal"],["class","viva-btn tertiary light",3,"click",4,"ngIf","ngIfElse"],["promocodeBtn",""],[1,"viva-btn","tertiary","light",3,"click"],[1,"fas","fa-plus","ml-2"],[1,"edit-search-promocode",3,"click"],[1,"mx-2"],[1,"fas","fa-ellipsis-v"],[1,"viva-btn","action","w-100",3,"disabled","click"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1,2),i.Zb(3,"div",3),i.Zb(4,"div",4),i.Zb(5,"div",5),i.Zb(6,"h3",6),i.Sc(7),i.kc(8,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(9,"div",7),i.Zb(10,"div",8),i.Zb(11,"i",9),i.hc("click",(function(){return t.closeSearchModal()})),i.Yb(),i.Yb(),i.Yb(),i.Zb(12,"div",10),i.Zb(13,"app-flight-select",11),i.hc("selectedFlightType",(function(e){return t.setTripType(e)})),i.Yb(),i.Yb(),i.Yb(),i.Ub(14,"hr",12),i.Qc(15,Wc,21,15,"div",13),i.Qc(16,il,15,11,"div",13),i.Yb(),i.Yb(),i.Qc(17,sl,3,2,"ng-template",null,14,i.Rc),i.Qc(19,al,4,4,"ng-template",null,15,i.Rc),i.Zb(21,"app-coupons-modal",16),i.hc("typedPromocode",(function(e){return t.setPromocode(e)})),i.Yb()),2&e&&(i.sc("ngClass",i.wc(10,cl,t.closeAnimation,t.removeOverflow))("ngStyle",t.containerStyle),i.Hb(7),i.Uc(" ",i.lc(8,8,"BOOKER_LABEL_UPDATE-SEARCH")," "),i.Hb(6),i.sc("radioStyle",!0)("flightType",t.bookerForm.tripType),i.Hb(2),i.sc("ngIf",t.bookerForm.tripType!==t.tripType.MULTI_CITY),i.Hb(1),i.sc("ngIf",t.bookerForm.tripType===t.tripType.MULTI_CITY),i.Hb(5),i.sc("promocode",t.bookerForm.promoCode))},directives:[gt.r,gt.x,Bc.a,gt.u,Fc.a,gt.B,xs.a,Ic.a,Dc.a,xc.a,gt.t],pipes:[On.a,Vi.a],styles:[".edit-search-container[_ngcontent-%COMP%]{padding-top:40px;padding-bottom:40px;background-color:var(--bg4);position:relative;transition:all .2s}@media screen and (max-width:991px){.edit-search-container[_ngcontent-%COMP%]{-webkit-animation:slideIn .3s ease 0s normal forwards;animation:slideIn .3s ease 0s normal forwards;max-width:800px;right:0;top:0;position:fixed;min-height:100%;bottom:0;width:100%;padding:0;z-index:0;display:flex;justify-content:center;overflow:auto;height:auto!important}.edit-search-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;padding:40px 20px;height:100%;margin:0}.edit-search-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{align-items:unset!important;margin:0}.edit-search-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-9[_ngcontent-%COMP%]{padding:0}.edit-search-container.remove-overflow[_ngcontent-%COMP%]{overflow:unset!important}}.edit-search-container[_ngcontent-%COMP%]   .flight[_ngcontent-%COMP%]{font-size:20px}@media screen and (max-width:991px){.edit-search-container[_ngcontent-%COMP%]   .flight[_ngcontent-%COMP%]{font-size:16px}}.edit-search-title[_ngcontent-%COMP%]{font-size:28px;line-height:1.14}@media screen and (max-width:575px){.edit-search-title[_ngcontent-%COMP%]{flex:0 0 100%;font-size:24px}}.edit-search-separator[_ngcontent-%COMP%]{background-color:var(--wh1);border:none}@media screen and (max-width:991px){.edit-search-separator[_ngcontent-%COMP%]{margin-bottom:20px!important}}.edit-search-promocode[_ngcontent-%COMP%]{font-family:Axiforma,Arial;font-weight:700;color:var(--bg6);background-color:var(--vg4);border:none;border-radius:20px;padding:5px 15px;cursor:pointer}.edit-search-promocode[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--wh1)}.edit-search-promocode[_ngcontent-%COMP%]:focus{outline:none}.mobile-view[_ngcontent-%COMP%]{display:none!important}@media screen and (max-width:991px){.mobile-view[_ngcontent-%COMP%]{display:flex!important}}.mobile-view-passengers[_ngcontent-%COMP%]{display:none!important}@media screen and (max-width:991px){.mobile-view-passengers[_ngcontent-%COMP%]{padding:0!important;display:block!important}}.web-view[_ngcontent-%COMP%]{display:flex!important}@media screen and (max-width:991px){.web-view[_ngcontent-%COMP%]{display:none!important}}@media screen and (max-width:991px){.close-animation[_ngcontent-%COMP%]{-webkit-animation:slideOut .3s ease 0s normal forwards;animation:slideOut .3s ease 0s normal forwards}.calendar-container[_ngcontent-%COMP%]{margin-top:10px!important;padding:0!important}.close-btn-container[_ngcontent-%COMP%]{width:32px;height:32px;background-color:var(--bg6);border-radius:50%;cursor:pointer;position:absolute}.close-btn-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;background-color:var(--wh1);width:20px;height:20px;border-radius:50%}.close-btn-container[_ngcontent-%COMP%]:hover{background-color:var(--vg4)}.close-btn-container[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--vg4)}}@media screen and (max-width:991px) and (max-width:991px){.pass-selector[_ngcontent-%COMP%]{position:relative;left:-15px}}@media screen and (max-width:991px) and (max-width:720px){.pass-selector[_ngcontent-%COMP%]{position:relative;left:-10px}}@media screen and (max-width:991px){.input-container[_ngcontent-%COMP%]{flex-wrap:wrap!important;display:block}.input-container[_ngcontent-%COMP%]   .col-9[_ngcontent-%COMP%]{width:100%;min-width:100%;margin:0!important}.input-container[_ngcontent-%COMP%]   .col-5[_ngcontent-%COMP%]{width:100%;min-width:100%;margin-top:5px}.input-container[_ngcontent-%COMP%]   .mobile-promocode[_ngcontent-%COMP%]{padding:0 10px;margin-top:20px}}@media screen and (max-width:991px) and (max-width:800px){.input-container[_ngcontent-%COMP%]   .mobile-promocode[_ngcontent-%COMP%]{padding:0!important}}@media screen and (max-width:991px){.input-container[_ngcontent-%COMP%]   .mobile-btn[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;left:0;padding:0 20px 20px;margin:0}}@media screen and (max-width:800px){.calendar-container[_ngcontent-%COMP%]{margin-top:5px!important}}@-webkit-keyframes slideIn{0%{-webkit-transform:translateX(100%)}to{-webkit-transform:translateX(0)}}@keyframes slideIn{0%{transform:translateX(100%)}to{transform:translateX(0)}}@-webkit-keyframes slideOut{0%{transform:translateX(0)}to{transform:translateX(100%)}}@keyframes slideOut{0%{transform:translateX(0)}to{transform:translateX(100%)}}@media screen and (max-width:991px){.calendar[_ngcontent-%COMP%]{margin-top:10px}}@media screen and (max-width:800px){.calendar[_ngcontent-%COMP%]{margin-top:5px}}.trips-container[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:40px}"],data:{animation:[Object(h.n)("fadeIn",[Object(h.m)(":enter",[Object(h.o)(Lc.a)])]),Object(h.n)("fadeOut",[Object(h.m)("true => false",[Object(h.o)(Lc.b)])])]}}),e})();function ul(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-main-header",13),i.hc("menuOptionClick",(function(t){return i.Hc(e),i.jc(2).toggleMenu(t)})),i.kc(1,"cmsStaticImage"),i.Yb()}if(2&e){const e=i.jc(2);i.sc("logoImgSrc",e.showDarksite?i.lc(1,3,"DARK_SITE_LOGO_VIVA"):e.prinpalLogo)("menuId",e.menuId)("menuIsOpen",e.menuIsOpen)}}function dl(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-responsive-header",14),i.hc("menuOptionClick",(function(t){return i.Hc(e),i.jc(2).toggleMenu(t)})),i.kc(1,"cmsStaticImage"),i.Yb()}if(2&e){const e=i.jc(2);i.sc("logoImgSrc",e.showDarksite?i.lc(1,4,"DARK_SITE_LOGO_VIVA"):e.prinpalLogo)("menuId",e.menuId)("menuIsOpen",e.menuIsOpen)("isAndroidBannerShown",e.isAndroidBannerShown)}}function hl(e,t){if(1&e&&(i.Xb(0),i.Qc(1,ul,2,5,"app-main-header",11),i.Qc(2,dl,2,6,"app-responsive-header",12),i.Wb()),2&e){const e=i.jc();i.Hb(1),i.sc("ngIf",!e.isMobile),i.Hb(1),i.sc("ngIf",e.isMobile)}}function pl(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-booking-header",13),i.hc("menuOptionClick",(function(t){return i.Hc(e),i.jc(2).toggleMenu(t)})),i.kc(1,"cmsStaticImage"),i.Yb()}if(2&e){const e=i.jc(2);i.sc("logoImgSrc",e.showDarksite?i.lc(1,3,"DARK_SITE_LOGO_VIVA"):e.altLogoImg)("menuId",e.menuId)("menuIsOpen",e.menuIsOpen)}}function gl(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-booking-header-responsive",13),i.hc("menuOptionClick",(function(t){return i.Hc(e),i.jc(2).toggleMenu(t)})),i.kc(1,"cmsStaticImage"),i.Yb()}if(2&e){const e=i.jc(2);i.sc("logoImgSrc",e.showDarksite?i.lc(1,3,"DARK_SITE_LOGO_VIVA"):e.altMobileLogoImg)("menuId",e.menuId)("menuIsOpen",e.menuIsOpen)}}function fl(e,t){if(1&e&&(i.Xb(0),i.Qc(1,pl,2,5,"app-booking-header",11),i.Qc(2,gl,2,5,"app-booking-header-responsive",11),i.Wb()),2&e){const e=i.jc();i.Hb(1),i.sc("ngIf",!e.isMobile),i.Hb(1),i.sc("ngIf",e.isMobile)}}function ml(e,t){if(1&e&&(i.Xb(0),i.Ub(1,"app-mmb-header",15),i.kc(2,"cmsStaticImage"),i.Wb()),2&e){const e=i.jc();i.Hb(1),i.sc("logoImgSrc",e.showDarksite?i.lc(2,2,"DARK_SITE_LOGO_VIVA"):e.prinpalLogo)("logoImgSrcRes",e.altMobileLogoImg)}}function bl(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-reservation-menu",16),i.hc("menuClose",(function(){return i.Hc(e),i.jc().closeMenu()})),i.Yb()}}function vl(e,t){1&e&&i.Ub(0,"app-flight-menu")}function yl(e,t){1&e&&i.Ub(0,"app-planning-menu")}function _l(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-flight-status-menu",16),i.hc("menuClose",(function(){return i.Hc(e),i.jc().closeMenu()})),i.Yb()}}function Cl(e,t){1&e&&i.Ub(0,"app-search-container")}function Sl(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-locale-currency-modal",17),i.hc("menuClose",(function(){return i.Hc(e),i.jc().closeMenu()})),i.Yb()}if(2&e){const e=i.jc();i.sc("isInBooking",e.headerType===e.vivaHeaderType.BOOKING)}}function Ol(e,t){if(1&e){const e=i.ac();i.Zb(0,"app-edit-search-menu",18),i.hc("menuClose",(function(){return i.Hc(e),i.jc().closeMenu()}))("closeOverlay",(function(t){return i.Hc(e),i.jc().checkOverlayAnimation(t)})),i.Yb()}}const Tl=function(e){return{"android-top":e}},wl=function(e,t){return{show:e,"close-animation":t}};let kl=(()=>{class e{constructor(e,t,n,i,o,r,s){this.document=e,this.router=t,this.utilsSvc=n,this.storefront=i,this.csmConfig=o,this.location=r,this.txHeaderSvc=s,this.menuIds=tr.a,this.menuId=tr.a.INACTIVE,this.menuIsOpen=!1,this.headerType=tr.b.NORMAL,this.vivaHeaderType=tr.b,this.vivaHeaderTypeClass="",this.routerSubscription=Wt.a.EMPTY,this.altLogoImg=nr.b,this.altMobileLogoImg=nr.b,this.isMobile=!1,this.closeAnimation=!1,this.showDarksite=!1,this.prinpalLogo="https://content.vivaaerobus.com/pwa/viva-logo.svg",this.editSearchSubscription=Wt.a.EMPTY,this.isAndroidBannerShown=!1,this.showDarksite=this.csmConfig.getSectionFeatureValue(jt.b.GLOBAL,jt.a.DarkSite)}onResize(e){e.target.innerWidth<=1240?(this.isMobile||this.closeMenu(),this.isMobile=!0):(this.isMobile&&this.document.body.classList.remove("open-modal"),this.isMobile=!1)}ngOnInit(){this.windowSize(),this.startRouteNavigationSubscription(),this.setLogosImgSrc(),this.editSearchSubscription=this.txHeaderSvc.editSeachNotify$.subscribe(e=>{e&&this.toggleMenu(tr.a.EDIT_SEARCH)})}ngOnDestroy(){this.routerSubscription.unsubscribe(),this.editSearchSubscription.closed||this.editSearchSubscription.unsubscribe()}toggleMenu(e){const t=this.menuId;this.closeMenu(),e!==t&&this.openMenu(e)}openMenu(e){this.menuId=e,this.menuIsOpen=!0,this.document.body.classList.add("open-responsive-modal")}checkOverlayAnimation(e){this.closeAnimation=e}closeMenu(){this.menuId=tr.a.INACTIVE,this.menuIsOpen=!1,this.document.body.classList.remove("open-responsive-modal")}startRouteNavigationSubscription(){this.routerSubscription=this.router.events.subscribe(e=>{var t;if(e instanceof wt.c){this.closeMenu();const n=null===(t=this.router.parseUrl(e.url).root.children[wt.f])||void 0===t?void 0:t.segments;if(n){if(this.utilsSvc.isInsideSegment(n,"maintenance")){const{from:e}=this.location.getState();if(e)return void this.setHeaderType(tr.b.NORMAL)}if(this.utilsSvc.isInsideSegment(n,"book")&&!this.utilsSvc.isInsideSegment(n,"confirmation"))return void this.setHeaderType(tr.b.BOOKING);if(this.utilsSvc.isInsideSegment(n,"manage")&&!this.utilsSvc.isInsideSegment(n,"trip-details")&&!this.utilsSvc.isInsideSegment(n,"find-booking")&&!this.utilsSvc.isInsideSegment(n,"marketplace")||this.utilsSvc.isInsideSegment(n,"irop")&&!this.utilsSvc.isInsideSegment(n,"find-booking"))return void this.setHeaderType(tr.b.MANAGE);this.setHeaderType(tr.b.NORMAL)}else this.setHeaderType(tr.b.NORMAL)}})}setHeaderType(e){this.headerType=e,this.vivaHeaderTypeClass=this.getHeaderTypeClass(this.headerType)}getHeaderTypeClass(e){switch(e){case tr.b.NORMAL:return"";case tr.b.BOOKING:return"header-booking";case tr.b.MANAGE:return"header-manage";default:return""}}setLogosImgSrc(){this.storefront.ready.then(()=>{var e,t,n,i,o,r;const s=this.storefront.storefrontData;s&&s.mainLogo&&!c.g.production&&(this.prinpalLogo=(null===(t=null===(e=s.mainLogo.fields)||void 0===e?void 0:e.file)||void 0===t?void 0:t.url)||nr.b),s&&s.altLogo&&(this.altLogoImg=(null===(i=null===(n=s.altLogo.fields)||void 0===n?void 0:n.file)||void 0===i?void 0:i.url)||nr.b),s&&s.altMobileLogo&&(this.altMobileLogoImg=(null===(r=null===(o=s.altMobileLogo.fields)||void 0===o?void 0:o.file)||void 0===r?void 0:r.url)||nr.b)})}windowSize(){this.isMobile=window.innerWidth<=1240}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(gt.e),i.Tb(wt.g),i.Tb(cn.a),i.Tb(Yt.a),i.Tb($t.a),i.Tb(gt.o),i.Tb(ir.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-viva-header"]],hostBindings:function(e,t){1&e&&i.hc("resize",(function(e){return t.onResize(e)}),!1,i.Gc)},inputs:{isAndroidBannerShown:"isAndroidBannerShown"},decls:18,vars:21,consts:[[1,"sticky-container","w-100",3,"ngClass"],[1,"viva-header","header-background",3,"ngClass"],[1,"container","h-100"],[1,"row","header-container"],[1,"w-100","col-xl-12","pl-20","pl-lg-10","pr-10","pr-lg-10",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"viva-header","menu",3,"ngClass","ngSwitch"],[3,"menuClose",4,"ngSwitchCase"],[3,"isInBooking","menuClose",4,"ngSwitchCase"],[3,"menuClose","closeOverlay",4,"ngSwitchCase"],[1,"viva-header","menu-backdrop",3,"ngClass","click"],[3,"logoImgSrc","menuId","menuIsOpen","menuOptionClick",4,"ngIf"],[3,"logoImgSrc","menuId","menuIsOpen","isAndroidBannerShown","menuOptionClick",4,"ngIf"],[3,"logoImgSrc","menuId","menuIsOpen","menuOptionClick"],[3,"logoImgSrc","menuId","menuIsOpen","isAndroidBannerShown","menuOptionClick"],[3,"logoImgSrc","logoImgSrcRes"],[3,"menuClose"],[3,"isInBooking","menuClose"],[3,"menuClose","closeOverlay"]],template:function(e,t){1&e&&(i.Zb(0,"header"),i.Zb(1,"div",0),i.Zb(2,"div",1),i.Zb(3,"div",2),i.Zb(4,"div",3),i.Zb(5,"div",4),i.Qc(6,hl,3,2,"ng-container",5),i.Qc(7,fl,3,2,"ng-container",5),i.Qc(8,ml,3,4,"ng-container",5),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(9,"div",6),i.Qc(10,bl,1,0,"app-reservation-menu",7),i.Qc(11,vl,1,0,"app-flight-menu",5),i.Qc(12,yl,1,0,"app-planning-menu",5),i.Qc(13,_l,1,0,"app-flight-status-menu",7),i.Qc(14,Cl,1,0,"app-search-container",5),i.Qc(15,Sl,1,1,"app-locale-currency-modal",8),i.Qc(16,Ol,1,0,"app-edit-search-menu",9),i.Yb(),i.Zb(17,"div",10),i.hc("click",(function(){return t.closeMenu()})),i.Yb(),i.Yb()),2&e&&(i.Hb(1),i.sc("ngClass",i.vc(16,Tl,t.isAndroidBannerShown)),i.Hb(1),i.sc("ngClass",t.vivaHeaderTypeClass),i.Hb(3),i.sc("ngSwitch",t.headerType),i.Hb(1),i.sc("ngSwitchCase",t.vivaHeaderType.NORMAL),i.Hb(1),i.sc("ngSwitchCase",t.vivaHeaderType.BOOKING),i.Hb(1),i.sc("ngSwitchCase",t.vivaHeaderType.MANAGE),i.Hb(1),i.sc("ngClass",t.vivaHeaderTypeClass)("ngSwitch",t.menuId),i.Hb(1),i.sc("ngSwitchCase",t.menuIds.FLIGHT),i.Hb(1),i.sc("ngSwitchCase",t.menuIds.RESERVATION),i.Hb(1),i.sc("ngSwitchCase",t.menuIds.PLANNING),i.Hb(1),i.sc("ngSwitchCase",t.menuIds.FLISTATUS),i.Hb(1),i.sc("ngSwitchCase",t.menuIds.SEARCH),i.Hb(1),i.sc("ngSwitchCase",t.menuIds.LOCALE),i.Hb(1),i.sc("ngSwitchCase",t.menuIds.EDIT_SEARCH),i.Hb(1),i.sc("ngClass",i.wc(18,wl,t.menuIsOpen,t.closeAnimation)))},directives:[gt.r,gt.y,gt.z,gt.u,Lr,Ua,ic,dc,_c,Sc,Ec,ks,qs,Mc,pa,ll],pipes:[Un.a],styles:[".sticky-container[_ngcontent-%COMP%]{position:fixed;top:0;z-index:10}.sticky-container.android-top[_ngcontent-%COMP%]{top:72px}.viva-header.header-background[_ngcontent-%COMP%]{background-color:var(--wh1);height:76px;width:100%}@media screen and (max-width:800px){.viva-header.header-background[_ngcontent-%COMP%]{height:60px}}.viva-header.header-background.header-booking[_ngcontent-%COMP%]{height:60px}@media screen and (max-width:720px){.viva-header.header-background.header-booking[_ngcontent-%COMP%]{height:50px;box-shadow:0 0 50px 0 hsla(0,0%,55.3%,.07),0 1px 5px 0 rgba(95,95,95,.07),0 1px 0 0 var(--gr25)}}.viva-header.header-background.header-booking[_ngcontent-%COMP%] ~ .viva-header.menu[_ngcontent-%COMP%]{max-height:calc(100vh - 60px)}@media screen and (max-width:720px){.viva-header.header-background.header-manage[_ngcontent-%COMP%]{height:50px;box-shadow:0 0 50px 0 hsla(0,0%,55.3%,.07),0 1px 5px 0 rgba(95,95,95,.07),0 1px 0 0 var(--gr25)}}.viva-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{height:100%;align-items:center}.viva-header.menu[_ngcontent-%COMP%]{position:fixed;top:76px;width:100%;max-height:calc(100vh - 76px);z-index:10}.viva-header.menu.header-booking[_ngcontent-%COMP%]{top:60px}.viva-header.menu-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:8;width:100%;height:100%;background-color:var(--bl9);opacity:.7;display:none}.viva-header.menu-backdrop.show[_ngcontent-%COMP%]{display:block}@media screen and (max-width:1024px){.viva-header.menu-backdrop.close-animation[_ngcontent-%COMP%]{display:none}}"]}),e})(),Al=(()=>{class e{constructor(e){this.document=e,this.showModalResponsive$=new i.p}openModal(){this.showModalResponsive$.emit(!0),this.document.body.classList.add("open-modal")}closeModal(){this.showModalResponsive$.emit(!1),this.document.body.classList.remove("open-modal")}}return e.\u0275fac=function(t){return new(t||e)(i.dc(gt.e))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const El={openSidebar:Object(h.n)("openSidebar",[Object(h.k)("false",Object(h.l)({transform:"translateX(100%)"})),Object(h.k)("true",Object(h.l)({transform:"translateX(0)"})),Object(h.m)("true <=> false",[Object(h.e)(".3s cubic-bezier(0.165, 0.84, 0.44, 1)")])])};function Ml(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",6),i.hc("click",(function(){return i.Hc(e),i.jc().closeModal()})),i.Yb()}}const Pl=function(e){return{"sb-open":e}};let Dl=(()=>{class e{constructor(e){this.responsiveSidebarSvc=e,this.selectedMenuId=null,this.showModal=!1,this.goBack=new i.p}ngOnInit(){this.responsiveSidebarSvc.showModalResponsive$.subscribe(e=>{this.showModal=e})}onGoBack(){this.goBack.emit(),this.selectedMenuId=null,this.responsiveSidebarSvc.closeModal()}closeModal(){this.responsiveSidebarSvc.closeModal()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(Al))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-responsive-search"]],inputs:{title:"title"},outputs:{goBack:"goBack"},decls:10,vars:6,consts:[["class","overlay",3,"click",4,"ngIf"],[1,"sidebar-container",3,"ngClass"],[1,"responsive-content-header","title"],[1,"fas","fa-arrow-left",3,"click"],[1,"flex","flex-fill"],[1,"fas","fa-times",3,"click"],[1,"overlay",3,"click"]],template:function(e,t){1&e&&(i.Qc(0,Ml,1,0,"div",0),i.Zb(1,"div",1),i.Zb(2,"div"),i.Zb(3,"div",2),i.Zb(4,"i",3),i.hc("click",(function(){return t.onGoBack()})),i.Yb(),i.Zb(5,"div",4),i.Sc(6),i.Yb(),i.Zb(7,"i",5),i.hc("click",(function(){return t.onGoBack()})),i.Yb(),i.Yb(),i.Zb(8,"div"),i.Ub(9,"app-site-search"),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.sc("ngIf",t.showModal),i.Hb(1),i.sc("ngClass",i.vc(4,Pl,t.showModal))("@openSidebar",t.showModal),i.Hb(5),i.Tc(t.title))},directives:[gt.u,gt.r,Ma],styles:[".responsive-content-header[_ngcontent-%COMP%]{height:60px;display:flex;align-items:center;background-color:var(--wh1)}.responsive-content-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 22px}.overlay[_ngcontent-%COMP%]{background-color:transparent!important;position:absolute}.sidebar-container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 76px);overflow-y:auto}.sidebar-container.is-headless[_ngcontent-%COMP%]{margin-top:76px;padding-bottom:100px}@media screen and (max-width:800px){.sidebar-container.is-headless[_ngcontent-%COMP%]{margin-top:60px}}"],data:{animation:[El.openSidebar]}}),e})(),xl=(()=>{class e{constructor(e,t,n){this.document=e,this.fb=t,this.responsiveHeaderSvc=n,this.title="",this.getResultsSubscription=Wt.a.EMPTY,this.responsiveModalSubscription=Wt.a.EMPTY,this.results=[],this.selectedMenuId=null,this.menuIds=tr.a,this.menuId=tr.a.INACTIVE,this.showModal=!1}ngOnInit(){this.responsiveHeaderSvc.showModalResponsive$.subscribe(e=>{this.showModal=e}),this.responsiveModalSubscription=this.responsiveHeaderSvc.showModalResponsive$.subscribe(e=>this.menuIsOpen=e),this.form=this.generateForm()}ngOnDestroy(){this.getResultsSubscription.unsubscribe(),this.responsiveModalSubscription.unsubscribe()}generateForm(){return this.fb.group({search:["",[Sn.I.required,Sn.I.minLength(1)]]})}onGoBack(){this.selectedMenuId=null}closeMenu(){this.responsiveHeaderSvc.closeModal()}openMenu(){this.responsiveHeaderSvc.openModal(),this.menuId=this.menuIds.SEARCH,this.menuIsOpen=!0,this.document.body.classList.add("open-modal")}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(gt.e),i.Tb(Sn.h),i.Tb(Al))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-site-search-responsive"]],decls:13,vars:5,consts:[[1,"site-search__top-container","py-xs-0","px-20","px-lg-20"],[1,"container","px-0","px-lg-10","pb-1","pb-lg-0"],[1,"row","mb-20"],[1,"col-xl-12"],["autocomplete","off",3,"formGroup","click"],[1,"site-search__input"],["formControlName","search","name","search","type","search","placeholder","\xbfNo has encontrado lo que buscabas?",1,"h3"],["type","submit",1,"viva-btn","icon","site-search__submit-btn",3,"disabled"],[1,"content"],[1,"fas","fa-search"],[3,"title","goBack"]],template:function(e,t){1&e&&(i.Zb(0,"div"),i.Zb(1,"div",0),i.Zb(2,"div",1),i.Zb(3,"div",2),i.Zb(4,"div",3),i.Zb(5,"form",4),i.hc("click",(function(){return t.openMenu()})),i.Zb(6,"div",5),i.Ub(7,"input",6),i.Zb(8,"button",7),i.Zb(9,"div",8),i.Ub(10,"i",9),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(11,"app-responsive-search",10),i.hc("goBack",(function(){return t.onGoBack()})),i.kc(12,"cmsTranslate"),i.Yb()),2&e&&(i.Hb(5),i.sc("formGroup",t.form),i.Hb(3),i.sc("disabled",t.form.invalid),i.Hb(3),i.sc("title",i.lc(12,3,"HEADER_SEARCH_TITLE")))},directives:[Sn.K,Sn.v,Sn.m,Sn.d,Sn.u,Sn.k,Dl],pipes:[On.a],styles:[".site-search__top-container[_ngcontent-%COMP%]{padding-top:30px;padding-bottom:20px}.site-search__bottom-container[_ngcontent-%COMP%]{padding-top:36px;padding-bottom:24px;background-color:var(--wh2)}@media screen and (max-width:991px){.site-search__bottom-container[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}}.site-search__input[_ngcontent-%COMP%]{position:relative}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{caret-color:var(--vg4);height:56px;width:100%;border:rgba(0,40,19,.44);border-bottom:1px solid rgba(0,40,19,.44);padding-bottom:12px;margin-bottom:0;background-color:transparent;pointer-events:none}@media screen and (max-width:991px){.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:80px}}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--gr40);opacity:1}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--gr40);opacity:1}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--gr40);opacity:1}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-moz-placeholder{opacity:0}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-ms-input-placeholder{opacity:0}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::placeholder{opacity:0}.site-search__submit-btn[_ngcontent-%COMP%]{position:absolute;width:60px;height:60px;bottom:10px;right:0}.site-search__submit-btn[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:20px;color:var(--wh1)}@media screen and (max-width:991px){.site-search__submit-btn[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:16px}}.site-search__submit-btn[_ngcontent-%COMP%]:disabled{background-color:rgba(var(--bl9-rgb),.39)}@media screen and (max-width:991px){.site-search__input[_ngcontent-%COMP%]{display:flex;align-items:center}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px!important;padding-bottom:0;border-radius:0;-webkit-appearance:none;-moz-appearance:none}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--bg4)}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--bg4)}.site-search__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--bg4)}.site-search__submit-btn[_ngcontent-%COMP%]{width:34px!important;height:34px!important;right:0;bottom:24px;padding:0}}"]}),e})();const Il=Object(h.f)([Object(h.n)("openClose",[Object(h.m)(":enter",[Object(h.l)({height:0,opacity:0}),Object(h.e)(".5s cubic-bezier(0.165, 0.84, 0.44, 1)",Object(h.l)({height:"*",opacity:1}))]),Object(h.m)(":leave",[Object(h.l)({height:"*",opacity:1}),Object(h.e)(".5s cubic-bezier(0.165, 0.84, 0.44, 1)",Object(h.l)({height:0,opacity:0}))])])]);function Ll(e,t){if(1&e&&(i.Zb(0,"div",11),i.Sc(1),i.Yb()),2&e){const e=i.jc().$implicit;i.Hb(1),i.Uc(" ",e.title," ")}}const Rl=function(e){return{"mb-3":e}};function Nl(e,t){if(1&e&&(i.Zb(0,"div",13),i.Zb(1,"app-call-to-action",14),i.Sc(2),i.Yb(),i.Yb()),2&e){const e=t.$implicit,n=t.index,o=i.jc(2).$implicit;i.sc("ngClass",i.vc(4,Rl,n+1!==o.ctas.length)),i.Hb(1),i.sc("callToAction",e)("ctaClass","small-title darker opacity-5"),i.Hb(1),i.Uc(" ",null==e?null:e.text," ")}}function jl(e,t){if(1&e&&(i.Zb(0,"div"),i.Qc(1,Nl,3,6,"div",12),i.Yb()),2&e){const e=i.jc().$implicit;i.sc("@openClose",void 0),i.Hb(1),i.sc("ngForOf",e.ctas)}}const Bl=function(e){return{"fa-rotate-180":e}};function Fl(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",4),i.Zb(1,"div",5),i.hc("click",(function(){i.Hc(e);const n=t.index;return i.jc(2).toggleAccordion(n)})),i.Zb(2,"div",6),i.Qc(3,Ll,2,1,"div",7),i.Ub(4,"em",8),i.Yb(),i.Ub(5,"hr",9),i.Yb(),i.Qc(6,jl,2,2,"div",10),i.Yb()}if(2&e){const e=t.$implicit,n=i.jc(2);i.Hb(3),i.sc("ngIf",!(null==e||!e.title)),i.Hb(1),i.sc("ngClass",i.vc(3,Bl,e.isOpen)),i.Hb(2),i.sc("ngIf",e.isOpen||!n.isMobile)}}function Hl(e,t){if(1&e&&(i.Zb(0,"div",1),i.Zb(1,"div",2),i.Qc(2,Fl,7,5,"div",3),i.Yb(),i.Yb()),2&e){const e=i.jc();i.Hb(2),i.sc("ngForOf",e.columns)}}let Ul=(()=>{class e{constructor(){this.linksAboveFooter=[],this.isMobile=!1,this.columns=[]}ngOnInit(){this.resolveColumns()}toggleAccordion(e){this.isMobile&&(this.columns[e].isOpen=!this.columns[e].isOpen)}resolveColumns(){this.columns=[],this.linksAboveFooter.forEach(e=>{var t,n;const i=null===(n=null===(t=e.fields)||void 0===t?void 0:t.items)||void 0===n?void 0:n.map(e=>e.fields);this.columns.push({title:e.fields.title,ctas:i,isOpen:!1})})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["app-links-above-footer"]],inputs:{linksAboveFooter:"linksAboveFooter",isMobile:"isMobile"},decls:1,vars:1,consts:[["class","container py-40 links-above-footer px-20 px-lg-10",4,"ngIf"],[1,"container","py-40","links-above-footer","px-20","px-lg-10"],[1,"row"],["class","col-12 col-lg",4,"ngFor","ngForOf"],[1,"col-12","col-lg"],[1,"mb-3","pt-3",3,"click"],[1,"d-flex","mb-2","mb-lg-0","justify-content-between","align-items-center","pr-5","pr-lg-0"],["class","title darker",4,"ngIf"],[1,"fas","fa-sort-down","d-block","d-lg-none",3,"ngClass"],[1,"d-block","d-lg-none","my-0"],[4,"ngIf"],[1,"title","darker"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"callToAction","ctaClass"]],template:function(e,t){1&e&&i.Qc(0,Hl,3,1,"div",0),2&e&&i.sc("ngIf",!(null==t.columns||!t.columns.length))},directives:[gt.u,gt.t,gt.r,Kn.a],styles:[".links-above-footer[_ngcontent-%COMP%]{background-color:var(--wh2)}@media screen and (max-width:991px){.title[_ngcontent-%COMP%]{font-size:18px;line-height:22px}}.fa-sort-down[_ngcontent-%COMP%]{font-size:20px;color:var(--gr40);transition:all .3s cubic-bezier(.165,.84,.44,1)}"],data:{animation:[Il.animation]}}),e})();var Yl=n("G/yK"),Gl=n("egL7");let Vl=(()=>{class e{constructor(e,t){this.el=e,this.titleCasePipe=t}onInputChange(e){const t=e.target.value;t.trim()&&(this.el.nativeElement.value=this.titleCasePipe.transform(t))}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.n),i.Tb(gt.G))},e.\u0275dir=i.Ob({type:e,selectors:[["","appInputCapitalize",""]],hostBindings:function(e,t){1&e&&i.hc("input",(function(e){return t.onInputChange(e)}))}}),e})();var Zl=n("DflE");function $l(e,t){if(1&e){const e=i.ac();i.Zb(0,"button",11),i.hc("click",(function(){return i.Hc(e),i.jc().closeModal()})),i.Ub(1,"em",12),i.Yb()}}function Wl(e,t){1&e&&i.Sc(0),2&e&&i.Uc(" ",t.item.name," ")}function Kl(e,t){if(1&e&&(i.Zb(0,"div",41),i.Sc(1),i.Yb()),2&e){const e=t.ngIf;i.Hb(1),i.Uc(" (",e,") ")}}function zl(e,t){if(1&e&&(i.Zb(0,"div",39),i.Sc(1),i.Qc(2,Kl,2,1,"div",40),i.kc(3,"flightStationName"),i.Yb()),2&e){const e=t.item;i.Hb(1),i.Uc(" ",e.name," "),i.Hb(1),i.sc("ngIf",i.mc(3,2,e.code,"support"))}}function Ql(e,t){if(1&e){const e=i.ac();i.Zb(0,"form",13),i.Zb(1,"div",14),i.Zb(2,"div",15),i.Ub(3,"input",16),i.kc(4,"cmsTranslate"),i.Zb(5,"label"),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Zb(8,"div",17),i.Ub(9,"i",18),i.Yb(),i.Zb(10,"div",19),i.Ub(11,"i",20),i.Yb(),i.Yb(),i.Zb(12,"div",15),i.Ub(13,"input",21),i.kc(14,"cmsTranslate"),i.Zb(15,"label"),i.Sc(16),i.kc(17,"cmsTranslate"),i.Yb(),i.Zb(18,"div",17),i.Ub(19,"i",18),i.Yb(),i.Zb(20,"div",19),i.Ub(21,"i",20),i.Yb(),i.Yb(),i.Zb(22,"div",22),i.Zb(23,"ng-select",23),i.kc(24,"cmsTranslate"),i.Qc(25,Wl,1,1,"ng-template",24),i.Qc(26,zl,4,5,"ng-template",25),i.Yb(),i.Zb(27,"label"),i.Sc(28),i.kc(29,"cmsTranslate"),i.Yb(),i.Zb(30,"div",26),i.Ub(31,"i",18),i.Yb(),i.Yb(),i.Yb(),i.Ub(32,"hr",27),i.Zb(33,"div",28),i.Zb(34,"label",29),i.Zb(35,"div",30),i.Ub(36,"div",31),i.kc(37,"cmsTranslateRichText"),i.Yb(),i.Ub(38,"input",32),i.Ub(39,"span",33),i.Yb(),i.Yb(),i.Zb(40,"button",34),i.hc("click",(function(){return i.Hc(e),i.jc().submitData()})),i.Zb(41,"span"),i.Sc(42),i.kc(43,"cmsTranslate"),i.Yb(),i.Yb(),i.Zb(44,"div",35),i.Zb(45,"button",36),i.hc("click",(function(){return i.Hc(e),i.jc().closeModal()})),i.Zb(46,"span",37),i.Sc(47),i.kc(48,"cmsTranslate"),i.Yb(),i.Ub(49,"div",38),i.Yb(),i.Yb(),i.Yb()}if(2&e){const e=i.jc();i.sc("formGroup",e.dataForm),i.Hb(3),i.tc("placeholder",i.lc(4,16,"GLOBAL_LABEL_NAMES-PLACEHOLDER")),i.Hb(3),i.Tc(i.lc(7,18,"GLOBAL_LABEL_NAMES")),i.Hb(7),i.tc("placeholder",i.lc(14,20,"GLOBAL_LABEL_LASTNAMES-PLACEHOLDERS")),i.Hb(3),i.Tc(i.lc(17,22,"GLOBAL_LABEL_LASTNAMES")),i.Hb(7),i.sc("searchable",!1)("clearable",!1)("items",e.stationOptions)("placeholder",i.lc(24,24,"BOOKER_LABEL_SELECT-DESTINATION"))("formControlName","origin")("bindValue","code"),i.Hb(5),i.Tc(i.lc(29,26,"FOOTER_LABEL_FAVORITE-DESTINATION")),i.Hb(8),i.sc("innerHtml",i.lc(37,28,"FOOTER_LABEL_PRIVACY-POLICY-AGREMMENT"),i.Ic),i.Hb(4),i.sc("disabled",e.disableBtn),i.Hb(2),i.Uc(" ",i.lc(43,30,"GLOBAL_ACTION_FINISH")," "),i.Hb(5),i.Uc(" ",i.lc(48,32,"GLOBAL_ACTION_CANCEL")," ")}}function Xl(e,t){1&e&&(i.Ub(0,"img",42),i.kc(1,"cmsStaticImage")),2&e&&i.sc("src",i.lc(1,1,"FOOTER_IMG_NEWSLETTER"),i.Kc)}const ql=function(e){return{"subscribed-modal":e}},Jl=function(e){return{"d-none":e}};let eu=(()=>{class e{constructor(e,t,n){this.modalSvc=e,this.statiSvc=t,this.gtmService=n,this.id="newsletter-modal",this.isBookingType=!1,this.alreadySubscribed=new i.p,this.stationOptions=[],this.isSubscribed=!1,this.dataForm=new Sn.l({firstName:new Sn.i(null,[Sn.I.required,Sn.I.minLength(2),Sn.I.maxLength(255),Sn.I.pattern("^[a-zA-Z\xf1\xd1\xe1\xc1\xe9\xc9\xed\xcd\xf3\xd3\xfa\xda '-]+")]),lastName:new Sn.i(null,[Sn.I.required,Sn.I.minLength(2),Sn.I.maxLength(255),Sn.I.pattern("^[a-zA-Z\xf1\xd1\xe1\xc1\xe9\xc9\xed\xcd\xf3\xd3\xfa\xda '-]+")]),origin:new Sn.i(null,[Sn.I.required]),privacy:new Sn.i(null,[Sn.I.required,Sn.I.requiredTrue])}),this.isMobile=!1}ngOnInit(){this.id="newsletter-modal-"+(this.isBookingType?"booking":"home"),window.innerWidth<=720&&(this.isMobile=!0)}onOpen(){return Object(Pt.a)(this,void 0,void 0,(function*(){this.stationOptions=this.statiSvc._stations,this.stationOptions.sort((e,t)=>e.name>t.name?1:e.name<t.name?-1:0),this.dataForm.reset()}))}closeModal(){this.modalSvc.close(this.id)}submitData(){this.dataForm.valid&&this.email&&(this.gtmService.pushTag({event:this.isBookingType?"subscribeForm_book":"subscribeForm_home",subscription:{name:this.dataForm.get("firstName").value,lastName:this.dataForm.get("lastName").value,email:this.email,city:this.dataForm.get("origin").value}}),this.alreadySubscribed.emit(!0),this.isSubscribed=!0)}get disableBtn(){return!this.dataForm.valid}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(_n.a),i.Tb(Yl.a),i.Tb(Gl.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-newsletter-modal"]],inputs:{email:"email",isBookingType:"isBookingType"},outputs:{alreadySubscribed:"alreadySubscribed"},decls:14,vars:18,consts:[[3,"id","dismissable","noFullHeight","openEvent"],[1,"modal-container","viva-card","white","shadow","border-0","position-relative","d-flex","flex-column",3,"ngClass"],[1,"d-md-flex",3,"ngClass"],[1,"d-flex","align-items-center","w-100","justify-content-center"],["alt","subscription","loading","lazy",1,"top-img",3,"src"],["class","modal-close green float-right",3,"click",4,"ngIf"],[1,"p-20","p-lg-40","modal-body","mt-20"],[1,"text-center"],[1,"m-0"],[3,"formGroup",4,"ngIf"],["class","w-100","alt","subscription","loading","lazy",3,"src",4,"ngIf"],[1,"modal-close","green","float-right",3,"click"],[1,"fas","fa-times","modal-icon"],[3,"formGroup"],[1,"mt-20","px-20","mt-lg-40","px-lg-40"],[1,"viva-input-field","no-icon","w-100","mb-10"],["type","text","autocomplete","given-name","formControlName","firstName","required","","appInputCapitalize","",1,"viva-personal",3,"placeholder"],[1,"valid","hide-sm"],[1,"fas","fa-check"],[1,"error","hide-sm"],[1,"fas","fa-times"],["type","text","autocomplete","family-name","formControlName","lastName","required","","appInputCapitalize","",1,"viva-personal",3,"placeholder"],[1,"viva-input-field","no-icon","viva-select","w-100","mb-10"],["appendTo","body","required","",1,"condensed-options","viva-personal",3,"searchable","clearable","items","placeholder","formControlName","bindValue"],["ng-label-tmp",""],["ng-option-tmp",""],[1,"valid"],[1,"mb-30","mt-30"],[1,"check-container","d-flex","align-items-center","ml-1","mb-20","mb-lg-20"],[1,"checkbox-container","privacy-policy","tos-check"],[1,"regular-text","rt-paragraph-m-0"],[3,"innerHtml"],["id","privacy-policy","name","privacy-policy","type","checkbox","formControlName","privacy"],[1,"checkmark","mt-1"],[1,"viva-btn","big","px-md-60","w-100",3,"disabled","click"],[1,"d-flex","w-100","justify-content-center","align-items-center","mt-10"],["type","button",1,"viva-btn","tertiary",3,"click"],[1,"content","px-20"],[1,"line"],[1,"d-flex","align-items-center"],["class","small-text ml-1",4,"ngIf"],[1,"small-text","ml-1"],["alt","subscription","loading","lazy",1,"w-100",3,"src"]],template:function(e,t){1&e&&(i.Zb(0,"app-modal",0),i.hc("openEvent",(function(){return t.onOpen()})),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"div",3),i.Ub(4,"img",4),i.kc(5,"cmsStaticImage"),i.Yb(),i.Yb(),i.Qc(6,$l,2,0,"button",5),i.Zb(7,"div",6),i.Zb(8,"div",7),i.Zb(9,"h4",8),i.Sc(10),i.kc(11,"cmsTranslate"),i.Yb(),i.Yb(),i.Qc(12,Ql,50,34,"form",9),i.Yb(),i.Qc(13,Xl,2,3,"img",10),i.Yb(),i.Yb()),2&e&&(i.sc("id",t.id)("dismissable",!0)("noFullHeight",t.isSubscribed&&t.isMobile),i.Hb(1),i.sc("ngClass",i.vc(14,ql,t.isSubscribed)),i.Hb(1),i.sc("ngClass",i.vc(16,Jl,!t.isSubscribed)),i.Hb(2),i.sc("src",i.lc(5,10,"FOOTER_IMG_NEWSLETTER-ENVELOPE"),i.Kc),i.Hb(2),i.sc("ngIf",t.isSubscribed),i.Hb(4),i.Uc(" ",i.lc(11,12,t.isSubscribed?"FOOTER_LABEL_GET-PROMO-EMAILS-DONE":"FOOTER_LABEL_ENTER-INFO-NEWSLETTER")," "),i.Hb(2),i.sc("ngIf",!t.isSubscribed),i.Hb(1),i.sc("ngIf",t.isSubscribed))},directives:[Cn.a,gt.r,gt.u,Sn.K,Sn.v,Sn.m,Sn.d,Sn.u,Sn.k,Sn.F,Vl,In.a,In.e,In.c,Sn.b],pipes:[Un.a,On.a,ii.a,Zl.a],styles:[".modal-container[_ngcontent-%COMP%]{width:480px}.modal-container[_ngcontent-%COMP%]   .top-img[_ngcontent-%COMP%]{position:fixed;width:80px}@media screen and (max-width:720px){.modal-container[_ngcontent-%COMP%]   .top-img[_ngcontent-%COMP%]{width:60px}}.modal-container[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{z-index:1;right:10px;top:10px}@media screen and (max-width:720px){.modal-container[_ngcontent-%COMP%]{min-height:calc(100% - 80px)}.modal-container.subscribed-modal[_ngcontent-%COMP%]{max-height:333px;min-height:auto}}"]}),e})();function tu(e,t){1&e&&(i.Zb(0,"div",14),i.Sc(1),i.kc(2,"cmsTranslate"),i.Yb()),2&e&&(i.Hb(1),i.Uc(" ",i.lc(2,1,"FOOTER_LABEL_SUBSCRIPTION-TEXT1")," "))}function nu(e,t){1&e&&(i.Zb(0,"div",15),i.Zb(1,"div",16),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Yb()),2&e&&(i.Hb(2),i.Uc(" ",i.lc(3,1,"FOOTER_LABEL_SUBSCRIPTION-TEXT2")," "))}function iu(e,t){if(1&e&&(i.Zb(0,"li",20),i.Ub(1,"em",21),i.Zb(2,"div"),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Yb()),2&e){const e=t.$implicit;i.Hb(3),i.Uc(" ",i.lc(4,1,e)," ")}}function ou(e,t){if(1&e&&(i.Zb(0,"div",17),i.Zb(1,"ul",18),i.Qc(2,iu,5,3,"li",19),i.Yb(),i.Yb()),2&e){const e=i.jc(2);i.Hb(2),i.sc("ngForOf",e.subscriptionInfoLabels)}}function ru(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",22),i.Zb(1,"form",23),i.Zb(2,"div",24),i.Ub(3,"input",25),i.kc(4,"cmsTranslate"),i.Zb(5,"label"),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Zb(8,"div",26),i.Ub(9,"i",27),i.Yb(),i.Zb(10,"div",28),i.Ub(11,"i",29),i.Yb(),i.Yb(),i.Zb(12,"button",30),i.hc("click",(function(){return i.Hc(e),i.jc(2).openNewsletterModal()})),i.Zb(13,"div",31),i.Zb(14,"span"),i.Sc(15),i.kc(16,"cmsTranslate"),i.Yb(),i.Ub(17,"em",32),i.Yb(),i.Ub(18,"div",33),i.Yb(),i.Yb(),i.Yb()}if(2&e){const e=i.jc(2);i.Hb(1),i.sc("formGroup",e.emailForm),i.Hb(2),i.tc("placeholder",i.lc(4,4,"GLOBAL_LABEL_MAIL-PLACEHOLDER")),i.Hb(3),i.Tc(i.lc(7,6,"GLOBAL_LABEL_MAIL")),i.Hb(9),i.Tc(i.lc(16,8,"GLOBAL_ACTION_SUBSCRIBE"))}}function su(e,t){1&e&&(i.Zb(0,"div",34),i.Zb(1,"div"),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Yb()),2&e&&(i.Hb(2),i.Tc(i.lc(3,1,"FOOTER_LABEL_SUBSCRIPTION-DONE-SUPPORT")))}const au=function(e){return{"col-lg-4":e}},cu=function(e){return{"d-flex align-items-center":e}};function lu(e,t){if(1&e&&(i.Zb(0,"div",2),i.Zb(1,"div",3),i.Zb(2,"div",4),i.Zb(3,"div",5),i.Ub(4,"img",6),i.kc(5,"cmsStaticImage"),i.Zb(6,"div",7),i.Zb(7,"div",8),i.Sc(8),i.kc(9,"cmsTranslate"),i.Yb(),i.Qc(10,tu,3,3,"div",9),i.Yb(),i.Yb(),i.Qc(11,nu,4,3,"div",10),i.Qc(12,ou,3,1,"div",11),i.Qc(13,ru,19,10,"div",12),i.Qc(14,su,4,3,"div",13),i.Yb(),i.Yb(),i.Yb()),2&e){const e=i.jc();i.Hb(3),i.sc("ngClass",i.vc(14,au,!e.isSubscribed)),i.Hb(1),i.sc("src",i.lc(5,10,"FOOTER_IMG_NEWSLETTER-ENVELOPE"),i.Kc)("width",e.isBookingType?50:60),i.Hb(3),i.sc("ngClass",i.vc(16,cu,e.isBookingType)),i.Hb(1),i.Uc(" ",i.lc(9,12,e.isSubscribed?"FOOTER_LABEL_SUBSCRIPTION-DONE-TITLE":"FOOTER_LABEL_FLIGHT-OFFERS-MAIL")," "),i.Hb(2),i.sc("ngIf",!e.isSubscribed),i.Hb(1),i.sc("ngIf",!e.isSubscribed),i.Hb(1),i.sc("ngIf",!e.isSubscribed),i.Hb(1),i.sc("ngIf",!e.isSubscribed),i.Hb(1),i.sc("ngIf",e.isSubscribed)}}let uu=(()=>{class e{constructor(e,t,n,i){this.modalSvc=e,this.router=t,this.flightSvs=n,this.auth=i,this.isBookingType=!1,this.emailForm=new Sn.l({email:new Sn.i(null,[Sn.I.required,Gn.a.email])}),this.subscriptionInfoLabels=["FOOTER_LABEL_SUBSCRIPTION-INFO1","FOOTER_LABEL_SUBSCRIPTION-INFO2","FOOTER_LABEL_SUBSCRIPTION-INFO3"]}ngOnInit(){}openNewsletterModal(){this.emailForm.valid&&(this.emailData=this.emailForm.get("email").value,this.modalSvc.open("newsletter-modal-"+(this.isBookingType?"booking":"home")))}setSubscribed(e){e&&(this.flightSvs.newsletterSubscription=this.emailData)}get showCard(){if(!this.auth.isLoggedIn){if(!this.isBookingType)return!0;if(this.router.url.includes("/book/options")&&!this.isSubscribed)return!0}return!1}get isSubscribed(){return!!this.flightSvs.newsletterSubscription}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(_n.a),i.Tb(wt.g),i.Tb(Yl.a),i.Tb(fn.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-newsletter-card"]],inputs:{isBookingType:"isBookingType"},decls:2,vars:3,consts:[["class","viva-card newsletter-card white shadow py-20 py-lg-30",4,"ngIf"],[3,"email","isBookingType","alreadySubscribed"],[1,"viva-card","newsletter-card","white","shadow","py-20","py-lg-30"],[1,"container","px-20","px-lg-10"],[1,"row"],[1,"col-12","d-flex","align-items-start",3,"ngClass"],["alt","doters","loading","lazy",1,"mr-10",3,"src","width"],[1,"d-lg-flex","flex-lg-column"],[1,"h4",3,"ngClass"],["class","small-title d-none d-lg-block mt-10",4,"ngIf"],["class","col-12 d-lg-none mt-10",4,"ngIf"],["class","col-12 col-lg-4 d-none d-lg-block",4,"ngIf"],["class","col-12 col-lg-4",4,"ngIf"],["class","col-12 mt-20 mb-10",4,"ngIf"],[1,"small-title","d-none","d-lg-block","mt-10"],[1,"col-12","d-lg-none","mt-10"],[1,"small-title"],[1,"col-12","col-lg-4","d-none","d-lg-block"],[1,"list-unstyled","p-0","m-0"],["class","d-flex align-items-center info-labels medium-text",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","info-labels","medium-text"],[1,"fas","fa-check","mr-1"],[1,"col-12","col-lg-4"],[1,"d-flex","flex-column","align-items-end","mt-10","mt-lg-0",3,"formGroup"],[1,"viva-input-field","no-icon","w-100","mb-20"],["inputmode","email","name","newsletter_email","id","newsletter_email","type","email","required","","formControlName","email","autocomplete","email",1,"viva-personal",3,"placeholder"],[1,"valid","hide-sm"],[1,"fas","fa-check"],[1,"error","hide-sm"],[1,"fas","fa-times"],[1,"viva-btn","tertiary","d-inline-flex",3,"click"],[1,"content"],[1,"fas","fa-arrow-right","ml-1"],[1,"line"],[1,"col-12","mt-20","mb-10"]],template:function(e,t){1&e&&(i.Qc(0,lu,15,18,"div",0),i.Zb(1,"app-newsletter-modal",1),i.hc("alreadySubscribed",(function(e){return t.setSubscribed(e)})),i.Yb()),2&e&&(i.sc("ngIf",t.showCard),i.Hb(1),i.sc("email",t.emailData)("isBookingType",t.isBookingType))},directives:[gt.u,eu,gt.r,gt.t,Sn.K,Sn.v,Sn.m,Sn.d,Sn.F,Sn.u,Sn.k],pipes:[Un.a,On.a],styles:[".info-labels[_ngcontent-%COMP%]{margin-bottom:5px}.info-labels[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.info-labels[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:var(--bg2)}@media screen and (min-width:720px){.newsletter-card[_ngcontent-%COMP%]{border-radius:0}}"]}),e})();const du=function(){return{height:15}};function hu(e,t){if(1&e&&(i.Ub(0,"img",16),i.kc(1,"cmsImage")),2&e){const e=t.$implicit;i.sc("src",i.mc(1,2,e.fields.file.url,i.uc(5,du)),i.Kc)("alt",e.fields.title)}}const pu=function(){return{height:32}};function gu(e,t){if(1&e&&(i.Ub(0,"img",16),i.kc(1,"cmsImage")),2&e){const e=t.$implicit;i.sc("src",i.mc(1,2,e.fields.file.url,i.uc(5,pu)),i.Kc)("alt",e.fields.title)}}function fu(e,t){1&e&&(i.Zb(0,"div",17),i.Zb(1,"div",18),i.Zb(2,"div",19),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Zb(5,"div",20),i.Zb(6,"div",21),i.Zb(7,"app-call-to-action",22),i.kc(8,"cmsStaticCtas"),i.Ub(9,"img",23),i.kc(10,"cmsStaticImage"),i.Yb(),i.Zb(11,"app-call-to-action",22),i.kc(12,"cmsStaticCtas"),i.Ub(13,"img",23),i.kc(14,"cmsStaticImage"),i.Yb(),i.Zb(15,"app-call-to-action",24),i.kc(16,"cmsStaticCtas"),i.Ub(17,"img",23),i.kc(18,"cmsStaticImage"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(3),i.Uc(" ",i.lc(4,7,"FOOTER_DOWNLOAD_APP")," "),i.Hb(4),i.sc("callToAction",i.lc(8,9,"FOOTER_ACTION_DOWNLOAD_APP-STORE")),i.Hb(2),i.sc("src",i.lc(10,11,"FOOTER_DOWNLOAD_APP_APP-STORE"),i.Kc),i.Hb(2),i.sc("callToAction",i.lc(12,13,"FOOTER_ACTION_DOWNLOAD_PLAY-STORE")),i.Hb(2),i.sc("src",i.lc(14,15,"FOOTER_DOWNLOAD_APP_PLAY-STORE"),i.Kc),i.Hb(2),i.sc("callToAction",i.lc(16,17,"FOOTER_ACTION_DOWNLOAD_APP-GALLERY")),i.Hb(2),i.sc("src",i.lc(18,19,"FOOTER_DOWNLOAD_APP_HUAWEI-APP-GALLERY"),i.Kc))}function mu(e,t){if(1&e&&(i.Zb(0,"li",27),i.Zb(1,"app-call-to-action",28),i.Sc(2),i.Yb(),i.Yb()),2&e){const e=t.$implicit;i.Hb(1),i.sc("callToAction",e),i.Hb(1),i.Uc(" ",null==e?null:e.text," ")}}function bu(e,t){if(1&e&&(i.Zb(0,"ul",25),i.Qc(1,mu,3,2,"li",26),i.Yb()),2&e){const e=i.jc();i.Hb(1),i.sc("ngForOf",e.links)}}const vu=function(e){return{"ml-20":e}};function yu(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"app-call-to-action",24),i.Ub(2,"img",29),i.Yb(),i.Wb()),2&e){const e=t.$implicit,n=t.index;i.Hb(1),i.sc("callToAction",null==e||null==e.fields||null==e.fields.callToAction?null:e.fields.callToAction.fields),i.Hb(1),i.sc("src",null==e||null==e.fields||null==e.fields.image||null==e.fields.image.fields||null==e.fields.image.fields.file?null:e.fields.image.fields.file.url,i.Kc)("alt",null==e||null==e.fields?null:e.fields.title)("ngClass",i.vc(4,vu,!!n))}}const _u=function(e,t){return{"col-lg-3":e,"col-lg-8":t}};let Cu=(()=>{class e{constructor(){this.creditCardLogos=[],this.onlinePaymentLogos=[],this.displayDownloadbuttons=!1,this.socialMediaItems=[]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["app-subfooter"]],inputs:{links:"links",creditCardLogos:"creditCardLogos",onlinePaymentLogos:"onlinePaymentLogos",displayDownloadbuttons:"displayDownloadbuttons",socialMediaItems:"socialMediaItems"},decls:31,vars:24,consts:[[1,"row","mb-0","justify-content-between"],[1,"col-lg-4"],[1,"h5","medium-title","light","mt-0","mb-2","mb-md-4"],[1,"d-flex","subfooter-payments"],[1,"medium-title","light","opacity-7"],[1,"d-flex","subfooter-logos"],["loading","lazy",3,"src","alt",4,"ngFor","ngForOf"],["class","col-lg-5",4,"ngIf"],[3,"ngClass"],["class","mx-0 mt-0 mb-4 p-0 list-unstyled text-md-right",4,"ngIf"],[1,"social-media-container","ml-lg-auto"],[1,"medium-title","light","mb-2","mb-md-4"],[1,"d-flex","mt-15","justify-content-end"],[4,"ngFor","ngForOf"],[1,"col-12","mt-40"],[1,"regular-text","light","opacity-7","text-center","d-none","d-md-block"],["loading","lazy",3,"src","alt"],[1,"col-lg-5"],[1,"mb-3","mb-lg-0"],[1,"title","light","mb-3"],[1,"d-flex"],[1,"d-flex","flex-wrap"],["ctaClass","mr-2",3,"callToAction"],["height","40","loading","lazy",3,"src"],[3,"callToAction"],[1,"mx-0","mt-0","mb-4","p-0","list-unstyled","text-md-right"],["class","subfooter-item d-inline-block",4,"ngFor","ngForOf"],[1,"subfooter-item","d-inline-block"],["ctaClass","medium-title light text-decoration-none opacity-7",3,"callToAction"],["height","20",3,"src","alt","ngClass"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Zb(5,"div",3),i.Zb(6,"div"),i.Zb(7,"p",4),i.Sc(8),i.kc(9,"cmsTranslate"),i.Yb(),i.Zb(10,"div",5),i.Qc(11,hu,2,6,"img",6),i.Yb(),i.Yb(),i.Zb(12,"div"),i.Zb(13,"p",4),i.Sc(14),i.kc(15,"cmsTranslate"),i.Yb(),i.Zb(16,"div",5),i.Qc(17,gu,2,6,"img",6),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Qc(18,fu,19,21,"div",7),i.Zb(19,"div",8),i.Qc(20,bu,2,1,"ul",9),i.Zb(21,"div",10),i.Zb(22,"div",11),i.Sc(23),i.kc(24,"cmsTranslate"),i.Yb(),i.Zb(25,"div",12),i.Qc(26,yu,3,6,"ng-container",13),i.Yb(),i.Yb(),i.Yb(),i.Zb(27,"div",14),i.Zb(28,"p",15),i.Sc(29),i.kc(30,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(3),i.Uc(" ",i.lc(4,11,"FOOTER_PAYMENT-METHODS")," "),i.Hb(5),i.Uc(" ",i.lc(9,13,"FOOTER_CREDIT-CARDS")," "),i.Hb(3),i.sc("ngForOf",t.creditCardLogos),i.Hb(3),i.Uc(" ",i.lc(15,15,"FOOTER_ONLINE-PAYMENTS")," "),i.Hb(3),i.sc("ngForOf",t.onlinePaymentLogos),i.Hb(1),i.sc("ngIf",t.displayDownloadbuttons),i.Hb(1),i.sc("ngClass",i.wc(21,_u,t.displayDownloadbuttons,!t.displayDownloadbuttons)),i.Hb(1),i.sc("ngIf",t.links&&t.links.length),i.Hb(3),i.Uc(" ",i.lc(24,17,"FOOTER_LABEL_FOLLOW-US")," "),i.Hb(3),i.sc("ngForOf",t.socialMediaItems),i.Hb(3),i.Uc(" ",i.lc(30,19,"FOOTER_VIVA-ADDRESS")," "))},directives:[gt.t,gt.u,gt.r,Kn.a],pipes:[On.a,Vr.a,oi.a,Un.a],styles:[".subfooter-payments[_ngcontent-%COMP%]{-moz-column-gap:15px;column-gap:15px}@media screen and (max-width:720px){.subfooter-payments[_ngcontent-%COMP%]{margin-bottom:20px}}.subfooter-logos[_ngcontent-%COMP%]{-moz-column-gap:10px;column-gap:10px}.subfooter-logos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:15px}.social-media-container[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content}"]}),e})();function Su(e,t){if(1&e&&(i.Zb(0,"li",5),i.Zb(1,"app-call-to-action",6),i.Sc(2),i.Yb(),i.Yb()),2&e){const e=t.$implicit;i.Hb(1),i.sc("callToAction",e),i.Hb(1),i.Uc(" ",null==e?null:e.text," ")}}const Ou=function(e){return{open:e}};let Tu=(()=>{class e{constructor(){this.isAccordionOpen=!1}ngOnInit(){this.checkResposiveSize()}toggleAccordion(){this.isAccordionOpen=!this.isAccordionOpen}checkResposiveSize(){this.isAccordionOpen=window.innerWidth<=991}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["app-quick-links"]],inputs:{links:"links"},decls:8,vars:10,consts:[[1,"footer-title","h4",3,"click"],[1,"fas","fa-sort-down","footer-icon",3,"ngClass"],[1,"footer-section-divider"],[1,"quick-links-list","list-unstyled","m-0","p-0","mb-3","mb-lg-0",3,"ngClass"],["class","mb-40 mb-md-2",4,"ngFor","ngForOf"],[1,"mb-40","mb-md-2"],["ctaClass","medium-title light text-decoration-none",3,"callToAction"]],template:function(e,t){1&e&&(i.Zb(0,"div"),i.Zb(1,"div",0),i.hc("click",(function(){return t.toggleAccordion()})),i.Sc(2),i.kc(3,"cmsTranslate"),i.Ub(4,"i",1),i.Yb(),i.Ub(5,"hr",2),i.Zb(6,"ul",3),i.Qc(7,Su,3,2,"li",4),i.Yb(),i.Yb()),2&e&&(i.Hb(2),i.Uc(" ",i.lc(3,4,"FOOTER_QLINKS-TITLE")," "),i.Hb(2),i.sc("ngClass",i.vc(6,Ou,t.isAccordionOpen)),i.Hb(2),i.sc("ngClass",i.vc(8,Ou,t.isAccordionOpen)),i.Hb(1),i.sc("ngForOf",t.links))},directives:[gt.r,gt.t,Kn.a],pipes:[On.a],styles:["@media screen and (max-width:991px){.quick-links-list[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:all .3s cubic-bezier(.165,.84,.44,1)}.quick-links-list.open[_ngcontent-%COMP%]{max-height:310px}}",".footer-search-container[_ngcontent-%COMP%]{background-color:var(--gr15);padding-top:40px}@media screen and (max-width:991px){.footer-search-container[_ngcontent-%COMP%]{padding-top:20px}}.footer-container[_ngcontent-%COMP%]{background-color:var(--bg6)}.footer-row[_ngcontent-%COMP%]{padding:70px 0 40px;margin-bottom:0}@media screen and (max-width:991px){.footer-row[_ngcontent-%COMP%]{padding:40px 0 50px}}.footer-divider[_ngcontent-%COMP%]{height:1px;background:var(--wh1);border:none;opacity:1;margin:0}@media screen and (max-width:991px){.footer-divider[_ngcontent-%COMP%]{display:none}}.footer-title[_ngcontent-%COMP%]{color:var(--wh1);letter-spacing:-.5px;line-height:1;margin-bottom:40px;position:relative}.footer-title.medium[_ngcontent-%COMP%]{font-size:16px}@media screen and (max-width:991px){.footer-title.medium[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width:991px){.footer-title[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;justify-content:space-between;width:100%;cursor:pointer}}.footer-title[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{font-size:14px;color:var(--vg4);position:absolute;top:-100%;line-height:1}@media screen and (max-width:991px){.footer-title[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{display:none}}.footer-icon[_ngcontent-%COMP%]{display:none}@media screen and (max-width:991px){.footer-icon[_ngcontent-%COMP%]{display:block;color:var(--vg4)!important;font-size:20px;transition:all .3s cubic-bezier(.165,.84,.44,1)}.footer-icon.open[_ngcontent-%COMP%]{transform:rotate(180deg) translateY(-5px)}}.footer-section-divider[_ngcontent-%COMP%]{display:none}@media screen and (max-width:991px){.footer-section-divider[_ngcontent-%COMP%]{display:block;height:1px;background:var(--gr20);margin:0 0 20px;opacity:.5;border:none}}.partner-label[_ngcontent-%COMP%]{color:var(--wh1);height:100%;font-size:10px;white-space:nowrap}.footer-logos[_ngcontent-%COMP%]{flex-wrap:wrap}.footer-logos[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{height:40px;border-right:1px solid var(--wh1)}@media screen and (max-width:720px){.footer-logos[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]:nth-child(2){border-right:none}}.navitaire-logo[_ngcontent-%COMP%]{height:28px}.col-footer[_ngcontent-%COMP%]{background-color:#00160a;border-top:.5px solid rgba(var(--wh1-rgb),.5)}@media screen and (max-width:720px){.card-logos[_ngcontent-%COMP%]{padding:40px 0 0}}"]}),e})();function wu(e,t){if(1&e&&(i.Zb(0,"app-call-to-action",20),i.Zb(1,"div",21),i.Ub(2,"i",22),i.Sc(3),i.Ub(4,"i",23),i.Yb(),i.Yb()),2&e){const e=t.ngIf;i.sc("callToAction",e),i.Hb(3),i.Uc(" ",e.text," ")}}function ku(e,t){if(1&e&&(i.Zb(0,"app-call-to-action",20),i.Zb(1,"div",21),i.Ub(2,"i",22),i.Sc(3),i.Ub(4,"i",23),i.Yb(),i.Yb()),2&e){const e=t.ngIf;i.sc("callToAction",e),i.Hb(3),i.Uc(" ",e.text," ")}}const Au=function(e){return{open:e}};let Eu=(()=>{class e{constructor(e,t){this.cmsConfig=e,this.locale=t,this.isAccordionOpen=!0,this.displayWhatsAppButton=!1,this.displayWhatsAppButton=(this.cmsConfig._cmsConfig.globalSettings.displayWhatsAppButton||[]).includes(this.locale.getAppLocale())}ngOnInit(){}toggleAccordion(){this.isAccordionOpen=!this.isAccordionOpen}}return e.\u0275fac=function(t){return new(t||e)(i.Tb($t.a),i.Tb(Gt.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-contact-us"]],decls:62,vars:48,consts:[[1,"footer-title","h4",3,"click"],[1,"fas","fa-sort-down","footer-icon",3,"ngClass"],[1,"footer-section-divider"],[1,"row","contact-us-content","mb-3","mb-lg-0",3,"ngClass"],[1,"col-12","d-block","d-lg-none"],["ctaClass","mb-2",3,"callToAction",4,"ngIf"],[1,"m-0","p-0","list-unstyled"],[1,"contact-us-item","mb-3"],[1,"fas","fa-envelope","mr-1"],[3,"innerHtml"],[1,"col-6","col-xl-8","mb-3","mb-lg-0"],[1,"d-none","d-lg-block"],[1,"contact-us-item","mb-2"],[1,"h5","contact-us-subtitle","title"],[1,"fas","fa-phone","fa-rotate-90","mr-1"],[1,"d-block","d-lg-none"],[1,"contact-us-subtitle","title","h5"],[1,"contact-us-item"],[1,"col-6","col-xl-4"],[1,"mt-0","p-0","list-unstyled","mb-3"],["ctaClass","mb-2",3,"callToAction"],[1,"medium-title","light"],[1,"fab","fa-whatsapp","mr-1","fa-lg"],[1,"fas","fa-arrow-right","fa-sm","ml-1"]],template:function(e,t){1&e&&(i.Zb(0,"div"),i.Zb(1,"div",0),i.hc("click",(function(){return t.toggleAccordion()})),i.Zb(2,"small"),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Sc(5),i.kc(6,"cmsTranslate"),i.Ub(7,"i",1),i.Yb(),i.Ub(8,"hr",2),i.Zb(9,"div",3),i.Zb(10,"div",4),i.Qc(11,wu,5,2,"app-call-to-action",5),i.kc(12,"cmsStaticCtas"),i.Zb(13,"ul",6),i.Zb(14,"li",7),i.Ub(15,"i",8),i.Ub(16,"div",9),i.kc(17,"cmsTranslateRichText"),i.Yb(),i.Yb(),i.Yb(),i.Zb(18,"div",10),i.Zb(19,"div",11),i.Qc(20,ku,5,2,"app-call-to-action",5),i.kc(21,"cmsStaticCtas"),i.Zb(22,"ul",6),i.Zb(23,"li",12),i.Ub(24,"i",8),i.Ub(25,"div",9),i.kc(26,"cmsTranslateRichText"),i.Yb(),i.Yb(),i.Yb(),i.Zb(27,"div",13),i.Sc(28),i.kc(29,"cmsTranslate"),i.Yb(),i.Zb(30,"ul",6),i.Zb(31,"li",12),i.Ub(32,"i",14),i.Ub(33,"div",9),i.kc(34,"cmsTranslateRichText"),i.Yb(),i.Yb(),i.Zb(35,"div",15),i.Zb(36,"div",16),i.Sc(37),i.kc(38,"cmsTranslate"),i.Yb(),i.Zb(39,"ul",6),i.Zb(40,"li",17),i.Ub(41,"i",14),i.Ub(42,"div",9),i.kc(43,"cmsTranslateRichText"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(44,"div",18),i.Zb(45,"div",16),i.Sc(46),i.kc(47,"cmsTranslate"),i.Yb(),i.Zb(48,"ul",19),i.Zb(49,"li",17),i.Ub(50,"i",14),i.Ub(51,"div",9),i.kc(52,"cmsTranslateRichText"),i.Yb(),i.Yb(),i.Zb(53,"div",11),i.Zb(54,"div",16),i.Sc(55),i.kc(56,"cmsTranslate"),i.Yb(),i.Zb(57,"ul",6),i.Zb(58,"li",17),i.Ub(59,"i",14),i.Ub(60,"div",9),i.kc(61,"cmsTranslateRichText"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(3),i.Tc(i.lc(4,16,"FOOTER_LABEL_NO-COST")),i.Hb(2),i.Uc(" ",i.lc(6,18,"FOOTER_CONTACT-TITLE")," "),i.Hb(2),i.sc("ngClass",i.vc(44,Au,t.isAccordionOpen)),i.Hb(2),i.sc("ngClass",i.vc(46,Au,t.isAccordionOpen)),i.Hb(2),i.sc("ngIf",i.lc(12,20,t.displayWhatsAppButton&&"FOOTER_ACTION_CONTACT-WHATSAPP")),i.Hb(5),i.sc("innerHtml",i.lc(17,22,"FOOTER_LABEL_EMAIL-MEX"),i.Ic),i.Hb(4),i.sc("ngIf",i.lc(21,24,t.displayWhatsAppButton&&"FOOTER_ACTION_CONTACT-WHATSAPP")),i.Hb(5),i.sc("innerHtml",i.lc(26,26,"FOOTER_LABEL_EMAIL-MEX"),i.Ic),i.Hb(3),i.Uc(" ",i.lc(29,28,"FOOTER_LABEL_PHONE-MEX")," "),i.Hb(5),i.sc("innerHtml",i.lc(34,30,"FOOTER_LABEL_PHONENUMBER-MEX"),i.Ic),i.Hb(4),i.Uc(" ",i.lc(38,32,"FOOTER_LABEL_PHONE-CO")," "),i.Hb(5),i.sc("innerHtml",i.lc(43,34,"FOOTER_LABEL_PHONENUMBER-CO"),i.Ic),i.Hb(4),i.Uc(" ",i.lc(47,36,"FOOTER_LABEL_PHONE-USA")," "),i.Hb(5),i.sc("innerHtml",i.lc(52,38,"FOOTER_LABEL_PHONENUMBER-USA"),i.Ic),i.Hb(4),i.Uc(" ",i.lc(56,40,"FOOTER_LABEL_PHONE-CO")," "),i.Hb(5),i.sc("innerHtml",i.lc(61,42,"FOOTER_LABEL_PHONENUMBER-CO"),i.Ic))},directives:[gt.r,gt.u,Kn.a],pipes:[On.a,oi.a,ii.a],styles:[".contact-us-subtitle[_ngcontent-%COMP%]{color:var(--wh1);margin:0 0 15px}@media screen and (max-width:991px){.contact-us-content[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:all .3s cubic-bezier(.165,.84,.44,1)}.contact-us-content.open[_ngcontent-%COMP%]{max-height:300px}.contact-us-content[_ngcontent-%COMP%]   .usa-phone[_ngcontent-%COMP%]{min-width:auto!important}}@media screen and (max-width:1240px){.contact-us-content[_ngcontent-%COMP%]   .usa-phone[_ngcontent-%COMP%]{min-width:200px}.contact-us-content[_ngcontent-%COMP%]   .inline-item[_ngcontent-%COMP%]{white-space:nowrap}}",".footer-search-container[_ngcontent-%COMP%]{background-color:var(--gr15);padding-top:40px}@media screen and (max-width:991px){.footer-search-container[_ngcontent-%COMP%]{padding-top:20px}}.footer-container[_ngcontent-%COMP%]{background-color:var(--bg6)}.footer-row[_ngcontent-%COMP%]{padding:70px 0 40px;margin-bottom:0}@media screen and (max-width:991px){.footer-row[_ngcontent-%COMP%]{padding:40px 0 50px}}.footer-divider[_ngcontent-%COMP%]{height:1px;background:var(--wh1);border:none;opacity:1;margin:0}@media screen and (max-width:991px){.footer-divider[_ngcontent-%COMP%]{display:none}}.footer-title[_ngcontent-%COMP%]{color:var(--wh1);letter-spacing:-.5px;line-height:1;margin-bottom:40px;position:relative}.footer-title.medium[_ngcontent-%COMP%]{font-size:16px}@media screen and (max-width:991px){.footer-title.medium[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width:991px){.footer-title[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;justify-content:space-between;width:100%;cursor:pointer}}.footer-title[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{font-size:14px;color:var(--vg4);position:absolute;top:-100%;line-height:1}@media screen and (max-width:991px){.footer-title[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{display:none}}.footer-icon[_ngcontent-%COMP%]{display:none}@media screen and (max-width:991px){.footer-icon[_ngcontent-%COMP%]{display:block;color:var(--vg4)!important;font-size:20px;transition:all .3s cubic-bezier(.165,.84,.44,1)}.footer-icon.open[_ngcontent-%COMP%]{transform:rotate(180deg) translateY(-5px)}}.footer-section-divider[_ngcontent-%COMP%]{display:none}@media screen and (max-width:991px){.footer-section-divider[_ngcontent-%COMP%]{display:block;height:1px;background:var(--gr20);margin:0 0 20px;opacity:.5;border:none}}.partner-label[_ngcontent-%COMP%]{color:var(--wh1);height:100%;font-size:10px;white-space:nowrap}.footer-logos[_ngcontent-%COMP%]{flex-wrap:wrap}.footer-logos[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{height:40px;border-right:1px solid var(--wh1)}@media screen and (max-width:720px){.footer-logos[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]:nth-child(2){border-right:none}}.navitaire-logo[_ngcontent-%COMP%]{height:28px}.col-footer[_ngcontent-%COMP%]{background-color:#00160a;border-top:.5px solid rgba(var(--wh1-rgb),.5)}@media screen and (max-width:720px){.card-logos[_ngcontent-%COMP%]{padding:40px 0 0}}"]}),e})();function Mu(e,t){if(1&e&&(i.Zb(0,"li",8),i.Zb(1,"app-call-to-action",9),i.Sc(2),i.Yb(),i.Yb()),2&e){const e=t.$implicit;i.Hb(1),i.sc("callToAction",e),i.Hb(1),i.Uc(" ",null==e?null:e.text," ")}}const Pu=function(e){return{open:e}};function Du(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",2),i.Zb(1,"div",3),i.hc("click",(function(){i.Hc(e);const n=t.index;return i.jc().toggleAccordion(n)})),i.Sc(2),i.kc(3,"cmsTranslate"),i.Ub(4,"i",4),i.Yb(),i.Ub(5,"hr",5),i.Zb(6,"ul",6),i.Qc(7,Mu,3,2,"li",7),i.Yb(),i.Yb()}if(2&e){const e=t.$implicit,n=t.index,o=i.jc();i.Hb(2),i.Uc(" ",i.lc(3,4,e.title)," "),i.Hb(2),i.sc("ngClass",i.vc(6,Pu,o.isAccordionOpen[n])),i.Hb(2),i.sc("ngClass",i.vc(8,Pu,o.isAccordionOpen[n])),i.Hb(1),i.sc("ngForOf",e.links)}}let xu=(()=>{class e{constructor(){this.linkColumns=[],this.isAccordionOpen=[];for(let e=0;e<this.linkColumns.length;e++)this.isAccordionOpen[e]=!1}toggleAccordion(e){this.isAccordionOpen[e]=!this.isAccordionOpen[e]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["app-columns-grid"]],inputs:{linkColumns:"linkColumns"},decls:2,vars:1,consts:[[1,"columns-grid-row"],["class","columns-grid-col",4,"ngFor","ngForOf"],[1,"columns-grid-col"],[1,"title","light","mt-0","footer-title","medium","h5",3,"click"],[1,"fas","fa-sort-down","footer-icon",3,"ngClass"],[1,"footer-section-divider"],[1,"columns-grid-list","m-0","p-0","list-unstyled",3,"ngClass"],["class","mb-3 mb-md-2",4,"ngFor","ngForOf"],[1,"mb-3","mb-md-2"],["ctaClass","medium-title light text-decoration-none opacity-7",3,"callToAction"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Qc(1,Du,8,10,"div",1),i.Yb()),2&e&&(i.Hb(1),i.sc("ngForOf",t.linkColumns))},directives:[gt.t,gt.r,Kn.a],pipes:[On.a],styles:[".columns-grid-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}@media screen and (max-width:991px){.columns-grid-list[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:all .3s cubic-bezier(.165,.84,.44,1)}.columns-grid-list.open[_ngcontent-%COMP%]{max-height:350px}}@media screen and (max-width:991px){.columns-grid-col[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}}",".footer-search-container[_ngcontent-%COMP%]{background-color:var(--gr15);padding-top:40px}@media screen and (max-width:991px){.footer-search-container[_ngcontent-%COMP%]{padding-top:20px}}.footer-container[_ngcontent-%COMP%]{background-color:var(--bg6)}.footer-row[_ngcontent-%COMP%]{padding:70px 0 40px;margin-bottom:0}@media screen and (max-width:991px){.footer-row[_ngcontent-%COMP%]{padding:40px 0 50px}}.footer-divider[_ngcontent-%COMP%]{height:1px;background:var(--wh1);border:none;opacity:1;margin:0}@media screen and (max-width:991px){.footer-divider[_ngcontent-%COMP%]{display:none}}.footer-title[_ngcontent-%COMP%]{color:var(--wh1);letter-spacing:-.5px;line-height:1;margin-bottom:40px;position:relative}.footer-title.medium[_ngcontent-%COMP%]{font-size:16px}@media screen and (max-width:991px){.footer-title.medium[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width:991px){.footer-title[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;justify-content:space-between;width:100%;cursor:pointer}}.footer-title[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{font-size:14px;color:var(--vg4);position:absolute;top:-100%;line-height:1}@media screen and (max-width:991px){.footer-title[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{display:none}}.footer-icon[_ngcontent-%COMP%]{display:none}@media screen and (max-width:991px){.footer-icon[_ngcontent-%COMP%]{display:block;color:var(--vg4)!important;font-size:20px;transition:all .3s cubic-bezier(.165,.84,.44,1)}.footer-icon.open[_ngcontent-%COMP%]{transform:rotate(180deg) translateY(-5px)}}.footer-section-divider[_ngcontent-%COMP%]{display:none}@media screen and (max-width:991px){.footer-section-divider[_ngcontent-%COMP%]{display:block;height:1px;background:var(--gr20);margin:0 0 20px;opacity:.5;border:none}}.partner-label[_ngcontent-%COMP%]{color:var(--wh1);height:100%;font-size:10px;white-space:nowrap}.footer-logos[_ngcontent-%COMP%]{flex-wrap:wrap}.footer-logos[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{height:40px;border-right:1px solid var(--wh1)}@media screen and (max-width:720px){.footer-logos[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]:nth-child(2){border-right:none}}.navitaire-logo[_ngcontent-%COMP%]{height:28px}.col-footer[_ngcontent-%COMP%]{background-color:#00160a;border-top:.5px solid rgba(var(--wh1-rgb),.5)}@media screen and (max-width:720px){.card-logos[_ngcontent-%COMP%]{padding:40px 0 0}}"]}),e})();function Iu(e,t){1&e&&(i.Zb(0,"div",5),i.Ub(1,"app-site-search",6),i.Ub(2,"app-site-search-responsive",7),i.Yb()),2&e&&(i.Hb(1),i.sc("popularSearches",!1))}function Lu(e,t){if(1&e&&i.Ub(0,"app-links-above-footer",8),2&e){const e=i.jc();i.sc("linksAboveFooter",e.linksAboveFooter)("isMobile",e.isMobile)}}function Ru(e,t){1&e&&i.Ub(0,"app-newsletter-card",9),2&e&&i.sc("isBookingType",!0)}function Nu(e,t){1&e&&i.Vb(0)}function ju(e,t){1&e&&(i.Zb(0,"div",25),i.Ub(1,"app-newsletter-card"),i.Yb())}function Bu(e,t){if(1&e&&(i.Zb(0,"div",13),i.Zb(1,"div",19),i.Zb(2,"div",20),i.Ub(3,"app-quick-links",21),i.Yb(),i.Zb(4,"div",22),i.Ub(5,"app-contact-us"),i.Qc(6,Nu,1,0,"ng-container",23),i.Yb(),i.Qc(7,ju,2,0,"div",24),i.Yb(),i.Yb()),2&e){const e=i.jc(2),t=i.Ec(5);i.Hb(3),i.sc("links",e.quickLinks.links),i.Hb(3),i.sc("ngTemplateOutlet",t),i.Hb(1),i.sc("ngIf",e.isMobile)}}function Fu(e,t){1&e&&i.Ub(0,"app-newsletter-card")}function Hu(e,t){if(1&e&&(i.Zb(0,"div",26),i.Ub(1,"app-columns-grid",27),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.sc("linkColumns",e.linkColumns)}}const Uu=function(){return{height:32}};function Yu(e,t){if(1&e&&(i.Zb(0,"div",30),i.Zb(1,"div",31),i.Ub(2,"img",32),i.kc(3,"cmsImage"),i.Yb(),i.Zb(4,"div",33),i.Zb(5,"div",34),i.Sc(6," Powered by "),i.Yb(),i.Ub(7,"img",35),i.kc(8,"cmsImage"),i.Yb(),i.Zb(9,"div",36),i.Ub(10,"img",37),i.kc(11,"cmsImage"),i.Yb(),i.Yb()),2&e){const e=i.jc(3);i.Hb(2),i.sc("src",i.mc(3,6,e.getPartnerLogos("FOOTER_LOGO_ISO_VERITAS").file.url,i.uc(15,Uu)),i.Kc)("alt",e.getPartnerLogos("FOOTER_LOGO_ISO_VERITAS").title),i.Hb(5),i.sc("src",i.mc(8,9,e.getPartnerLogos("FOOTER_LOGO_NAVITAIRE").file.url,i.uc(16,Uu)),i.Kc)("alt",e.getPartnerLogos("FOOTER_LOGO_NAVITAIRE").title),i.Hb(3),i.sc("src",i.mc(11,12,e.getPartnerLogos("FOOTER_LOGO_PCI").file.url,i.uc(17,Uu)),i.Kc)("alt",e.getPartnerLogos("FOOTER_LOGO_PCI").title)}}function Gu(e,t){if(1&e&&(i.Zb(0,"div",28),i.Qc(1,Yu,12,18,"div",29),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.sc("ngIf",e.getPartnerLogos("FOOTER_LOGO_ISO_VERITAS")&&e.getPartnerLogos("FOOTER_LOGO_NAVITAIRE"))}}function Vu(e,t){if(1&e&&(i.Zb(0,"div",36),i.Ub(1,"img",44),i.kc(2,"cmsImage"),i.Yb()),2&e){const e=i.jc(3);i.Hb(1),i.sc("src",i.mc(2,2,e.getPartnerLogos("FOOTER_LOGO_MINTRANSPORTE_CO").file.url,i.uc(5,Uu)),i.Kc)("alt",e.getPartnerLogos("FOOTER_LOGO_MINTRANSPORTE_CO").title)}}function Zu(e,t){if(1&e&&(i.Ub(0,"img",44),i.kc(1,"cmsImage")),2&e){const e=i.jc(3);i.sc("src",i.mc(1,2,e.getPartnerLogos("FOOTER_LOGO_SUPERTRANSPORTE_CO").file.url,i.uc(5,Uu)),i.Kc)("alt",e.getPartnerLogos("FOOTER_LOGO_SUPERTRANSPORTE_CO").title)}}function $u(e,t){if(1&e&&(i.Ub(0,"img",45),i.kc(1,"cmsImage")),2&e){const e=i.jc(3);i.sc("src",i.mc(1,2,e.getPartnerLogos("FOOTER_LOGO_AERONAUTICACIVIL_CO").file.url,i.uc(5,Uu)),i.Kc)("alt",e.getPartnerLogos("FOOTER_LOGO_AERONAUTICACIVIL_CO").title)}}function Wu(e,t){if(1&e&&(i.Zb(0,"div",38),i.Zb(1,"div",39),i.Zb(2,"div",40),i.Qc(3,Vu,3,6,"div",41),i.Zb(4,"div",36),i.Qc(5,Zu,2,6,"img",42),i.Qc(6,$u,2,6,"img",43),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&e){const e=i.jc(2);i.Hb(3),i.sc("ngIf",e.getPartnerLogos("FOOTER_LOGO_MINTRANSPORTE_CO")),i.Hb(2),i.sc("ngIf",e.getPartnerLogos("FOOTER_LOGO_SUPERTRANSPORTE_CO")),i.Hb(1),i.sc("ngIf",e.getPartnerLogos("FOOTER_LOGO_AERONAUTICACIVIL_CO"))}}function Ku(e,t){if(1&e&&(i.Zb(0,"div",10),i.Qc(1,Bu,8,3,"div",11),i.Qc(2,Fu,1,0,"app-newsletter-card",12),i.Zb(3,"div",13),i.Qc(4,Hu,2,1,"div",14),i.Zb(5,"div",15),i.Ub(6,"app-subfooter",16),i.Yb(),i.Yb(),i.Qc(7,Gu,2,1,"div",17),i.Qc(8,Wu,7,3,"div",18),i.Yb()),2&e){const e=i.jc();i.Hb(1),i.sc("ngIf",!e.isBrief),i.Hb(1),i.sc("ngIf",!e.isBrief&&!e.isMobile),i.Hb(2),i.sc("ngIf",!e.isBrief),i.Hb(2),i.sc("links",e.subfooterLinks)("creditCardLogos",e.creditCardLogos)("onlinePaymentLogos",e.onlinePaymentLogos)("displayDownloadbuttons",e.isBrief)("socialMediaItems",e.socialMediaItems),i.Hb(1),i.sc("ngIf",e.partnerLogos.length>0),i.Hb(1),i.sc("ngIf",e.partnerLogos.length>0&&"es-CO"===e.currentLocale)}}function zu(e,t){1&e&&(i.Zb(0,"div"),i.Zb(1,"div",46),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Zb(4,"div",47),i.Zb(5,"app-call-to-action",48),i.kc(6,"cmsStaticCtas"),i.Ub(7,"img",49),i.kc(8,"cmsStaticImage"),i.Yb(),i.Zb(9,"app-call-to-action",48),i.kc(10,"cmsStaticCtas"),i.Ub(11,"img",49),i.kc(12,"cmsStaticImage"),i.Yb(),i.Zb(13,"app-call-to-action",50),i.kc(14,"cmsStaticCtas"),i.Ub(15,"img",49),i.kc(16,"cmsStaticImage"),i.Yb(),i.Yb(),i.Yb()),2&e&&(i.Hb(2),i.Uc(" ",i.lc(3,7,"FOOTER_DOWNLOAD_APP")," "),i.Hb(3),i.sc("callToAction",i.lc(6,9,"FOOTER_ACTION_DOWNLOAD_APP-STORE")),i.Hb(2),i.sc("src",i.lc(8,11,"FOOTER_DOWNLOAD_APP_APP-STORE"),i.Kc),i.Hb(2),i.sc("callToAction",i.lc(10,13,"FOOTER_ACTION_DOWNLOAD_PLAY-STORE")),i.Hb(2),i.sc("src",i.lc(12,15,"FOOTER_DOWNLOAD_APP_PLAY-STORE"),i.Kc),i.Hb(2),i.sc("callToAction",i.lc(14,17,"FOOTER_ACTION_DOWNLOAD_APP-GALLERY")),i.Hb(2),i.sc("src",i.lc(16,19,"FOOTER_DOWNLOAD_APP_HUAWEI-APP-GALLERY"),i.Kc))}let Qu=(()=>{class e{constructor(e,t,n){this.storefrontSvc=e,this.locale=t,this.deviceSvc=n,this.isBrief=!1,this.isHomepage=!1,this.quickLinks={title:"",links:[]},this.subfooterLinks=[],this.linkColumns=[],this.creditCardLogos=[],this.onlinePaymentLogos=[],this.partnerLogos=[],this.linksAboveFooter=[],this.isMobile=!1,this.currentLocale="",this.socialMediaItems=[]}onResize(e){this.isMobile=e.target.innerWidth<=720}ngOnInit(){this.isMobile=!this.deviceSvc.isDesktop(),this.storefrontSvc.ready.then(()=>{this.footerNavigation=this.storefrontSvc.storefrontData.footerNavigation,this.quickLinks.links=this.getSectionLinks("SF_FOOTER_QUICK-LINKS"),this.quickLinks.title=this.getSectionTitle("SF_FOOTER_QUICK-LINKS"),this.subfooterLinks=this.getSectionLinks("SF_SUBFOOTER_LINKS"),this.creditCardLogos=this.getLogos("SF_FOOTER_CC-LOGOS"),this.onlinePaymentLogos=this.getLogos("SF_FOOTER_OP-LOGOS"),this.partnerLogos=this.getLogos("SF_FOOTER_PARTNER-LOGOS"),this.linkColumns=this.resolveColums(),this.currentLocale=this.locale.getAppLocale(),this.linksAboveFooter=this.getSection("SF_FOOTER_LINKS-ABOVE-FOOTER"),this.socialMediaItems=this.getSection("SF_FOOTER_SOCIAL-MEDIA")})}getSectionLinks(e){const t=this.footerNavigation.find(t=>t.fields.code===e);return t&&t.fields.items&&t.fields.items.length&&t.fields.items.map(e=>e.fields)||[]}getSectionTitle(e){return this.footerNavigation.find(t=>t.fields.code===e).fields.title}resolveColums(){const e=this.footerNavigation.filter(e=>!e.fields.code);return e&&e.length?e.map(e=>{var t,n;return{title:e.fields.title,links:null===(n=null===(t=e.fields)||void 0===t?void 0:t.items)||void 0===n?void 0:n.map(e=>e.fields)}}):[]}getLogos(e){var t;return(null===(t=this.footerNavigation.find(t=>t.fields.code===e))||void 0===t?void 0:t.fields.mediaItems)||[]}getPartnerLogos(e){var t;return(null===(t=this.partnerLogos.find(t=>t.fields.title===e))||void 0===t?void 0:t.fields)||null}getSection(e){var t,n;return(null===(n=null===(t=this.footerNavigation.find(t=>t.fields.code===e))||void 0===t?void 0:t.fields)||void 0===n?void 0:n.items)||[]}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(Yt.a),i.Tb(Gt.a),i.Tb(Zt.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-viva-footer"]],hostBindings:function(e,t){1&e&&i.hc("resize",(function(e){return t.onResize(e)}),!1,i.Gc)},inputs:{isBrief:"isBrief",isHomepage:"isHomepage"},decls:6,vars:4,consts:[["class","footer-search-container pb-0 pb-lg-0",4,"ngIf"],[3,"linksAboveFooter","isMobile",4,"ngIf"],[3,"isBookingType",4,"ngIf"],["class","footer-container",4,"ngIf"],["DownloadApp",""],[1,"footer-search-container","pb-0","pb-lg-0"],[1,"d-none","d-md-block",3,"popularSearches"],[1,"d-md-none"],[3,"linksAboveFooter","isMobile"],[3,"isBookingType"],[1,"footer-container"],["class","container px-20 px-lg-10",4,"ngIf"],[4,"ngIf"],[1,"container","px-20","px-lg-10"],["class","footer-row pt-40 pb-0",4,"ngIf"],[1,"footer-row","card-logos"],[3,"links","creditCardLogos","onlinePaymentLogos","displayDownloadbuttons","socialMediaItems"],["class","container px-20 px-lg-10 pt-0 pt-md-40 pb-40 pb-md-60",4,"ngIf"],["class","col-footer",4,"ngIf"],[1,"footer-row","row"],[1,"col-12","col-lg-3"],[3,"links"],[1,"col-12","col-lg-5","pt-0","pt-md-20","pt-lg-0"],[4,"ngTemplateOutlet"],["class","col-12 col-lg-4 pt-20 pt-lg-0",4,"ngIf"],[1,"col-12","col-lg-4","pt-20","pt-lg-0"],[1,"footer-row","pt-40","pb-0"],[3,"linkColumns"],[1,"container","px-20","px-lg-10","pt-0","pt-md-40","pb-40","pb-md-60"],["class","d-flex justify-content-center align-items-center footer-logos",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","footer-logos"],[1,"d-flex","pr-20","logo-container"],["loading","lazy",1,"ml-10",3,"src","alt"],[1,"d-flex","ml-20","pr-md-20","logo-container"],[1,"partner-label","d-flex","justify-content-center","align-items-start"],["loading","lazy",1,"ml-10","navitaire-logo",3,"src","alt"],[1,"d-flex"],["loading","lazy",1,"ml-md-20","mt-20","mt-md-0",3,"src","alt"],[1,"col-footer"],[1,"container","px-20","px-lg-10","py-20"],[1,"d-flex","justify-content-between"],["class","d-flex",4,"ngIf"],["loading","lazy",3,"src","alt",4,"ngIf"],["class","ml-30","loading","lazy",3,"src","alt",4,"ngIf"],["loading","lazy",3,"src","alt"],["loading","lazy",1,"ml-30",3,"src","alt"],[1,"title","light","mb-3"],[1,"d-flex","flex-wrap"],["ctaClass","mr-2",3,"callToAction"],["height","40","loading","lazy",3,"src"],[3,"callToAction"]],template:function(e,t){1&e&&(i.Qc(0,Iu,3,1,"div",0),i.Qc(1,Lu,1,2,"app-links-above-footer",1),i.Qc(2,Ru,1,1,"app-newsletter-card",2),i.Qc(3,Ku,9,10,"div",3),i.Qc(4,zu,17,21,"ng-template",null,4,i.Rc)),2&e&&(i.sc("ngIf",!t.isBrief),i.Hb(1),i.sc("ngIf",t.linksAboveFooter.length&&t.isHomepage),i.Hb(1),i.sc("ngIf",t.isBrief),i.Hb(1),i.sc("ngIf",t.footerNavigation))},directives:[gt.u,Ma,xl,Ul,uu,Cu,Tu,Eu,gt.B,xu,Kn.a],pipes:[Vr.a,On.a,oi.a,Un.a],styles:[".footer-search-container[_ngcontent-%COMP%]{background-color:var(--gr15);padding-top:40px}@media screen and (max-width:991px){.footer-search-container[_ngcontent-%COMP%]{padding-top:20px}}.footer-container[_ngcontent-%COMP%]{background-color:var(--bg6)}.footer-row[_ngcontent-%COMP%]{padding:70px 0 40px;margin-bottom:0}@media screen and (max-width:991px){.footer-row[_ngcontent-%COMP%]{padding:40px 0 50px}}.footer-divider[_ngcontent-%COMP%]{height:1px;background:var(--wh1);border:none;opacity:1;margin:0}@media screen and (max-width:991px){.footer-divider[_ngcontent-%COMP%]{display:none}}.footer-title[_ngcontent-%COMP%]{color:var(--wh1);letter-spacing:-.5px;line-height:1;margin-bottom:40px;position:relative}.footer-title.medium[_ngcontent-%COMP%]{font-size:16px}@media screen and (max-width:991px){.footer-title.medium[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width:991px){.footer-title[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;justify-content:space-between;width:100%;cursor:pointer}}.footer-title[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{font-size:14px;color:var(--vg4);position:absolute;top:-100%;line-height:1}@media screen and (max-width:991px){.footer-title[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{display:none}}.footer-icon[_ngcontent-%COMP%]{display:none}@media screen and (max-width:991px){.footer-icon[_ngcontent-%COMP%]{display:block;color:var(--vg4)!important;font-size:20px;transition:all .3s cubic-bezier(.165,.84,.44,1)}.footer-icon.open[_ngcontent-%COMP%]{transform:rotate(180deg) translateY(-5px)}}.footer-section-divider[_ngcontent-%COMP%]{display:none}@media screen and (max-width:991px){.footer-section-divider[_ngcontent-%COMP%]{display:block;height:1px;background:var(--gr20);margin:0 0 20px;opacity:.5;border:none}}.partner-label[_ngcontent-%COMP%]{color:var(--wh1);height:100%;font-size:10px;white-space:nowrap}.footer-logos[_ngcontent-%COMP%]{flex-wrap:wrap}.footer-logos[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{height:40px;border-right:1px solid var(--wh1)}@media screen and (max-width:720px){.footer-logos[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]:nth-child(2){border-right:none}}.navitaire-logo[_ngcontent-%COMP%]{height:28px}.col-footer[_ngcontent-%COMP%]{background-color:#00160a;border-top:.5px solid rgba(var(--wh1-rgb),.5)}@media screen and (max-width:720px){.card-logos[_ngcontent-%COMP%]{padding:40px 0 0}}"]}),e})();function Xu(e,t){if(1&e&&i.Ub(0,"app-viva-header",7),2&e){const e=i.jc(),t=i.Ec(8);i.sc("hidden",!t.isActivated)("isAndroidBannerShown",e.isAndroidBannerShown)}}function qu(e,t){if(1&e&&(i.Zb(0,"footer"),i.Ub(1,"app-viva-footer",11),i.Yb()),2&e){i.jc(2);const e=i.Ec(8);i.Hb(1),i.sc("isBrief",!e.activatedRouteData.hasFullFooter)("isHomepage",!(null==e.activatedRouteData||!e.activatedRouteData.isHomepage))}}function Ju(e,t){if(1&e&&(i.Zb(0,"div",8),i.Qc(1,qu,2,2,"footer",9),i.Xb(2),i.Zb(3,"div",10),i.Sc(4),i.Yb(),i.Wb(),i.Yb()),2&e){const e=i.jc(),t=i.Ec(8);i.Hb(1),i.sc("ngIf",t.isActivated),i.Hb(3),i.Uc(" ",e.versionString," ")}}const ed=function(e){return{"android-padding":e}};let td=(()=>{class e{constructor(e,t,n,i,o,r,s,a,l,u,d,h,p,g,f,m,b,v,y){this.document=e,this.platformId=t,this.datalayerChannelSvc=n,this.storefrontSv=i,this.router=o,this.locale=r,this.seoService=s,this.titleSvc=a,this.deviceService=l,this.cmsConfig=u,this.renderer=d,this.chunkErrorHandler=h,this.utmDatalayer=p,this.bookingRouteValidator=g,this.boxeverSvc=f,this.dyService=m,this.bfService=b,this.fbSdk=v,this.isbSvc=y,this.isProduction=c.g.production,this.schema={},this.versionString="",this.isAndroidBannerShown=!1,Object(Bt.h)("bs4"),this.boxeverSvc.init(),this.dyService.init(),this.datalayerChannelSvc.getDeviceId(),this.datalayerChannelSvc.addGtmId(),this.storefrontSv.ready.then(()=>{}),this.seoService.getJsonLD().subscribe(e=>this.schema=e),this.versionString=this.versionDetails,Object(gt.L)(this.platformId)&&(this.datalayerChannelSvc.loadChannelInfo(),this.chunkErrorHandler.startHandler(),this.utmDatalayer.init(),this.fbSdk.init(),this.isbSvc.setIsbConfigFromCms()),this.bookingRouteValidator.init(),this.document.documentElement.lang=this.locale.getAppLocale().toLocaleLowerCase().slice(0,2),this.titleSvc.start(),this.cmsConfig.getSectionFeatureValue(jt.b.GLOBAL,jt.a.WebChat)&&this.deviceService.isDesktop()&&this.loadWebChatScript(),this.cmsConfig.getSectionFeatureValue(jt.b.GLOBAL,jt.a.GlobalBidFlyerScriptLoad)&&this.bfService.loadScript(this.document,Object(gt.L)(this.platformId)),this.hideLoaderOnNavigationEnd()}get versionDetails(){let e="";return e+=c.g.production?"[PRODUCTION]":"[NON-PRODUCTION]",e+=" APP-VERSION: "+c.g.appVersion+" || ",e+=" API-VERSION: "+c.g.apiVersion+" || ",e+=" CMS-ALIAS: "+c.g.contentful.environment,e+=c.g.contentful.usePreview?"_preview":"",e}hideLoaderOnNavigationEnd(){this.router.events.pipe(Object(Ft.a)(e=>e instanceof wt.c),Object(Ht.a)(1)).toPromise().then(e=>{const t=this.renderer.selectRootElement("#vb-app-loader");this.renderer.setStyle(t,"display","none"),Object(Dt.a)(1e3).subscribe(()=>{window.prerenderReady=!0})})}loadWebChatScript(){const e=this.document.createElement("script");e.text="\n!(function (o, r, s) {\n  var c,\n    p,\n    a,\n    i = [],\n    u = [];\n  (o[s] = {\n    init: function () {\n      c = arguments;\n      var n = {\n        then: function (e) {\n          return u.push({ type: 't', next: e }), n;\n        },\n        catch: function (e) {\n          return u.push({ type: 'c', next: e }), n;\n        },\n      };\n      return n;\n    },\n    on: function () {\n      i.push(arguments);\n    },\n    render: function () {\n      p = arguments;\n    },\n    destroy: function () {\n      a = arguments;\n    },\n  }),\n    (o.__onWebMessengerHostReady__ = function (e) {\n      if ((delete o.__onWebMessengerHostReady__, (o[s] = e), c))\n        for (var n = e.init.apply(e, c), t = 0; t < u.length; t++) {\n          var r = u[t];\n          n = 't' === r.type ? n.then(r.next) : n.catch(r.next);\n        }\n      for (\n        p && e.render.apply(e, p), a && e.destroy.apply(e, a), t = 0;\n        t < i.length;\n        t++\n      )\n        e.on.apply(e, i[t]);\n    });\n  var e = new XMLHttpRequest();\n  e.addEventListener('load', function () {\n    try {\n      var e;\n      if (\n        (e =\n          'string' == typeof this.response\n            ? JSON.parse(this.response)\n            : this.response).url\n      ) {\n        var n = r.getElementsByTagName('script')[0],\n          t = r.createElement('script');\n        (t.async = !0), (t.src = e.url), n.parentNode.insertBefore(t, n);\n      }\n    } catch (e) {}\n  }),\n    e.open(\n      'GET',\n      'https://5e46bc82c3d8d5000fb5c147.webloader.smooch.io/',\n      !0\n    ),\n    (e.responseType = 'json'),\n    e.send();\n})(window, document, 'Smooch');\nvar apiUrl = 'https://logging.vivaaerobus.com',\n    authToken = '',\n    userIp = '',\n    userAgent = navigator.userAgent,\n    userUrl = window.location.href;\n  function getId() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(\n      /[xy]/g,\n      function (e) {\n        var t = (16 * Math.random()) | 0;\n        return ('x' == e ? t : (3 & t) | 8).toString(16);\n      }\n    );\n  }\n  function getAuthToken() {\n    var e = new XMLHttpRequest();\n    e.open('POST', apiUrl + '/api/v1/login', !0),\n      e.setRequestHeader('Content-Type', 'application/json;charset=utf-8'),\n      (e.onreadystatechange = function (e) {\n        e.target.response &&\n          (authToken = JSON.parse(e.target.response).accessToken);\n      }),\n      e.send(\n        JSON.stringify({ username: 'yalochat', password: 'fQcMXKlpU7q' })\n      );\n  }\n  function getIp() {\n    var e = new XMLHttpRequest();\n    e.open('GET', 'https://api.ipify.org/?format=json', !0),\n      (e.onreadystatechange = function (e) {\n        e.target.response && (userIp = JSON.parse(e.target.response).ip);\n      }),\n      e.send();\n  }\n  function getWebhookPayload() {\n    return {\n      id: getId(),\n      channel: 'web',\n      pos: 'www',\n      module: 'chat',\n      component: 'webchat',\n      section: [],\n      element: 'bubble',\n      action: 'send_first_message',\n      created: Date.now(),\n      data: {\n        uri: userUrl,\n        useragent: userAgent,\n        ip: userIp,\n        language: 'es',\n      },\n    };\n  }\n  function hitWebhook() {\n    var e = new XMLHttpRequest();\n    e.open('POST', apiUrl + '/api/v1/log', !0),\n      e.setRequestHeader('Authorization', 'Bearer ' + authToken),\n      e.setRequestHeader('Content-Type', 'application/json;charset=utf-8'),\n      (e.onreadystatechange = function (e) {}),\n      e.send(JSON.stringify(getWebhookPayload()));\n  }\n  getAuthToken(),\n    getIp(),\n    Smooch.on('widget:opened', function () {\n      hitWebhook();\n    }),\n    Smooch.init({\n      appId: '5e46bc82c3d8d5000fb5c147',\n      locale: 'es-MX',\n      customText: {\n        headerText: '\xa1Hola! \xbfC\xf3mo puedo ayudarte?',\n        introductionText: 'Escribe tu pregunta en un solo mensaje',\n        inputPlaceholder: 'Escribe tu pregunta...',\n        sendButtonText: 'Enviar',\n        messageRelativeTimeDay: 'Hace {value}d',\n        messageRelativeTimeHour: 'Hace {value}h',\n        messageRelativeTimeJustNow: 'Justo ahora',\n        messageRelativeTimeMinute: 'Hace {value}m',\n      },\n      menuItems: { imageUpload: !1, fileUpload: !1, shareLocation: !1 },\n    });\n",e.type="text/javascript",this.document.body.appendChild(e)}setAndroidBannerValue(e){this.isAndroidBannerShown=e}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(gt.e),i.Tb(i.G),i.Tb(Ut.a),i.Tb(Yt.a),i.Tb(wt.g),i.Tb(Gt.a),i.Tb(xt.a),i.Tb(Vt.a),i.Tb(Zt.a),i.Tb($t.a),i.Tb(i.I),i.Tb(Kt),i.Tb(zt.a),i.Tb(tn),i.Tb(nn.a),i.Tb(on.a),i.Tb(rn.a),i.Tb(an),i.Tb(un))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-root"]],decls:11,vars:6,consts:[[3,"json"],[1,"app-container",3,"ngClass"],[1,"app-content"],[3,"bannerIsDisplayed"],[3,"hidden","isAndroidBannerShown",4,"ngIf"],["routerOutlet","outlet"],["class","app-footer",4,"ngIf"],[3,"hidden","isAndroidBannerShown"],[1,"app-footer"],[4,"ngIf"],[1,"ml-10","small-title","version-info-bar"],[3,"isBrief","isHomepage"]],template:function(e,t){if(1&e&&(i.Ub(0,"app-login-sidebar"),i.Ub(1,"app-basket-sidebar"),i.Ub(2,"ngx-json-ld",0),i.Zb(3,"div",1),i.Zb(4,"div",2),i.Zb(5,"app-android-banner",3),i.hc("bannerIsDisplayed",(function(e){return t.setAndroidBannerValue(e)})),i.Yb(),i.Qc(6,Xu,1,2,"app-viva-header",4),i.Ub(7,"router-outlet",null,5),i.Yb(),i.Qc(9,Ju,5,2,"div",6),i.Yb(),i.Ub(10,"app-cookies-modal")),2&e){const e=i.Ec(8);i.Hb(2),i.sc("json",t.schema),i.Hb(1),i.sc("ngClass",i.vc(4,ed,t.isAndroidBannerShown)),i.Hb(3),i.sc("ngIf",!e.activatedRouteData.hideHeader),i.Hb(3),i.sc("ngIf",!e.activatedRouteData.hideFooter)}},directives:[Mo,Vo,Zo,gt.r,Xo,gt.u,wt.l,er,kl,Qu],styles:[".app-container[_ngcontent-%COMP%], body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100vh}.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.app-container.android-padding[_ngcontent-%COMP%]{padding-top:72px}.app-content[_ngcontent-%COMP%]{flex:1 0 auto}.app-footer[_ngcontent-%COMP%]{flex-shrink:0}.version-info-bar[_ngcontent-%COMP%]{background-color:var(--wh1)}"]}),e})();var nd=n("o5mt"),id=n("b8LB"),od=n("Pqv9"),rd=n("ur0o"),sd=n("qNo2"),ad=n("h3XU"),cd=n("MBJt"),ld=n("d0zJ");let ud=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,nd.a]]}),e})(),dd=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,nd.a,id.a,Sn.E,Sn.o,wt.k,od.a,zn.d,rd.a,sd.a,ad.a,In.b,cd.a,ld.a,ud]]}),e})(),hd=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c]]}),e})(),pd=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,hd,nd.a]]}),e})(),gd=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,Sn.E,pd,nd.a]]}),e})(),fd=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,gd]]}),e})(),md=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,nd.a]]}),e})(),bd=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,sd.a,nd.a,md]]}),e})(),vd=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c]]}),e})(),yd=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,nd.a]]}),e})(),_d=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,nd.a]]}),e})();var Cd=n("0wYa"),Sd=n("xT/e");let Od=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,nd.a,ld.a]]}),e})();var Td=n("wbuz"),wd=n("9LZq");let kd=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,nd.a,Td.a,wd.a,In.b,Sn.o,Sn.E]]}),e})(),Ad=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,nd.a,Td.a,wd.a,In.b]]}),e})(),Ed=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,nd.a,Ad,ld.a]]}),e})(),Md=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,wt.k,bd,vd,yd,_d,nd.a,Cd.a,Sd.a,Od,kd,Ad,gd,ld.a,Ed]]}),e})(),Pd=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,Sn.E,fd,Md,vd,nd.a]]}),e})();var Dd=n("bSk5");let xd=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},providers:[gt.G],imports:[[gt.c]]}),e})(),Id=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,gd,Sn.o,Sn.E,nd.a,ld.a,Pd,ad.a,In.b,Dd.a,xd]]}),e})();var Ld=n("JYGO");let Rd=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,d.e,nd.a]]}),e})(),Nd=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},providers:[cn.a,gt.f],imports:[[gt.c,Sn.o,In.b,gd,wd.a,nd.a,Td.a,Md,wt.k,bd,yd,Ld.a,Cd.a,Sd.a,Od,kd,Ad,Tr.b,ld.a,Ed,Rd]]}),e})();var jd=n("LYOT"),Bd=n("z6cu"),Fd=n("tS1D");let Hd=(()=>{class e{constructor(e){this.viewContainerRef=e}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.S))},e.\u0275dir=i.Ob({type:e,selectors:[["","appInsertion",""]]}),e})();class Ud{}class Yd{constructor(){this._afterClosed=new fa.a,this.afterClosed=this._afterClosed.asObservable()}close(e){this._afterClosed.next(e),this._afterClosed.complete()}}function Gd(e,t){}let Vd=(()=>{class e{constructor(e,t,n,i){this.componentFactoryResolver=e,this.cd=t,this.dialogConfig=n,this.dialogRef=i}ngAfterViewInit(){this.loadChildComponent(this.childComponentType),this.cd.detectChanges()}onOverlayClicked(){!1!==this.dialogConfig.overlayDismiss&&this.dialogRef.close()}onDialogClicked(e){e.stopPropagation()}loadChildComponent(e){const t=this.componentFactoryResolver.resolveComponentFactory(e),n=this.insertionPoint.viewContainerRef;n.clear(),this.componentRef=n.createComponent(t)}ngOnDestroy(){this.componentRef&&this.componentRef.destroy()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.l),i.Tb(i.i),i.Tb(Ud),i.Tb(Yd))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-dialog"]],viewQuery:function(e,t){var n;1&e&&i.Yc(Hd,!0),2&e&&i.Dc(n=i.ic())&&(t.insertionPoint=n.first)},decls:3,vars:0,consts:[[1,"dialog-overlay",3,"click"],[1,"dialog-container",3,"click"],["appInsertion",""]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.hc("click",(function(){return t.onOverlayClicked()})),i.Zb(1,"div",1),i.hc("click",(function(e){return t.onDialogClicked(e)})),i.Qc(2,Gd,0,0,"ng-template",2),i.Yb(),i.Yb())},directives:[Hd],styles:[".dialog-overlay[_ngcontent-%COMP%]{align-items:center;justify-content:center;position:fixed;top:0;bottom:0;left:0;right:0;padding:4.26rem;background-color:rgba(var(--bl9-rgb),.7);z-index:10100}.dialog-container[_ngcontent-%COMP%], .dialog-overlay[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dialog-container[_ngcontent-%COMP%]{box-shadow:0 1px 5px 0 rgba(95,95,95,.07),0 0 50px 0 hsla(0,0%,55.3%,.07);background-color:var(--wh1);border-radius:5px;overflow-x:hidden;overflow-y:auto;width:520px;max-height:calc(100vh - 8.52rem)}@media screen and (max-width:720px){.dialog-overlay[_ngcontent-%COMP%]{padding:0}.dialog-container[_ngcontent-%COMP%]{width:100vw;height:100vh;max-height:100vh;border-radius:0}}"]}),e})();class Zd{constructor(e,t){this._parentInjector=e,this._additionalTokens=t}get(e,t,n){return this._additionalTokens.get(e)||this._parentInjector.get(e,t,n)}}let $d=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c]]}),e})(),Wd=(()=>{class e{constructor(e,t,n){this.componentFactoryResolver=e,this.appRef=t,this.injector=n}open(e,t){return this.appendDialogComponentToBody(t||{},e)}appendDialogComponentToBody(e,t){const n=new WeakMap;n.set(Ud,e);const i=new Yd;n.set(Yd,i);const o=this.componentFactoryResolver.resolveComponentFactory(Vd).create(new Zd(this.injector,n));return this.appRef.attachView(o.hostView),document.body.appendChild(o.hostView.rootNodes[0]),i.afterClosed.subscribe(()=>{this.removeDialogComponentFromBody(o)}),o.instance.childComponentType=t,i}removeDialogComponentFromBody(e){this.appRef.detachView(e.hostView),e.destroy()}}return e.\u0275fac=function(t){return new(t||e)(i.dc(i.l),i.dc(i.g),i.dc(i.u))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac,providedIn:$d}),e})();function Kd(e,t){if(1&e){const e=i.ac();i.Zb(0,"button",6),i.hc("click",(function(){return i.Hc(e),i.jc().closeDialog()})),i.Ub(1,"em",7),i.Yb()}}function zd(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",8),i.Zb(2,"div",9),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Ub(5,"div",10),i.kc(6,"dompurify"),i.Yb(),i.Wb()),2&e){const e=i.jc();i.Hb(3),i.Uc(" ",e.alertDataHasTitle?e.alertData.title:i.mc(4,2,"BOOKER_ERROR_RESERVATION_TITLE","\xa1Ha ocurrido un error!")," "),i.Hb(2),i.sc("innerHTML",i.lc(6,5,e.alertData.message),i.Ic)}}function Qd(e,t){1&e&&(i.Xb(0),i.Zb(1,"div",8),i.Zb(2,"div",9),i.Sc(3),i.kc(4,"cmsTranslate"),i.Yb(),i.Sc(5),i.kc(6,"cmsTranslate"),i.Yb(),i.Wb()),2&e&&(i.Hb(3),i.Uc(" ",i.mc(4,2,"BOOKER_ERROR_RESERVATION_TITLE","\xa1Oh No!")," "),i.Hb(2),i.Uc(" ",i.mc(6,5,"BOOKER_ERROR_RESERVATION_SUPPORT","Ha ocurrido un error desconocido.")," "))}function Xd(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",11),i.Sc(2),i.Yb(),i.Wb()),2&e){const e=i.jc();i.Hb(2),i.Tc(e.basketId)}}function qd(e,t){if(1&e){const e=i.ac();i.Xb(0),i.Ub(1,"hr"),i.Zb(2,"div",12),i.Zb(3,"button",13),i.hc("click",(function(){return i.Hc(e),i.jc().closeDialog()})),i.Zb(4,"span"),i.Sc(5),i.kc(6,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb(),i.Wb()}2&e&&(i.Hb(5),i.Tc(i.mc(6,1,"GLOBAL_ACTION_ACCEPT","Aceptar")))}function Jd(e,t){if(1&e&&(i.Zb(0,"code"),i.Sc(1),i.Yb()),2&e){const e=i.jc(2);i.Hb(1),i.Uc(" ",e.errDataToString," ")}}function eh(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",14),i.Zb(1,"button",15),i.hc("click",(function(){return i.Hc(e),i.jc().toggleDetails()})),i.Zb(2,"span",16),i.Zb(3,"span"),i.Sc(4),i.kc(5,"cmsTranslate"),i.kc(6,"cmsTranslate"),i.Yb(),i.Ub(7,"em",17),i.Yb(),i.Yb(),i.Qc(8,Jd,2,1,"code",4),i.Yb()}if(2&e){const e=i.jc();i.Hb(4),i.Tc(e.detailsPaneOpen?i.mc(5,3,"GLOBAL_ACTION_HIDE-DETAILS","Ocultar Detalles"):i.mc(6,6,"GLOBAL_LABEL_DETAILS","Ver Detalles")),i.Hb(3),i.sc("ngClass",e.detailsPaneOpen?"fa-caret-up":"fa-caret-down"),i.Hb(1),i.sc("ngIf",e.detailsPaneOpen)}}function th(e,t){if(1&e&&(i.Xb(0),i.Zb(1,"div",18),i.Sc(2),i.Yb(),i.Wb()),2&e){const e=i.jc();i.Hb(1),i.sc("ngClass",e.isDismissable?"pt-20":"pt-10"),i.Hb(1),i.Uc(" ",e.exceptionId," ")}}let nh=(()=>{class e{constructor(e,t,n){this.dialogRef=e,this.dialogConfig=t,this.basket=n,this.detailsPaneOpen=!1,this.iconColorClasses={"yellow-solid":"yellow","yellow-white":"yellow","red-solid":"red","red-white":"red","green-solid":"green","green-white":"green"},this.iconClasses={warning:"fa-exclamation-triangle",information:"fa-info-circle",flight:"fa-plane",announcement:"fa-bullhorn",promo:"fa-certificate","custom-image":"","custom-icon-class":""},this.iconClass="",this.iconColorClass=""}ngOnInit(){this.setNotificationStyles()}setNotificationStyles(){this.alertData?(this.iconClass=this.iconClasses[this.alertData.displayImage]||"fa-info-circle",this.iconColorClass=this.iconColorClasses[this.alertData.displayColor]||"green"):(this.iconClass="fa-exclamation-triangle",this.iconColorClass="red")}get iconDisplayClass(){return`${this.iconClass} ${this.iconColorClass}`}get errDataToString(){if(this.dialogConfig.data){const e=this.dialogConfig.data;return c.g.production?`\n  - Session ID: undefined\n  - Exception ID: ${e.exceptionId}\n  - Basket ID: ${e.basketId}\n  - Timestamp: ${e.timestamp}\n  - URL: ${e.url}\n  - Error Code: ${e.code}\n      `:`\n  - Session ID: undefined\n  - Exception ID: ${e.exceptionId}\n  - Basket ID: ${e.basketId}\n  - Timestamp: ${e.timestamp}\n  - URL: ${e.url}\n  - HTTP Status: ${e.status}\n  - Error Code: ${e.code}\n  - Error Message: ${e.message}\n      `}return"No Details"}get showGenericError(){var e;return!(null===(e=this.dialogConfig.data)||void 0===e?void 0:e.alertData)}get alertDataHasTitle(){var e,t;return!!(null===(t=null===(e=this.dialogConfig.data)||void 0===e?void 0:e.alertData)||void 0===t?void 0:t.title)}get alertData(){var e;return null===(e=this.dialogConfig.data)||void 0===e?void 0:e.alertData}get isWafError(){var e,t;return(null===(e=this.dialogConfig.data)||void 0===e?void 0:e.code)===Qt.b.WAF_BLOCKED_ERROR&&!!(null===(t=this.dialogConfig.data)||void 0===t?void 0:t.exceptionId)}get exceptionId(){var e;return null===(e=this.dialogConfig.data)||void 0===e?void 0:e.exceptionId}get isDismissable(){return!(!1===this.dialogConfig.overlayDismiss)}toggleDetails(){this.detailsPaneOpen=!this.detailsPaneOpen}closeDialog(){this.dialogRef.close()}get basketId(){var e,t,n;return(null===(t=null===(e=this.dialogConfig)||void 0===e?void 0:e.data)||void 0===t?void 0:t.basketId)||(null===(n=this.basket)||void 0===n?void 0:n.basketId)||void 0}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(Yd),i.Tb(Ud),i.Tb(qt.a))},e.\u0275cmp=i.Nb({type:e,selectors:[["app-notification-dialog"]],decls:11,vars:8,consts:[[1,"p-30","position-relative"],["class","modal-close",3,"click",4,"ngIf"],[1,"pt-40","pb-30","text-center"],[1,"notification-icon","fas",3,"ngClass"],[4,"ngIf"],["class","pt-10",4,"ngIf"],[1,"modal-close",3,"click"],[1,"fas","fa-times"],[1,"py-10","text-center"],[1,"h3","pb-5"],[3,"innerHTML"],[1,"medium-title","text-center","dark"],[1,"pt-10","text-center"],[1,"viva-btn","primary","w-100",3,"click"],[1,"pt-10"],[1,"viva-btn","btn-link",3,"click"],[1,"content"],[1,"fas",3,"ngClass"],[1,"small-text","text-center",3,"ngClass"]],template:function(e,t){1&e&&(i.Zb(0,"div",0),i.Qc(1,Kd,2,0,"button",1),i.Zb(2,"div",2),i.Ub(3,"em",3),i.Yb(),i.Ub(4,"hr"),i.Qc(5,zd,7,7,"ng-container",4),i.Qc(6,Qd,7,8,"ng-container",4),i.Qc(7,Xd,3,1,"ng-container",4),i.Qc(8,qd,7,4,"ng-container",4),i.Qc(9,eh,9,9,"div",5),i.Qc(10,th,3,2,"ng-container",4),i.Yb()),2&e&&(i.Hb(1),i.sc("ngIf",t.isDismissable),i.Hb(2),i.sc("ngClass",t.iconDisplayClass),i.Hb(2),i.sc("ngIf",!t.showGenericError),i.Hb(1),i.sc("ngIf",t.showGenericError),i.Hb(1),i.sc("ngIf",!!t.basketId),i.Hb(1),i.sc("ngIf",t.isDismissable),i.Hb(1),i.sc("ngIf",t.showGenericError),i.Hb(1),i.sc("ngIf",t.isWafError))},directives:[gt.u,gt.r],pipes:[On.a,_a.c],styles:[".notification-icon[_ngcontent-%COMP%]{font-size:96px}.notification-icon.red[_ngcontent-%COMP%]{color:var(--r4)}.notification-icon.yellow[_ngcontent-%COMP%]{color:var(--sc-oy4)}.notification-icon.green[_ngcontent-%COMP%]{color:var(--lg4)}code[_ngcontent-%COMP%]{display:block;white-space:pre-wrap;background-color:var(--wh2);border-radius:5px}"]}),e})();const ih={[c.g.BASKET_BOOKING_URL]:[Qt.b.BASKET_PASSIVE,Qt.b.BASKET_EXPIRED,Qt.b.BASKET_ACCESS_NEEDS_USER],[c.g.BASKET_URL]:[Qt.b.BASKET_PASSIVE,Qt.b.BASKET_EXPIRED,Qt.b.BASKET_ACCESS_NEEDS_USER],[c.g.PAYMENT_STATUS]:[Qt.b.NO_PENDING_PAYMENTS],[c.g.SPLIT_PAYMENT_ADD]:[Qt.b.POINTS_REWARDS_OTP_VALIDATION_FAILED,Qt.b.DOTERS_OTP_VALIDATION_FAILED],[c.g.LOGIN_URL]:[Qt.b.ACCOUNT_CREDENTIALS_INVALID,Qt.b.EXTERNAL_REFRESH_TOKEN_INVALID],[c.g.ACCOUNT_RESTORE_URL]:[Qt.b.ACCESS_NEEDS_USER,Qt.b.ACCOUNT_CREDENTIALS_INVALID,Qt.b.UNKNOWN_ERROR,Qt.b.EXTERNAL_REFRESH_TOKEN_INVALID],[c.g.VALIDATE_TOKEN_URL]:[Qt.b.CONNECTION_ERROR,Qt.b.EXTERNAL_REFRESH_TOKEN_INVALID],[c.g.ACCOUNT_URL]:[Qt.b.ACCOUNT_CREDENTIALS_INVALID],[c.g.ACCOUNT_REGISTER_URL]:[Qt.b.REGISTER_EMAIL_ALREADY_EXISTS,Qt.b.INVALID_USERNAME_OR_PASSWORD],[c.g.FULL_BOOKING_URL]:[Qt.b.INVALID_BOOKING_PARAMS],[c.g.CHECK_IN_PASSENGER]:[Qt.b.CHECKIN_SEATS_ASSIGNMENT_FAILED],[c.g.LOW_FARE_GQL_URL]:["500","502","503","504"],[c.g.JOURNEYS_BOOKING_BASKET_URL]:[Qt.b.POINTS_INSUFFICIENT_BALANCE],[c.g.IROP_CANCEL_URL]:[Qt.b.INVALID_OTP,Qt.b.MAXRETRIES_OTP],[c.g.BOOKING_CANCEL_URL]:[Qt.b.INVALID_OTP,Qt.b.MAXRETRIES_OTP],[c.g.PROCESS_COMPENSATION_URL]:[Qt.b.INVALID_OTP,Qt.b.MAXRETRIES_OTP],"*":[]};let oh=(()=>{class e{constructor(e){this.injector=e,this.apiUrlBlacklist=ih,this.httpStatusBlacklist=[428],this.dialogSvc=this.injector.get(Wd),this.alertsSvc=this.injector.get(Vn.a),this.gtmService=this.injector.get(Gl.a)}intercept(e,t){return t.handle(e).pipe(Object(ba.a)(e=>{if(this.validateAgentNotAllowedError(e),this.validateUnauthorizedError(e),!this.httpStatusBlacklist.includes(e.status)&&(e.url.includes(c.c)||e.url.includes(c.a))&&this.shouldDisplayAPINotification(e)){this.basketSvc||(this.basketSvc=this.injector.get(qt.a));const t=new Date(Date.now()).toISOString(),n=this.generateErrorDataObj(e);c.g.production||this.printDiagnosticData(e,n,t),this.gtmErrorMessageAPI(e,n),this.displayNotification(e,n,t)}return Object(Bd.a)(e)}))}generateErrorDataObj(e){let t=Object.assign({},e.error);return e.url.includes(c.a)?(t=Object.assign(Object.assign({},t),t.error),delete t.error):this.isWafHtmlError(e)&&(t=this.buildWafError(e)),{type:(null==t?void 0:t.type)||Qt.d.ERROR,action:(null==t?void 0:t.action)||Qt.a.CANCEL,data:{},code:this.getErrorCode(e,t.code),message:(null==t?void 0:t.message)||"Unknown error.",diagnosticInformation:(null==t?void 0:t.diagnosticInformation)||e.message,exceptionId:(null==t?void 0:t.exceptionId)||""}}printDiagnosticData(e,t,n){console.error(`\n      ::::API ERROR::::\n      - URL: ${e.url}\n      - Time: ${n}\n      - HTTP Status: ${e.status}\n      - HTTP Status Text: ${e.statusText}\n      - Error Code: ${t.code}\n      - Error Type: ${t.type}\n      - Error Action: ${t.action}\n      - Error Message: ${t.message}\n      - Exception ID: ${t.exceptionId}\n      - Basket ID: ${this.basketSvc.basketId}\n    `,`\n      ::::Diagnosic Information::::\n      ${t.diagnosticInformation}\n    `)}displayNotification(e,t,n){Object(Xn.a)(this.alertsSvc.ready).pipe(Object(Fd.a)(2e3)).subscribe(()=>{const i=this.alertsSvc.getAlert(t.code);if(i&&i.display)switch(i.display){case"hide":break;case"snackbar":this.alertsSvc.addCurrentAlert([{code:t.code}]);break;default:this.openNotificationDialog(e,t,i,n)}else this.openNotificationDialog(e,t,i,n)},()=>{this.openNotificationDialog(e,t,void 0,n)})}openNotificationDialog(e,t,n,i){const o=this.basketSvc.basketId,r={data:Object.assign(Object.assign({timestamp:i,url:e.url,status:e.status,alertData:n},t),!!o&&{basketId:o})};this.dialogSvc.open(nh,r)}shouldDisplayAPINotification(e){const t=e.url.split("?",1)[0],n=this.getErrorCode(e),i=this.apiUrlBlacklist[t];if(i&&(i.includes(n)||i.includes(e.status.toString())))return!1;const o=this.apiUrlBlacklist["*"];return!o||!o.includes(n)}getErrorCode(e,t){var n;return 0!==e.status?t||(null===(n=e.error)||void 0===n?void 0:n.code)||Qt.b.UNKNOWN_ERROR:Qt.b.CONNECTION_ERROR}gtmErrorMessageAPI(e,t){const n={event:"ev_message",eventDate:(new Date).toISOString(),message:{type:t.type,code:t.code,message:t.message,id:t.exceptionId,detail:{endpoint:e.url}}};this.gtmService.pushTag(n)}isWafHtmlError(e){const{status:t,headers:n,error:i}=null!=e?e:{};return 403===t&&"text/html"===(null==n?void 0:n.get("Content-Type"))&&"string"==typeof i&&/(Reference(.*))$/gim.test(i)}buildWafError(e){var t;const{error:n,message:i}=null!=e?e:{};if("string"==typeof n){let e="";const o=null===(t=/(Reference(.*))$/gim.exec(n))||void 0===t?void 0:t[2];return o&&(e=(new DOMParser).parseFromString(o,"text/html").documentElement.textContent),{type:Qt.d.ERROR,action:Qt.a.CANCEL,data:{},code:Qt.b.WAF_BLOCKED_ERROR,message:"WAF Blocked Connection Error",diagnosticInformation:i,exceptionId:e}}return n}isAgentNotAllowedError(e){var t;try{const{status:n}=e,{code:i,diagnosticInformation:o}=null!==(t=e.error)&&void 0!==t?t:{};return 500===n&&i===Qt.b.UNKNOWN_DOT_REZ_API_ERROR&&!!o&&o.includes("Agent is not allowed to view/update the requested booking")}catch(n){return c.g.production||console.error("::isAgentNotAllowedError::",e),!1}}validateAgentNotAllowedError(e){e&&this.isAgentNotAllowedError(e)&&(e.error.code=Qt.b.UNKNOWN_DOT_REZ_API_ERROR_AGENT_NOT_ALLOWED)}validateUnauthorizedError(e){var t;e&&401===e.status&&(this.authSvc||(this.authSvc=this.injector.get(fn.a)),(null===(t=this.authSvc)||void 0===t?void 0:t.authToken)&&this.authSvc.doLogout())}}return e.\u0275fac=function(t){return new(t||e)(i.dc(i.u))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})(),rh=(()=>{class e{constructor(){}intercept(e,t){return e.url.includes(c.c)&&c.g.apiKey&&(e=e.clone({headers:e.headers.set("x-api-key",c.g.apiKey)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})(),sh=(()=>{class e{constructor(e){this.token=e}intercept(e,t){if(e.url.includes(c.c)&&!e.url.includes(c.g.LOW_FARE_GQL_URL)||0===e.url.indexOf(c.g.ACCOUNT_VIVACASH_WALLET)||0===e.url.indexOf(c.g.SHARE_ITINERARY_URL)||0===e.url.indexOf(c.g.ACCOUNT_STAFF_STANDBY)){const t=this.token.authToken;t&&(e=e.clone({headers:e.headers.set("Authorization","Bearer "+t)}))}return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(i.dc(Et.a))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})();const ah=[c.g.BUYBACK_URL,c.g.OTP_OPTIONS_URL,c.g.OTP_GENERATE_URL,c.g.IROP_CANCEL_RESEND_EMAIL_URL,c.g.GET_COMPENSATIONS_URL,c.g.PROCESS_COMPENSATION_URL,c.g.IROP_KEEP_URL,c.g.IROP_KEEP_URL,c.g.MARKETPLACE];let ch=(()=>{class e{constructor(){}isBlacklistedUrl(e){return ah.some(t=>e.includes(t))}intercept(e,t){return!e.url.includes(c.c)&&0!==e.url.indexOf(c.g.ACCOUNT_VIVACASH_WALLET)||this.isBlacklistedUrl(e.url)||(e=e.clone({headers:e.headers.set("X-Channel","web")})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})();var lh=n("vkgz");let uh=(()=>{class e{constructor(e){this.injector=e,Object(Dt.a)(0).subscribe(()=>{this.basket=this.injector.get(qt.a)})}intercept(e,t){return t.handle(e).pipe(Object(lh.a)({next:t=>{var n;if(t instanceof u.f&&t.url.includes(c.c))try{(null===(n=t.body)||void 0===n?void 0:n.action)!==Qt.a.REFRESH_BASKET||e.headers.has("Basket-No-Refresh")||this.basket.syncBasketInfo()}catch(i){c.g.production||console.error("::Basket-Refresh::",i)}}}))}}return e.\u0275fac=function(t){return new(t||e)(i.dc(i.u))},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})(),dh=(()=>{class e{constructor(){}intercept(e,t){return c.g.enableWithCredentials&&e.url.includes(c.c)&&(e=e.clone({withCredentials:!0})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})();var hh=n("MtjB"),ph=n("5+tZ");const gh={maxAttempts:3,scalingDuration:1e3,shouldRetry:e=>e>=400},fh=[c.g.LOW_FARES_URL,c.g.LOW_FARES_CACHE_URL],mh=[{provide:u.a,useClass:oh,multi:!0},{provide:u.a,useClass:uh,multi:!0},{provide:u.a,useClass:(()=>{class e{constructor(){this.shouldRetry=e=>{var t;return 500===e.status&&(null===(t=e.error)||void 0===t?void 0:t.action)===Qt.a.RETRY}}intercept(e,t){const{shouldRetry:n}=this;return this.isValidRequest(e)?t.handle(e).pipe(Object(hh.a)(((e={})=>t=>t.pipe(Object(ph.a)((t,n)=>{const{maxAttempts:i,scalingDuration:o,shouldRetry:r}=Object.assign(Object.assign({},gh),e),s=n+1;return s>i||!r(t)?Object(Bd.a)(t):Object(Dt.a)(s*o)})))({shouldRetry:n}))):t.handle(e)}isValidRequest(e){return e.url.startsWith(c.c)&&fh.includes(e.url)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Pb({token:e,factory:e.\u0275fac}),e})(),multi:!0},{provide:u.a,useClass:ch,multi:!0},{provide:u.a,useClass:dh,multi:!0},{provide:u.a,useClass:rh,multi:!0},{provide:u.a,useClass:sh,multi:!0}];var bh=n("lALM");let vh=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c]]}),e})();var yh=n("Hq3m");let _h=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,od.a,yh.a,nd.a]]}),e})(),Ch=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[gt.c,nd.a,_a.b]]}),e})(),Sh=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},providers:[zo.a],imports:[[gt.c,nd.a]]}),e})();var Oh=n("hzby"),Th=n("MPf+"),wh=n("OPfs");const kh=[{name:"afterSanitizeAttributes",hook:e=>{!function(e){e instanceof HTMLAnchorElement&&"target"in e&&!e.target&&e.setAttribute("target","_blank")}(e)}}];class Ah extends d.d{constructor(){super(...arguments),this.overrides={swipe:{direction:l.DIRECTION_ALL}}}}const Eh={theme:"viva",arrow:!0,trigger:"mouseenter",touch:["hold",200],placement:"right",maxWidth:"160px",offset:[0,16],hideOnClick:!1};function Mh(e,t,n,i){return()=>t.load().then(()=>Promise.all([e.load(),n.load(),i.load()]))}function Ph(){return n.e(106).then(n.t.bind(null,"amTF",7))}let Dh=(()=>{class e{}return e.\u0275mod=i.Rb({type:e,bootstrap:[td]}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},providers:[d.g,jd.a,Za.a,Gt.a,$t.a,{provide:i.d,useFactory:Mh,multi:!0,deps:[Za.a,$t.a,sr.a,Th.a]},{provide:i.y,deps:[Gt.a],useFactory:e=>e.getAppLocale()},{provide:gt.a,deps:[Gt.a],useFactory:e=>e.baseHref},{provide:Pn.b,deps:[sr.a],useFactory:e=>e.selectedCurrencyCode},{provide:Pn.a,deps:[sr.a],useFactory:e=>e._selectedCurrency},{provide:_a.a,useValue:kh},mh,Yl.a,bh.a,{provide:"googleTagManagerId",useValue:c.g.gtmKey},{provide:d.c,useClass:Ah},wh.a],imports:[[d.a,Tt,Nt,Nd,Id,dd,u.c,vh,_h,$d,Ch,$o,Tr.b.forRoot({defaultVariation:"tooltip",variations:{tooltip:Eh}}),Sh,zn.d.forRoot({player:Ph}),d.e,Oh.a.forRoot(),Rd]]}),e})();const xh=n("dwco");(()=>{const e=document.createElement("script");e.type="",e.src="/assets/scripts/before-install-prompt.js",e.text="",document.body.appendChild(e)})(),c.g.production&&Object(i.X)(),document.addEventListener("DOMContentLoaded",()=>{d.j().bootstrapModule(Dh).then(e=>{!function(){if(c.g.enableServiceWorker&&"serviceWorker"in navigator){const e=new a("/sw.js");e.addEventListener("installed",e=>{e.isUpdate?(c.g.production||console.log("::workbox:: Service Worker update installed! Reloading page to finish updating..."),window.location.reload()):c.g.production||console.log("::workbox:: Service Worker finished installing!")}),e.register()}}(),xh.polyfill()}).catch(e=>console.error(e))})},zfKp:function(e,t,n){"use strict";t.observable=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"},zuR4:function(e,t,n){"use strict";var i=n("xTJ+"),o=n("HSsa"),r=n("CgaS"),s=n("SntB");function a(e){var t=new r(e),n=o(r.prototype.request,t);return i.extend(n,r.prototype,t),i.extend(n,t),n}var c=a(n("JEQr"));c.Axios=r,c.create=function(e){return a(s(c.defaults,e))},c.Cancel=n("endd"),c.CancelToken=n("jfS+"),c.isCancel=n("Lmem"),c.all=function(e){return Promise.all(e)},c.spread=n("DfZB"),e.exports=c,e.exports.default=c}},[[1,25]]]);