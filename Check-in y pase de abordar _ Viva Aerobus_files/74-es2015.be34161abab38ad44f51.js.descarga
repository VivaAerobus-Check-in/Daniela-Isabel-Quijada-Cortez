(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{SOmf:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("ofXK"),o=n("h3XU"),a=n("o5mt"),s=n("tyNb"),c=n("fXoL");let r=(()=>{class t{}return t.\u0275mod=c.Rb({type:t}),t.\u0275inj=c.Qb({factory:function(e){return new(e||t)},imports:[[i.c,o.a,a.a,s.k]]}),t})()},gKPg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("ofXK"),o=n("fXoL");let a=(()=>{class t{}return t.\u0275mod=o.Rb({type:t}),t.\u0275inj=o.Qb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})()},l1nF:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("ofXK"),o=n("quSY"),a=n("y6l0"),s=n("R0Ic");const c=Object(s.f)([Object(s.n)("items",[Object(s.m)(":enter",[Object(s.l)({transform:"translateX(100%)",opacity:0}),Object(s.e)(".3s cubic-bezier(0.165, 0.84, 0.44, 1)",Object(s.l)({transform:"translateX(0)",opacity:1}))]),Object(s.m)(":leave",[Object(s.l)({transform:"translateX(0)",opacity:1}),Object(s.e)(".3s cubic-bezier(0.165, 0.84, 0.44, 1)",Object(s.l)({transform:"translateX(100%)",opacity:0}))])])]);var r=n("fXoL"),l=n("BifP"),d=n("uHNT"),g=n("PqYM");let b=(()=>{class t{constructor(){this.closeSnackbar=new r.p,this.iconClasses={warning:"fa-exclamation-triangle",information:"fa-info-circle",flight:"fa-plane",announcement:"fa-bullhorn",promo:"fa-certificate","custom-image":"","custom-icon-class":""}}ngOnInit(){Object(g.a)(this.timeout).subscribe(()=>{this.closeSnackbar.emit()})}close(){this.closeSnackbar.emit()}get pickIconClass(){return this.alertData?this.iconClasses[this.alertData.displayImage]:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Nb({type:t,selectors:[["app-card"]],inputs:{alertData:"alertData",timeout:"timeout"},outputs:{closeSnackbar:"closeSnackbar"},decls:9,vars:5,consts:[[1,"card","d-flex","p-3",3,"ngClass"],[1,"fas","mr-2",3,"ngClass"],[1,"d","block"],[1,"title","mt-0","mb-1"],[1,"regular-text","my-0"],[1,"card-close",3,"ngClass","click"],[1,"fas","fa-times","opacity-5"]],template:function(t,e){1&t&&(r.Zb(0,"div",0),r.Ub(1,"i",1),r.Zb(2,"div",2),r.Zb(3,"p",3),r.Sc(4),r.Yb(),r.Zb(5,"p",4),r.Sc(6),r.Yb(),r.Yb(),r.Zb(7,"button",5),r.hc("click",(function(){return e.close()})),r.Ub(8,"i",6),r.Yb(),r.Yb()),2&t&&(r.sc("ngClass",e.alertData.displayColor),r.Hb(1),r.sc("ngClass",e.pickIconClass),r.Hb(3),r.Uc(" ",e.alertData.title," "),r.Hb(2),r.Uc(" ",e.alertData.message," "),r.Hb(1),r.sc("ngClass",e.alertData.displayColor))},directives:[i.r],styles:[".card[_ngcontent-%COMP%]{border-radius:5px 0 0 5px;position:relative;width:375px;min-height:100px;margin-bottom:10px;border-left:10px solid}@media screen and (max-width:400px){.card[_ngcontent-%COMP%]{width:auto}}.card[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{font-size:20px}.card.red-solid[_ngcontent-%COMP%]{background:#ffe3dd;border-left-color:red}.card.red-solid[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .card.red-solid[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%], .card.red-solid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red}.card.red-white[_ngcontent-%COMP%]{background:var(--wh1);border-left-color:red}.card.red-white[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .card.red-white[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:red}.card.red-white[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.card.yellow-solid[_ngcontent-%COMP%]{background:#f6f2b1;border-left-color:#f9c22e}.card.yellow-solid[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:var(--bg6)}.card.yellow-solid[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:#f9c22e}.card.yellow-solid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.card.yellow-white[_ngcontent-%COMP%]{background:var(--wh1);border-left-color:#f9c22e}.card.yellow-white[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .card.yellow-white[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:#f9c22e}.card.yellow-white[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.card.green-solid[_ngcontent-%COMP%]{background:var(--sc-m2);border-left-color:var(--bg6)}.card.green-solid[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .card.green-solid[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%], .card.green-solid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--bg6)}.card.green-white[_ngcontent-%COMP%]{background:var(--wh1);border-left-color:var(--bg2)}.card.green-white[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .card.green-white[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{color:var(--bg2)}.card.green-white[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gr60)}.card-close[_ngcontent-%COMP%]{background:none;border:none;padding:0;position:absolute;right:15px;top:15px;cursor:pointer}.card-close[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{font-size:15px}.card-close.red[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:red}.card-close.green[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .card-close.yellow[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:var(--bg6)}"]}),t})();function h(t,e){if(1&t){const t=r.ac();r.Zb(0,"app-card",2),r.hc("closeSnackbar",(function(){r.Hc(t);const n=e.$implicit,i=r.jc();return i.close(i.getAlertData(n).code)})),r.Yb()}if(2&t){const t=e.$implicit,n=r.jc();r.sc("@items",void 0)("timeout",n.snackbarsTimeout)("alertData",n.getAlertData(t))}}let p=(()=>{class t{constructor(t,e,n,i){this.document=t,this.el=e,this.cmsConfig=n,this.flightAlertsSvc=i,this.onUpdateFlightAlerts=o.a.EMPTY,this.displayType=a.c,this.currentSnackBars=[],this.element=this.el.nativeElement,this.startSubscriptionHandlers(),this.snackbarsTimeout=1e3*this.cmsConfig._cmsConfig.snackbarsTimeout||3e3}ngOnInit(){this.document.body.appendChild(this.element)}ngOnDestroy(){this.element.parentNode.removeChild(this.element),this.onUpdateFlightAlerts.closed||this.onUpdateFlightAlerts.unsubscribe()}startSubscriptionHandlers(){this.onUpdateFlightAlerts=this.flightAlertsSvc.updateFlightAlerts$.subscribe(t=>{t.alert.display!==this.displayType.SNACKBAR||this.currentSnackBars.find(e=>e===t.alert.code)||this.currentSnackBars.push(t.alert.code)})}getAlertData(t){return this.flightAlertsSvc.getAlert(t)}close(t){this.currentSnackBars.length&&this.currentSnackBars.splice(this.currentSnackBars.findIndex(e=>e===t),1)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(i.e),r.Tb(r.n),r.Tb(l.a),r.Tb(d.a))},t.\u0275cmp=r.Nb({type:t,selectors:[["app-snackbar"]],decls:2,vars:1,consts:[[1,"snackbar-container"],[3,"timeout","alertData","closeSnackbar",4,"ngFor","ngForOf"],[3,"timeout","alertData","closeSnackbar"]],template:function(t,e){1&t&&(r.Zb(0,"div",0),r.Qc(1,h,1,3,"app-card",1),r.Yb()),2&t&&(r.Hb(1),r.sc("ngForOf",e.currentSnackBars))},directives:[i.t,b],styles:[".snackbar-container[_ngcontent-%COMP%]{position:fixed;right:20px;bottom:10px;z-index:20001;display:flex;flex-direction:column}"],data:{animation:[c.animation]}}),t})()},ry1Y:function(t,e,n){"use strict";n.r(e),n.d(e,"HomePageModule",(function(){return Bs}));var i=n("ofXK"),o=n("tyNb"),a=n("fXoL"),s=n("3kwf"),c=n("mrSG"),r=n("wd/R"),l=n("Cfvw"),d=n("eIep"),g=n("AytR"),b=n("Smyz"),h=n("qqNg"),p=n("1AID"),u=n("NqCx"),m=n("AWl2"),f=n("G/yK"),v=n("E50d"),C=n("b6Qw"),O=n("BifP"),y=n("UXnn"),x=n("iU+o"),P=n("BVxt"),k=n("8Awy"),M=n("9O1C"),_=n("f0Wu"),w=n("quSY"),S=n("l5mm"),T=n("VXoX");function D(t,e){if(1&t&&(a.Zb(0,"span",9),a.Sc(1),a.kc(2,"number"),a.Yb()),2&t){const t=a.jc();a.Hb(1),a.Uc(" ",a.mc(2,1,t.countdown.d,"2.0-0")," ")}}function I(t,e){if(1&t&&(a.Zb(0,"span",9),a.Sc(1),a.kc(2,"number"),a.Yb()),2&t){const t=a.jc();a.Hb(1),a.Uc(" ",a.mc(2,1,t.countdown.h,"2.0-0")," ")}}function A(t,e){if(1&t&&(a.Zb(0,"span",9),a.Sc(1),a.kc(2,"number"),a.Yb()),2&t){const t=a.jc();a.Hb(1),a.Uc(" ",a.mc(2,1,t.countdown.m,"2.0-0")," ")}}function L(t,e){if(1&t&&(a.Zb(0,"span",9),a.Sc(1),a.kc(2,"number"),a.Yb()),2&t){const t=a.jc();a.Hb(1),a.Uc(" ",a.mc(2,1,t.countdown.s,"2.0-0")," ")}}function H(t,e){1&t&&a.Ub(0,"div",12)}const E=function(t){return{expired:t}},B=function(t,e){return{expired:t,expiring:e}};let Y=(()=>{class t{constructor(){this.isLoading=!0,this.isActive=!0,this.countdownSubscription=w.a.EMPTY}ngOnInit(){this.initCountDown()}ngOnDestroy(){this.countdownSubscription.closed||this.countdownSubscription.unsubscribe()}initCountDown(){this.countdown={};const t=new Date(this.countdownExpirationDate)||void 0;if(!isNaN(t.getTime())||_(t).diff(_())<=0){let e;this.countdownSubscription=Object(S.a)(1e3).subscribe(()=>{e=_.duration(_(t).tz("America/Mexico_City",!0).diff(_()).valueOf(),"milliseconds"),this.countdown.d=e.days(),this.countdown.h=e.hours(),this.countdown.m=e.minutes(),this.countdown.s=e.seconds(),this.isLoading&&(this.isLoading=!1,this.isActive=!0),(!e.minutes()&&!e.seconds()||_(t).diff(_())<=0)&&(this.countdown.d=0,this.countdown.h=0,this.countdown.m=0,this.countdown.s=0,this.isActive=!1,this.countdownSubscription.unsubscribe())})}else console.warn("::MainDynamicBannerComponet::","::initCountDown::","Invalid Date")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Nb({type:t,selectors:[["app-countdown"]],inputs:{countdownExpirationDate:"countdownExpirationDate"},decls:40,vars:40,consts:[[1,"px-3","py-20","py-md-0"],[1,"h3","dark","mb-20","mb-lg-30","text-center"],[1,"mb-20","mb-md-4"],[1,"countdown-row"],[1,"countdown-col"],[1,"mb-1","mb-md-2",3,"ngClass"],["class","display-2",4,"ngIf","ngIfElse"],[1,"title","dark"],[1,"countdown-dots",3,"ngClass"],[1,"display-2"],[1,"regular-text","gray","text-center"],["Loader",""],[1,"skeleton-loader"]],template:function(t,e){if(1&t&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Sc(2),a.kc(3,"cmsTranslate"),a.Yb(),a.Zb(4,"div",2),a.Zb(5,"div",3),a.Zb(6,"div",4),a.Zb(7,"div",5),a.Qc(8,D,3,4,"span",6),a.Yb(),a.Zb(9,"div",7),a.Sc(10,"D\xedas"),a.Yb(),a.Yb(),a.Zb(11,"div",8),a.Zb(12,"div",9),a.Sc(13,":"),a.Yb(),a.Yb(),a.Zb(14,"div",4),a.Zb(15,"div",5),a.Qc(16,I,3,4,"span",6),a.Yb(),a.Zb(17,"div",7),a.Sc(18,"Horas"),a.Yb(),a.Yb(),a.Zb(19,"div",8),a.Zb(20,"div",9),a.Sc(21,":"),a.Yb(),a.Yb(),a.Zb(22,"div",4),a.Zb(23,"div",5),a.Qc(24,A,3,4,"span",6),a.Yb(),a.Zb(25,"div",7),a.Sc(26,"Minutos"),a.Yb(),a.Yb(),a.Zb(27,"div",8),a.Zb(28,"div",9),a.Sc(29,":"),a.Yb(),a.Yb(),a.Zb(30,"div",4),a.Zb(31,"div",5),a.Qc(32,L,3,4,"span",6),a.Yb(),a.Zb(33,"div",7),a.Sc(34,"Segundos"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(35,"div",10),a.Sc(36),a.kc(37,"cmsTranslate"),a.Yb(),a.Yb(),a.Qc(38,H,1,0,"ng-template",null,11,a.Rc)),2&t){const t=a.Ec(39);a.Hb(2),a.Uc(" ",a.lc(3,17,e.isActive?"BOOKER_LABEL_COUNTDOWN_TITLE":"BOOKER_LABEL_COUNTDOWN_TITLE-ENDED")," "),a.Hb(5),a.sc("ngClass",a.vc(21,E,!e.countdown.d)),a.Hb(1),a.sc("ngIf",!e.isLoading)("ngIfElse",t),a.Hb(3),a.sc("ngClass",a.vc(23,E,!e.countdown.d)),a.Hb(4),a.sc("ngClass",a.wc(25,B,!e.countdown.d&&!e.countdown.h,!e.countdown.d&&!!e.countdown.h&&e.countdown.h<10)),a.Hb(1),a.sc("ngIf",!e.isLoading)("ngIfElse",t),a.Hb(3),a.sc("ngClass",a.wc(28,B,!e.countdown.d&&!e.countdown.h,!e.countdown.d&&!!e.countdown.h&&e.countdown.h<10)),a.Hb(4),a.sc("ngClass",a.wc(31,B,!e.countdown.d&&!e.countdown.h&&!e.countdown.m,!e.countdown.d&&e.countdown.h<10&&!!e.countdown.m&&!!e.countdown.s)),a.Hb(1),a.sc("ngIf",!e.isLoading)("ngIfElse",t),a.Hb(3),a.sc("ngClass",a.wc(34,B,!e.countdown.d&&!e.countdown.h&&!e.countdown.m,!e.countdown.d&&e.countdown.h<10&&!!e.countdown.m&&!!e.countdown.s)),a.Hb(4),a.sc("ngClass",a.wc(37,B,!(e.countdown.d||e.countdown.h||e.countdown.m||e.countdown.s),!e.countdown.d&&e.countdown.h<10&&(!!e.countdown.m&&e.countdown.s>=0||!e.countdown.m&&e.countdown.s))),a.Hb(1),a.sc("ngIf",!e.isLoading)("ngIfElse",t),a.Hb(4),a.Uc(" ",a.lc(37,19,e.isActive?"BOOKER_LABEL_COUNTDOWN_SUPPORT_PROMO-ACTIVE":"BOOKER_LABEL_COUNTDOWN_SUPPORT_PROMO-ENDED")," ")}},directives:[i.r,i.u],pipes:[T.a,i.g],styles:[".countdown-row[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.countdown-col[_ngcontent-%COMP%]{flex:1 1 100px}@media screen and (max-width:720px){.countdown-col[_ngcontent-%COMP%]{flex:1 1 66px}}.countdown-col[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{display:flex;justify-content:center;align-items:center;width:100%;height:100px;border-radius:5px;border:2px solid var(--gr40)}@media screen and (max-width:720px){.countdown-col[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{height:66px}}.countdown-col[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child.expired{border-color:var(--gr40)}.countdown-col[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child.expired   .display-2[_ngcontent-%COMP%]{color:var(--gr40)}.countdown-col[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child.expiring{border-color:var(--r4);background-color:var(--r4)}.countdown-col[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child.expiring   .display-2[_ngcontent-%COMP%]{color:var(--wh1)}.countdown-col[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width:800px){.countdown-col[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:10px}}.countdown-dots[_ngcontent-%COMP%]{flex:1 1 20px;height:100px;display:flex;justify-content:center;align-items:center}@media screen and (max-width:720px){.countdown-dots[_ngcontent-%COMP%]{height:66px}}.countdown-dots.expired[_ngcontent-%COMP%]   .display-2[_ngcontent-%COMP%]{color:var(--gr40)}.countdown-dots.expiring[_ngcontent-%COMP%]   .display-2[_ngcontent-%COMP%]{color:var(--r4)}.skeleton-loader[_ngcontent-%COMP%]{height:70px;width:60px;display:block}@media screen and (max-width:1024px){.display-2[_ngcontent-%COMP%]{font-size:45px}}@media screen and (max-width:720px){.display-2[_ngcontent-%COMP%]{font-size:35px}}"]}),t})();var j=n("ib+v"),Z=n("DflE");function R(t,e){1&t&&a.Vb(0)}function F(t,e){if(1&t&&(a.Xb(0),a.Qc(1,R,1,0,"ng-container",9),a.Wb()),2&t){a.jc(2);const t=a.Ec(2);a.Hb(1),a.sc("ngTemplateOutlet",t)}}function U(t,e){1&t&&a.Vb(0)}function N(t,e){if(1&t&&(a.Xb(0),a.Qc(1,U,1,0,"ng-container",9),a.Wb()),2&t){a.jc(2);const t=a.Ec(4);a.Hb(1),a.sc("ngTemplateOutlet",t)}}function V(t,e){1&t&&a.Vb(0)}function Q(t,e){if(1&t&&(a.Xb(0),a.Qc(1,V,1,0,"ng-container",9),a.Wb()),2&t){a.jc(2);const t=a.Ec(10);a.Hb(1),a.sc("ngTemplateOutlet",t)}}function G(t,e){if(1&t&&(a.Zb(0,"div",6),a.Xb(1,7),a.Qc(2,F,2,1,"ng-container",8),a.Qc(3,N,2,1,"ng-container",8),a.Qc(4,Q,2,1,"ng-container",8),a.Wb(),a.Yb()),2&t){const t=a.jc();a.Hb(1),a.sc("ngSwitch",t.mainBanner.type),a.Hb(1),a.sc("ngSwitchCase",t.mainBannerType.LowFare),a.Hb(1),a.sc("ngSwitchCase",t.mainBannerType.VivaPromo),a.Hb(1),a.sc("ngSwitchCase",t.mainBannerType.CheckIn)}}const z=function(t){return{"dark-site-typeB":t}},K=function(t){return{light:t}},W=function(t){return{regex:"%destination%",newValue:t}},$=function(t){return[t]};function X(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",10),a.Zb(1,"div",11),a.Zb(2,"div",12),a.Sc(3),a.kc(4,"cmsTranslate"),a.Yb(),a.Zb(5,"div",13),a.Sc(6),a.kc(7,"cmsRegexReplace"),a.kc(8,"cmsTranslate"),a.kc(9,"flightStationName"),a.Yb(),a.Yb(),a.Zb(10,"div",14),a.Zb(11,"div",15),a.Zb(12,"div",16),a.Zb(13,"span",17),a.Sc(14),a.kc(15,"flightStationName"),a.Yb(),a.Zb(16,"div",18),a.Sc(17),a.kc(18,"flightStationName"),a.Yb(),a.Yb(),a.Ub(19,"app-price",19),a.Yb(),a.Ub(20,"hr",20),a.Zb(21,"a",21),a.hc("click",(function(){a.Hc(t);const e=a.jc();return e.datalayerPromotions.mainBannerSelectPromotions(e.mainBanner,e.lowfareLabel)})),a.Zb(22,"div",17),a.Sc(23),a.kc(24,"cmsTranslate"),a.Yb(),a.Ub(25,"i",22),a.Yb(),a.Yb(),a.Yb(),a.Zb(26,"div",23),a.Zb(27,"div",24),a.Ub(28,"i",25),a.Zb(29,"label"),a.Sc(30),a.kc(31,"cmsTranslate"),a.Yb(),a.Yb(),a.Ub(32,"div",26),a.Yb()}if(2&t){const t=a.jc();a.Hb(1),a.sc("ngClass",a.vc(31,z,t.showDarksite&&"B"===(null==t.darksiteOptions?null:t.darksiteOptions.variant))),a.Hb(1),a.sc("ngClass",a.vc(33,K,t.showDarksite)),a.Hb(1),a.Uc(" ",a.lc(4,14,"GLOBAL_TAG_RECOMMENDED")," "),a.Hb(3),a.Uc(" ",a.mc(7,16,a.lc(8,19,"LOWFARE_LABEL_GENERIC-TILE-"+t.lowfareLabel),a.vc(37,$,a.vc(35,W,a.lc(9,21,t.mainBanner.flightLowFare.destination))))," "),a.Hb(8),a.Uc("",a.lc(15,23,t.mainBanner.flightLowFare.origin)," - "),a.Hb(3),a.Uc(" ",a.lc(18,25,t.mainBanner.flightLowFare.destination)," "),a.Hb(2),a.sc("amount",t.mainBanner.flightLowFare.lowFare.fareAmount)("originalAmount",t.mainBanner.flightLowFare.lowFare.originalPrice)("isOfferCAU",!0),a.Hb(2),a.sc("routerLink",t.mainBanner.bookingParams?"/book/options":"/")("queryParams",t.mainBanner.bookingParams),a.Hb(2),a.Uc(" ",a.lc(24,27,"LOWFARE_LABEL_STARTING-PRICE")," "),a.Hb(7),a.Tc(a.lc(31,29,"GLOBAL_TAG_RECOMMENDED")),a.Hb(2),a.sc("ngStyle",t.bgImage)}}function q(t,e){if(1&t&&(a.Zb(0,"div",12),a.Sc(1),a.Yb()),2&t){const t=a.jc(3);a.sc("ngClass",a.vc(2,K,t.showDarksite)),a.Hb(1),a.Uc(" ",t.mainBanner.cmsData.headerTag," ")}}function J(t,e){if(1&t&&a.Ub(0,"div",26),2&t){const t=a.jc(3);a.sc("ngStyle",t.bgImage)}}const tt=function(t,e,n){return{"viva-promo":t,"partner-promo":e,"dark-site-typeB":n}},et=function(t){return{"dark-site-white-font":t}};function nt(t,e){if(1&t){const t=a.ac();a.Xb(0),a.Zb(1,"div",28),a.Zb(2,"div",11),a.Zb(3,"div"),a.Qc(4,q,2,4,"div",29),a.Zb(5,"div",30),a.Sc(6),a.Yb(),a.Zb(7,"div",31),a.Sc(8),a.Yb(),a.Yb(),a.Zb(9,"div"),a.Zb(10,"app-call-to-action",32),a.hc("click",(function(){a.Hc(t);const e=a.jc(2);return e.datalayerPromotions.mainBannerSelectPromotions(e.mainBanner,e.lowfareLabel)})),a.Zb(11,"div",33),a.Zb(12,"div",34),a.Zb(13,"span",35),a.Sc(14),a.Yb(),a.Ub(15,"i",36),a.Yb(),a.Yb(),a.Yb(),a.Zb(16,"div",37),a.Sc(17),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(18,"div",23),a.Qc(19,J,1,1,"div",38),a.Yb(),a.Wb()}if(2&t){const t=a.jc(2),e=a.Ec(6),n=a.Ec(8);a.Hb(2),a.sc("ngClass",a.xc(11,tt,!t.mainBanner.cmsData.headerTagImg,t.mainBanner.cmsData.headerTagImg,t.showDarksite&&"B"===(null==t.darksiteOptions?null:t.darksiteOptions.variant))),a.Hb(2),a.sc("ngIf",!t.mainBanner.cmsData.headerTagImg)("ngIfElse",e),a.Hb(2),a.Uc(" ",t.mainBanner.cmsData.title," "),a.Hb(2),a.Uc(" ",t.mainBanner.cmsData.text," "),a.Hb(2),a.sc("callToAction",t.mainBanner.cmsData.callToAction.fields),a.Hb(4),a.Tc(t.mainBanner.cmsData.callToAction.fields.text),a.Hb(1),a.sc("ngClass",a.vc(15,et,t.showDarksite)),a.Hb(2),a.Uc(" ",t.mainBanner.cmsData.disclaimer," "),a.Hb(2),a.sc("ngIf",!(null!=t.mainBanner.cmsData.settings&&t.mainBanner.cmsData.settings.countdownExpirationDate))("ngIfElse",n)}}function it(t,e){if(1&t&&a.Qc(0,nt,20,17,"ng-container",27),2&t){const t=a.jc();a.sc("ngIf",t.mainBanner.cmsData)}}const ot=function(){return{fit:"fill",height:80}};function at(t,e){if(1&t&&(a.Ub(0,"img",39),a.kc(1,"cmsImage")),2&t){const t=a.jc();a.sc("src",a.mc(1,2,null==t.mainBanner.cmsData.headerTagImg?null:t.mainBanner.cmsData.headerTagImg.fields.file.url,a.uc(5,ot)),a.Kc)("alt",t.mainBanner.cmsData.headerTag)}}function st(t,e){if(1&t&&(a.Zb(0,"div",40),a.Ub(1,"app-countdown",41,42),a.Yb()),2&t){const t=a.jc();a.Hb(1),a.sc("countdownExpirationDate",null==t.mainBanner.cmsData.settings?null:t.mainBanner.cmsData.settings.countdownExpirationDate)}}function ct(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",28),a.Zb(1,"div",11),a.Zb(2,"div",12),a.Sc(3,"Llego la hora"),a.Yb(),a.Zb(4,"div",13),a.Sc(5,"Es momento de hacer tu check-in"),a.Yb(),a.Yb(),a.Zb(6,"div",14),a.Zb(7,"div"),a.Zb(8,"div",43),a.Ub(9,"i",44),a.Sc(10," Monterrey"),a.Yb(),a.Zb(11,"div",45),a.Sc(12," 26 feb"),a.Zb(13,"span"),a.Sc(14,"\u2022"),a.Yb(),a.Sc(15,"08:10 AM"),a.Zb(16,"span"),a.Sc(17,"\u2022"),a.Yb(),a.Sc(18,"MEX - MTY "),a.Yb(),a.Zb(19,"div",46),a.Ub(20,"i",47),a.Sc(21," 2"),a.Yb(),a.Yb(),a.Ub(22,"hr",20),a.Zb(23,"button",48),a.hc("click",(function(){a.Hc(t);const e=a.jc();return e.datalayerPromotions.mainBannerSelectPromotions(e.mainBanner,e.lowfareLabel)})),a.Zb(24,"span"),a.Sc(25,"Check-in"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(26,"div",23),a.Ub(27,"div",26),a.Yb()}if(2&t){const t=a.jc();a.Hb(1),a.sc("ngClass",a.vc(3,z,t.showDarksite&&"B"===(null==t.darksiteOptions?null:t.darksiteOptions.variant))),a.Hb(1),a.sc("ngClass",a.vc(5,K,t.showDarksite)),a.Hb(25),a.sc("ngStyle",t.bgImage)}}let rt=(()=>{class t{constructor(t,e,n,i){this.cmsImagePipe=t,this.datalayerPromotions=e,this.el=n,this.document=i,this.bgImage={},this.mainBannerType=b.a,this.callToAction={entryName:"entry",text:"Ver m\xe1s",url:"/",target:s.g._blank,linkType:s.e.LINK},this.viewed=!1,this.showDarksite=!1}ngOnInit(){}ngOnChanges(){this.mainBanner.type===this.mainBannerType.LowFare&&(this.lowfareLabel=Math.floor(5*Math.random())),this.selectBgImage()}selectBgImage(){this.bgImage["background-image"]=`url(${this.cmsImagePipe.transform(this.mainBanner.image,{fit:"fill",format:"webp",quality:80,width:500,height:410})})`}onWindowScroll(t){this.el.nativeElement.getBoundingClientRect().top-this.document.documentElement.clientHeight<=0&&!this.viewed&&(this.viewed=!0,this.datalayerPromotions.mainBannerViewPromotions(this.mainBanner,this.lowfareLabel))}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(x.a),a.Tb(P.a),a.Tb(a.n),a.Tb(i.e))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-main-dynamic-banner"]],hostBindings:function(t,e){1&t&&a.hc("scroll",(function(t){return e.onWindowScroll(t)}),!1,a.Gc)},inputs:{mainBanner:"mainBanner",showDarksite:"showDarksite",darksiteOptions:"darksiteOptions"},features:[a.Fb],decls:11,vars:1,consts:[["class","main-dynamic-banner viva-card white shadow",4,"ngIf"],["LowFare",""],["VivaPromo",""],["imageHeader",""],["Countdown",""],["CheckIn",""],[1,"main-dynamic-banner","viva-card","white","shadow"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],[1,"main-content","low-fare"],[1,"header",3,"ngClass"],[1,"subheader","mb-2",3,"ngClass"],[1,"h3","light"],[1,"footer"],[1,"d-flex","justify-content-between"],[1,"small-title","dark","mb-3"],[1,"opacity-5"],[1,"h4","dark"],["unitContent","fas fa-plane fa-rotate-270",3,"amount","originalAmount","isOfferCAU"],[1,"mt-0","mb-3"],[1,"small-title","d-flex","justify-content-between","align-items-center",3,"routerLink","queryParams","click"],[1,"fas","fa-arrow-right","footer-icon"],[1,"media"],[1,"viva-badge","low-fare-recommended","d-flex","d-md-none"],[1,"fas","fa-star"],[1,"h-100","w-100","bg-image",3,"ngStyle"],[4,"ngIf"],[1,"main-content"],["class","subheader mb-2",3,"ngClass",4,"ngIf","ngIfElse"],[1,"h3","light","mb-10","mb-lg-3"],[1,"regular-text","light","mb-10","mb-lg-3"],[3,"callToAction","click"],[1,"viva-btn","action-link","px-0","mb-lg-3"],[1,"content"],[1,"light"],[1,"fas","fa-arrow-right",3,"ngClass"],[1,"small-title","light","mt-10","mt-lg-0"],["class","h-100 w-100 bg-image",3,"ngStyle",4,"ngIf","ngIfElse"],["height","80","loading","lazy",1,"partner-image","mb-2",3,"src","alt"],[1,"h-100","w-100","countdown-bg","d-flex","align-items-center"],[3,"countdownExpirationDate"],["countdown",""],[1,"h4","dark","mb-1"],[1,"fas","fa-plane"],[1,"medium-title","dark"],[1,"h4","dark","mb-4"],[1,"fas","fa-users"],[1,"viva-btn","big","w-100",3,"click"]],template:function(t,e){1&t&&(a.Qc(0,G,5,4,"div",0),a.Qc(1,X,33,39,"ng-template",null,1,a.Rc),a.Qc(3,it,1,1,"ng-template",null,2,a.Rc),a.Qc(5,at,2,6,"ng-template",null,3,a.Rc),a.Qc(7,st,3,1,"ng-template",null,4,a.Rc),a.Qc(9,ct,28,7,"ng-template",null,5,a.Rc)),2&t&&a.sc("ngIf",e.mainBanner)},directives:[i.u,i.y,i.z,i.B,i.r,k.a,o.j,i.x,M.a,Y],pipes:[T.a,j.a,Z.a,x.a],styles:[".main-dynamic-banner[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;transition:box-shadow .15s cubic-bezier(.445,.05,.55,.95);overflow:hidden}.main-dynamic-banner[_ngcontent-%COMP%]:hover{box-shadow:0 1px 4px 0 rgba(0,0,0,.24)!important}@media screen and (max-width:991px){.main-dynamic-banner[_ngcontent-%COMP%]{flex-wrap:wrap}}.main-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media screen and (max-width:991px){.main-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{order:1;min-width:100%}}.main-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background-color:var(--bg2);flex-grow:1;padding:40px}.main-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:80px}.main-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header.viva-promo[_ngcontent-%COMP%]{padding-top:70px;padding-bottom:25px;display:flex;flex-direction:column}@media screen and (max-width:991px){.main-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header.viva-promo[_ngcontent-%COMP%]{padding:20px}}.main-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header.viva-promo[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{flex-grow:1}.main-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header.partner-promo[_ngcontent-%COMP%]{padding-top:30px;padding-bottom:25px;display:flex;flex-direction:column}@media screen and (max-width:800px){.main-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header.partner-promo[_ngcontent-%COMP%]{padding:20px}}.main-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header.partner-promo[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{flex-grow:1}@media screen and (max-width:800px){.main-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header.partner-promo[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:18px;line-height:22px}}@media screen and (max-width:800px){.main-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header.partner-promo[_ngcontent-%COMP%]   .partner-image[_ngcontent-%COMP%]{height:60px}}@media screen and (max-width:800px){.main-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header.partner-promo[_ngcontent-%COMP%]   .regular-text[_ngcontent-%COMP%]{font-size:14px;line-height:normal}}.main-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{background-color:var(--wh1);padding:30px 30px 20px}.main-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .medium-title.dark[_ngcontent-%COMP%]{margin-bottom:15px}.main-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .medium-title.dark[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--vg4);margin:0 5px}.main-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .footer-icon[_ngcontent-%COMP%]{color:var(--bg4)}.main-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:var(--gr20);opacity:1;border:none}.main-dynamic-banner[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{min-height:410px;flex:0 0 60%}@media screen and (max-width:991px){.main-dynamic-banner[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{min-height:400px}}@media screen and (max-width:720px){.main-dynamic-banner[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{min-height:222px}}.main-dynamic-banner[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   .countdown-bg[_ngcontent-%COMP%]{background-color:var(--wh1)}@media screen and (max-width:1024px){.main-dynamic-banner[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{flex:0 0 50%}}@media screen and (max-width:991px){.main-dynamic-banner[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{flex:0 0 100%}}.light[_ngcontent-%COMP%]{color:var(--wh1)}.bg-image[_ngcontent-%COMP%]{background-position:50%;background-repeat:no-repeat;background-size:cover}.viva-btn.action-link[_ngcontent-%COMP%]{height:auto;border-radius:0}.viva-btn.action-link[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--vg2)}a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (max-width:800px){.partner-promo[_ngcontent-%COMP%]     a{width:100%}}@media screen and (max-width:991px){.low-fare[_ngcontent-%COMP%]{width:100%}.low-fare[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:none}.low-fare[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding:20px!important}.low-fare-recommended[_ngcontent-%COMP%]{position:absolute;height:30px;width:154px;display:flex!important;font-size:14px;left:31px;top:20px;padding:0!important}.low-fare-recommended[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px}}"]}),t})();var lt=n("b3gp"),dt=n("d/Sv"),gt=n("TUgU"),bt=n("q/KQ");function ht(t,e){1&t&&a.Vb(0)}function pt(t,e){if(1&t&&(a.Xb(0),a.Qc(1,ht,1,0,"ng-container",7),a.Wb()),2&t){a.jc();const t=a.Ec(7);a.Hb(1),a.sc("ngTemplateOutlet",t)}}function ut(t,e){1&t&&a.Vb(0)}function mt(t,e){if(1&t&&(a.Xb(0),a.Qc(1,ut,1,0,"ng-container",7),a.Wb()),2&t){a.jc();const t=a.Ec(9);a.Hb(1),a.sc("ngTemplateOutlet",t)}}function ft(t,e){1&t&&a.Vb(0)}function vt(t,e){if(1&t&&(a.Xb(0),a.Qc(1,ft,1,0,"ng-container",7),a.Wb()),2&t){a.jc();const t=a.Ec(11);a.Hb(1),a.sc("ngTemplateOutlet",t)}}function Ct(t,e){1&t&&a.Vb(0)}function Ot(t,e){if(1&t&&(a.Xb(0),a.Qc(1,Ct,1,0,"ng-container",7),a.Wb()),2&t){a.jc();const t=a.Ec(13);a.Hb(1),a.sc("ngTemplateOutlet",t)}}const yt=function(t){return{regex:"%%discount%%",newValue:t}},xt=function(t){return[t]};function Pt(t,e){if(1&t&&(a.Zb(0,"div",21),a.Zb(1,"label"),a.Ub(2,"i",22),a.Sc(3),a.kc(4,"cmsRegexReplace"),a.kc(5,"cmsTranslate"),a.kc(6,"percent"),a.Yb(),a.Yb()),2&t){const t=a.jc(2);a.Hb(3),a.Uc(" ",a.mc(4,1,a.lc(5,4,"BOOKER_TAG_SAVING"),a.vc(10,xt,a.vc(8,yt,a.lc(6,6,t.secondaryBanner.discount))))," ")}}function kt(t,e){if(1&t){const t=a.ac();a.Zb(0,"a",8),a.hc("click",(function(){a.Hc(t);const e=a.jc();return e.datalayerPromotions.secondaryBannerSelectPromotions(e.secondaryBanner,e.lastSearches)})),a.Zb(1,"div",9),a.Qc(2,Pt,7,12,"div",10),a.Ub(3,"div",11),a.Yb(),a.Zb(4,"div",12),a.Zb(5,"div",13),a.Zb(6,"div",14),a.Zb(7,"span",15),a.Sc(8),a.kc(9,"flightStationName"),a.Yb(),a.Zb(10,"div",16),a.Sc(11),a.kc(12,"flightStationName"),a.Yb(),a.Yb(),a.Ub(13,"app-price",17),a.Yb(),a.Ub(14,"hr",18),a.Zb(15,"div",19),a.Zb(16,"div",15),a.Sc(17),a.kc(18,"cmsTranslate"),a.Yb(),a.Ub(19,"i",20),a.Yb(),a.Yb(),a.Yb()}if(2&t){const t=a.jc();a.sc("routerLink",t.secondaryBanner.bookingParams?"/book/options":"/")("queryParams",t.secondaryBanner.bookingParams),a.Hb(2),a.sc("ngIf",t.secondaryBanner.discount),a.Hb(1),a.sc("ngStyle",t.bgImage),a.Hb(5),a.Uc("",a.lc(9,10,t.secondaryBanner.flightLowFare.origin)," - "),a.Hb(3),a.Uc(" ",a.lc(12,12,t.secondaryBanner.flightLowFare.destination)," "),a.Hb(2),a.sc("amount",t.secondaryBanner.flightLowFare.lowFare.fareAmount)("originalAmount",t.secondaryBanner.flightLowFare.lowFare.originalPrice)("isOfferCAU",!0),a.Hb(4),a.Uc(" ",a.lc(18,14,"LOWFARE_LABEL_STARTING-PRICE")," ")}}function Mt(t,e){if(1&t){const t=a.ac();a.Xb(0),a.Zb(1,"app-call-to-action",24),a.hc("click",(function(){a.Hc(t);const e=a.jc(2);return e.datalayerPromotions.secondaryBannerSelectPromotions(e.secondaryBanner,e.lastSearches)})),a.Zb(2,"div",25),a.Ub(3,"div",11),a.Yb(),a.Zb(4,"div",26),a.Zb(5,"div"),a.Zb(6,"div",27),a.Sc(7),a.Yb(),a.Zb(8,"div",28),a.Sc(9),a.Yb(),a.Yb(),a.Zb(10,"div"),a.Ub(11,"hr",29),a.Zb(12,"div",30),a.Zb(13,"div",31),a.Zb(14,"div",32),a.Zb(15,"span"),a.Sc(16),a.Yb(),a.Ub(17,"i",33),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Wb()}if(2&t){const t=e.ngIf,n=a.jc(2);a.Hb(1),a.sc("callToAction",null==t||null==t.callToAction?null:t.callToAction.fields)("ctaClass","w-100"),a.Hb(2),a.sc("ngStyle",n.bgImage),a.Hb(4),a.Uc(" ",t.title," "),a.Hb(2),a.Uc(" ",t.description," "),a.Hb(7),a.Tc(null==t.callToAction||null==t.callToAction.fields?null:t.callToAction.fields.text)}}function _t(t,e){if(1&t&&a.Qc(0,Mt,18,6,"ng-container",23),2&t){const t=a.jc();a.sc("ngIf",t.secondaryBanner.cmsData)}}const wt=function(t){return{"dark-site-typeB":t}};function St(t,e){if(1&t){const t=a.ac();a.Ub(0,"div",34),a.Zb(1,"div",35),a.Zb(2,"div"),a.Zb(3,"div",27),a.Sc(4,"Equipaje extra en tu viaje a Canc\xfan"),a.Yb(),a.Zb(5,"div",28),a.Sc(6," \xbfViajas con m\xe1s de lo esperado? A\xf1ade 15 kg a tu equipaje de mano. "),a.Yb(),a.Yb(),a.Zb(7,"div"),a.Ub(8,"hr",18),a.Zb(9,"app-call-to-action",36),a.hc("click",(function(){a.Hc(t);const e=a.jc();return e.datalayerPromotions.secondaryBannerSelectPromotions(e.secondaryBanner,e.lastSearches)})),a.Zb(10,"div",31),a.Zb(11,"div",32),a.Zb(12,"span",37),a.Sc(13," Modificar mi reserva "),a.Yb(),a.Ub(14,"i",33),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()}if(2&t){const t=a.jc();a.sc("ngClass",a.vc(3,wt,t.showDarksite&&"B"===(null==t.darksiteOptions?null:t.darksiteOptions.variant))),a.Hb(1),a.sc("ngClass",a.vc(5,wt,t.showDarksite&&"B"===(null==t.darksiteOptions?null:t.darksiteOptions.variant))),a.Hb(8),a.sc("callToAction",t.callToAction)}}function Tt(t,e){1&t&&a.Ub(0,"hr",47)}function Dt(t,e){if(1&t){const t=a.ac();a.Xb(0),a.Qc(1,Tt,1,0,"hr",43),a.Zb(2,"a",44),a.hc("click",(function(){a.Hc(t);const e=a.jc(2);return e.datalayerPromotions.secondaryBannerSelectPromotions(e.secondaryBanner,e.lastSearches)})),a.Zb(3,"div",14),a.Zb(4,"span",15),a.Sc(5),a.kc(6,"flightStationName"),a.Yb(),a.Zb(7,"div",45),a.Sc(8),a.kc(9,"flightStationName"),a.Yb(),a.Zb(10,"span",46),a.Sc(11),a.Yb(),a.Zb(12,"span",15),a.Sc(13),a.kc(14,"i18nPlural"),a.kc(15,"i18nPlural"),a.kc(16,"i18nPlural"),a.Yb(),a.Ub(17,"i",33),a.Yb(),a.Yb(),a.Wb()}if(2&t){const t=e.$implicit,n=e.index,i=a.jc(2);a.Hb(1),a.sc("ngIf",n>0),a.Hb(1),a.sc("queryParams",t.queryParams),a.Hb(3),a.Uc(" ",a.lc(6,10,t.station.origin.code)," - "),a.Hb(3),a.Uc(" ",a.lc(9,12,t.station.destination.code)," "),a.Hb(3),a.Vc(" ",t.startDate," ",t.endDate?"- "+t.endDate:""," "),a.Hb(2),a.Xc(" ",a.mc(14,14,t.station.passengers.adults,i.passengersLabels[i.passengerTypes.ADULTS])," ",t.station.passengers.adults&&t.station.passengers.kids?", ":""," ",a.mc(15,17,t.station.passengers.kids,i.passengersLabels[i.passengerTypes.KIDS])," ",a.mc(16,20,t.station.passengers.babies,i.passengersLabels[i.passengerTypes.BABIES])," ")}}function It(t,e){if(1&t&&(a.Zb(0,"div",38),a.Zb(1,"h4",39),a.Sc(2),a.kc(3,"cmsTranslate"),a.Yb(),a.Ub(4,"img",40),a.kc(5,"cmsStaticImage"),a.Yb(),a.Zb(6,"div",41),a.Qc(7,Dt,18,23,"ng-container",42),a.Yb()),2&t){const t=a.jc();a.sc("ngClass",a.vc(8,wt,t.showDarksite&&"B"===(null==t.darksiteOptions?null:t.darksiteOptions.variant))),a.Hb(2),a.Uc(" ",a.lc(3,4,"GLOBAL_LABEL_RECENTSEARCHES")," "),a.Hb(2),a.sc("src",a.lc(5,6,"BOOKER_IMAGE_RECENT-SEARCHES"),a.Kc),a.Hb(3),a.sc("ngForOf",t.lastSearches)}}let At=(()=>{class t{constructor(t,e,n,i,o,a,c,r){this.cmsImagePipe=t,this.platformId=e,this.cmsTranslate=n,this.bookingParams=i,this.datalayerPromotions=o,this.el=a,this.document=c,this.flightStationsSvc=r,this.flightsCacheKey=g.g.cacheKeys.FLIGHT_SEARCH_HISTORY,this.showDarksite=!1,this.bgImage={},this.passengerTypes=lt.b,this.passengersLabels={[lt.b.ADULTS]:{"=0":"","=1":"1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULT-COUNT"),other:"# "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULTS-COUNT")},[lt.b.KIDS]:{"=0":"","=1":"1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILD-COUNT"),other:"# "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILDREN-COUNT")},[lt.b.BABIES]:{"=0":"","=1":", 1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANT-COUNT"),other:", # "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANTS-COUNT")}},this.secondaryBannerType=b.b,this.callToAction={entryName:"entry",text:"Ver m\xe1s",url:"/",target:s.g._blank,linkType:s.e.LINK},this.viewed=!1}ngOnInit(){}ngOnChanges(){this.fetchLatestSearches(),this.selectBgImage()}selectBgImage(){this.bgImage["background-image"]=`url(${this.cmsImagePipe.transform(this.secondaryBanner.image,{fit:"fill",width:280,height:this.secondaryBanner.type===b.b.VivaPromo?188:266})})`}fetchLatestSearches(){if(this.secondaryBanner.type===b.b.LastestSearches&&Object(i.L)(this.platformId)){const e=localStorage.getItem(this.flightsCacheKey);if(e)try{const t=JSON.parse(e);if(t){let e=t.filter(t=>_(t.content.startDate).diff(_())>0);if(e&&Array.isArray(e)&&e.length)return e=e.filter(t=>"BOG"!==t.content.origin.code&&"BOG"!==t.content.destination.code),e=this.validateIfDuplicated(e),e=e.slice(0,2),void(this.lastSearches=e.map(t=>({station:t.content,startDate:this.formatDate(t.content.startDate.toString()),endDate:t.content.endDate?this.formatDate(t.content.endDate.toString()):null,queryParams:this.generateQueryParams(t.content)})))}return}catch(t){g.g.production||console.error("[fetchLatestSearches]::Error fetching latest flight search: ",t)}}}validateIfDuplicated(t){let e=[...t];return t.length>1&&(e=e.filter(e=>t[0].content.destination.code!==e.content.destination.code||t[0].content.endDate!==e.content.endDate||t[0].content.origin.code!==e.content.origin.code||t[0].content.passengers.adults!==e.content.passengers.adults||t[0].content.passengers.babies!==e.content.passengers.babies||t[0].content.passengers.kids!==e.content.passengers.kids||t[0].content.startDate!==e.content.startDate||t[0].content.stationType!==e.content.stationType||t[0].content.travelType!==e.content.travelType),e.splice(0,0,t[0])),e}formatDate(t){return _(t).format("DD MMM")}getMaacStation(t){return this.flightStationsSvc._maacStations.find(e=>e.code===t.code)}generateQueryParams(t){const e=Object.assign({},t.origin),n=Object.assign({},t.destination),i=[],o=this.getMaacStation(t.origin);o&&(e.code=o.maac.searchCode);const a=this.getMaacStation(t.destination);a&&(n.code=a.maac.searchCode);const s=[{origin:e,destination:n,date:_(t.startDate)}];return t.travelType===dt.a.ROUND_TRIP&&s.push({origin:n,destination:e,date:_(t.endDate)}),((null==o?void 0:o.maac)||(null==a?void 0:a.maac))&&(i.push(Number(!!(null==o?void 0:o.maac))),i.push(Number(!!(null==a?void 0:a.maac))),t.travelType===dt.a.ROUND_TRIP&&(i.push(Number(!!(null==a?void 0:a.maac))),i.push(Number(!!(null==o?void 0:o.maac))))),this.bookingParams.createFlightSearchParams({itineraryCode:s,passengers:t.passengers,travelType:t.travelType,alternateStations:null==i?void 0:i.join("")})}onWindowScroll(t){this.el.nativeElement.getBoundingClientRect().top-this.document.documentElement.clientHeight<=0&&!this.viewed&&(this.viewed=!0,this.datalayerPromotions.secondaryBannerViewPromotions(this.secondaryBanner,this.lastSearches))}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(x.a),a.Tb(a.G),a.Tb(gt.a),a.Tb(v.a),a.Tb(P.a),a.Tb(a.n),a.Tb(i.e),a.Tb(f.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-secondary-dynamic-banner"]],hostBindings:function(t,e){1&t&&a.hc("scroll",(function(t){return e.onWindowScroll(t)}),!1,a.Gc)},inputs:{secondaryBanner:"secondaryBanner",showDarksite:"showDarksite",darksiteOptions:"darksiteOptions"},features:[a.Fb],decls:14,vars:5,consts:[[1,"secondary-dynamic-banner","viva-card","white","shadow"],[3,"ngSwitch"],[4,"ngSwitchCase"],["LowFare",""],["VivaPromo",""],["ManageMyBooking",""],["LastestSearches",""],[4,"ngTemplateOutlet"],[3,"routerLink","queryParams","click"],[1,"media","low-fare"],["class","viva-badge",4,"ngIf"],[1,"h-100","w-100","bg-image",3,"ngStyle"],[1,"main-content"],[1,"d-flex","justify-content-between"],[1,"small-title","dark","mb-3"],[1,"opacity-5"],[1,"h4","dark"],["unitContent","fas fa-plane fa-rotate-270",3,"amount","originalAmount","isOfferCAU"],[1,"mt-0","mb-3"],[1,"small-title","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-arrow-right","footer-icon"],[1,"viva-badge"],[1,"fas","fa-bell"],[4,"ngIf"],[3,"callToAction","ctaClass","click"],[1,"media","monthy-promo"],[1,"main-content","monthy-promo"],[1,"h4","dark","mb-2"],[1,"regular-text","gray","mb-2"],[1,"mt-0","mb-2"],[1,"w-100"],[1,"viva-btn","action-link","px-0"],[1,"content"],[1,"fas","fa-arrow-right"],[1,"media","manage-booking",3,"ngClass"],[1,"main-content","manage-booking",3,"ngClass"],["ctaClass","w-100",3,"callToAction","click"],[1,"light"],[1,"media","lastest-searches","px-3",3,"ngClass"],[1,"h4","light"],["loading","lazy",3,"src"],[1,"main-content","lastest-searches"],[4,"ngFor","ngForOf"],["class","mt-2",4,"ngIf"],["routerLink","/book/options",1,"lastest-search","d-block",3,"queryParams","click"],[1,"h4","dark","mb-1"],[1,"opacity-5","d-block","mb-1","text-capitalize"],[1,"mt-2"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Xb(1,1),a.Qc(2,pt,2,1,"ng-container",2),a.Qc(3,mt,2,1,"ng-container",2),a.Qc(4,vt,2,1,"ng-container",2),a.Qc(5,Ot,2,1,"ng-container",2),a.Wb(),a.Yb(),a.Qc(6,kt,20,16,"ng-template",null,3,a.Rc),a.Qc(8,_t,1,1,"ng-template",null,4,a.Rc),a.Qc(10,St,15,7,"ng-template",null,5,a.Rc),a.Qc(12,It,8,10,"ng-template",null,6,a.Rc)),2&t&&(a.Hb(1),a.sc("ngSwitch",e.secondaryBanner.type),a.Hb(1),a.sc("ngSwitchCase",e.secondaryBannerType.LowFare),a.Hb(1),a.sc("ngSwitchCase",e.secondaryBannerType.VivaPromo),a.Hb(1),a.sc("ngSwitchCase",e.secondaryBannerType.ManageMyBooking),a.Hb(1),a.sc("ngSwitchCase",e.secondaryBannerType.LastestSearches))},directives:[i.y,i.z,i.B,o.j,i.u,i.x,k.a,M.a,i.r,i.t],pipes:[Z.a,T.a,j.a,i.D,bt.a,i.j],styles:[".secondary-dynamic-banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:410px;transition:box-shadow .15s cubic-bezier(.445,.05,.55,.95)}.secondary-dynamic-banner[_ngcontent-%COMP%]:hover{box-shadow:0 1px 4px 0 rgba(0,0,0,.24)!important}.secondary-dynamic-banner[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{width:100%;position:relative}.secondary-dynamic-banner[_ngcontent-%COMP%]   .media.low-fare[_ngcontent-%COMP%]{height:266px}.secondary-dynamic-banner[_ngcontent-%COMP%]   .media.low-fare[_ngcontent-%COMP%]   .viva-badge[_ngcontent-%COMP%]{position:absolute;top:21px;left:21px}.secondary-dynamic-banner[_ngcontent-%COMP%]   .media.monthy-promo[_ngcontent-%COMP%]{height:188px;display:flex;justify-content:center;align-items:center;background-color:var(--bl9)}.secondary-dynamic-banner[_ngcontent-%COMP%]   .media.manage-booking[_ngcontent-%COMP%]{height:188px;background-color:var(--bg2)}.secondary-dynamic-banner[_ngcontent-%COMP%]   .media.lastest-searches[_ngcontent-%COMP%]{height:128px;background-color:var(--bg2);display:flex;align-items:center}.secondary-dynamic-banner[_ngcontent-%COMP%]   .media.lastest-searches[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{width:40%;position:relative}.secondary-dynamic-banner[_ngcontent-%COMP%]   .media.lastest-searches[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0}.secondary-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{padding:20px 20px 15px}.secondary-dynamic-banner[_ngcontent-%COMP%]   .main-content.monthy-promo[_ngcontent-%COMP%]{padding:20px 20px 10px;min-height:222px;display:flex;flex-direction:column;justify-content:space-between}.secondary-dynamic-banner[_ngcontent-%COMP%]   .main-content.manage-booking[_ngcontent-%COMP%]   .regular-text[_ngcontent-%COMP%]{min-height:75px}.secondary-dynamic-banner[_ngcontent-%COMP%]   .main-content.lastest-searches[_ngcontent-%COMP%]   .lastest-search[_ngcontent-%COMP%]{position:relative}.secondary-dynamic-banner[_ngcontent-%COMP%]   .main-content.lastest-searches[_ngcontent-%COMP%]   .lastest-search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0}.secondary-dynamic-banner[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:var(--gr20);opacity:1;border:none}.light[_ngcontent-%COMP%]{color:var(--wh1)}.bg-image[_ngcontent-%COMP%]{background-position:50%;background-repeat:no-repeat;background-size:cover}.viva-btn.action-link[_ngcontent-%COMP%]{height:auto;border-radius:0}a[_ngcontent-%COMP%]{text-decoration:none}"]}),t})();function Lt(t,e){if(1&t&&a.Ub(0,"app-main-dynamic-banner",8),2&t){const t=a.jc();a.sc("mainBanner",t.mainBanner)("showDarksite",t.showDarksite)("darksiteOptions",t.darksiteOptions)}}function Ht(t,e){1&t&&a.Ub(0,"div",9)}function Et(t,e){if(1&t&&a.Ub(0,"app-secondary-dynamic-banner",10),2&t){const t=a.jc();a.sc("secondaryBanner",t.secondaryBanner)("showDarksite",t.showDarksite)("darksiteOptions",t.darksiteOptions)}}function Bt(t,e){1&t&&a.Ub(0,"div",11)}let Yt=(()=>{class t{constructor(t,e,n,i,o,a,s,c,r){var l;this.lowFaresSvc=t,this.storefront=e,this.stationsSvc=n,this.paramsSvc=i,this.cookiesSvc=o,this.platformId=a,this.csmConfig=s,this.boxeverService=c,this.route=r,this.flightsCacheKey=g.g.cacheKeys.FLIGHT_SEARCH_HISTORY,this.tripDaysDuration=7,this.lastFlightsCacheKey=g.g.cacheKeys.LAST_FLIGHT_SEARCH,this.isLoadingMainBanner=!0,this.isLoadingSecondaryBanner=!0,this.enableLastSearchBanners=!0,this.showDarksite=!1,this.maintenanceMode=(null===(l=this.csmConfig._cmsConfig.globalSettings.maintenanceMode)||void 0===l?void 0:l["low-fare-widget"])||!1,this.showDarksite=this.csmConfig.getSectionFeatureValue(p.b.GLOBAL,p.a.DarkSite),this.darksiteOptions=this.csmConfig._cmsConfig.globalSettings.darksite,this.route.snapshot.queryParamMap.has("utm_campaign")&&(this.enableLastSearchBanners=!1)}ngOnInit(){this.initPrimaryBanner(),this.boxeverService.getSecondaryBannerSettings$().pipe(Object(d.a)(t=>Object(l.a)(this.initSecondaryBanner(t)))).subscribe()}initPrimaryBanner(){var t;return Object(c.a)(this,void 0,void 0,(function*(){if(this.mainBanner={type:b.a.VivaPromo},this.mainBanner.type===b.a.VivaPromo&&(this.mainBanner.cmsData=yield this.getCmsData("main"),this.mainBanner.cmsData&&(this.mainBanner.image=this.getPromoImage(this.mainBanner.cmsData.source))),Object(i.L)(this.platformId)){const e=this.cookiesSvc.get(this.lastFlightsCacheKey),n=e?JSON.parse(e):void 0;if(n&&n.origin&&n.destination&&this.isLoadingMainBanner&&!this.maintenanceMode&&this.enableLastSearchBanners){const e=Object.assign({},n.origin),i=Object.assign({},n.destination),o=this.getMaacStation(n.origin);o&&(e.code=o.maac.searchCode);const a=this.getMaacStation(n.destination);a&&(i.code=a.maac.searchCode),this.mainBanner.flightLowFare=yield this.getLowFareData(e.code,i.code),(null===(t=this.mainBanner)||void 0===t?void 0:t.flightLowFare)&&(this.mainBanner.type=b.a.LowFare,this.mainBanner.bookingParams=this.paramsSvc.getParamsFromFlightLowFare(this.mainBanner.flightLowFare,this.tripDaysDuration),this.mainBanner.discount=this.getDiscount(this.mainBanner.flightLowFare),this.mainBanner.image=yield this.getDestinationImg(this.mainBanner.flightLowFare.destination))}this.isLoadingMainBanner=!1}}))}getMaacStation(t){return this.stationsSvc._maacStations.find(e=>e.code===t.code)}initSecondaryBanner(t=null){return Object(c.a)(this,void 0,void 0,(function*(){if(this.secondaryBanner={type:b.b.LastestSearches},Object(i.L)(this.platformId))if(t)this.secondaryBanner=t,this.isLoadingSecondaryBanner=!1;else{const t=localStorage.getItem(this.flightsCacheKey),e=JSON.parse(t),n=(null==e?void 0:e.filter(t=>r(t.content.startDate).diff(r())>0))||null;if(this.secondaryBanner.type===b.b.LastestSearches&&n&&n.length&&this.enableLastSearchBanners)return void(this.isLoadingSecondaryBanner=!1);if(this.secondaryBanner.type=b.b.VivaPromo,this.secondaryBanner.cmsData=yield this.getCmsData("secondary"),this.secondaryBanner.cmsData)return this.secondaryBanner.image=this.getPromoImage(this.secondaryBanner.cmsData.image),void(this.isLoadingSecondaryBanner=!1)}}))}getCmsData(t){const e="main"===t?"carousel":"card";return new Promise(t=>{this.storefront.ready.then(()=>{const n=this.storefront.storefrontData.modules.find(t=>"SF_HOMEPAGE-DYNAMIC-BANNERS"===t.fields.code).fields.items.find(t=>t.sys.contentType.sys.id===e);t((null==n?void 0:n.fields)||void 0)})})}getLowFareData(t,e){return new Promise(n=>{this.storefront.ready.then(()=>Object(c.a)(this,void 0,void 0,(function*(){var i;const o=this.storefront.storefrontData;if(o&&o.localeSettings&&o.localeSettings.lowFareWidget)try{const o=null===(i=yield this.lowFaresSvc.getRouteLowFares(t,e).toPromise())||void 0===i?void 0:i.lowFare;return o&&o.routes&&o.routes.length?void n({origin:o.routes[0].origin,destination:o.routes[0].destination[0].destination,lowFare:o.routes[0].destination[0].lowestFare}):void n(void 0)}catch(a){n(void 0)}n(void 0)})))})}getDestinationImg(t){return Object(c.a)(this,void 0,void 0,(function*(){return new Promise(e=>{this.stationsSvc.ready.then(()=>{const n=this.stationsSvc.getCMSStation(t);if(n&&Array.isArray(n.imageGallery)&&n.imageGallery.length>0){const t=Math.floor(Math.random()*n.imageGallery.length);e(n.imageGallery[t].fields.file.url)}else{const t=Math.floor(Math.random()*h.b.length);e(h.b[t])}})})}))}getPromoImage(t){if(t)return t.fields.file.url;const e=Math.floor(Math.random()*h.b.length);return h.b[e]}getDiscount(t){let e=0;if(t&&!Number.isNaN(t.lowFare.fareAmount))try{e=1-Math.round(100*t.lowFare.fareAmount/(t.lowFare.originalPrice||t.lowFare.fareAmount))/100}catch(n){g.g.production||console.error("::LowFareDiscount::",n),e=0}else e=0;return e}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(u.a),a.Tb(m.a),a.Tb(f.a),a.Tb(v.a),a.Tb(C.a),a.Tb(a.G),a.Tb(O.a),a.Tb(y.a),a.Tb(o.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-dynamic-banners"]],decls:8,vars:4,consts:[[1,"container","my-50","px-20","px-lg-10"],[1,"row"],[1,"col-lg-9","order-1","order-lg-0","mb-3"],[3,"mainBanner","showDarksite","darksiteOptions",4,"ngIf"],["class","w-100 main-banner viva-card skeleton-loader alternate",4,"ngIf"],[1,"col-lg-3","mb-lg-0","mb-3","d-none","d-lg-flex"],["class","w-100",3,"secondaryBanner","showDarksite","darksiteOptions",4,"ngIf"],["class","w-100 secondary-banner viva-card skeleton-loader alternate",4,"ngIf"],[3,"mainBanner","showDarksite","darksiteOptions"],[1,"w-100","main-banner","viva-card","skeleton-loader","alternate"],[1,"w-100",3,"secondaryBanner","showDarksite","darksiteOptions"],[1,"w-100","secondary-banner","viva-card","skeleton-loader","alternate"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Qc(3,Lt,1,3,"app-main-dynamic-banner",3),a.Qc(4,Ht,1,0,"div",4),a.Yb(),a.Zb(5,"div",5),a.Qc(6,Et,1,3,"app-secondary-dynamic-banner",6),a.Qc(7,Bt,1,0,"div",7),a.Yb(),a.Yb(),a.Yb()),2&t&&(a.Hb(3),a.sc("ngIf",!e.isLoadingMainBanner),a.Hb(1),a.sc("ngIf",e.isLoadingMainBanner),a.Hb(2),a.sc("ngIf",!e.isLoadingSecondaryBanner),a.Hb(1),a.sc("ngIf",e.isLoadingSecondaryBanner))},directives:[i.u,rt,At],styles:[".main-banner.skeleton-loader[_ngcontent-%COMP%]{pointer-events:none;width:100%;height:410px}@media screen and (max-width:991px){.main-banner.skeleton-loader[_ngcontent-%COMP%]{height:400px}}@media screen and (max-width:720px){.main-banner.skeleton-loader[_ngcontent-%COMP%]{height:222px}}.secondary-banner.skeleton-loader[_ngcontent-%COMP%]{pointer-events:none;width:100%;height:410px}"]}),t})();var jt=n("Hzo1"),Zt=n("vADi"),Rt=n("PqYM"),Ft=n("K6W5");function Ut(t,e){1&t&&a.Vb(0)}function Nt(t,e){if(1&t&&(a.Zb(0,"div",23),a.Zb(1,"div",24),a.Ub(2,"img",25),a.Yb(),a.Zb(3,"div",26),a.Sc(4),a.Yb(),a.Yb()),2&t){const t=e.$implicit;a.Hb(2),a.sc("src",null==t||null==t.fields||null==t.fields.image||null==t.fields.image.fields||null==t.fields.image.fields.file?null:t.fields.image.fields.file.url,a.Kc),a.Hb(2),a.Tc(null==t||null==t.fields?null:t.fields.description)}}function Vt(t,e){if(1&t&&(a.Zb(0,"div",23),a.Zb(1,"div",24),a.Ub(2,"img",25),a.Yb(),a.Zb(3,"div",26),a.Sc(4),a.Yb(),a.Yb()),2&t){const t=e.$implicit;a.Hb(2),a.sc("src",null==t||null==t.fields||null==t.fields.image||null==t.fields.image.fields||null==t.fields.image.fields.file?null:t.fields.image.fields.file.url,a.Kc),a.Hb(2),a.Tc(null==t||null==t.fields?null:t.fields.description)}}function Qt(t,e){1&t&&a.Vb(0)}function Gt(t,e){1&t&&(a.Zb(0,"div",27),a.Zb(1,"span"),a.Sc(2),a.kc(3,"cmsTranslate"),a.Yb(),a.Ub(4,"em",28),a.Yb()),2&t&&(a.Hb(2),a.Tc(a.lc(3,1,"BOOKER_LABEL_PAYMENTS-INFO")))}const zt=function(t,e){return{"justify-content-end":t,"justify-content-start":e}},Kt=function(t,e,n){return{"justify-content-end":t,"justify-content-start":e,"no-move":n}},Wt=function(t){return{position:t}},$t=function(t,e){return{value:t,params:e}};let Xt=(()=>{class t{constructor(){this.activeTab=0,this.position=0,this.paymentsData=[],this.tempPayments=[],this.currentFirstItem=0,this.newItems=1,this.itemsPerRow=8,this.tabOptions=[],this.widthPosition=16}onResize(t){this.mobileTypeView(t.target.innerWidth)}ngOnInit(){this.buildAvailableData()}ngOnDestroy(){}setDataTab(){var t,e,n;this.paymentsData.length&&(this.currentFirstItem=0,this.tempPayments=null===(n=null===(e=null===(t=this.paymentsData[this.activeTab])||void 0===t?void 0:t.fields)||void 0===e?void 0:e.items)||void 0===n?void 0:n.slice(0,this.itemsPerRow))}mobileTypeView(t){t>992&&t<=1240?1!==this.viewType&&(this.itemsPerRow=6,this.setDataTab(),this.viewType=1):0!==this.viewType&&(this.itemsPerRow=8,this.setDataTab(),this.viewType=0)}buildAvailableData(){var t;this.data&&(this.paymentsData=null===(t=this.data)||void 0===t?void 0:t.items,this.paymentsData.forEach(t=>{var e;this.tabOptions.push({title:null===(e=null==t?void 0:t.fields)||void 0===e?void 0:e.title})}),this.mobileTypeView(window.innerWidth))}prevItem(){var t,e,n;this.limitPrev||(this.currentFirstItem-=this.newItems,this.tempPayments=null===(n=null===(e=null===(t=this.paymentsData[this.activeTab])||void 0===t?void 0:t.fields)||void 0===e?void 0:e.items)||void 0===n?void 0:n.slice(this.currentFirstItem,this.currentFirstItem+this.itemsPerRow+this.newItems),this.slideDirection=-1,this.position=100*this.newItems/this.widthPosition,Object(Rt.a)(300).subscribe(()=>{var t,e,n;this.slideDirection=0,this.position=0,this.tempPayments=null===(n=null===(e=null===(t=this.paymentsData[this.activeTab])||void 0===t?void 0:t.fields)||void 0===e?void 0:e.items)||void 0===n?void 0:n.slice(this.currentFirstItem,this.currentFirstItem+this.itemsPerRow)}))}nextItem(){var t,e,n;this.limitNext||(this.currentFirstItem+=this.newItems,this.tempPayments=this.tempPayments.concat(null===(n=null===(e=null===(t=this.paymentsData[this.activeTab])||void 0===t?void 0:t.fields)||void 0===e?void 0:e.items)||void 0===n?void 0:n.slice(this.currentFirstItem+this.itemsPerRow-this.newItems,this.currentFirstItem+this.itemsPerRow)),this.slideDirection=1,this.position=100*-this.newItems/this.widthPosition,Object(Rt.a)(300).subscribe(()=>{var t,e,n;this.slideDirection=0,this.position=0,this.tempPayments=null===(n=null===(e=null===(t=this.paymentsData[this.activeTab])||void 0===t?void 0:t.fields)||void 0===e?void 0:e.items)||void 0===n?void 0:n.slice(this.currentFirstItem,this.currentFirstItem+this.itemsPerRow)}))}get limitPrev(){return!(this.currentFirstItem>0)}get limitNext(){var t,e,n;return!(this.currentFirstItem+this.itemsPerRow<(null===(n=null===(e=null===(t=this.paymentsData[this.activeTab])||void 0===t?void 0:t.fields)||void 0===e?void 0:e.items)||void 0===n?void 0:n.length))}changeTab(t){this.activeTab=t,this.setDataTab()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Nb({type:t,selectors:[["app-payments-available-cards"]],hostBindings:function(t,e){1&t&&a.hc("resize",(function(t){return e.onResize(t)}),!1,a.Gc)},inputs:{data:"data"},decls:30,vars:26,consts:[[1,"container","px-20","px-md-10","mt-30","mb-50"],[1,"row","mb-0","mr-0"],[1,"col-12"],[1,"row","mb-40","available-content","px-0","py-0","px-lg-30","py-lg-20","m-0"],[1,"col-12","px-0","px-lg-10","mt-10","mt-lg-0"],[1,"separator","d-flex","justify-content-between","align-items-center"],[3,"tabOptions","theme","activeTabChange"],[1,"d-none","d-lg-block"],[4,"ngTemplateOutlet"],[1,"col-12","d-none","d-lg-block"],[1,"available-box"],[1,"viva-btn","unit","available-box-btn","prev",3,"disabled","click"],[1,"fas","fa-arrow-left","content"],[1,"available-box-container","d-flex","mt-20",3,"ngClass"],[1,"available-box-carrousel","h-100","d-flex","align-items-center",3,"ngClass"],["class","available-box-card",4,"ngFor","ngForOf"],[1,"viva-btn","unit","available-box-btn","next",3,"disabled","click"],[1,"fas","fa-arrow-right","content"],[1,"col-12","d-block","d-lg-none"],[1,"available-box-container","d-flex","mt-20"],[1,"available-box-carrousel","h-100","d-flex","align-items-center"],[1,"col-12","d-block","d-lg-none","mt-30","mb-20","px-30"],["paymentLabel",""],[1,"available-box-card"],[1,"img-container"],["type","image/gif","alt","",3,"src"],[1,"small-text","d-flex","justify-content-center","align-items-center","px-10"],[1,"small-title","opacity-5","mb-10","mt-0","mt-lg-10","mt-xl-0"],[1,"fas","fa-lock","ml-10"]],template:function(t,e){if(1&t&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"h3"),a.Sc(4),a.kc(5,"cmsTranslate"),a.Yb(),a.Yb(),a.Yb(),a.Zb(6,"div",3),a.Zb(7,"div",4),a.Zb(8,"div",5),a.Zb(9,"app-tablist-bar",6),a.hc("activeTabChange",(function(t){return e.changeTab(t)})),a.Yb(),a.Zb(10,"div",7),a.Qc(11,Ut,1,0,"ng-container",8),a.Yb(),a.Yb(),a.Yb(),a.Zb(12,"div",9),a.Zb(13,"div",10),a.Zb(14,"button",11),a.hc("click",(function(){return e.prevItem()})),a.Ub(15,"i",12),a.Yb(),a.Zb(16,"div",13),a.Zb(17,"div",14),a.Qc(18,Nt,5,2,"div",15),a.Yb(),a.Yb(),a.Zb(19,"button",16),a.hc("click",(function(){return e.nextItem()})),a.Ub(20,"em",17),a.Yb(),a.Yb(),a.Yb(),a.Zb(21,"div",18),a.Zb(22,"div",10),a.Zb(23,"div",19),a.Zb(24,"div",20),a.Qc(25,Vt,5,2,"div",15),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(26,"div",21),a.Qc(27,Qt,1,0,"ng-container",8),a.Yb(),a.Yb(),a.Yb(),a.Qc(28,Gt,5,3,"ng-template",null,22,a.Rc)),2&t){const t=a.Ec(29);a.Hb(4),a.Uc(" ",a.lc(5,12,"BOOKER_LABEL_AVAILABLE-FORMS-PAYMENT")," "),a.Hb(5),a.sc("tabOptions",e.tabOptions)("theme","light"),a.Hb(2),a.sc("ngTemplateOutlet",t),a.Hb(3),a.sc("disabled",e.limitPrev),a.Hb(2),a.sc("ngClass",a.wc(14,zt,e.slideDirection<0,e.slideDirection>0)),a.Hb(1),a.sc("ngClass",a.xc(17,Kt,e.slideDirection<0,e.slideDirection>0,0===e.slideDirection))("@change",a.wc(23,$t,e.slideDirection,a.vc(21,Wt,e.position))),a.Hb(1),a.sc("ngForOf",e.tempPayments),a.Hb(1),a.sc("disabled",e.limitNext),a.Hb(6),a.sc("ngForOf",null==e.paymentsData[e.activeTab]||null==e.paymentsData[e.activeTab].fields?null:e.paymentsData[e.activeTab].fields.items),a.Hb(2),a.sc("ngTemplateOutlet",t)}},directives:[Ft.a,i.B,i.r,i.t],pipes:[T.a],styles:[".available-content[_ngcontent-%COMP%]{background-color:var(--wh1);box-shadow:0 1px 7px 0 rgba(0,0,0,.18);border-radius:5px}.available-content[_ngcontent-%COMP%]   .available-box[_ngcontent-%COMP%]{position:relative}.available-content[_ngcontent-%COMP%]   .available-box-container[_ngcontent-%COMP%]{width:100%;height:100px;overflow-x:hidden;position:relative}@media screen and (max-width:991px){.available-content[_ngcontent-%COMP%]   .available-box-container[_ngcontent-%COMP%]{overflow:auto;width:100%;height:auto}}.available-content[_ngcontent-%COMP%]   .available-box-carrousel[_ngcontent-%COMP%]{width:200%;flex-shrink:0;transition:all .3s cubic-bezier(.165,.84,.44,1)}.available-content[_ngcontent-%COMP%]   .available-box-carrousel.no-move[_ngcontent-%COMP%]{transition:none}@media screen and (max-width:991px){.available-content[_ngcontent-%COMP%]   .available-box-carrousel[_ngcontent-%COMP%]{width:auto}}.available-content[_ngcontent-%COMP%]   .available-box-card[_ngcontent-%COMP%]{background-color:var(--wh2);width:120px;height:100px;border-radius:4px;margin:0 10px}.available-content[_ngcontent-%COMP%]   .available-box-card[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{background-color:var(--wh1);margin:2px;width:116px;height:46px}.available-content[_ngcontent-%COMP%]   .available-box-card[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;padding:2px}.available-content[_ngcontent-%COMP%]   .available-box-card[_ngcontent-%COMP%]   .small-text[_ngcontent-%COMP%]{height:50px;padding-bottom:2px;color:var(--gr60);font-weight:700;text-align:center}.available-content[_ngcontent-%COMP%]   .available-box-card[_ngcontent-%COMP%]:first-child{margin:0 10px 0 0}.available-content[_ngcontent-%COMP%]   .available-box-card[_ngcontent-%COMP%]:last-child{margin:0 0 0 10px}@media screen and (max-width:991px){.available-content[_ngcontent-%COMP%]   .available-box-card[_ngcontent-%COMP%], .available-content[_ngcontent-%COMP%]   .available-box-card[_ngcontent-%COMP%]:first-child, .available-content[_ngcontent-%COMP%]   .available-box-card[_ngcontent-%COMP%]:last-child{margin:0 5px}}.available-content[_ngcontent-%COMP%]   .available-box-btn[_ngcontent-%COMP%]{position:absolute;top:35%;color:var(--wh1);transform:translateY(-50%);width:48px;height:48px;z-index:1}@media screen and (max-width:800px){.available-content[_ngcontent-%COMP%]   .available-box-btn[_ngcontent-%COMP%]{width:30px;height:30px;padding:0}}.available-content[_ngcontent-%COMP%]   .available-box-btn[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:18px}@media screen and (max-width:991px){.available-content[_ngcontent-%COMP%]   .available-box-btn[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:12px}}.available-content[_ngcontent-%COMP%]   .available-box-btn.prev[_ngcontent-%COMP%]{left:-60px}@media screen and (max-width:800px){.available-content[_ngcontent-%COMP%]   .available-box-btn.prev[_ngcontent-%COMP%]{left:0}}.available-content[_ngcontent-%COMP%]   .available-box-btn.next[_ngcontent-%COMP%]{right:-60px}@media screen and (max-width:800px){.available-content[_ngcontent-%COMP%]   .available-box-btn.next[_ngcontent-%COMP%]{right:0}}.separator[_ngcontent-%COMP%]{border-bottom:1px solid var(--gr15)}@media screen and (max-width:991px){.separator[_ngcontent-%COMP%]{overflow:hidden;border:none}}@media screen and (max-width:991px){.small-title[_ngcontent-%COMP%]{font-size:14px!important;text-align:right}}"],data:{animation:[Zt.a.changeDay]}}),t})();const qt=function(){return{fit:"fill",width:280,height:135,format:"webp",quality:80}};let Jt=(()=>{class t{constructor(t,e,n){this.datalayerPromotions=t,this.el=e,this.document=n,this.viewed=!1}ngOnInit(){}get cta(){var t;return this.card?null===(t=this.card.callToAction)||void 0===t?void 0:t.fields:void 0}get image(){return this.card?this.card.image:void 0}sendPromotions(){this.datalayerPromotions.selectPromotion(this.card.title,this.card.description,this.card.image.fields.file.fileName,"home_products_grid","home_products_grid")}onWindowScroll(t){if(this.el.nativeElement.lastElementChild.getBoundingClientRect().top-this.document.documentElement.clientHeight<=0&&!this.viewed){this.viewed=!0;const t="home_products_grid";this.datalayerPromotions.viewPromotions(this.card.title,this.card.description,this.card.image.fields.file.fileName,t,t)}}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(P.a),a.Tb(a.n),a.Tb(i.e))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-product-card"]],hostBindings:function(t,e){1&t&&a.hc("scroll",(function(t){return e.onWindowScroll(t)}),!1,a.Gc)},inputs:{card:"card"},decls:15,vars:9,consts:[["ctaClass","d-block",3,"callToAction"],[1,"product-card","pc-container","viva-card","white",3,"click"],["loading","lazy",1,"card-img",3,"src","alt"],[1,"content"],[1,"d-flex","flex-column","justify-content-between","h-100"],[1,"title-container"],[1,"my-0","dark-site-font"],[1,"description"],[1,"card-divider"],[1,"fas","fa-arrow-right","cta-icon"]],template:function(t,e){1&t&&(a.Zb(0,"app-call-to-action",0),a.Zb(1,"div",1),a.hc("click",(function(){return e.sendPromotions()})),a.Ub(2,"img",2),a.kc(3,"cmsImage"),a.Zb(4,"div",3),a.Zb(5,"div",4),a.Zb(6,"div"),a.Zb(7,"div",5),a.Zb(8,"h4",6),a.Sc(9),a.Yb(),a.Yb(),a.Zb(10,"div",7),a.Sc(11),a.Yb(),a.Yb(),a.Zb(12,"div"),a.Ub(13,"hr",8),a.Ub(14,"i",9),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&t&&(a.sc("callToAction",e.cta),a.Hb(2),a.sc("src",a.mc(3,5,null==e.image?null:e.image.fields.file.url,a.uc(8,qt))||"",a.Kc)("alt",e.card.title),a.Hb(7),a.Uc(" ",e.card.title," "),a.Hb(2),a.Uc(" ",e.card.description," "))},directives:[M.a],pipes:[x.a],styles:["@-webkit-keyframes flash{0%{opacity:.4}to{opacity:1}}@keyframes flash{0%{opacity:.4}to{opacity:1}}.product-card.pc-container[_ngcontent-%COMP%]{width:100%;min-height:320px;margin-bottom:40px;overflow:hidden;display:block;text-decoration:none;transition:box-shadow .15s cubic-bezier(.445,.05,.55,.95)}.product-card.pc-container[_ngcontent-%COMP%]:hover{text-decoration:none;box-shadow:0 0 50px 0 hsla(0,0%,55.3%,.07),0 1px 5px 0 rgba(95,95,95,.07),0 1px 4px 0 rgba(0,0,0,.24)}.product-card.pc-container[_ngcontent-%COMP%]:hover   .cta-icon[_ngcontent-%COMP%]{color:var(--vg4)}.product-card.pc-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:1;-webkit-animation:flash 1.5s;animation:flash 1.5s}.product-card[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{display:block;width:100%;height:135px;-o-object-fit:cover;object-fit:cover}.product-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-top:1px solid var(--gr20);padding:15px 20px;height:185px}@media screen and (max-width:1024px) and (min-width:720px){.product-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:auto}}.product-card[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{display:grid;align-items:end;width:100%;min-height:48px}.product-card[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--bg4)}.product-card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{min-height:60px;color:var(--gr60)}@media screen and (max-width:1024px) and (min-width:720px){.product-card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{min-height:110px}}.product-card[_ngcontent-%COMP%]   .card-divider[_ngcontent-%COMP%]{border-color:var(--gr20)}.product-card[_ngcontent-%COMP%]   .cta-icon[_ngcontent-%COMP%]{font-size:16px;color:var(--bg4);text-align:right;display:block;transition:color .15s cubic-bezier(.445,.05,.55,.95)}"]}),t})();function te(t,e){1&t&&a.Vb(0)}function ee(t,e){1&t&&a.Vb(0)}function ne(t,e){1&t&&a.Vb(0)}function ie(t,e){if(1&t&&(a.Zb(0,"div",9),a.Ub(1,"app-product-card",10),a.Yb()),2&t){const t=e.$implicit;a.Hb(1),a.sc("card",t.fields)}}function oe(t,e){1&t&&a.Vb(0)}const ae=function(t){return{"dark-site-font":t}};function se(t,e){if(1&t&&(a.Zb(0,"h3",11),a.Sc(1),a.kc(2,"cmsTranslate"),a.Yb()),2&t){const t=a.jc();a.sc("ngClass",a.vc(4,ae,t.showDarksite)),a.Hb(1),a.Uc(" ",a.lc(2,2,"PRODUCTCARDS_OPTIONS_TITLE")," ")}}function ce(t,e){if(1&t&&(a.Zb(0,"app-call-to-action",13),a.Zb(1,"div",14),a.Zb(2,"span"),a.Sc(3),a.Yb(),a.Ub(4,"i",15),a.Yb(),a.Ub(5,"div",16),a.Yb()),2&t){const t=a.jc(2);a.sc("callToAction",t.callToAction)("ngClass",a.vc(4,ae,t.showDarksite)),a.Hb(1),a.sc("ngClass",a.vc(6,ae,t.showDarksite)),a.Hb(2),a.Tc(t.callToAction.text)}}function re(t,e){if(1&t&&a.Qc(0,ce,6,8,"app-call-to-action",12),2&t){const t=a.jc();a.sc("ngIf",t.callToAction)}}let le=(()=>{class t{constructor(t){this.csmConfig=t,this.productCards=[],this.showDarksite=!1,this.showDarksite=this.csmConfig.getSectionFeatureValue(p.b.GLOBAL,p.a.DarkSite),this.darksiteOptions=this.csmConfig._cmsConfig.globalSettings.darksite}ngOnInit(){var t,e,n;this.productCards=(null===(t=this.data)||void 0===t?void 0:t.items)||[],this.callToAction=null===(n=null===(e=this.data)||void 0===e?void 0:e.callToAction)||void 0===n?void 0:n.fields}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(O.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-products-cards"]],inputs:{data:"data"},decls:14,vars:5,consts:[[1,"container","product-cards","pc-container","px-md-20","px-sm-0","px-lg-10"],[1,"d-xl-none","title-section"],[4,"ngTemplateOutlet"],[1,"row","product-card-container"],[1,"col-lg-3","d-none","d-xl-block"],["class","col-lg-3 product-card",4,"ngFor","ngForOf"],[1,"d-xl-none","text-center"],["titleSection",""],["linkSection",""],[1,"col-lg-3","product-card"],[3,"card"],[1,"card-title",3,"ngClass"],["ctaClass","card-link viva-btn tertiary",3,"callToAction","ngClass",4,"ngIf"],["ctaClass","card-link viva-btn tertiary",3,"callToAction","ngClass"],[1,"content",3,"ngClass"],[1,"fas","fa-arrow-right"],[1,"line"]],template:function(t,e){if(1&t&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Qc(2,te,1,0,"ng-container",2),a.Yb(),a.Zb(3,"div",3),a.Zb(4,"div",4),a.Qc(5,ee,1,0,"ng-container",2),a.Qc(6,ne,1,0,"ng-container",2),a.Yb(),a.Qc(7,ie,2,1,"div",5),a.Yb(),a.Zb(8,"div",6),a.Qc(9,oe,1,0,"ng-container",2),a.Yb(),a.Yb(),a.Qc(10,se,3,6,"ng-template",null,7,a.Rc),a.Qc(12,re,1,1,"ng-template",null,8,a.Rc)),2&t){const t=a.Ec(11),n=a.Ec(13);a.Hb(2),a.sc("ngTemplateOutlet",t),a.Hb(3),a.sc("ngTemplateOutlet",t),a.Hb(1),a.sc("ngTemplateOutlet",n),a.Hb(1),a.sc("ngForOf",e.productCards),a.Hb(2),a.sc("ngTemplateOutlet",n)}},directives:[i.B,i.t,Jt,i.r,i.u,M.a],pipes:[T.a],styles:[".product-cards.pc-container[_ngcontent-%COMP%]{margin-top:80px;margin-bottom:50px}@media screen and (max-width:991px){.product-cards.pc-container[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important;max-width:100%;margin:0 0 20px}}.product-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{display:block;margin:0 0 35px;margin-left:0!important}@media screen and (max-width:991px){.product-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin:20px 0}}.product-cards[_ngcontent-%COMP%]   .card-link[_ngcontent-%COMP%]{display:inline-block!important}.product-cards[_ngcontent-%COMP%]   .card-link[_ngcontent-%COMP%]:hover   .line[_ngcontent-%COMP%]{background-color:var(--vg4)}.product-cards[_ngcontent-%COMP%]   .pc-icon[_ngcontent-%COMP%]{font-size:13px;margin-left:15px}@media screen and (max-width:720px){.product-cards[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]{padding-left:10px!important;padding-right:10px!important}.product-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{padding-left:20px!important}}@media screen and (max-width:991px){.product-cards.pc-container[_ngcontent-%COMP%]{padding-right:0;padding-left:0;font-size:16px}.product-cards.pc-container[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:22.4px;max-width:13em;padding-left:45px}.product-cards.pc-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;overflow-x:auto;margin-left:0;width:100%;position:relative;padding-left:35px;padding-right:35px}.product-cards.pc-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .col-lg-3[_ngcontent-%COMP%]:first-child{display:none}.product-cards.pc-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{max-width:287px;width:100%;flex:0 0 auto}}"]}),t})();var de=function(t){return t.SIMPLE="promo_simple",t.BADGE="promo_badge",t.PARTNER="promo_partner",t.VIDEO="video",t}({}),ge=function(t){return t.IMAGE="image",t.VIDEO="video",t}({}),be=n("R0Ic");const he=Object(be.f)([Object(be.l)({opacity:0}),Object(be.e)("300ms",Object(be.l)({opacity:1}))]),pe=Object(be.f)([Object(be.l)({opacity:1}),Object(be.e)("300ms",Object(be.l)({opacity:0}))]);function ue(t,e){1&t&&a.Vb(0)}function me(t,e){1&t&&a.Vb(0)}function fe(t,e){1&t&&a.Vb(0)}function ve(t,e){1&t&&a.Vb(0)}function Ce(t,e){if(1&t&&(a.Xb(0),a.Qc(1,ue,1,0,"ng-container",11),a.Qc(2,me,1,0,"ng-container",11),a.Zb(3,"div"),a.Qc(4,fe,1,0,"ng-container",11),a.Yb(),a.Qc(5,ve,1,0,"ng-container",11),a.Wb()),2&t){a.jc(2);const t=a.Ec(2),e=a.Ec(8),n=a.Ec(14),i=a.Ec(16);a.Hb(1),a.sc("ngTemplateOutlet",t),a.Hb(1),a.sc("ngTemplateOutlet",e),a.Hb(2),a.sc("ngTemplateOutlet",n),a.Hb(1),a.sc("ngTemplateOutlet",i)}}function Oe(t,e){1&t&&a.Vb(0)}function ye(t,e){1&t&&a.Vb(0)}function xe(t,e){1&t&&a.Vb(0)}function Pe(t,e){1&t&&a.Vb(0)}function ke(t,e){1&t&&a.Vb(0)}function Me(t,e){if(1&t&&(a.Xb(0),a.Qc(1,Oe,1,0,"ng-container",11),a.Qc(2,ye,1,0,"ng-container",11),a.Zb(3,"div",12),a.Qc(4,xe,1,0,"ng-container",11),a.Zb(5,"div"),a.Qc(6,Pe,1,0,"ng-container",11),a.Yb(),a.Yb(),a.Qc(7,ke,1,0,"ng-container",11),a.Wb()),2&t){a.jc(2);const t=a.Ec(4),e=a.Ec(8),n=a.Ec(10),i=a.Ec(14),o=a.Ec(16);a.Hb(1),a.sc("ngTemplateOutlet",t),a.Hb(1),a.sc("ngTemplateOutlet",e),a.Hb(2),a.sc("ngTemplateOutlet",n),a.Hb(2),a.sc("ngTemplateOutlet",i),a.Hb(1),a.sc("ngTemplateOutlet",o)}}function _e(t,e){1&t&&a.Vb(0)}function we(t,e){1&t&&a.Vb(0)}function Se(t,e){1&t&&a.Vb(0)}function Te(t,e){1&t&&a.Vb(0)}function De(t,e){if(1&t&&(a.Xb(0),a.Qc(1,_e,1,0,"ng-container",11),a.Qc(2,we,1,0,"ng-container",11),a.Zb(3,"div"),a.Qc(4,Se,1,0,"ng-container",11),a.Yb(),a.Qc(5,Te,1,0,"ng-container",11),a.Wb()),2&t){a.jc(2);const t=a.Ec(6),e=a.Ec(8),n=a.Ec(14),i=a.Ec(16);a.Hb(1),a.sc("ngTemplateOutlet",t),a.Hb(1),a.sc("ngTemplateOutlet",e),a.Hb(2),a.sc("ngTemplateOutlet",n),a.Hb(1),a.sc("ngTemplateOutlet",i)}}function Ie(t,e){1&t&&a.Vb(0)}function Ae(t,e){1&t&&a.Vb(0)}function Le(t,e){1&t&&a.Vb(0)}function He(t,e){1&t&&a.Vb(0)}function Ee(t,e){1&t&&a.Vb(0)}function Be(t,e){if(1&t&&(a.Xb(0),a.Qc(1,Ie,1,0,"ng-container",11),a.Qc(2,Ae,1,0,"ng-container",11),a.Qc(3,Le,1,0,"ng-container",11),a.Zb(4,"div"),a.Qc(5,He,1,0,"ng-container",11),a.Yb(),a.Qc(6,Ee,1,0,"ng-container",11),a.Wb()),2&t){a.jc(2);const t=a.Ec(2),e=a.Ec(8),n=a.Ec(12),i=a.Ec(14),o=a.Ec(16);a.Hb(1),a.sc("ngTemplateOutlet",t),a.Hb(1),a.sc("ngTemplateOutlet",e),a.Hb(1),a.sc("ngTemplateOutlet",n),a.Hb(2),a.sc("ngTemplateOutlet",i),a.Hb(1),a.sc("ngTemplateOutlet",o)}}function Ye(t,e){if(1&t&&(a.Xb(0),a.Xb(1,9),a.Qc(2,Ce,6,4,"ng-container",10),a.Qc(3,Me,8,5,"ng-container",10),a.Qc(4,De,6,4,"ng-container",10),a.Qc(5,Be,7,5,"ng-container",10),a.Wb(),a.Wb()),2&t){const t=a.jc();a.Hb(1),a.sc("ngSwitch",t.item.promoType),a.Hb(1),a.sc("ngSwitchCase",t.infoType.SIMPLE),a.Hb(1),a.sc("ngSwitchCase",t.infoType.BADGE),a.Hb(1),a.sc("ngSwitchCase",t.infoType.PARTNER),a.Hb(1),a.sc("ngSwitchCase",t.infoType.VIDEO)}}function je(t,e){if(1&t&&(a.Zb(0,"div",13),a.Sc(1),a.Yb()),2&t){const t=a.jc();a.Hb(1),a.Uc(" ",null==t.item?null:t.item.headerTag," ")}}function Ze(t,e){if(1&t&&(a.Zb(0,"div",14),a.Zb(1,"div",15),a.Ub(2,"i",16),a.Zb(3,"label"),a.Sc(4),a.Yb(),a.Yb(),a.Yb()),2&t){const t=a.jc();a.Hb(2),a.sc("ngClass","fas fa-"+(t.item.headerTagIcon||"bell")),a.Hb(2),a.Tc(t.item.headerTag)}}function Re(t,e){if(1&t&&a.Ub(0,"img",17),2&t){const t=a.jc();a.sc("src",null==t.item.headerTagImg?null:t.item.headerTagImg.fields.file.url,a.Kc)("alt",t.item.headerTag)}}function Fe(t,e){if(1&t&&(a.Zb(0,"div",18),a.Zb(1,"h3"),a.Sc(2),a.Yb(),a.Yb(),a.Zb(3,"span",19),a.Sc(4),a.Yb()),2&t){const t=a.jc();a.Hb(2),a.Tc(null==t.item?null:t.item.title),a.Hb(2),a.Tc(t.item.text)}}function Ue(t,e){if(1&t&&(a.Zb(0,"div",21),a.Zb(1,"span",22),a.Sc(2),a.kc(3,"cmsTranslate"),a.Yb(),a.Ub(4,"app-price",23),a.Yb()),2&t){const t=a.jc(2);a.Hb(2),a.Uc(" ",a.lc(3,7,"GLOBAL_LABEL_FROM")," "),a.Hb(2),a.sc("amount",t.price.amount)("originalAmount",t.price.originalAmount)("size","medium")("currencyCode",t.price.currencyCode)("unitContent",t.price.content)("useText","icon"!==t.price.contentType)}}function Ne(t,e){if(1&t&&a.Qc(0,Ue,5,9,"div",20),2&t){const t=a.jc();a.sc("ngIf",t.item.price)}}function Ve(t,e){if(1&t&&(a.Zb(0,"div",24),a.Zb(1,"div",25),a.Zb(2,"span",26),a.Sc(3),a.Yb(),a.Zb(4,"span",27),a.Sc(5,"Video Patrocinado"),a.Yb(),a.Yb(),a.Ub(6,"img",28),a.Yb()),2&t){const t=a.jc();a.Hb(3),a.Tc(t.item.sponsorName),a.Hb(3),a.sc("src",t.item.sponsorImage.fields.file.url,a.Kc)}}function Qe(t,e){if(1&t){const t=a.ac();a.Zb(0,"app-call-to-action",29),a.Zb(1,"div",30),a.hc("click",(function(){return a.Hc(t),a.jc().sendPromotions()})),a.Zb(2,"div",31),a.Zb(3,"span"),a.Sc(4),a.Yb(),a.Ub(5,"i",32),a.Yb(),a.Yb(),a.Yb()}if(2&t){const t=a.jc();a.sc("callToAction",t.callToAction),a.Hb(4),a.Tc(null==t.callToAction?null:t.callToAction.text)}}function Ge(t,e){if(1&t&&(a.Zb(0,"div",33),a.Sc(1),a.Yb()),2&t){const t=a.jc();a.Hb(1),a.Uc(" ",null==t.item?null:t.item.disclaimer," ")}}let ze=(()=>{class t{constructor(t,e,n){this.datalayerPromotions=t,this.el=e,this.document=n,this.infoType=de,this.viewed=!1}ngOnInit(){}get price(){var t;return null===(t=this.item.price)||void 0===t?void 0:t.fields}get callToAction(){var t;return null===(t=this.item.callToAction)||void 0===t?void 0:t.fields}sendPromotions(){this.datalayerPromotions.selectPromotion(this.item.mediaTitle,this.item.title,this.item.source.fields.file.fileName,"home_promo_main","home_promo_main")}onWindowScroll(t){if(this.el.nativeElement.parentElement.getBoundingClientRect().top-this.document.documentElement.clientHeight<=0&&!this.viewed){this.viewed=!0;const t="home_promo_main";this.datalayerPromotions.viewPromotions(this.item.mediaTitle,this.item.title,this.item.source.fields.file.fileName,t,t)}}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(P.a),a.Tb(a.n),a.Tb(i.e))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-promo-info"]],hostBindings:function(t,e){1&t&&a.hc("scroll",(function(t){return e.onWindowScroll(t)}),!1,a.Gc)},inputs:{item:"item"},decls:17,vars:1,consts:[[4,"ngIf"],["subtitleHeader",""],["badgeHeader",""],["imageHeader",""],["titleAndText",""],["promoPrice",""],["sponsorInfo",""],["cta",""],["disclaimer",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],[1,"detail-promo-container","mt-30","mt-lg-0"],[1,"subtitle","promo-header"],[1,"promo-badge"],[1,"viva-badge"],[1,"fas",3,"ngClass"],["loading","lazy",1,"partner-image",3,"src","alt"],[1,"promo-title"],[1,"promo-text"],["class","promo-price",4,"ngIf"],[1,"promo-price"],[1,"medium-title"],[3,"amount","originalAmount","size","currencyCode","unitContent","useText"],[1,"promo-sponsor"],[1,"subsection"],[1,"sponsor-name"],[1,"sponsor-description"],["loading","lazy",3,"src"],[3,"callToAction"],[1,"viva-btn","small","action-link",3,"click"],[1,"content"],[1,"fas","fa-arrow-right"],[1,"disclaimer"]],template:function(t,e){1&t&&(a.Qc(0,Ye,6,5,"ng-container",0),a.Qc(1,je,2,1,"ng-template",null,1,a.Rc),a.Qc(3,Ze,5,2,"ng-template",null,2,a.Rc),a.Qc(5,Re,1,2,"ng-template",null,3,a.Rc),a.Qc(7,Fe,5,2,"ng-template",null,4,a.Rc),a.Qc(9,Ne,1,1,"ng-template",null,5,a.Rc),a.Qc(11,Ve,7,2,"ng-template",null,6,a.Rc),a.Qc(13,Qe,6,2,"ng-template",null,7,a.Rc),a.Qc(15,Ge,2,1,"ng-template",null,8,a.Rc)),2&t&&a.sc("ngIf",e.item)},directives:[i.u,i.y,i.z,i.B,i.r,k.a,M.a],pipes:[T.a],styles:[".promo-header[_ngcontent-%COMP%]{position:static;padding-top:35px;font-size:16px;line-height:15px;letter-spacing:-.67px}.inner[_ngcontent-%COMP%]{margin:0;position:relative;height:100%}.promo-badge[_ngcontent-%COMP%]{padding-top:5px;margin-bottom:0}.partner-image[_ngcontent-%COMP%]{height:20px;width:auto;margin-bottom:23px}.promo-title[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:32px;line-height:35px;margin:22px 0}@media screen and (max-width:1240px){.promo-title[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:20px;line-height:1.2;margin:7px 0}}.promo-text[_ngcontent-%COMP%]{font-family:Lato,Arial;font-weight:500;font-size:16px;letter-spacing:0;line-height:21px}.promo-sponsor[_ngcontent-%COMP%]{position:absolute;right:0;top:calc(100% - 91px);display:flex;flex-direction:row;justify-content:flex-end;align-items:center}.promo-sponsor[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:10px;width:40px;height:auto}.promo-sponsor[_ngcontent-%COMP%]   .subsection[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;height:40px}.promo-sponsor[_ngcontent-%COMP%]   .subsection[_ngcontent-%COMP%]   .sponsor-name[_ngcontent-%COMP%]{font-family:Axiforma,Arial;font-size:16px;font-weight:700;line-height:15px;letter-spacing:-.67px}.promo-sponsor[_ngcontent-%COMP%]   .subsection[_ngcontent-%COMP%]   .sponsor-description[_ngcontent-%COMP%]{line-height:15px}.promo-price[_ngcontent-%COMP%]{position:absolute;right:0;top:calc(100% - 119px);display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-end}.promo-price[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-items:flex-end;align-items:center}.promo-price[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .price-number[_ngcontent-%COMP%]{font-family:Axiforma,Arial;font-size:24px;font-weight:700;line-height:24px;margin-right:2px}.action-link[_ngcontent-%COMP%]{cursor:pointer;position:absolute;left:0;top:calc(100% - 90px);padding:0;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;overflow:visible;height:37px}@media screen and (max-width:1240px){.action-link[_ngcontent-%COMP%]{-webkit-appearance:none}}.action-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.action-link[_ngcontent-%COMP%]:hover{text-decoration:none}.action-link[_ngcontent-%COMP%]:hover   *[_ngcontent-%COMP%]{color:var(--vg4)!important}.action-link[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{margin-left:16px;font-size:13px;color:var(--vg4)}@media screen and (max-width:1240px){.action-link[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{color:var(--wh1)}}.disclaimer[_ngcontent-%COMP%]{position:absolute;top:calc(100% - 40px);left:0;color:var(--wh1);font-family:Lato;font-weight:500;font-size:12px;letter-spacing:-.5px;line-height:15px}@media screen and (max-width:1240px){.promo-header[_ngcontent-%COMP%]{padding-top:0}.promo-sponsor[_ngcontent-%COMP%]{-webkit-appearance:none!important}.action-link[_ngcontent-%COMP%], .promo-price[_ngcontent-%COMP%], .promo-sponsor[_ngcontent-%COMP%]{position:relative}.action-link[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:auto;margin-top:1.875em}.detail-promo-container[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:space-between}.detail-promo-container[_ngcontent-%COMP%]   .promo-price[_ngcontent-%COMP%]{width:50%}.disclaimer[_ngcontent-%COMP%]{position:relative;margin-top:1.875em;opacity:.7}}"]}),t})();const Ke=function(t){return{"d-none":t}};function We(t,e){if(1&t&&(a.Xb(0),a.Ub(1,"app-promo-info",10),a.Wb()),2&t){const t=e.index,n=a.jc(2);a.Hb(1),a.sc("item",n.items[t].fields)("ngClass",a.vc(2,Ke,t!==n.activeItem))}}function $e(t,e){if(1&t&&(a.Zb(0,"div",6),a.Zb(1,"div",7),a.Zb(2,"div",8),a.Qc(3,We,2,4,"ng-container",9),a.Yb(),a.Yb(),a.Yb()),2&t){const t=a.jc();a.Hb(3),a.sc("ngForOf",t.items)}}const Xe=function(t){return{active:t}},qe=function(){return{fit:"fill",width:800,height:450,format:"webp",quality:80}},Je=function(t){return{"background-image":t}};function tn(t,e){if(1&t&&(a.Ub(0,"div",18),a.kc(1,"cmsImage")),2&t){const t=a.jc(),e=t.index,n=t.$implicit,i=a.jc(3);a.sc("@carouselAnimation",e===i.activeItem)("ngClass",a.vc(6,Xe,e===i.activeItem))("ngStyle",a.vc(9,Je,"url("+a.mc(1,3,n.fields.source.fields.file.url,a.uc(8,qe))+")"))}}function en(t,e){if(1&t){const t=a.ac();a.Zb(0,"video",19),a.hc("loadedmetadata",(function(e){a.Hc(t);const n=a.jc().index;return a.jc(3).getVideoLengthFromDuration(e,n)}))("@carouselAnimation.start",(function(e){return a.Hc(t),a.jc(4).videoAnimationStart(e)})),a.Ub(1,"source",20),a.Yb()}if(2&t){const t=a.jc(),e=t.index,n=t.$implicit,i=a.jc(3);a.sc("@carouselAnimation",e===i.activeItem)("muted",!0)("ngClass",a.vc(5,Xe,e===i.activeItem)),a.Hb(1),a.sc("src",n.fields.source.fields.file.url,a.Kc)("type",n.fields.source.fields.file.contentType)}}function nn(t,e){if(1&t&&(a.Xb(0),a.Qc(1,tn,2,11,"div",16),a.Qc(2,en,2,7,"video",17),a.Wb()),2&t){const t=e.$implicit,n=a.jc(3);a.Hb(1),a.sc("ngIf",n.itemIsImage(t)),a.Hb(1),a.sc("ngIf",n.itemIsVideo(t))}}function on(t,e){if(1&t&&(a.Xb(0),a.Qc(1,nn,3,2,"ng-container",9),a.Wb()),2&t){const t=a.jc(2);a.Hb(1),a.sc("ngForOf",t.items)}}function an(t,e){if(1&t&&(a.Zb(0,"video",21),a.Ub(1,"source",20),a.Yb()),2&t){const t=a.jc(2);a.Hb(1),a.sc("src",t.items[0].fields.source.fields.file.url,a.Kc)("type",t.items[0].fields.source.fields.file.contentType)}}function sn(t,e){1&t&&a.Ub(0,"div",22)}const cn=function(t){return{width:t}};function rn(t,e){if(1&t&&a.Ub(0,"div",30),2&t){const t=a.jc(4);a.sc("@carouselAnimation",void 0)("ngStyle",a.vc(2,cn,t.progress+"%"))}}function ln(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",25),a.hc("click",(function(){a.Hc(t);const n=e.index;return a.jc(3).changeToItem(n)})),a.Zb(1,"span",26),a.Sc(2),a.kc(3,"number"),a.Yb(),a.Zb(4,"div",27),a.Qc(5,rn,1,4,"div",28),a.Yb(),a.Zb(6,"span",29),a.Sc(7),a.Yb(),a.Yb()}if(2&t){const t=e.$implicit,n=e.index,i=a.jc(3);a.Hb(2),a.Tc(a.mc(3,3,n+1,"2.0-3")),a.Hb(3),a.sc("ngIf",i.activeItem===n),a.Hb(2),a.Tc(t.fields.mediaTitle)}}function dn(t,e){if(1&t&&(a.Zb(0,"div",23),a.Qc(1,ln,8,6,"div",24),a.Yb()),2&t){const t=a.jc(2);a.Hb(1),a.sc("ngForOf",t.items)}}function gn(t,e){if(1&t&&(a.Zb(0,"div",11),a.Qc(1,on,2,1,"ng-container",12),a.Qc(2,an,2,2,"video",13),a.Qc(3,sn,1,0,"div",14),a.Qc(4,dn,2,1,"div",15),a.Yb()),2&t){const t=a.jc();a.Hb(1),a.sc("ngIf",!t.isVideoPromo),a.Hb(1),a.sc("ngIf",t.isVideoPromo&&t.itemIsVideo(t.items[0])),a.Hb(1),a.sc("ngIf",!t.isVideoPromo),a.Hb(1),a.sc("ngIf",!t.isVideoPromo)}}const bn=function(t){return{"dark-site-typeB":t}};let hn=(()=>{class t{constructor(t,e){this.platformId=t,this.csmConfig=e,this.items=[],this.changeInterval=5e3,this.progressPerStep=2,this.isVideoPromo=!1,this.intervalSubscription=w.a.EMPTY,this.progress=0,this.activeItem=0,this.showDarksite=!1,this.showDarksite=this.csmConfig.getSectionFeatureValue(p.b.GLOBAL,p.a.DarkSite),this.darksiteOptions=this.csmConfig._cmsConfig.globalSettings.darksite}ngOnInit(){var t;this.items=(null===(t=this.data)||void 0===t?void 0:t.items)||[]}ngAfterViewInit(){this.doAfterDataFetch()}ngOnDestroy(){this.stopInterval()}changeToItem(t){this.activeItem!==t&&(this.activeItem=t,this.stopAuto(!0),this.progress=0)}changeProgress(){this.startInterval(this.changeInterval/(100/this.progressPerStep))}changeProgressVid(){this.startInterval(this.changeIntervalVid/(100/this.progressPerStep))}startInterval(t=1e3){Object(i.L)(this.platformId)&&(this.stopInterval(),this.intervalSubscription=Object(S.a)(t).subscribe(()=>this.onInterval()))}stopInterval(){this.intervalSubscription.closed||this.intervalSubscription.unsubscribe()}stopAuto(t=!1){this.isVideoPromo||this.itemIsVideo(this.items[this.activeItem])&&!t||this.stopInterval()}startAuto(){Object(i.L)(this.platformId)&&(this.isVideoPromo||this.itemIsVideo(this.items[this.activeItem])||(this.stopAuto(!0),this.changeProgress()))}onInterval(){if(this.progress+this.progressPerStep>=100+this.progressPerStep)return this.progress=0,this.changeToItem(this.activeItem+1>=this.items.length?0:this.activeItem+1),void(this.isVideoPromo||this.itemIsVideo(this.items[this.activeItem])||this.changeProgress());this.progress+=this.progressPerStep,this.isVideoPromo||this.itemIsVideo(this.items[this.activeItem])?this.changeProgressVid():this.changeProgress()}getVideoLengthFromDuration(t,e){e===this.activeItem?(this.changeIntervalVid=1e3*Math.floor(t.target.duration),this.changeProgressVid()):t.target.pause()}get _isVideoPromo(){return Array.isArray(this.items)&&1===this.items.length&&this.itemIsVideo(this.items[0])&&this.items[0].fields.promoType===de.VIDEO}doAfterDataFetch(){this.isVideoPromo=this._isVideoPromo,this.isVideoPromo||(this.changeIntervalVid=this.changeInterval,this.startAuto())}itemIsVideo(t){return!!t&&t.fields.source.fields.file.contentType.includes(ge.VIDEO)}itemIsImage(t){return!!t&&t.fields.source.fields.file.contentType.includes(ge.IMAGE)}videoAnimationStart(t){const e=t.element;"void"!==t.fromState&&e instanceof HTMLVideoElement&&e.readyState>1&&(!0===t.toState?e.load():e.pause())}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.G),a.Tb(O.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-promo-carrousel"]],inputs:{data:"data"},decls:6,vars:5,consts:[[1,"container","px-20","px-lg-10"],[1,"row"],[1,"col-12"],[1,"w-100","viva-card","shadow","contrast","promo-carousel","card-container",3,"ngClass","mouseenter","mouseleave"],["class","left-section",4,"ngIf"],["class","right-section",4,"ngIf"],[1,"left-section"],[1,"left-container"],[1,"left-inner"],[4,"ngFor","ngForOf"],[3,"item","ngClass"],[1,"right-section"],[4,"ngIf"],["controls","","class","video-background active",4,"ngIf"],["class","thumbnail-overlay",4,"ngIf"],["class","info-section",4,"ngIf"],["class","image-background",3,"ngClass","ngStyle",4,"ngIf"],["autoplay","","muted","","disablePictureInPicture","true","class","video-background",3,"muted","ngClass","loadedmetadata",4,"ngIf"],[1,"image-background",3,"ngClass","ngStyle"],["autoplay","","muted","","disablePictureInPicture","true",1,"video-background",3,"muted","ngClass","loadedmetadata"],[3,"src","type"],["controls","",1,"video-background","active"],[1,"thumbnail-overlay"],[1,"info-section"],["class","info-thumbnail",3,"click",4,"ngFor","ngForOf"],[1,"info-thumbnail",3,"click"],[1,"counter"],[1,"divider"],["class","timer-bar",3,"ngStyle",4,"ngIf"],[1,"thumb-description"],[1,"timer-bar",3,"ngStyle"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.hc("mouseenter",(function(){return e.stopAuto()}))("mouseleave",(function(){return e.startAuto()})),a.Qc(4,$e,4,1,"div",4),a.Qc(5,gn,5,4,"div",5),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&t&&(a.Hb(3),a.sc("ngClass",a.vc(3,bn,e.showDarksite&&"B"===(null==e.darksiteOptions?null:e.darksiteOptions.variant))),a.Hb(1),a.sc("ngIf",e.items),a.Hb(1),a.sc("ngIf",e.items))},directives:[i.r,i.u,i.t,ze,i.x],pipes:[x.a,i.g],styles:[".promo-carousel[_ngcontent-%COMP%]{font-size:16px}.promo-carousel.card-container[_ngcontent-%COMP%]{background-color:var(--bg4);display:flex;flex-direction:row;justify-content:flex-start;align-items:stretch;min-height:28.125em}.promo-carousel[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{flex:0 0 23.75em;width:23.75em}.promo-carousel[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{padding:2.5rem 2.5rem 1.25rem 2.5em;height:100%;min-height:320px}@media screen and (max-width:1240px){.promo-carousel[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{padding:20px;min-height:260px}}@media screen and (max-width:720px){.promo-carousel[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{min-height:300px}}.promo-carousel[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .left-inner[_ngcontent-%COMP%]{position:relative;margin:0;height:100%}.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{position:relative;background-color:var(--bl9);flex:0 0 50em;width:50em;overflow:hidden}.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .image-background[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;background-size:cover;background-position:50%}.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .video-background[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:50em;height:28.125em}.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .image-background[_ngcontent-%COMP%], .promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .video-background[_ngcontent-%COMP%]{pointer-events:none;opacity:0}.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .image-background.active[_ngcontent-%COMP%], .promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .video-background.active[_ngcontent-%COMP%]{opacity:1}.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .thumbnail-overlay[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;opacity:.65;transition:opacity .2s ease-in-out;width:100%;height:8.125em;background:linear-gradient(0deg,var(--bg6),rgba(var(--bg6-rgb),0))}.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{position:absolute;right:2.375em;bottom:1.875em;width:calc(100% - 4.75rem);display:flex;flex-direction:row;justify-content:flex-end;align-items:flex-start}.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-thumbnail[_ngcontent-%COMP%]{position:relative;margin-right:.5em;cursor:pointer;flex:1 1 0;max-width:11.25em;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start}.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-thumbnail[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none}.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-thumbnail[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{font-family:Axiforma,Arial;font-weight:700;font-size:12px;line-height:.9375em;letter-spacing:-.0313em;font-weight:500;color:var(--wh1)}.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-thumbnail[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{position:relative;margin-top:.625em;margin-bottom:.9375em;width:100%;height:.0625em;background-color:var(--wh1);background-color:rgba(var(--wh1-rgb),.5)}.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-thumbnail[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   .timer-bar[_ngcontent-%COMP%]{position:absolute;top:-.0625em;left:0;width:40%;height:.1875em;z-index:2;background-color:var(--vg4);border-radius:3px;transition:width .1s ease-in-out}.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-thumbnail[_ngcontent-%COMP%]   .thumb-description[_ngcontent-%COMP%]{font-family:Axiforma,Arial;font-weight:500;font-size:14px;line-height:.9375em;letter-spacing:-.0362em;color:var(--wh1)}@media screen and (max-width:1024px){.promo-carousel[_ngcontent-%COMP%]{font-size:14px}.promo-carousel[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-thumbnail[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px!important;margin-bottom:0!important}.promo-carousel[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-thumbnail[_ngcontent-%COMP%]   .thumb-description[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:1240px){.promo-carousel[_ngcontent-%COMP%]{font-size:12px;flex-wrap:wrap;flex-direction:column-reverse!important}.promo-carousel[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:100%;flex:unset;min-height:20em}.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{width:100%;flex:unset;height:400px;overflow:hidden}}@media screen and (max-width:1240px) and (max-width:720px){.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{height:180px}}@media screen and (max-width:1240px){.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{position:absolute;right:0;bottom:1.875em;width:100%;display:flex;align-items:flex-end}.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-thumbnail[_ngcontent-%COMP%]{position:relative;margin:0 .5em;cursor:pointer;flex:1 1 0;max-width:100%}}@media screen and (max-width:1240px){.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .image-background[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width:1240px){.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .video-background[_ngcontent-%COMP%]{width:100%;-o-object-fit:cover;object-fit:cover}}@media screen and (max-width:1240px){.promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .image-background[_ngcontent-%COMP%], .promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%], .promo-carousel[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .video-background[_ngcontent-%COMP%]{height:100%}}"],data:{animation:[Object(be.n)("carouselAnimation",[Object(be.m)("false => true",[Object(be.o)(he)]),Object(be.m)("true => false",[Object(be.o)(pe)])])]}}),t})();var pn=n("NwVu");function un(t,e){if(1&t&&(a.Zb(0,"div",6),a.Ub(1,"app-service-card",7),a.Yb()),2&t){const t=e.$implicit,n=a.jc();a.Hb(1),a.sc("service",t.fields)("showDarksite",n.showDarksite)("darksiteOptions",n.darksiteOptions)}}let mn=(()=>{class t{constructor(t){this.csmConfig=t,this.serviceCards=[],this.showDarksite=!1,this.showDarksite=this.csmConfig.getSectionFeatureValue(p.b.GLOBAL,p.a.DarkSite),this.darksiteOptions=this.csmConfig._cmsConfig.globalSettings.darksite}ngOnInit(){var t;this.serviceCards=(null===(t=this.data)||void 0===t?void 0:t.items)||[]}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(O.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-service-cards"]],inputs:{data:"data"},decls:8,vars:4,consts:[[1,"container","service-cards__container","px-md-20","px-sm-0","px-lg-10","carrusel"],[1,"row","mb-0","mr-0"],[1,"col-12"],[1,"service-cards__title"],[1,"row","mb-0","service-card-container"],["class","col-lg-3 service-card",4,"ngFor","ngForOf"],[1,"col-lg-3","service-card"],[3,"service","showDarksite","darksiteOptions"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"h3",3),a.Sc(4),a.kc(5,"cmsTranslate"),a.Yb(),a.Yb(),a.Yb(),a.Zb(6,"div",4),a.Qc(7,un,2,3,"div",5),a.Yb(),a.Yb()),2&t&&(a.Hb(4),a.Uc(" ",a.lc(5,2,"SERVICECARDS_OPTIONS_TITLE")," "),a.Hb(3),a.sc("ngForOf",e.serviceCards))},directives:[i.t,pn.a],pipes:[T.a],styles:[".service-cards__container[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:50px}@media screen and (max-width:991px){.service-cards__container[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important;margin:0;max-width:100%}}.service-cards__title[_ngcontent-%COMP%]{display:block;margin:0 0 40px}@media screen and (max-width:991px){.service-cards__title[_ngcontent-%COMP%]{margin:20px 0;font-size:22px;padding-left:45px}}@media screen and (max-width:720px){.service-cards__container[_ngcontent-%COMP%]   .service-card-container[_ngcontent-%COMP%]{padding-left:10px!important;padding-right:10px!important}.service-cards__title[_ngcontent-%COMP%]{padding-left:20px}}@media screen and (max-width:991px){.service-cards__container[_ngcontent-%COMP%]   .service-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;overflow-x:auto;margin-left:0;width:100%;position:relative;padding-left:35px;padding-right:35px}.service-cards__container[_ngcontent-%COMP%]   .service-card-container[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]{max-width:287px;width:100%;flex:0 0 auto}}"]}),t})();var fn=function(t){return t.Left="left",t.Start="start",t.Right="right",t.End="end",t.Center="center",t}({}),vn=function(t){return t.Top="top",t.Start="start",t.Bottom="bottom",t.End="end",t.Center="center",t}({}),Cn=function(t){return t.Simple="Simple",t.Bullets="Bullets",t.Partner="Partner",t.Cobrand="HSBC-Cobrand",t}({}),On=function(t){return t.NONE="none",t.FOCUS_DESTINATION="focusDestination",t}({});let yn=(()=>{class t{constructor(t,e){this.localeId=t,this.cookieSvc=e,this.modalCookiePrefix="vb-promo-modal_",this.reservedCookieNames=["cobrand-modal"]}filterPromoModals(t,e){if(Array.isArray(t)&&t.length>0){const n=t.filter(t=>this.hasValidModalSettings(null==t?void 0:t.settings,e));if(1===n.length)return n[0];if(n.length>1)return this.getModalByPriority(n)}}hasValidModalSettings(t,e){if(null==t?void 0:t.cookieValue){const{datePeriod:n,filters:i}=t.displayRules||{};return this.cookieValueOrRelatedCookieExists(t)&&this.isBetweenValidDateRange(n)&&this.isFilterValid(null==i?void 0:i.locales,this.localeId)&&this.isFilterValid(null==i?void 0:i.channels,e)}return!1}cookieValueOrRelatedCookieExists(t){const{cookieValue:e,relatedCookies:n}=t||{};return!!e&&![e,...n||[]].some(t=>this.cookieSvc.check(this.getCookieValue(t)))}isBetweenValidDateRange(t){const{startDate:e,endDate:n}=t||{};if(e&&n){const t=r(e),i=r(n),o=r();return t.isValid()&&i.isValid()&&o.isBetween(t,i,"millisecond","[]")}return!1}isFilterValid(t,e){return!Array.isArray(t)||0===t.length||Array.isArray(t)&&!!e&&t.includes(e)}getModalPriority(t){var e,n;const i=null===(n=null===(e=null==t?void 0:t.settings)||void 0===e?void 0:e.displayRules)||void 0===n?void 0:n.priority;return"number"==typeof i?i:0}compareModalPriorities(t,e){const n=this.getModalPriority(t),i=this.getModalPriority(e);return n>i?-1:n<i?1:0}getModalByPriority(t){if(Array.isArray(t)&&t.length>0){const e=[...t];e.sort(this.compareModalPriorities.bind(this));const n=this.getModalPriority(e[0]),i=e.filter(t=>this.getModalPriority(t)===n);if(i.length>1){const{length:t}=i;return i[Math.floor(Math.random()*t)]}return i[0]}}getCookieValue(t){return this.reservedCookieNames.includes(t)?t:`${this.modalCookiePrefix}${t}`}}return t.\u0275fac=function(e){return new(e||t)(a.dc(a.y),a.dc(C.a))},t.\u0275prov=a.Pb({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();var xn=n("imvL"),Pn=n("jtHE");let kn=(()=>{class t{constructor(t,e){this.document=t,this.platformId=e,this.cdnUrl="https://cdnjs.cloudflare.com/ajax/libs/tsparticles-confetti/2.12.0/tsparticles.confetti.bundle.min.js",this.$isReady=new Pn.a(1),Object(i.L)(this.platformId)?this.init():this.setNotReady()}init(){const t=this.document.createElement("script");t.type="text/javascript",t.src=this.cdnUrl,t.async=!0,t.defer=!0,t.onload=this.setReady.bind(this),t.onerror=this.setNotReady.bind(this),this.document.head.appendChild(t)}setReady(){this.$isReady.next(),this.$isReady.complete()}setNotReady(){this.$isReady.error("Confetti.js Script initialization error!!"),this.$isReady.complete()}get ready(){return this.$isReady.asObservable().toPromise()}get confetti(){return Object(i.L)(this.platformId)?(window||{}).confetti:void 0}}return t.\u0275fac=function(e){return new(e||t)(a.dc(i.e),a.dc(a.G))},t.\u0275prov=a.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Mn=n("JK/P"),_n=n("9YtQ"),wn=n("y4gz"),Sn=n("ckWZ"),Tn=n("5KMX");const Dn=["confetti"];function In(t,e){if(1&t){const t=a.ac();a.Zb(0,"button",17),a.hc("click",(function(){return a.Hc(t),a.jc().onClose()})),a.Ub(1,"em",18),a.Yb()}}const An=function(t,e){return{"background-image":t,transform:e}};function Ln(t,e){if(1&t&&(a.Zb(0,"div",19),a.Ub(1,"div",20),a.Yb()),2&t){const t=a.jc();a.sc("ngClass",null==t.imagePos?null:t.imagePos.positionClass)("ngStyle",null==t.imagePos?null:t.imagePos.customAbsolutePositioning),a.Hb(1),a.sc("ngStyle",a.wc(3,An,"url("+t.modalConfig.fgImage+")",null==t.imagePos?null:t.imagePos.customScaling))}}function Hn(t,e){if(1&t&&(a.Zb(0,"div",21),a.Ub(1,"div",22),a.kc(2,"dompurify"),a.Yb()),2&t){const t=a.jc();a.sc("ngClass",null==t.titlePos?null:t.titlePos.positionClass)("ngStyle",null==t.titlePos?null:t.titlePos.customAbsolutePositioning),a.Hb(1),a.sc("innerHTML",a.lc(2,3,t.modalData.headerTitle),a.Ic)}}function En(t,e){if(1&t&&a.Ub(0,"img",27),2&t){const t=a.jc(2);a.sc("src",t.decors[0],a.Kc)}}function Bn(t,e){if(1&t&&a.Ub(0,"img",28),2&t){const t=a.jc(2);a.sc("src",t.decors[1],a.Kc)}}function Yn(t,e){if(1&t&&a.Ub(0,"img",29),2&t){const t=a.jc(2);a.sc("src",t.decors[2],a.Kc)}}function jn(t,e){if(1&t&&a.Ub(0,"img",30),2&t){const t=a.jc(2);a.sc("src",t.decors[3],a.Kc)}}function Zn(t,e){if(1&t&&(a.Xb(0),a.Qc(1,En,1,1,"img",23),a.Qc(2,Bn,1,1,"img",24),a.Qc(3,Yn,1,1,"img",25),a.Qc(4,jn,1,1,"img",26),a.Wb()),2&t){const t=a.jc();a.Hb(1),a.sc("ngIf",t.decors[0]),a.Hb(1),a.sc("ngIf",t.decors[1]),a.Hb(1),a.sc("ngIf",t.decors[2]),a.Hb(1),a.sc("ngIf",t.decors[3])}}function Rn(t,e){if(1&t&&(a.Ub(0,"div",31),a.kc(1,"dompurify")),2&t){const t=a.jc();a.sc("innerHTML",a.lc(1,1,t.modalData.bodyTitle),a.Ic)}}function Fn(t,e){if(1&t&&(a.Ub(0,"div",32),a.kc(1,"dompurify")),2&t){const t=a.jc();a.sc("innerHTML",a.lc(1,1,t.modalData.content),a.Ic)}}function Un(t,e){1&t&&a.Vb(0)}const Nn=function(t){return{cta:t}};function Vn(t,e){if(1&t&&(a.Zb(0,"app-call-to-action",35),a.Qc(1,Un,1,0,"ng-container",36),a.Yb()),2&t){const t=a.jc().ngIf;a.jc();const e=a.Ec(18);a.sc("callToAction",t),a.Hb(1),a.sc("ngTemplateOutlet",e)("ngTemplateOutletContext",a.vc(3,Nn,t))}}function Qn(t,e){1&t&&a.Vb(0)}function Gn(t,e){if(1&t&&(a.Zb(0,"div"),a.Qc(1,Qn,1,0,"ng-container",36),a.Yb()),2&t){const t=a.jc().ngIf;a.jc();const e=a.Ec(18);a.Hb(1),a.sc("ngTemplateOutlet",e)("ngTemplateOutletContext",a.vc(2,Nn,t))}}function zn(t,e){if(1&t){const t=a.ac();a.Xb(0),a.Zb(1,"div",33),a.hc("click",(function(){return a.Hc(t),a.jc().onCtaClick()})),a.Qc(2,Vn,2,5,"app-call-to-action",34),a.Qc(3,Gn,2,4,"div",7),a.Yb(),a.Wb()}if(2&t){const t=e.ngIf,n=a.jc();a.Hb(2),a.sc("ngIf",n.ctaIsLink(t)),a.Hb(1),a.sc("ngIf",!n.ctaIsLink(t))}}function Kn(t,e){if(1&t){const t=a.ac();a.Zb(0,"button",37),a.hc("click",(function(){return a.Hc(t),a.jc().onClose()})),a.Zb(1,"div",38),a.Sc(2),a.Yb(),a.Ub(3,"div",39),a.Yb()}if(2&t){const t=a.jc();a.Hb(2),a.Tc(null==t.modalData?null:t.modalData.closeActionText)}}function Wn(t,e){if(1&t&&(a.Ub(0,"div",40),a.kc(1,"dompurify")),2&t){const t=a.jc();a.sc("innerHTML",a.lc(1,1,t.modalData.disclaimer),a.Ic)}}function $n(t,e){1&t&&a.Ub(0,"div",41,42)}const Xn=function(t){return{"background-color":t}},qn=function(t){return{"btn-hover-filter":t}};function Jn(t,e){if(1&t&&(a.Zb(0,"button",43),a.Zb(1,"span"),a.Sc(2),a.Yb(),a.Yb()),2&t){const t=e.cta,n=a.jc();a.sc("ngStyle",a.vc(3,Xn,null!=n.modalData&&n.modalData.callToActionColor?n.modalData.callToActionColor:null))("ngClass",a.vc(5,qn,null==n.modalData?null:n.modalData.callToActionColor)),a.Hb(2),a.Uc(" ",null==t?null:t.text," ")}}const ti=function(t,e){return{"background-color":t,"background-image":e}};let ei=(()=>{class t{constructor(t,e,n,i,o,a,s){this.document=t,this.injector=e,this.modalSvc=n,this.deviceService=i,this.cookieSvc=o,this.promoModalSvc=a,this.datalayerUxHomeService=s,this.id="vb-cobrand-modal",this.modalName="Modal Promocional",this.percentageRegex=/^(\d+(\.\d*)?)%$/}ngOnChanges(t){t.modalData&&(this.initData(),this.cookieDoesNotExist&&Object(Rt.a)(100).subscribe(()=>{this.openModal()}))}initData(){var t;const{decorations:e,foregroundImage:n,backgroundImage:i}=this.modalData||{};this.modalConfig={canDismiss:this._canDismiss,bgImage:this.getAssetUrl(i),fgImage:this.getAssetUrl(n),decorations:this.mapDecorations(e),cookieDismissalSettings:this.generateCookieDismissalSettings(this.settings),header:this.getTitleAndImagePositionSettings(null===(t=this.settings)||void 0===t?void 0:t.displaySettings)},this.modalName=this._modalName}openModal(){return Object(c.a)(this,void 0,void 0,(function*(){const{jsScript:t}=this.modalData||{};t&&this.confettiDiv&&(yield this.prepareConfetti())&&Object(Rt.a)(400).subscribe(()=>{this.appendScript(t)}),this.modalSvc.open(this.id)}))}close(){this.modalSvc.close(this.id)}onOpen(){var t,e,n;this.datalayerUxHomeService.viewPromoModal(null===(t=this.settings)||void 0===t?void 0:t.cookieValue,this.modalName,null===(n=null===(e=this.modalData.callToAction)||void 0===e?void 0:e.fields)||void 0===n?void 0:n.text)}onExternalClose(){this.setCookieExpiration("default")}onClose(){this.setCookieExpiration("close_button"),this.close()}setCookieExpiration(t){var e,n,i,o;if(this.cookieDoesNotExist){const a=this.getCookieExpirationValue("cta"===t?this.modalConfig.cookieDismissalSettings.onButtonClick:this.modalConfig.cookieDismissalSettings.onClose),s=this.promoModalSvc.getCookieValue(null===(e=this.settings)||void 0===e?void 0:e.cookieValue);this.cookieSvc.set(s,"true",{secure:"https:"===this.document.location.protocol,expires:Math.min(a,400),path:"/",sameSite:"Strict"}),this.datalayerUxHomeService.selectPromoModalOption(null===(n=this.settings)||void 0===n?void 0:n.cookieValue,this.modalName,null===(o=null===(i=this.modalData.callToAction)||void 0===i?void 0:i.fields)||void 0===o?void 0:o.text,t)}}onCtaClick(){this.setCookieExpiration("cta"),this.close(),this.doCtaClickAction()}get settings(){var t;return null===(t=this.modalData)||void 0===t?void 0:t.settings}get _canDismiss(){var t,e;const n=null===(e=null===(t=this.settings)||void 0===t?void 0:t.displaySettings)||void 0===e?void 0:e.canDismissOnClose;return"boolean"!=typeof n||n}prepareConfetti(){return Object(c.a)(this,void 0,void 0,(function*(){const t=this.injector.get(kn);if(!t)return!1;try{return yield t.ready,!0}catch(e){return g.g.production||console.error(e),!1}}))}appendScript(t){const e=this.document.createElement("script");e.text=`{${t}}`,this.confettiDiv.nativeElement.append(e)}doCtaClickAction(){var t,e;((null===(e=null===(t=this.settings)||void 0===t?void 0:t.displaySettings)||void 0===e?void 0:e.ctaClickAction)||On.NONE)===On.FOCUS_DESTINATION&&this.focusOnBookerDestinationField()}focusOnBookerDestinationField(){const t=this.document.getElementById("flight-search-destination");t&&Object(Rt.a)(400).subscribe(()=>{t.focus()})}mapDecorations(t){const e=[];return Array.isArray(t)&&t.filter(t=>!!(null==t?void 0:t.fields)).slice(0,4).forEach(t=>{var n;const{url:i}=(null===(n=null==t?void 0:t.fields)||void 0===n?void 0:n.file)||{};i&&e.push(i)}),e}getCookieExpirationValue(t){if(t){const{desktop:e,tablet:n,mobile:i}=t;return this.deviceService.isTablet()&&n>0?n:this.deviceService.isMobile()&&i>0?i:e||1}return 1}generateCookieDismissalSettings(t){var e;const{onClose:n,onButtonClick:i}=(null===(e=null==t?void 0:t.displaySettings)||void 0===e?void 0:e.dismissalTimeValues)||{};return{onClose:Object.assign(Object.assign({},ni.onClose),n),onButtonClick:Object.assign(Object.assign({},ni.onButtonClick),i)}}getAssetUrl(t){var e;const{url:n}=(null===(e=null==t?void 0:t.fields)||void 0===e?void 0:e.file)||{};return n}getTitleAndImagePositionSettings(t){if(t){const{headerTitleSettings:e,foregroundImageSettings:n}=t;return{title:this.getTitlePositionSettings(e),image:this.getImagePositionSetings(n)}}}getTitlePositionSettings(t){const{positioning:e,absolutePositioning:n}=t||{};return Object.assign({positionClass:n?"pn-custom":this.getTitleClass(e)},!!n&&{customAbsolutePositioning:n})}getImagePositionSetings(t){const{positioning:e,absolutePositioning:n,scaling:i}=t||{};return Object.assign(Object.assign({positionClass:n?"pn-custom":this.getImageClass(e,!0)},!!n&&{customAbsolutePositioning:n}),!!i&&{customScaling:this.getScalingSettingsString(i)})}getTitleClass(t){const{horizontal:e,vertical:n}=t||{};return`${this.getJustifyFlexClass(e)} ${this.getAlignmentFlexClass(n)}`}getImageClass(t,e=!1){const{horizontal:n,vertical:i}=t||{};return`${this.getJustifyFlexClass(n||fn.Right,e)} ${this.getAlignmentFlexClass(i,e)}`}getJustifyFlexClass(t,e=!1){let n="";switch(t){case fn.Center:return"justify-content-center";case fn.Right:case fn.End:return n=e?" pr-sm-30 pr-20":"","justify-content-end"+n;case fn.Left:case fn.Start:default:return n=e?" pl-sm-30 pl-20":"","justify-content-start"+n}}getAlignmentFlexClass(t,e=!1){let n="";switch(t){case vn.Bottom:case vn.End:return n=e?" pb-sm-30 pb-20":"","align-items-end"+n;case vn.Top:case vn.Start:return n=e?" pt-sm-30 pt-20":"","align-items-start"+n;case vn.Center:default:return"align-items-center"}}getScalingSettingsString(t){return`scale(${this.isValidScaleValue(t)?t:1})`}isValidScaleValue(t){return"number"==typeof t&&t>0||"string"==typeof t&&this.percentageRegex.test(t)}get cookieDoesNotExist(){const{cookieValue:t}=this.settings||{};return!!t&&!this.cookieSvc.check(this.promoModalSvc.getCookieValue(t))}get _modalName(){var t,e;return(null===(t=this.settings)||void 0===t?void 0:t.gtmCreativeName)||(null===(e=this.modalData)||void 0===e?void 0:e.id)||"Modal Promocional"}get decors(){var t;return null===(t=this.modalConfig)||void 0===t?void 0:t.decorations}get imagePos(){var t,e;return null===(e=null===(t=this.modalConfig)||void 0===t?void 0:t.header)||void 0===e?void 0:e.image}get titlePos(){var t,e;return null===(e=null===(t=this.modalConfig)||void 0===t?void 0:t.header)||void 0===e?void 0:e.title}isArray(t){return Array.isArray(t)}ctaIsLink(t){return!!(null==t?void 0:t.url)||!!(null==t?void 0:t.slug)}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(i.e),a.Tb(a.u),a.Tb(Mn.a),a.Tb(_n.a),a.Tb(C.a),a.Tb(yn),a.Tb(wn.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-promo-modal"]],viewQuery:function(t,e){var n;1&t&&a.Yc(Dn,!0),2&t&&a.Dc(n=a.ic())&&(e.confettiDiv=n.first)},inputs:{modalData:"modalData"},features:[a.Fb],decls:19,vars:17,consts:[[3,"id","responsiveFullHeight","dismissable","openEvent","closeEvent"],[1,"promo-modal","viva-card","white","border-0"],[1,"promo-modal-header","bg-image","light",3,"ngStyle"],["class","modal-close green",3,"click",4,"ngIf"],["class","header-fg-image position-node p-0",3,"ngClass","ngStyle",4,"ngIf"],["class","header-title h3 position-node",3,"ngClass","ngStyle",4,"ngIf"],[1,"promo-modal-content"],[4,"ngIf"],["class","content-title h4 mb-20",3,"innerHTML",4,"ngIf"],["class","content-body medium-title mb-20",3,"innerHTML",4,"ngIf"],[1,"d-flex","flex-column","align-items-center"],[1,"mb-10"],[1,"pb-10"],["class","viva-btn tertiary",3,"click",4,"ngIf"],["class","mt-10 smaller-text gray",3,"innerHTML",4,"ngIf"],["class","confetti",4,"ngIf"],["ctaButton",""],[1,"modal-close","green",3,"click"],[1,"fas","fa-times"],[1,"header-fg-image","position-node","p-0",3,"ngClass","ngStyle"],[1,"main-image",3,"ngStyle"],[1,"header-title","h3","position-node",3,"ngClass","ngStyle"],[3,"innerHTML"],["class","decoration-one",3,"src",4,"ngIf"],["class","decoration-two",3,"src",4,"ngIf"],["class","decoration-three",3,"src",4,"ngIf"],["class","decoration-four",3,"src",4,"ngIf"],[1,"decoration-one",3,"src"],[1,"decoration-two",3,"src"],[1,"decoration-three",3,"src"],[1,"decoration-four",3,"src"],[1,"content-title","h4","mb-20",3,"innerHTML"],[1,"content-body","medium-title","mb-20",3,"innerHTML"],[3,"click"],[3,"callToAction",4,"ngIf"],[3,"callToAction"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"viva-btn","tertiary",3,"click"],[1,"content","mx-20"],[1,"line"],[1,"mt-10","smaller-text","gray",3,"innerHTML"],[1,"confetti"],["confetti",""],["type","button",1,"viva-btn","primary","btn-280",3,"ngStyle","ngClass"]],template:function(t,e){1&t&&(a.Zb(0,"app-modal",0),a.hc("openEvent",(function(){return e.onOpen()}))("closeEvent",(function(){return e.onExternalClose()})),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Qc(3,In,2,0,"button",3),a.Qc(4,Ln,2,6,"div",4),a.Qc(5,Hn,3,5,"div",5),a.Yb(),a.Zb(6,"div",6),a.Qc(7,Zn,5,4,"ng-container",7),a.Qc(8,Rn,2,3,"div",8),a.Qc(9,Fn,2,3,"div",9),a.Zb(10,"div",10),a.Zb(11,"div",11),a.Qc(12,zn,4,2,"ng-container",7),a.Yb(),a.Zb(13,"div",12),a.Qc(14,Kn,4,1,"button",13),a.Yb(),a.Qc(15,Wn,2,3,"div",14),a.Yb(),a.Yb(),a.Yb(),a.Qc(16,$n,2,0,"div",15),a.Yb(),a.Qc(17,Jn,3,7,"ng-template",null,16,a.Rc)),2&t&&(a.sc("id",e.id)("responsiveFullHeight",!1)("dismissable",e.modalConfig.canDismiss),a.Hb(2),a.sc("ngStyle",a.wc(14,ti,null!=e.modalData&&e.modalData.backgroundColor?e.modalData.backgroundColor:null,null!=e.modalConfig&&e.modalConfig.bgImage?"url("+e.modalConfig.bgImage+")":null)),a.Hb(1),a.sc("ngIf",e.modalConfig.canDismiss),a.Hb(1),a.sc("ngIf",null==e.modalConfig?null:e.modalConfig.fgImage),a.Hb(1),a.sc("ngIf",null==e.modalData?null:e.modalData.headerTitle),a.Hb(2),a.sc("ngIf",e.isArray(e.decors)),a.Hb(1),a.sc("ngIf",null==e.modalData?null:e.modalData.bodyTitle),a.Hb(1),a.sc("ngIf",null==e.modalData?null:e.modalData.content),a.Hb(3),a.sc("ngIf",null==e.modalData||null==e.modalData.callToAction?null:e.modalData.callToAction.fields),a.Hb(2),a.sc("ngIf",null==e.modalData?null:e.modalData.closeActionText),a.Hb(1),a.sc("ngIf",null==e.modalData?null:e.modalData.disclaimer),a.Hb(1),a.sc("ngIf",null==e.modalData?null:e.modalData.jsScript))},directives:[Sn.a,i.x,i.u,i.r,M.a,i.B],pipes:[Tn.c],styles:[".position-node[_ngcontent-%COMP%]{position:absolute}.position-node[_ngcontent-%COMP%]:not(.pn-custom){pointer-events:none;width:100%;height:100%;display:flex;align-items:center}.promo-modal[_ngcontent-%COMP%]{width:600px}.promo-modal-header[_ngcontent-%COMP%]{position:relative;background-color:var(--bg2);height:224px}@media screen and (max-width:679px){.promo-modal-header[_ngcontent-%COMP%]{height:209px}}@media screen and (max-width:575px){.promo-modal-header[_ngcontent-%COMP%]{height:135px}}.promo-modal-header.bg-image[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat}.promo-modal-header[_ngcontent-%COMP%] > .modal-close[_ngcontent-%COMP%]{right:10px;top:10px;opacity:.6;z-index:1;transition-property:all}.promo-modal-header[_ngcontent-%COMP%] > .modal-close[_ngcontent-%COMP%]:hover{opacity:1}.promo-modal-header[_ngcontent-%COMP%] > .header-fg-image[_ngcontent-%COMP%] > .main-image[_ngcontent-%COMP%]{pointer-events:all;width:200px;height:200px;background-size:contain;background-position:50%;background-repeat:no-repeat}.promo-modal-header[_ngcontent-%COMP%] > .header-title.position-node[_ngcontent-%COMP%]:not(.pn-custom){padding:20px}.promo-modal-header[_ngcontent-%COMP%] > .header-title[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}.promo-modal-content[_ngcontent-%COMP%]{padding:20px;position:relative}.promo-modal-content[_ngcontent-%COMP%]   [class^=decoration-][_ngcontent-%COMP%]{position:absolute;pointer-events:none;aspect-ratio:1/1;z-index:0}.promo-modal-content[_ngcontent-%COMP%]   .decoration-one[_ngcontent-%COMP%]{width:47px;top:17px;left:31px}@media screen and (max-width:575px){.promo-modal-content[_ngcontent-%COMP%]   .decoration-one[_ngcontent-%COMP%]{height:23px;top:7px;left:10px}}.promo-modal-content[_ngcontent-%COMP%]   .decoration-two[_ngcontent-%COMP%]{width:23px;top:80px;right:35px}@media screen and (max-width:575px){.promo-modal-content[_ngcontent-%COMP%]   .decoration-two[_ngcontent-%COMP%]{width:20px;top:61px;right:22px}}.promo-modal-content[_ngcontent-%COMP%]   .decoration-three[_ngcontent-%COMP%]{width:45px;right:25px;bottom:17px}@media screen and (max-width:575px){.promo-modal-content[_ngcontent-%COMP%]   .decoration-three[_ngcontent-%COMP%]{width:28px;bottom:20px;right:10px}}.promo-modal-content[_ngcontent-%COMP%]   .decoration-four[_ngcontent-%COMP%]{width:30px;bottom:30px;left:30px}@media screen and (max-width:575px){.promo-modal-content[_ngcontent-%COMP%]   .decoration-four[_ngcontent-%COMP%]{width:18px;bottom:25px;left:14px}}.promo-modal-content[_ngcontent-%COMP%] > .content-body[_ngcontent-%COMP%], .promo-modal-content[_ngcontent-%COMP%] > .content-title[_ngcontent-%COMP%]{position:relative;z-index:1}@media screen and (max-width:679px){.promo-modal[_ngcontent-%COMP%]{width:560px}}@media screen and (max-width:575px){.promo-modal[_ngcontent-%COMP%]{width:346px}.promo-modal-header[_ngcontent-%COMP%] > .header-title.position-node[_ngcontent-%COMP%]:not(.pn-custom){padding:12px}.promo-modal-header[_ngcontent-%COMP%] > .header-title.h3[_ngcontent-%COMP%]{font-size:16px;line-height:20px}.promo-modal-header[_ngcontent-%COMP%] > .modal-close[_ngcontent-%COMP%]{width:24px;height:24px;right:5px;top:5px;aspect-ratio:1/1;max-width:24px;padding:0}.promo-modal-header[_ngcontent-%COMP%] > .modal-close[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]{font-size:10px}.promo-modal-header[_ngcontent-%COMP%] > .header-fg-image[_ngcontent-%COMP%] > .main-image[_ngcontent-%COMP%]{width:120px;height:120px}.promo-modal-content[_ngcontent-%COMP%]   .content-title.h4[_ngcontent-%COMP%]{font-size:14px;line-height:1.21}.promo-modal-content[_ngcontent-%COMP%]   .content-body.medium-title[_ngcontent-%COMP%]{font-size:10px;font-weight:500;line-height:14px}}.list-container[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.viva-ul-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{color:var(--lg2);font-weight:700}.viva-ul-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:not(:last-child){margin-bottom:10px}.btn-hover-filter[_ngcontent-%COMP%]{transition:-webkit-filter .2 ease-in-out;transition:filter .2 ease-in-out;transition:filter .2 ease-in-out,-webkit-filter .2 ease-in-out}.btn-hover-filter[_ngcontent-%COMP%]:hover{-webkit-filter:brightness(1.25);filter:brightness(1.25)}"]}),t})();const ni={onClose:{desktop:1},onButtonClick:{desktop:400}};var ii=n("FTgq"),oi=n("CJ36"),ai=n("/QWi"),si=n("4nN9"),ci=n("D731");function ri(t,e){1&t&&a.Ub(0,"img",19),2&t&&a.sc("src",e.ngIf,a.Kc)}function li(t,e){1&t&&a.Ub(0,"img",20),2&t&&a.sc("src",e.ngIf,a.Kc)}function di(t,e){1&t&&a.Ub(0,"img",21),2&t&&a.sc("src",e.ngIf,a.Kc)}function gi(t,e){1&t&&a.Ub(0,"img",22),2&t&&a.sc("src",e.ngIf,a.Kc)}function bi(t,e){1&t&&a.Ub(0,"img",23),2&t&&a.sc("src",e.ngIf,a.Kc)}function hi(t,e){if(1&t){const t=a.ac();a.Zb(0,"app-call-to-action",24),a.hc("click",(function(){return a.Hc(t),a.jc(2).onCTAClick()})),a.Zb(1,"button",25),a.Zb(2,"span"),a.Sc(3),a.Yb(),a.Yb(),a.Yb()}if(2&t){const t=e.ngIf;a.sc("callToAction",t)("ctaClass","mb-3"),a.Hb(3),a.Uc(" ",null==t?null:t.text," ")}}function pi(t,e){if(1&t){const t=a.ac();a.Zb(0,"app-modal",1),a.hc("closeEvent",(function(){return a.Hc(t),a.jc().setCookieExpiration(!1,!0)})),a.Zb(1,"div",2),a.Zb(2,"div",3),a.Zb(3,"div",4),a.Sc(4),a.kc(5,"cmsTranslate"),a.Yb(),a.Zb(6,"button",5),a.hc("click",(function(){return a.Hc(t),a.jc().close()})),a.Ub(7,"em",6),a.Yb(),a.Qc(8,ri,1,1,"img",7),a.Yb(),a.Zb(9,"div",8),a.Qc(10,li,1,1,"img",9),a.Qc(11,di,1,1,"img",10),a.Qc(12,gi,1,1,"img",11),a.Qc(13,bi,1,1,"img",12),a.Ub(14,"div",13),a.kc(15,"cmsTranslateHtml"),a.Zb(16,"div",14),a.Zb(17,"ul",15),a.Zb(18,"li"),a.Sc(19),a.kc(20,"cmsTranslate"),a.Yb(),a.Zb(21,"li"),a.Sc(22),a.kc(23,"cmsTranslate"),a.Yb(),a.Zb(24,"li"),a.Sc(25),a.kc(26,"cmsTranslate"),a.Yb(),a.Zb(27,"li"),a.Sc(28),a.kc(29,"cmsTranslate"),a.Yb(),a.Yb(),a.Yb(),a.Zb(30,"div",16),a.Qc(31,hi,4,3,"app-call-to-action",17),a.kc(32,"cmsStaticCtas"),a.Ub(33,"div",18),a.kc(34,"cmsTranslateRichText"),a.Yb(),a.Yb(),a.Yb(),a.Yb()}if(2&t){const t=a.jc();a.sc("id",t.id)("noFullHeight",!0),a.Hb(4),a.Uc(" ",a.lc(5,15,"BOOKER_LABEL_HSBC-CARDS")," "),a.Hb(4),a.sc("ngIf",t.modalImages.get("BANNER-COBRAND-PLANE")),a.Hb(2),a.sc("ngIf",t.modalImages.get("BANNER-COBRAND-DOT-BLUE")),a.Hb(1),a.sc("ngIf",t.modalImages.get("BANNER-COBRAND-DOT-PINK")),a.Hb(1),a.sc("ngIf",t.modalImages.get("BANNER-COBRAND-DOT-PURPLE")),a.Hb(1),a.sc("ngIf",t.modalImages.get("BANNER-COBRAND-DOT-YELLOW")),a.Hb(1),a.sc("innerHTML",a.lc(15,17,"BOOKER_LABEL_HSBC-POPUP-TITLE"),a.Ic),a.Hb(5),a.Uc(" ",a.lc(20,19,"BOOKER_LABEL_HSBC-POPUP-INFO1")," "),a.Hb(3),a.Uc(" ",a.lc(23,21,"BOOKER_LABEL_HSBC-POPUP-INFO2")," "),a.Hb(3),a.Uc(" ",a.lc(26,23,"BOOKER_LABEL_HSBC-POPUP-INFO3")," "),a.Hb(3),a.Uc(" ",a.lc(29,25,"BOOKER_LABEL_HSBC-POPUP-INFO4")," "),a.Hb(3),a.sc("ngIf",a.lc(32,27,"BOOKER_ACTION_HSBC-POPUP-CTA")),a.Hb(2),a.sc("innerHTML",a.lc(34,29,"BOOKER_LABEL_HSBC-POPUP-DISCLAIMER"),a.Ic)}}let ui=(()=>{class t{constructor(t,e,n,i,o,a,s){this.modalSvc=t,this.cobrandModalSvc=e,this.cookiesSvc=n,this.cmsConfig=i,this.deviceService=o,this.datalayerUxHomeService=a,this.locale=s,this.id="cobrand-modal",this.displayModal=!1,this.cookieExpiration=1,this.closeByButton=!1}ngOnInit(){this.initFlags(),this.displayModal?(this.loadImages(),Object(Rt.a)(0).subscribe(()=>{this.modalSvc.open(this.id),this.datalayerUxHomeService.viewCobrandModal()})):this.cobrandModalSvc.emitCloseModal()}close(){this.closeByButton=!0,this.modalSvc.close(this.id)}setCookieExpiration(t=!1,e=!1){if(!this.cookiesSvc.check("cobrand-modal")){let n=400;t||(n=this.cookieExpiration,e&&!this.closeByButton?this.datalayerUxHomeService.closeCobrandModal():this.datalayerUxHomeService.selectCobrandPromotion()),this.cookiesSvc.set("cobrand-modal","hidden",{expires:n,path:"/"}),this.cobrandModalSvc.emitCloseModal()}}onCTAClick(){this.datalayerUxHomeService.selectCobrandPromotion(!0),this.setCookieExpiration(!0),this.close()}loadImages(){this.modalImages=new Map,this.cobrandModalSvc.modalImages.subscribe(t=>{t.filter(t=>{var e,n,i;return!!(null===(e=null==t?void 0:t.fields)||void 0===e?void 0:e.title)&&!!(null===(i=null===(n=null==t?void 0:t.fields)||void 0===n?void 0:n.file)||void 0===i?void 0:i.url)}).forEach(t=>this.modalImages.set(t.fields.title,t.fields.file.url))})}initFlags(){let t=!1,e=1;const{displayModalOnDesktop:n,desktopCookieExpiration:i,displayModalOnTablet:o,tabletCookieExpiration:a,displayModalOnMobile:s,mobileCookieExpiration:c}=this.cmsConfig._cmsConfig.globalSettings.cobrandModalOfHomePage||{};this.deviceService.isDesktop()&&(t=!!n,e=i||1),this.deviceService.isTablet()&&(t=!!o,e=a||3),this.deviceService.isMobile()&&(t=!!s,e=c||3),this.displayModal="es-MX"===this.locale.getAppLocale()&&t&&!this.cookiesSvc.check("cobrand-modal"),this.cookieExpiration=e}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(Mn.a),a.Tb(ii.a),a.Tb(C.a),a.Tb(O.a),a.Tb(_n.a),a.Tb(wn.a),a.Tb(oi.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-cobrand-modal"]],decls:1,vars:1,consts:[[3,"id","noFullHeight","closeEvent",4,"ngIf"],[3,"id","noFullHeight","closeEvent"],[1,"cobrand-modal"],[1,"cobrand-modal-header"],[1,"h3"],[1,"modal-close","green",3,"click"],[1,"fas","fa-times"],["class","main-image",3,"src",4,"ngIf"],[1,"modal-content"],["class","dot-blue",3,"src",4,"ngIf"],["class","dot-pink",3,"src",4,"ngIf"],["class","dot-purple",3,"src",4,"ngIf"],["class","dot-yellow",3,"src",4,"ngIf"],[1,"h4","mb-3","rt-paragraph-m-0","cobrand-modal-title",3,"innerHTML"],[1,"mx-auto","mb-4","list-container"],[1,"viva-ul-list","medium-title","darker"],[1,"d-flex","flex-column","align-items-center"],[3,"callToAction","ctaClass","click",4,"ngIf"],[1,"small-text","gray","rt-paragraph-m-0",3,"innerHTML"],[1,"main-image",3,"src"],[1,"dot-blue",3,"src"],[1,"dot-pink",3,"src"],[1,"dot-purple",3,"src"],[1,"dot-yellow",3,"src"],[3,"callToAction","ctaClass","click"],["type","button",1,"viva-btn","cobrand-cta"]],template:function(t,e){1&t&&a.Qc(0,pi,35,31,"app-modal",0),2&t&&a.sc("ngIf",e.displayModal)},directives:[i.u,Sn.a,M.a],pipes:[T.a,ai.a,si.a,ci.a],styles:[".cobrand-modal[_ngcontent-%COMP%]{width:600px;border-radius:5px;position:relative;box-sizing:border-box;box-shadow:0 0 50px 0 hsla(0,0%,55.3%,.07),0 1px 5px 0 rgba(95,95,95,.07);background-color:var(--wh1);overflow:hidden}@media screen and (max-width:575px){.cobrand-modal[_ngcontent-%COMP%]{width:346px;position:fixed;transform:translateY(-50%)}}.cobrand-modal-header[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,red,#af001a);height:250px;padding:30px;display:flex;align-items:center;position:relative}.cobrand-modal-header[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{color:var(--wh1)}.cobrand-modal-header[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{position:absolute;pointer-events:none;height:200px;right:30px;bottom:-15px}@media screen and (max-width:575px){.cobrand-modal-header[_ngcontent-%COMP%]{height:142px;padding:15px}.cobrand-modal-header[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{height:115px;right:10px}.cobrand-modal-header[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:18px}.cobrand-modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{width:24px;height:24px;right:5px;top:5px;aspect-ratio:1/1;max-width:24px;padding:0}.cobrand-modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]{font-size:10px}}.cobrand-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:30px;position:relative}.cobrand-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{max-width:347px;display:block;margin:auto;text-align:center}@media screen and (max-width:575px){.cobrand-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:14px;line-height:1.21}}.cobrand-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .viva-btn.cobrand-cta[_ngcontent-%COMP%]{min-width:280px;background-color:#d00}.cobrand-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .viva-btn.cobrand-cta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--wh1)}.cobrand-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   [class^=dot-][_ngcontent-%COMP%]{position:absolute;pointer-events:none;aspect-ratio:1/1}.cobrand-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .dot-pink[_ngcontent-%COMP%]{width:47px;top:17px;left:31px}@media screen and (max-width:575px){.cobrand-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .dot-pink[_ngcontent-%COMP%]{height:23px;top:7px;left:10px}}.cobrand-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .dot-blue[_ngcontent-%COMP%]{width:23px;top:80px;right:35px}@media screen and (max-width:575px){.cobrand-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .dot-blue[_ngcontent-%COMP%]{width:20px;top:61px;right:22px}}.cobrand-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .dot-purple[_ngcontent-%COMP%]{width:45px;right:25px;bottom:17px}@media screen and (max-width:575px){.cobrand-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .dot-purple[_ngcontent-%COMP%]{width:28px;bottom:20px;right:10px}}.cobrand-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .dot-yellow[_ngcontent-%COMP%]{width:30px;bottom:30px;left:30px}@media screen and (max-width:575px){.cobrand-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .dot-yellow[_ngcontent-%COMP%]{width:18px;bottom:25px;left:14px}}.list-container[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.viva-ul-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{color:var(--lg2);font-weight:700}.viva-ul-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:not(:last-child){margin-bottom:10px}"]}),t})();function mi(t,e){if(1&t&&a.Ub(0,"app-promo-modal",2),2&t){const t=a.jc(2);a.sc("modalData",t.selectedModal)}}function fi(t,e){1&t&&a.Ub(0,"app-cobrand-modal")}function vi(t,e){if(1&t&&(a.Xb(0),a.Qc(1,mi,1,1,"app-promo-modal",1),a.Qc(2,fi,1,0,"app-cobrand-modal",0),a.Wb()),2&t){const t=a.jc();a.Hb(1),a.sc("ngIf",t.selectedModal.type!==t.modalType.Cobrand),a.Hb(1),a.sc("ngIf",t.selectedModal.type===t.modalType.Cobrand)}}const Ci={[s.c.carousel]:hn,[s.c["product-cards"]]:le,[s.c["service-cards"]]:mn,[s.c["low-fare-widget"]]:jt.a,[s.c["dynamic-banners"]]:Yt,[s.c["homepage-payments"]]:Xt,[s.c["promotional-modals"]]:(()=>{class t{constructor(t,e){this.promoModalSvc=t,this.authSvc=e,this.modalType=Cn}ngOnInit(){this.initData()}getAccountType(){return Object(c.a)(this,void 0,void 0,(function*(){return yield this.authSvc.onSyncDonePromise,this.authSvc.authenticatedAccountType}))}selectModal(){return Object(c.a)(this,void 0,void 0,(function*(){if(this.data){const t=this.data.items;if(Array.isArray(t)&&t.length>0){const e=t.map(t=>t.fields),n=yield this.getAccountType();return this.promoModalSvc.filterPromoModals(e,n)}}}))}initData(){this.selectModal().then(t=>{this.selectedModal=t}).catch(t=>{g.g.production||console.error("::PromoModalContainerComponent::",t)})}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(yn),a.Tb(xn.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-promo-modal-container"]],inputs:{data:"data"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"modalData",4,"ngIf"],[3,"modalData"]],template:function(t,e){1&t&&a.Qc(0,vi,3,2,"ng-container",0),2&t&&a.sc("ngIf",e.selectedModal)},directives:[i.u,ei,ui],styles:[""]}),t})()};var Oi=n("uHNT"),yi=n("FonL"),xi=n("deb4"),Pi=n("ngAm"),ki=n("m7F9"),Mi=n("ddoJ"),_i=n("iyif"),wi=n("1hx3"),Si=n("KTnf"),Ti=n("tpaT"),Di=n("Gj4D"),Ii=n("RbsG"),Ai=n("h2JM"),Li=n("FTCy"),Hi=n("uQub"),Ei=n("kWhM"),Bi=n("/XB6"),Yi=n("8KPo"),ji=n("iWk1"),Zi=n("wYrS"),Ri=n("HeRI"),Fi=n("Mxju"),Ui=n("3Pt+"),Ni=n("mGSR"),Vi=n("39vh"),Qi=n("WUzH"),Gi=n("iWCh");function zi(t,e){1&t&&(a.Zb(0,"span"),a.Sc(1),a.kc(2,"cmsTranslate"),a.Yb()),2&t&&(a.Hb(1),a.Tc(a.lc(2,1,"BOOKER_TOOLTIP_DOTERS-SEARCH")))}const Ki=function(t){return{actived:t}};let Wi=(()=>{class t{constructor(t,e,n,i,o){var s;this.auth=t,this.modalSvc=e,this.dotersService=n,this.operatingCarrierSrv=i,this.cmsConfig=o,this.selectedJourneys=[],this.isDisabled=!1,this.isLoggedIn=!1,this.dotersToggle=!1,this.activeDotersAction=!1,this.toggleValue=new a.p,this.authDataSub=w.a.EMPTY,this.dotersToogleSub=w.a.EMPTY,this.cmsAutoToogleSelection=!1,this.cmsAutoToogleSelectionPoints=0,this.cmsAutoToogleSelection=this.cmsConfig.getBookingFeatureValue(p.a.DotersAutoToogleSelection)||!1,this.cmsAutoToogleSelectionPoints=(null===(s=this.cmsConfig._cmsConfig.bookingSettings)||void 0===s?void 0:s.dotersAutoToogleSelectionPoints)||0}ngOnInit(){this.authDataSub=this.auth.userAccountData$.subscribe(t=>{var e;if(this.isLoggedIn=this.auth.isLoggedIn,t&&(null==t?void 0:t.accountType)===Ii.k.Agency||(null==t?void 0:t.accountType)===Ii.k.Enterprise||(null==t?void 0:t.accountType)===Ii.k.Staff)this.isDisabled=!0,this.dotersToggle=!1,this.toggleValue.emit(this.dotersToggle);else if(this.isDisabled=!1,this.cmsAutoToogleSelection&&(null==t?void 0:t.funds)){const n=null===(e=null==t?void 0:t.funds)||void 0===e?void 0:e.find(t=>"Doters"===(null==t?void 0:t.type));(null==n?void 0:n.totalAmount)>=this.cmsAutoToogleSelectionPoints&&this.dotersService.dotersToogle(!0)}}),this.dotersToogleSub=this.dotersService.dotersToogleActive$.subscribe(t=>{this.activeDotersAction=t,this.dotersToggle=this.activeDotersAction,this.toggleValue.emit(this.dotersToggle)})}ngOnChanges(){}ngOnDestroy(){this.authDataSub.closed||this.authDataSub.unsubscribe(),this.dotersToogleSub.closed||this.dotersToogleSub.unsubscribe()}onVivaFanToggleChange(t){const e=this.operatingCarrierSrv.routesHaveExternalOperator(this.selectedJourneys);e?(this.altProviderData=this.operatingCarrierSrv.getCarrierDataByCode(e),Object(Rt.a)(0).subscribe(()=>{this.dotersToggle=!1,this.toggleValue.emit(this.dotersToggle),this.modalSvc.open("unavailable-benefits-modal")})):this.toggleValue.emit(t)}openDotersModal(){this.modalSvc.open("doters-release-modal")}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(xn.a),a.Tb(Mn.a),a.Tb(ji.a),a.Tb(Ni.a),a.Tb(O.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-doters-toggle"]],inputs:{selectedJourneys:"selectedJourneys"},outputs:{toggleValue:"toggleValue"},features:[a.Fb],decls:14,vars:12,consts:[[1,"d-flex","flex-row","justify-content-between","align-items-center"],[1,"d-flex","flex-row","justify-content-between","align-items-center","light","doters-badge","mt-20","mt-md-0",3,"ngClass"],[1,"medium-title","mr-10","d-block"],[1,"toggle-container","doters-toggle","no-label","light"],["type","checkbox","id","doters-toggle","name","doters-toggle",3,"disabled","ngModel","ngModelChange"],[1,"toggle"],[1,"ml-5","h4","help-icon","d-inlin","cursor-pointer",3,"click"],[1,"far","fa-question-circle",3,"tippy","placement"],["dotersTooltip",""],[3,"altProviderData","isDoters"]],template:function(t,e){if(1&t&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"span",2),a.Sc(3),a.kc(4,"cmsTranslate"),a.Yb(),a.Zb(5,"label",3),a.Zb(6,"input",4),a.hc("ngModelChange",(function(t){return e.dotersToggle=t}))("ngModelChange",(function(t){return e.onVivaFanToggleChange(t)})),a.Yb(),a.Ub(7,"span",5),a.Yb(),a.Yb(),a.Zb(8,"div",6),a.hc("click",(function(){return e.openDotersModal()})),a.Ub(9,"i",7),a.Yb(),a.Yb(),a.Qc(10,zi,3,3,"ng-template",null,8,a.Rc),a.Ub(12,"app-doters-release-modal"),a.Ub(13,"app-unavailable-benefits-modal",9)),2&t){const t=a.Ec(11);a.Hb(1),a.sc("ngClass",a.vc(10,Ki,e.dotersToggle)),a.Hb(2),a.Uc(" ",a.lc(4,8,"BOOKER_LABEL_DOTERS-SEARCH")," "),a.Hb(3),a.sc("disabled",e.isDisabled)("ngModel",e.dotersToggle),a.Hb(3),a.sc("tippy",t)("placement","top"),a.Hb(4),a.sc("altProviderData",e.altProviderData)("isDoters",!0)}},directives:[i.r,Ui.b,Ui.u,Ui.x,Vi.a,Qi.a,Gi.a],pipes:[T.a],styles:[".doters-badge[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;padding:0 15px;height:40px;background-color:var(--b-l);border-radius:20px}@media screen and (max-width:991px){.doters-badge[_ngcontent-%COMP%]{width:100%}.doters-badge[_ngcontent-%COMP%]   .medium-title[_ngcontent-%COMP%]{font-size:16px}}.doters-badge.actived[_ngcontent-%COMP%]{outline:2px solid var(--lb-l)}.help-icon[_ngcontent-%COMP%]{cursor:help;color:var(--wh1)}"]}),t})();function $i(t,e){1&t&&a.Vb(0)}function Xi(t,e){if(1&t&&(a.Zb(0,"div",11),a.Qc(1,$i,1,0,"ng-container",12),a.Yb()),2&t){a.jc();const t=a.Ec(4);a.Hb(1),a.sc("ngTemplateOutlet",t)}}function qi(t,e){1&t&&a.Vb(0)}function Ji(t,e){if(1&t&&(a.Zb(0,"div",11),a.Qc(1,qi,1,0,"ng-container",12),a.Yb()),2&t){a.jc();const t=a.Ec(6);a.Hb(1),a.sc("ngTemplateOutlet",t)}}function to(t,e){1&t&&a.Vb(0)}function eo(t,e){1&t&&a.Vb(0)}function no(t,e){1&t&&a.Vb(0)}function io(t,e){1&t&&a.Vb(0)}function oo(t,e){if(1&t&&(a.Qc(0,to,1,0,"ng-container",12),a.Zb(1,"div",13),a.Zb(2,"div",14),a.Qc(3,eo,1,0,"ng-container",12),a.Qc(4,no,1,0,"ng-container",12),a.Zb(5,"div",15),a.Qc(6,io,1,0,"ng-container",12),a.Yb(),a.Yb(),a.Yb()),2&t){const t=a.jc(),e=a.Ec(12),n=a.Ec(8),i=a.Ec(14),o=a.Ec(18);a.sc("ngTemplateOutlet",e),a.Hb(1),a.sc("@fadeOut",t.selectorAnimation),a.Hb(1),a.sc("@fadeIn",void 0),a.Hb(1),a.sc("ngTemplateOutlet",n),a.Hb(1),a.sc("ngTemplateOutlet",i),a.Hb(2),a.sc("ngTemplateOutlet",o)}}function ao(t,e){1&t&&a.Vb(0)}function so(t,e){1&t&&a.Vb(0)}function co(t,e){1&t&&a.Vb(0)}function ro(t,e){1&t&&a.Vb(0)}const lo=function(){return{passengers:!0}},go=function(){return{showAlways:!0}};function bo(t,e){if(1&t&&(a.Qc(0,ao,1,0,"ng-container",16),a.Zb(1,"div",13),a.Zb(2,"div",14),a.Qc(3,so,1,0,"ng-container",12),a.Qc(4,co,1,0,"ng-container",16),a.Zb(5,"div",17),a.Qc(6,ro,1,0,"ng-container",12),a.Yb(),a.Yb(),a.Yb()),2&t){const t=a.jc(),e=a.Ec(12),n=a.Ec(10),i=a.Ec(14),o=a.Ec(18);a.sc("ngTemplateOutlet",e)("ngTemplateOutletContext",a.uc(8,lo)),a.Hb(1),a.sc("@fadeOut",t.selectorAnimation),a.Hb(1),a.sc("@fadeIn",void 0),a.Hb(1),a.sc("ngTemplateOutlet",n),a.Hb(1),a.sc("ngTemplateOutlet",i)("ngTemplateOutletContext",a.uc(9,go)),a.Hb(2),a.sc("ngTemplateOutlet",o)}}function ho(t,e){if(1&t){const t=a.ac();a.Zb(0,"app-booker-calendar",26),a.hc("selectedDatesChange",(function(e){return a.Hc(t),a.jc(2).selectedDates(e)})),a.Yb()}if(2&t){const t=a.jc(2);a.sc("isLoading",t.isCalendarLoading[0])("isRoundTrip",t.isRoundTrip)("departureBookingDates",t.bookingDays[0])("returnBookingDates",t.returnBookingDays[0])("selectedDates",t.savedSelectedDates[0])("forceMaxDate",t.forceMaxDate)}}function po(t,e){if(1&t){const t=a.ac();a.Zb(0,"app-booker-calendar-responsive",27),a.hc("selectedDatesChange",(function(e){return a.Hc(t),a.jc(2).selectedDates(e)})),a.Yb()}if(2&t){const t=a.jc(2);a.sc("isLoading",t.isCalendarLoading[0])("isRoundTrip",t.isRoundTrip)("departureBookingDates",t.bookingDays[0])("returnBookingDates",t.returnBookingDays[0])("forceMaxDate",t.forceMaxDate)("selectedDates",t.savedSelectedDates[0])}}function uo(t,e){1&t&&a.Vb(0)}const mo=function(t){return{"d-none":t}};function fo(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",18),a.Zb(1,"app-flight-input",19),a.hc("selectedStationsChanged",(function(e){return a.Hc(t),a.jc().setJourneyStations(e)}))("savedSearchSelected",(function(e){return a.Hc(t),a.jc().setSavedSearch(e)}))("searchTerms",(function(e){return a.Hc(t),a.jc().setSearchTerms(e)})),a.Yb(),a.Yb(),a.Zb(2,"div",20),a.Qc(3,ho,1,6,"app-booker-calendar",21),a.Qc(4,po,1,6,"app-booker-calendar-responsive",22),a.Yb(),a.Zb(5,"div",23),a.Ub(6,"app-flight-passengers",24),a.Yb(),a.Zb(7,"div",25),a.Qc(8,uo,1,0,"ng-container",12),a.Yb()}if(2&t){const t=a.jc(),e=a.Ec(18);a.Hb(1),a.sc("allowSetParamsFromUrl",!0)("customInputIds",t.flightInputIds)("selectedStations",t.savedSelectedStations[0])("forceMaxDate",t.forceMaxDate)("flightType",t.bookerForm.tripType)("includeMaacStations",t.includeMaacStations),a.Hb(1),a.sc("ngClass",a.vc(13,mo,!t.isExpandedForm)),a.Hb(1),a.sc("ngIf",!t.deviceService.isMobile()||t.forceDesktopView),a.Hb(1),a.sc("ngIf",t.deviceService.isMobile()&&!t.forceDesktopView),a.Hb(1),a.sc("ngClass",a.vc(15,mo,!t.isExpandedForm)),a.Hb(1),a.sc("passengers",t.bookerForm.passengers)("disableMinorTravelingAlone",t.disableMinorTravelingAlone),a.Hb(2),a.sc("ngTemplateOutlet",e)}}function vo(t,e){if(1&t){const t=a.ac();a.Zb(0,"app-booker-calendar",36),a.hc("selectedDatesChange",(function(e){a.Hc(t);const n=a.jc().index;return a.jc(2).selectedDates(e,n)}))("isOpened",(function(e){a.Hc(t);const n=a.jc().index;return a.jc(2).setCalendarState(e,n)})),a.Yb()}if(2&t){const t=a.jc().index,e=a.jc(2);a.sc("isLoading",e.isCalendarLoading[t])("departureBookingDates",e.multiCityDates[t])("selectedDates",e.savedSelectedDates[t])("isRoundTrip",!1)("displayCalendar",e.displayCalendar[t])("showToLeft",!0)("forceMaxDate",e.forceMaxDate)}}function Co(t,e){if(1&t){const t=a.ac();a.Zb(0,"app-booker-calendar-responsive",37),a.hc("selectedDatesChange",(function(e){a.Hc(t);const n=a.jc().index;return a.jc(2).selectedDates(e,n)})),a.Yb()}if(2&t){const t=a.jc().index,e=a.jc(2);a.sc("isLoading",e.isCalendarLoading[t])("departureBookingDates",e.multiCityDates[t])("selectedDates",e.savedSelectedDates[t])("isRoundTrip",!1)("forceMaxDate",e.forceMaxDate)}}const Oo=function(t){return{regex:"%%flight counter%%",newValue:t}},yo=function(t){return[t]};function xo(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",29),a.Zb(1,"p",30),a.Sc(2),a.kc(3,"cmsRegexReplace"),a.kc(4,"cmsTranslate"),a.Yb(),a.Zb(5,"div",14),a.Zb(6,"div",31),a.Zb(7,"app-flight-input",32),a.hc("selectedStationsChanged",(function(n){a.Hc(t);const i=e.index;return a.jc(2).setJourneyStations(n,i)}))("savedSearchSelected",(function(n){a.Hc(t);const i=e.index;return a.jc(2).setSavedSearch(n,i)})),a.Yb(),a.Yb(),a.Zb(8,"div",33),a.Qc(9,vo,1,7,"app-booker-calendar",34),a.Qc(10,Co,1,5,"app-booker-calendar-responsive",35),a.Yb(),a.Yb(),a.Yb()}if(2&t){const t=e.index,n=a.jc(2);a.Hb(2),a.Uc(" ",a.mc(3,10,a.lc(4,13,"BOOKER_LABEL_FLIGHT-COUNT"),a.vc(17,yo,a.vc(15,Oo,(t+1).toString())))," "),a.Hb(5),a.sc("customInputIds",n.setMultiCityInputIds(t))("showLastFlightSearch",0===t)("forceMaxDate",n.forceMaxDate)("selectedStations",n.savedSelectedStations[t])("prevJourney",t>0?n.bookerForm.journeys[t-1]:void 0)("flightType",n.bookerForm.tripType)("includeMaacStations",n.includeMaacStations),a.Hb(2),a.sc("ngIf",!n.deviceService.isMobile()||n.forceDesktopView),a.Hb(1),a.sc("ngIf",n.deviceService.isMobile()&&!n.forceDesktopView)}}const Po=function(){return[]};function ko(t,e){if(1&t&&(a.Zb(0,"div",13),a.Qc(1,xo,11,19,"div",28),a.Yb()),2&t){const t=a.jc();a.Hb(1),a.sc("ngForOf",a.uc(1,Po).constructor(t.bookerForm.journeys.length))}}function Mo(t,e){if(1&t&&(a.Zb(0,"div",43),a.Ub(1,"app-flight-passengers",44),a.Yb()),2&t){const t=a.jc(2);a.sc("@fadeIn",void 0)("@fadeOut",t.selectorAnimation),a.Hb(1),a.sc("simpleStyle",!0)("rightPositionDesktop",!0)("rightPositionResponsive",!0)("passengers",t.bookerForm.passengers)}}function _o(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",45),a.Zb(1,"label",46),a.Sc(2),a.kc(3,"cmsTranslate"),a.Zb(4,"input",47),a.hc("ngModelChange",(function(e){return a.Hc(t),a.jc(2).showCalendarView=e}))("click",(function(){a.Hc(t);const e=a.jc(2);return e.datalayerUxHome.selectCalendarView(e.showCalendarView)})),a.Yb(),a.Ub(5,"span",48),a.Yb(),a.Yb()}if(2&t){const t=a.jc(2);a.sc("ngClass",a.vc(5,mo,!t.isExpandedForm)),a.Hb(2),a.Uc(" ",a.lc(3,3,"BOOKER_CHECKBOX_CALENDARVIEW")," "),a.Hb(2),a.sc("ngModel",t.showCalendarView)}}function wo(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",38),a.Zb(1,"div",14),a.Zb(2,"div",39),a.Zb(3,"app-flight-select",40),a.hc("selectedFlightType",(function(e){return a.Hc(t),a.jc().setTripType(e)})),a.Yb(),a.Yb(),a.Qc(4,Mo,2,6,"div",41),a.Qc(5,_o,6,7,"div",42),a.Yb(),a.Yb()}if(2&t){const t=e.passengers,n=a.jc();a.Hb(3),a.sc("radioStyle",!0)("flightType",n.bookerForm.tripType),a.Hb(1),a.sc("ngIf",t),a.Hb(1),a.sc("ngIf",n.showCalendarButton)}}function So(t,e){1&t&&a.Vb(0)}function To(t,e){if(1&t){const t=a.ac();a.Zb(0,"app-doters-toggle",55),a.hc("toggleValue",(function(e){return a.Hc(t),a.jc(3).setToggleValue(e)})),a.Yb()}if(2&t){const t=a.jc(3);a.sc("selectedJourneys",null==t.bookerForm?null:t.bookerForm.journeys)}}const Do=function(t){return{"pt-0 pt-lg-20":t}};function Io(t,e){if(1&t&&(a.Zb(0,"div",52),a.Zb(1,"div",53),a.Qc(2,So,1,0,"ng-container",12),a.Yb(),a.Qc(3,To,1,1,"app-doters-toggle",54),a.Yb()),2&t){const t=a.jc().showAlways,e=a.jc(),n=a.Ec(16);a.sc("ngClass",a.vc(3,Do,t)),a.Hb(2),a.sc("ngTemplateOutlet",n),a.Hb(1),a.sc("ngIf",e.cmsDoters&&(!e.userData||e.userData&&e.dotersAff))}}function Ao(t,e){1&t&&a.Vb(0)}function Lo(t,e){if(1&t&&(a.Zb(0,"div",60),a.Qc(1,Ao,1,0,"ng-container",12),a.Yb()),2&t){a.jc(3);const t=a.Ec(16);a.Hb(1),a.sc("ngTemplateOutlet",t)}}function Ho(t,e){1&t&&a.Vb(0)}function Eo(t,e){if(1&t&&(a.Zb(0,"div",66),a.Qc(1,Ho,1,0,"ng-container",12),a.Yb()),2&t){a.jc(3);const t=a.Ec(16);a.Hb(1),a.sc("ngTemplateOutlet",t)}}const Bo=function(t){return{multi:t}};function Yo(t,e){if(1&t){const t=a.ac();a.Xb(0),a.Zb(1,"div",56),a.Zb(2,"div",57),a.Ub(3,"em",58),a.Yb(),a.Zb(4,"div",59),a.Zb(5,"div"),a.Zb(6,"span",60),a.Sc(7),a.kc(8,"cmsTranslate"),a.Zb(9,"strong"),a.Sc(10),a.kc(11,"cmsTranslate"),a.Yb(),a.Yb(),a.Zb(12,"strong",61),a.Sc(13),a.kc(14,"cmsTranslate"),a.Yb(),a.Yb(),a.Qc(15,Lo,2,1,"div",62),a.Yb(),a.Zb(16,"div",63),a.hc("click",(function(){return a.Hc(t),a.jc(2).onlogout()})),a.Zb(17,"span",64),a.Sc(18),a.kc(19,"cmsTranslate"),a.Yb(),a.Yb(),a.Yb(),a.Qc(20,Eo,2,1,"div",65),a.Wb()}if(2&t){const t=a.jc().showAlways,e=a.jc();a.Hb(1),a.sc("ngClass",a.vc(15,Bo,t)),a.Hb(6),a.Uc(" ",a.lc(8,7,"BOOKER_LABEL_ACCOUNT-TYPE")," "),a.Hb(3),a.Tc(a.lc(11,9,e.specialAccountLabel)),a.Hb(3),a.Uc(" ",a.lc(14,11,e.specialAccountLabel)," "),a.Hb(2),a.sc("ngIf",t||e.isExpandedForm),a.Hb(3),a.Uc(" ",a.lc(19,13,"GLOBAL_ACTION_LOGOUT")," "),a.Hb(2),a.sc("ngIf",t||e.isExpandedForm)}}const jo=function(t,e){return{"d-none":t,"mt-md-10":e}};function Zo(t,e){if(1&t&&(a.Zb(0,"div",49),a.Qc(1,Io,4,5,"div",50),a.Qc(2,Yo,21,17,"ng-container",51),a.Yb()),2&t){const t=e.showAlways,n=a.jc();a.sc("ngClass",a.wc(3,jo,!t&&!n.isExpandedForm&&!n.specialAccountLabel,!n.specialAccountLabel)),a.Hb(1),a.sc("ngIf",!n.specialAccountLabel),a.Hb(1),a.sc("ngIf",n.specialAccountLabel)}}function Ro(t,e){if(1&t){const t=a.ac();a.Zb(0,"button",69),a.hc("click",(function(){return a.Hc(t),a.jc(2).openCouponModal()})),a.Sc(1),a.kc(2,"cmsTranslate"),a.Ub(3,"i",70),a.Yb()}2&t&&(a.Hb(1),a.Uc(" ",a.lc(2,1,"BOOKER_ACTION_ENTERPROMOCODE")," "))}function Fo(t,e){if(1&t){const t=a.ac();a.Zb(0,"button",71),a.hc("click",(function(){return a.Hc(t),a.jc(2).openCouponModal()})),a.Sc(1),a.kc(2,"cmsTranslate"),a.Zb(3,"span",72),a.Sc(4),a.Yb(),a.Ub(5,"i",73),a.Yb()}if(2&t){const t=a.jc(2);a.Hb(1),a.Uc(" ",a.lc(2,2,"GLOBAL_LABEL_PROMOCODE-ADDED")," "),a.Hb(3),a.Tc(t.bookerForm.promoCode)}}function Uo(t,e){if(1&t&&(a.Qc(0,Ro,4,3,"button",67),a.Qc(1,Fo,6,4,"ng-template",null,68,a.Rc)),2&t){const t=a.Ec(2),e=a.jc();a.sc("ngIf",!e.bookerForm.promoCode)("ngIfElse",t)}}function No(t,e){if(1&t){const t=a.ac();a.Zb(0,"button",74),a.hc("click",(function(e){return a.Hc(t),a.jc().submitSearch(e)})),a.Zb(1,"span"),a.Sc(2),a.kc(3,"cmsTranslate"),a.Yb(),a.Yb()}if(2&t){const t=a.jc();a.sc("disabled",t.isACalendarLoading),a.Hb(2),a.Tc(a.lc(3,2,"GLOBAL_ACTION_SEARCH"))}}let Vo=(()=>{class t{constructor(t,e,n,i,o,s,c,l,d,g,b,h,u,m,f,v,C){this.couponService=t,this.flightBookUtilsSvc=e,this.stationSearchHistory=n,this.availabilitySvc=i,this.router=o,this.localeService=s,this.datalayerHome=c,this.document=l,this.cmsConfig=d,this.deviceService=g,this.datalayerUxHome=b,this.cdRef=h,this.auth=u,this.dotersService=m,this.modalSvc=f,this.platformId=v,this.route=C,this.forceDesktopView=!1,this.showCalendarView=!1,this.bookerForm=new Si.a,this.savedSelectedStations=[void 0],this.savedSelectedDates=[void 0],this.isExpandedForm=!1,this.selectedTripType=new a.p,this.expandedFormActive=new a.p,this.displayCalendar=[!1],this.flightTypeId=dt.a,this.multiCityDates=[[{date:r(),availableDirectFlights:!1}]],this.bookingDays=[[{date:r(),availableDirectFlights:!1}]],this.returnBookingDays=[[{date:r(),availableDirectFlights:!1}]],this.isCalendarLoading=[!1],this.flightInputIds={origin:"flight-search-origin",destination:"flight-search-destination"},this.showCalendarButton=!1,this.colombiaRedirect=!1,this.isDotersActive=!1,this.cmsDoters=!1,this.cmsCubaModal=!1,this.isStaff=!1,this.onAccountSubscription=w.a.EMPTY,this.routerEventsSub=w.a.EMPTY,this.includeMaacStations=!1,this.selectorAnimation=!0,this.disableMinorTravelingAlone=!1,this.inputSearchTerms={origin:null,destination:null},r.locale(this.localeService.getAppLocale()),this.showCalendarButton=this.cmsConfig.getBookingFeatureValue(p.a.LowFareCalendar),this.colombiaRedirect=this.cmsConfig.getSectionFeatureValue(p.b.GLOBAL,p.a.RedirectColombiaSearch),this.cmsDoters=this.cmsConfig.getSectionFeatureValue(p.b.GLOBAL,p.a.Doters),this.cmsCubaModal=this.cmsConfig.getSectionFeatureValue(p.b.GLOBAL,p.a.CubaModal),this.staffBookingWindow=this.cmsConfig._cmsConfig.bookingSettings.staffBookingWindow||25,this.includeMaacStations=this.cmsConfig.getBookingFeatureValue(p.a.IncludeMaacStationsInSearch)||!1}ngOnInit(){this.checkAccountType(),this.startRouterEventsSub()}ngOnDestroy(){this.onAccountSubscription.closed||this.onAccountSubscription.unsubscribe(),this.routerEventsSub.closed||this.routerEventsSub.unsubscribe()}checkAccountType(){this.onAccountSubscription=this.auth.userAccountData$.subscribe(t=>{var e,n;switch(this.isStaff=!1,this.forceMaxDate=void 0,this.specialAccountLabel=null,this.userData=t,null==t?void 0:t.accountType){case Ii.k.Staff:this.isStaff=!0,this.specialAccountLabel="PROFILE_LABEL-VIVA-AMIGOS";break;case Ii.k.Agency:this.specialAccountLabel="PROFILE_LABEL_VIVA-AGENCIAS";break;case Ii.k.Enterprise:this.specialAccountLabel="PROFILE_LABEL_VIVA-EMPRESAS"}this.isStaff&&this.setStaffBookingWindow(),this.dotersAff=null,t&&(this.dotersAff=this.auth.getDotersAffiliation(t)),this.defaultPromocode=(null===(n=null===(e=this.cmsConfig._cmsConfig.globalSettings)||void 0===e?void 0:e.defaultPromoCodes)||void 0===n?void 0:n[t?null==t?void 0:t.accountType:Ii.k.Anonymous])||null,this.setPromocode(this.defaultPromocode)})}setStaffBookingWindow(){this.forceMaxDate=r().add(this.staffBookingWindow,"d")}openCouponModal(){this.datalayerUxHome.viewPromoCode(),this.couponService.openModal()}setPromocode(t){this.bookerForm.promoCode=t}setTripType(t){let e=0;t!==dt.a.MULTI_CITY&&this.bookerForm.tripType!==dt.a.MULTI_CITY||(this.selectorAnimation=!1,e=300),Object(Rt.a)(e).subscribe(()=>{this.bookerForm.tripType=t,this.savedSelectedDates=[void 0],this.selectedTripType.emit(t),t===dt.a.MULTI_CITY&&(this.displayCalendar[0]=!0),this.setRoutes(),this.saveCurrentTrip(),this.selectorAnimation=!0})}selectedDates(t,e=0){this.setDatesToMultiCity(t,e),this.bookerForm.journeys[e].journeyDates=t,this.setRoutes()}setDatesToMultiCity(t,e=0){if(this.bookerForm.tripType===dt.a.MULTI_CITY&&(null==t?void 0:t.startDate)&&e+1<this.multiCityDates.length){const n=this.bookingDays.slice(e+1,this.multiCityDates.length);if(n.every(t=>t.length>1))for(const i of n){const o=i.filter(e=>e.date.isSameOrAfter(t.startDate,"D"));this.multiCityDates.splice(e+1,n.length,o)}this.bookerForm.journeys.forEach((t,n)=>{var i,o;n>e&&t.journeyDates&&t.journeyDates.startDate.isBefore(null===(i=this.bookerForm.journeys[e].journeyDates)||void 0===i?void 0:i.startDate,"D")&&(null===(o=this.bookerCalendar.toArray()[n])||void 0===o||o.clearChosenDates())})}}setJourneyStations(t,e=0){var n,i,o,a,s,r;return Object(c.a)(this,void 0,void 0,(function*(){const c=null===(o=null===(i=null===(n=this.bookerForm)||void 0===n?void 0:n.journeys[e])||void 0===i?void 0:i.origin)||void 0===o?void 0:o.code,l=null===(r=null===(s=null===(a=this.bookerForm)||void 0===a?void 0:a.journeys[e])||void 0===s?void 0:s.destination)||void 0===r?void 0:r.code;if(this.bookerForm.journeys[e].origin=t.selectedOrigin,this.bookerForm.journeys[e].destination=t.selectedDestination,!this.isExpandedForm&&t.selectedOrigin&&t.selectedDestination&&(this.isExpandedForm=!0,this.expandedFormActive.emit(),this.toggleDotersEnable()&&this.dotersService.dotersToogle(!0)),this.bookerForm.tripType===dt.a.MULTI_CITY&&this.bookerForm.journeys.forEach((t,n)=>{var i;n>e&&(null===(i=this.flightInputs.toArray()[n])||void 0===i||i.clearFields())}),t.selectedOrigin&&t.selectedDestination&&t.selectedOrigin.code!==t.selectedDestination.code&&(c!==t.selectedOrigin.code||l!==t.selectedDestination.code)){const n=c===l&&t.selectedOrigin.code===c&&t.selectedDestination.code!==l,i=!!(c&&l&&t.selectedOrigin.code&&t.selectedDestination.code&&c===t.selectedOrigin.code&&l!==t.selectedDestination.code);yield this.getDateAvailability(e,n).then(()=>{var t,n;if(!this.savedSelectedStations[e]){this.savedSelectedDates[e]=void 0;const o=i?this.bookerForm.journeys[e].journeyDates:void 0;null===(t=this.bookerCalendarRes.toArray()[e])||void 0===t||t.tryToKeepPreviousDatesSelected(i),null===(n=this.bookerCalendar.toArray()[e])||void 0===n||n.clearChosenDates(o),this.displayCalendar[e]=!0}this.savedSelectedStations[e]=void 0});const o=["CO","EC","CU"];this.disableMinorTravelingAlone=!1,this.bookerForm.journeys.find(t=>{var e;return o.includes(null===(e=t.origin)||void 0===e?void 0:e.countryCode)||o.includes(t.destination.countryCode)})&&(0===this.bookerForm.passengers.adults&&(this.bookerForm.passengers.adults=1),this.disableMinorTravelingAlone=!0)}}))}setSavedSearch(t,e=0){this.savedSelectedStations[e]={selectedOriginCode:t.origin.code,selectedDestinationCode:t.destination.code},this.bookerForm.tripType!==dt.a.MULTI_CITY&&t.travelType&&(this.bookerForm.tripType=t.travelType),this.setRoutes(),t.passengers&&(this.bookerForm.passengers=t.passengers);const n={startDate:void 0,endDate:void 0};t.startDate&&(n.startDate=r(t.startDate),t.endDate&&(n.endDate=r(t.endDate))),this.savedSelectedDates[e]=n}get isRoundTrip(){return this.bookerForm.tripType===dt.a.ROUND_TRIP}setToggleValue(t){this.isDotersActive=t}onScotiaChanges(t){t&&this.dotersService.dotersToogle(!1)}submitSearch(t,e=!0){var n,o,a,s,c,r,l,d,g,b,h;if(e&&this.cmsCubaModal&&this.bookerForm.journeys.find(t=>"CU"===t.destination.countryCode)&&Object(i.L)(this.platformId)&&!sessionStorage.getItem("cubaTravelOption"))this.modalSvc.open("cuba-travel-modal");else if(this.bookerForm.journeys.some(t=>!t.journeyDates)&&this.isExpandedForm){const t=this.bookerForm.journeys.findIndex(t=>!t.journeyDates);if(this.deviceService.isMobile())null===(n=this.bookerCalendarRes.toArray()[t])||void 0===n||n.showCalendarMobile();else{const e=this.bookerCalendar.toArray()[t];null==e||e.clearChosenDates(),null==e||e.closeDatepicker(),null==e||e.openDatepicker()}}else if(this.flightPassengers.totalPassengers)if(!this.isACalendarLoading&&this.flightBookUtilsSvc.isValidForm(this.bookerForm))if(this.bookerForm.tripType===dt.a.MULTI_CITY?this.datalayerHome.multicitySearch(this.bookerForm,this.showCalendarView,this.isDotersActive):this.datalayerHome.searchBoxEvent(this.bookerForm,this.showCalendarView,this.isDotersActive,this.inputSearchTerms),this.colombiaRedirect){const t=this.flightBookUtilsSvc.createVivaRedirectLink(this.bookerForm,this.showCalendarView);this.document.location.href=t}else{if(this.bookerForm.tripType!==dt.a.MULTI_CITY){const t=this.flightBookUtilsSvc.createStationSearchObject(this.bookerForm);this.stationSearchHistory.ready.then(()=>{this.stationSearchHistory.addFlightSearchEntry(t)})}const t=this.flightBookUtilsSvc.createFlightSearchParams(this.bookerForm);this.isDotersActive&&(t.bookingType="Points"),this.router.navigate(this.showCalendarView?["book","calendar"]:["book","options"],{queryParams:Object.assign({},t)})}else this.bookerForm.tripType!==dt.a.MULTI_CITY&&((null===(a=null===(o=this.bookerForm.journeys)||void 0===o?void 0:o[0])||void 0===a?void 0:a.origin)&&(null===(c=null===(s=this.bookerForm.journeys)||void 0===s?void 0:s[0])||void 0===c?void 0:c.destination)||(null==t||t.stopPropagation(),null==t||t.preventDefault(),(null===(l=null===(r=this.bookerForm.journeys)||void 0===r?void 0:r[0])||void 0===l?void 0:l.origin)?(null===(b=null===(g=this.bookerForm.journeys)||void 0===g?void 0:g[0])||void 0===b?void 0:b.destination)||null===(h=this.document.getElementById(this.flightInputIds.destination))||void 0===h||h.focus():null===(d=this.document.getElementById(this.flightInputIds.origin))||void 0===d||d.focus()));else this.flightPassengers.togglePopup(!0)}getDateAvailability(t=0,e=!1){return Object(c.a)(this,void 0,void 0,(function*(){this.isCalendarLoading[t]=!0;try{if(e){const e=this.bookingDays[t];this.bookingDays[t]=this.returnBookingDays[t],this.returnBookingDays[t]=e,this.multiCityDates[t]=this.bookingDays[t]}else{const e=this.availabilitySvc.getCalendarAvailability(this.bookerForm.journeys[t].origin.code,this.bookerForm.journeys[t].destination.code,this.bookerForm.journeys[t].origin.type,!0).toPromise(),n=this.availabilitySvc.getCalendarAvailability(this.bookerForm.journeys[t].destination.code,this.bookerForm.journeys[t].origin.code,this.bookerForm.journeys[t].origin.type,!0).toPromise(),i=yield Promise.all([e,n]);this.bookingDays[t]=i[0],this.returnBookingDays[t]=i[1],this.multiCityDates[t]=i[0]}if(this.bookerForm.tripType===dt.a.MULTI_CITY&&t){const e=this.getMultiCityDate(t);this.multiCityDates[t]=this.multiCityDates[t].filter(t=>t.date.isSameOrAfter(e,"D"))}return void(this.isCalendarLoading[t]=!1)}catch(n){this.isCalendarLoading[t]=!1,this.bookingDays[t]=[{date:r(),availableDirectFlights:!1}],this.returnBookingDays[t]=[{date:r(),availableDirectFlights:!1}],this.multiCityDates[t]=[{date:r(),availableDirectFlights:!1}]}}))}get isACalendarLoading(){for(const t of this.isCalendarLoading)if(!0===t)return!0;return!1}setRoutes(){this.bookerForm.tripType===dt.a.MULTI_CITY&&this.bookerForm.journeys.length<2&&this.addMultiCityRoute(),this.bookerForm.tripType!==dt.a.MULTI_CITY&&this.bookerForm.journeys.length>1&&this.deleteMultiCityRoute()}addMultiCityRoute(){this.bookerForm.journeys.push({origin:void 0,destination:void 0,journeyDates:void 0}),this.multiCityDates.push([{date:r(),availableDirectFlights:!1}]),this.bookingDays.push([{date:r(),availableDirectFlights:!1}]),this.displayCalendar.push(!1),this.returnBookingDays.push([{date:r(),availableDirectFlights:!1}]),this.isCalendarLoading.push(!1),this.savedSelectedDates.push(void 0),this.savedSelectedStations.push(void 0)}deleteMultiCityRoute(){this.bookerForm.journeys.pop(),this.multiCityDates.pop(),this.bookingDays.pop(),this.displayCalendar.pop(),this.returnBookingDays.pop(),this.isCalendarLoading.pop(),this.savedSelectedDates.pop(),this.savedSelectedStations.pop()}saveCurrentTrip(){var t,e,n,i;if(this.bookerForm.journeys[0].destination)for(const o of this.bookerForm.journeys){const a=this.bookerForm.journeys.indexOf(o);this.savedSelectedStations[a]=a?{selectedOriginCode:null===(t=this.bookerForm.journeys[a-1].destination)||void 0===t?void 0:t.code,selectedDestinationCode:null===(e=this.bookerForm.journeys[a-1].origin)||void 0===e?void 0:e.code}:{selectedOriginCode:null===(n=this.bookerForm.journeys[a].origin)||void 0===n?void 0:n.code,selectedDestinationCode:null===(i=this.bookerForm.journeys[a].destination)||void 0===i?void 0:i.code}}}setMultiCityInputIds(t){return{origin:"flight-search-origin-"+t,destination:"flight-search-destination-"+t}}getMultiCityDate(t){var e,n,i,o,a,s;if(t>0&&t<this.bookerForm.journeys.length)for(let c=t-1;c>=0;c--)if(null===(i=null===(n=null===(e=this.bookerForm.journeys)||void 0===e?void 0:e[c])||void 0===n?void 0:n.journeyDates)||void 0===i?void 0:i.startDate)return null===(s=null===(a=null===(o=this.bookerForm.journeys)||void 0===o?void 0:o[c])||void 0===a?void 0:a.journeyDates)||void 0===s?void 0:s.startDate;return r()}setCalendarState(t,e){this.displayCalendar[e]=t&&this.displayCalendar.every(t=>!t),this.cdRef.detectChanges()}startRouterEventsSub(){this.routerEventsSub=this.router.events.subscribe(t=>{t instanceof o.c&&this.bookerForm.tripType===dt.a.MULTI_CITY&&this.setTripType(dt.a.ROUND_TRIP)})}onlogout(){this.auth.doLogout()}setSearchTerms(t){this.inputSearchTerms=t}toggleDotersEnable(){const t=this.route.snapshot.queryParamMap;return t.has("searchWithDoters")&&"yes"===t.get("searchWithDoters")}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(Hi.a),a.Tb(Ei.a),a.Tb(Bi.a),a.Tb(Yi.a),a.Tb(o.g),a.Tb(oi.a),a.Tb(xi.a),a.Tb(i.e),a.Tb(O.a),a.Tb(_n.a),a.Tb(wn.a),a.Tb(a.i),a.Tb(xn.a),a.Tb(ji.a),a.Tb(Mn.a),a.Tb(a.G),a.Tb(o.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-flight-search"]],viewQuery:function(t,e){var n;1&t&&(a.Yc(Li.a,!0),a.Yc(Ti.a,!0),a.Yc(Di.a,!0),a.Yc(Ai.a,!0)),2&t&&(a.Dc(n=a.ic())&&(e.flightPassengers=n.first),a.Dc(n=a.ic())&&(e.bookerCalendar=n),a.Dc(n=a.ic())&&(e.bookerCalendarRes=n),a.Dc(n=a.ic())&&(e.flightInputs=n))},inputs:{forceDesktopView:"forceDesktopView"},outputs:{selectedTripType:"selectedTripType",expandedFormActive:"expandedFormActive"},decls:21,vars:4,consts:[["class","row flight-search",4,"ngIf"],["defaultContainer",""],["multiCityContainer",""],["defaultInputs",""],["multiCityInputs",""],["typeSelection",""],["aditionalSettings",""],["promoBtnTemplate",""],["submitBtn",""],[3,"promocode","typedPromocode"],[3,"continueFlow"],[1,"row","flight-search"],[4,"ngTemplateOutlet"],[1,"col-12"],[1,"row"],[1,"col-lg-3","d-lg-none","d-block"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"col-lg-3","mt-0","mt-lg-3"],[1,"col-lg-9","mb-3","mb-xs-1"],[3,"allowSetParamsFromUrl","customInputIds","selectedStations","forceMaxDate","flightType","includeMaacStations","selectedStationsChanged","savedSearchSelected","searchTerms"],[1,"col-md-12","col-lg-5","mb-3","mb-xs-2",3,"ngClass"],[3,"isLoading","isRoundTrip","departureBookingDates","returnBookingDates","selectedDates","forceMaxDate","selectedDatesChange",4,"ngIf"],[3,"isLoading","isRoundTrip","departureBookingDates","returnBookingDates","forceMaxDate","selectedDates","selectedDatesChange",4,"ngIf"],[1,"col-md-12","col-lg-4",3,"ngClass"],[3,"passengers","disableMinorTravelingAlone"],[1,"col-lg-3","d-none","d-lg-block"],[3,"isLoading","isRoundTrip","departureBookingDates","returnBookingDates","selectedDates","forceMaxDate","selectedDatesChange"],[3,"isLoading","isRoundTrip","departureBookingDates","returnBookingDates","forceMaxDate","selectedDates","selectedDatesChange"],["class","trips-container",4,"ngFor","ngForOf"],[1,"trips-container"],[1,"title","light","flight"],[1,"col-lg-9"],[3,"customInputIds","showLastFlightSearch","forceMaxDate","selectedStations","prevJourney","flightType","includeMaacStations","selectedStationsChanged","savedSearchSelected"],[1,"col-lg-3","calendar"],[3,"isLoading","departureBookingDates","selectedDates","isRoundTrip","displayCalendar","showToLeft","forceMaxDate","selectedDatesChange","isOpened",4,"ngIf"],[3,"isLoading","departureBookingDates","selectedDates","isRoundTrip","forceMaxDate","selectedDatesChange",4,"ngIf"],[3,"isLoading","departureBookingDates","selectedDates","isRoundTrip","displayCalendar","showToLeft","forceMaxDate","selectedDatesChange","isOpened"],[3,"isLoading","departureBookingDates","selectedDates","isRoundTrip","forceMaxDate","selectedDatesChange"],[1,"col-12","px-lg-10"],[1,"col-lg-6","col-sm-9","col-12","my-3","my-xs-2"],[3,"radioStyle","flightType","selectedFlightType"],["class","col-sm-3 col-12 my-3 my-sm-2 passengers-select p-0 d-flex align-items-center justify-content-start justify-content-sm-end",4,"ngIf"],["class","col-md-3 col-12 my-4 my-xs-2 text-left text-md-right",3,"ngClass",4,"ngIf"],[1,"col-sm-3","col-12","my-3","my-sm-2","passengers-select","p-0","d-flex","align-items-center","justify-content-start","justify-content-sm-end"],[3,"simpleStyle","rightPositionDesktop","rightPositionResponsive","passengers"],[1,"col-md-3","col-12","my-4","my-xs-2","text-left","text-md-right",3,"ngClass"],["for","calendar_view",1,"checkbox-container","d-inline-block","flight-search-checkbox"],["id","calendar_view","name","calendar_view","type","checkbox",3,"ngModel","ngModelChange","click"],[1,"checkmark"],[1,"col-md-12","col-lg-9","mb-30","mb-sm-0","mb-md-10","mt-0",3,"ngClass"],["class","d-flex flex-sm-row flex-column-reverse justify-content-between align-items-sm-center align-items-start",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"d-flex","flex-sm-row","flex-column-reverse","justify-content-between","align-items-sm-center","align-items-start",3,"ngClass"],[1,"mt-20","mt-md-0"],[3,"selectedJourneys","toggleValue",4,"ngIf"],[3,"selectedJourneys","toggleValue"],[1,"d-flex","w-100","agency-bar","mt-20","mt-lg-0","mb-0","mb-sm-10","mb-lg-0",3,"ngClass"],[1,"user-icon","d-flex","justify-content-center","align-items-center"],[1,"fas","fa-user"],[1,"text-bar","title","light","d-flex","align-items-center","pl-10","pr-10","pr-md-20","w-100","justify-content-between"],[1,"d-none","d-md-block"],[1,"d-block","d-md-none"],["class","d-none d-md-block",4,"ngIf"],[1,"btn-bar","title","d-flex","justify-content-center","align-items-center","cursor-pointer",3,"click"],[1,"px-20","px-md-30","text-center"],["class","d-block d-md-none mt-20 mb-0 mb-sm-20",4,"ngIf"],[1,"d-block","d-md-none","mt-20","mb-0","mb-sm-20"],["class","viva-btn tertiary light promo-btn",3,"click",4,"ngIf","ngIfElse"],["promocodeBtn",""],[1,"viva-btn","tertiary","light","promo-btn",3,"click"],[1,"fas","fa-plus","ml-2"],[1,"flight-search-promocode",3,"click"],[1,"mx-2"],[1,"fas","fa-ellipsis-v","d-none","d-lg-inline"],[1,"viva-btn","action","w-100",3,"disabled","click"]],template:function(t,e){1&t&&(a.Zb(0,"div"),a.Qc(1,Xi,2,1,"div",0),a.Qc(2,Ji,2,1,"div",0),a.Yb(),a.Qc(3,oo,7,6,"ng-template",null,1,a.Rc),a.Qc(5,bo,7,10,"ng-template",null,2,a.Rc),a.Qc(7,fo,9,17,"ng-template",null,3,a.Rc),a.Qc(9,ko,2,2,"ng-template",null,4,a.Rc),a.Qc(11,wo,6,4,"ng-template",null,5,a.Rc),a.Qc(13,Zo,3,6,"ng-template",null,6,a.Rc),a.Qc(15,Uo,3,2,"ng-template",null,7,a.Rc),a.Qc(17,No,4,4,"ng-template",null,8,a.Rc),a.Zb(19,"app-coupons-modal",9),a.hc("typedPromocode",(function(t){return e.setPromocode(t)})),a.Yb(),a.Zb(20,"app-cuba-travel-modal",10),a.hc("continueFlow",(function(){return e.submitSearch(null,!1)})),a.Yb()),2&t&&(a.sc("@fadeIn",void 0),a.Hb(1),a.sc("ngIf",e.bookerForm.tripType!==e.flightTypeId.MULTI_CITY),a.Hb(1),a.sc("ngIf",e.bookerForm.tripType===e.flightTypeId.MULTI_CITY),a.Hb(17),a.sc("promocode",e.bookerForm.promoCode))},directives:[i.u,Zi.a,Ri.a,i.B,Ai.a,i.r,Li.a,Ti.a,Di.a,i.t,Fi.a,Ui.b,Ui.u,Ui.x,Wi],pipes:[j.a,T.a],styles:[".flight-search-checkbox[_ngcontent-%COMP%]{font-family:Axiforma,Arial;font-weight:700;font-size:16px;color:var(--wh1)}.flight-search-checkbox[_ngcontent-%COMP%] > input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background:transparent;border-color:var(--wh1)}.flight-search-checkbox[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background:var(--wh1)}.flight-search-checkbox[_ngcontent-%COMP%] > .checkmark[_ngcontent-%COMP%]:after{color:var(--bg4)}.passengers-select[_ngcontent-%COMP%]{max-height:61px}.flight-search-promocode[_ngcontent-%COMP%]{padding:5px 10px 5px 13px;border-radius:20px;border:none;background-color:var(--vg4);font-size:16px;font-weight:700;font-family:Axiforma;color:var(--bg6);min-height:30px}.flight-search-promocode[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bg4)}@media screen and (max-width:575px){.points-check[_ngcontent-%COMP%]{margin-top:15px}}@media screen and (max-width:991px){.hide-mobile[_ngcontent-%COMP%]{display:none!important}}.multi-city[_ngcontent-%COMP%]{background-color:var(--bg4);padding-top:80px;padding-bottom:40px}@media screen and (max-width:991px){.multi-city[_ngcontent-%COMP%]{padding-top:34px;padding-bottom:40px}}.multi-city-title[_ngcontent-%COMP%]{font-size:28px;line-height:1.14;margin-right:64px}.multi-city-promoCode[_ngcontent-%COMP%]{font-family:Axiforma,Arial;font-weight:700;color:var(--bg6);background-color:var(--vg4);border:none;border-radius:20px;padding:5px 15px;cursor:pointer}.multi-city-promoCode[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--wh1)}.multi-city-promoCode[_ngcontent-%COMP%]:focus{outline:none}.cols[_ngcontent-%COMP%]{flex:0 0 75%;max-width:75%}@media screen and (max-width:800px){.cols[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}}@media screen and (max-width:991px){.calendar[_ngcontent-%COMP%]{margin-top:10px}}@media screen and (max-width:800px){.calendar[_ngcontent-%COMP%]{margin-top:5px}}.flight[_ngcontent-%COMP%]{margin:5px 0 10px;font-size:20px}@media screen and (max-width:720px){.flight[_ngcontent-%COMP%]{margin-bottom:15px;font-size:16px}}.trips-container[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:35px}@media screen and (max-width:720px){.trips-container[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:20px;padding-bottom:10px}}.agency-bar[_ngcontent-%COMP%]{height:42px}.agency-bar[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]{min-width:60px;color:var(--wh1);background-color:var(--bg2);border-radius:10px 0 0 10px;font-size:13px}.agency-bar[_ngcontent-%COMP%]   .text-bar[_ngcontent-%COMP%]{font-weight:500;background-color:var(--bg6)}.agency-bar[_ngcontent-%COMP%]   .promo-btn[_ngcontent-%COMP%]{height:auto}.agency-bar[_ngcontent-%COMP%]   .btn-bar[_ngcontent-%COMP%]{color:var(--wh1);background-color:var(--bg6);border-radius:0 10px 10px 0;min-width:170px}@media screen and (max-width:720px){.agency-bar[_ngcontent-%COMP%]   .btn-bar[_ngcontent-%COMP%]{min-width:130px;font-size:13px}}.agency-bar[_ngcontent-%COMP%]   .btn-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-left:1px solid var(--wh1)}.agency-bar.multi[_ngcontent-%COMP%]{margin-top:30px!important}@media screen and (max-width:991px){.agency-bar.multi[_ngcontent-%COMP%]{margin-top:20px!important}}.promo-btn[_ngcontent-%COMP%]{height:21px}"],data:{animation:[Object(be.n)("fadeIn",[Object(be.m)(":enter",[Object(be.o)(_i.a)])]),Object(be.n)("fadeOut",[Object(be.m)("true => false",[Object(be.o)(_i.b)])])]}}),t})();class Qo{constructor(){this.passengers={rooms:1,adults:2,kids:0,babies:0},this.ages=[],this.checkInDate="",this.checkOutDate="",this.placeId=""}}let Go=(()=>{class t{constructor(){this.hotelEndpoint="/#bidflyer/hotels/?",this.hotelFlightEndpoint="/#bidflyer/vacations/?"}hotelDeepLinkConstruction(t){const e=`checkInDate=${t.checkInDate}&checkOutDate=${t.checkOutDate}&`;let n="";if(n+="adultCount="+t.passengers.adults,t.passengers.kids>0||t.passengers.babies>0){n+="&childCount="+(t.passengers.kids+t.passengers.babies);const e=[];for(let n=0;n<t.passengers.babies;n++)e.push(1);t.ages.forEach(t=>{e.push(t.age)}),n+="&childAges="+encodeURIComponent(e.toString())}return`${this.hotelEndpoint}${e}${n}${"&placeId="+t.placeId}${"&roomCount="+t.passengers.rooms}&ratingFair=true&ratingGood=true&ratingPoor=true&ratingVeryGood=true&ratingTop=true&sort=RECOMMENDED&starStart=4&asc=true`}hotelFlightDeepLinkConstruction(t,e){var n,i;const o=`checkInDate=${e.journeys[0].journeyDates.startDate.format("YYYY-MM-DD")}&checkOutDate=${e.journeys[0].journeyDates.endDate.format("YYYY-MM-DD")}&`;let a="";if(a+="adultCount="+t.passengers.adults,t.passengers.kids>0){a+="&childCount="+t.passengers.kids;const e=t.ages.map(t=>t.age);a+="&childAges="+encodeURIComponent(e.toString())}const s=(null===(n=e.journeys[0].origin)||void 0===n?void 0:n.iataHotel)||e.journeys[0].origin.code,c=(null===(i=e.journeys[0].destination)||void 0===i?void 0:i.iataHotel)||e.journeys[0].destination.code;return`${this.hotelFlightEndpoint}${o}${a}&placeId=${s}&placeToId=${c}${"&roomCount="+t.passengers.rooms}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var zo=function(t){return t.ROOMS="rooms",t.ADULTS="adults",t.KIDS="kids",t.BABIES="babies",t}({}),Ko=n("VXQe"),Wo=n("ZOsW");const $o=function(t){return{active:t}};function Xo(t,e){if(1&t){const t=a.ac();a.Zb(0,"button",5),a.hc("click",(function(){a.Hc(t);const e=a.jc();return e.togglePopup(!e.showPopup)})),a.Ub(1,"i",6),a.Zb(2,"label",7),a.Sc(3),a.kc(4,"cmsTranslate"),a.Yb(),a.Zb(5,"p",8),a.Sc(6),a.kc(7,"slice"),a.kc(8,"slice"),a.kc(9,"i18nPlural"),a.kc(10,"i18nPlural"),a.kc(11,"i18nPlural"),a.kc(12,"i18nPlural"),a.Yb(),a.Ub(13,"i",9),a.Yb()}if(2&t){const t=a.jc();a.sc("ngClass",a.vc(26,$o,t.showPopup)),a.Hb(3),a.Uc(" ",a.lc(4,4,"BOOKER_LABEL_ROOMS")," "),a.Hb(3),a.Uc(" ",a.nc(7,6,a.nc(8,10,a.mc(9,14,t.passengerRooms.rooms,t.passengersLabels[t.passengerTypes.ROOMS]),0,5)+" | "+a.mc(10,17,t.passengerRooms.adults,t.passengersLabels[t.passengerTypes.ADULTS])+a.mc(11,20,t.passengerRooms.kids,t.passengersLabels[t.passengerTypes.KIDS])+a.mc(12,23,t.passengerRooms.babies,t.passengersLabels[t.passengerTypes.BABIES]),0,27)," "),a.Hb(7),a.sc("ngClass",a.vc(28,$o,t.showPopup))}}const qo=function(t,e){return{active:t,simple:e}};function Jo(t,e){if(1&t){const t=a.ac();a.Zb(0,"button",10),a.hc("click",(function(){a.Hc(t);const e=a.jc();return e.togglePopup(!e.showPopup)})),a.Zb(1,"p",11),a.Sc(2),a.kc(3,"i18nPlural"),a.kc(4,"i18nPlural"),a.kc(5,"i18nPlural"),a.kc(6,"i18nPlural"),a.Yb(),a.Ub(7,"i",9),a.Yb()}if(2&t){const t=a.jc();a.Hb(2),a.Xc(" ",a.mc(3,5,t.passengerRooms.rooms,t.passengersLabels[t.passengerTypes.ROOMS])," | ",a.mc(4,8,t.passengerRooms.adults,t.passengersLabels[t.passengerTypes.ADULTS])," ",a.mc(5,11,t.passengerRooms.kids,t.passengersLabels[t.passengerTypes.KIDS])," ",a.mc(6,14,t.passengerRooms.babies,t.passengersLabels[t.passengerTypes.BABIES])," "),a.Hb(5),a.sc("ngClass",a.wc(17,qo,t.showPopup,t.simpleStyle))}}function ta(t,e){1&t&&(a.Zb(0,"div",29),a.Zb(1,"p",30),a.Ub(2,"i",31),a.Sc(3),a.kc(4,"cmsTranslate"),a.Yb(),a.Yb()),2&t&&(a.Hb(3),a.Uc(" ",a.lc(4,1,"ALERT_LABEL_BABIES")," "))}function ea(t,e){1&t&&(a.Zb(0,"span",39),a.Sc(1),a.kc(2,"cmsTranslate"),a.Yb()),2&t&&(a.Hb(1),a.Uc(" ",a.lc(2,1,"BOOKER_LABEL_AGE-PLACEHOLDER")," "))}function na(t,e){1&t&&(a.Sc(0),a.kc(1,"cmsTranslate")),2&t&&a.Vc(" ",e.item," ",a.lc(1,2,"GLOBAL_LABEL_YEARS")," ")}function ia(t,e){if(1&t&&(a.Zb(0,"span",40),a.Sc(1),a.kc(2,"cmsTranslate"),a.Yb()),2&t){const t=e.item;a.Hb(1),a.Vc(" ",t," ",a.lc(2,2,"GLOBAL_LABEL_YEARS")," ")}}function oa(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",34),a.Zb(1,"ng-select",35),a.hc("ngModelChange",(function(n){return a.Hc(t),e.$implicit.age=n})),a.kc(2,"cmsTranslate"),a.Qc(3,ea,3,3,"ng-template",36),a.Qc(4,na,2,4,"ng-template",37),a.Qc(5,ia,3,4,"ng-template",38),a.Yb(),a.Zb(6,"label"),a.Sc(7),a.kc(8,"cmsTranslate"),a.Yb(),a.Yb()}if(2&t){const t=e.$implicit,n=e.index,i=a.jc(3);a.Hb(1),a.sc("id","age-kid-dropdown-"+n)("searchable",!1)("clearable",!1)("ngModel",t.age)("items",i.kidAgeOptions)("appendTo",".fpp-helper")("placeholder",a.lc(2,9,"GLOBAL_LABEL_SELECT")),a.Hb(6),a.Vc("",a.lc(8,11,"BOOKER_LABEL_CHILD-NUMBER")," ",n+1,"")}}function aa(t,e){if(1&t&&(a.Zb(0,"div",32),a.Qc(1,oa,9,13,"div",33),a.Yb()),2&t){const t=a.jc(2);a.Hb(1),a.sc("ngForOf",t.kidAges)}}function sa(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",12),a.Qc(1,ta,5,3,"div",13),a.Zb(2,"div",14),a.Zb(3,"div",15),a.Zb(4,"div"),a.Zb(5,"p",16),a.Sc(6),a.kc(7,"cmsTranslate"),a.Yb(),a.Yb(),a.Zb(8,"div",17),a.Zb(9,"button",18),a.hc("click",(function(){a.Hc(t);const e=a.jc();return e.removePassengers(e.passengerTypes.ROOMS)})),a.Ub(10,"i",19),a.Yb(),a.Zb(11,"span",20),a.Sc(12),a.Yb(),a.Zb(13,"button",21),a.hc("click",(function(){a.Hc(t);const e=a.jc();return e.addPassengers(e.passengerTypes.ROOMS)})),a.Ub(14,"i",22),a.Yb(),a.Yb(),a.Yb(),a.Zb(15,"div",15),a.Zb(16,"div"),a.Zb(17,"p",16),a.Sc(18),a.kc(19,"cmsTranslate"),a.Yb(),a.Zb(20,"small",23),a.Sc(21),a.kc(22,"cmsTranslate"),a.Yb(),a.Yb(),a.Zb(23,"div",17),a.Zb(24,"button",18),a.hc("click",(function(){a.Hc(t);const e=a.jc();return e.removePassengers(e.passengerTypes.ADULTS)})),a.Ub(25,"i",19),a.Yb(),a.Zb(26,"span",20),a.Sc(27),a.Yb(),a.Zb(28,"button",21),a.hc("click",(function(){a.Hc(t);const e=a.jc();return e.addPassengers(e.passengerTypes.ADULTS)})),a.Ub(29,"i",22),a.Yb(),a.Yb(),a.Yb(),a.Zb(30,"div",15),a.Zb(31,"div"),a.Zb(32,"p",16),a.Sc(33),a.kc(34,"cmsTranslate"),a.Yb(),a.Zb(35,"small",23),a.Sc(36),a.kc(37,"cmsTranslate"),a.Yb(),a.Yb(),a.Zb(38,"div",17),a.Zb(39,"button",18),a.hc("click",(function(){a.Hc(t);const e=a.jc();return e.removePassengers(e.passengerTypes.KIDS)})),a.Ub(40,"i",19),a.Yb(),a.Zb(41,"span",20),a.Sc(42),a.Yb(),a.Zb(43,"button",21),a.hc("click",(function(){a.Hc(t);const e=a.jc();return e.addPassengers(e.passengerTypes.KIDS)})),a.Ub(44,"i",22),a.Yb(),a.Yb(),a.Yb(),a.Qc(45,aa,2,1,"div",24),a.Zb(46,"div",15),a.Zb(47,"div"),a.Zb(48,"p",16),a.Sc(49),a.kc(50,"cmsTranslate"),a.Yb(),a.Zb(51,"small",23),a.Sc(52),a.kc(53,"cmsTranslate"),a.Yb(),a.Yb(),a.Zb(54,"div",17),a.Zb(55,"button",18),a.hc("click",(function(){a.Hc(t);const e=a.jc();return e.removePassengers(e.passengerTypes.BABIES)})),a.Ub(56,"i",19),a.Yb(),a.Zb(57,"span",20),a.Sc(58),a.Yb(),a.Zb(59,"button",21),a.hc("click",(function(){a.Hc(t);const e=a.jc();return e.addPassengers(e.passengerTypes.BABIES)})),a.Ub(60,"i",22),a.Yb(),a.Yb(),a.Yb(),a.Ub(61,"hr",25),a.Zb(62,"div",26),a.Zb(63,"button",27),a.hc("click",(function(){return a.Hc(t),a.jc().togglePopup(!1)})),a.Zb(64,"span",28),a.Sc(65),a.kc(66,"cmsTranslate"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()}if(2&t){const t=a.jc();a.Hb(1),a.sc("ngIf",t.showAlert),a.Hb(5),a.Tc(a.lc(7,18,"BOOKER_LABEL_ROOMS")),a.Hb(3),a.sc("disabled",1===t.passengerRooms.rooms),a.Hb(3),a.Uc(" ",t.passengerRooms.rooms," "),a.Hb(6),a.Uc(" ",a.lc(19,20,"GLOBAL_LABEL_ADULTS")," "),a.Hb(3),a.Uc(" ",a.lc(22,22,"GLOBAL_LABEL_ADULTAGE")," "),a.Hb(3),a.sc("disabled",1===t.passengerRooms.adults),a.Hb(3),a.Uc(" ",t.passengerRooms.adults," "),a.Hb(6),a.Uc(" ",a.lc(34,24,"GLOBAL_LABEL_CHILDREN")," "),a.Hb(3),a.Uc(" ",a.lc(37,26,"GLOBAL_LABEL_CHILDAGE")," "),a.Hb(3),a.sc("disabled",t.passengerRooms.kids<1),a.Hb(3),a.Uc(" ",t.passengerRooms.kids," "),a.Hb(3),a.sc("ngIf",0!=t.passengerRooms.kids),a.Hb(4),a.Uc(" ",a.lc(50,28,"GLOBAL_LABEL_INFANTS")," "),a.Hb(3),a.Uc(" ",a.lc(53,30,"GLOBAL_LABEL_INFANTAGE")," "),a.Hb(3),a.sc("disabled",t.passengerRooms.babies<1),a.Hb(3),a.Uc(" ",t.passengerRooms.babies," "),a.Hb(7),a.Uc(" ",a.lc(66,32,"GLOBAL_ACTION_READY")," ")}}const ca=function(t){return{"ml-2":t}};let ra=(()=>{class t{constructor(t,e,n,i){this.element=t,this.genericOverlayService=e,this.cmsTranslate=n,this.document=i,this.showPopup=!1,this.showAgePopup=!1,this.showAlert=!1,this.MIN_KID_AGE=3,this.MAX_PASSENGERS=9,this.passengerTypes=zo,this.selectedPassengers=new a.p,this.passengersLabels={[zo.ROOMS]:{"=0":"","=1":"1 "+this.cmsTranslate.getEntry("BOOKER_LABEL_ROOM"),other:"# "+this.cmsTranslate.getEntry("BOOKER_LABEL_ROOMS")},[zo.ADULTS]:{"=0":"","=1":"1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULT-COUNT"),other:"# "+this.cmsTranslate.getEntry("GLOBAL_LABEL_ADULTS-COUNT")},[zo.KIDS]:{"=0":"","=1":", 1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILD-COUNT"),other:", # "+this.cmsTranslate.getEntry("GLOBAL_LABEL_CHILDREN-COUNT")},[zo.BABIES]:{"=0":"","=1":", 1 "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANT-COUNT"),other:", # "+this.cmsTranslate.getEntry("GLOBAL_LABEL_INFANTS-COUNT")}},this.passengerRooms={rooms:1,adults:1,kids:0,babies:0},this.kidAges=[],this.simpleStyle=!1,this.kidAgeOptions=this.counter(15)}clickOutSide(t){this.element.nativeElement.contains(t)||(this.togglePopup(!1),this.showAlert=!1)}togglePopup(t){this.showPopup=t;const{clientWidth:e}=this.document.body;e<800&&(t?(this.document.body.style.overflow="hidden",this.genericOverlayService.showOverlay()):(this.document.body.style.overflow="auto",this.genericOverlayService.hideOverlay()))}addPassengers(t){t===zo.ROOMS&&this.passengerRooms.rooms++,t===zo.ADULTS?this.passengerRooms.adults+this.passengerRooms.kids<this.MAX_PASSENGERS&&this.passengerRooms[t]++:t===zo.KIDS?this.passengerRooms.adults+this.passengerRooms.kids<this.MAX_PASSENGERS&&(this.passengerRooms[t]++,this.kidAges.push({age:3})):t===zo.BABIES&&this.passengerRooms.babies<this.passengerRooms.adults&&this.passengerRooms.babies++}removePassengers(t){t===zo.ADULTS?this.passengerRooms.adults>1&&(this.passengerRooms.adults--,this.passengerRooms.adults<this.passengerRooms.babies&&(this.passengerRooms.babies--,this.showAlert=!0)):t!==zo.BABIES&&t!==zo.KIDS||(this.passengerRooms[t]--,t===zo.KIDS&&this.kidAges.pop()),t===zo.ROOMS&&this.passengerRooms.rooms--}counter(t){const e=Array(t);e.fill(0);for(let n=0;n<e.length;n++)e[n]=n+this.MIN_KID_AGE;return e}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.n),a.Tb(Ko.a),a.Tb(gt.a),a.Tb(i.e))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-hotel-rooms"]],hostBindings:function(t,e){1&t&&a.hc("mousedown",(function(t){return e.clickOutSide(t.target)}),!1,a.Fc)},inputs:{passengerRooms:"passengerRooms",kidAges:"kidAges",simpleStyle:"simpleStyle"},outputs:{selectedPassengers:"selectedPassengers"},decls:6,vars:6,consts:[[1,"position-relative",3,"ngClass"],["class","flight-input w-100",3,"ngClass","click",4,"ngIf","ngIfElse"],["simple",""],[1,"flight-passengers-popup","fpp-helper"],["class","flight-passengers-popup",4,"ngIf"],[1,"flight-input","w-100",3,"ngClass","click"],[1,"fas","fa-user","flight-input-icon"],[1,"flight-input-label"],[1,"flight-input-text"],[1,"fas","fa-caret-down","flight-input-arrow",3,"ngClass"],[1,"flight-input-simple","pb-0",3,"click"],[1,"title","light","my-0","mr-2"],[1,"flight-passengers-popup"],["class","flight-passengers-alert p-3",4,"ngIf"],[1,"flight-passengers-wrapper"],[1,"flight-passengers-row"],[1,"title","my-0"],[1,"flight-passengers-control"],[1,"viva-btn","unit","small",3,"disabled","click"],[1,"fas","fa-minus","content"],[1,"title","my-0","mx-1","mx-md-2"],[1,"viva-btn","unit","small",3,"click"],[1,"fas","fa-plus","content"],[1,"small-title","flight-passengers-small"],["class","age-grid mb-3",4,"ngIf"],[1,"mt-0"],[1,"d-flex","justify-content-end"],[1,"viva-btn","btn-link","title","d-inline-block","h-auto","my-0",3,"click"],[1,"title"],[1,"flight-passengers-alert","p-3"],[1,"title","m-0","text-center"],[1,"fas","fa-exclamation-triangle","fa-xs","mr-2"],[1,"age-grid","mb-3"],["class","viva-input-field no-icon viva-select w-100",4,"ngFor","ngForOf"],[1,"viva-input-field","no-icon","viva-select","w-100"],[1,"ultra-condensed-options",3,"id","searchable","clearable","ngModel","items","appendTo","placeholder","ngModelChange"],["ng-header-tmp",""],["ng-label-tmp",""],["ng-option-tmp",""],[1,"small-title"],[1,"ng-option-label"]],template:function(t,e){if(1&t&&(a.Zb(0,"div",0),a.Qc(1,Xo,14,30,"button",1),a.Qc(2,Jo,8,20,"ng-template",null,2,a.Rc),a.Ub(4,"div",3),a.Qc(5,sa,67,34,"div",4),a.Yb()),2&t){const t=a.Ec(3);a.sc("ngClass",a.vc(4,ca,e.simpleStyle)),a.Hb(1),a.sc("ngIf",!e.simpleStyle)("ngIfElse",t),a.Hb(4),a.sc("ngIf",e.showPopup)}},directives:[i.r,i.u,i.t,Wo.a,Ui.u,Ui.x,Wo.g,Wo.e,Wo.c],pipes:[T.a,i.F,i.j],styles:['.flight-input[_ngcontent-%COMP%]{background:var(--wh1);width:100%;height:60px;display:flex;justify-content:space-between;border-radius:10px;box-sizing:border-box;border:2px solid var(--wh1);position:relative;z-index:1;text-align:initial}.flight-input.active[_ngcontent-%COMP%], .flight-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--vg4)}.flight-input-icon[_ngcontent-%COMP%]{vertical-align:middle;color:var(--bg4);margin-right:10px;position:absolute;top:50%;left:20px;z-index:1;transform:translateY(-50%)}.flight-input-icon[_ngcontent-%COMP%]:after{content:"";display:inline-block;position:absolute;top:-5px;margin-left:20px;height:30px;width:1px;background-color:var(--gr20)}.flight-input-label[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:18px;color:var(--bg6);font-size:12px;line-height:16px;margin:10px auto auto 70px;color:rgba(var(--bg6-rgb),.5);pointer-events:none}.flight-input-label[_ngcontent-%COMP%], .flight-input-text[_ngcontent-%COMP%]{font-family:Axiforma,Arial;position:absolute;left:0;top:0}.flight-input-text[_ngcontent-%COMP%]{font-weight:700;font-size:16px;margin:26px auto auto 70px;line-height:24px;color:var(--bg6)}.flight-input-arrow[_ngcontent-%COMP%]{position:absolute;top:18px;right:20px;font-size:18px;color:var(--bg4)}.flight-input-arrow.simple[_ngcontent-%COMP%]{color:var(--wh1);position:inherit}.flight-input-arrow.active[_ngcontent-%COMP%]{color:var(--vg4);transform:rotate(180deg)}.flight-input-simple[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-bottom:2px;background:none;border:none}.flight-input-simple[_ngcontent-%COMP%]:focus{outline:none}.flight-input-simple[_ngcontent-%COMP%]:hover > .fas[_ngcontent-%COMP%]{color:var(--vg4)}.flight-passengers-popup[_ngcontent-%COMP%]{min-height:auto;min-width:320px;width:100%;overflow:hidden;z-index:2;position:absolute;left:0;top:calc(100% + 2px);border:none;border-radius:5px;background-color:var(--wh1);box-shadow:0 1px 5px 0 rgba(95,95,95,.07),0 0 50px 0 hsla(0,0%,55.3%,.07)}.flight-passengers-popup.fpp-helper[_ngcontent-%COMP%]{background-color:initial;box-shadow:none;overflow:initial;z-index:3}.flight-passengers-wrapper[_ngcontent-%COMP%]{padding:30px 20px 15px}.flight-passengers-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 100px;align-items:center;margin-bottom:20px}.flight-passengers-small[_ngcontent-%COMP%]{opacity:.5}.flight-passengers-control[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;align-items:center}.flight-passengers-alert[_ngcontent-%COMP%]{background-color:rgba(var(--r2-rgb),.25)}.flight-passengers-alert[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:var(--r4)}.viva-btn.unit[_ngcontent-%COMP%]:first-child{background-color:var(--vg4)}.viva-btn.unit[_ngcontent-%COMP%]:first-child > i.fas[_ngcontent-%COMP%]{color:var(--bg4)}.viva-btn.unit[_ngcontent-%COMP%]:disabled{background-color:var(--gr20)}hr[_ngcontent-%COMP%]{margin-bottom:15px}.date-input[_ngcontent-%COMP%]{background:var(--wh1);width:100%;height:60px;display:flex;justify-content:space-between;border-radius:10px;box-sizing:border-box;border:2px solid var(--gr20);position:relative;z-index:1;text-align:initial;padding:10px 20px 12px}.date-input.active[_ngcontent-%COMP%], .date-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--vg4)}.date-input-label[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:18px;color:var(--bg6);font-size:12px;line-height:16px;margin:10px auto auto 0;color:rgba(var(--bg6-rgb),.5);pointer-events:none}.date-input-label[_ngcontent-%COMP%], .date-input-text[_ngcontent-%COMP%]{font-family:Axiforma,Arial;position:absolute;left:0;top:0}.date-input-text[_ngcontent-%COMP%]{font-weight:700;font-size:16px;margin:26px auto auto 0;line-height:24px;color:var(--bg6)}.date-input-arrow[_ngcontent-%COMP%]{position:absolute;top:18px;right:20px;font-size:18px;color:var(--bg4)}.date-input-arrow.simple[_ngcontent-%COMP%]{color:var(--wh1);position:inherit}.date-input-arrow.active[_ngcontent-%COMP%]{color:var(--vg4);transform:rotate(180deg)}.date-input[_ngcontent-%COMP%]   .flight-input-label[_ngcontent-%COMP%], .date-input[_ngcontent-%COMP%]   .flight-input-text[_ngcontent-%COMP%]{margin-left:16px}.age-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);-moz-column-gap:10px;column-gap:10px;row-gap:10px}.kids-age-popup[_ngcontent-%COMP%]{height:120px;overflow:auto;width:160px;margin:2px 20px 14px 0;position:absolute;background-color:var(--wh1);box-shadow:0 0 50px 0 hsla(0,0%,55.3%,.07),0 1px 5px 0 rgba(95,95,95,.07);border-radius:5px;border:1px solid var(--gr20);padding:8px 23px;z-index:3;display:none}.age-title[_ngcontent-%COMP%]{font-size:12px;font-weight:500}.age-selection[_ngcontent-%COMP%]{border-radius:0;border:none;width:100%;background:var(--wh1);text-align:left;padding:10px 0}@media screen and (max-width:800px){.flight-passengers-popup[_ngcontent-%COMP%]{position:fixed;z-index:1000;top:unset;bottom:0;width:100%;max-height:70vh}.flight-passengers-popup.fpp-helper[_ngcontent-%COMP%]{z-index:1001}}']}),t})();function la(t,e){if(1&t){const t=a.ac();a.Zb(0,"app-booker-calendar",10),a.hc("selectedDatesChange",(function(e){return a.Hc(t),a.jc().selectedDates(e)})),a.Yb()}if(2&t){const t=a.jc();a.sc("isLoading",t.isCalendarLoading[0])("isRoundTrip",!0)("departureBookingDates",t.bookingDays[0])("returnBookingDates",t.returnBookingDays[0])("selectedDates",t.savedSelectedDates[0])("forceMinDate",t.forceMinDate)}}function da(t,e){if(1&t){const t=a.ac();a.Zb(0,"app-booker-calendar-responsive",11),a.hc("selectedDatesChange",(function(e){return a.Hc(t),a.jc().selectedDates(e)})),a.Yb()}if(2&t){const t=a.jc();a.sc("isLoading",t.isCalendarLoading[0])("isRoundTrip",!0)("departureBookingDates",t.bookingDays[0])("returnBookingDates",t.returnBookingDays[0])("forceMinDate",t.forceMinDate)("selectedDates",t.savedSelectedDates[0])}}const ga=function(t){return{"d-none":t}};let ba=(()=>{class t{constructor(t,e,n,i,o,s){var c,l,d;this.availabilitySvc=t,this.localeService=e,this.document=n,this.bookerDeepLinkService=i,this.deviceService=o,this.cmsConfig=s,this.forceDesktopView=!1,this.expandedFormActive=new a.p,this.showCalendarView=!1,this.bookerForm=new Si.a,this.savedSelectedStations=[void 0],this.savedSelectedDates=[void 0],this.passengersHotel=new Qo,this.isExpandedForm=!1,this.bookingDays=[[{date:r(),availableDirectFlights:!1}]],this.returnBookingDays=[[{date:r(),availableDirectFlights:!1}]],this.isCalendarLoading=[!1],this.flightInputIds={origin:"flight-search-origin",destination:"flight-search-destination"},r.locale(this.localeService.getAppLocale());const g=this.cmsConfig._cmsConfig.bookingSettings.daysInTheFutureForSearchingPackages||2;this.forceMinDate=r().add(g,"days");const{roomCount:b,adultCount:h}=(null===(d=null===(l=null===(c=this.cmsConfig)||void 0===c?void 0:c._cmsConfig)||void 0===l?void 0:l.globalSettings)||void 0===d?void 0:d.packagesDefaultSearch)||{};this.passengersHotel.passengers.rooms=null!=b?b:1,this.passengersHotel.passengers.adults=null!=h?h:2}ngOnInit(){}selectedDates(t,e=0){this.bookerForm.journeys[e].journeyDates=t}setJourneyStations(t,e=0){var n,i,o,a,s,r;return Object(c.a)(this,void 0,void 0,(function*(){const c=null===(o=null===(i=null===(n=this.bookerForm)||void 0===n?void 0:n.journeys[e])||void 0===i?void 0:i.origin)||void 0===o?void 0:o.code,l=null===(r=null===(s=null===(a=this.bookerForm)||void 0===a?void 0:a.journeys[e])||void 0===s?void 0:s.destination)||void 0===r?void 0:r.code;if(this.bookerForm.journeys[e].origin=t.selectedOrigin,this.bookerForm.journeys[e].destination=t.selectedDestination,!this.isExpandedForm&&t.selectedOrigin&&t.selectedDestination&&(this.isExpandedForm=!0,this.expandedFormActive.emit()),t.selectedOrigin&&t.selectedDestination&&t.selectedOrigin.code!==t.selectedDestination.code&&(c!==t.selectedOrigin.code||l!==t.selectedDestination.code)){const n=c===l&&t.selectedOrigin.code===c&&t.selectedDestination.code!==l;yield this.getDateAvailability(e,n).then(()=>{var t;this.savedSelectedStations[e]||(null===(t=this.bookerCalendar.toArray()[e])||void 0===t||t.clearChosenDates(),this.savedSelectedDates[e]=void 0),this.savedSelectedStations[e]=void 0})}}))}setSavedSearch(t,e=0){this.savedSelectedStations[e]={selectedOriginCode:t.origin.code,selectedDestinationCode:t.destination.code},this.bookerForm.tripType!==dt.a.MULTI_CITY&&t.travelType&&(this.bookerForm.tripType=t.travelType);const n={startDate:void 0,endDate:void 0};t.startDate&&(n.startDate=r(t.startDate),t.endDate&&(n.endDate=r(t.endDate))),this.savedSelectedDates[e]=n}submitSearch(){var t,e,n,i;if(this.bookerForm.journeys.some(t=>!t.journeyDates)&&this.isExpandedForm){const e=this.bookerForm.journeys.findIndex(t=>!t.journeyDates);if(this.deviceService.isMobile())null===(t=this.bookerCalendarRes.toArray()[e])||void 0===t||t.showCalendarMobile();else{const t=this.bookerCalendar.toArray()[e];null==t||t.clearChosenDates(),null==t||t.closeDatepicker(),null==t||t.openDatepicker()}}else if(null===(n=null===(e=this.bookerForm.journeys)||void 0===e?void 0:e[0])||void 0===n?void 0:n.destination){const t=this.bookerDeepLinkService.hotelFlightDeepLinkConstruction(this.passengersHotel,this.bookerForm);this.document.location.href="/bidflyer"+t}else null===(i=this.document.getElementById(this.flightInputIds.destination))||void 0===i||i.focus()}getDateAvailability(t=0,e=!1){return Object(c.a)(this,void 0,void 0,(function*(){this.isCalendarLoading[t]=!0;try{if(e){const e=this.bookingDays[t];this.bookingDays[t]=this.returnBookingDays[t],this.returnBookingDays[t]=e}else{const e=this.availabilitySvc.getCalendarAvailability(this.bookerForm.journeys[t].origin.code,this.bookerForm.journeys[t].destination.code,this.bookerForm.journeys[t].origin.type,!0).toPromise(),n=this.availabilitySvc.getCalendarAvailability(this.bookerForm.journeys[t].destination.code,this.bookerForm.journeys[t].origin.code,this.bookerForm.journeys[t].origin.type,!0).toPromise(),i=yield Promise.all([e,n]);this.bookingDays[t]=i[0],this.returnBookingDays[t]=i[1]}this.isCalendarLoading[t]=!1}catch(n){this.isCalendarLoading[t]=!1,this.bookingDays[t]=[{date:r(),availableDirectFlights:!1}],this.returnBookingDays[t]=[{date:r(),availableDirectFlights:!1}]}}))}get isACalendarLoading(){for(const t of this.isCalendarLoading)if(!0===t)return!0;return!1}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(Yi.a),a.Tb(oi.a),a.Tb(i.e),a.Tb(Go),a.Tb(_n.a),a.Tb(O.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-flight-plus-hotel"]],viewQuery:function(t,e){var n;1&t&&(a.Yc(Ti.a,!0),a.Yc(Di.a,!0)),2&t&&(a.Dc(n=a.ic())&&(e.bookerCalendar=n),a.Dc(n=a.ic())&&(e.bookerCalendarRes=n))},inputs:{forceDesktopView:"forceDesktopView"},outputs:{expandedFormActive:"expandedFormActive"},decls:13,vars:18,consts:[[1,"row","flight-search","mt-20","mt-xs-1"],[1,"col-md-12","col-lg-9","mb-3","mb-xs-1"],[3,"customInputIds","selectedStations","forceMinDate","selectedStationsChanged","savedSearchSelected"],[1,"col-md-12","col-lg-5","mb-3","mb-xs-2",3,"ngClass"],[3,"isLoading","isRoundTrip","departureBookingDates","returnBookingDates","selectedDates","forceMinDate","selectedDatesChange",4,"ngIf"],[3,"isLoading","isRoundTrip","departureBookingDates","returnBookingDates","forceMinDate","selectedDates","selectedDatesChange",4,"ngIf"],[1,"col-md-6","col-lg-4","mb-3",3,"ngClass"],[3,"passengerRooms","kidAges"],[1,"col-lg-3"],[1,"viva-btn","action","w-100",3,"disabled","click"],[3,"isLoading","isRoundTrip","departureBookingDates","returnBookingDates","selectedDates","forceMinDate","selectedDatesChange"],[3,"isLoading","isRoundTrip","departureBookingDates","returnBookingDates","forceMinDate","selectedDates","selectedDatesChange"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"app-flight-input",2),a.hc("selectedStationsChanged",(function(t){return e.setJourneyStations(t)}))("savedSearchSelected",(function(t){return e.setSavedSearch(t)})),a.Yb(),a.Yb(),a.Zb(3,"div",3),a.Qc(4,la,1,6,"app-booker-calendar",4),a.Qc(5,da,1,6,"app-booker-calendar-responsive",5),a.Yb(),a.Zb(6,"div",6),a.Ub(7,"app-hotel-rooms",7),a.Yb(),a.Zb(8,"div",8),a.Zb(9,"button",9),a.hc("click",(function(){return e.submitSearch()})),a.Zb(10,"span"),a.Sc(11),a.kc(12,"cmsTranslate"),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&t&&(a.sc("@fadeIn",void 0),a.Hb(2),a.sc("customInputIds",e.flightInputIds)("selectedStations",e.savedSelectedStations[0])("forceMinDate",e.forceMinDate),a.Hb(1),a.sc("ngClass",a.vc(14,ga,!e.isExpandedForm)),a.Hb(1),a.sc("ngIf",!e.deviceService.isMobile()||e.forceDesktopView),a.Hb(1),a.sc("ngIf",e.deviceService.isMobile()&&!e.forceDesktopView),a.Hb(1),a.sc("ngClass",a.vc(16,ga,!e.isExpandedForm)),a.Hb(1),a.sc("passengerRooms",e.passengersHotel.passengers)("kidAges",e.passengersHotel.ages),a.Hb(2),a.sc("disabled",e.isACalendarLoading),a.Hb(2),a.Tc(a.lc(12,12,"GLOBAL_ACTION_SEARCH")))},directives:[Ai.a,i.r,i.u,ra,Ti.a,Di.a],pipes:[T.a],styles:[".flight-search[_ngcontent-%COMP%]{padding-bottom:0!important;margin-bottom:0!important}"],data:{animation:[Object(be.n)("fadeIn",[Object(be.m)(":enter",[Object(be.o)(_i.a)])])]}}),t})();var ha=n("RJ73"),pa=n("cPaJ"),ua=n("Kj3r");function ma(t,e){if(1&t){const t=a.ac();a.Zb(0,"p",18),a.hc("click",(function(){a.Hc(t);const n=e.$implicit;return a.jc().selectDestination(n)})),a.Ub(1,"i",19),a.Zb(2,"span"),a.Sc(3),a.Yb(),a.Yb()}if(2&t){const t=e.$implicit;a.Hb(3),a.Vc("",t.name,", ",t.countryName,"")}}function fa(t,e){if(1&t){const t=a.ac();a.Zb(0,"app-booker-calendar",20,21),a.hc("selectedDatesChange",(function(e){return a.Hc(t),a.jc().selectedDates(e)})),a.Yb()}if(2&t){const t=a.jc();a.sc("isLoading",t.isCalendarLoading[0]&&t.isExpandedForm)("isRoundTrip",!0)("departureBookingDates",t.bookingDays[0])("returnBookingDates",t.returnBookingDays[0])("selectedDates",t.savedSelectedDates[0])}}function va(t,e){if(1&t){const t=a.ac();a.Zb(0,"app-booker-calendar-responsive",20),a.hc("selectedDatesChange",(function(e){return a.Hc(t),a.jc().selectedDates(e)})),a.Yb()}if(2&t){const t=a.jc();a.sc("isLoading",t.isCalendarLoading[0])("isRoundTrip",!0)("departureBookingDates",t.bookingDays[0])("returnBookingDates",t.returnBookingDays[0])("selectedDates",t.savedSelectedDates[0])}}const Ca=function(t){return{"d-none":t}};let Oa=(()=>{class t{constructor(t,e,n,i,o,s,c){var l,d,g;this.fb=t,this.document=e,this.flightStations=n,this.config=i,this.availabilitySvc=o,this.bookerDeepLinkService=s,this.deviceService=c,this.forceDesktopView=!1,this.expandedFormActive=new a.p,this.isExpandedForm=!1,this.stationResultsType=pa.a,this.savedSelectedDates=[void 0],this.focusOrigin=!1,this.originSearching=!1,this.passengersHotel=new Qo,this.originStations=[],this.originInputSubscription=w.a.EMPTY,this.showOriginInput=!0,this.stations=[],this.originCMSStations=[],this.bookingDays=[[{date:r(),availableDirectFlights:!1}]],this.returnBookingDays=[[{date:r(),availableDirectFlights:!1}]],this.isCalendarLoading=[!1];const{roomCount:b,adultCount:h}=(null===(g=null===(d=null===(l=this.config)||void 0===l?void 0:l._cmsConfig)||void 0===d?void 0:d.globalSettings)||void 0===g?void 0:g.hotelDefaultSearch)||{};this.passengersHotel.passengers.rooms=null!=b?b:1,this.passengersHotel.passengers.adults=null!=h?h:2}ngOnInit(){this.initialize(),this.formGroup=this.generateForm(),this.originInputSubscription=this.formGroup.get("origin").valueChanges.pipe(Object(ua.a)(300)).subscribe(t=>{this.searchDestinationStations(t)}),this.getDateAvailability()}ngOnDestroy(){this.originInputSubscription.unsubscribe()}onChangeEvent(t){this.document.getElementById("location-popup").style.display=0!==t.target.value.length?"block":"none"}initialize(){this.flightStations.ready.then(()=>{this.setOriginCMSStations(),this.stations=this.flightStations._stations.sort((t,e)=>this.sortStationResultsByName(t,e)),this.stations.length>0&&this.formGroup.setValue({origin:""})})}setOriginCMSStations(){var t;const e=null===(t=this.config._cmsConfig)||void 0===t?void 0:t.preferredOrigins;e&&(this.originCMSStations=e.map(t=>t.fields))}generateForm(){return this.fb.group({origin:[{value:""},[Ui.I.minLength(1)]]})}searchDestinationStations(t){if(t&&t.trim()){const e=t.trim();this.originSearching=!0,this.originSearching=!0,this.originStations=this.stations.filter(t=>this.stationSearch(t,e)).sort((t,e)=>this.sortStationResultsByWeight(t,e))}else this.originSearching=!1}selectedDates(t){(null==t?void 0:t.startDate)&&(null==t?void 0:t.endDate)&&(this.passengersHotel.checkInDate=t.startDate.format("YYYY-MM-DD"),this.passengersHotel.checkOutDate=t.endDate.format("YYYY-MM-DD"))}selectDestination(t){var e,n;this.document.getElementById("location-popup").style.display="none",this.formGroup.setValue({origin:`${t.name}, ${t.countryName}`}),this.isExpandedForm=!0,this.expandedFormActive.emit(),null===(e=this.bookerCalendar)||void 0===e||e.clearChosenDates(),null===(n=this.bookerCalendar)||void 0===n||n.openDatepicker(),this.passengersHotel.placeId=(null==t?void 0:t.iataHotel)||t.code}onFocus(t){t===this.stationResultsType.DESTINATION&&(this.focusOrigin||(this.formGroup.get("origin").patchValue(""),this.originSearching=!1),this.focusOrigin=!0)}stationSearch(t,e){if(e&&e.trim()){const n=this.formatStringForSearch(e);if(t&&t.activeForBooking){if(t.name&&this.formatStringForSearch(t.name).includes(n))return t.sortWeight=ha.f.NAME,!0;if(t.code&&this.formatStringForSearch(t.code).includes(n))return t.sortWeight=ha.f.CODE,!0;if(t.countryName&&this.formatStringForSearch(t.countryName).includes(n))return t.sortWeight=ha.f.COUNTRY,!0;if(t.aliases&&t.aliases.find(t=>this.formatStringForSearch(t).includes(n)))return t.sortWeight=ha.f.ALIAS,!0}}return!1}formatStringForSearch(t){return t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}sortStationResultsByWeight(t,e){return t.sortWeight>e.sortWeight?1:t.sortWeight<e.sortWeight?-1:0}sortStationResultsByName(t,e){const n=t.name.toLowerCase(),i=e.name.toLowerCase();return n>i?1:n<i?-1:0}getDateAvailability(t=0){return Object(c.a)(this,void 0,void 0,(function*(){this.isCalendarLoading[t]=!0;try{const e=this.availabilitySvc.getCalendarAvailability("MEX","CUN",ha.i.AIRPORT,!0).toPromise(),n=this.availabilitySvc.getCalendarAvailability("CUN","MEX",ha.i.AIRPORT,!0).toPromise(),i=yield Promise.all([e,n]);this.bookingDays[t]=i[0],this.returnBookingDays[t]=i[1],this.isCalendarLoading[t]=!1}catch(e){this.isCalendarLoading[t]=!1,this.bookingDays[t]=[{date:r(),availableDirectFlights:!1}],this.returnBookingDays[t]=[{date:r(),availableDirectFlights:!1}]}}))}hotelSearch(){var t,e,n,i,o,a;if((null===(t=this.passengersHotel.checkInDate)||void 0===t?void 0:t.length)&&(null===(e=this.passengersHotel.checkOutDate)||void 0===e?void 0:e.length))if(""===this.passengersHotel.placeId)this.document.getElementById("hotel_name").focus();else{const t=this.bookerDeepLinkService.hotelDeepLinkConstruction(this.passengersHotel);this.document.location.href="/bidflyer"+t}else this.deviceService.isMobile()?null===(n=this.bookerCalendarRes)||void 0===n||n.showCalendarMobile():(null===(i=this.bookerCalendar)||void 0===i||i.clearChosenDates(),null===(o=this.bookerCalendar)||void 0===o||o.closeDatepicker(),null===(a=this.bookerCalendar)||void 0===a||a.openDatepicker())}get isACalendarLoading(){for(const t of this.isCalendarLoading)if(!0===t)return!0;return!1}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(Ui.h),a.Tb(i.e),a.Tb(f.a),a.Tb(O.a),a.Tb(Yi.a),a.Tb(Go),a.Tb(_n.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-hotel-search"]],viewQuery:function(t,e){var n;1&t&&(a.Yc(Ti.a,!0),a.Yc(Di.a,!0)),2&t&&(a.Dc(n=a.ic())&&(e.bookerCalendar=n.first),a.Dc(n=a.ic())&&(e.bookerCalendarRes=n.first))},inputs:{forceDesktopView:"forceDesktopView"},outputs:{expandedFormActive:"expandedFormActive"},decls:28,vars:30,consts:[[1,"row","flight-search","mt-20","mt-xs-10"],["autocomplete","off",1,"col-md-12","col-lg-9","mb-lg-3","mb-2",3,"formGroup"],[1,"viva-input-field"],["type","text","id","hotel_name","name","hotel_name","autocomplete","off","formControlName","origin",3,"placeholder","keyup","focus"],[1,"fas","fa-bed"],["for","hotel_name"],[1,"divider"],["id","location-popup",1,"location-popup"],[1,"destinations"],[1,"location-title"],[1,"mt-0"],["class","title location",3,"click",4,"ngFor","ngForOf"],[1,"col-md-12","col-lg-5","mb-3","mb-xs-2",3,"ngClass"],[3,"isLoading","isRoundTrip","departureBookingDates","returnBookingDates","selectedDates","selectedDatesChange",4,"ngIf"],[1,"col-md-6","col-lg-4","mb-3",3,"ngClass"],[3,"passengerRooms","kidAges"],[1,"col-lg-3"],[1,"viva-btn","action","w-100",3,"disabled","click"],[1,"title","location",3,"click"],[1,"fas","fa-map-marker-alt"],[3,"isLoading","isRoundTrip","departureBookingDates","returnBookingDates","selectedDates","selectedDatesChange"],["bookerCalendar",""]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"input",3),a.hc("keyup",(function(t){return e.onChangeEvent(t)}))("focus",(function(){return e.onFocus(e.stationResultsType.DESTINATION)})),a.kc(4,"cmsTranslate"),a.Yb(),a.Ub(5,"i",4),a.Zb(6,"label",5),a.Sc(7),a.kc(8,"cmsTranslate"),a.Yb(),a.Ub(9,"div",6),a.Yb(),a.Yb(),a.Zb(10,"div",7),a.Zb(11,"div",8),a.Zb(12,"span",9),a.Sc(13),a.kc(14,"cmsTranslate"),a.Yb(),a.Ub(15,"hr",10),a.Qc(16,ma,4,2,"p",11),a.kc(17,"slice"),a.Yb(),a.Yb(),a.Zb(18,"div",12),a.Qc(19,fa,2,5,"app-booker-calendar",13),a.Qc(20,va,1,5,"app-booker-calendar-responsive",13),a.Yb(),a.Zb(21,"div",14),a.Ub(22,"app-hotel-rooms",15),a.Yb(),a.Zb(23,"div",16),a.Zb(24,"button",17),a.hc("click",(function(){return e.hotelSearch()})),a.Zb(25,"span"),a.Sc(26),a.kc(27,"cmsTranslate"),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&t&&(a.sc("@fadeIn",void 0),a.Hb(1),a.sc("formGroup",e.formGroup),a.Hb(2),a.tc("placeholder",a.lc(4,14,"BOOKER_LABEL_LOCATION-PLACEHOLDER")),a.Hb(4),a.Tc(a.lc(8,16,"BOOKER_LABEL_LOCATION")),a.Hb(6),a.Tc(a.lc(14,18,"BOOKER_LABEL_DESTINATIONS")),a.Hb(3),a.sc("ngForOf",a.nc(17,20,e.originStations,0,6)),a.Hb(2),a.sc("ngClass",a.vc(26,Ca,!e.isExpandedForm)),a.Hb(1),a.sc("ngIf",!e.deviceService.isMobile()||e.forceDesktopView),a.Hb(1),a.sc("ngIf",e.deviceService.isMobile()&&!e.forceDesktopView),a.Hb(1),a.sc("ngClass",a.vc(28,Ca,!e.isExpandedForm)),a.Hb(1),a.sc("passengerRooms",e.passengersHotel.passengers)("kidAges",e.passengersHotel.ages),a.Hb(2),a.sc("disabled",e.isACalendarLoading),a.Hb(2),a.Tc(a.lc(27,24,"GLOBAL_ACTION_SEARCH")))},directives:[Ui.v,Ui.m,Ui.d,Ui.u,Ui.k,i.t,i.r,i.u,ra,Ti.a,Di.a],pipes:[T.a,i.F],styles:[".location-popup[_ngcontent-%COMP%]{background-color:var(--wh1);width:880px;max-height:353px;position:absolute;margin-top:63px;z-index:2;margin-left:10px;padding:18px 20px;border-radius:5px;box-shadow:0 0 50px 0 hsla(0,0%,55.3%,.07),0 1px 5px 0 rgba(95,95,95,.07);border:1px solid var(--gr20);display:none;overflow:auto}.location-popup[_ngcontent-%COMP%]   .location-title[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;line-height:1.29;color:var(--bg6);font-family:Axiforma;margin-bottom:5px}.location[_ngcontent-%COMP%]{font-size:16px;cursor:pointer}.location[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.flight[_ngcontent-%COMP%]{text-align:right;color:var(--bg6);font-size:16px;font-weight:700;font-family:Axiforma;margin-bottom:0}"],data:{animation:[Object(be.n)("fadeIn",[Object(be.m)(":enter",[Object(be.o)(_i.a)])])]}}),t})();var ya=n("tk/3"),xa=n("XNiG"),Pa=n("GyhO"),ka=n("LRne"),Ma=n("/uUt"),_a=n("vkgz"),wa=n("JIr8"),Sa=function(t){return t.ONE_WAY="one-way",t.ROUND_TRIP="round-trip",t}({});let Ta=(()=>{class t{constructor(t){this.http=t}getPlaces(t,e){if(!t)return Object(ka.a)([]);let n={q:t};return e&&(n=Object.assign(Object.assign({},n),{from:e})),this.http.get(g.g.BUS_PLACES_URL,{params:n})}}return t.\u0275fac=function(e){return new(e||t)(a.dc(ya.b))},t.\u0275prov=a.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Da(t,e){1&t&&a.Sc(0),2&t&&a.Uc(" ",e.item.display," ")}function Ia(t,e){1&t&&a.Sc(0),2&t&&a.Uc(" ",e.item.display," ")}function Aa(t,e){1&t&&a.Sc(0),2&t&&a.Uc(" ",e.item.display," ")}function La(t,e){1&t&&a.Sc(0),2&t&&a.Uc(" ",e.item.display," ")}function Ha(t,e){if(1&t){const t=a.ac();a.Zb(0,"app-booker-calendar",21),a.hc("selectedDatesChange",(function(e){return a.Hc(t),a.jc().selectedDates(e)})),a.Yb()}if(2&t){const t=a.jc();a.sc("isRoundTrip",t.isRoudTrip)("departureBookingDates",t.bookingDays)("returnBookingDates",t.bookingDays)("showSymbology",!1)}}function Ea(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",22),a.Zb(1,"app-booker-calendar-responsive",23),a.hc("selectedDatesChange",(function(e){return a.Hc(t),a.jc().selectedDates(e)})),a.Yb(),a.Yb()}if(2&t){const t=a.jc();a.Hb(1),a.sc("isRoundTrip",t.isRoudTrip)("departureBookingDates",t.bookingDays)("showSymbology",!1)("returnBookingDates",t.bookingDays)}}let Ba=(()=>{class t{constructor(t,e){this.busSearchSvc=t,this.deviceService=e,this.forceDesktopView=!1,this.busBookingForm=new Ui.l({tripType:new Ui.i(Sa.ROUND_TRIP,[Ui.I.required]),origin:new Ui.i(void 0,[Ui.I.required]),destination:new Ui.i(void 0,[Ui.I.required]),departureDate:new Ui.i(void 0,[Ui.I.required]),returnDate:new Ui.i,passengers:new Ui.i(void 0,[Ui.I.required])}),this.passengers={adults:1,kids:0,babies:0},this.bookingDays=[{date:r(),availableDirectFlights:!1}],this.busOriginPlacesLoading=!1,this.busOriginPlaceInput$=new xa.a,this.busDestinationPlacesLoading=!1,this.busDestinationPlaceInput$=new xa.a}ngOnInit(){this.loadDates(),this.loadBusPlaces()}loadDates(){const t=r().add(1,"year"),e=r();for(this.bookingDays=[];e.isSameOrBefore(t,"day");)this.bookingDays.push({date:e.clone(),availableDirectFlights:!0}),e.add(1,"day")}doSearch(){const{origin:t,destination:e}=this.busBookingForm.value,n=`${g.g.VIVABUS_URL}/search/${t}/${e}?${this.generateParams()}`;window.open(n,"_blank")}generateParams(){const{departureDate:t,returnDate:e,passengers:n}=this.busBookingForm.value;let i=(new ya.e).set("departureDate",t).set("passengers",n);return e&&(i=i.set("returnDate",e)),i.toString()}selectedDates(t){t&&(this.busBookingForm.get("departureDate").setValue(null==t?void 0:t.startDate.format("YYYY-MM-DD")),this.isRoudTrip&&this.busBookingForm.get("returnDate").setValue(null==t?void 0:t.endDate.format("YYYY-MM-DD")))}setTripType(t){this.busBookingForm.get("tripType").setValue(t),this.busBookingForm.get("departureDate").reset(),this.busBookingForm.get("returnDate").reset()}get isRoudTrip(){return this.busBookingForm.get("tripType").value===Sa.ROUND_TRIP}updatePassengers(){this.busBookingForm.get("passengers").setValue(this.generatePassengerParams())}generatePassengerParams(){let t="";return this.passengers.adults&&(t+="A"+this.passengers.adults),this.passengers.kids&&(t+="-C"+this.passengers.kids),this.passengers.babies&&(t+="-I"+this.passengers.babies),t}loadBusPlaces(){this.busOriginPlaces$=Object(Pa.a)(Object(ka.a)([]),this.busOriginPlaceInput$.pipe(Object(Ma.a)(),Object(_a.a)(()=>this.busOriginPlacesLoading=!0),Object(d.a)(t=>this.busSearchSvc.getPlaces(t).pipe(Object(wa.a)(()=>Object(ka.a)([])),Object(_a.a)(()=>this.busOriginPlacesLoading=!1))))),this.busDestinationPlaces$=Object(Pa.a)(Object(ka.a)([]),this.busDestinationPlaceInput$.pipe(Object(Ma.a)(),Object(_a.a)(()=>this.busDestinationPlacesLoading=!0),Object(d.a)(t=>this.busSearchSvc.getPlaces(t,this.busBookingForm.value.origin).pipe(Object(wa.a)(()=>Object(ka.a)([])),Object(_a.a)(()=>this.busDestinationPlacesLoading=!1)))))}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(Ta),a.Tb(_n.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-bus-search"]],inputs:{forceDesktopView:"forceDesktopView"},decls:50,vars:56,consts:[[1,"row","ml-lg-0","align-items-end",3,"formGroup"],[1,"col-lg-9","pl-lg-0"],[1,"row"],[1,"col-12"],[1,"my-3","my-xs-2"],[3,"radioStyle","flightType","selectedFlightType"],[1,"col-lg-6"],[1,"viva-input-field","w-100","mb-2","origin-input"],["bindLabel","display","bindValue","slug","formControlName","origin","required","",1,"condensed-options","has-icon",3,"searchable","clearable","typeahead","items","placeholder","loading","notFoundText","typeToSearchText","loadingText","change"],["ng-label-tmp",""],["ng-option-tmp",""],[1,"fas","fa-map-marker-alt"],[1,"divider"],[1,"viva-input-field","w-100","mb-2"],["bindLabel","display","bindValue","slug","formControlName","destination","required","",1,"condensed-options","has-icon",3,"searchable","clearable","typeahead","items","placeholder","loading","notFoundText","typeToSearchText","loadingText"],[3,"isRoundTrip","departureBookingDates","returnBookingDates","showSymbology","selectedDatesChange",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"mb-2","mb-lg-0","mt-10","mt-lg-0"],[3,"passengers","busBookingBehavior","passengersChange"],[1,"col-lg-3"],[1,"viva-btn","action","w-100",3,"disabled","click"],[3,"isRoundTrip","departureBookingDates","returnBookingDates","showSymbology","selectedDatesChange"],[1,"mb-2"],[3,"isRoundTrip","departureBookingDates","showSymbology","returnBookingDates","selectedDatesChange"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"div",4),a.Zb(5,"app-flight-select",5),a.hc("selectedFlightType",(function(t){return e.setTripType(t)})),a.Yb(),a.Yb(),a.Yb(),a.Zb(6,"div",6),a.Zb(7,"div",7),a.Zb(8,"ng-select",8),a.hc("change",(function(){return e.busBookingForm.get("destination").reset()})),a.kc(9,"async"),a.kc(10,"cmsTranslate"),a.kc(11,"cmsTranslate"),a.kc(12,"cmsTranslate"),a.kc(13,"cmsTranslate"),a.Qc(14,Da,1,1,"ng-template",9),a.Qc(15,Ia,1,1,"ng-template",10),a.Yb(),a.Ub(16,"em",11),a.Zb(17,"label"),a.Sc(18),a.kc(19,"cmsTranslate"),a.Yb(),a.Ub(20,"div",12),a.Yb(),a.Yb(),a.Zb(21,"div",6),a.Zb(22,"div",13),a.Zb(23,"ng-select",14),a.kc(24,"async"),a.kc(25,"cmsTranslate"),a.kc(26,"cmsTranslate"),a.kc(27,"cmsTranslate"),a.kc(28,"cmsTranslate"),a.Qc(29,Aa,1,1,"ng-template",9),a.Qc(30,La,1,1,"ng-template",10),a.Yb(),a.Ub(31,"em",11),a.Zb(32,"label"),a.Sc(33),a.kc(34,"cmsTranslate"),a.Yb(),a.Ub(35,"div",12),a.Yb(),a.Yb(),a.Yb(),a.Zb(36,"div",2),a.Zb(37,"div",6),a.Qc(38,Ha,1,4,"app-booker-calendar",15),a.Qc(39,Ea,2,4,"div",16),a.Yb(),a.Zb(40,"div",6),a.Zb(41,"div",17),a.Zb(42,"app-flight-passengers",18),a.hc("passengersChange",(function(){return e.updatePassengers()})),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(43,"div",19),a.Zb(44,"div",2),a.Zb(45,"div",3),a.Zb(46,"button",20),a.hc("click",(function(){return e.doSearch()})),a.Zb(47,"span"),a.Sc(48),a.kc(49,"cmsTranslate"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&t&&(a.sc("formGroup",e.busBookingForm)("@fadeIn",void 0),a.Hb(5),a.sc("radioStyle",!0)("flightType",e.busBookingForm.value.tripType),a.Hb(3),a.sc("searchable",!0)("clearable",!1)("typeahead",e.busOriginPlaceInput$)("items",a.lc(9,30,e.busOriginPlaces$))("placeholder",a.lc(10,32,"BOOKER_LABEL_BUS-PICKUP-PLACEHOLDER"))("loading",e.busOriginPlacesLoading)("notFoundText",a.lc(11,34,"BOOKER_LABEL_DESTINATIONS-NOT-FOUND"))("typeToSearchText",a.lc(12,36,"APP_BOOKER_LABEL_SEARCH-AIRPORT-PLACEHOLDER"))("loadingText",a.lc(13,38,"GLOBAL_LABEL_LOADING")),a.Hb(10),a.Uc(" ",a.lc(19,40,"GLOBAL_LABEL_ORIGIN-PLACEHOLDER")," "),a.Hb(5),a.sc("searchable",!0)("clearable",!1)("typeahead",e.busDestinationPlaceInput$)("items",a.lc(24,42,e.busDestinationPlaces$))("placeholder",a.lc(25,44,"BOOKER_LABEL_BUS-PICKUP-PLACEHOLDER"))("loading",e.busDestinationPlacesLoading)("notFoundText",a.lc(26,46,"BOOKER_LABEL_DESTINATIONS-NOT-FOUND"))("typeToSearchText",a.lc(27,48,"APP_BOOKER_LABEL_SEARCH-AIRPORT-PLACEHOLDER"))("loadingText",a.lc(28,50,"GLOBAL_LABEL_LOADING")),a.Hb(10),a.Uc(" ",a.lc(34,52,"GLOBAL_LABEL_DESTINATION-PLACEHOLDER")," "),a.Hb(5),a.sc("ngIf",!e.deviceService.isMobile()||e.forceDesktopView),a.Hb(1),a.sc("ngIf",e.deviceService.isMobile()&&!e.forceDesktopView),a.Hb(3),a.sc("passengers",e.passengers)("busBookingBehavior",!0),a.Hb(4),a.sc("disabled",e.busBookingForm.invalid),a.Hb(2),a.Tc(a.lc(49,54,"GLOBAL_ACTION_SEARCH")))},directives:[Ui.v,Ui.m,Fi.a,Wo.a,Ui.u,Ui.k,Ui.F,Wo.e,Wo.c,i.u,Li.a,Ti.a,Di.a],pipes:[i.b,T.a],styles:["@media screen and (max-width:800px){.origin-input[_ngcontent-%COMP%]{margin-top:5px}}"],data:{animation:[Object(be.n)("fadeIn",[Object(be.m)(":enter",[Object(be.o)(_i.a)])])]}}),t})();const Ya=["rowContainer"];function ja(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",11),a.Zb(1,"div",12),a.Zb(2,"div",6),a.Zb(3,"app-tablist-bar",13),a.hc("activeTabChange",(function(e){return a.Hc(t),a.jc().changeItem(e)})),a.Yb(),a.Yb(),a.Yb(),a.Yb()}if(2&t){const t=a.jc();a.Hb(3),a.sc("activeTab",t.activeItem)("tabOptions",t.tabOptions)}}const Za=function(t){return{"py-4":t}};function Ra(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",14),a.Zb(1,"app-flight-search",15),a.hc("selectedTripType",(function(e){return a.Hc(t),a.jc().focusedBookerView(e)}))("expandedFormActive",(function(){return a.Hc(t),a.jc().changeSection(!1)})),a.Yb(),a.Yb()}if(2&t){const t=a.jc();a.sc("ngClass",a.vc(3,Za,!t.focusedView))("@fadeOut",t.selectorAnimation),a.Hb(1),a.sc("forceDesktopView",t.forceDesktopView)}}function Fa(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",16),a.Zb(1,"app-flight-plus-hotel",17),a.hc("expandedFormActive",(function(){return a.Hc(t),a.jc().changeSection(!1)})),a.Yb(),a.Yb()}if(2&t){const t=a.jc();a.sc("@fadeOut",t.selectorAnimation),a.Hb(1),a.sc("forceDesktopView",t.forceDesktopView)}}function Ua(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",16),a.Zb(1,"app-hotel-search",17),a.hc("expandedFormActive",(function(){return a.Hc(t),a.jc().changeSection(!1)})),a.Yb(),a.Yb()}if(2&t){const t=a.jc();a.sc("@fadeOut",t.selectorAnimation),a.Hb(1),a.sc("forceDesktopView",t.forceDesktopView)}}function Na(t,e){if(1&t&&(a.Zb(0,"div",16),a.Ub(1,"app-bus-search",18),a.Yb()),2&t){const t=a.jc();a.sc("@fadeOut",t.selectorAnimation),a.Hb(1),a.sc("forceDesktopView",t.forceDesktopView)}}function Va(t,e){1&t&&(a.Zb(0,"div"),a.Zb(1,"div",19),a.Zb(2,"div",20),a.Sc(3,"..."),a.Yb(),a.Yb(),a.Yb())}const Qa=function(t,e,n,i,o){return{"multi-city":t,"dark-site-typeA":e,"dark-site-typeB":n,"image-fade":i,"national-selection":o}},Ga=function(t){return{"mb-0":t}};let za=(()=>{class t{constructor(t,e,n,i,o,a,s,c){this.storefrontSvc=t,this.cmsImagePipe=e,this.bookerSearchSvc=n,this.document=i,this.platformId=o,this.localeId=a,this.csmConfig=s,this.auth=c,this.heroImages=[],this.tabItemToShow=Mi.a.FLIGHT_SEARCH,this.defaultTabItems=Mi.a,this.tabOptions=[],this.flightTypeId=dt.a,this.selectedBookerChangeSub=w.a.EMPTY,this.showDarksite=!1,this.enableFocus=!1,this.isInMulticity=!1,this.imgAnimation=!1,this.selectorAnimation=!0,this.onAccountSubscription=w.a.EMPTY,this.isLoggedIn=!1,this.forceDesktopView=!1,this.cmsNationalSelection=!1,this.showDarksite=this.csmConfig.getSectionFeatureValue(p.b.GLOBAL,p.a.DarkSite),this.darksiteOptions=this.csmConfig._cmsConfig.globalSettings.darksite,this.forceDesktopView=window.innerWidth>1240,this.cmsNationalSelection=!!this.csmConfig.getSectionFeatureValue(p.b.GLOBAL,p.a.ShowNationalSelectionItems)&&(null==a?void 0:a.startsWith("es"))}onOrientationChange(){this.changeSection(),Object(Rt.a)(0).subscribe(()=>{this.forceDesktopView=window.innerWidth>1240})}ngOnInit(){this.getStorefrontData().then(()=>{this.changeSection(),this.startNavHandler()}),this.onAccountSubscription=this.auth.userAccountData$.subscribe(t=>{(t||!t&&this.isLoggedIn)&&Object(Rt.a)(0).subscribe(()=>{this.changeSection(!1)}),this.isLoggedIn=!!t})}ngOnDestroy(){this.selectedBookerChangeSub.closed||this.selectedBookerChangeSub.unsubscribe(),this.onAccountSubscription.closed||this.onAccountSubscription.unsubscribe()}changeItem(t){var e,n,i,o,a,c,r,l;const d=this.cmsTabOptions[t];if(d.callToAction&&((null===(i=null===(n=null===(e=d.callToAction.fields)||void 0===e?void 0:e.slug)||void 0===n?void 0:n.fields)||void 0===i?void 0:i.slug)||(null===(o=d.callToAction.fields)||void 0===o?void 0:o.url))){const t=(null===(c=null===(a=d.callToAction.fields.slug)||void 0===a?void 0:a.fields)||void 0===c?void 0:c.slug)||d.callToAction.fields.url,e=this.document.createElement("a");e.target=(null===(r=d.callToAction.fields)||void 0===r?void 0:r.target)===s.g._self_internal?"_self":(null===(l=d.callToAction.fields)||void 0===l?void 0:l.target)||"_blank",e.href=t||"/",e.click();const n=this.activeItem;this.activeItem=-1,Object(Rt.a)(0).subscribe(()=>{this.activeItem=n})}else this.activeItem!==t&&(this.selectorAnimation=!1,Object(Rt.a)(300).subscribe(()=>{this.tabItemToShow=d.title,this.activeItem=t,this.tabItemToShow!==Mi.a.FLIGHT_SEARCH&&(this.focusedView=!1),this.isInMulticity=!1,this.selectorAnimation=!0,this.changeSection()}))}changeSection(t=!0){const{clientWidth:e}=this.document.body;this.previousHeight=this.rowContainer.nativeElement.getBoundingClientRect().height,this.containerStyle={height:this.previousHeight+"px"},e>1e3&&(this.imageStyle={"background-image":`url('${this.currentImg}')`}),Object(Rt.a)(0).subscribe(()=>{this.heightContainer=this.rowContainer.nativeElement.getBoundingClientRect().height,this.containerStyle={height:this.heightContainer+"px"},e>1e3&&(this.imageStyle={"background-image":`url('${this.currentImg}')`}),t&&this.chooseImage()})}chooseImage(){if(this.imageStyle={"background-image":"none"},this.imgAnimation=!1,Array.isArray(this.heroImages)&&this.heroImages.length>0){const t=Math.floor(Math.random()*this.heroImages.length);this.currentImg=this.cmsImagePipe.transform(this.heroImages[t].fields.file.url,Object.assign({fit:"fill",focus:"bottom_right",format:"webp",quality:70},this.imgDimensions));const e=new Image;e.onload=()=>{Object(Rt.a)(0).subscribe(()=>{this.imgAnimation=!0,this.imageStyle={"background-image":`url('${e.src}')`},Object(Rt.a)(700).subscribe(()=>{this.imgAnimation=!1})})},e.src=this.currentImg}}get imgDimensions(){return Object(i.L)(this.platformId)&&window.innerWidth<769?window.innerWidth<579?{width:578,height:1028}:{width:1024,height:576}:window.innerWidth<=1280?{width:1280,height:720}:{width:1920,height:1080}}getStorefrontData(){var t,e,n;return Object(c.a)(this,void 0,void 0,(function*(){yield this.storefrontSvc.ready;const i=this.storefrontSvc.storefrontData;this.heroImages=(null==i?void 0:i.heroImages)||[],this.cmsTabOptions=(null===(n=null===(e=null===(t=i.headerNavigation)||void 0===t?void 0:t.find(t=>{var e;return(null===(e=t.fields)||void 0===e?void 0:e.code)===Mi.c}))||void 0===e?void 0:e.fields.items)||void 0===n?void 0:n.map(t=>t.fields))||[],this.cmsTabOptions.length&&this.tabOptionsFormat(this.cmsTabOptions),this.activeItem=this.cmsTabOptions.findIndex(t=>Mi.a.FLIGHT_SEARCH===t.title)}))}startNavHandler(){this.selectedBookerChangeSub=this.bookerSearchSvc.selectedBookerTypeValue$.subscribe(t=>{if(t){const e=this.cmsTabOptions.findIndex(e=>t===e.title);e>=0&&this.changeItem(e),this.bookerSearchSvc.emitBookerSearchTypeValue(void 0)}})}tabOptionsFormat(t){this.tabOptions=t.map(t=>({title:t.title,image:t.image.fields.file.url}))}focusedBookerView(t){this.focusedView=t===dt.a.MULTI_CITY&&this.enableFocus,(t===dt.a.MULTI_CITY&&!this.isInMulticity||t!==dt.a.MULTI_CITY&&this.isInMulticity)&&this.changeSection(),this.isInMulticity=t===dt.a.MULTI_CITY}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(m.a),a.Tb(x.a),a.Tb(wi.a),a.Tb(i.e),a.Tb(a.G),a.Tb(a.y),a.Tb(O.a),a.Tb(xn.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-booker-search"]],viewQuery:function(t,e){var n;1&t&&a.Yc(Ya,!0),2&t&&a.Dc(n=a.ic())&&(e.rowContainer=n.first)},hostBindings:function(t,e){1&t&&a.hc("orientationchange",(function(t){return e.onOrientationChange(t)}),!1,a.Gc)},decls:13,vars:18,consts:[[1,"booker-search__container","mb-20","mb-lg-0","px-10","px-lg-0",3,"ngStyle","ngClass"],["class","booker-search__container__tablist container",4,"ngIf"],[1,"inputs-container",3,"ngStyle"],[1,"container"],["rowContainer",""],[1,"row","booker-search__row",3,"ngClass"],[1,"col-12"],[1,"booker-search__content",3,"ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],["class","py-4 mb-3",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"booker-search__container__tablist","container"],[1,"row"],[3,"activeTab","tabOptions","activeTabChange"],[3,"ngClass"],[3,"forceDesktopView","selectedTripType","expandedFormActive"],[1,"py-4","mb-3"],[3,"forceDesktopView","expandedFormActive"],[3,"forceDesktopView"],[1,"light"],[1,"h3"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Qc(1,ja,4,2,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3,4),a.Zb(5,"div",5),a.Zb(6,"div",6),a.Zb(7,"div",7),a.Qc(8,Ra,2,5,"div",8),a.Qc(9,Fa,2,2,"div",9),a.Qc(10,Ua,2,2,"div",9),a.Qc(11,Na,2,2,"div",9),a.Qc(12,Va,4,0,"div",10),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&t&&(a.sc("ngStyle",e.imageStyle)("ngClass",a.zc(10,Qa,e.focusedView,e.showDarksite&&"A"===(null==e.darksiteOptions?null:e.darksiteOptions.variant),e.showDarksite&&"B"===(null==e.darksiteOptions?null:e.darksiteOptions.variant),e.imgAnimation,e.cmsNationalSelection)),a.Hb(1),a.sc("ngIf",!e.focusedView),a.Hb(1),a.sc("ngStyle",e.containerStyle),a.Hb(3),a.sc("ngClass",a.vc(16,Ga,e.focusedView)),a.Hb(2),a.sc("ngSwitch",e.tabItemToShow),a.Hb(1),a.sc("ngSwitchCase",e.defaultTabItems.FLIGHT_SEARCH),a.Hb(1),a.sc("ngSwitchCase",e.defaultTabItems.FLIGHT_PLUS_HOTEL),a.Hb(1),a.sc("ngSwitchCase",e.defaultTabItems.HOTEL_SEARCH),a.Hb(1),a.sc("ngSwitchCase",e.defaultTabItems.MENU_BUSES))},directives:[i.x,i.r,i.u,i.y,i.z,i.A,Ft.a,Vo,ba,Oa,Ba],styles:['.inputs-container[_ngcontent-%COMP%]{transition:all .2s linear;-moz-transition:all .2s linear;-o-transition:all .2s linear;-webkit-transition:all .2s linear;margin-bottom:50px!important;position:relative}@media screen and (max-width:991px){.inputs-container[_ngcontent-%COMP%]{transition:all .1s linear;-moz-transition:all .1s linear;-o-transition:all .1s linear;-webkit-transition:all .1s linear}}.booker-search__container[_ngcontent-%COMP%]{margin-bottom:50px!important;position:relative;background-position:100% 100%;background-size:cover;background-color:var(--bg6)}.booker-search__container.image-fade[_ngcontent-%COMP%]:before{-webkit-animation:fadeIn .7s ease 0s normal forwards;animation:fadeIn .7s ease 0s normal forwards}@media screen and (max-width:991px){.booker-search__container.image-fade[_ngcontent-%COMP%]:before{-webkit-animation:fadeInMob .6s ease 0s normal forwards;animation:fadeInMob .6s ease 0s normal forwards}}@media screen and (max-width:575px){.booker-search__container.national-selection[_ngcontent-%COMP%]{padding-bottom:210px;background-position:bottom}}.booker-search__container[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;width:100%;height:100%;background-image:linear-gradient(90deg,rgba(0,0,0,.35),rgba(0,0,0,.35));background-position:50%;background-size:cover}.booker-search__container__tablist[_ngcontent-%COMP%]{padding-top:50px}@media screen and (max-width:800px){.booker-search__container__tablist[_ngcontent-%COMP%]{padding-top:36px}}.booker-search__row[_ngcontent-%COMP%]{margin-bottom:50px}.multi-city[_ngcontent-%COMP%]{padding-top:80px;padding-bottom:40px;margin-bottom:50px!important}@media screen and (max-width:991px){.multi-city[_ngcontent-%COMP%]{padding-top:34px;padding-bottom:40px}}.multi-city[_ngcontent-%COMP%]:before{background-image:linear-gradient(0deg,var(--bg4) 100%,transparent)}@-webkit-keyframes fadeIn{0%{background-color:var(--bg6);opacity:.7}40%{background-color:var(--bg6);opacity:.5}to{background-color:var(--bl9);opacity:.35}}@keyframes fadeIn{0%{background-color:var(--bg6);opacity:.7}40%{background-color:var(--bg6);opacity:.5}to{background-color:var(--bl9);opacity:.35}}@-webkit-keyframes fadeInMob{0%{background-color:var(--bl9);opacity:.35}20%{background-color:var(--bg6);opacity:.5}to{background-color:var(--bl9);opacity:.35}}@keyframes fadeInMob{0%{background-color:var(--bl9);opacity:.35}20%{background-color:var(--bg6);opacity:.5}to{background-color:var(--bl9);opacity:.35}}'],data:{animation:[Object(be.n)("fadeOut",[Object(be.m)("true => false",[Object(be.o)(_i.b)])])]}}),t})();var Ka=n("l1nF"),Wa=n("tiWE"),$a=n("LYOT"),Xa=n("0o02");function qa(t,e){if(1&t&&(a.Zb(0,"app-call-to-action",16),a.Zb(1,"div",17),a.Sc(2),a.Yb(),a.Yb()),2&t){const t=a.jc().$implicit;a.sc("callToAction",t),a.Hb(2),a.Uc(" ",t.text," ")}}function Ja(t,e){if(1&t&&(a.Xb(0),a.Qc(1,qa,3,2,"app-call-to-action",15),a.Wb()),2&t){const t=e.$implicit;a.Hb(1),a.sc("ngIf",!!t)}}function ts(t,e){if(1&t&&(a.Xb(0),a.Zb(1,"p",18),a.Sc(2),a.Yb(),a.Zb(3,"span",19),a.Sc(4),a.Yb(),a.Wb()),2&t){const t=e.$implicit;a.Hb(2),a.Uc(" ",t.title," "),a.Hb(2),a.Tc(t.description)}}function es(t,e){if(1&t&&(a.Zb(0,"app-call-to-action",20),a.Zb(1,"div",21),a.Sc(2),a.Ub(3,"em",22),a.Yb(),a.Yb()),2&t){const t=a.jc(2);a.sc("callToAction",null==t.generalInfo?null:t.generalInfo.callToAction.fields),a.Hb(2),a.Uc(" ",null==t.generalInfo?null:t.generalInfo.callToAction.fields.text," ")}}const ns=function(t){return{"mt-20":t}},is=function(t,e){return{typeA:t,typeB:e}};function os(t,e){if(1&t&&(a.Zb(0,"div",1),a.Zb(1,"div",2),a.Zb(2,"div",3),a.Zb(3,"div",4),a.Zb(4,"div",5),a.Ub(5,"em",6),a.Zb(6,"div"),a.Zb(7,"h5"),a.Sc(8),a.Yb(),a.Zb(9,"h3",7),a.Sc(10),a.Yb(),a.Yb(),a.Yb(),a.Ub(11,"div",8),a.kc(12,"richText"),a.Zb(13,"div",9),a.Qc(14,Ja,2,1,"ng-container",10),a.Yb(),a.Yb(),a.Zb(15,"div",11),a.Zb(16,"h5",12),a.Sc(17),a.Yb(),a.Qc(18,ts,5,2,"ng-container",10),a.Zb(19,"div",13),a.Qc(20,es,4,2,"app-call-to-action",14),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&t){const t=a.jc();a.sc("ngClass",a.vc(12,ns,t.showDarksite&&!!t.darksiteOptions&&"high"===(null==t.darksiteOptions?null:t.darksiteOptions.levelAlert))),a.Hb(2),a.sc("ngClass",a.wc(14,is,t.showDarksite&&!!t.darksiteOptions&&"A"===(null==t.darksiteOptions?null:t.darksiteOptions.variant),t.showDarksite&&!!t.darksiteOptions&&"B"===(null==t.darksiteOptions?null:t.darksiteOptions.variant))),a.Hb(3),a.sc("ngClass",null==t.generalInfo?null:t.generalInfo.headerTagIcon),a.Hb(3),a.Tc(null==t.generalInfo?null:t.generalInfo.text),a.Hb(2),a.Tc(null==t.generalInfo?null:t.generalInfo.title),a.Hb(1),a.sc("innerHtml",a.lc(12,10,null==t.generalInfo?null:t.generalInfo.longDescription),a.Ic),a.Hb(3),a.sc("ngForOf",t.infoCallToActions),a.Hb(3),a.Tc(null==t.generalInfo?null:t.generalInfo.headerTag),a.Hb(1),a.sc("ngForOf",t.lastReleases),a.Hb(2),a.sc("ngIf",!(null==t.generalInfo||!t.generalInfo.callToAction.fields))}}let as=(()=>{class t{constructor(t,e){this.contentful=t,this.locale=e,this.isMobile=!1,this.showDarksite=!1,this.lastReleases=[],this.infoCallToActions=[]}ngOnInit(){this.windowSize(),this.getDarksiteGroup("DARKSITE_PAGE").then(t=>{var e,n,i;const o=((null===(i=null===(n=null===(e=null==t?void 0:t.items)||void 0===e?void 0:e[0])||void 0===n?void 0:n.fields)||void 0===i?void 0:i.items)||[]).map(t=>t.fields);o.length&&(this.generalInfo="en-US"===this.locale?o[1]:o[0])}),this.getDarksiteGroup("DARK_SITE_LAST-NEWS").then(t=>{var e,n,i;const o=((null===(i=null===(n=null===(e=null==t?void 0:t.items)||void 0===e?void 0:e[0])||void 0===n?void 0:n.fields)||void 0===i?void 0:i.items)||[]).map(t=>t.fields);this.lastReleases=o}),this.getDarksiteGroup("DARK_SITE_CALL-TO-ACTIONS").then(t=>{var e,n,i;const o=((null===(i=null===(n=null===(e=null==t?void 0:t.items)||void 0===e?void 0:e[0])||void 0===n?void 0:n.fields)||void 0===i?void 0:i.items)||[]).map(t=>t.fields);this.infoCallToActions=o})}windowSize(){this.isMobile=window.innerWidth<=720}getDarksiteGroup(t){return this.contentful.getEntries({content_type:"itemsGroup","fields.code":t,include:10})}}return t.\u0275fac=function(e){return new(e||t)(a.Tb($a.a),a.Tb(a.y))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-informs-alert"]],inputs:{showDarksite:"showDarksite",darksiteOptions:"darksiteOptions"},decls:1,vars:1,consts:[["class","viva-informs mb-40",3,"ngClass",4,"ngIf"],[1,"viva-informs","mb-40",3,"ngClass"],[1,"container","px-20"],[1,"row","viva-card","shadow","py-20",3,"ngClass"],[1,"col-lg-8","col-12","first-card"],[1,"d-flex","flex-row","align-items-center"],[1,"icon-card",3,"ngClass"],[1,"m-0"],[3,"innerHtml"],[1,"d-flex","flex-row","pt-40","call-to-actions"],[4,"ngFor","ngForOf"],[1,"col-lg-4","col-12","second-card"],[1,"h5"],[1,"d-flex","flex-row","pt-40","justify-content-end"],["class","d-flex justify-content-end align-items-center",3,"callToAction",4,"ngIf"],[3,"callToAction",4,"ngIf"],[3,"callToAction"],[1,"viva-btn","tertiary","link","mr-20"],[1,"mb-0"],[1,"small-text"],[1,"d-flex","justify-content-end","align-items-center",3,"callToAction"],[1,"viva-btn","tertiary","link"],[1,"fas","fa-arrow-right"]],template:function(t,e){1&t&&a.Qc(0,os,21,17,"div",0),2&t&&a.sc("ngIf",!!e.generalInfo)},directives:[i.u,i.r,i.t,M.a],pipes:[Xa.a],styles:[".viva-informs[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{border-left:10px solid;box-sizing:border-box}@media screen and (max-width:720px){.viva-informs[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-right:0;margin-left:0}}.viva-informs[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .first-card[_ngcontent-%COMP%]{border-right:1px solid var(--gr20);padding:30px 30px 0}.viva-informs[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .first-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:var(--gr40)}.viva-informs[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .first-card[_ngcontent-%COMP%]   .icon-card.fas[_ngcontent-%COMP%]{font-size:32px;margin-right:24px}@media screen and (max-width:720px){.viva-informs[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .first-card[_ngcontent-%COMP%]{border-right:0}.viva-informs[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .first-card[_ngcontent-%COMP%]   .call-to-actions[_ngcontent-%COMP%]{flex-wrap:wrap}}.viva-informs[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .second-card[_ngcontent-%COMP%]{padding:40px 30px 0}.viva-informs[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .second-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--gr40);font-weight:700}.viva-informs[_ngcontent-%COMP%]   .row.typeA[_ngcontent-%COMP%]{border-left-color:var(--lg4)}.viva-informs[_ngcontent-%COMP%]   .row.typeA[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:var(--lg4)}.viva-informs[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .typeB[_ngcontent-%COMP%]{border-left-color:var(--bg6);background-color:var(--bg2)}.viva-informs[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .typeB[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:var(--bg6)}"]}),t})();const ss=["componentContainer"];let cs=(()=>{class t{constructor(t){this.componentFactoryResolver=t}ngOnInit(){if(this.component){const t=this.componentFactoryResolver.resolveComponentFactory(this.component);this.vcr.clear(),this.vcr.createComponent(t).instance.data=this.data}}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-hp-component-container"]],viewQuery:function(t,e){var n;1&t&&a.Nc(ss,!0,a.S),2&t&&a.Dc(n=a.ic())&&(e.vcr=n.first)},inputs:{component:"component",data:"data"},decls:2,vars:0,consts:[["componentContainer",""]],template:function(t,e){1&t&&a.Vb(0,null,0)},encapsulation:2}),t})();function rs(t,e){if(1&t&&a.Ub(0,"app-informs-alert",7),2&t){const t=a.jc();a.sc("showDarksite",t.showDarksite)("darksiteOptions",t.darksiteOptions)}}function ls(t,e){if(1&t&&a.Ub(0,"app-hp-component-container",10),2&t){const t=a.jc(2).$implicit,e=a.jc();a.sc("data",t.fields)("component",e.getComponent(t.fields.groupType))}}function ds(t,e){if(1&t&&(a.Xb(0),a.Qc(1,ls,1,2,"app-hp-component-container",9),a.Wb()),2&t){const t=a.jc().$implicit,e=a.jc();a.Hb(1),a.sc("ngIf",!!e.getComponent(t.fields.groupType))}}function gs(t,e){if(1&t&&(a.Xb(0),a.Qc(1,ds,2,1,"ng-container",8),a.Wb()),2&t){const t=e.$implicit,n=a.jc();a.Hb(1),a.sc("ngIf",n.isItemsGroup(t))}}const bs=function(t,e){return{"d-flex flex-column":t,"d-flex flex-column-reverse":e}},hs=[{path:"",component:(()=>{class t{constructor(t,e,n,i,o,a,s,c,r){this.storefrontService=t,this.platformId=e,this.document=n,this.location=i,this.alertSvc=o,this.loginSb=a,this.datalayerHome=s,this.seoService=c,this.csmConfig=r,this.homepageModules=[],this.componentRegistry=Ci,this.showDarksite=!1,this.init(),this.showDarksite=this.csmConfig.getSectionFeatureValue(p.b.GLOBAL,p.a.DarkSite),this.darksiteOptions=this.csmConfig._cmsConfig.globalSettings.darksite}ngOnInit(){Object(i.L)(this.platformId)&&(this.datalayerHome.flowTypeHome(),this.processHistoryState())}ngOnDestroy(){this.removeSeoContent()}init(){this.storefrontService.ready.then(()=>{this.setSeoContent(),this.fetchHomepageModules()})}setSeoContent(){const t=this.storefrontService.storefrontData;this.seoService.setJsonLD(t.jsonld),this.seoService.setMetaTags(t.metaTags),this.seoService.setOpenGraphMetaTags(t.openGraph),this.seoService.setCanonicalTag(t.canonicalTag),this.seoService.setHrefLinkTag(t.hreflang),this.seoService.setTitle(this.document.title)}removeSeoContent(){const t=this.storefrontService.storefrontData;this.seoService.setJsonLD({}),this.seoService.removeMetaTags(t.metaTags),this.seoService.removeOpenGraphMetaTags(t.openGraph),this.seoService.removeCanonicalTag(),this.seoService.removeHrefLinkTags(),this.seoService.setTitle("")}fetchHomepageModules(){var t;const e=null===(t=this.storefrontService.storefrontData)||void 0===t?void 0:t.modules;e&&(this.homepageModules=e)}isItemsGroup(t){return!!t&&"itemsGroup"===t.sys.contentType.sys.id}getComponent(t){return this.componentRegistry[t]}processHistoryState(){const t=this.location.getState();return!0===t.accountConfirmation?(this.loginSb.openModal(),this.setUserOnLoginForm(t),void this.alertSvc.ready.then(()=>{this.alertSvc.addCurrentAlert([{code:"SUCCESS_ACCOUNT_CONFIRMATION"}])})):!0===t.passwordReset?(this.loginSb.openModal(),this.setUserOnLoginForm(t),void this.alertSvc.ready.then(()=>{this.alertSvc.addCurrentAlert([{code:"SUCCESS_PASSWORD_RESET"}])})):void 0}setUserOnLoginForm(t){t.accountEmail&&this.loginSb.emitEmail(t.accountEmail)}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(m.a),a.Tb(a.G),a.Tb(i.e),a.Tb(i.o),a.Tb(Oi.a),a.Tb(yi.a),a.Tb(xi.a),a.Tb(Pi.a),a.Tb(O.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-home-page"]],decls:10,vars:7,consts:[[1,"home-page-container"],[3,"ngClass"],[3,"showDarksite","darksiteOptions",4,"ngIf"],[1,"container"],[1,"row"],[4,"ngFor","ngForOf"],[3,"homeModal"],[3,"showDarksite","darksiteOptions"],[4,"ngIf"],[3,"data","component",4,"ngIf"],[3,"data","component"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Ub(1,"app-alert-banner"),a.Zb(2,"div",1),a.Ub(3,"app-booker-search"),a.Qc(4,rs,1,2,"app-informs-alert",2),a.Yb(),a.Zb(5,"div",3),a.Ub(6,"div",4),a.Yb(),a.Qc(7,gs,2,1,"ng-container",5),a.Ub(8,"app-snackbar"),a.Ub(9,"app-expiration-modal",6),a.Yb()),2&t&&(a.Hb(2),a.sc("ngClass",a.wc(4,bs,e.showDarksite&&!!e.darksiteOptions,e.showDarksite&&!!e.darksiteOptions&&"high"===(null==e.darksiteOptions?null:e.darksiteOptions.levelAlert))),a.Hb(2),a.sc("ngIf",e.showDarksite&&(null==e.darksiteOptions?null:e.darksiteOptions.showAlert)),a.Hb(3),a.sc("ngForOf",e.homepageModules),a.Hb(2),a.sc("homeModal",!0))},directives:[ki.a,i.r,za,i.u,i.t,Ka.a,Wa.a,as,cs],styles:[".home-page-container[_ngcontent-%COMP%]{padding-top:76px}@media screen and (max-width:800px){.home-page-container[_ngcontent-%COMP%]{padding-top:60px}}"]}),t})(),data:{title:"TITLE_PAGE_HOMEPAGE",hideTitleSuffix:!0}}];let ps=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[o.k.forChild(hs)],o.k]}),t})();var us=n("pyej"),ms=n("9LZq"),fs=n("d0zJ"),vs=n("kpjh");let Cs=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[i.c,fs.a,vs.a]]}),t})();var Os=n("SLJM"),ys=n("xzb3"),xs=n("o5mt");let Ps=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[i.c,ys.a,fs.a,xs.a]]}),t})();var ks=n("Mnp9"),Ms=n("bSk5"),_s=n("JYGO");let ws=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[i.c,xs.a,ys.a,Ms.a,o.k,_s.a,fs.a]]}),t})(),Ss=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[i.c,fs.a,xs.a]]}),t})();var Ts=n("gKPg"),Ds=n("SOmf"),Is=n("wbuz");let As=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[i.c,ys.a,fs.a,xs.a,Is.a]]}),t})();var Ls=n("h3XU");let Hs=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[i.c,Ls.a,xs.a,fs.a]]}),t})(),Es=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},providers:[yn],imports:[[i.c,Ls.a,fs.a,Hs,xs.a,Tn.b]]}),t})(),Bs=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[i.c,ps,us.a,ms.a,Cs,Os.a,Ps,ks.a,ws,Ss,Ts.a,Ds.a,As,Es]]}),t})()},tiWE:function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var i=n("fXoL"),o=n("quSY"),a=n("PqYM"),s=n("l5mm"),c=n("wd/R"),r=n("h/S9"),l=n("6oyg"),d=n("ofXK"),g=n("JK/P"),b=n("CPX7"),h=n("y4Wf"),p=n("E50d"),u=n("tyNb"),m=n("FE/U"),f=n("ckWZ"),v=n("VXoX");const C=function(t){return{loading:t}};function O(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",8),i.Zb(1,"div",9),i.Sc(2),i.kc(3,"cmsTranslate"),i.Zb(4,"div",10),i.Sc(5),i.Yb(),i.Yb(),i.Zb(6,"div",11),i.Sc(7),i.kc(8,"cmsTranslate"),i.Yb(),i.Zb(9,"button",12),i.hc("click",(function(){return i.Hc(t),i.jc().keepSession()})),i.Zb(10,"span"),i.Sc(11),i.kc(12,"cmsTranslate"),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.jc();i.Hb(2),i.Uc(" ",i.lc(3,6,"BOOKER_LABEL_EXPIRATION-TIME")," "),i.Hb(3),i.Tc(t.countdown),i.Hb(2),i.Uc(" ",i.lc(8,8,"BOOKER_LABEL_EXPIRATION-SUPPORT")," "),i.Hb(2),i.sc("ngClass",i.vc(12,C,t.isLoading))("disabled",t.isLoading),i.Hb(2),i.Uc(" ",i.lc(12,10,"GLOBAL_ACTION_CONTINUE")," ")}}function y(t,e){1&t&&i.Vb(0)}function x(t,e){if(1&t&&(i.Zb(0,"a",17),i.Qc(1,y,1,0,"ng-container",18),i.Yb()),2&t){i.jc(3);const t=i.Ec(13);i.Hb(1),i.sc("ngTemplateOutlet",t)}}function P(t,e){1&t&&i.Vb(0)}function k(t,e){if(1&t&&(i.Zb(0,"a",19),i.Qc(1,P,1,0,"ng-container",18),i.Yb()),2&t){const t=i.jc(3),e=i.Ec(13);i.sc("href",t.appHomeLink,i.Kc),i.Hb(1),i.sc("ngTemplateOutlet",e)}}function M(t,e){if(1&t&&(i.Xb(0),i.Qc(1,x,2,1,"a",15),i.kc(2,"async"),i.Qc(3,k,2,2,"a",16),i.kc(4,"async"),i.Wb()),2&t){const t=i.jc(2);i.Hb(1),i.sc("ngIf",!1===i.lc(2,2,t.srcChannel.isAppChannel$)),i.Hb(2),i.sc("ngIf",!0===i.lc(4,4,t.srcChannel.isAppChannel$))}}function _(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",8),i.Zb(1,"div",11),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Zb(4,"button",13),i.hc("click",(function(){i.Hc(t);const e=i.jc();return e.homeModal?e.closeModal():e.updateSearch()})),i.Zb(5,"span"),i.Sc(6),i.kc(7,"cmsTranslate"),i.Yb(),i.Yb(),i.Qc(8,M,5,6,"ng-container",14),i.Yb()}if(2&t){const t=i.jc();i.Hb(2),i.Uc(" ",i.lc(3,5,"BOOKER_LABEL_EXPIRED-SUPPORT")," "),i.Hb(2),i.sc("ngClass",i.vc(9,C,t.isLoading))("disabled",t.isLoading),i.Hb(2),i.Uc(" ",i.lc(7,7,t.homeModal?"GLOBAL_ACTION_CONTINUE":"BOOKER_ACTION_UPDATE-SEARCH")," "),i.Hb(2),i.sc("ngIf",!t.homeModal)}}function w(t,e){1&t&&(i.Zb(0,"div",20),i.Zb(1,"span",21),i.Sc(2),i.kc(3,"cmsTranslate"),i.Yb(),i.Yb(),i.Ub(4,"div",22)),2&t&&(i.Hb(2),i.Uc(" ",i.lc(3,1,"BOOKER_ACTION_RETURN-HOMEPAGE")," "))}let S=(()=>{class t{constructor(t,e,n,a,s,c,r,d){this.modalSvc=t,this.basketSvc=e,this.basketApiSvc=n,this.bookingParams=a,this.router=s,this.route=c,this.srcChannel=r,this.document=d,this.remainingTimeInMinutes=10,this.showAlertBeforeExpire=!0,this.homeModal=!1,this.updateSearchEvt=new i.p,this.id="expiration-modal",this.isLoading=!1,this.minutesToLaunch=5,this.countdown=`0${this.minutesToLaunch}:00`,this.countdownSubscription=o.a.EMPTY,this.basketSubscription=o.a.EMPTY,this.appHomeLink="",this.appHomeLink=l.a.generateDynamicLinkForApp("",""+this.document.location.origin)}ngOnInit(){if(this.homeModal){const t=this.route.snapshot.queryParamMap;t.has("expirationModal")&&"true"===t.get("expirationModal")&&(this.router.navigate(["."],{relativeTo:this.route,queryParams:{expirationModal:null},queryParamsHandling:"merge"}),Object(a.a)(0).subscribe(()=>{this.modalSvc.open(this.id),this.isExpiredSession=!0}))}else this.forceExpiration?(this.remainingActivityTime=c().add(this.remainingTimeInMinutes,"minutes"),this.initCountDown()):this.basketSubscription=this.basketSvc.basket$.subscribe(t=>{if(this.basket=t,t&&t.status===r.d.Active&&t.remainingActivityTime){this.isExpiredSession=!1,this.isLoading=!1,this.countdownSubscription.closed||this.countdownSubscription.unsubscribe();const e=c(t.remainingActivityTime,"HH:mm:ss.fffffff");this.remainingActivityTime=c().add(e.minutes(),"minutes").add(e.seconds(),"seconds"),this.initCountDown()}else t&&t.status===r.d.Passive&&(this.modalSvc.open(this.id),this.isExpiredSession=!0,this.goManageFlowEndSession(),this.countdownSubscription.closed||this.countdownSubscription.unsubscribe())})}ngOnDestroy(){this.countdownSubscription.closed||this.countdownSubscription.unsubscribe(),this.basketSubscription.closed||this.basketSubscription.unsubscribe()}keepSession(){this.forceExpiration?(this.countdownSubscription.closed||this.countdownSubscription.unsubscribe(),this.remainingActivityTime=c().add(this.remainingTimeInMinutes,"minutes"),this.initCountDown(),this.closeModal()):(this.isLoading=!0,this.basketSvc.stopExpirationCountdown(),this.basketApiSvc.keepAliveBasket(this.basket.basketId).then(t=>{t?(this.countdownSubscription.closed||this.countdownSubscription.unsubscribe(),this.isLoading=!1,this.remainingActivityTime=c().add(15,"minutes"),this.initCountDown(),this.closeModal()):(this.isExpiredSession=!0,this.goManageFlowEndSession(),this.countdownSubscription.closed||this.countdownSubscription.unsubscribe())}).finally(()=>{this.basketSvc.updateBasketExpirationTime()}))}initCountDown(){let t=c.duration(this.remainingActivityTime.diff(c()).valueOf(),"milliseconds");this.countdownSubscription=Object(s.a)(1e3).subscribe(()=>{t=c.duration(t.asSeconds()-1,"seconds");const e=t.minutes(),n=t.seconds();this.countdown=`${e?e<10?"0"+e:e:"00"}:${n<10?"0"+n:n}`,t.minutes()<this.minutesToLaunch&&this.showAlertBeforeExpire&&this.modalSvc.open(this.id),(!t.minutes()&&!t.seconds()||this.remainingActivityTime.diff(c())<=0)&&(this.modalSvc.open(this.id),this.isExpiredSession=!0,this.goManageFlowEndSession(),this.countdownSubscription.unsubscribe())})}updateSearch(){this.isLoading=!0,this.basket&&this.basket.travel&&this.basket.travel.journeys&&this.basket.travel.passengers?this.bookingParams.getBasketBookingParams(this.basket).then(t=>{if(t){const e=this.bookingParams.createFlightSearchParams(t);this.router.url.includes("book/options")?this.router.navigate([],{relativeTo:this.route,queryParams:Object.assign({},e)}).then(()=>{window.location.reload()}):this.router.navigate(["book","options"],{queryParams:Object.assign({},e)})}else this.router.navigate([""])}):(this.updateSearchEvt.emit(),this.isLoading=!1,this.remainingActivityTime=c().add(this.remainingTimeInMinutes,"minutes"),this.initCountDown(),this.closeModal())}goManageFlowEndSession(){this.checkInFlow&&(this.closeModal(),this.router.navigate([""],{queryParams:{expirationModal:!0}}),this.basketSvc.clearBasket())}closeModal(){this.modalSvc.close(this.id)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(g.a),i.Tb(b.a),i.Tb(h.a),i.Tb(p.a),i.Tb(u.g),i.Tb(u.a),i.Tb(m.b),i.Tb(d.e))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-expiration-modal"]],inputs:{forceExpiration:"forceExpiration",remainingTimeInMinutes:"remainingTimeInMinutes",showAlertBeforeExpire:"showAlertBeforeExpire",checkInFlow:"checkInFlow",homeModal:"homeModal"},outputs:{updateSearchEvt:"updateSearchEvt"},decls:14,vars:10,consts:[[3,"id","dismissable"],[1,"expiration-modal"],[1,"expiration-modal-header"],[1,"subheader","mb-1"],[1,"h3"],["class","modal-content",4,"ngIf","ngIfElse"],["ExpiredSession",""],["homeLink",""],[1,"modal-content"],[1,"regular-text","gray","mb-2"],[1,"title","darker","d-inline"],[1,"regular-text","gray","mb-100"],["type","button",1,"viva-btn","primary-dark","w-100","d-block",3,"ngClass","disabled","click"],["type","button",1,"viva-btn","primary-dark","w-100","d-flex","justify-content-center","align-items-center","mb-3",3,"ngClass","disabled","click"],[4,"ngIf"],["routerLink","/","class","viva-btn tertiary",4,"ngIf"],["target","_self","rel","no-referrer no-opener","class","viva-btn tertiary",3,"href",4,"ngIf"],["routerLink","/",1,"viva-btn","tertiary"],[4,"ngTemplateOutlet"],["target","_self","rel","no-referrer no-opener",1,"viva-btn","tertiary",3,"href"],[1,"content"],[1,"mb-1"],[1,"line"]],template:function(t,e){if(1&t&&(i.Zb(0,"app-modal",0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"div",3),i.Sc(4),i.kc(5,"cmsTranslate"),i.Yb(),i.Zb(6,"div",4),i.Sc(7),i.kc(8,"cmsTranslate"),i.Yb(),i.Yb(),i.Qc(9,O,13,14,"div",5),i.Yb(),i.Yb(),i.Qc(10,_,9,11,"ng-template",null,6,i.Rc),i.Qc(12,w,5,3,"ng-template",null,7,i.Rc)),2&t){const t=i.Ec(11);i.sc("id",e.id)("dismissable",!1),i.Hb(4),i.Uc(" ",i.lc(5,6,e.isExpiredSession?"BOOKER_LABEL_ACTIVITY-ENDED":"BOOKER_LABEL_ACTIVITY-QUESTION")," "),i.Hb(3),i.Uc(" ",i.lc(8,8,e.isExpiredSession?"BOOKER_LABEL_SESSION-EXPIRED":"BOOKER_LABEL_ACTIVITY-ALERT")," "),i.Hb(2),i.sc("ngIf",!e.isExpiredSession)("ngIfElse",t)}},directives:[f.a,d.u,d.r,u.j,d.B],pipes:[v.a,d.b],styles:[".expiration-modal[_ngcontent-%COMP%]{width:380px;border-radius:5px;position:relative;box-sizing:border-box;box-shadow:0 0 50px 0 hsla(0,0%,55.3%,.07),0 1px 5px 0 rgba(95,95,95,.07);background-color:var(--wh1);overflow:hidden}@media screen and (max-width:800px){.expiration-modal[_ngcontent-%COMP%]{border-radius:0}}.expiration-modal-header[_ngcontent-%COMP%]{background-color:var(--bg4);padding:65px 30px 35px}.expiration-modal-header[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{color:var(--wh1)}.expiration-modal[_ngcontent-%COMP%]   .mb-100[_ngcontent-%COMP%]{margin-bottom:100px}.expiration-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:20px 30px 35px}.viva-btn.tertiary[_ngcontent-%COMP%]{height:auto;display:block;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:auto}.viva-btn.tertiary[_ngcontent-%COMP%] > .line[_ngcontent-%COMP%]{background-color:var(--gr20);height:3px}"]}),t})()}}]);