(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{m7F9:function(t,n,e){"use strict";e.d(n,"a",(function(){return Z}));var r=e("fXoL"),o=e("wd/R"),i=e("AytR"),s=e("ofXK"),c=e("R0Ic");const a=Object(c.f)([Object(c.n)("enter",[Object(c.m)(":enter",[Object(c.l)({opacity:0,height:0,transform:"translate3d(0, -100%, 0)"}),Object(c.e)(".5s cubic-bezier(0.165, 0.84, 0.44, 1)",Object(c.l)({opacity:1,height:"auto",transform:"translate3d(0, 0, 0)"}))]),Object(c.m)(":leave",[Object(c.l)({opacity:1,transform:"translate3d(0, 0, 0)"}),Object(c.e)(".5s cubic-bezier(0.165, 0.84, 0.44, 1)",Object(c.l)({opacity:0,height:0,transform:"translate3d(0, -100%, 0)"}))])]),Object(c.n)("slideAlert",[Object(c.k)("*",Object(c.l)({transform:"translateX({{position}}%)"}),{params:{position:0}})])]);var l=e("2Vo4"),g=e("quSY"),h=e("NXyV"),p=e("l5mm"),d=e("PqYM"),u=e("l7GE"),b=e("ZUHj");class O{constructor(t,n){this.observables=t,this.project=n}call(t,n){return n.subscribe(new C(t,this.observables,this.project))}}class C extends u.a{constructor(t,n,e){super(t),this.observables=n,this.project=e,this.toRespond=[];const r=n.length;this.values=new Array(r);for(let o=0;o<r;o++)this.toRespond.push(o);for(let o=0;o<r;o++){let t=n[o];this.add(Object(b.a)(this,t,t,o))}}notifyNext(t,n,e,r,o){this.values[e]=n;const i=this.toRespond;if(i.length>0){const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const n=[t,...this.values];this.project?this._tryProject(n):this.destination.next(n)}}_tryProject(t){let n;try{n=this.project.apply(this,t)}catch(e){return void this.destination.error(e)}this.destination.next(n)}}var P=e("pLZG"),f=e("IzEk"),m=e("lJxs"),M=e("w1tV"),_=e("128B"),x=e("BifP"),v=e("tyNb"),w=e("CJ36");function y(t,n){if(1&t&&r.Ub(0,"em",19),2&t){const t=r.jc().$implicit;r.sc("ngClass",t.icon)}}function A(t,n){if(1&t&&(r.Zb(0,"a",20),r.Sc(1),r.Yb()),2&t){const t=r.jc().$implicit;r.sc("href",t.linkUrl,r.Kc)("target",t.linkMode),r.Hb(1),r.Uc(" ",t.linkText," ")}}function j(t,n){if(1&t){const t=r.ac();r.Zb(0,"div",12),r.hc("press",(function(){return r.Hc(t),r.jc(2).paused.next(!0)}))("pressup",(function(){return r.Hc(t),r.jc(2).paused.next(!1)}))("mouseenter",(function(){return r.Hc(t),r.jc(2).paused.next(!0)}))("mouseleave",(function(){return r.Hc(t),r.jc(2).paused.next(!1)})),r.Zb(1,"div",13),r.Zb(2,"div",14),r.Zb(3,"div",15),r.Qc(4,y,1,1,"em",16),r.Sc(5),r.Yb(),r.Zb(6,"div",17),r.Sc(7),r.Qc(8,A,2,3,"a",18),r.Yb(),r.Yb(),r.Yb(),r.Yb()}if(2&t){const t=n.$implicit;r.sc("ngClass","alert-"+t.urgency),r.Hb(4),r.sc("ngIf",!!t.icon),r.Hb(1),r.Uc(" ",t.title," "),r.Hb(2),r.Uc(" ",t.message," "),r.Hb(1),r.sc("ngIf",t.linkText)}}const k=function(t,n,e){return{active:t,"opacity-8":n,"mr-0":e}};function I(t,n){if(1&t&&r.Ub(0,"span",23),2&t){const t=n.index,e=r.jc(3);r.sc("ngClass",r.xc(1,k,e.currentAlert===t,e.currentAlert!==t,t===e.totalAlerts-1))}}const T=function(){return[]};function Y(t,n){if(1&t){const t=r.ac();r.Zb(0,"div",21),r.hc("click",(function(){return r.Hc(t),r.jc(2).nextAlert()})),r.Qc(1,I,1,5,"span",22),r.Yb()}if(2&t){const t=r.jc(2);r.Hb(1),r.sc("ngForOf",r.uc(1,T).constructor(t.totalAlerts))}}const S=function(t,n){return{animated:t,"w-100":n}},H=function(t){return{position:t}},z=function(t,n){return{value:t,params:n}};function D(t,n){if(1&t){const t=r.ac();r.Zb(0,"div",1),r.Zb(1,"div",2),r.hc("swipeleft",(function(){return r.Hc(t),r.jc().nextAlert()}))("swiperight",(function(){return r.Hc(t),r.jc().previousAlert()})),r.Qc(2,j,9,5,"div",3),r.Yb(),r.Zb(3,"div",4),r.Zb(4,"div",5),r.Zb(5,"div",6),r.Zb(6,"div",7),r.Qc(7,Y,2,2,"div",8),r.Zb(8,"div",9),r.Zb(9,"button",10),r.hc("click",(function(){return r.Hc(t),r.jc().closeAlerts()})),r.Ub(10,"em",11),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()}if(2&t){const t=r.jc();r.sc("@enter",void 0),r.Hb(1),r.sc("ngClass",r.wc(5,S,t.isAnimated,1===t.carrouselAlerts.length))("@slideAlert",r.wc(10,z,t.position,r.vc(8,H,t.position))),r.Hb(1),r.sc("ngForOf",t.carrouselAlerts),r.Hb(5),r.sc("ngIf",t.totalAlerts>1)}}let Z=(()=>{class t{constructor(t,n,e,r){this.platformId=t,this.cmsConfig=n,this.router=e,this.localeService=r,this.alertsCacheKey=i.g.cacheKeys.ALERTS_EXPIRATION,this.alerts=[],this.carrouselAlerts=[],this.progress=0,this.activeAlert=0,this.showBanner=!1,this.expirationData={},this.sections={homepage:"/","booking-confirmation":"/book/confirmation","boarding-pass":"boarding-pass",manage:"manage","flight-status":"flight-status","content-page":"dynamic"},this.paused=new l.a(!1),this.onCompleteInterval=g.a.EMPTY,this.isAnimated=!0,this.currentAlert=0,this.isMobile=!1,this.totalAlerts=1,this.activeSeconds=5}ngOnInit(){this.loadAlerts(),this.windowSize()}ngOnDestroy(){this.onCompleteInterval.closed||this.onCompleteInterval.unsubscribe()}loadAlerts(){let t;this.currentPath=this.router.url.split("?")[0].split("/").filter(t=>t),Object(s.L)(this.platformId)&&(t=localStorage.getItem(this.alertsCacheKey)),t&&(this.expirationData=JSON.parse(t)),this.alerts=[],this.cmsConfig._cmsConfig.alerts.forEach(t=>{const n=this.standardizeKey(t.fields.displayType);let e=!0,r=!1,i=!1;if(n===K.Time&&this.expirationData){const n=this.expirationData[t.fields.code];n&&(o(n).diff(o())<=0?(delete this.expirationData[t.fields.code],Object(s.L)(this.platformId)&&localStorage.setItem(this.alertsCacheKey,JSON.stringify(this.expirationData))):e=!1)}const c=t.fields.sections.map(t=>this.standardizeKey(t));c&&c.forEach(t=>{const n=this.sections[t].split("/").filter(t=>t);this.checkPath(n)&&(r=!0)});const a=t.fields.locale;a&&a.includes(this.localeService.getAppLocale())&&(i=!0),e&&r&&i&&this.alerts.push({displayType:n,code:t.fields.code,icon:t.fields.icon,linkMode:t.fields.linkMode,linkText:t.fields.linkText,linkUrl:t.fields.linkUrl,locale:a,message:t.fields.message,sections:c,title:t.fields.title,urgency:this.standardizeKey(t.fields.urgency),timeInDays:t.fields.timeInDays})}),Array.isArray(this.alerts)&&this.alerts&&this.alerts.length>1?(this.generateCarrouselAlerts(),this.showBanner=!0,this.nextAlert()):(this.carrouselAlerts=this.alerts,this.showBanner=!0),this.totalAlerts=this.alerts.length}startInterval(){this.sliderSubscription&&this.onCompleteInterval.unsubscribe(),this.sliderSubscription=this.getPausableTimer(this.activeSeconds,this.paused),this.onCompleteInterval=this.sliderSubscription.completeTimer.subscribe(()=>this.nextAlert())}getPausableTimer(t,n){const e=Object(h.a)(()=>{let e=1;return Object(p.a)(1e3).pipe(function(...t){return n=>{let e;return"function"==typeof t[t.length-1]&&(e=t.pop()),n.lift(new O(t,e))}}(n),Object(P.a)(([t,n])=>!n),Object(f.a)(t),Object(m.a)(()=>e++))}).pipe(Object(M.a)());return{stepTimer:e,completeTimer:e.pipe(Object(_.a)((t,n)=>n))}}generateCarrouselAlerts(){let t=1;for(;this.carrouselAlerts.length<3;)this.carrouselAlerts.push(this.alerts[t]),this.alerts[t+1]?t++:t=0}checkPath(t){if(this.currentPath&&!this.currentPath.length&&t&&!t.length)return!0;if(this.currentPath.length){if(1===t.length&&this.currentPath[0]===t[0])return!0;if(2===t.length&&this.currentPath.length>=2&&this.currentPath[0]===t[0]&&this.currentPath[1]===t[1])return!0}return!(!t.includes(this.sections["content-page"])||!this.isDinamicModule)}previousAlert(){this.isAnimated=!0,this.position=this.position+100/3,Object(d.a)(300).subscribe(()=>{this.isAnimated=!1,this.position=-100/3,0===this.currentAlert?this.currentAlert=this.alerts.length-1:this.currentAlert--,this.carrouselAlerts.unshift(this.alerts[this.currentAlert]),this.carrouselAlerts.pop()}),this.startInterval()}nextAlert(){this.isAnimated=!0,this.position=this.position-100/3,Object(d.a)(300).subscribe(()=>{this.isAnimated=!1,this.position=-100/3,this.carrouselAlerts.shift(),this.carrouselAlerts.push(this.alerts[this.currentAlert]),this.currentAlert+1<this.alerts.length?this.currentAlert++:this.currentAlert=0}),this.startInterval()}closeAlerts(){if(this.alerts[this.activeAlert].displayType===K.Time){const t=o().add(this.alerts[this.activeAlert].timeInDays,"days").format("YYYY-MM-DD HH:mm:ss");this.expirationData[this.alerts[this.activeAlert].code]=t,Object(s.L)(this.platformId)&&localStorage.setItem(this.alertsCacheKey,JSON.stringify(this.expirationData))}this.showBanner=!1}standardizeKey(t){return(null==t?void 0:t.toLowerCase().replace(/ /g,"-"))||null}windowSize(){this.isMobile=(window,!1)}goToAlert(t){}}return t.\u0275fac=function(n){return new(n||t)(r.Tb(r.G),r.Tb(x.a),r.Tb(v.g),r.Tb(w.a))},t.\u0275cmp=r.Nb({type:t,selectors:[["app-alert-banner"]],inputs:{isDinamicModule:"isDinamicModule"},decls:1,vars:1,consts:[["class","alert-banner",4,"ngIf"],[1,"alert-banner"],[1,"alert-banner-wrapper",3,"ngClass","swipeleft","swiperight"],["class","alert-banner-container d-flex justify-content-between",3,"ngClass","press","pressup","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"container","controls-wrapper"],[1,"row","w-100"],[1,"col-12"],[1,"indicators"],["class","d-flex align-items-center cursor-pointer",3,"click",4,"ngIf"],[1,"close","opacity-5"],[1,"px-0","ml-md-2",3,"click"],[1,"fas","fa-times"],[1,"alert-banner-container","d-flex","justify-content-between",3,"ngClass","press","pressup","mouseenter","mouseleave"],[1,"container"],[1,"content","d-md-flex","align-items-baseline","flex-column","flex-lg-row","px-20","px-lg-0"],[1,"title","mr-1"],["class","mr-lg-2 mr-1",3,"ngClass",4,"ngIf"],[1,"regular-text"],["class","link ml-lg-1 d-block d-md-inline",3,"href","target",4,"ngIf"],[1,"mr-lg-2","mr-1",3,"ngClass"],[1,"link","ml-lg-1","d-block","d-md-inline",3,"href","target"],[1,"d-flex","align-items-center","cursor-pointer",3,"click"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(t,n){1&t&&r.Qc(0,D,11,13,"div",0),2&t&&r.sc("ngIf",n.showBanner&&!(null==n.carrouselAlerts||!n.carrouselAlerts.length))},directives:[s.u,s.r,s.t],styles:[".alert-banner[_ngcontent-%COMP%]{width:100%;overflow-x:hidden;position:relative}.alert-banner-wrapper[_ngcontent-%COMP%]{width:300%;display:flex;position:-webkit-sticky;position:sticky;top:76px;z-index:9;min-height:42px}.alert-banner-wrapper.animated[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.165,.84,.44,1)}@media screen and (max-width:1024px){.alert-banner-wrapper[_ngcontent-%COMP%]{height:65px}}@media screen and (max-width:720px){.alert-banner-wrapper[_ngcontent-%COMP%]{height:85px;top:60px}}.alert-banner-container[_ngcontent-%COMP%]{width:100%}@media screen and (max-width:800px){.alert-banner-container[_ngcontent-%COMP%]{flex-direction:column-reverse}}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:relative}@media screen and (max-width:800px){.container[_ngcontent-%COMP%]{padding:0;flex-direction:column;height:100%;justify-content:center;align-items:baseline}}.title[_ngcontent-%COMP%]{white-space:pre}.title[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]{font-size:17px}@media screen and (max-width:991px){.title[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]{font-size:15px}}@media screen and (max-width:991px){.title[_ngcontent-%COMP%]{font-size:12px}}.regular-text[_ngcontent-%COMP%]{line-height:1.2;margin-right:80px;padding:10px 0}.regular-text[_ngcontent-%COMP%] > .link[_ngcontent-%COMP%]{font-weight:700;text-decoration:none}@media screen and (max-width:991px){.regular-text[_ngcontent-%COMP%]{font-size:12px;margin-right:0;padding:0}}.controls-wrapper[_ngcontent-%COMP%]{max-height:100%;height:100%;position:absolute;top:0;left:0;right:0;bottom:0}@media screen and (max-width:820px){.controls-wrapper[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%]{height:100%;min-height:100%}}.indicators[_ngcontent-%COMP%]{display:flex;position:absolute;top:50%;right:0;transform:translateY(-50%);z-index:9}@media screen and (max-width:820px){.indicators[_ngcontent-%COMP%]{right:5px;top:auto;height:100%;transform:none;display:flex;flex-direction:column-reverse;justify-content:space-between;align-items:flex-end;padding-top:10px;padding-bottom:10px}}.indicators[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:5px;width:5px;will-change:width;border-radius:10px;display:block;background:var(--bg6);transition:all .3s cubic-bezier(.165,.84,.44,1)}.indicators[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:last-child){margin-right:4px}.indicators[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]{width:10px}.close[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:16px;height:16px;background:none;cursor:pointer;border:none}.close[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:17px;color:var(--bg6)}.close[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:focus{outline:none}.alert-2[_ngcontent-%COMP%]{background-color:var(--sc-m2)}.alert-2[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%], .alert-2[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border-color:#4f905f}.alert-2[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   em[_ngcontent-%COMP%], .alert-2[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:rgba(var(--bg6-rgb),.5)}.alert-2[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .regular-text[_ngcontent-%COMP%] > .link[_ngcontent-%COMP%], .alert-2[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--bg6)}.alert-2[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .regular-text[_ngcontent-%COMP%]{color:var(--gr60)}.alert-3[_ngcontent-%COMP%]{background-color:var(--sc-i2)}.alert-3[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%], .alert-3[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border-color:#7b8c61}.alert-3[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   em[_ngcontent-%COMP%], .alert-3[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:rgba(var(--bg6-rgb),.5)}.alert-3[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .regular-text[_ngcontent-%COMP%] > .link[_ngcontent-%COMP%], .alert-3[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--bg6)}.alert-3[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .regular-text[_ngcontent-%COMP%] > .link[_ngcontent-%COMP%] > em[_ngcontent-%COMP%], .alert-3[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]{color:var(--sc-oy4)}.alert-3[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .regular-text[_ngcontent-%COMP%]{color:var(--gr60)}.alert-4[_ngcontent-%COMP%]{background-color:var(--sc-c2)}.alert-4[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%], .alert-4[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border-color:var(--sc-c4)}.alert-4[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   em[_ngcontent-%COMP%], .alert-4[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:rgba(var(--sc-c6-rgb),.5)}.alert-4[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .regular-text[_ngcontent-%COMP%], .alert-4[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .regular-text[_ngcontent-%COMP%] > .link[_ngcontent-%COMP%], .alert-4[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--sc-c6)}.alert-1[_ngcontent-%COMP%]{background-color:var(--wh1)}.alert-1[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%], .alert-1[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border-color:rgba(var(--bg6-rgb),.5)}.alert-1[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   em[_ngcontent-%COMP%], .alert-1[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:rgba(var(--bg6-rgb),.5)}.alert-1[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .regular-text[_ngcontent-%COMP%] > .link[_ngcontent-%COMP%], .alert-1[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--sc-c6)}.alert-1[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .regular-text[_ngcontent-%COMP%]{color:var(--gr60)}@media screen and (max-width:800px){.container[_ngcontent-%COMP%]   .container-controls[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;height:20px}}"],data:{animation:[a.animation]}}),t})();var K=function(t){return t.Time="time",t.Session="session",t}({})},pyej:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e("ofXK"),o=e("jhN1"),i=e("fXoL");let s=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(n){return new(n||t)},imports:[[r.c,o.e]]}),t})()}}]);